var Rw=Object.defineProperty;var Dw=(t,e,n)=>e in t?Rw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vi=(t,e,n)=>(Dw(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Me(){}function Ft(t,e){for(const n in e)t[n]=e[n];return t}function uh(t){return t()}function Oc(){return Object.create(null)}function vt(t){t.forEach(uh)}function ct(t){return typeof t=="function"}function Oe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function sh(t,e){return t!=t?e==e:t!==e}function Ww(t){return Object.keys(t).length===0}function Ll(t,...e){if(t==null){for(const r of e)r(void 0);return Me}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ue(t){let e;return Ll(t,n=>e=n)(),e}function de(t,e,n){t.$$.on_destroy.push(Ll(e,n))}function Wt(t,e,n,r){if(t){const l=fh(t,e,n,r);return t[0](l)}}function fh(t,e,n,r){return t[1]&&r?Ft(n.ctx.slice(),t[1](r(e))):n.ctx}function Bt(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const u=[],s=Math.max(e.dirty.length,l.length);for(let f=0;f<s;f+=1)u[f]=e.dirty[f]|l[f];return u}return e.dirty|l}return e.dirty}function Xt(t,e,n,r,l,u){if(l){const s=fh(e,n,r,u);t.p(s,l)}}function Yt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function xs(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ar(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function Bw(t){const e={};for(const n in t)e[n]=!0;return e}function zc(t){return t??""}function zn(t,e,n){return t.set(n),e}function xt(t){return t&&ct(t.destroy)?t.destroy:Me}const Xw=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ce(t,e){t.appendChild(e)}function ee(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function Yw(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function ze(t){return document.createElement(t)}function Xe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Gt(t){return document.createTextNode(t)}function He(){return Gt(" ")}function _t(){return Gt("")}function De(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function A(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Fw=["width","height"];function cr(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&Fw.indexOf(r)===-1?t[r]=e[r]:A(t,r,e[r])}function Vw(t){return Array.from(t.childNodes)}function Xi(t,e){e=""+e,t.data!==e&&(t.data=e)}function We(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let rl;function Kw(){if(rl===void 0){rl=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{rl=!0}}return rl}function Uw(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=ze("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const l=Kw();let u;return l?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",u=De(window,"message",s=>{s.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{u=De(r.contentWindow,"resize",e),e()}),Ce(t,r),()=>{(l||u&&r.contentWindow)&&u(),$(r)}}function Be(t,e,n){t.classList.toggle(e,!!n)}function xw(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}class Gw{constructor(e=!1){vi(this,"is_svg",!1);vi(this,"e");vi(this,"n");vi(this,"t");vi(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=Xe(n.nodeName):this.e=ze(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)ee(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach($)}}function pl(t,e){return new t(e)}let Zr;function xr(t){Zr=t}function vr(){if(!Zr)throw new Error("Function called outside component initialization");return Zr}function lo(t){vr().$$.on_mount.push(t)}function Gs(t){vr().$$.on_destroy.push(t)}function Rl(){const t=vr();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const u=xw(e,n,{cancelable:r});return l.slice().forEach(s=>{s.call(t,u)}),!u.defaultPrevented}return!0}}function Jr(t,e){return vr().$$.context.set(t,e),e}function Qr(t){return vr().$$.context.get(t)}function qw(t){return vr().$$.context.has(t)}function tt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const rr=[],Vn=[];let lr=[];const Hc=[],Zw=Promise.resolve();let zs=!1;function Jw(){zs||(zs=!0,Zw.then(ah))}function Sl(t){lr.push(t)}const bs=new Set;let nr=0;function ah(){if(nr!==0)return;const t=Zr;do{try{for(;nr<rr.length;){const e=rr[nr];nr++,xr(e),Qw(e.$$)}}catch(e){throw rr.length=0,nr=0,e}for(xr(null),rr.length=0,nr=0;Vn.length;)Vn.pop()();for(let e=0;e<lr.length;e+=1){const n=lr[e];bs.has(n)||(bs.add(n),n())}lr.length=0}while(rr.length);for(;Hc.length;)Hc.pop()();zs=!1,bs.clear(),xr(t)}function Qw(t){if(t.fragment!==null){t.update(),vt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Sl)}}function jw(t){const e=[],n=[];lr.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),lr=e}const ml=new Set;let Ni;function gt(){Ni={r:0,c:[],p:Ni}}function mt(){Ni.r||vt(Ni.c),Ni=Ni.p}function J(t,e){t&&t.i&&(ml.delete(t),t.i(e))}function ne(t,e,n,r){if(t&&t.o){if(ml.has(t))return;ml.add(t),Ni.c.push(()=>{ml.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Tt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Di(t,e){ne(t,1,1,()=>{e.delete(t.key)})}function Wi(t,e,n,r,l,u,s,f,a,d,h,g){let m=t.length,y=u.length,v=m;const p={};for(;v--;)p[t[v].key]=v;const M=[],w=new Map,z=new Map,k=[];for(v=y;v--;){const H=g(l,u,v),L=n(H);let W=s.get(L);W?r&&k.push(()=>W.p(H,e)):(W=d(L,H),W.c()),w.set(L,M[v]=W),L in p&&z.set(L,Math.abs(v-p[L]))}const C=new Set,P=new Set;function O(H){J(H,1),H.m(f,h),s.set(H.key,H),h=H.first,y--}for(;m&&y;){const H=M[y-1],L=t[m-1],W=H.key,x=L.key;H===L?(h=H.first,m--,y--):w.has(x)?!s.has(W)||C.has(W)?O(H):P.has(x)?m--:z.get(W)>z.get(x)?(P.add(W),O(H)):(C.add(x),m--):(a(L,s),m--)}for(;m--;){const H=t[m];w.has(H.key)||a(H,s)}for(;y;)O(M[y-1]);return vt(k),M}function li(t,e){const n={},r={},l={$$scope:1};let u=t.length;for(;u--;){const s=t[u],f=e[u];if(f){for(const a in s)a in f||(r[a]=1);for(const a in f)l[a]||(n[a]=f[a],l[a]=1);t[u]=f}else for(const a in s)l[a]=1}for(const s in r)s in n||(n[s]=void 0);return n}function dr(t){return typeof t=="object"&&t!==null?t:{}}function be(t){t&&t.c()}function ye(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),Sl(()=>{const u=t.$$.on_mount.map(uh).filter(ct);t.$$.on_destroy?t.$$.on_destroy.push(...u):vt(u),t.$$.on_mount=[]}),l.forEach(Sl)}function we(t,e){const n=t.$$;n.fragment!==null&&(jw(n.after_update),vt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function $w(t,e){t.$$.dirty[0]===-1&&(rr.push(t),Jw(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Te(t,e,n,r,l,u,s=null,f=[-1]){const a=Zr;xr(t);const d=t.$$={fragment:null,ctx:[],props:u,update:Me,not_equal:l,bound:Oc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Oc(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};s&&s(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},(g,m,...y)=>{const v=y.length?y[0]:m;return d.ctx&&l(d.ctx[g],d.ctx[g]=v)&&(!d.skip_bound&&d.bound[g]&&d.bound[g](v),h&&$w(t,g)),m}):[],d.update(),h=!0,vt(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){const g=Vw(e.target);d.fragment&&d.fragment.l(g),g.forEach($)}else d.fragment&&d.fragment.c();e.intro&&J(t.$$.fragment),ye(t,e.target,e.anchor),ah()}xr(a)}class Ie{constructor(){vi(this,"$$");vi(this,"$$set")}$destroy(){we(this,1),this.$destroy=Me}$on(e,n){if(!ct(n))return Me;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Ww(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const eb="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(eb);const ir=[];function Mn(t,e){return{subscribe:Ae(t,e).subscribe}}function Ae(t,e=Me){let n;const r=new Set;function l(f){if(Oe(t,f)&&(t=f,n)){const a=!ir.length;for(const d of r)d[1](),ir.push(d,t);if(a){for(let d=0;d<ir.length;d+=2)ir[d][0](ir[d+1]);ir.length=0}}}function u(f){l(f(t))}function s(f,a=Me){const d=[f,a];return r.add(d),r.size===1&&(n=e(l,u)||Me),f(t),()=>{r.delete(d),r.size===0&&n&&(n(),n=null)}}return{set:l,update:u,subscribe:s}}function hr(t,e,n){const r=!Array.isArray(t),l=r?[t]:t;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const u=e.length<2;return Mn(n,(s,f)=>{let a=!1;const d=[];let h=0,g=Me;const m=()=>{if(h)return;g();const v=e(r?d[0]:d,s,f);u?s(v):g=ct(v)?v:Me},y=l.map((v,p)=>Ll(v,M=>{d[p]=M,h&=~(1<<p),a&&m()},()=>{h|=1<<p}));return a=!0,m(),function(){vt(y),g(),a=!1}})}function je(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=je(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var tb={value:()=>{}};function Dl(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _l(n)}function _l(t){this._=t}function nb(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",l=n.indexOf(".");if(l>=0&&(r=n.slice(l+1),n=n.slice(0,l)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_l.prototype=Dl.prototype={constructor:_l,on:function(t,e){var n=this._,r=nb(t+"",n),l,u=-1,s=r.length;if(arguments.length<2){for(;++u<s;)if((l=(t=r[u]).type)&&(l=ib(n[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<s;)if(l=(t=r[u]).type)n[l]=Nc(n[l],t.name,e);else if(e==null)for(l in n)n[l]=Nc(n[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _l(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var n=new Array(l),r=0,l,u;r<l;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],r=0,l=u.length;r<l;++r)u[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],l=0,u=r.length;l<u;++l)r[l].value.apply(e,n)}};function ib(t,e){for(var n=0,r=t.length,l;n<r;++n)if((l=t[n]).name===e)return l.value}function Nc(t,e,n){for(var r=0,l=t.length;r<l;++r)if(t[r].name===e){t[r]=tb,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Hs="http://www.w3.org/1999/xhtml";const Lc={svg:"http://www.w3.org/2000/svg",xhtml:Hs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wl(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Lc.hasOwnProperty(e)?{space:Lc[e],local:t}:t}function rb(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Hs&&e.documentElement.namespaceURI===Hs?e.createElement(t):e.createElementNS(n,t)}}function ob(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ch(t){var e=Wl(t);return(e.local?ob:rb)(e)}function lb(){}function qs(t){return t==null?lb:function(){return this.querySelector(t)}}function ub(t){typeof t!="function"&&(t=qs(t));for(var e=this._groups,n=e.length,r=new Array(n),l=0;l<n;++l)for(var u=e[l],s=u.length,f=r[l]=new Array(s),a,d,h=0;h<s;++h)(a=u[h])&&(d=t.call(a,a.__data__,h,u))&&("__data__"in a&&(d.__data__=a.__data__),f[h]=d);return new an(r,this._parents)}function sb(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function fb(){return[]}function dh(t){return t==null?fb:function(){return this.querySelectorAll(t)}}function ab(t){return function(){return sb(t.apply(this,arguments))}}function cb(t){typeof t=="function"?t=ab(t):t=dh(t);for(var e=this._groups,n=e.length,r=[],l=[],u=0;u<n;++u)for(var s=e[u],f=s.length,a,d=0;d<f;++d)(a=s[d])&&(r.push(t.call(a,a.__data__,d,s)),l.push(a));return new an(r,l)}function hh(t){return function(){return this.matches(t)}}function gh(t){return function(e){return e.matches(t)}}var db=Array.prototype.find;function hb(t){return function(){return db.call(this.children,t)}}function gb(){return this.firstElementChild}function mb(t){return this.select(t==null?gb:hb(typeof t=="function"?t:gh(t)))}var _b=Array.prototype.filter;function yb(){return Array.from(this.children)}function wb(t){return function(){return _b.call(this.children,t)}}function bb(t){return this.selectAll(t==null?yb:wb(typeof t=="function"?t:gh(t)))}function vb(t){typeof t!="function"&&(t=hh(t));for(var e=this._groups,n=e.length,r=new Array(n),l=0;l<n;++l)for(var u=e[l],s=u.length,f=r[l]=[],a,d=0;d<s;++d)(a=u[d])&&t.call(a,a.__data__,d,u)&&f.push(a);return new an(r,this._parents)}function mh(t){return new Array(t.length)}function pb(){return new an(this._enter||this._groups.map(mh),this._parents)}function kl(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}kl.prototype={constructor:kl,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Sb(t){return function(){return t}}function kb(t,e,n,r,l,u){for(var s=0,f,a=e.length,d=u.length;s<d;++s)(f=e[s])?(f.__data__=u[s],r[s]=f):n[s]=new kl(t,u[s]);for(;s<a;++s)(f=e[s])&&(l[s]=f)}function Eb(t,e,n,r,l,u,s){var f,a,d=new Map,h=e.length,g=u.length,m=new Array(h),y;for(f=0;f<h;++f)(a=e[f])&&(m[f]=y=s.call(a,a.__data__,f,e)+"",d.has(y)?l[f]=a:d.set(y,a));for(f=0;f<g;++f)y=s.call(t,u[f],f,u)+"",(a=d.get(y))?(r[f]=a,a.__data__=u[f],d.delete(y)):n[f]=new kl(t,u[f]);for(f=0;f<h;++f)(a=e[f])&&d.get(m[f])===a&&(l[f]=a)}function Cb(t){return t.__data__}function Ab(t,e){if(!arguments.length)return Array.from(this,Cb);var n=e?Eb:kb,r=this._parents,l=this._groups;typeof t!="function"&&(t=Sb(t));for(var u=l.length,s=new Array(u),f=new Array(u),a=new Array(u),d=0;d<u;++d){var h=r[d],g=l[d],m=g.length,y=Mb(t.call(h,h&&h.__data__,d,r)),v=y.length,p=f[d]=new Array(v),M=s[d]=new Array(v),w=a[d]=new Array(m);n(h,g,p,M,w,y,e);for(var z=0,k=0,C,P;z<v;++z)if(C=p[z]){for(z>=k&&(k=z+1);!(P=M[k])&&++k<v;);C._next=P||null}}return s=new an(s,r),s._enter=f,s._exit=a,s}function Mb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Pb(){return new an(this._exit||this._groups.map(mh),this._parents)}function Tb(t,e,n){var r=this.enter(),l=this,u=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),n==null?u.remove():n(u),r&&l?r.merge(l).order():l}function Ib(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,l=n.length,u=r.length,s=Math.min(l,u),f=new Array(l),a=0;a<s;++a)for(var d=n[a],h=r[a],g=d.length,m=f[a]=new Array(g),y,v=0;v<g;++v)(y=d[v]||h[v])&&(m[v]=y);for(;a<l;++a)f[a]=n[a];return new an(f,this._parents)}function Ob(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],l=r.length-1,u=r[l],s;--l>=0;)(s=r[l])&&(u&&s.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(s,u),u=s);return this}function zb(t){t||(t=Hb);function e(g,m){return g&&m?t(g.__data__,m.__data__):!g-!m}for(var n=this._groups,r=n.length,l=new Array(r),u=0;u<r;++u){for(var s=n[u],f=s.length,a=l[u]=new Array(f),d,h=0;h<f;++h)(d=s[h])&&(a[h]=d);a.sort(e)}return new an(l,this._parents).order()}function Hb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Nb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Lb(){return Array.from(this)}function Rb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],l=0,u=r.length;l<u;++l){var s=r[l];if(s)return s}return null}function Db(){let t=0;for(const e of this)++t;return t}function Wb(){return!this.node()}function Bb(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var l=e[n],u=0,s=l.length,f;u<s;++u)(f=l[u])&&t.call(f,f.__data__,u,l);return this}function Xb(t){return function(){this.removeAttribute(t)}}function Yb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fb(t,e){return function(){this.setAttribute(t,e)}}function Vb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Kb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Ub(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xb(t,e){var n=Wl(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Yb:Xb:typeof e=="function"?n.local?Ub:Kb:n.local?Vb:Fb)(n,e))}function _h(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Gb(t){return function(){this.style.removeProperty(t)}}function qb(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Zb(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Jb(t,e,n){return arguments.length>1?this.each((e==null?Gb:typeof e=="function"?Zb:qb)(t,e,n??"")):gr(this.node(),t)}function gr(t,e){return t.style.getPropertyValue(e)||_h(t).getComputedStyle(t,null).getPropertyValue(e)}function Qb(t){return function(){delete this[t]}}function jb(t,e){return function(){this[t]=e}}function $b(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function e3(t,e){return arguments.length>1?this.each((e==null?Qb:typeof e=="function"?$b:jb)(t,e)):this.node()[t]}function yh(t){return t.trim().split(/^|\s+/)}function Zs(t){return t.classList||new wh(t)}function wh(t){this._node=t,this._names=yh(t.getAttribute("class")||"")}wh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function bh(t,e){for(var n=Zs(t),r=-1,l=e.length;++r<l;)n.add(e[r])}function vh(t,e){for(var n=Zs(t),r=-1,l=e.length;++r<l;)n.remove(e[r])}function t3(t){return function(){bh(this,t)}}function n3(t){return function(){vh(this,t)}}function i3(t,e){return function(){(e.apply(this,arguments)?bh:vh)(this,t)}}function r3(t,e){var n=yh(t+"");if(arguments.length<2){for(var r=Zs(this.node()),l=-1,u=n.length;++l<u;)if(!r.contains(n[l]))return!1;return!0}return this.each((typeof e=="function"?i3:e?t3:n3)(n,e))}function o3(){this.textContent=""}function l3(t){return function(){this.textContent=t}}function u3(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function s3(t){return arguments.length?this.each(t==null?o3:(typeof t=="function"?u3:l3)(t)):this.node().textContent}function f3(){this.innerHTML=""}function a3(t){return function(){this.innerHTML=t}}function c3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function d3(t){return arguments.length?this.each(t==null?f3:(typeof t=="function"?c3:a3)(t)):this.node().innerHTML}function h3(){this.nextSibling&&this.parentNode.appendChild(this)}function g3(){return this.each(h3)}function m3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _3(){return this.each(m3)}function y3(t){var e=typeof t=="function"?t:ch(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function w3(){return null}function b3(t,e){var n=typeof t=="function"?t:ch(t),r=e==null?w3:typeof e=="function"?e:qs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function v3(){var t=this.parentNode;t&&t.removeChild(this)}function p3(){return this.each(v3)}function S3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function k3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function E3(t){return this.select(t?k3:S3)}function C3(t){return arguments.length?this.property("__data__",t):this.node().__data__}function A3(t){return function(e){t.call(this,e,this.__data__)}}function M3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function P3(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,l=e.length,u;n<l;++n)u=e[n],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):e[++r]=u;++r?e.length=r:delete this.__on}}}function T3(t,e,n){return function(){var r=this.__on,l,u=A3(e);if(r){for(var s=0,f=r.length;s<f;++s)if((l=r[s]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=n),l.value=e;return}}this.addEventListener(t.type,u,n),l={type:t.type,name:t.name,value:e,listener:u,options:n},r?r.push(l):this.__on=[l]}}function I3(t,e,n){var r=M3(t+""),l,u=r.length,s;if(arguments.length<2){var f=this.node().__on;if(f){for(var a=0,d=f.length,h;a<d;++a)for(l=0,h=f[a];l<u;++l)if((s=r[l]).type===h.type&&s.name===h.name)return h.value}return}for(f=e?T3:P3,l=0;l<u;++l)this.each(f(r[l],e,n));return this}function ph(t,e,n){var r=_h(t),l=r.CustomEvent;typeof l=="function"?l=new l(e,n):(l=r.document.createEvent("Event"),n?(l.initEvent(e,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function O3(t,e){return function(){return ph(this,t,e)}}function z3(t,e){return function(){return ph(this,t,e.apply(this,arguments))}}function H3(t,e){return this.each((typeof e=="function"?z3:O3)(t,e))}function*N3(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],l=0,u=r.length,s;l<u;++l)(s=r[l])&&(yield s)}var Sh=[null];function an(t,e){this._groups=t,this._parents=e}function uo(){return new an([[document.documentElement]],Sh)}function L3(){return this}an.prototype=uo.prototype={constructor:an,select:ub,selectAll:cb,selectChild:mb,selectChildren:bb,filter:vb,data:Ab,enter:pb,exit:Pb,join:Tb,merge:Ib,selection:L3,order:Ob,sort:zb,call:Nb,nodes:Lb,node:Rb,size:Db,empty:Wb,each:Bb,attr:xb,style:Jb,property:e3,classed:r3,text:s3,html:d3,raise:g3,lower:_3,append:y3,insert:b3,remove:p3,clone:E3,datum:C3,on:I3,dispatch:H3,[Symbol.iterator]:N3};function fn(t){return typeof t=="string"?new an([[document.querySelector(t)]],[document.documentElement]):new an([[t]],Sh)}function R3(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Tn(t,e){if(t=R3(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}const D3={passive:!1},jr={capture:!0,passive:!1};function vs(t){t.stopImmediatePropagation()}function ur(t){t.preventDefault(),t.stopImmediatePropagation()}function kh(t){var e=t.document.documentElement,n=fn(t).on("dragstart.drag",ur,jr);"onselectstart"in e?n.on("selectstart.drag",ur,jr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Eh(t,e){var n=t.document.documentElement,r=fn(t).on("dragstart.drag",null);e&&(r.on("click.drag",ur,jr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ol=t=>()=>t;function Ns(t,{sourceEvent:e,subject:n,target:r,identifier:l,active:u,x:s,y:f,dx:a,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}Ns.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function W3(t){return!t.ctrlKey&&!t.button}function B3(){return this.parentNode}function X3(t,e){return e??{x:t.x,y:t.y}}function Y3(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ch(){var t=W3,e=B3,n=X3,r=Y3,l={},u=Dl("start","drag","end"),s=0,f,a,d,h,g=0;function m(C){C.on("mousedown.drag",y).filter(r).on("touchstart.drag",M).on("touchmove.drag",w,D3).on("touchend.drag touchcancel.drag",z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(C,P){if(!(h||!t.call(this,C,P))){var O=k(this,e.call(this,C,P),C,P,"mouse");O&&(fn(C.view).on("mousemove.drag",v,jr).on("mouseup.drag",p,jr),kh(C.view),vs(C),d=!1,f=C.clientX,a=C.clientY,O("start",C))}}function v(C){if(ur(C),!d){var P=C.clientX-f,O=C.clientY-a;d=P*P+O*O>g}l.mouse("drag",C)}function p(C){fn(C.view).on("mousemove.drag mouseup.drag",null),Eh(C.view,d),ur(C),l.mouse("end",C)}function M(C,P){if(t.call(this,C,P)){var O=C.changedTouches,H=e.call(this,C,P),L=O.length,W,x;for(W=0;W<L;++W)(x=k(this,H,C,P,O[W].identifier,O[W]))&&(vs(C),x("start",C,O[W]))}}function w(C){var P=C.changedTouches,O=P.length,H,L;for(H=0;H<O;++H)(L=l[P[H].identifier])&&(ur(C),L("drag",C,P[H]))}function z(C){var P=C.changedTouches,O=P.length,H,L;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),H=0;H<O;++H)(L=l[P[H].identifier])&&(vs(C),L("end",C,P[H]))}function k(C,P,O,H,L,W){var x=u.copy(),I=Tn(W||O,P),X,B,T;if((T=n.call(C,new Ns("beforestart",{sourceEvent:O,target:m,identifier:L,active:s,x:I[0],y:I[1],dx:0,dy:0,dispatch:x}),H))!=null)return X=T.x-I[0]||0,B=T.y-I[1]||0,function K(Y,q,G){var j=I,fe;switch(Y){case"start":l[L]=K,fe=s++;break;case"end":delete l[L],--s;case"drag":I=Tn(G||q,P),fe=s;break}x.call(Y,C,new Ns(Y,{sourceEvent:q,subject:T,target:m,identifier:L,active:fe,x:I[0]+X,y:I[1]+B,dx:I[0]-j[0],dy:I[1]-j[1],dispatch:x}),H)}}return m.filter=function(C){return arguments.length?(t=typeof C=="function"?C:ol(!!C),m):t},m.container=function(C){return arguments.length?(e=typeof C=="function"?C:ol(C),m):e},m.subject=function(C){return arguments.length?(n=typeof C=="function"?C:ol(C),m):n},m.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:ol(!!C),m):r},m.on=function(){var C=u.on.apply(u,arguments);return C===u?m:C},m.clickDistance=function(C){return arguments.length?(g=(C=+C)*C,m):Math.sqrt(g)},m}function Js(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ah(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function so(){}var $r=.7,El=1/$r,sr="\\s*([+-]?\\d+)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F3=/^#([0-9a-f]{3,8})$/,V3=new RegExp(`^rgb\\(${sr},${sr},${sr}\\)$`),K3=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),U3=new RegExp(`^rgba\\(${sr},${sr},${sr},${eo}\\)$`),x3=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${eo}\\)$`),G3=new RegExp(`^hsl\\(${eo},${Yn},${Yn}\\)$`),q3=new RegExp(`^hsla\\(${eo},${Yn},${Yn},${eo}\\)$`),Rc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Js(so,to,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Dc,formatHex:Dc,formatHex8:Z3,formatHsl:J3,formatRgb:Wc,toString:Wc});function Dc(){return this.rgb().formatHex()}function Z3(){return this.rgb().formatHex8()}function J3(){return Mh(this).formatHsl()}function Wc(){return this.rgb().formatRgb()}function to(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=F3.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Bc(e):n===3?new $t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ll(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ll(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=V3.exec(t))?new $t(e[1],e[2],e[3],1):(e=K3.exec(t))?new $t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=U3.exec(t))?ll(e[1],e[2],e[3],e[4]):(e=x3.exec(t))?ll(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=G3.exec(t))?Fc(e[1],e[2]/100,e[3]/100,1):(e=q3.exec(t))?Fc(e[1],e[2]/100,e[3]/100,e[4]):Rc.hasOwnProperty(t)?Bc(Rc[t]):t==="transparent"?new $t(NaN,NaN,NaN,0):null}function Bc(t){return new $t(t>>16&255,t>>8&255,t&255,1)}function ll(t,e,n,r){return r<=0&&(t=e=n=NaN),new $t(t,e,n,r)}function Q3(t){return t instanceof so||(t=to(t)),t?(t=t.rgb(),new $t(t.r,t.g,t.b,t.opacity)):new $t}function Ls(t,e,n,r){return arguments.length===1?Q3(t):new $t(t,e,n,r??1)}function $t(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Js($t,Ls,Ah(so,{brighter(t){return t=t==null?El:Math.pow(El,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$r:Math.pow($r,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $t(Ri(this.r),Ri(this.g),Ri(this.b),Cl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xc,formatHex:Xc,formatHex8:j3,formatRgb:Yc,toString:Yc}));function Xc(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}`}function j3(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}${Li((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yc(){const t=Cl(this.opacity);return`${t===1?"rgb(":"rgba("}${Ri(this.r)}, ${Ri(this.g)}, ${Ri(this.b)}${t===1?")":`, ${t})`}`}function Cl(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ri(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Li(t){return t=Ri(t),(t<16?"0":"")+t.toString(16)}function Fc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new In(t,e,n,r)}function Mh(t){if(t instanceof In)return new In(t.h,t.s,t.l,t.opacity);if(t instanceof so||(t=to(t)),!t)return new In;if(t instanceof In)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,l=Math.min(e,n,r),u=Math.max(e,n,r),s=NaN,f=u-l,a=(u+l)/2;return f?(e===u?s=(n-r)/f+(n<r)*6:n===u?s=(r-e)/f+2:s=(e-n)/f+4,f/=a<.5?u+l:2-u-l,s*=60):f=a>0&&a<1?0:s,new In(s,f,a,t.opacity)}function $3(t,e,n,r){return arguments.length===1?Mh(t):new In(t,e,n,r??1)}function In(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Js(In,$3,Ah(so,{brighter(t){return t=t==null?El:Math.pow(El,t),new In(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$r:Math.pow($r,t),new In(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,l=2*n-r;return new $t(ps(t>=240?t-240:t+120,l,r),ps(t,l,r),ps(t<120?t+240:t-120,l,r),this.opacity)},clamp(){return new In(Vc(this.h),ul(this.s),ul(this.l),Cl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cl(this.opacity);return`${t===1?"hsl(":"hsla("}${Vc(this.h)}, ${ul(this.s)*100}%, ${ul(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vc(t){return t=(t||0)%360,t<0?t+360:t}function ul(t){return Math.max(0,Math.min(1,t||0))}function ps(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ph=t=>()=>t;function ev(t,e){return function(n){return t+n*e}}function tv(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nv(t){return(t=+t)==1?Th:function(e,n){return n-e?tv(e,n,t):Ph(isNaN(e)?n:e)}}function Th(t,e){var n=e-t;return n?ev(t,n):Ph(isNaN(t)?e:t)}const Kc=function t(e){var n=nv(e);function r(l,u){var s=n((l=Ls(l)).r,(u=Ls(u)).r),f=n(l.g,u.g),a=n(l.b,u.b),d=Th(l.opacity,u.opacity);return function(h){return l.r=s(h),l.g=f(h),l.b=a(h),l.opacity=d(h),l+""}}return r.gamma=t,r}(1);function ki(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Rs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ss=new RegExp(Rs.source,"g");function iv(t){return function(){return t}}function rv(t){return function(e){return t(e)+""}}function ov(t,e){var n=Rs.lastIndex=Ss.lastIndex=0,r,l,u,s=-1,f=[],a=[];for(t=t+"",e=e+"";(r=Rs.exec(t))&&(l=Ss.exec(e));)(u=l.index)>n&&(u=e.slice(n,u),f[s]?f[s]+=u:f[++s]=u),(r=r[0])===(l=l[0])?f[s]?f[s]+=l:f[++s]=l:(f[++s]=null,a.push({i:s,x:ki(r,l)})),n=Ss.lastIndex;return n<e.length&&(u=e.slice(n),f[s]?f[s]+=u:f[++s]=u),f.length<2?a[0]?rv(a[0].x):iv(e):(e=a.length,function(d){for(var h=0,g;h<e;++h)f[(g=a[h]).i]=g.x(d);return f.join("")})}var Uc=180/Math.PI,Ds={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ih(t,e,n,r,l,u){var s,f,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,a/=f),t*r<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:l,translateY:u,rotate:Math.atan2(e,t)*Uc,skewX:Math.atan(a)*Uc,scaleX:s,scaleY:f}}var sl;function lv(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ds:Ih(e.a,e.b,e.c,e.d,e.e,e.f)}function uv(t){return t==null||(sl||(sl=document.createElementNS("http://www.w3.org/2000/svg","g")),sl.setAttribute("transform",t),!(t=sl.transform.baseVal.consolidate()))?Ds:(t=t.matrix,Ih(t.a,t.b,t.c,t.d,t.e,t.f))}function Oh(t,e,n,r){function l(d){return d.length?d.pop()+" ":""}function u(d,h,g,m,y,v){if(d!==g||h!==m){var p=y.push("translate(",null,e,null,n);v.push({i:p-4,x:ki(d,g)},{i:p-2,x:ki(h,m)})}else(g||m)&&y.push("translate("+g+e+m+n)}function s(d,h,g,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:g.push(l(g)+"rotate(",null,r)-2,x:ki(d,h)})):h&&g.push(l(g)+"rotate("+h+r)}function f(d,h,g,m){d!==h?m.push({i:g.push(l(g)+"skewX(",null,r)-2,x:ki(d,h)}):h&&g.push(l(g)+"skewX("+h+r)}function a(d,h,g,m,y,v){if(d!==g||h!==m){var p=y.push(l(y)+"scale(",null,",",null,")");v.push({i:p-4,x:ki(d,g)},{i:p-2,x:ki(h,m)})}else(g!==1||m!==1)&&y.push(l(y)+"scale("+g+","+m+")")}return function(d,h){var g=[],m=[];return d=t(d),h=t(h),u(d.translateX,d.translateY,h.translateX,h.translateY,g,m),s(d.rotate,h.rotate,g,m),f(d.skewX,h.skewX,g,m),a(d.scaleX,d.scaleY,h.scaleX,h.scaleY,g,m),d=h=null,function(y){for(var v=-1,p=m.length,M;++v<p;)g[(M=m[v]).i]=M.x(y);return g.join("")}}}var sv=Oh(lv,"px, ","px)","deg)"),fv=Oh(uv,", ",")",")"),av=1e-12;function xc(t){return((t=Math.exp(t))+1/t)/2}function cv(t){return((t=Math.exp(t))-1/t)/2}function dv(t){return((t=Math.exp(2*t))-1)/(t+1)}const hv=function t(e,n,r){function l(u,s){var f=u[0],a=u[1],d=u[2],h=s[0],g=s[1],m=s[2],y=h-f,v=g-a,p=y*y+v*v,M,w;if(p<av)w=Math.log(m/d)/e,M=function(H){return[f+H*y,a+H*v,d*Math.exp(e*H*w)]};else{var z=Math.sqrt(p),k=(m*m-d*d+r*p)/(2*d*n*z),C=(m*m-d*d-r*p)/(2*m*n*z),P=Math.log(Math.sqrt(k*k+1)-k),O=Math.log(Math.sqrt(C*C+1)-C);w=(O-P)/e,M=function(H){var L=H*w,W=xc(P),x=d/(n*z)*(W*dv(e*L+P)-cv(P));return[f+x*y,a+x*v,d*W/xc(e*L+P)]}}return M.duration=w*1e3*e/Math.SQRT2,M}return l.rho=function(u){var s=Math.max(.001,+u),f=s*s,a=f*f;return t(s,f,a)},l}(Math.SQRT2,2,4);var mr=0,Vr=0,Xr=0,zh=1e3,Al,Kr,Ml=0,Bi=0,Bl=0,no=typeof performance=="object"&&performance.now?performance:Date,Hh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qs(){return Bi||(Hh(gv),Bi=no.now()+Bl)}function gv(){Bi=0}function Pl(){this._call=this._time=this._next=null}Pl.prototype=Nh.prototype={constructor:Pl,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Qs():+n)+(e==null?0:+e),!this._next&&Kr!==this&&(Kr?Kr._next=this:Al=this,Kr=this),this._call=t,this._time=n,Ws()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ws())}};function Nh(t,e,n){var r=new Pl;return r.restart(t,e,n),r}function mv(){Qs(),++mr;for(var t=Al,e;t;)(e=Bi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mr}function Gc(){Bi=(Ml=no.now())+Bl,mr=Vr=0;try{mv()}finally{mr=0,yv(),Bi=0}}function _v(){var t=no.now(),e=t-Ml;e>zh&&(Bl-=e,Ml=t)}function yv(){for(var t,e=Al,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Al=n);Kr=t,Ws(r)}function Ws(t){if(!mr){Vr&&(Vr=clearTimeout(Vr));var e=t-Bi;e>24?(t<1/0&&(Vr=setTimeout(Gc,t-no.now()-Bl)),Xr&&(Xr=clearInterval(Xr))):(Xr||(Ml=no.now(),Xr=setInterval(_v,zh)),mr=1,Hh(Gc))}}function qc(t,e,n){var r=new Pl;return e=e==null?0:+e,r.restart(l=>{r.stop(),t(l+e)},e,n),r}var wv=Dl("start","end","cancel","interrupt"),bv=[],Lh=0,Zc=1,Bs=2,yl=3,Jc=4,Xs=5,wl=6;function Xl(t,e,n,r,l,u){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;vv(t,n,{name:e,index:r,group:l,on:wv,tween:bv,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Lh})}function js(t,e){var n=Hn(t,e);if(n.state>Lh)throw new Error("too late; already scheduled");return n}function Kn(t,e){var n=Hn(t,e);if(n.state>yl)throw new Error("too late; already running");return n}function Hn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function vv(t,e,n){var r=t.__transition,l;r[e]=n,n.timer=Nh(u,0,n.time);function u(d){n.state=Zc,n.timer.restart(s,n.delay,n.time),n.delay<=d&&s(d-n.delay)}function s(d){var h,g,m,y;if(n.state!==Zc)return a();for(h in r)if(y=r[h],y.name===n.name){if(y.state===yl)return qc(s);y.state===Jc?(y.state=wl,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[h]):+h<e&&(y.state=wl,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[h])}if(qc(function(){n.state===yl&&(n.state=Jc,n.timer.restart(f,n.delay,n.time),f(d))}),n.state=Bs,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Bs){for(n.state=yl,l=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(y=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(l[++g]=y);l.length=g+1}}function f(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(a),n.state=Xs,1),g=-1,m=l.length;++g<m;)l[g].call(t,h);n.state===Xs&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=wl,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function bl(t,e){var n=t.__transition,r,l,u=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){u=!1;continue}l=r.state>Bs&&r.state<Xs,r.state=wl,r.timer.stop(),r.on.call(l?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}u&&delete t.__transition}}function pv(t){return this.each(function(){bl(this,t)})}function Sv(t,e){var n,r;return function(){var l=Kn(this,t),u=l.tween;if(u!==n){r=n=u;for(var s=0,f=r.length;s<f;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}l.tween=r}}function kv(t,e,n){var r,l;if(typeof n!="function")throw new Error;return function(){var u=Kn(this,t),s=u.tween;if(s!==r){l=(r=s).slice();for(var f={name:e,value:n},a=0,d=l.length;a<d;++a)if(l[a].name===e){l[a]=f;break}a===d&&l.push(f)}u.tween=l}}function Ev(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Hn(this.node(),n).tween,l=0,u=r.length,s;l<u;++l)if((s=r[l]).name===t)return s.value;return null}return this.each((e==null?Sv:kv)(n,t,e))}function $s(t,e,n){var r=t._id;return t.each(function(){var l=Kn(this,r);(l.value||(l.value={}))[e]=n.apply(this,arguments)}),function(l){return Hn(l,r).value[e]}}function Rh(t,e){var n;return(typeof e=="number"?ki:e instanceof to?Kc:(n=to(e))?(e=n,Kc):ov)(t,e)}function Cv(t){return function(){this.removeAttribute(t)}}function Av(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mv(t,e,n){var r,l=n+"",u;return function(){var s=this.getAttribute(t);return s===l?null:s===r?u:u=e(r=s,n)}}function Pv(t,e,n){var r,l=n+"",u;return function(){var s=this.getAttributeNS(t.space,t.local);return s===l?null:s===r?u:u=e(r=s,n)}}function Tv(t,e,n){var r,l,u;return function(){var s,f=n(this),a;return f==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=f+"",s===a?null:s===r&&a===l?u:(l=a,u=e(r=s,f)))}}function Iv(t,e,n){var r,l,u;return function(){var s,f=n(this),a;return f==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=f+"",s===a?null:s===r&&a===l?u:(l=a,u=e(r=s,f)))}}function Ov(t,e){var n=Wl(t),r=n==="transform"?fv:Rh;return this.attrTween(t,typeof e=="function"?(n.local?Iv:Tv)(n,r,$s(this,"attr."+t,e)):e==null?(n.local?Av:Cv)(n):(n.local?Pv:Mv)(n,r,e))}function zv(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Hv(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Nv(t,e){var n,r;function l(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&Hv(t,u)),n}return l._value=e,l}function Lv(t,e){var n,r;function l(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&zv(t,u)),n}return l._value=e,l}function Rv(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Wl(t);return this.tween(n,(r.local?Nv:Lv)(r,e))}function Dv(t,e){return function(){js(this,t).delay=+e.apply(this,arguments)}}function Wv(t,e){return e=+e,function(){js(this,t).delay=e}}function Bv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Dv:Wv)(e,t)):Hn(this.node(),e).delay}function Xv(t,e){return function(){Kn(this,t).duration=+e.apply(this,arguments)}}function Yv(t,e){return e=+e,function(){Kn(this,t).duration=e}}function Fv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Xv:Yv)(e,t)):Hn(this.node(),e).duration}function Vv(t,e){if(typeof e!="function")throw new Error;return function(){Kn(this,t).ease=e}}function Kv(t){var e=this._id;return arguments.length?this.each(Vv(e,t)):Hn(this.node(),e).ease}function Uv(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Kn(this,t).ease=n}}function xv(t){if(typeof t!="function")throw new Error;return this.each(Uv(this._id,t))}function Gv(t){typeof t!="function"&&(t=hh(t));for(var e=this._groups,n=e.length,r=new Array(n),l=0;l<n;++l)for(var u=e[l],s=u.length,f=r[l]=[],a,d=0;d<s;++d)(a=u[d])&&t.call(a,a.__data__,d,u)&&f.push(a);return new ui(r,this._parents,this._name,this._id)}function qv(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,l=n.length,u=Math.min(r,l),s=new Array(r),f=0;f<u;++f)for(var a=e[f],d=n[f],h=a.length,g=s[f]=new Array(h),m,y=0;y<h;++y)(m=a[y]||d[y])&&(g[y]=m);for(;f<r;++f)s[f]=e[f];return new ui(s,this._parents,this._name,this._id)}function Zv(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Jv(t,e,n){var r,l,u=Zv(e)?js:Kn;return function(){var s=u(this,t),f=s.on;f!==r&&(l=(r=f).copy()).on(e,n),s.on=l}}function Qv(t,e){var n=this._id;return arguments.length<2?Hn(this.node(),n).on.on(t):this.each(Jv(n,t,e))}function jv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $v(){return this.on("end.remove",jv(this._id))}function e5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qs(t));for(var r=this._groups,l=r.length,u=new Array(l),s=0;s<l;++s)for(var f=r[s],a=f.length,d=u[s]=new Array(a),h,g,m=0;m<a;++m)(h=f[m])&&(g=t.call(h,h.__data__,m,f))&&("__data__"in h&&(g.__data__=h.__data__),d[m]=g,Xl(d[m],e,n,m,d,Hn(h,n)));return new ui(u,this._parents,e,n)}function t5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=dh(t));for(var r=this._groups,l=r.length,u=[],s=[],f=0;f<l;++f)for(var a=r[f],d=a.length,h,g=0;g<d;++g)if(h=a[g]){for(var m=t.call(h,h.__data__,g,a),y,v=Hn(h,n),p=0,M=m.length;p<M;++p)(y=m[p])&&Xl(y,e,n,p,m,v);u.push(m),s.push(h)}return new ui(u,s,e,n)}var n5=uo.prototype.constructor;function i5(){return new n5(this._groups,this._parents)}function r5(t,e){var n,r,l;return function(){var u=gr(this,t),s=(this.style.removeProperty(t),gr(this,t));return u===s?null:u===n&&s===r?l:l=e(n=u,r=s)}}function Dh(t){return function(){this.style.removeProperty(t)}}function o5(t,e,n){var r,l=n+"",u;return function(){var s=gr(this,t);return s===l?null:s===r?u:u=e(r=s,n)}}function l5(t,e,n){var r,l,u;return function(){var s=gr(this,t),f=n(this),a=f+"";return f==null&&(a=f=(this.style.removeProperty(t),gr(this,t))),s===a?null:s===r&&a===l?u:(l=a,u=e(r=s,f))}}function u5(t,e){var n,r,l,u="style."+e,s="end."+u,f;return function(){var a=Kn(this,t),d=a.on,h=a.value[u]==null?f||(f=Dh(e)):void 0;(d!==n||l!==h)&&(r=(n=d).copy()).on(s,l=h),a.on=r}}function s5(t,e,n){var r=(t+="")=="transform"?sv:Rh;return e==null?this.styleTween(t,r5(t,r)).on("end.style."+t,Dh(t)):typeof e=="function"?this.styleTween(t,l5(t,r,$s(this,"style."+t,e))).each(u5(this._id,t)):this.styleTween(t,o5(t,r,e),n).on("end.style."+t,null)}function f5(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function a5(t,e,n){var r,l;function u(){var s=e.apply(this,arguments);return s!==l&&(r=(l=s)&&f5(t,s,n)),r}return u._value=e,u}function c5(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,a5(t,e,n??""))}function d5(t){return function(){this.textContent=t}}function h5(t){return function(){var e=t(this);this.textContent=e??""}}function g5(t){return this.tween("text",typeof t=="function"?h5($s(this,"text",t)):d5(t==null?"":t+""))}function m5(t){return function(e){this.textContent=t.call(this,e)}}function _5(t){var e,n;function r(){var l=t.apply(this,arguments);return l!==n&&(e=(n=l)&&m5(l)),e}return r._value=t,r}function y5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,_5(t))}function w5(){for(var t=this._name,e=this._id,n=Wh(),r=this._groups,l=r.length,u=0;u<l;++u)for(var s=r[u],f=s.length,a,d=0;d<f;++d)if(a=s[d]){var h=Hn(a,e);Xl(a,t,n,d,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ui(r,this._parents,t,n)}function b5(){var t,e,n=this,r=n._id,l=n.size();return new Promise(function(u,s){var f={value:s},a={value:function(){--l===0&&u()}};n.each(function(){var d=Kn(this,r),h=d.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(a)),d.on=e}),l===0&&u()})}var v5=0;function ui(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Wh(){return++v5}var ni=uo.prototype;ui.prototype={constructor:ui,select:e5,selectAll:t5,selectChild:ni.selectChild,selectChildren:ni.selectChildren,filter:Gv,merge:qv,selection:i5,transition:w5,call:ni.call,nodes:ni.nodes,node:ni.node,size:ni.size,empty:ni.empty,each:ni.each,on:Qv,attr:Ov,attrTween:Rv,style:s5,styleTween:c5,text:g5,textTween:y5,remove:$v,tween:Ev,delay:Bv,duration:Fv,ease:Kv,easeVarying:xv,end:b5,[Symbol.iterator]:ni[Symbol.iterator]};function p5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var S5={time:null,delay:0,duration:250,ease:p5};function k5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function E5(t){var e,n;t instanceof ui?(e=t._id,t=t._name):(e=Wh(),(n=S5).time=Qs(),t=t==null?null:t+"");for(var r=this._groups,l=r.length,u=0;u<l;++u)for(var s=r[u],f=s.length,a,d=0;d<f;++d)(a=s[d])&&Xl(a,t,e,d,s,n||k5(a,e));return new ui(r,this._parents,t,e)}uo.prototype.interrupt=pv;uo.prototype.transition=E5;const fl=t=>()=>t;function C5(t,{sourceEvent:e,target:n,transform:r,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:l}})}function ii(t,e,n){this.k=t,this.x=e,this.y=n}ii.prototype={constructor:ii,scale:function(t){return t===1?this:new ii(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ii(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yl=new ii(1,0,0);Bh.prototype=ii.prototype;function Bh(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Yl;return t.__zoom}function ks(t){t.stopImmediatePropagation()}function Yr(t){t.preventDefault(),t.stopImmediatePropagation()}function A5(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function M5(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Qc(){return this.__zoom||Yl}function P5(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function T5(){return navigator.maxTouchPoints||"ontouchstart"in this}function I5(t,e,n){var r=t.invertX(e[0][0])-n[0][0],l=t.invertX(e[1][0])-n[1][0],u=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(l>r?(r+l)/2:Math.min(0,r)||Math.max(0,l),s>u?(u+s)/2:Math.min(0,u)||Math.max(0,s))}function Xh(){var t=A5,e=M5,n=I5,r=P5,l=T5,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],f=250,a=hv,d=Dl("start","zoom","end"),h,g,m,y=500,v=150,p=0,M=10;function w(T){T.property("__zoom",Qc).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",x).filter(l).on("touchstart.zoom",I).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(T,K,Y,q){var G=T.selection?T.selection():T;G.property("__zoom",Qc),T!==G?P(T,K,Y,q):G.interrupt().each(function(){O(this,arguments).event(q).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},w.scaleBy=function(T,K,Y,q){w.scaleTo(T,function(){var G=this.__zoom.k,j=typeof K=="function"?K.apply(this,arguments):K;return G*j},Y,q)},w.scaleTo=function(T,K,Y,q){w.transform(T,function(){var G=e.apply(this,arguments),j=this.__zoom,fe=Y==null?C(G):typeof Y=="function"?Y.apply(this,arguments):Y,ae=j.invert(fe),Q=typeof K=="function"?K.apply(this,arguments):K;return n(k(z(j,Q),fe,ae),G,s)},Y,q)},w.translateBy=function(T,K,Y,q){w.transform(T,function(){return n(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof Y=="function"?Y.apply(this,arguments):Y),e.apply(this,arguments),s)},null,q)},w.translateTo=function(T,K,Y,q,G){w.transform(T,function(){var j=e.apply(this,arguments),fe=this.__zoom,ae=q==null?C(j):typeof q=="function"?q.apply(this,arguments):q;return n(Yl.translate(ae[0],ae[1]).scale(fe.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof Y=="function"?-Y.apply(this,arguments):-Y),j,s)},q,G)};function z(T,K){return K=Math.max(u[0],Math.min(u[1],K)),K===T.k?T:new ii(K,T.x,T.y)}function k(T,K,Y){var q=K[0]-Y[0]*T.k,G=K[1]-Y[1]*T.k;return q===T.x&&G===T.y?T:new ii(T.k,q,G)}function C(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function P(T,K,Y,q){T.on("start.zoom",function(){O(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(q).end()}).tween("zoom",function(){var G=this,j=arguments,fe=O(G,j).event(q),ae=e.apply(G,j),Q=Y==null?C(ae):typeof Y=="function"?Y.apply(G,j):Y,ve=Math.max(ae[1][0]-ae[0][0],ae[1][1]-ae[0][1]),ke=G.__zoom,Pe=typeof K=="function"?K.apply(G,j):K,R=a(ke.invert(Q).concat(ve/ke.k),Pe.invert(Q).concat(ve/Pe.k));return function(he){if(he===1)he=Pe;else{var _e=R(he),oe=ve/_e[2];he=new ii(oe,Q[0]-_e[0]*oe,Q[1]-_e[1]*oe)}fe.zoom(null,he)}})}function O(T,K,Y){return!Y&&T.__zooming||new H(T,K)}function H(T,K){this.that=T,this.args=K,this.active=0,this.sourceEvent=null,this.extent=e.apply(T,K),this.taps=0}H.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,K){return this.mouse&&T!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var K=fn(this.that).datum();d.call(T,this.that,new C5(T,{sourceEvent:this.sourceEvent,target:w,type:T,transform:this.that.__zoom,dispatch:d}),K)}};function L(T,...K){if(!t.apply(this,arguments))return;var Y=O(this,K).event(T),q=this.__zoom,G=Math.max(u[0],Math.min(u[1],q.k*Math.pow(2,r.apply(this,arguments)))),j=Tn(T);if(Y.wheel)(Y.mouse[0][0]!==j[0]||Y.mouse[0][1]!==j[1])&&(Y.mouse[1]=q.invert(Y.mouse[0]=j)),clearTimeout(Y.wheel);else{if(q.k===G)return;Y.mouse=[j,q.invert(j)],bl(this),Y.start()}Yr(T),Y.wheel=setTimeout(fe,v),Y.zoom("mouse",n(k(z(q,G),Y.mouse[0],Y.mouse[1]),Y.extent,s));function fe(){Y.wheel=null,Y.end()}}function W(T,...K){if(m||!t.apply(this,arguments))return;var Y=T.currentTarget,q=O(this,K,!0).event(T),G=fn(T.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",ve,!0),j=Tn(T,Y),fe=T.clientX,ae=T.clientY;kh(T.view),ks(T),q.mouse=[j,this.__zoom.invert(j)],bl(this),q.start();function Q(ke){if(Yr(ke),!q.moved){var Pe=ke.clientX-fe,R=ke.clientY-ae;q.moved=Pe*Pe+R*R>p}q.event(ke).zoom("mouse",n(k(q.that.__zoom,q.mouse[0]=Tn(ke,Y),q.mouse[1]),q.extent,s))}function ve(ke){G.on("mousemove.zoom mouseup.zoom",null),Eh(ke.view,q.moved),Yr(ke),q.event(ke).end()}}function x(T,...K){if(t.apply(this,arguments)){var Y=this.__zoom,q=Tn(T.changedTouches?T.changedTouches[0]:T,this),G=Y.invert(q),j=Y.k*(T.shiftKey?.5:2),fe=n(k(z(Y,j),q,G),e.apply(this,K),s);Yr(T),f>0?fn(this).transition().duration(f).call(P,fe,q,T):fn(this).call(w.transform,fe,q,T)}}function I(T,...K){if(t.apply(this,arguments)){var Y=T.touches,q=Y.length,G=O(this,K,T.changedTouches.length===q).event(T),j,fe,ae,Q;for(ks(T),fe=0;fe<q;++fe)ae=Y[fe],Q=Tn(ae,this),Q=[Q,this.__zoom.invert(Q),ae.identifier],G.touch0?!G.touch1&&G.touch0[2]!==Q[2]&&(G.touch1=Q,G.taps=0):(G.touch0=Q,j=!0,G.taps=1+!!h);h&&(h=clearTimeout(h)),j&&(G.taps<2&&(g=Q[0],h=setTimeout(function(){h=null},y)),bl(this),G.start())}}function X(T,...K){if(this.__zooming){var Y=O(this,K).event(T),q=T.changedTouches,G=q.length,j,fe,ae,Q;for(Yr(T),j=0;j<G;++j)fe=q[j],ae=Tn(fe,this),Y.touch0&&Y.touch0[2]===fe.identifier?Y.touch0[0]=ae:Y.touch1&&Y.touch1[2]===fe.identifier&&(Y.touch1[0]=ae);if(fe=Y.that.__zoom,Y.touch1){var ve=Y.touch0[0],ke=Y.touch0[1],Pe=Y.touch1[0],R=Y.touch1[1],he=(he=Pe[0]-ve[0])*he+(he=Pe[1]-ve[1])*he,_e=(_e=R[0]-ke[0])*_e+(_e=R[1]-ke[1])*_e;fe=z(fe,Math.sqrt(he/_e)),ae=[(ve[0]+Pe[0])/2,(ve[1]+Pe[1])/2],Q=[(ke[0]+R[0])/2,(ke[1]+R[1])/2]}else if(Y.touch0)ae=Y.touch0[0],Q=Y.touch0[1];else return;Y.zoom("touch",n(k(fe,ae,Q),Y.extent,s))}}function B(T,...K){if(this.__zooming){var Y=O(this,K).event(T),q=T.changedTouches,G=q.length,j,fe;for(ks(T),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),j=0;j<G;++j)fe=q[j],Y.touch0&&Y.touch0[2]===fe.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===fe.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(fe=Tn(fe,this),Math.hypot(g[0]-fe[0],g[1]-fe[1])<M)){var ae=fn(this).on("dblclick.zoom");ae&&ae.apply(this,arguments)}}}return w.wheelDelta=function(T){return arguments.length?(r=typeof T=="function"?T:fl(+T),w):r},w.filter=function(T){return arguments.length?(t=typeof T=="function"?T:fl(!!T),w):t},w.touchable=function(T){return arguments.length?(l=typeof T=="function"?T:fl(!!T),w):l},w.extent=function(T){return arguments.length?(e=typeof T=="function"?T:fl([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),w):e},w.scaleExtent=function(T){return arguments.length?(u[0]=+T[0],u[1]=+T[1],w):[u[0],u[1]]},w.translateExtent=function(T){return arguments.length?(s[0][0]=+T[0][0],s[1][0]=+T[1][0],s[0][1]=+T[0][1],s[1][1]=+T[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(T){return arguments.length?(n=T,w):n},w.duration=function(T){return arguments.length?(f=+T,w):f},w.interpolate=function(T){return arguments.length?(a=T,w):a},w.on=function(){var T=d.on.apply(d,arguments);return T===d?w:T},w.clickDistance=function(T){return arguments.length?(p=(T=+T)*T,w):Math.sqrt(p)},w.tapDistance=function(T){return arguments.length?(M=+T,w):M},w}const fo={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${n&&r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},ht=Symbol.for("internals"),jc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ei;(function(t){t.Strict="strict",t.Loose="loose"})(Ei||(Ei={}));var Fn;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Fn||(Fn={}));var Tl;(function(t){t.Partial="partial",t.Full="full"})(Tl||(Tl={}));var fr;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(fr||(fr={}));var _r;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(_r||(_r={}));var Ve;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ve||(Ve={}));function O5(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function $c(t,e,n){if(!n)return;const r=[];t.forEach((l,u)=>{e!=null&&e.has(u)||r.push(l)}),r.length&&n(r)}const z5=t=>"id"in t&&"source"in t&&"target"in t,H5=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),pr=(t,e=[0,0])=>{var f;if(!t)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const{width:n,height:r}=co(t),l=n*e[0],u=r*e[1],s={x:t.position.x-l,y:t.position.y-u};return{position:s,positionAbsolute:(f=t.computed)!=null&&f.positionAbsolute?{x:t.computed.positionAbsolute.x-l,y:t.computed.positionAbsolute.y-u}:s}},ao=(t,e={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,l)=>{const u=pr(l,l.origin||e.nodeOrigin);return ef(r,Il({...u[e.useRelativePosition?"position":"positionAbsolute"],...co(l)}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return tf(n)},Yh=(t,e,[n,r,l]=[0,0,1],u=!1,s=!1,f=[0,0])=>{const a={...Fl(e,[n,r,l]),width:e.width/l,height:e.height/l};return t.reduce((h,g)=>{const{computed:m,selectable:y=!0,hidden:v=!1}=g,p=(m==null?void 0:m.width)??g.width??g.initialWidth??null,M=(m==null?void 0:m.height)??g.height??g.initialHeight??null;if(s&&!y||v)return h;const w=Ol(a,Fs(g,f)),z=p===null||M===null,k=u&&w>0,C=(p??0)*(M??0);return(z||k||w>=C||g.dragging)&&h.push(g),h},[])},Ys=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function N5({nodes:t,width:e,height:n,panZoom:r,minZoom:l,maxZoom:u,nodeOrigin:s=[0,0]},f){const a=t.filter(d=>{var g,m,y;const h=((g=d.computed)==null?void 0:g.width)&&((m=d.computed)==null?void 0:m.height)&&((f==null?void 0:f.includeHiddenNodes)||!d.hidden);return(y=f==null?void 0:f.nodes)!=null&&y.length?h&&(f==null?void 0:f.nodes.some(v=>v.id===d.id)):h});if(a.length>0){const d=ao(a,{nodeOrigin:s}),h=rf(d,e,n,(f==null?void 0:f.minZoom)??l,(f==null?void 0:f.maxZoom)??u,(f==null?void 0:f.padding)??.1);return r.setViewport(h,{duration:f==null?void 0:f.duration}),!0}return!1}function L5(t,e){var n,r;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.computed)==null?void 0:n.width)??0),e[1][1]-(((r=t.computed)==null?void 0:r.height)??0)]]}function R5({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:l,onError:u}){var m,y,v,p;const s=n.get(t),f=s.parentNode?n.get(s.parentNode):void 0,{x:a,y:d}=f?pr(f,f.origin||r).positionAbsolute:{x:0,y:0};let h=L5(s,s.extent||l);if(s.extent==="parent"&&!s.expandParent)if(!f)u==null||u("005",fo.error005());else{const M=(m=s.computed)==null?void 0:m.width,w=(y=s.computed)==null?void 0:y.height,z=(v=f==null?void 0:f.computed)==null?void 0:v.width,k=(p=f==null?void 0:f.computed)==null?void 0:p.height;if(M&&w&&z&&k){const C=s.origin||r,P=a+M*C[0],O=d+w*C[1];h=[[P,O],[P+z-M,O+k-w]]}}else f&&id(s.extent)&&(h=[[s.extent[0][0]+a,s.extent[0][1]+d],[s.extent[1][0]+a,s.extent[1][1]+d]]);const g=id(h)?D5(e,h):e;return{position:{x:g.x-a,y:g.y-d},positionAbsolute:g}}async function Fh({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:l}){const u=t.map(m=>m.id),s=[];for(const m of n){if(m.deletable===!1)continue;const y=u.includes(m.id),v=!y&&m.parentNode&&s.find(p=>p.id===m.parentNode);(y||v)&&s.push(m)}const f=e.map(m=>m.id),a=r.filter(m=>m.deletable!==!1),h=Ys(s,a);for(const m of a)f.includes(m.id)&&!h.find(v=>v.id===m.id)&&h.push(m);if(!l)return{edges:h,nodes:s};const g=await l({nodes:s,edges:h});return typeof g=="boolean"?g?{edges:h,nodes:s}:{edges:[],nodes:[]}:g}const yr=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),D5=(t={x:0,y:0},e)=>({x:yr(t.x,e[0][0],e[1][0]),y:yr(t.y,e[0][1],e[1][1])}),ed=(t,e,n)=>t<e?yr(Math.abs(t-e),1,50)/50:t>n?-yr(Math.abs(t-n),1,50)/50:0,Vh=(t,e)=>{const n=ed(t.x,35,e.width-35)*20,r=ed(t.y,35,e.height-35)*20;return[n,r]},ef=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Il=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),tf=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Fs=(t,e=[0,0])=>{var r,l;const{positionAbsolute:n}=pr(t,t.origin||e);return{...n,width:((r=t.computed)==null?void 0:r.width)??t.width??0,height:((l=t.computed)==null?void 0:l.height)??t.height??0}},td=(t,e=[0,0])=>{var r,l;const{positionAbsolute:n}=pr(t,t.origin||e);return{...n,x2:n.x+(((r=t.computed)==null?void 0:r.width)??t.width??0),y2:n.y+(((l=t.computed)==null?void 0:l.height)??t.height??0)}},W5=(t,e)=>tf(ef(Il(t),Il(e))),Ol=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},nd=t=>Ur(t.width)&&Ur(t.height)&&Ur(t.x)&&Ur(t.y),Ur=t=>!isNaN(t)&&isFinite(t),B5=(t,e)=>{},X5=({x:t,y:e,width:n,height:r,origin:l=[0,0]})=>!n||!r||l[0]<0||l[1]<0||l[0]>1||l[1]>1?{x:t,y:e}:{x:t-n*l[0],y:e-r*l[1]},nf=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Fl=({x:t,y:e},[n,r,l],u=!1,s=[1,1])=>{const f={x:(t-n)/l,y:(e-r)/l};return u?nf(f,s):f},Kh=({x:t,y:e},[n,r,l])=>({x:t*l+n,y:e*l+r}),rf=(t,e,n,r,l,u)=>{const s=e/(t.width*(1+u)),f=n/(t.height*(1+u)),a=Math.min(s,f),d=yr(a,r,l),h=t.x+t.width/2,g=t.y+t.height/2,m=e/2-h*d,y=n/2-g*d;return{x:m,y,zoom:d}},zl=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function id(t){return t!==void 0&&t!=="parent"}function co(t){var e,n;return{width:((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight??0}}function io(t){var e,n;return(((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Gr(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r}){const{x:l,y:u}=ri(t),s=Fl({x:l,y:u},r),{x:f,y:a}=n?nf(s,e):s;return{xSnapped:f,ySnapped:a,...s}}const Uh=t=>({width:t.offsetWidth,height:t.offsetHeight}),Y5=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},F5=["INPUT","SELECT","TEXTAREA"];function V5(t){var r,l;const e=((l=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:l[0])||t.target;return F5.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const xh=t=>"clientX"in t,ri=(t,e)=>{var u,s;const n=xh(t),r=n?t.clientX:(u=t.touches)==null?void 0:u[0].clientX,l=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:l-((e==null?void 0:e.top)??0)}},rd=(t,e,n,r=[0,0])=>{const l=e.querySelectorAll(t);if(!l||!l.length)return null;const u=Array.from(l),s=e.getBoundingClientRect(),f={x:s.width*r[0],y:s.height*r[1]};return u.map(a=>{const d=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(d.left-s.left-f.x)/n,y:(d.top-s.top-f.y)/n,...Uh(a)}})};function K5({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:l,sourceControlY:u,targetControlX:s,targetControlY:f}){const a=t*.125+l*.375+s*.375+n*.125,d=e*.125+u*.375+f*.375+r*.125,h=Math.abs(a-t),g=Math.abs(d-e);return[a,d,h,g]}function al(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function od({pos:t,x1:e,y1:n,x2:r,y2:l,c:u}){switch(t){case Ve.Left:return[e-al(e-r,u),n];case Ve.Right:return[e+al(r-e,u),n];case Ve.Top:return[e,n-al(n-l,u)];case Ve.Bottom:return[e,n+al(l-n,u)]}}function Gh({sourceX:t,sourceY:e,sourcePosition:n=Ve.Bottom,targetX:r,targetY:l,targetPosition:u=Ve.Top,curvature:s=.25}){const[f,a]=od({pos:n,x1:t,y1:e,x2:r,y2:l,c:s}),[d,h]=od({pos:u,x1:r,y1:l,x2:t,y2:e,c:s}),[g,m,y,v]=K5({sourceX:t,sourceY:e,targetX:r,targetY:l,sourceControlX:f,sourceControlY:a,targetControlX:d,targetControlY:h});return[`M${t},${e} C${f},${a} ${d},${h} ${r},${l}`,g,m,y,v]}function qh({sourceX:t,sourceY:e,targetX:n,targetY:r}){const l=Math.abs(n-t)/2,u=n<t?n+l:n-l,s=Math.abs(r-e)/2,f=r<e?r+s:r-s;return[u,f,l,s]}function U5({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:l=!1}){var f,a;if(!l)return r;const u=n||e.selected||t.selected,s=Math.max(((f=t[ht])==null?void 0:f.z)||0,((a=e[ht])==null?void 0:a.z)||0,1e3);return r+(u?s:0)}function x5({sourceNode:t,targetNode:e,width:n,height:r,transform:l}){const u=ef(td(t),td(e));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const s={x:-l[0]/l[2],y:-l[1]/l[2],width:n/l[2],height:r/l[2]};return Ol(s,tf(u))>0}const G5=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,q5=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Z5=(t,e)=>{if(!t.source||!t.target)return e;let n;return z5(t)?n={...t}:n={...t,id:G5(t)},q5(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function Zh({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[l,u,s,f]=qh({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,l,u,s,f]}const ld={[Ve.Left]:{x:-1,y:0},[Ve.Right]:{x:1,y:0},[Ve.Top]:{x:0,y:-1},[Ve.Bottom]:{x:0,y:1}},J5=({source:t,sourcePosition:e=Ve.Bottom,target:n})=>e===Ve.Left||e===Ve.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},ud=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Q5({source:t,sourcePosition:e=Ve.Bottom,target:n,targetPosition:r=Ve.Top,center:l,offset:u}){const s=ld[e],f=ld[r],a={x:t.x+s.x*u,y:t.y+s.y*u},d={x:n.x+f.x*u,y:n.y+f.y*u},h=J5({source:a,sourcePosition:e,target:d}),g=h.x!==0?"x":"y",m=h[g];let y=[],v,p;const M={x:0,y:0},w={x:0,y:0},[z,k,C,P]=qh({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[g]*f[g]===-1){v=l.x??z,p=l.y??k;const H=[{x:v,y:a.y},{x:v,y:d.y}],L=[{x:a.x,y:p},{x:d.x,y:p}];s[g]===m?y=g==="x"?H:L:y=g==="x"?L:H}else{const H=[{x:a.x,y:d.y}],L=[{x:d.x,y:a.y}];if(g==="x"?y=s.x===m?L:H:y=s.y===m?H:L,e===r){const B=Math.abs(t[g]-n[g]);if(B<=u){const T=Math.min(u-1,u-B);s[g]===m?M[g]=(a[g]>t[g]?-1:1)*T:w[g]=(d[g]>n[g]?-1:1)*T}}if(e!==r){const B=g==="x"?"y":"x",T=s[g]===f[B],K=a[B]>d[B],Y=a[B]<d[B];(s[g]===1&&(!T&&K||T&&Y)||s[g]!==1&&(!T&&Y||T&&K))&&(y=g==="x"?H:L)}const W={x:a.x+M.x,y:a.y+M.y},x={x:d.x+w.x,y:d.y+w.y},I=Math.max(Math.abs(W.x-y[0].x),Math.abs(x.x-y[0].x)),X=Math.max(Math.abs(W.y-y[0].y),Math.abs(x.y-y[0].y));I>=X?(v=(W.x+x.x)/2,p=y[0].y):(v=y[0].x,p=(W.y+x.y)/2)}return[[t,{x:a.x+M.x,y:a.y+M.y},...y,{x:d.x+w.x,y:d.y+w.y},n],v,p,C,P]}function j5(t,e,n,r){const l=Math.min(ud(t,e)/2,ud(e,n)/2,r),{x:u,y:s}=e;if(t.x===u&&u===n.x||t.y===s&&s===n.y)return`L${u} ${s}`;if(t.y===s){const d=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${u+l*d},${s}Q ${u},${s} ${u},${s+l*h}`}const f=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${u},${s+l*a}Q ${u},${s} ${u+l*f},${s}`}function wr({sourceX:t,sourceY:e,sourcePosition:n=Ve.Bottom,targetX:r,targetY:l,targetPosition:u=Ve.Top,borderRadius:s=5,centerX:f,centerY:a,offset:d=20}){const[h,g,m,y,v]=Q5({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:l},targetPosition:u,center:{x:f,y:a},offset:d});return[h.reduce((M,w,z)=>{let k="";return z>0&&z<h.length-1?k=j5(h[z-1],w,h[z+1],s):k=`${z===0?"M":"L"}${w.x} ${w.y}`,M+=k,M},""),g,m,y,v]}function sd(t){var e,n,r;return!!((e=t==null?void 0:t[ht])!=null&&e.handleBounds||(n=t==null?void 0:t.handles)!=null&&n.length)&&!!((r=t==null?void 0:t.computed)!=null&&r.width||t!=null&&t.width||t!=null&&t.initialWidth)}function $5(t){var y,v,p;const{sourceNode:e,targetNode:n}=t;if(!sd(e)||!sd(n))return null;const r=((y=e[ht])==null?void 0:y.handleBounds)||fd(e.handles),l=((v=n[ht])==null?void 0:v.handleBounds)||fd(n.handles),u=cd((r==null?void 0:r.source)??[],t.sourceHandle),s=cd(t.connectionMode===Ei.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),t.targetHandle),f=(u==null?void 0:u.position)||Ve.Bottom,a=(s==null?void 0:s.position)||Ve.Top;if(!u||!s)return(p=t.onError)==null||p.call(t,"008",fo.error008(u?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const[d,h]=ad(f,e,u),[g,m]=ad(a,n,s);return{sourceX:d,sourceY:h,targetX:g,targetY:m,sourcePosition:f,targetPosition:a}}function fd(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function ad(t,e,n=null){var f,a,d,h;const r=((n==null?void 0:n.x)??0)+(((a=(f=e.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.x)??0),l=((n==null?void 0:n.y)??0)+(((h=(d=e.computed)==null?void 0:d.positionAbsolute)==null?void 0:h.y)??0),{width:u,height:s}=n??co(e);switch(t){case Ve.Top:return[r+u/2,l];case Ve.Right:return[r+u,l+s/2];case Ve.Bottom:return[r+u/2,l+s];case Ve.Left:return[r,l+s/2]}}function cd(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Vs(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function ep(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:l}){const u=new Set;return t.reduce((s,f)=>([f.markerStart||r,f.markerEnd||l].forEach(a=>{if(a&&typeof a=="object"){const d=Vs(a,e);u.has(d)||(s.push({id:d,color:a.color||n,...a}),u.add(d))}}),s),[]).sort((s,f)=>s.id.localeCompare(f.id))}function tp(t,e,n=[0,0],r){return t.map(l=>{var u,s,f,a,d,h;if(l.parentNode&&!e.has(l.parentNode))throw new Error(`Parent node ${l.parentNode} not found`);if(l.parentNode||r!=null&&r[l.id]){const g=l.parentNode?e.get(l.parentNode):null,{x:m,y,z:v}=Qh(l,t,e,{...l.position,z:((u=l[ht])==null?void 0:u.z)??0},(g==null?void 0:g.origin)||n),p=m!==((f=(s=l.computed)==null?void 0:s.positionAbsolute)==null?void 0:f.x)||y!==((d=(a=l.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y);l.computed.positionAbsolute=p?{x:m,y}:(h=l.computed)==null?void 0:h.positionAbsolute,l[ht].z=v,r!=null&&r[l.id]&&(l[ht].isParent=!0)}return l})}function Jh(t,e,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const r=new Map(e);e.clear();const l={},u=n!=null&&n.elevateNodesOnSelect?1e3:0,s=t.map(a=>{var y,v,p;const d=r.get(a.id);if(a===((y=d==null?void 0:d[ht])==null?void 0:y.userProvidedNode))return e.set(a.id,d),d;const h={...n.defaults,...a,computed:{positionAbsolute:a.position,width:(v=a.computed)==null?void 0:v.width,height:(p=a.computed)==null?void 0:p.height}},g=(Ur(a.zIndex)?a.zIndex:0)+(a.selected?u:0),m=(a==null?void 0:a[ht])||(d==null?void 0:d[ht]);return h.parentNode&&(l[h.parentNode]=!0),Object.defineProperty(h,ht,{enumerable:!1,value:{handleBounds:m==null?void 0:m.handleBounds,z:g,userProvidedNode:a}}),e.set(h.id,h),h});return tp(s,e,n.nodeOrigin,l)}function Qh(t,e,n,r,l){var f,a;if(!t.parentNode)return r;const u=n.get(t.parentNode),{position:s}=pr(u,(u==null?void 0:u.origin)||l);return Qh(u,e,n,{x:(r.x??0)+s.x,y:(r.y??0)+s.y,z:(((f=u[ht])==null?void 0:f.z)??0)>(r.z??0)?((a=u[ht])==null?void 0:a.z)??0:r.z??0},u.origin||l)}function np(t,e,n,r,l,u){const s=r==null?void 0:r.querySelector(".xyflow__viewport");if(!s)return null;const f=window.getComputedStyle(s),{m22:a}=new window.DOMMatrixReadOnly(f.transform);return e.map(h=>{var m,y;const g=t.get(h.id);if(g){const v=Uh(g.nodeElement);if(!!(v.width&&v.height&&(((m=h.computed)==null?void 0:m.width)!==v.width||((y=h.computed)==null?void 0:y.height)!==v.height||g.forceUpdate))){u==null||u(h.id,v);const M={...h,computed:{...h.computed,...v},[ht]:{...h[ht],handleBounds:{source:rd(".source",g.nodeElement,a,h.origin||l),target:rd(".target",g.nodeElement,a,h.origin||l)}}};return n.set(h.id,M),M}}return h})}function ip({delta:t,panZoom:e,transform:n,translateExtent:r,width:l,height:u}){if(!e||!t.x&&!t.y)return!1;const s=e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[l,u]],r);return!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2])}function jh(t,e,n){t.clear(),e.clear();for(const r of n){const{source:l,target:u,sourceHandle:s=null,targetHandle:f=null}=r,a=`${l}-source-${s}`,d=`${u}-target-${f}`,h=t.get(a)||new Map,g=t.get(d)||new Map,m={edgeId:r.id,source:l,target:u,sourceHandle:s,targetHandle:f};e.set(r.id,r),t.set(a,h.set(`${u}-${f}`,m)),t.set(d,g.set(`${l}-${s}`,m))}}function Es(t){return(e,n,r)=>t==null?void 0:t(e,r)}function $h(t,e){if(!t.parentNode)return!1;const n=e.find(r=>r.id===r.parentNode);return n?n.selected?!0:$h(n,e):!1}function dd(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function rp(t,e,n,r){return t.filter(l=>(l.selected||l.id===r)&&(!l.parentNode||!$h(l,t))&&(l.draggable||e&&typeof l.draggable>"u")).map(l=>{var u,s,f,a,d,h,g;return{id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-(((s=(u=l.computed)==null?void 0:u.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((a=(f=l.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:l.extent,parentNode:l.parentNode,origin:l.origin,expandParent:l.expandParent,computed:{positionAbsolute:((d=l.computed)==null?void 0:d.positionAbsolute)||{x:0,y:0},width:((h=l.computed)==null?void 0:h.width)||0,height:((g=l.computed)==null?void 0:g.height)||0}}})}function Cs({nodeId:t,dragItems:e,nodeLookup:n}){const r=e.map(l=>({...n.get(l.id),position:l.position,computed:{...l.computed,positionAbsolute:l.computed.positionAbsolute}}));return[t?r.find(l=>l.id===t):r[0],r]}function op({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:l}){let u={x:null,y:null},s=0,f=[],a=!1,d={x:0,y:0},h=null,g=!1,m=null;function y({noDragClassName:p,handleSelector:M,domNode:w,isSelectable:z,nodeId:k}){m=fn(w);function C({x:L,y:W},x){const{nodeLookup:I,nodeExtent:X,snapGrid:B,snapToGrid:T,nodeOrigin:K,onNodeDrag:Y,onSelectionDrag:q,onError:G,updateNodePositions:j}=e();u={x:L,y:W};let fe=!1,ae={x:0,y:0,x2:0,y2:0};if(f.length>1&&X){const Q=ao(f,{nodeOrigin:K});ae=Il(Q)}if(f=f.map(Q=>{var he,_e;let ve={x:L-Q.distance.x,y:W-Q.distance.y};T&&(ve=nf(ve,B));const ke=[[X[0][0],X[0][1]],[X[1][0],X[1][1]]];f.length>1&&X&&!Q.extent&&(ke[0][0]=Q.computed.positionAbsolute.x-ae.x+X[0][0],ke[1][0]=Q.computed.positionAbsolute.x+(((he=Q.computed)==null?void 0:he.width)??0)-ae.x2+X[1][0],ke[0][1]=Q.computed.positionAbsolute.y-ae.y+X[0][1],ke[1][1]=Q.computed.positionAbsolute.y+(((_e=Q.computed)==null?void 0:_e.height)??0)-ae.y2+X[1][1]);const{position:Pe,positionAbsolute:R}=R5({nodeId:Q.id,nextPosition:ve,nodeLookup:I,nodeExtent:ke,nodeOrigin:K,onError:G});return fe=fe||Q.position.x!==Pe.x||Q.position.y!==Pe.y,Q.position=Pe,Q.computed.positionAbsolute=R,Q}),!!fe&&(j(f,!0),x&&(r||Y||!k&&q))){const[Q,ve]=Cs({nodeId:k,dragItems:f,nodeLookup:I});r==null||r(x,f,Q,ve),Y==null||Y(x,Q,ve),k||Es(q)(x,Q,ve)}}function P(){if(!h)return;const[L,W]=Vh(d,h);if(L!==0||W!==0){const{transform:x,panBy:I}=e();u.x=(u.x??0)-L/x[2],u.y=(u.y??0)-W/x[2],I({x:L,y:W})&&C(u,null)}s=requestAnimationFrame(P)}function O(L){var ae;const{nodes:W,nodeLookup:x,multiSelectionActive:I,nodesDraggable:X,transform:B,snapGrid:T,snapToGrid:K,selectNodesOnDrag:Y,onNodeDragStart:q,onSelectionDragStart:G,unselectNodesAndEdges:j}=e();g=!0,(!Y||!z)&&!I&&k&&((ae=x.get(k))!=null&&ae.selected||j()),z&&Y&&k&&(t==null||t(k));const fe=Gr(L.sourceEvent,{transform:B,snapGrid:T,snapToGrid:K});if(u=fe,f=rp(W,X,fe,k),f.length>0&&(n||q||!k&&G)){const[Q,ve]=Cs({nodeId:k,dragItems:f,nodeLookup:x});n==null||n(L.sourceEvent,f,Q,ve),q==null||q(L.sourceEvent,Q,ve),k||Es(G)(L.sourceEvent,Q,ve)}}const H=Ch().on("start",L=>{const{domNode:W,nodeDragThreshold:x,transform:I,snapGrid:X,snapToGrid:B}=e();x===0&&O(L),u=Gr(L.sourceEvent,{transform:I,snapGrid:X,snapToGrid:B}),h=(W==null?void 0:W.getBoundingClientRect())||null,d=ri(L.sourceEvent,h)}).on("drag",L=>{const{autoPanOnNodeDrag:W,transform:x,snapGrid:I,snapToGrid:X,nodeDragThreshold:B}=e(),T=Gr(L.sourceEvent,{transform:x,snapGrid:I,snapToGrid:X});if(!a&&W&&g&&(a=!0,P()),!g){const K=T.xSnapped-(u.x??0),Y=T.ySnapped-(u.y??0);Math.sqrt(K*K+Y*Y)>B&&O(L)}(u.x!==T.xSnapped||u.y!==T.ySnapped)&&f&&g&&(d=ri(L.sourceEvent,h),C(T,L.sourceEvent))}).on("end",L=>{if(g&&(a=!1,g=!1,cancelAnimationFrame(s),f.length>0)){const{nodeLookup:W,updateNodePositions:x,onNodeDragStop:I,onSelectionDragStop:X}=e();if(x(f,!1),l||I||!k&&X){const[B,T]=Cs({nodeId:k,dragItems:f,nodeLookup:W});l==null||l(L.sourceEvent,f,B,T),I==null||I(L.sourceEvent,B,T),k||Es(X)(L.sourceEvent,B,T)}}}).filter(L=>{const W=L.target;return!L.button&&(!p||!dd(W,`.${p}`,w))&&(!M||dd(W,M,w))});m.call(H)}function v(){m==null||m.on(".drag",null)}return{update:y,destroy:v}}function hd(t,e,n,r){return(e[n]||[]).reduce((l,u)=>{var s,f,a,d;return`${t.id}-${u.id}-${n}`!==r&&l.push({id:u.id||null,type:n,nodeId:t.id,x:(((f=(s=t.computed)==null?void 0:s.positionAbsolute)==null?void 0:f.x)??0)+u.x+u.width/2,y:(((d=(a=t.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0)+u.y+u.height/2}),l},[])}function lp(t,e,n){let r=[],l=1/0;for(const u of n){const s=Math.sqrt(Math.pow(u.x-t.x,2)+Math.pow(u.y-t.y,2));s<=e&&(s<l?r=[u]:s===l&&r.push(u),l=s)}return r.length?r.length===1?r[0]:r.find(u=>u.type==="target")||r[0]:null}function up({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((l,u)=>{if(u[ht]){const{handleBounds:s}=u[ht];let f=[],a=[];s&&(f=hd(u,s,"source",`${e}-${n}-${r}`),a=hd(u,s,"target",`${e}-${n}-${r}`)),l.push(...f,...a)}return l},[])}function e1(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function sp(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}const t1=()=>!0;let cl=null;function fp(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:l,edgeUpdaterType:u,isTarget:s,domNode:f,nodes:a,lib:d,autoPanOnConnect:h,flowId:g,panBy:m,cancelConnection:y,onConnectStart:v,onConnect:p,onConnectEnd:M,isValidConnection:w=t1,onEdgeUpdateEnd:z,updateConnection:k,getTransform:C,getConnectionStartHandle:P}){const O=Y5(t.target);let H=0,L;const{x:W,y:x}=ri(t),I=O==null?void 0:O.elementFromPoint(W,x),X=e1(u,I),B=f==null?void 0:f.getBoundingClientRect();if(!B||!X)return;let T=ri(t,B),K=!1,Y=null,q=!1,G=null;const j=up({nodes:a,nodeId:l,handleId:r,handleType:X});function fe(){if(!h||!B)return;const[ve,ke]=Vh(T,B);m({x:ve,y:ke}),H=requestAnimationFrame(fe)}cl={nodeId:l,handleId:r,type:X},k({connectionPosition:T,connectionStatus:null,connectionStartHandle:cl,connectionEndHandle:null}),v==null||v(t,{nodeId:l,handleId:r,handleType:X});function ae(ve){P()||Q(ve);const ke=C();T=ri(ve,B),L=lp(Fl(T,ke,!1,[1,1]),n,j),K||(fe(),K=!0);const Pe=n1(ve,{handle:L,connectionMode:e,fromNodeId:l,fromHandleId:r,fromType:s?"target":"source",isValidConnection:w,doc:O,lib:d,flowId:g});G=Pe.handleDomNode,Y=Pe.connection,q=Pe.isValid,k({connectionStartHandle:cl,connectionPosition:L&&q?Kh({x:L.x,y:L.y},ke):T,connectionStatus:sp(!!L,q),connectionEndHandle:Pe.endHandle})}function Q(ve){(L||G)&&Y&&q&&(p==null||p(Y)),M==null||M(ve),u&&(z==null||z(ve)),y(),cancelAnimationFrame(H),K=!1,q=!1,Y=null,G=null,cl=null,O.removeEventListener("mousemove",ae),O.removeEventListener("mouseup",Q),O.removeEventListener("touchmove",ae),O.removeEventListener("touchend",Q)}O.addEventListener("mousemove",ae),O.addEventListener("mouseup",Q),O.addEventListener("touchmove",ae),O.addEventListener("touchend",Q)}function n1(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:l,fromType:u,doc:s,lib:f,flowId:a,isValidConnection:d=t1}){const h=u==="target",g=e?s.querySelector(`.${f}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:m,y}=ri(t),v=s.elementFromPoint(m,y),p=v!=null&&v.classList.contains(`${f}-flow__handle`)?v:g,M={handleDomNode:p,isValid:!1,connection:null,endHandle:null};if(p){const w=e1(void 0,p),z=p.getAttribute("data-nodeid"),k=p.getAttribute("data-handleid"),C=p.classList.contains("connectable"),P=p.classList.contains("connectableend");if(!z)return M;const O={source:h?z:r,sourceHandle:h?k:l,target:h?r:z,targetHandle:h?l:k};M.connection=O,C&&P&&(n===Ei.Strict?h&&w==="source"||!h&&w==="target":z!==r||k!==l)&&(M.endHandle={nodeId:z,handleId:k,type:w},M.isValid=d(O))}return M}const ap={onPointerDown:fp,isValid:n1};function cp({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const l=fn(t);function u({translateExtent:f,width:a,height:d,zoomStep:h=10,pannable:g=!0,zoomable:m=!0,inversePan:y=!1}){const v=w=>{const z=n();if(w.sourceEvent.type!=="wheel"||!e)return;const k=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*h,C=z[2]*Math.pow(2,k);e.scaleTo(C)},p=w=>{const z=n();if(w.sourceEvent.type!=="mousemove"||!e)return;const k=r()*Math.max(z[2],Math.log(z[2]))*(y?-1:1),C={x:z[0]-w.sourceEvent.movementX*k,y:z[1]-w.sourceEvent.movementY*k},P=[[0,0],[a,d]];e.setViewportConstrained({x:C.x,y:C.y,zoom:z[2]},P,f)},M=Xh().on("zoom",g?p:null).on("zoom.wheel",m?v:null);l.call(M,{})}function s(){l.on("zoom",null)}return{update:u,destroy:s,pointer:Tn}}const dp=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Vl=t=>({x:t.x,y:t.y,zoom:t.k}),As=({x:t,y:e,zoom:n})=>Yl.translate(t,e).scale(n),or=(t,e)=>t.target.closest(`.${e}`),i1=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Ms=(t,e=0)=>typeof e=="number"&&e>0?t.transition().duration(e):t,r1=t=>{const e=t.ctrlKey&&zl()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function hp({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:l,panOnScrollSpeed:u,zoomOnPinch:s,onPanZoomStart:f,onPanZoom:a,onPanZoomEnd:d}){return h=>{if(or(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const g=n.property("__zoom").k||1,m=zl();if(h.ctrlKey&&s&&m){const w=Tn(h),z=r1(h),k=g*Math.pow(2,z);r.scaleTo(n,k,w,h);return}const y=h.deltaMode===1?20:1;let v=l===Fn.Vertical?0:h.deltaX*y,p=l===Fn.Horizontal?0:h.deltaY*y;!m&&h.shiftKey&&l!==Fn.Vertical&&(v=h.deltaY*y,p=0),r.translateBy(n,-(v/g)*u,-(p/g)*u,{internal:!0});const M=Vl(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,f==null||f(h,M)),t.isPanScrolling&&(a==null||a(h,M),t.panScrollTimeout=setTimeout(()=>{d==null||d(h,M),t.isPanScrolling=!1},150))}}function gp({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,l){if(!e||or(r,t))return null;r.preventDefault(),n.call(this,r,l)}}function mp({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var u,s,f;if((u=r.sourceEvent)!=null&&u.internal)return;const l=Vl(r.transform);t.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=l,((f=r.sourceEvent)==null?void 0:f.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,l))}}function _p({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:l}){return u=>{var s,f;t.usedRightMouseButton=!!(n&&i1(e,t.mouseButton??0)),(s=u.sourceEvent)!=null&&s.sync||r([u.transform.x,u.transform.y,u.transform.k]),l&&!((f=u.sourceEvent)!=null&&f.internal)&&(l==null||l(u.sourceEvent,Vl(u.transform)))}}function yp({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:l,onPaneContextMenu:u}){return s=>{var f;if(!((f=s.sourceEvent)!=null&&f.internal)&&(t.isZoomingOrPanning=!1,u&&i1(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&u(s.sourceEvent),t.usedRightMouseButton=!1,r(!1),l&&dp(t.prevViewport,s.transform))){const a=Vl(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{l==null||l(s.sourceEvent,a)},n?150:0)}}}function wp({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:l,zoomOnDoubleClick:u,userSelectionActive:s,noWheelClassName:f,noPanClassName:a,lib:d}){return h=>{const g=t||e,m=n&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(or(h,`${d}-flow__node`)||or(h,`${d}-flow__edge`)))return!0;if(!r&&!g&&!l&&!u&&!n||s||!u&&h.type==="dblclick"||or(h,f)&&h.type==="wheel"||or(h,a)&&(h.type!=="wheel"||l&&h.type==="wheel"&&!t)||!n&&h.ctrlKey&&h.type==="wheel"||!g&&!l&&!m&&h.type==="wheel"||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&(h.type==="mousedown"||h.type==="touchstart"))return!1;const y=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function bp({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:l,onPanZoom:u,onPanZoomStart:s,onPanZoomEnd:f,onTransformChange:a,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=t.getBoundingClientRect(),m=Xh().scaleExtent([e,n]).translateExtent(r),y=fn(t).call(m);z({x:l.x,y:l.y,zoom:yr(l.zoom,e,n)},[[0,0],[g.width,g.height]],r);const v=y.on("wheel.zoom");m.wheelDelta(r1);function p(x,I){y&&(m==null||m.transform(Ms(y,I==null?void 0:I.duration),x))}function M({noWheelClassName:x,noPanClassName:I,onPaneContextMenu:X,userSelectionActive:B,panOnScroll:T,panOnDrag:K,panOnScrollMode:Y,panOnScrollSpeed:q,preventScrolling:G,zoomOnPinch:j,zoomOnScroll:fe,zoomOnDoubleClick:ae,zoomActivationKeyPressed:Q,lib:ve}){B&&!h.isZoomingOrPanning&&w();const Pe=T&&!Q&&!B?hp({zoomPanValues:h,noWheelClassName:x,d3Selection:y,d3Zoom:m,panOnScrollMode:Y,panOnScrollSpeed:q,zoomOnPinch:j,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:f}):gp({noWheelClassName:x,preventScrolling:G,d3ZoomHandler:v});if(y.on("wheel.zoom",Pe,{passive:!1}),!B){const he=mp({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:s});m.on("start",he);const _e=_p({zoomPanValues:h,panOnDrag:K,onPaneContextMenu:!!X,onPanZoom:u,onTransformChange:a});m.on("zoom",_e);const oe=yp({zoomPanValues:h,panOnDrag:K,panOnScroll:T,onPaneContextMenu:X,onPanZoomEnd:f,onDraggingChange:d});m.on("end",oe)}const R=wp({zoomActivationKeyPressed:Q,panOnDrag:K,zoomOnScroll:fe,panOnScroll:T,zoomOnDoubleClick:ae,zoomOnPinch:j,userSelectionActive:B,noPanClassName:I,noWheelClassName:x,lib:ve});m.filter(R)}function w(){m.on("zoom",null)}function z(x,I,X){const B=As(x),T=m==null?void 0:m.constrain()(B,I,X);return T&&p(T),T}function k(x,I){const X=As(x);return p(X,I),X}function C(x){if(y){const I=As(x),X=y.property("__zoom");(X.k!==x.zoom||X.x!==x.x||X.y!==x.y)&&(m==null||m.transform(y,I,null,{sync:!0}))}}function P(){const x=y?Bh(y.node()):{x:0,y:0,k:1};return{x:x.x,y:x.y,zoom:x.k}}function O(x,I){y&&(m==null||m.scaleTo(Ms(y,I==null?void 0:I.duration),x))}function H(x,I){y&&(m==null||m.scaleBy(Ms(y,I==null?void 0:I.duration),x))}function L(x){m==null||m.scaleExtent(x)}function W(x){m==null||m.translateExtent(x)}return{update:M,destroy:w,setViewport:k,setViewportConstrained:z,getViewport:P,scaleTo:O,scaleBy:H,setScaleExtent:L,setTranslateExtent:W,syncViewport:C}}var qr;(function(t){t.Line="line",t.Handle="handle"})(qr||(qr={}));function vp({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:l,affectsY:u}){const s=t-e,f=n-r,a=[s>0?1:s<0?-1:0,f>0?1:f<0?-1:0];return s&&l&&(a[0]=a[0]*-1),f&&u&&(a[1]=a[1]*-1),a}function pp(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),l=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:l}}function pi(t,e){return Math.max(0,e-t)}function Si(t,e){return Math.max(0,t-e)}function dl(t,e,n){return Math.max(0,e-t,t-n)}function gd(t,e){return t?!e:e}function Sp(t,e,n,r,l,u,s,f){let{affectsX:a,affectsY:d}=e;const{isHorizontal:h,isVertical:g}=e,m=h&&g,{xSnapped:y,ySnapped:v}=n,{minWidth:p,maxWidth:M,minHeight:w,maxHeight:z}=r,{x:k,y:C,width:P,height:O,aspectRatio:H}=t;let L=Math.floor(h?y-t.pointerX:0),W=Math.floor(g?v-t.pointerY:0);const x=P+(a?-L:L),I=O+(d?-W:W),X=-u[0]*P,B=-u[1]*O;let T=dl(x,p,M),K=dl(I,w,z);if(s){let G=0,j=0;a&&L<0?G=pi(k+L+X,s[0][0]):!a&&L>0&&(G=Si(k+x+X,s[1][0])),d&&W<0?j=pi(C+W+B,s[0][1]):!d&&W>0&&(j=Si(C+I+B,s[1][1])),T=Math.max(T,G),K=Math.max(K,j)}if(f){let G=0,j=0;a&&L>0?G=Si(k+L,f[0][0]):!a&&L<0&&(G=pi(k+x,f[1][0])),d&&W>0?j=Si(C+W,f[0][1]):!d&&W<0&&(j=pi(C+I,f[1][1])),T=Math.max(T,G),K=Math.max(K,j)}if(l){if(h){const G=dl(x/H,w,z)*H;if(T=Math.max(T,G),s){let j=0;!a&&!d||a&&!d&&m?j=Si(C+B+x/H,s[1][1])*H:j=pi(C+B+(a?L:-L)/H,s[0][1])*H,T=Math.max(T,j)}if(f){let j=0;!a&&!d||a&&!d&&m?j=pi(C+x/H,f[1][1])*H:j=Si(C+(a?L:-L)/H,f[0][1])*H,T=Math.max(T,j)}}if(g){const G=dl(I*H,p,M)/H;if(K=Math.max(K,G),s){let j=0;!a&&!d||d&&!a&&m?j=Si(k+I*H+X,s[1][0])/H:j=pi(k+(d?W:-W)*H+X,s[0][0])/H,K=Math.max(K,j)}if(f){let j=0;!a&&!d||d&&!a&&m?j=pi(k+I*H,f[1][0])/H:j=Si(k+(d?W:-W)*H,f[0][0])/H,K=Math.max(K,j)}}}W=W+(W<0?K:-K),L=L+(L<0?T:-T),l&&(m?x>I*H?W=(gd(a,d)?-L:L)/H:L=(gd(a,d)?-W:W)*H:h?(W=L/H,d=a):(L=W*H,a=d));const Y=a?k+L:k,q=d?C+W:C;return{width:P+(a?-L:L),height:O+(d?-W:W),x:u[0]*L*(a?-1:1)+Y,y:u[1]*W*(d?-1:1)+q}}const o1={width:0,height:0,x:0,y:0},kp={...o1,pointerX:0,pointerY:0,aspectRatio:1},Ep={x:0,y:0,width:0,height:0,isXPosChange:!1,isYPosChange:!1,isWidthChange:!1,isHeightChange:!1};function Cp(t){return[[0,0],[t.computed.width,t.computed.height]]}function Ap(t,e,n){const r=e.position.x+t.position.x,l=e.position.y+t.position.y,u=t.computed.width??0,s=t.computed.height??0,f=n[0]*u,a=n[1]*s;return[[r-f,l-a],[r+u-f,l+s-a]]}function Mp({domNode:t,nodeId:e,getStoreItems:n,onChange:r}){const l=fn(t);function u({controlPosition:f,boundaries:a,keepAspectRatio:d,onResizeStart:h,onResize:g,onResizeEnd:m,shouldResize:y}){let v={...o1},p={...kp};const M=pp(f);let w,z=[],k,C,P;const O=Ch().on("start",H=>{var B,T;const{nodeLookup:L,transform:W,snapGrid:x,snapToGrid:I,nodeOrigin:X}=n();if(w=L.get(e),w){const{xSnapped:K,ySnapped:Y}=Gr(H.sourceEvent,{transform:W,snapGrid:x,snapToGrid:I});v={width:((B=w.computed)==null?void 0:B.width)??0,height:((T=w.computed)==null?void 0:T.height)??0,x:w.position.x??0,y:w.position.y??0},p={...v,pointerX:K,pointerY:Y,aspectRatio:v.width/v.height},k=void 0,(w.extent==="parent"||w.expandParent)&&(k=L.get(w.parentNode),k&&w.extent==="parent"&&(C=Cp(k))),z=[],P=void 0;for(const[q,G]of L)if(G.parentNode===e&&(z.push({id:q,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const j=Ap(G,w,G.origin??X);P?P=[[Math.min(j[0][0],P[0][0]),Math.min(j[0][1],P[0][1])],[Math.max(j[1][0],P[1][0]),Math.max(j[1][1],P[1][1])]]:P=j}h==null||h(H,{...v})}}).on("drag",H=>{const{transform:L,snapGrid:W,snapToGrid:x,nodeOrigin:I}=n(),X=Gr(H.sourceEvent,{transform:L,snapGrid:W,snapToGrid:x}),B=[];if(w){const{x:T,y:K,width:Y,height:q}=v,G={...Ep},j=w.origin??I,{width:fe,height:ae,x:Q,y:ve}=Sp(p,M,X,a,d,j,C,P),ke=fe!==Y,Pe=ae!==q,R=Q!==T&&ke,he=ve!==K&&Pe;if((R||he||j[0]===1||j[1]==1)&&(G.isXPosChange=R,G.isYPosChange=he,G.x=R?Q:T,G.y=he?ve:K,v.x=G.x,v.y=G.y,k&&w.expandParent&&(G.x<0&&(v.x=0,p.x=p.x-G.x),G.y<0&&(v.y=0,p.y=p.y-G.y)),z.length>0)){const Ye=Q-T,nt=ve-K;for(const it of z)it.position={x:it.position.x-Ye+j[0]*(fe-Y),y:it.position.y-nt+j[1]*(ae-q)},B.push(it)}if((ke||Pe)&&(G.isWidthChange=ke,G.isHeightChange=Pe,G.width=fe,G.height=ae,v.width=G.width,v.height=G.height),!G.isXPosChange&&!G.isYPosChange&&!ke&&!Pe)return;const _e=vp({width:v.width,prevWidth:Y,height:v.height,prevHeight:q,affectsX:M.affectsX,affectsY:M.affectsY}),oe={...v,direction:_e};if((y==null?void 0:y(H,oe))===!1)return;g==null||g(H,oe),r(G,B)}}).on("end",H=>{m==null||m(H,{...v})});l.call(O)}function s(){l.on(".drag",null)}return{update:u,destroy:s}}function Pp(t){let e,n,r,l,u,s;const f=t[43].default,a=Wt(f,t,t[42],null);return{c(){e=ze("div"),a&&a.c(),A(e,"data-handleid",t[15]),A(e,"data-nodeid",t[13]),A(e,"data-handlepos",t[3]),A(e,"data-id",n=t[11]+"-"+t[13]+"-"+(t[1]||null)+"-"+t[2]),A(e,"class",r=je(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),A(e,"style",t[4]),A(e,"role","button"),A(e,"tabindex","-1"),Be(e,"valid",t[7]),Be(e,"connectingto",t[6]),Be(e,"connectingfrom",t[9]),Be(e,"source",!t[12]),Be(e,"target",t[12]),Be(e,"connectablestart",t[0]),Be(e,"connectableend",t[0]),Be(e,"connectable",t[0]),Be(e,"connectionindicator",t[0]&&(!t[10]||t[8]))},m(d,h){ee(d,e,h),a&&a.m(e,null),l=!0,u||(s=[De(e,"mousedown",t[32]),De(e,"touchstart",t[32])],u=!0)},p(d,h){a&&a.p&&(!l||h[1]&2048)&&Xt(a,f,d,d[42],l?Bt(f,d[42],h,null):Yt(d[42]),null),(!l||h[0]&8)&&A(e,"data-handlepos",d[3]),(!l||h[0]&2054&&n!==(n=d[11]+"-"+d[13]+"-"+(d[1]||null)+"-"+d[2]))&&A(e,"data-id",n),(!l||h[0]&40&&r!==(r=je(["svelte-flow__handle",`svelte-flow__handle-${d[3]}`,"nodrag","nopan",d[3],d[5]])))&&A(e,"class",r),(!l||h[0]&16)&&A(e,"style",d[4]),(!l||h[0]&168)&&Be(e,"valid",d[7]),(!l||h[0]&104)&&Be(e,"connectingto",d[6]),(!l||h[0]&552)&&Be(e,"connectingfrom",d[9]),(!l||h[0]&4136)&&Be(e,"source",!d[12]),(!l||h[0]&4136)&&Be(e,"target",d[12]),(!l||h[0]&41)&&Be(e,"connectablestart",d[0]),(!l||h[0]&41)&&Be(e,"connectableend",d[0]),(!l||h[0]&41)&&Be(e,"connectable",d[0]),(!l||h[0]&1321)&&Be(e,"connectionindicator",d[0]&&(!d[10]||d[8]))},i(d){l||(J(a,d),l=!0)},o(d){ne(a,d),l=!1},d(d){d&&$(e),a&&a.d(d),u=!1,vt(s)}}}function Tp(t,e,n){let r,l,u,s,f,a,d,h,g,m,y,v,p,M,w,z,k,C,P,O,H,L,{$$slots:W={},$$scope:x}=e,{id:I=void 0}=e,{type:X="source"}=e,{position:B=Ve.Top}=e,{style:T=void 0}=e,{isConnectable:K=void 0}=e,{onconnect:Y=void 0}=e,{ondisconnect:q=void 0}=e,{class:G=void 0}=e;const j=X==="target",fe=Qr("svelteflow__node_id"),ae=Qr("svelteflow__node_connectable");de(t,ae,ge=>n(41,L=ge));const Q=I||null,ve=ft(),{connectionMode:ke,domNode:Pe,nodes:R,connectionRadius:he,viewport:_e,isValidConnection:oe,lib:le,addEdge:Ye,onedgecreate:nt,panBy:it,cancelConnection:ot,updateConnection:$e,autoPanOnConnect:Sn,edges:kt,connectionLookup:tn,onconnect:cn,onconnectstart:pe,onconnectend:pt,flowId:qt,connection:dn}=ve;de(t,ke,ge=>n(38,d=ge)),de(t,Pe,ge=>n(53,O=ge)),de(t,R,ge=>n(52,P=ge)),de(t,he,ge=>n(54,H=ge)),de(t,_e,ge=>n(44,m=ge)),de(t,oe,ge=>n(49,w=ge)),de(t,le,ge=>n(51,C=ge)),de(t,nt,ge=>n(48,M=ge)),de(t,Sn,ge=>n(50,k=ge)),de(t,kt,ge=>n(40,g=ge)),de(t,tn,ge=>n(39,h=ge)),de(t,cn,ge=>n(47,p=ge)),de(t,pe,ge=>n(46,v=ge)),de(t,pt,ge=>n(45,y=ge)),de(t,qt,ge=>n(11,z=ge)),de(t,dn,ge=>n(37,a=ge));function ce(ge){const Lt=xh(ge);(Lt&&ge.button===0||!Lt)&&ap.onPointerDown(ge,{handleId:Q,nodeId:fe,isTarget:j,connectionRadius:H,domNode:O,nodes:P,connectionMode:d,lib:C,autoPanOnConnect:k,flowId:z,isValidConnection:w,updateConnection:$e,cancelConnection:ot,panBy:it,onConnect:Mt=>{const Ot=M?M(Mt):Mt;Ot&&(Ye(Ot),p==null||p(Mt))},onConnectStart:(Mt,Ot)=>{v==null||v(Mt,{nodeId:Ot.nodeId,handleId:Ot.handleId,handleType:Ot.handleType})},onConnectEnd:Mt=>{y==null||y(Mt)},getTransform:()=>[m.x,m.y,m.zoom],getConnectionStartHandle:()=>a.startHandle})}let At=null,It;return t.$$set=ge=>{"id"in ge&&n(1,I=ge.id),"type"in ge&&n(2,X=ge.type),"position"in ge&&n(3,B=ge.position),"style"in ge&&n(4,T=ge.style),"isConnectable"in ge&&n(0,K=ge.isConnectable),"onconnect"in ge&&n(33,Y=ge.onconnect),"ondisconnect"in ge&&n(34,q=ge.ondisconnect),"class"in ge&&n(5,G=ge.class),"$$scope"in ge&&n(42,x=ge.$$scope)},t.$$.update=()=>{var ge,Lt,Mt,Ot,Nn,Ln,hn,Rn,Un;if(t.$$.dirty[0]&1|t.$$.dirty[1]&1024&&n(0,K=K!==void 0?K:L),t.$$.dirty[0]&6|t.$$.dirty[1]&780&&(Y||q)&&n(36,It=h.get(`${fe}-${X}-${I||null}`)),t.$$.dirty[1]&60){if(At&&!O5(It,At)){const xn=It??new Map;$c(At,xn,q),$c(xn,At,Y)}n(35,At=It??new Map)}t.$$.dirty[1]&64&&n(10,r=!!a.startHandle),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(9,l=((ge=a.startHandle)==null?void 0:ge.nodeId)===fe&&((Lt=a.startHandle)==null?void 0:Lt.type)===X&&((Mt=a.startHandle)==null?void 0:Mt.handleId)===Q),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(6,u=((Ot=a.endHandle)==null?void 0:Ot.nodeId)===fe&&((Nn=a.endHandle)==null?void 0:Nn.type)===X&&((Ln=a.endHandle)==null?void 0:Ln.handleId)===Q),t.$$.dirty[0]&4|t.$$.dirty[1]&192&&n(8,s=d===Ei.Strict?((hn=a.startHandle)==null?void 0:hn.type)!==X:fe!==((Rn=a.startHandle)==null?void 0:Rn.nodeId)||Q!==((Un=a.startHandle)==null?void 0:Un.handleId)),t.$$.dirty[0]&64|t.$$.dirty[1]&64&&n(7,f=u&&a.status==="valid")},[K,I,X,B,T,G,u,f,s,l,r,z,j,fe,ae,Q,ke,Pe,R,he,_e,oe,le,nt,Sn,kt,tn,cn,pe,pt,qt,dn,ce,Y,q,At,It,a,d,h,g,L,x,W]}class Ip extends Ie{constructor(e){super(),Te(this,e,Tp,Pp,Oe,{id:1,type:2,position:3,style:4,isConnectable:0,onconnect:33,ondisconnect:34,class:5},null,[-1,-1])}}const ro=Ip;function Op(t){var a;let e,n,r=((a=t[0])==null?void 0:a.label)+"",l,u,s,f;return e=new ro({props:{type:"target",position:t[1]}}),s=new ro({props:{type:"source",position:t[2]}}),{c(){be(e.$$.fragment),n=He(),l=Gt(r),u=He(),be(s.$$.fragment)},m(d,h){ye(e,d,h),ee(d,n,h),ee(d,l,h),ee(d,u,h),ye(s,d,h),f=!0},p(d,[h]){var y;const g={};h&2&&(g.position=d[1]),e.$set(g),(!f||h&1)&&r!==(r=((y=d[0])==null?void 0:y.label)+"")&&Xi(l,r);const m={};h&4&&(m.position=d[2]),s.$set(m)},i(d){f||(J(e.$$.fragment,d),J(s.$$.fragment,d),f=!0)},o(d){ne(e.$$.fragment,d),ne(s.$$.fragment,d),f=!1},d(d){d&&($(n),$(l),$(u)),we(e,d),we(s,d)}}}function zp(t,e,n){let{data:r={label:"Node"}}=e,{targetPosition:l=Ve.Top}=e,{sourcePosition:u=Ve.Bottom}=e,{id:s=""}=e,{width:f=void 0}=e,{height:a=void 0}=e,{selected:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:v=0}=e,{isConnectable:p}=e,{zIndex:M}=e;return t.$$set=w=>{"data"in w&&n(0,r=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"sourcePosition"in w&&n(2,u=w.sourcePosition),"id"in w&&n(3,s=w.id),"width"in w&&n(4,f=w.width),"height"in w&&n(5,a=w.height),"selected"in w&&n(6,d=w.selected),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,v=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,M=w.zIndex)},[r,l,u,s,f,a,d,h,g,m,y,v,p,M]}class Hp extends Ie{constructor(e){super(),Te(this,e,zp,Op,Oe,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const l1=Hp;function Np(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,r,l,u;return l=new ro({props:{type:"source",position:t[1]}}),{c(){n=Gt(e),r=He(),be(l.$$.fragment)},m(f,a){ee(f,n,a),ee(f,r,a),ye(l,f,a),u=!0},p(f,[a]){var h;(!u||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&Xi(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){u||(J(l.$$.fragment,f),u=!0)},o(f){ne(l.$$.fragment,f),u=!1},d(f){f&&($(n),$(r)),we(l,f)}}}function Lp(t,e,n){let{data:r={label:"Node"}}=e,{sourcePosition:l=Ve.Bottom}=e,{id:u=""}=e,{width:s=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:v=0}=e,{isConnectable:p}=e,{zIndex:M}=e;return t.$$set=w=>{"data"in w&&n(0,r=w.data),"sourcePosition"in w&&n(1,l=w.sourcePosition),"id"in w&&n(2,u=w.id),"width"in w&&n(3,s=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,v=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,M=w.zIndex)},[r,l,u,s,f,a,d,h,g,m,y,v,p,M]}class Rp extends Ie{constructor(e){super(),Te(this,e,Lp,Np,Oe,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Dp=Rp;function Wp(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,r,l,u;return l=new ro({props:{type:"target",position:t[1]}}),{c(){n=Gt(e),r=He(),be(l.$$.fragment)},m(f,a){ee(f,n,a),ee(f,r,a),ye(l,f,a),u=!0},p(f,[a]){var h;(!u||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&Xi(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){u||(J(l.$$.fragment,f),u=!0)},o(f){ne(l.$$.fragment,f),u=!1},d(f){f&&($(n),$(r)),we(l,f)}}}function Bp(t,e,n){let{data:r={label:"Node"}}=e,{targetPosition:l=Ve.Top}=e,{id:u=""}=e,{width:s=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{sourcePosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:v=0}=e,{isConnectable:p}=e,{zIndex:M}=e;return t.$$set=w=>{"data"in w&&n(0,r=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"id"in w&&n(2,u=w.id),"width"in w&&n(3,s=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"sourcePosition"in w&&n(6,d=w.sourcePosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,v=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,M=w.zIndex)},[r,l,u,s,f,a,d,h,g,m,y,v,p,M]}class Xp extends Ie{constructor(e){super(),Te(this,e,Bp,Wp,Oe,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Yp=Xp;function Fp(t,e,n){let{id:r=""}=e,{width:l=void 0}=e,{height:u=void 0}=e,{data:s={}}=e,{selected:f=void 0}=e,{sourcePosition:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:v=0}=e,{isConnectable:p}=e,{zIndex:M}=e;return t.$$set=w=>{"id"in w&&n(0,r=w.id),"width"in w&&n(1,l=w.width),"height"in w&&n(2,u=w.height),"data"in w&&n(3,s=w.data),"selected"in w&&n(4,f=w.selected),"sourcePosition"in w&&n(5,a=w.sourcePosition),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,v=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,M=w.zIndex)},[r,l,u,s,f,a,d,h,g,m,y,v,p,M]}class Vp extends Ie{constructor(e){super(),Te(this,e,Fp,null,Oe,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Kp=Vp;function md(t,e,n){if(!e)return;const r=n?e.querySelector(n):e;r&&r.appendChild(t)}function Up(t,{target:e,domNode:n}){return md(t,n,e),{async update({target:r,domNode:l}){md(t,l,r)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function xp(t){let e,n,r,l,u;const s=t[3].default,f=Wt(s,t,t[2],null);return{c(){e=ze("div"),f&&f.c()},m(a,d){ee(a,e,d),f&&f.m(e,null),r=!0,l||(u=xt(n=Up.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),l=!0)},p(a,[d]){f&&f.p&&(!r||d&4)&&Xt(f,s,a,a[2],r?Bt(s,a[2],d,null):Yt(a[2]),null),n&&ct(n.update)&&d&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){r||(J(f,a),r=!0)},o(a){ne(f,a),r=!1},d(a){a&&$(e),f&&f.d(a),l=!1,u()}}}function Gp(t,e,n){let r,{$$slots:l={},$$scope:u}=e;const{domNode:s}=ft();return de(t,s,f=>n(0,r=f)),t.$$set=f=>{"$$scope"in f&&n(2,u=f.$$scope)},[r,s,u,l]}class qp extends Ie{constructor(e){super(),Te(this,e,Gp,xp,Oe,{})}}function u1(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:r,addSelectedEdges:l,unselectNodesAndEdges:u,elementsSelectable:s}=ft();return f=>{const a=ue(t).get(f);if(!a){console.warn("012",fo.error012(f));return}(a.selectable||ue(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&ue(r)&&u({nodes:[],edges:[a]}):l([f]))}}function Zp(t){let e,n,r=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,l,u,s;const f=t[5].default,a=Wt(f,t,t[7],null);return{c(){e=ze("div"),a&&a.c(),A(e,"class","svelte-flow__edge-label"),A(e,"style",n="pointer-events: all;"+t[0]),A(e,"role","button"),A(e,"tabindex","-1"),We(e,"transform",r)},m(d,h){ee(d,e,h),a&&a.m(e,null),l=!0,u||(s=[De(e,"keyup",Qp),De(e,"click",t[6])],u=!0)},p(d,h){a&&a.p&&(!l||h&128)&&Xt(a,f,d,d[7],l?Bt(f,d[7],h,null):Yt(d[7]),null),(!l||h&1&&n!==(n="pointer-events: all;"+d[0]))&&A(e,"style",n);const g=h&1;(h&7&&r!==(r=`translate(-50%, -50%) translate(${d[1]}px,${d[2]}px)`)||g)&&We(e,"transform",r)},i(d){l||(J(a,d),l=!0)},o(d){ne(a,d),l=!1},d(d){d&&$(e),a&&a.d(d),u=!1,vt(s)}}}function Jp(t){let e,n;return e=new qp({props:{$$slots:{default:[Zp]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&135&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}const Qp=()=>{};function jp(t,e,n){let{$$slots:r={},$$scope:l}=e,{style:u=void 0}=e,{x:s=void 0}=e,{y:f=void 0}=e;const a=u1(),d=Qr("svelteflow__edge_id"),h=()=>{d&&a(d)};return t.$$set=g=>{"style"in g&&n(0,u=g.style),"x"in g&&n(1,s=g.x),"y"in g&&n(2,f=g.y),"$$scope"in g&&n(7,l=g.$$scope)},[u,s,f,a,d,r,h,l]}class $p extends Ie{constructor(e){super(),Te(this,e,jp,Jp,Oe,{style:0,x:1,y:2})}}const e4=$p;function t4(t){let e;return{c(){e=Xe("path"),A(e,"d",t[1]),A(e,"stroke-opacity",0),A(e,"stroke-width",t[10]),A(e,"fill","none"),A(e,"class","svelte-flow__edge-interaction")},m(n,r){ee(n,e,r)},p(n,r){r&2&&A(e,"d",n[1])},d(n){n&&$(e)}}}function _d(t){let e,n;return e=new e4({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[n4]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&8&&(u.x=r[3]),l&16&&(u.y=r[4]),l&32&&(u.style=r[5]),l&4100&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function n4(t){let e;return{c(){e=Gt(t[2])},m(n,r){ee(n,e,r)},p(n,r){r&4&&Xi(e,n[2])},d(n){n&&$(e)}}}function i4(t){let e,n,r,l,u,s,f=t[10]&&t4(t),a=t[2]&&_d(t);return{c(){e=Xe("path"),r=He(),f&&f.c(),l=He(),a&&a.c(),u=_t(),A(e,"id",t[0]),A(e,"d",t[1]),A(e,"class",n=je(["svelte-flow__edge-path",t[9]])),A(e,"marker-start",t[6]),A(e,"marker-end",t[7]),A(e,"fill","none"),A(e,"style",t[8])},m(d,h){ee(d,e,h),ee(d,r,h),f&&f.m(d,h),ee(d,l,h),a&&a.m(d,h),ee(d,u,h),s=!0},p(d,[h]){(!s||h&1)&&A(e,"id",d[0]),(!s||h&2)&&A(e,"d",d[1]),(!s||h&512&&n!==(n=je(["svelte-flow__edge-path",d[9]])))&&A(e,"class",n),(!s||h&64)&&A(e,"marker-start",d[6]),(!s||h&128)&&A(e,"marker-end",d[7]),(!s||h&256)&&A(e,"style",d[8]),d[10]&&f.p(d,h),d[2]?a?(a.p(d,h),h&4&&J(a,1)):(a=_d(d),a.c(),J(a,1),a.m(u.parentNode,u)):a&&(gt(),ne(a,1,1,()=>{a=null}),mt())},i(d){s||(J(a),s=!0)},o(d){ne(a),s=!1},d(d){d&&($(e),$(r),$(l),$(u)),f&&f.d(d),a&&a.d(d)}}}function r4(t,e,n){let{id:r=void 0}=e,{path:l}=e,{label:u=void 0}=e,{labelX:s=void 0}=e,{labelY:f=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:d=void 0}=e,{markerEnd:h=void 0}=e,{style:g=void 0}=e,{interactionWidth:m=20}=e,{class:y=void 0}=e,v=m===void 0?20:m;return t.$$set=p=>{"id"in p&&n(0,r=p.id),"path"in p&&n(1,l=p.path),"label"in p&&n(2,u=p.label),"labelX"in p&&n(3,s=p.labelX),"labelY"in p&&n(4,f=p.labelY),"labelStyle"in p&&n(5,a=p.labelStyle),"markerStart"in p&&n(6,d=p.markerStart),"markerEnd"in p&&n(7,h=p.markerEnd),"style"in p&&n(8,g=p.style),"interactionWidth"in p&&n(11,m=p.interactionWidth),"class"in p&&n(9,y=p.class)},[r,l,u,s,f,a,d,h,g,y,v,m]}class o4 extends Ie{constructor(e){super(),Te(this,e,r4,i4,Oe,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const ho=o4;function l4(t){let e,n;return e=new ho({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&256&&(u.path=r[8]),l&128&&(u.labelX=r[7]),l&64&&(u.labelY=r[6]),l&1&&(u.label=r[0]),l&2&&(u.labelStyle=r[1]),l&8&&(u.markerStart=r[3]),l&16&&(u.markerEnd=r[4]),l&32&&(u.interactionWidth=r[5]),l&4&&(u.style=r[2]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function u4(t,e,n){let r,l,u,{id:s=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="default"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:v=void 0}=e,{style:p=void 0}=e,{markerStart:M=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:z=void 0}=e,{sourceX:k}=e,{sourceY:C}=e,{sourcePosition:P}=e,{sourceHandleId:O=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:x=void 0}=e;return t.$$set=I=>{"id"in I&&n(9,s=I.id),"source"in I&&n(10,f=I.source),"target"in I&&n(11,a=I.target),"type"in I&&n(12,d=I.type),"animated"in I&&n(13,h=I.animated),"selected"in I&&n(14,g=I.selected),"label"in I&&n(0,m=I.label),"labelStyle"in I&&n(1,y=I.labelStyle),"data"in I&&n(15,v=I.data),"style"in I&&n(2,p=I.style),"markerStart"in I&&n(3,M=I.markerStart),"markerEnd"in I&&n(4,w=I.markerEnd),"interactionWidth"in I&&n(5,z=I.interactionWidth),"sourceX"in I&&n(16,k=I.sourceX),"sourceY"in I&&n(17,C=I.sourceY),"sourcePosition"in I&&n(18,P=I.sourcePosition),"sourceHandleId"in I&&n(19,O=I.sourceHandleId),"targetX"in I&&n(20,H=I.targetX),"targetY"in I&&n(21,L=I.targetY),"targetPosition"in I&&n(22,W=I.targetPosition),"targetHandleId"in I&&n(23,x=I.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[r,l,u]=Gh({sourceX:k,sourceY:C,targetX:H,targetY:L,sourcePosition:P,targetPosition:W}),r,(n(7,l),n(16,k),n(17,C),n(20,H),n(21,L),n(18,P),n(22,W)),(n(6,u),n(16,k),n(17,C),n(20,H),n(21,L),n(18,P),n(22,W)))},[m,y,p,M,w,z,u,l,r,s,f,a,d,h,g,v,k,C,P,O,H,L,W,x]}class s4 extends Ie{constructor(e){super(),Te(this,e,u4,l4,Oe,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const s1=s4;function f4(t){let e,n;return e=new ho({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&256&&(u.path=r[8]),l&128&&(u.labelX=r[7]),l&64&&(u.labelY=r[6]),l&1&&(u.label=r[0]),l&2&&(u.labelStyle=r[1]),l&8&&(u.markerStart=r[3]),l&16&&(u.markerEnd=r[4]),l&32&&(u.interactionWidth=r[5]),l&4&&(u.style=r[2]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function a4(t,e,n){let r,l,u,{id:s=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="smoothstep"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:v=void 0}=e,{style:p=void 0}=e,{markerStart:M=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:z=void 0}=e,{sourceX:k}=e,{sourceY:C}=e,{sourcePosition:P}=e,{sourceHandleId:O=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:x=void 0}=e;return t.$$set=I=>{"id"in I&&n(9,s=I.id),"source"in I&&n(10,f=I.source),"target"in I&&n(11,a=I.target),"type"in I&&n(12,d=I.type),"animated"in I&&n(13,h=I.animated),"selected"in I&&n(14,g=I.selected),"label"in I&&n(0,m=I.label),"labelStyle"in I&&n(1,y=I.labelStyle),"data"in I&&n(15,v=I.data),"style"in I&&n(2,p=I.style),"markerStart"in I&&n(3,M=I.markerStart),"markerEnd"in I&&n(4,w=I.markerEnd),"interactionWidth"in I&&n(5,z=I.interactionWidth),"sourceX"in I&&n(16,k=I.sourceX),"sourceY"in I&&n(17,C=I.sourceY),"sourcePosition"in I&&n(18,P=I.sourcePosition),"sourceHandleId"in I&&n(19,O=I.sourceHandleId),"targetX"in I&&n(20,H=I.targetX),"targetY"in I&&n(21,L=I.targetY),"targetPosition"in I&&n(22,W=I.targetPosition),"targetHandleId"in I&&n(23,x=I.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[r,l,u]=wr({sourceX:k,sourceY:C,targetX:H,targetY:L,sourcePosition:P,targetPosition:W}),r,(n(7,l),n(16,k),n(17,C),n(20,H),n(21,L),n(18,P),n(22,W)),(n(6,u),n(16,k),n(17,C),n(20,H),n(21,L),n(18,P),n(22,W)))},[m,y,p,M,w,z,u,l,r,s,f,a,d,h,g,v,k,C,P,O,H,L,W,x]}class c4 extends Ie{constructor(e){super(),Te(this,e,a4,f4,Oe,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const d4=c4;function h4(t){let e,n;return e=new ho({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&256&&(u.path=r[8]),l&128&&(u.labelX=r[7]),l&64&&(u.labelY=r[6]),l&1&&(u.label=r[0]),l&2&&(u.labelStyle=r[1]),l&8&&(u.markerStart=r[3]),l&16&&(u.markerEnd=r[4]),l&32&&(u.interactionWidth=r[5]),l&4&&(u.style=r[2]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function g4(t,e,n){let r,l,u,{id:s=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="straight"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:v=void 0}=e,{style:p=void 0}=e,{markerStart:M=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:z=void 0}=e,{sourceX:k}=e,{sourceY:C}=e,{sourcePosition:P}=e,{sourceHandleId:O=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:x=void 0}=e;return t.$$set=I=>{"id"in I&&n(9,s=I.id),"source"in I&&n(10,f=I.source),"target"in I&&n(11,a=I.target),"type"in I&&n(12,d=I.type),"animated"in I&&n(13,h=I.animated),"selected"in I&&n(14,g=I.selected),"label"in I&&n(0,m=I.label),"labelStyle"in I&&n(1,y=I.labelStyle),"data"in I&&n(15,v=I.data),"style"in I&&n(2,p=I.style),"markerStart"in I&&n(3,M=I.markerStart),"markerEnd"in I&&n(4,w=I.markerEnd),"interactionWidth"in I&&n(5,z=I.interactionWidth),"sourceX"in I&&n(16,k=I.sourceX),"sourceY"in I&&n(17,C=I.sourceY),"sourcePosition"in I&&n(18,P=I.sourcePosition),"sourceHandleId"in I&&n(19,O=I.sourceHandleId),"targetX"in I&&n(20,H=I.targetX),"targetY"in I&&n(21,L=I.targetY),"targetPosition"in I&&n(22,W=I.targetPosition),"targetHandleId"in I&&n(23,x=I.targetHandleId)},t.$$.update=()=>{t.$$.dirty&3342336&&n(8,[r,l,u]=Zh({sourceX:k,sourceY:C,targetX:H,targetY:L}),r,(n(7,l),n(16,k),n(17,C),n(20,H),n(21,L)),(n(6,u),n(16,k),n(17,C),n(20,H),n(21,L)))},[m,y,p,M,w,z,u,l,r,s,f,a,d,h,g,v,k,C,P,O,H,L,W,x]}class m4 extends Ie{constructor(e){super(),Te(this,e,g4,h4,Oe,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const _4=m4;function y4(t){let e,n;return e=new ho({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&256&&(u.path=r[8]),l&128&&(u.labelX=r[7]),l&64&&(u.labelY=r[6]),l&1&&(u.label=r[0]),l&2&&(u.labelStyle=r[1]),l&8&&(u.markerStart=r[3]),l&16&&(u.markerEnd=r[4]),l&32&&(u.interactionWidth=r[5]),l&4&&(u.style=r[2]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function w4(t,e,n){let r,l,u,{id:s=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="step"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{data:y=void 0}=e,{labelStyle:v=void 0}=e,{style:p=void 0}=e,{markerStart:M=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:z=void 0}=e,{sourceX:k}=e,{sourceY:C}=e,{sourcePosition:P}=e,{sourceHandleId:O=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:x=void 0}=e;return t.$$set=I=>{"id"in I&&n(9,s=I.id),"source"in I&&n(10,f=I.source),"target"in I&&n(11,a=I.target),"type"in I&&n(12,d=I.type),"animated"in I&&n(13,h=I.animated),"selected"in I&&n(14,g=I.selected),"label"in I&&n(0,m=I.label),"data"in I&&n(15,y=I.data),"labelStyle"in I&&n(1,v=I.labelStyle),"style"in I&&n(2,p=I.style),"markerStart"in I&&n(3,M=I.markerStart),"markerEnd"in I&&n(4,w=I.markerEnd),"interactionWidth"in I&&n(5,z=I.interactionWidth),"sourceX"in I&&n(16,k=I.sourceX),"sourceY"in I&&n(17,C=I.sourceY),"sourcePosition"in I&&n(18,P=I.sourcePosition),"sourceHandleId"in I&&n(19,O=I.sourceHandleId),"targetX"in I&&n(20,H=I.targetX),"targetY"in I&&n(21,L=I.targetY),"targetPosition"in I&&n(22,W=I.targetPosition),"targetHandleId"in I&&n(23,x=I.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[r,l,u]=wr({sourceX:k,sourceY:C,targetX:H,targetY:L,sourcePosition:P,targetPosition:W,borderRadius:0}),r,(n(7,l),n(16,k),n(17,C),n(20,H),n(21,L),n(18,P),n(22,W)),(n(6,u),n(16,k),n(17,C),n(20,H),n(21,L),n(18,P),n(22,W)))},[m,v,p,M,w,z,u,l,r,s,f,a,d,h,g,y,k,C,P,O,H,L,W,x]}class b4 extends Ie{constructor(e){super(),Te(this,e,w4,y4,Oe,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,data:15,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const v4=b4;function p4(t,e){const n=t.set,r=e.set,l=ue(t),u=ue(e);let f=l.length===0&&u.length>0?u:l;t.set(f);const a=d=>{const h=n(d);return f=h,r(f),h};t.set=e.set=a,t.update=e.update=d=>a(d(f))}function S4(t,e){const n=t.set,r=e.set;let l=ue(e);t.set(l);const u=s=>{n(s),r(s),l=s};t.set=e.set=u,t.update=e.update=s=>u(s(l))}const k4=(t,e,n)=>{if(!n)return;const r=ue(t),l=e.set,u=n.set;let s=n?ue(n):{x:0,y:0,zoom:1};e.set(s),e.set=f=>(l(f),u(f),s=f,f),n.set=f=>(r==null||r.syncViewport(f),l(f),u(f),s=f,f),e.update=f=>{e.set(f(s))},n.update=f=>{n.set(f(s))}},E4=(t,e)=>{const{subscribe:n,set:r,update:l}=Ae([]);let u=t,s={},f=!0;const a=m=>(u=Jh(m,e,{elevateNodesOnSelect:f,defaults:s}),r(u),u),d=m=>a(m(u)),h=m=>{s=m},g=m=>{f=m.elevateNodesOnSelect??f};return a(u),{subscribe:n,set:a,update:d,setDefaultOptions:h,setOptions:g}},C4=(t,e,n,r)=>{const{subscribe:l,set:u,update:s}=Ae([]);let f=t,a=r||{};const d=m=>{const y=a?m.map(v=>({...a,...v})):m;jh(e,n,y),f=y,u(f)},h=m=>d(m(f)),g=m=>{a=m};return d(f),{subscribe:l,set:d,update:h,setDefaultOptions:g}},f1={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},A4={[Ve.Left]:Ve.Right,[Ve.Right]:Ve.Left,[Ve.Top]:Ve.Bottom,[Ve.Bottom]:Ve.Top};function M4(t,e){return hr([e,t.connectionLineType,t.connectionMode,t.nodeLookup,t.viewport],([n,r,l,u,s])=>{var P,O,H,L,W,x,I,X,B,T,K,Y,q;if(!((P=n.connectionStartHandle)!=null&&P.nodeId))return f1;const f=u.get((O=n.connectionStartHandle)==null?void 0:O.nodeId),a=(H=f==null?void 0:f[ht])==null?void 0:H.handleBounds,d=(a==null?void 0:a[n.connectionStartHandle.type||"source"])||[],h=d||(a==null?void 0:a[((L=n==null?void 0:n.connectionStartHandle)==null?void 0:L.type)==="source"?"target":"source"]),g=l===Ei.Strict?d:h,m=(W=n.connectionStartHandle)!=null&&W.handleId?g==null?void 0:g.find(G=>{var j;return G.id===((j=n.connectionStartHandle)==null?void 0:j.handleId)}):g==null?void 0:g[0],y=m?m.x+m.width/2:(((x=f==null?void 0:f.computed)==null?void 0:x.width)??0)/2,v=m?m.y+m.height/2:((I=f==null?void 0:f.computed)==null?void 0:I.height)??0,p=(((B=(X=f==null?void 0:f.computed)==null?void 0:X.positionAbsolute)==null?void 0:B.x)??0)+y,M=(((K=(T=f==null?void 0:f.computed)==null?void 0:T.positionAbsolute)==null?void 0:K.y)??0)+v,w=m==null?void 0:m.position,z=w?A4[w]:void 0,k={sourceX:p,sourceY:M,sourcePosition:w,targetX:((((Y=n.connectionPosition)==null?void 0:Y.x)??0)-s.x)/s.zoom,targetY:((((q=n.connectionPosition)==null?void 0:q.y)??0)-s.y)/s.zoom,targetPosition:z};let C="";return r===fr.Bezier?[C]=Gh(k):r===fr.Step?[C]=wr({...k,borderRadius:0}):r===fr.SmoothStep?[C]=wr(k):[C]=Zh(k),{path:C,...k,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const a1={input:Dp,output:Yp,default:l1,group:Kp},c1={straight:_4,smoothstep:d4,default:s1,step:v4},P4=({nodes:t=[],edges:e=[],width:n,height:r,fitView:l})=>{const u=new Map,s=Jh(t,u,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),f=new Map,a=new Map;jh(f,a,e);let d={x:0,y:0,zoom:1};if(l&&n&&r){const h=s.filter(m=>m.width&&m.height||m.initialWidth&&m.initialHeight),g=ao(h,{nodeOrigin:[0,0]});d=rf(g,n,r,.5,2,.1)}return{flowId:Ae(null),nodes:E4(s,u),nodeLookup:Mn(u),edgeLookup:Mn(a),visibleNodes:Mn([]),edges:C4(e,f,a),visibleEdges:Mn([]),connectionLookup:Mn(f),height:Ae(500),width:Ae(500),minZoom:Ae(.5),maxZoom:Ae(2),nodeOrigin:Ae([0,0]),nodeDragThreshold:Ae(1),nodeExtent:Ae(jc),translateExtent:Ae(jc),autoPanOnNodeDrag:Ae(!0),autoPanOnConnect:Ae(!0),fitViewOnInit:Ae(!1),fitViewOnInitDone:Ae(!1),fitViewOptions:Ae(void 0),panZoom:Ae(null),snapGrid:Ae(null),dragging:Ae(!1),selectionRect:Ae(null),selectionKeyPressed:Ae(!1),multiselectionKeyPressed:Ae(!1),deleteKeyPressed:Ae(!1),panActivationKeyPressed:Ae(!1),zoomActivationKeyPressed:Ae(!1),selectionRectMode:Ae(null),selectionMode:Ae(Tl.Partial),nodeTypes:Ae(a1),edgeTypes:Ae(c1),viewport:Ae(d),connectionMode:Ae(Ei.Strict),domNode:Ae(null),connection:Mn(f1),connectionLineType:Ae(fr.Bezier),connectionRadius:Ae(20),isValidConnection:Ae(()=>!0),nodesDraggable:Ae(!0),nodesConnectable:Ae(!0),elementsSelectable:Ae(!0),selectNodesOnDrag:Ae(!0),markers:Mn([]),defaultMarkerColor:Ae("#b1b1b7"),lib:Mn("svelte"),onlyRenderVisibleElements:Ae(!1),onerror:Ae(B5),ondelete:Ae(void 0),onedgecreate:Ae(void 0),onconnect:Ae(void 0),onconnectstart:Ae(void 0),onconnectend:Ae(void 0),onbeforedelete:Ae(void 0),nodesInitialized:Ae(!1),edgesInitialized:Ae(!1),viewportInitialized:Ae(!1),initialized:Mn(!1)}};function T4(t){const e=hr([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,r,l,u,s,f])=>l&&s&&f?n.filter(d=>{const h=r.get(d.source),g=r.get(d.target);return h&&g&&x5({sourceNode:h,targetNode:g,width:s,height:f,transform:[u.x,u.y,u.zoom]})}):n);return hr([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,r,l,u])=>n.reduce((f,a)=>{const d=r.get(a.source),h=r.get(a.target);if(!d||!h)return f;const g=$5({id:a.id,sourceNode:d,targetNode:h,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:l,onError:u});return g&&f.push({...a,zIndex:U5({selected:a.selected,zIndex:a.zIndex,sourceNode:d,targetNode:h,elevateOnSelect:!1}),...g}),f},[]))}function I4(t){return hr([t.nodes,t.onlyRenderVisibleElements,t.width,t.height,t.viewport],([e,n,r,l,u])=>{const s=[u.x,u.y,u.zoom];return n?Yh(e,{x:0,y:0,width:r,height:l},s,!0):e})}const Kl=Symbol();function d1({nodes:t,edges:e,width:n,height:r,fitView:l}){const u=P4({nodes:t,edges:e,width:n,height:r,fitView:l});function s(B){u.nodeTypes.set({...a1,...B})}function f(B){u.edgeTypes.set({...c1,...B})}function a(B){const T=ue(u.edges);u.edges.set(Z5(B,T))}const d=(B,T=!1)=>{const K=ue(u.nodeLookup);B.forEach(Y=>{var G;const q=K.get(Y.id);q&&(q.position=Y.position,q.dragging=T,q.computed={...q.computed,positionAbsolute:(G=Y.computed)==null?void 0:G.positionAbsolute})}),u.nodes.set(ue(u.nodes))};function h(B){const T=np(B,ue(u.nodes),ue(u.nodeLookup),ue(u.domNode),ue(u.nodeOrigin));if(T){if(!ue(u.fitViewOnInitDone)&&ue(u.fitViewOnInit)){const K=ue(u.fitViewOptions),Y=g(T,{...K,nodes:(K==null?void 0:K.nodes)||T});u.fitViewOnInitDone.set(Y)}u.nodes.set(T),ue(u.nodesInitialized)||u.nodesInitialized.set(!0)}}function g(B,T){const K=ue(u.panZoom);return K?N5({nodes:B,width:ue(u.width),height:ue(u.height),minZoom:ue(u.minZoom),maxZoom:ue(u.maxZoom),panZoom:K,nodeOrigin:ue(u.nodeOrigin)},T):!1}function m(B,T){const K=ue(u.panZoom);K&&K.scaleBy(B,T)}function y(B){m(1.2,B)}function v(B){m(1/1.2,B)}function p(B){const T=ue(u.panZoom);T&&(T.setScaleExtent([B,ue(u.maxZoom)]),u.minZoom.set(B))}function M(B){const T=ue(u.panZoom);T&&(T.setScaleExtent([ue(u.minZoom),B]),u.maxZoom.set(B))}function w(B){const T=ue(u.panZoom);T&&(T.setTranslateExtent(B),u.translateExtent.set(B))}function z(B){let T=!1;return B.forEach(K=>{K.selected&&(K.selected=!1,T=!0)}),T}function k(B){z((B==null?void 0:B.nodes)||ue(u.nodes))&&u.nodes.set(ue(u.nodes)),z((B==null?void 0:B.edges)||ue(u.edges))&&u.edges.set(ue(u.edges))}u.deleteKeyPressed.subscribe(async B=>{var T;if(B){const K=ue(u.nodes),Y=ue(u.edges),q=K.filter(ae=>ae.selected),G=Y.filter(ae=>ae.selected),{nodes:j,edges:fe}=await Fh({nodesToRemove:q,edgesToRemove:G,nodes:K,edges:Y,onBeforeDelete:ue(u.onbeforedelete)});(j.length||fe.length)&&(u.nodes.update(ae=>ae.filter(Q=>!j.some(ve=>ve.id===Q.id))),u.edges.update(ae=>ae.filter(Q=>!fe.some(ve=>ve.id===Q.id))),(T=ue(u.ondelete))==null||T({nodes:j,edges:fe}))}});function C(B){const T=ue(u.multiselectionKeyPressed);u.nodes.update(K=>K.map(Y=>{const q=B.includes(Y.id),G=T&&Y.selected||q;return Y.selected=G,Y})),T||u.edges.update(K=>K.map(Y=>(Y.selected=!1,Y)))}function P(B){const T=ue(u.multiselectionKeyPressed);u.edges.update(K=>K.map(Y=>{const q=B.includes(Y.id),G=T&&Y.selected||q;return Y.selected=G,Y})),T||u.nodes.update(K=>K.map(Y=>(Y.selected=!1,Y)))}function O(B){var K;const T=(K=ue(u.nodes))==null?void 0:K.find(Y=>Y.id===B);if(!T){console.warn("012",fo.error012(B));return}u.selectionRect.set(null),u.selectionRectMode.set(null),T.selected?T.selected&&ue(u.multiselectionKeyPressed)&&k({nodes:[T],edges:[]}):C([B])}function H(B){const T=ue(u.viewport);return ip({delta:B,panZoom:ue(u.panZoom),transform:[T.x,T.y,T.zoom],translateExtent:ue(u.translateExtent),width:ue(u.width),height:ue(u.height)})}const L={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},W=Ae(L),x=B=>{W.set(B)};function I(){x(L)}function X(){u.fitViewOnInitDone.set(!1),u.selectionRect.set(null),u.selectionRectMode.set(null),u.snapGrid.set(null),u.isValidConnection.set(()=>!0),u.nodes.set([]),u.edges.set([]),k(),I()}return{...u,connection:M4(u,W),visibleEdges:T4(u),visibleNodes:I4(u),markers:hr([u.edges,u.defaultMarkerColor,u.flowId],([B,T,K])=>ep(B,{defaultColor:T,id:K})),initialized:(()=>{let B=!1;const T=ue(u.nodes).length,K=ue(u.edges).length;return hr([u.nodesInitialized,u.edgesInitialized,u.viewportInitialized],([Y,q,G])=>B||(T===0?B=G:K===0?B=G&&Y:B=G&&Y&&q,B))})(),syncNodeStores:B=>p4(u.nodes,B),syncEdgeStores:B=>S4(u.edges,B),syncViewport:B=>k4(u.panZoom,u.viewport,B),setNodeTypes:s,setEdgeTypes:f,addEdge:a,updateNodePositions:d,updateNodeDimensions:h,zoomIn:y,zoomOut:v,fitView:B=>g(ue(u.nodes),B),setMinZoom:p,setMaxZoom:M,setTranslateExtent:w,unselectNodesAndEdges:k,addSelectedNodes:C,addSelectedEdges:P,handleNodeSelection:O,panBy:H,updateConnection:x,cancelConnection:I,reset:X}}function ft(){const t=Qr(Kl);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function O4({nodes:t,edges:e,width:n,height:r,fitView:l}){const u=d1({nodes:t,edges:e,width:n,height:r,fitView:l});return Jr(Kl,{getStore:()=>u}),u}function z4(t,e){const{panZoom:n,minZoom:r,maxZoom:l,initialViewport:u,viewport:s,dragging:f,translateExtent:a}=e,d=bp({domNode:t,minZoom:r,maxZoom:l,translateExtent:a,viewport:u,onTransformChange:g=>s.set({x:g[0],y:g[1],zoom:g[2]}),onDraggingChange:f.set}),h=d.getViewport();return s.set(h),n.set(d),d.update(e),{update(g){d.update(g)}}}function H4(t){let e,n,r,l,u;const s=t[33].default,f=Wt(s,t,t[32],null);return{c(){e=ze("div"),f&&f.c(),A(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,d){ee(a,e,d),f&&f.m(e,null),r=!0,l||(u=xt(n=z4.call(null,e,{viewport:t[17],minZoom:t[11],maxZoom:t[12],initialViewport:t[10],dragging:t[22],panZoom:t[18],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[8],panOnDrag:t[9],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Fn.Free,zoomActivationKeyPressed:t[13],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:t[14],translateExtent:t[15],lib:t[16]})),l=!0)},p(a,d){f&&f.p&&(!r||d[1]&2)&&Xt(f,s,a,a[32],r?Bt(s,a[32],d,null):Yt(a[32]),null),n&&ct(n.update)&&d[0]&131071&&n.update.call(null,{viewport:a[17],minZoom:a[11],maxZoom:a[12],initialViewport:a[10],dragging:a[22],panZoom:a[18],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[8],panOnDrag:a[9],panOnScrollSpeed:.5,panOnScrollMode:a[3]||Fn.Free,zoomActivationKeyPressed:a[13],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:a[14],translateExtent:a[15],lib:a[16]})},i(a){r||(J(f,a),r=!0)},o(a){ne(f,a),r=!1},d(a){a&&$(e),f&&f.d(a),l=!1,u()}}}function N4(t,e,n){let r,l,u,s,f,a,d,h,g,m,y,{$$slots:v={},$$scope:p}=e,{initialViewport:M}=e,{onMoveStart:w=void 0}=e,{onMove:z=void 0}=e,{onMoveEnd:k=void 0}=e,{panOnScrollMode:C}=e,{preventScrolling:P}=e,{zoomOnScroll:O}=e,{zoomOnDoubleClick:H}=e,{zoomOnPinch:L}=e,{panOnDrag:W}=e,{panOnScroll:x}=e;const{viewport:I,panZoom:X,selectionKeyPressed:B,minZoom:T,maxZoom:K,dragging:Y,translateExtent:q,lib:G,panActivationKeyPressed:j,zoomActivationKeyPressed:fe,viewportInitialized:ae}=ft();return de(t,B,Q=>n(14,g=Q)),de(t,T,Q=>n(11,a=Q)),de(t,K,Q=>n(12,d=Q)),de(t,q,Q=>n(15,m=Q)),de(t,G,Q=>n(16,y=Q)),de(t,j,Q=>n(31,f=Q)),de(t,fe,Q=>n(13,h=Q)),de(t,ae,Q=>n(34,s=Q)),lo(()=>{zn(ae,s=!0,s)}),t.$$set=Q=>{"initialViewport"in Q&&n(28,M=Q.initialViewport),"onMoveStart"in Q&&n(0,w=Q.onMoveStart),"onMove"in Q&&n(1,z=Q.onMove),"onMoveEnd"in Q&&n(2,k=Q.onMoveEnd),"panOnScrollMode"in Q&&n(3,C=Q.panOnScrollMode),"preventScrolling"in Q&&n(4,P=Q.preventScrolling),"zoomOnScroll"in Q&&n(5,O=Q.zoomOnScroll),"zoomOnDoubleClick"in Q&&n(6,H=Q.zoomOnDoubleClick),"zoomOnPinch"in Q&&n(7,L=Q.zoomOnPinch),"panOnDrag"in Q&&n(29,W=Q.panOnDrag),"panOnScroll"in Q&&n(30,x=Q.panOnScroll),"$$scope"in Q&&n(32,p=Q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&268435456&&n(10,r=M||{x:0,y:0,zoom:1}),t.$$.dirty[0]&536870912|t.$$.dirty[1]&1&&n(9,l=f||W),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(8,u=f||x)},[w,z,k,C,P,O,H,L,u,l,r,a,d,h,g,m,y,I,X,B,T,K,Y,q,G,j,fe,ae,M,W,x,f,p,v]}class L4 extends Ie{constructor(e){super(),Te(this,e,N4,H4,Oe,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}const R4=L4;function D4(t){let e,n,r,l;const u=t[29].default,s=Wt(u,t,t[28],null);return{c(){e=ze("div"),s&&s.c(),A(e,"class","svelte-flow__pane svelte-1esy7hx"),Be(e,"draggable",t[0]),Be(e,"dragging",t[4]),Be(e,"selection",t[1])},m(f,a){ee(f,e,a),s&&s.m(e,null),t[30](e),n=!0,r||(l=[De(e,"click",function(){ct(t[3]?void 0:hl(t[15],t[2]))&&(t[3]?void 0:hl(t[15],t[2])).apply(this,arguments)}),De(e,"mousedown",function(){ct(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),De(e,"mousemove",function(){ct(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),De(e,"mouseup",function(){ct(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),De(e,"mouseleave",function(){ct(t[3]?t[19]:void 0)&&(t[3]?t[19]:void 0).apply(this,arguments)}),De(e,"contextmenu",function(){ct(hl(t[20],t[2]))&&hl(t[20],t[2]).apply(this,arguments)})],r=!0)},p(f,a){t=f,s&&s.p&&(!n||a[0]&268435456)&&Xt(s,u,t,t[28],n?Bt(u,t[28],a,null):Yt(t[28]),null),(!n||a[0]&1)&&Be(e,"draggable",t[0]),(!n||a[0]&16)&&Be(e,"dragging",t[4]),(!n||a[0]&2)&&Be(e,"selection",t[1])},i(f){n||(J(s,f),n=!0)},o(f){ne(s,f),n=!1},d(f){f&&$(e),s&&s.d(f),t[30](null),r=!1,vt(l)}}}function hl(t,e){return n=>{n.target===e&&(t==null||t(n))}}function yd(t){return e=>{const n=t.includes(e.id);return e.selected!==n?{...e,selected:n}:e}}function W4(t,e,n){let r,l,u,s,f,a,d,h,g,m,y,v,p,{$$slots:M={},$$scope:w}=e,{panOnDrag:z=void 0}=e,{selectionOnDrag:k=void 0}=e;const C=Rl(),{nodes:P,edges:O,viewport:H,dragging:L,elementsSelectable:W,selectionRect:x,selectionRectMode:I,selectionKeyPressed:X,selectionMode:B,panActivationKeyPressed:T,unselectNodesAndEdges:K}=ft();de(t,P,R=>n(36,h=R)),de(t,O,R=>n(33,f=R)),de(t,H,R=>n(35,d=R)),de(t,L,R=>n(4,p=R)),de(t,W,R=>n(25,m=R)),de(t,x,R=>n(24,g=R)),de(t,I,R=>n(23,s=R)),de(t,X,R=>n(26,y=R)),de(t,B,R=>n(34,a=R)),de(t,T,R=>n(27,v=R));let Y,q=null,G=[];function j(R){C("paneclick",{event:R}),K(),I.set(null)}function fe(R){if(q=Y.getBoundingClientRect(),!W||!l||R.button!==0||R.target!==Y||!q)return;const{x:he,y:_e}=ri(R,q);K(),x.set({width:0,height:0,startX:he,startY:_e,x:he,y:_e})}function ae(R){if(!l||!q||!g)return;const he=ri(R,q),_e=g.startX??0,oe=g.startY??0,le={...g,x:he.x<_e?he.x:_e,y:he.y<oe?he.y:oe,width:Math.abs(he.x-_e),height:Math.abs(he.y-oe)},Ye=G.map($e=>$e.id),nt=Ys(G,f).map($e=>$e.id);G=Yh(h,le,[d.x,d.y,d.zoom],a===Tl.Partial,!0);const it=Ys(G,f).map($e=>$e.id),ot=G.map($e=>$e.id);(Ye.length!==ot.length||ot.some($e=>!Ye.includes($e)))&&P.update($e=>$e.map(yd(ot))),(nt.length!==it.length||it.some($e=>!nt.includes($e)))&&O.update($e=>$e.map(yd(it))),I.set("user"),x.set(le)}function Q(R){R.button===0&&(!l&&s==="user"&&R.target===Y&&(j==null||j(R)),x.set(null),G.length>0&&I.set("nodes"))}const ve=()=>{s==="user"&&I.set(G.length>0?"nodes":null),x.set(null)},ke=R=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){R.preventDefault();return}C("panecontextmenu",{event:R})};function Pe(R){Vn[R?"unshift":"push"](()=>{Y=R,n(2,Y)})}return t.$$set=R=>{"panOnDrag"in R&&n(0,z=R.panOnDrag),"selectionOnDrag"in R&&n(21,k=R.selectionOnDrag),"$$scope"in R&&n(28,w=R.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217729&&n(22,r=v||z),t.$$.dirty[0]&90177536&&n(1,l=y||g||k&&r!==!0),t.$$.dirty[0]&41943042&&n(3,u=m&&(l||s==="user"))},[z,l,Y,u,p,P,O,H,L,W,x,I,X,B,T,j,fe,ae,Q,ve,ke,k,r,s,g,m,y,v,w,M,Pe]}class B4 extends Ie{constructor(e){super(),Te(this,e,W4,D4,Oe,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}const X4=B4;function Y4(t){let e,n;const r=t[3].default,l=Wt(r,t,t[2],null);return{c(){e=ze("div"),l&&l.c(),A(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),We(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(u,s){ee(u,e,s),l&&l.m(e,null),n=!0},p(u,[s]){l&&l.p&&(!n||s&4)&&Xt(l,r,u,u[2],n?Bt(r,u[2],s,null):Yt(u[2]),null),(!n||s&1)&&We(e,"transform","translate("+u[0].x+"px, "+u[0].y+"px) scale("+u[0].zoom+")")},i(u){n||(J(l,u),n=!0)},o(u){ne(l,u),n=!1},d(u){u&&$(e),l&&l.d(u)}}}function F4(t,e,n){let r,{$$slots:l={},$$scope:u}=e;const{viewport:s}=ft();return de(t,s,f=>n(0,r=f)),t.$$set=f=>{"$$scope"in f&&n(2,u=f.$$scope)},[r,s,u,l]}class V4 extends Ie{constructor(e){super(),Te(this,e,F4,Y4,Oe,{})}}function h1(t,e){const{store:n,onDrag:r,onDragStart:l,onDragStop:u,onNodeMouseDown:s}=e,f=op({onDrag:r,onDragStart:l,onDragStop:u,onNodeMouseDown:s,getStoreItems:()=>{const d=ue(n.snapGrid),h=ue(n.viewport);return{nodes:ue(n.nodes),nodeLookup:ue(n.nodeLookup),edges:ue(n.edges),nodeExtent:ue(n.nodeExtent),snapGrid:d||[0,0],snapToGrid:!!d,nodeOrigin:[0,0],multiSelectionActive:ue(n.multiselectionKeyPressed),domNode:ue(n.domNode),transform:[h.x,h.y,h.zoom],autoPanOnNodeDrag:ue(n.autoPanOnNodeDrag),nodesDraggable:ue(n.nodesDraggable),selectNodesOnDrag:ue(n.selectNodesOnDrag),nodeDragThreshold:ue(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(d,h){if(h.disabled){f.destroy();return}f.update({domNode:d,noDragClassName:h.noDragClass,handleSelector:h.handleSelector,nodeId:h.nodeId,isSelectable:h.isSelectable})}return a(t,e),{update(d){a(t,d)},destroy(){f.destroy()}}}function K4({width:t,height:e,initialWidth:n,initialHeight:r,computedWidth:l,computedHeight:u}){if(l===void 0&&u===void 0){const s=t??n,f=e??r;return{width:s?`width:${s}px;`:"",height:f?`height:${f}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function wd(t){let e,n,r,l,u,s=`translate(${t[13]}px, ${t[14]}px)`,f,a,d;var h=t[26];function g(m,y){return{props:{data:m[2],id:m[1],selected:m[3],sourcePosition:m[15],targetPosition:m[16],zIndex:m[17],dragging:m[8],dragHandle:m[20],type:m[24],isConnectable:m[27],positionAbsoluteX:m[11],positionAbsoluteY:m[12],width:m[18],height:m[19]}}}return h&&(n=pl(h,g(t))),{c(){e=ze("div"),n&&be(n.$$.fragment),A(e,"data-id",t[1]),A(e,"class",r=je(["svelte-flow__node",`svelte-flow__node-${t[24]}`,t[22]])),A(e,"style",l=(t[9]??"")+";"+t[25].width+t[25].height),Be(e,"dragging",t[8]),Be(e,"selected",t[3]),Be(e,"draggable",t[4]),Be(e,"connectable",t[6]),Be(e,"selectable",t[5]),Be(e,"nopan",t[4]),Be(e,"parent",t[10]),We(e,"z-index",t[17]),We(e,"transform",s),We(e,"visibility",t[21]?"visible":"hidden")},m(m,y){ee(m,e,y),n&&ye(n,e,null),t[49](e),f=!0,a||(d=[xt(u=h1.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[20],noDragClass:"nodrag",onNodeMouseDown:t[30],onDrag:t[46],onDragStart:t[47],onDragStop:t[48],store:t[28]})),De(e,"click",t[33]),De(e,"mouseenter",t[50]),De(e,"mouseleave",t[51]),De(e,"mousemove",t[52]),De(e,"contextmenu",t[53])],a=!0)},p(m,y){if(y[0]&67108864&&h!==(h=m[26])){if(n){gt();const p=n;ne(p.$$.fragment,1,0,()=>{we(p,1)}),mt()}h?(n=pl(h,g(m)),be(n.$$.fragment),J(n.$$.fragment,1),ye(n,e,null)):n=null}else if(h){const p={};y[0]&4&&(p.data=m[2]),y[0]&2&&(p.id=m[1]),y[0]&8&&(p.selected=m[3]),y[0]&32768&&(p.sourcePosition=m[15]),y[0]&65536&&(p.targetPosition=m[16]),y[0]&131072&&(p.zIndex=m[17]),y[0]&256&&(p.dragging=m[8]),y[0]&1048576&&(p.dragHandle=m[20]),y[0]&16777216&&(p.type=m[24]),y[0]&134217728&&(p.isConnectable=m[27]),y[0]&2048&&(p.positionAbsoluteX=m[11]),y[0]&4096&&(p.positionAbsoluteY=m[12]),y[0]&262144&&(p.width=m[18]),y[0]&524288&&(p.height=m[19]),n.$set(p)}(!f||y[0]&2)&&A(e,"data-id",m[1]),(!f||y[0]&20971520&&r!==(r=je(["svelte-flow__node",`svelte-flow__node-${m[24]}`,m[22]])))&&A(e,"class",r),(!f||y[0]&33554944&&l!==(l=(m[9]??"")+";"+m[25].width+m[25].height))&&A(e,"style",l),u&&ct(u.update)&&y[0]&1048610&&u.update.call(null,{nodeId:m[1],isSelectable:m[5],disabled:!1,handleSelector:m[20],noDragClass:"nodrag",onNodeMouseDown:m[30],onDrag:m[46],onDragStart:m[47],onDragStop:m[48],store:m[28]}),(!f||y[0]&20971776)&&Be(e,"dragging",m[8]),(!f||y[0]&20971528)&&Be(e,"selected",m[3]),(!f||y[0]&20971536)&&Be(e,"draggable",m[4]),(!f||y[0]&20971584)&&Be(e,"connectable",m[6]),(!f||y[0]&20971552)&&Be(e,"selectable",m[5]),(!f||y[0]&20971536)&&Be(e,"nopan",m[4]),(!f||y[0]&20972544)&&Be(e,"parent",m[10]);const v=y[0]&33554944;(y[0]&33686016||v)&&We(e,"z-index",m[17]),(y[0]&33579520&&s!==(s=`translate(${m[13]}px, ${m[14]}px)`)||v)&&We(e,"transform",s),(y[0]&35652096||v)&&We(e,"visibility",m[21]?"visible":"hidden")},i(m){f||(n&&J(n.$$.fragment,m),f=!0)},o(m){n&&ne(n.$$.fragment,m),f=!1},d(m){m&&$(e),n&&we(n),t[49](null),a=!1,vt(d)}}}function U4(t){let e,n,r=!t[7]&&wd(t);return{c(){r&&r.c(),e=_t()},m(l,u){r&&r.m(l,u),ee(l,e,u),n=!0},p(l,u){l[7]?r&&(gt(),ne(r,1,1,()=>{r=null}),mt()):r?(r.p(l,u),u[0]&128&&J(r,1)):(r=wd(l),r.c(),J(r,1),r.m(e.parentNode,e))},i(l){n||(J(r),n=!0)},o(l){ne(r),n=!1},d(l){l&&$(e),r&&r.d(l)}}}function x4(t,e,n){let r,l,u,s,f,a,{node:d}=e,{id:h}=e,{data:g={}}=e,{selected:m=!1}=e,{draggable:y=void 0}=e,{selectable:v=void 0}=e,{connectable:p=!0}=e,{hidden:M=!1}=e,{dragging:w=!1}=e,{resizeObserver:z=null}=e,{style:k=void 0}=e,{type:C="default"}=e,{isParent:P=!1}=e,{positionX:O}=e,{positionY:H}=e,{positionOriginX:L}=e,{positionOriginY:W}=e,{sourcePosition:x=void 0}=e,{targetPosition:I=void 0}=e,{zIndex:X}=e,{computedWidth:B=void 0}=e,{computedHeight:T=void 0}=e,{initialWidth:K=void 0}=e,{initialHeight:Y=void 0}=e,{width:q=void 0}=e,{height:G=void 0}=e,{dragHandle:j=void 0}=e,{initialized:fe=!1}=e,{class:ae=""}=e;const Q=ft(),{nodeTypes:ve,nodeDragThreshold:ke,selectNodesOnDrag:Pe,handleNodeSelection:R,updateNodeDimensions:he}=Q;de(t,ve,ce=>n(45,f=ce));let _e,oe=null;const le=_1(),Ye=Ae(p);de(t,Ye,ce=>n(27,a=ce));let nt,it,ot;Jr("svelteflow__node_id",h),Jr("svelteflow__node_connectable",Ye),Gs(()=>{oe&&(z==null||z.unobserve(oe))});function $e(ce){v&&(!ue(Pe)||!y||ue(ke)>0)&&R(h),le("nodeclick",{node:d,event:ce})}const Sn=(ce,At,It,ge)=>{le("nodedrag",{event:ce,targetNode:It,nodes:ge})},kt=(ce,At,It,ge)=>{le("nodedragstart",{event:ce,targetNode:It,nodes:ge})},tn=(ce,At,It,ge)=>{le("nodedragstop",{event:ce,targetNode:It,nodes:ge})};function cn(ce){Vn[ce?"unshift":"push"](()=>{_e=ce,n(23,_e)})}const pe=ce=>le("nodemouseenter",{node:d,event:ce}),pt=ce=>le("nodemouseleave",{node:d,event:ce}),qt=ce=>le("nodemousemove",{node:d,event:ce}),dn=ce=>le("nodecontextmenu",{node:d,event:ce});return t.$$set=ce=>{"node"in ce&&n(0,d=ce.node),"id"in ce&&n(1,h=ce.id),"data"in ce&&n(2,g=ce.data),"selected"in ce&&n(3,m=ce.selected),"draggable"in ce&&n(4,y=ce.draggable),"selectable"in ce&&n(5,v=ce.selectable),"connectable"in ce&&n(6,p=ce.connectable),"hidden"in ce&&n(7,M=ce.hidden),"dragging"in ce&&n(8,w=ce.dragging),"resizeObserver"in ce&&n(34,z=ce.resizeObserver),"style"in ce&&n(9,k=ce.style),"type"in ce&&n(35,C=ce.type),"isParent"in ce&&n(10,P=ce.isParent),"positionX"in ce&&n(11,O=ce.positionX),"positionY"in ce&&n(12,H=ce.positionY),"positionOriginX"in ce&&n(13,L=ce.positionOriginX),"positionOriginY"in ce&&n(14,W=ce.positionOriginY),"sourcePosition"in ce&&n(15,x=ce.sourcePosition),"targetPosition"in ce&&n(16,I=ce.targetPosition),"zIndex"in ce&&n(17,X=ce.zIndex),"computedWidth"in ce&&n(36,B=ce.computedWidth),"computedHeight"in ce&&n(37,T=ce.computedHeight),"initialWidth"in ce&&n(38,K=ce.initialWidth),"initialHeight"in ce&&n(39,Y=ce.initialHeight),"width"in ce&&n(18,q=ce.width),"height"in ce&&n(19,G=ce.height),"dragHandle"in ce&&n(20,j=ce.dragHandle),"initialized"in ce&&n(21,fe=ce.initialized),"class"in ce&&n(22,ae=ce.class)},t.$$.update=()=>{t.$$.dirty[1]&16&&n(24,r=C||"default"),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(44,l=!!f[r]),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(26,u=f[r]||l1),t.$$.dirty[1]&8208&&(l||console.warn("003",fo.error003(C))),t.$$.dirty[0]&786432|t.$$.dirty[1]&480&&n(25,s=K4({width:q,height:G,initialWidth:K,initialHeight:Y,computedWidth:B,computedHeight:T})),t.$$.dirty[0]&64&&Ye.set(!!p),t.$$.dirty[0]&25264130|t.$$.dirty[1]&7168&&((nt&&r!==nt||it&&x!==it||ot&&I!==ot)&&requestAnimationFrame(()=>he(new Map([[h,{id:h,nodeElement:_e,forceUpdate:!0}]]))),n(41,nt=r),n(42,it=x),n(43,ot=I)),t.$$.dirty[0]&8388608|t.$$.dirty[1]&520&&z&&_e!==oe&&(oe&&z.unobserve(oe),_e&&z.observe(_e),n(40,oe=_e))},[d,h,g,m,y,v,p,M,w,k,P,O,H,L,W,x,I,X,q,G,j,fe,ae,_e,r,s,u,a,Q,ve,R,le,Ye,$e,z,C,B,T,K,Y,oe,nt,it,ot,l,f,Sn,kt,tn,cn,pe,pt,qt,dn]}class G4 extends Ie{constructor(e){super(),Te(this,e,x4,U4,sh,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:34,style:9,type:35,isParent:10,positionX:11,positionY:12,positionOriginX:13,positionOriginY:14,sourcePosition:15,targetPosition:16,zIndex:17,computedWidth:36,computedHeight:37,initialWidth:38,initialHeight:39,width:18,height:19,dragHandle:20,initialized:21,class:22},null,[-1,-1])}}const q4=G4,{Map:Z4}=Xw;function bd(t,e,n){var s,f,a,d;const r=t.slice();r[18]=e[n];const l=co(r[18]);r[19]=l;const u=X5({x:((f=(s=r[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:f.x)??0,y:((d=(a=r[18].computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0,...r[19],origin:r[18].origin});return r[20]=u,r}function vd(t,e){var u,s,f,a,d,h,g,m;let n,r,l;return r=new q4({props:{node:e[18],id:e[18].id,data:e[18].data,selected:!!e[18].selected,hidden:!!e[18].hidden,draggable:!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u"),selectable:!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u"),connectable:!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u"),positionX:((s=(u=e[18].computed)==null?void 0:u.positionAbsolute)==null?void 0:s.x)??0,positionY:((a=(f=e[18].computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0,positionOriginX:e[20].x??0,positionOriginY:e[20].y??0,isParent:!!((d=e[18][ht])!=null&&d.isParent),style:e[18].style,class:e[18].class,type:e[18].type??"default",sourcePosition:e[18].sourcePosition,targetPosition:e[18].targetPosition,dragging:e[18].dragging,zIndex:((h=e[18][ht])==null?void 0:h.z)??0,dragHandle:e[18].dragHandle,initialized:io(e[18]),width:e[18].width,height:e[18].height,initialWidth:e[18].initialWidth,initialHeight:e[18].initialHeight,computedWidth:(g=e[18].computed)==null?void 0:g.width,computedHeight:(m=e[18].computed)==null?void 0:m.height,resizeObserver:e[8]}}),r.$on("nodeclick",e[9]),r.$on("nodemouseenter",e[10]),r.$on("nodemousemove",e[11]),r.$on("nodemouseleave",e[12]),r.$on("nodedrag",e[13]),r.$on("nodedragstart",e[14]),r.$on("nodedragstop",e[15]),r.$on("nodecontextmenu",e[16]),{key:t,first:null,c(){n=_t(),be(r.$$.fragment),this.first=n},m(y,v){ee(y,n,v),ye(r,y,v),l=!0},p(y,v){var M,w,z,k,C,P,O,H;e=y;const p={};v&1&&(p.node=e[18]),v&1&&(p.id=e[18].id),v&1&&(p.data=e[18].data),v&1&&(p.selected=!!e[18].selected),v&1&&(p.hidden=!!e[18].hidden),v&3&&(p.draggable=!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u")),v&5&&(p.selectable=!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u")),v&9&&(p.connectable=!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u")),v&1&&(p.positionX=((w=(M=e[18].computed)==null?void 0:M.positionAbsolute)==null?void 0:w.x)??0),v&1&&(p.positionY=((k=(z=e[18].computed)==null?void 0:z.positionAbsolute)==null?void 0:k.y)??0),v&1&&(p.positionOriginX=e[20].x??0),v&1&&(p.positionOriginY=e[20].y??0),v&1&&(p.isParent=!!((C=e[18][ht])!=null&&C.isParent)),v&1&&(p.style=e[18].style),v&1&&(p.class=e[18].class),v&1&&(p.type=e[18].type??"default"),v&1&&(p.sourcePosition=e[18].sourcePosition),v&1&&(p.targetPosition=e[18].targetPosition),v&1&&(p.dragging=e[18].dragging),v&1&&(p.zIndex=((P=e[18][ht])==null?void 0:P.z)??0),v&1&&(p.dragHandle=e[18].dragHandle),v&1&&(p.initialized=io(e[18])),v&1&&(p.width=e[18].width),v&1&&(p.height=e[18].height),v&1&&(p.initialWidth=e[18].initialWidth),v&1&&(p.initialHeight=e[18].initialHeight),v&1&&(p.computedWidth=(O=e[18].computed)==null?void 0:O.width),v&1&&(p.computedHeight=(H=e[18].computed)==null?void 0:H.height),r.$set(p)},i(y){l||(J(r.$$.fragment,y),l=!0)},o(y){ne(r.$$.fragment,y),l=!1},d(y){y&&$(n),we(r,y)}}}function J4(t){let e,n=[],r=new Z4,l,u=Tt(t[0]);const s=f=>f[18].id;for(let f=0;f<u.length;f+=1){let a=bd(t,u,f),d=s(a);r.set(d,n[f]=vd(d,a))}return{c(){e=ze("div");for(let f=0;f<n.length;f+=1)n[f].c();A(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(f,a){ee(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&271&&(u=Tt(f[0]),gt(),n=Wi(n,a,s,1,f,u,r,e,Di,vd,null,bd),mt())},i(f){if(!l){for(let a=0;a<u.length;a+=1)J(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)ne(n[a]);l=!1},d(f){f&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Q4(t,e,n){let r,l,u,s;const{visibleNodes:f,nodesDraggable:a,nodesConnectable:d,elementsSelectable:h,updateNodeDimensions:g}=ft();de(t,f,P=>n(0,r=P)),de(t,a,P=>n(1,l=P)),de(t,d,P=>n(3,s=P)),de(t,h,P=>n(2,u=P));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(P=>{const O=new Map;P.forEach(H=>{const L=H.target.getAttribute("data-id");O.set(L,{id:L,nodeElement:H.target,forceUpdate:!0})}),g(O)});Gs(()=>{m==null||m.disconnect()});function y(P){tt.call(this,t,P)}function v(P){tt.call(this,t,P)}function p(P){tt.call(this,t,P)}function M(P){tt.call(this,t,P)}function w(P){tt.call(this,t,P)}function z(P){tt.call(this,t,P)}function k(P){tt.call(this,t,P)}function C(P){tt.call(this,t,P)}return[r,l,u,s,f,a,d,h,m,y,v,p,M,w,z,k,C]}class j4 extends Ie{constructor(e){super(),Te(this,e,Q4,J4,Oe,{})}}function pd(t){let e,n,r,l,u,s,f,a;var d=t[26];function h(g,m){return{props:{id:g[0],source:g[1],target:g[2],sourceX:g[13],sourceY:g[14],targetX:g[15],targetY:g[16],sourcePosition:g[17],targetPosition:g[18],animated:g[6],selected:g[7],label:g[9],labelStyle:g[10],data:g[3],style:g[4],interactionWidth:g[20],type:g[22],sourceHandleId:g[11],targetHandleId:g[12],markerStart:g[25],markerEnd:g[24]}}}return d&&(r=pl(d,h(t))),{c(){e=Xe("svg"),n=Xe("g"),r&&be(r.$$.fragment),A(n,"class",l=je(["svelte-flow__edge",t[21]])),A(n,"data-id",t[0]),A(n,"aria-label",u=t[19]===null?void 0:t[19]?t[19]:`Edge from ${t[1]} to ${t[2]}`),A(n,"role","img"),Be(n,"animated",t[6]),Be(n,"selected",t[7]),Be(n,"selectable",t[23]),We(e,"z-index",t[5])},m(g,m){ee(g,e,m),Ce(e,n),r&&ye(r,n,null),s=!0,f||(a=[De(n,"click",t[31]),De(n,"contextmenu",t[32])],f=!0)},p(g,m){if(m[0]&67108864&&d!==(d=g[26])){if(r){gt();const y=r;ne(y.$$.fragment,1,0,()=>{we(y,1)}),mt()}d?(r=pl(d,h(g)),be(r.$$.fragment),J(r.$$.fragment,1),ye(r,n,null)):r=null}else if(d){const y={};m[0]&1&&(y.id=g[0]),m[0]&2&&(y.source=g[1]),m[0]&4&&(y.target=g[2]),m[0]&8192&&(y.sourceX=g[13]),m[0]&16384&&(y.sourceY=g[14]),m[0]&32768&&(y.targetX=g[15]),m[0]&65536&&(y.targetY=g[16]),m[0]&131072&&(y.sourcePosition=g[17]),m[0]&262144&&(y.targetPosition=g[18]),m[0]&64&&(y.animated=g[6]),m[0]&128&&(y.selected=g[7]),m[0]&512&&(y.label=g[9]),m[0]&1024&&(y.labelStyle=g[10]),m[0]&8&&(y.data=g[3]),m[0]&16&&(y.style=g[4]),m[0]&1048576&&(y.interactionWidth=g[20]),m[0]&4194304&&(y.type=g[22]),m[0]&2048&&(y.sourceHandleId=g[11]),m[0]&4096&&(y.targetHandleId=g[12]),m[0]&33554432&&(y.markerStart=g[25]),m[0]&16777216&&(y.markerEnd=g[24]),r.$set(y)}(!s||m[0]&2097152&&l!==(l=je(["svelte-flow__edge",g[21]])))&&A(n,"class",l),(!s||m[0]&1)&&A(n,"data-id",g[0]),(!s||m[0]&524294&&u!==(u=g[19]===null?void 0:g[19]?g[19]:`Edge from ${g[1]} to ${g[2]}`))&&A(n,"aria-label",u),(!s||m[0]&2097216)&&Be(n,"animated",g[6]),(!s||m[0]&2097280)&&Be(n,"selected",g[7]),(!s||m[0]&10485760)&&Be(n,"selectable",g[23]),m[0]&32&&We(e,"z-index",g[5])},i(g){s||(r&&J(r.$$.fragment,g),s=!0)},o(g){r&&ne(r.$$.fragment,g),s=!1},d(g){g&&$(e),r&&we(r),f=!1,vt(a)}}}function $4(t){let e,n,r=!t[8]&&pd(t);return{c(){r&&r.c(),e=_t()},m(l,u){r&&r.m(l,u),ee(l,e,u),n=!0},p(l,u){l[8]?r&&(gt(),ne(r,1,1,()=>{r=null}),mt()):r?(r.p(l,u),u[0]&256&&J(r,1)):(r=pd(l),r.c(),J(r,1),r.m(e.parentNode,e))},i(l){n||(J(r),n=!0)},o(l){ne(r),n=!1},d(l){l&&$(e),r&&r.d(l)}}}function e6(t,e,n){let r,l,u,s,f,a,d,h,g,{id:m}=e,{type:y="default"}=e,{source:v=""}=e,{target:p=""}=e,{data:M={}}=e,{style:w=void 0}=e,{zIndex:z=void 0}=e,{animated:k=!1}=e,{selected:C=!1}=e,{selectable:P=void 0}=e,{hidden:O=!1}=e,{label:H=void 0}=e,{labelStyle:L=void 0}=e,{markerStart:W=void 0}=e,{markerEnd:x=void 0}=e,{sourceHandle:I=void 0}=e,{targetHandle:X=void 0}=e,{sourceX:B}=e,{sourceY:T}=e,{targetX:K}=e,{targetY:Y}=e,{sourcePosition:q}=e,{targetPosition:G}=e,{ariaLabel:j=void 0}=e,{interactionWidth:fe=void 0}=e,{class:ae=""}=e;Jr("svelteflow__edge_id",m);const{edgeLookup:Q,edgeTypes:ve,flowId:ke,elementsSelectable:Pe}=ft();de(t,Q,le=>n(40,a=le)),de(t,ve,le=>n(39,g=le)),de(t,ke,le=>n(38,h=le)),de(t,Pe,le=>n(37,d=le));const R=Rl(),he=u1();function _e(le){const Ye=a.get(m);Ye&&(he(m),R("edgeclick",{event:le,edge:Ye}))}function oe(le){const Ye=a.get(m);Ye&&R("edgecontextmenu",{event:le,edge:Ye})}return t.$$set=le=>{"id"in le&&n(0,m=le.id),"type"in le&&n(33,y=le.type),"source"in le&&n(1,v=le.source),"target"in le&&n(2,p=le.target),"data"in le&&n(3,M=le.data),"style"in le&&n(4,w=le.style),"zIndex"in le&&n(5,z=le.zIndex),"animated"in le&&n(6,k=le.animated),"selected"in le&&n(7,C=le.selected),"selectable"in le&&n(34,P=le.selectable),"hidden"in le&&n(8,O=le.hidden),"label"in le&&n(9,H=le.label),"labelStyle"in le&&n(10,L=le.labelStyle),"markerStart"in le&&n(35,W=le.markerStart),"markerEnd"in le&&n(36,x=le.markerEnd),"sourceHandle"in le&&n(11,I=le.sourceHandle),"targetHandle"in le&&n(12,X=le.targetHandle),"sourceX"in le&&n(13,B=le.sourceX),"sourceY"in le&&n(14,T=le.sourceY),"targetX"in le&&n(15,K=le.targetX),"targetY"in le&&n(16,Y=le.targetY),"sourcePosition"in le&&n(17,q=le.sourcePosition),"targetPosition"in le&&n(18,G=le.targetPosition),"ariaLabel"in le&&n(19,j=le.ariaLabel),"interactionWidth"in le&&n(20,fe=le.interactionWidth),"class"in le&&n(21,ae=le.class)},t.$$.update=()=>{t.$$.dirty[1]&4&&n(22,r=y||"default"),t.$$.dirty[0]&4194304|t.$$.dirty[1]&256&&n(26,l=g[r]||s1),t.$$.dirty[1]&144&&n(25,u=W?`url(#${Vs(W,h)})`:void 0),t.$$.dirty[1]&160&&n(24,s=x?`url(#${Vs(x,h)})`:void 0),t.$$.dirty[1]&72&&n(23,f=P||d&&typeof P>"u")},[m,v,p,M,w,z,k,C,O,H,L,I,X,B,T,K,Y,q,G,j,fe,ae,r,f,s,u,l,Q,ve,ke,Pe,_e,oe,y,P,W,x,d,h,g]}class t6 extends Ie{constructor(e){super(),Te(this,e,e6,$4,sh,{id:0,type:33,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:34,hidden:8,label:9,labelStyle:10,markerStart:35,markerEnd:36,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}const n6=t6;function i6(t,e,n){let{onMount:r=void 0}=e,{onDestroy:l=void 0}=e;return lo(()=>(r==null||r(),l)),t.$$set=u=>{"onMount"in u&&n(0,r=u.onMount),"onDestroy"in u&&n(1,l=u.onDestroy)},[r,l]}class r6 extends Ie{constructor(e){super(),Te(this,e,i6,null,Oe,{onMount:0,onDestroy:1})}}const o6=r6;function Sd(t,e,n){const r=t.slice();return r[2]=e[n],r}function kd(t,e){let n,r,l;const u=[e[2]];let s={};for(let f=0;f<u.length;f+=1)s=Ft(s,u[f]);return r=new h6({props:s}),{key:t,first:null,c(){n=_t(),be(r.$$.fragment),this.first=n},m(f,a){ee(f,n,a),ye(r,f,a),l=!0},p(f,a){e=f;const d=a&1?li(u,[dr(e[2])]):{};r.$set(d)},i(f){l||(J(r.$$.fragment,f),l=!0)},o(f){ne(r.$$.fragment,f),l=!1},d(f){f&&$(n),we(r,f)}}}function l6(t){let e,n=[],r=new Map,l,u=Tt(t[0]);const s=f=>f[2].id;for(let f=0;f<u.length;f+=1){let a=Sd(t,u,f),d=s(a);r.set(d,n[f]=kd(d,a))}return{c(){e=Xe("defs");for(let f=0;f<n.length;f+=1)n[f].c()},m(f,a){ee(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&1&&(u=Tt(f[0]),gt(),n=Wi(n,a,s,1,f,u,r,e,Di,kd,null,Sd),mt())},i(f){if(!l){for(let a=0;a<u.length;a+=1)J(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)ne(n[a]);l=!1},d(f){f&&$(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function u6(t,e,n){let r;const{markers:l}=ft();return de(t,l,u=>n(0,r=u)),[r,l]}class s6 extends Ie{constructor(e){super(),Te(this,e,u6,l6,Oe,{})}}function f6(t){let e;return{c(){e=Xe("polyline"),A(e,"stroke",t[6]),A(e,"stroke-linecap","round"),A(e,"stroke-linejoin","round"),A(e,"stroke-width",t[7]),A(e,"fill",t[6]),A(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,r){ee(n,e,r)},p(n,r){r&64&&A(e,"stroke",n[6]),r&128&&A(e,"stroke-width",n[7]),r&64&&A(e,"fill",n[6])},d(n){n&&$(e)}}}function a6(t){let e;return{c(){e=Xe("polyline"),A(e,"stroke",t[6]),A(e,"stroke-linecap","round"),A(e,"stroke-linejoin","round"),A(e,"stroke-width",t[7]),A(e,"fill","none"),A(e,"points","-5,-4 0,0 -5,4")},m(n,r){ee(n,e,r)},p(n,r){r&64&&A(e,"stroke",n[6]),r&128&&A(e,"stroke-width",n[7])},d(n){n&&$(e)}}}function c6(t){let e,n,r;function l(f,a){if(f[1]===_r.Arrow)return a6;if(f[1]===_r.ArrowClosed)return f6}let u=l(t),s=u&&u(t);return{c(){e=Xe("marker"),s&&s.c(),A(e,"class","svelte-flow__arrowhead"),A(e,"id",t[0]),A(e,"markerWidth",n=`${t[2]}`),A(e,"markerHeight",r=`${t[3]}`),A(e,"viewBox","-10 -10 20 20"),A(e,"markerUnits",t[4]),A(e,"orient",t[5]),A(e,"refX","0"),A(e,"refY","0")},m(f,a){ee(f,e,a),s&&s.m(e,null)},p(f,[a]){u===(u=l(f))&&s?s.p(f,a):(s&&s.d(1),s=u&&u(f),s&&(s.c(),s.m(e,null))),a&1&&A(e,"id",f[0]),a&4&&n!==(n=`${f[2]}`)&&A(e,"markerWidth",n),a&8&&r!==(r=`${f[3]}`)&&A(e,"markerHeight",r),a&16&&A(e,"markerUnits",f[4]),a&32&&A(e,"orient",f[5])},i:Me,o:Me,d(f){f&&$(e),s&&s.d()}}}function d6(t,e,n){let{id:r}=e,{type:l}=e,{width:u=12.5}=e,{height:s=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(0,r=g.id),"type"in g&&n(1,l=g.type),"width"in g&&n(2,u=g.width),"height"in g&&n(3,s=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(6,d=g.color),"strokeWidth"in g&&n(7,h=g.strokeWidth)},[r,l,u,s,f,a,d,h]}class h6 extends Ie{constructor(e){super(),Te(this,e,d6,c6,Oe,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Ed(t,e,n){const r=t.slice();return r[10]=e[n],r}function Cd(t,e){let n,r,l;return r=new n6({props:{id:e[10].id,source:e[10].source,target:e[10].target,data:e[10].data,style:e[10].style,animated:e[10].animated,selected:e[10].selected,selectable:e[10].selectable,hidden:e[10].hidden,label:e[10].label,labelStyle:e[10].labelStyle,markerStart:e[10].markerStart,markerEnd:e[10].markerEnd,sourceHandle:e[10].sourceHandle,targetHandle:e[10].targetHandle,sourceX:e[10].sourceX,sourceY:e[10].sourceY,targetX:e[10].targetX,targetY:e[10].targetY,sourcePosition:e[10].sourcePosition,targetPosition:e[10].targetPosition,ariaLabel:e[10].ariaLabel,interactionWidth:e[10].interactionWidth,class:e[10].class,type:e[10].type||"default",zIndex:e[10].zIndex}}),r.$on("edgeclick",e[5]),r.$on("edgecontextmenu",e[6]),{key:t,first:null,c(){n=_t(),be(r.$$.fragment),this.first=n},m(u,s){ee(u,n,s),ye(r,u,s),l=!0},p(u,s){e=u;const f={};s&1&&(f.id=e[10].id),s&1&&(f.source=e[10].source),s&1&&(f.target=e[10].target),s&1&&(f.data=e[10].data),s&1&&(f.style=e[10].style),s&1&&(f.animated=e[10].animated),s&1&&(f.selected=e[10].selected),s&1&&(f.selectable=e[10].selectable),s&1&&(f.hidden=e[10].hidden),s&1&&(f.label=e[10].label),s&1&&(f.labelStyle=e[10].labelStyle),s&1&&(f.markerStart=e[10].markerStart),s&1&&(f.markerEnd=e[10].markerEnd),s&1&&(f.sourceHandle=e[10].sourceHandle),s&1&&(f.targetHandle=e[10].targetHandle),s&1&&(f.sourceX=e[10].sourceX),s&1&&(f.sourceY=e[10].sourceY),s&1&&(f.targetX=e[10].targetX),s&1&&(f.targetY=e[10].targetY),s&1&&(f.sourcePosition=e[10].sourcePosition),s&1&&(f.targetPosition=e[10].targetPosition),s&1&&(f.ariaLabel=e[10].ariaLabel),s&1&&(f.interactionWidth=e[10].interactionWidth),s&1&&(f.class=e[10].class),s&1&&(f.type=e[10].type||"default"),s&1&&(f.zIndex=e[10].zIndex),r.$set(f)},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){ne(r.$$.fragment,u),l=!1},d(u){u&&$(n),we(r,u)}}}function Ad(t){let e,n;return e=new o6({props:{onMount:t[7],onDestroy:t[8]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&2&&(u.onMount=r[7]),l&2&&(u.onDestroy=r[8]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function g6(t){let e,n,r,l,u=[],s=new Map,f,a;r=new s6({});let d=Tt(t[0]);const h=m=>m[10].id;for(let m=0;m<d.length;m+=1){let y=Ed(t,d,m),v=h(y);s.set(v,u[m]=Cd(v,y))}let g=t[0].length>0&&Ad(t);return{c(){e=ze("div"),n=Xe("svg"),be(r.$$.fragment),l=He();for(let m=0;m<u.length;m+=1)u[m].c();f=He(),g&&g.c(),A(n,"class","svelte-flow__marker"),A(e,"class","svelte-flow__edges")},m(m,y){ee(m,e,y),Ce(e,n),ye(r,n,null),Ce(e,l);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(e,null);Ce(e,f),g&&g.m(e,null),a=!0},p(m,[y]){y&1&&(d=Tt(m[0]),gt(),u=Wi(u,y,h,1,m,d,s,e,Di,Cd,f,Ed),mt()),m[0].length>0?g?(g.p(m,y),y&1&&J(g,1)):(g=Ad(m),g.c(),J(g,1),g.m(e,null)):g&&(gt(),ne(g,1,1,()=>{g=null}),mt())},i(m){if(!a){J(r.$$.fragment,m);for(let y=0;y<d.length;y+=1)J(u[y]);J(g),a=!0}},o(m){ne(r.$$.fragment,m);for(let y=0;y<u.length;y+=1)ne(u[y]);ne(g),a=!1},d(m){m&&$(e),we(r);for(let y=0;y<u.length;y+=1)u[y].d();g&&g.d()}}}function m6(t,e,n){let r,l,{defaultEdgeOptions:u}=e;const{visibleEdges:s,edgesInitialized:f,edges:{setDefaultOptions:a}}=ft();de(t,s,y=>n(0,r=y)),de(t,f,y=>n(1,l=y)),lo(()=>{u&&a(u)});function d(y){tt.call(this,t,y)}function h(y){tt.call(this,t,y)}const g=()=>{zn(f,l=!0,l)},m=()=>{zn(f,l=!1,l)};return t.$$set=y=>{"defaultEdgeOptions"in y&&n(4,u=y.defaultEdgeOptions)},[r,l,s,f,u,d,h,g,m]}class _6 extends Ie{constructor(e){super(),Te(this,e,m6,g6,Oe,{defaultEdgeOptions:4})}}const y6=_6;function Md(t){let e;return{c(){e=ze("div"),A(e,"class","svelte-flow__selection svelte-1iugwpu"),We(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),We(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),We(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,r){ee(n,e,r)},p(n,r){r&4&&We(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),r&8&&We(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),r&3&&We(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&$(e)}}}function w6(t){let e,n=t[4]&&Md(t);return{c(){n&&n.c(),e=_t()},m(r,l){n&&n.m(r,l),ee(r,e,l)},p(r,[l]){r[4]?n?n.p(r,l):(n=Md(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Me,o:Me,d(r){r&&$(e),n&&n.d(r)}}}function b6(t,e,n){let{x:r=0}=e,{y:l=0}=e,{width:u=0}=e,{height:s=0}=e,{isVisible:f=!0}=e;return t.$$set=a=>{"x"in a&&n(0,r=a.x),"y"in a&&n(1,l=a.y),"width"in a&&n(2,u=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,f=a.isVisible)},[r,l,u,s,f]}class v6 extends Ie{constructor(e){super(),Te(this,e,b6,w6,Oe,{x:0,y:1,width:2,height:3,isVisible:4})}}const g1=v6;function p6(t){var r,l,u,s;let e,n;return e=new g1({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(r=t[0])==null?void 0:r.width,height:(l=t[0])==null?void 0:l.height,x:(u=t[0])==null?void 0:u.x,y:(s=t[0])==null?void 0:s.y}}),{c(){be(e.$$.fragment)},m(f,a){ye(e,f,a),n=!0},p(f,[a]){var h,g,m,y;const d={};a&3&&(d.isVisible=!!(f[0]&&f[1]==="user")),a&1&&(d.width=(h=f[0])==null?void 0:h.width),a&1&&(d.height=(g=f[0])==null?void 0:g.height),a&1&&(d.x=(m=f[0])==null?void 0:m.x),a&1&&(d.y=(y=f[0])==null?void 0:y.y),e.$set(d)},i(f){n||(J(e.$$.fragment,f),n=!0)},o(f){ne(e.$$.fragment,f),n=!1},d(f){we(e,f)}}}function S6(t,e,n){let r,l;const{selectionRect:u,selectionRectMode:s}=ft();return de(t,u,f=>n(0,r=f)),de(t,s,f=>n(1,l=f)),[r,l,u,s]}class k6 extends Ie{constructor(e){super(),Te(this,e,S6,p6,Oe,{})}}function Pd(t){let e,n,r,l,u;return n=new g1({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=ze("div"),be(n.$$.fragment),A(e,"class","selection-wrapper nopan svelte-5pxri"),We(e,"width",t[1].width+"px"),We(e,"height",t[1].height+"px"),We(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),A(e,"role","button"),A(e,"tabindex","-1")},m(s,f){ee(s,e,f),ye(n,e,null),r=!0,l||(u=[xt(h1.call(null,e,{disabled:!1,store:t[3],onDrag:t[10],onDragStart:t[11],onDragStop:t[12]})),De(e,"contextmenu",t[7]),De(e,"click",t[8]),De(e,"keyup",C6)],l=!0)},p(s,f){(!r||f&2)&&We(e,"width",s[1].width+"px"),(!r||f&2)&&We(e,"height",s[1].height+"px"),(!r||f&2)&&We(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){r||(J(n.$$.fragment,s),r=!0)},o(s){ne(n.$$.fragment,s),r=!1},d(s){s&&$(e),we(n),l=!1,vt(u)}}}function E6(t){let e,n,r=t[0]&&t[2]==="nodes"&&Pd(t);return{c(){r&&r.c(),e=_t()},m(l,u){r&&r.m(l,u),ee(l,e,u),n=!0},p(l,[u]){l[0]&&l[2]==="nodes"?r?(r.p(l,u),u&5&&J(r,1)):(r=Pd(l),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(gt(),ne(r,1,1,()=>{r=null}),mt())},i(l){n||(J(r),n=!0)},o(l){ne(r),n=!1},d(l){l&&$(e),r&&r.d(l)}}}const C6=()=>{};function A6(t,e,n){let r,l,u,s;const f=ft(),{selectionRectMode:a,nodes:d}=f;de(t,a,w=>n(2,s=w)),de(t,d,w=>n(9,u=w));const h=Rl(),g=_1();function m(w){h("selectioncontextmenu",{nodes:r,event:w})}function y(w){h("selectionclick",{nodes:r,event:w})}const v=(w,z,k,C)=>{g("nodedrag",{event:w,targetNode:null,nodes:C})},p=(w,z,k,C)=>{g("nodedragstart",{event:w,targetNode:null,nodes:C})},M=(w,z,k,C)=>{g("nodedragstop",{event:w,targetNode:null,nodes:C})};return t.$$.update=()=>{t.$$.dirty&512&&n(0,r=u.filter(w=>w.selected)),t.$$.dirty&1&&n(1,l=ao(r))},[r,l,s,f,a,d,g,m,y,u,v,p,M]}class M6 extends Ie{constructor(e){super(),Te(this,e,A6,E6,Oe,{})}}function Xn(t,e){let{enabled:n=!0,trigger:r,type:l="keydown"}=e;function u(s){const f=Array.isArray(r)?r:[r],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const d of f){const h={modifier:[],preventDefault:!1,enabled:!0,...d},{modifier:g,key:m,callback:y,preventDefault:v,enabled:p}=h;if(p){if(g.length&&!(Array.isArray(g)?g:[g]).map(z=>typeof z=="string"?[z]:z).some(z=>z.every(k=>a[k])))continue;if(s.key===m){v&&s.preventDefault();const M={node:t,trigger:h,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:M})),y==null||y(M)}}}}return n&&t.addEventListener(l,u),{update:s=>{const{enabled:f=!0,type:a="keydown"}=s;n&&(!f||l!==a)?t.removeEventListener(l,u):!n&&f&&t.addEventListener(a,u),n=f,l=a,r=s.trigger},destroy:()=>{t.removeEventListener(l,u)}}}function P6(t){let e,n,r,l,u,s,f,a,d,h,g,m;return{c:Me,m(y,v){g||(m=[xt(e=Xn.call(null,window,{trigger:St(t[0],t[11]),type:"keydown"})),xt(n=Xn.call(null,window,{trigger:St(t[0],t[12]),type:"keyup"})),xt(r=Xn.call(null,window,{trigger:St(t[1],t[13]),type:"keydown"})),xt(l=Xn.call(null,window,{trigger:St(t[1],t[14]),type:"keyup"})),xt(u=Xn.call(null,window,{trigger:St(t[2],t[15]),type:"keydown"})),xt(s=Xn.call(null,window,{trigger:St(t[2],t[16]),type:"keyup"})),xt(f=Xn.call(null,window,{trigger:St(t[3],t[17]),type:"keydown"})),xt(a=Xn.call(null,window,{trigger:St(t[3],t[18]),type:"keyup"})),xt(d=Xn.call(null,window,{trigger:St(t[4],t[19]),type:"keydown"})),xt(h=Xn.call(null,window,{trigger:St(t[4],t[20]),type:"keyup"})),De(window,"blur",t[10]),De(window,"contextmenu",t[10])],g=!0)},p(y,[v]){e&&ct(e.update)&&v&1&&e.update.call(null,{trigger:St(y[0],y[11]),type:"keydown"}),n&&ct(n.update)&&v&1&&n.update.call(null,{trigger:St(y[0],y[12]),type:"keyup"}),r&&ct(r.update)&&v&2&&r.update.call(null,{trigger:St(y[1],y[13]),type:"keydown"}),l&&ct(l.update)&&v&2&&l.update.call(null,{trigger:St(y[1],y[14]),type:"keyup"}),u&&ct(u.update)&&v&4&&u.update.call(null,{trigger:St(y[2],y[15]),type:"keydown"}),s&&ct(s.update)&&v&4&&s.update.call(null,{trigger:St(y[2],y[16]),type:"keyup"}),f&&ct(f.update)&&v&8&&f.update.call(null,{trigger:St(y[3],y[17]),type:"keydown"}),a&&ct(a.update)&&v&8&&a.update.call(null,{trigger:St(y[3],y[18]),type:"keyup"}),d&&ct(d.update)&&v&16&&d.update.call(null,{trigger:St(y[4],y[19]),type:"keydown"}),h&&ct(h.update)&&v&16&&h.update.call(null,{trigger:St(y[4],y[20]),type:"keyup"})},i:Me,o:Me,d(y){g=!1,vt(m)}}}function m1(t){return t!==null&&typeof t=="object"}function T6(t){return m1(t)?t.modifier||[]:[]}function I6(t){return t==null?"":m1(t)?t.key:t}function St(t,e){return(Array.isArray(t)?t:[t]).map(r=>{const l=I6(r);return{key:l,modifier:T6(r),enabled:l!==null,callback:e}})}function O6(t,e,n){let{selectionKey:r="Shift"}=e,{multiSelectionKey:l=zl()?"Meta":"Control"}=e,{deleteKey:u="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:f=zl()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:d,deleteKeyPressed:h,panActivationKeyPressed:g,zoomActivationKeyPressed:m,selectionRect:y}=ft();function v(){y.set(null),a.set(!1),d.set(!1),h.set(!1),g.set(!1),m.set(!1)}const p=()=>a.set(!0),M=()=>a.set(!1),w=()=>d.set(!0),z=()=>d.set(!1),k=W=>{!(W.originalEvent.ctrlKey||W.originalEvent.metaKey||W.originalEvent.shiftKey)&&!V5(W.originalEvent)&&h.set(!0)},C=()=>h.set(!1),P=()=>g.set(!0),O=()=>g.set(!1),H=()=>m.set(!0),L=()=>m.set(!1);return t.$$set=W=>{"selectionKey"in W&&n(0,r=W.selectionKey),"multiSelectionKey"in W&&n(1,l=W.multiSelectionKey),"deleteKey"in W&&n(2,u=W.deleteKey),"panActivationKey"in W&&n(3,s=W.panActivationKey),"zoomActivationKey"in W&&n(4,f=W.zoomActivationKey)},[r,l,u,s,f,a,d,h,g,m,v,p,M,w,z,k,C,P,O,H,L]}class z6 extends Ie{constructor(e){super(),Te(this,e,O6,P6,Oe,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const H6=z6,N6=t=>({}),Td=t=>({});function Id(t){let e,n,r,l;const u=t[10].connectionLine,s=Wt(u,t,t[9],Td);let f=!t[2]&&Od(t);return{c(){e=Xe("svg"),n=Xe("g"),s&&s.c(),f&&f.c(),A(n,"class",r=je(["svelte-flow__connection",t[3].status])),A(e,"width",t[4]),A(e,"height",t[5]),A(e,"class","svelte-flow__connectionline"),A(e,"style",t[0])},m(a,d){ee(a,e,d),Ce(e,n),s&&s.m(n,null),f&&f.m(n,null),l=!0},p(a,d){s&&s.p&&(!l||d&512)&&Xt(s,u,a,a[9],l?Bt(u,a[9],d,N6):Yt(a[9]),Td),a[2]?f&&(f.d(1),f=null):f?f.p(a,d):(f=Od(a),f.c(),f.m(n,null)),(!l||d&8&&r!==(r=je(["svelte-flow__connection",a[3].status])))&&A(n,"class",r),(!l||d&16)&&A(e,"width",a[4]),(!l||d&32)&&A(e,"height",a[5]),(!l||d&1)&&A(e,"style",a[0])},i(a){l||(J(s,a),l=!0)},o(a){ne(s,a),l=!1},d(a){a&&$(e),s&&s.d(a),f&&f.d()}}}function Od(t){let e,n;return{c(){e=Xe("path"),A(e,"d",n=t[3].path),A(e,"style",t[1]),A(e,"fill","none"),A(e,"class","svelte-flow__connection-path")},m(r,l){ee(r,e,l)},p(r,l){l&8&&n!==(n=r[3].path)&&A(e,"d",n),l&2&&A(e,"style",r[1])},d(r){r&&$(e)}}}function L6(t){let e,n,r=t[3].path&&Id(t);return{c(){r&&r.c(),e=_t()},m(l,u){r&&r.m(l,u),ee(l,e,u),n=!0},p(l,[u]){l[3].path?r?(r.p(l,u),u&8&&J(r,1)):(r=Id(l),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(gt(),ne(r,1,1,()=>{r=null}),mt())},i(l){n||(J(r),n=!0)},o(l){ne(r),n=!1},d(l){l&&$(e),r&&r.d(l)}}}function R6(t,e,n){let r,l,u,{$$slots:s={},$$scope:f}=e,{containerStyle:a=""}=e,{style:d=""}=e,{isCustomComponent:h=!1}=e;const{width:g,height:m,connection:y}=ft();return de(t,g,v=>n(4,l=v)),de(t,m,v=>n(5,u=v)),de(t,y,v=>n(3,r=v)),t.$$set=v=>{"containerStyle"in v&&n(0,a=v.containerStyle),"style"in v&&n(1,d=v.style),"isCustomComponent"in v&&n(2,h=v.isCustomComponent),"$$scope"in v&&n(9,f=v.$$scope)},[a,d,h,r,l,u,g,m,y,f,s]}class D6 extends Ie{constructor(e){super(),Te(this,e,R6,L6,Oe,{containerStyle:0,style:1,isCustomComponent:2})}}const W6=D6;function B6(t){let e,n,r;const l=t[6].default,u=Wt(l,t,t[5],null);let s=[{class:n=je(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[3]],f={};for(let a=0;a<s.length;a+=1)f=Ft(f,s[a]);return{c(){e=ze("div"),u&&u.c(),cr(e,f)},m(a,d){ee(a,e,d),u&&u.m(e,null),r=!0},p(a,[d]){u&&u.p&&(!r||d&32)&&Xt(u,l,a,a[5],r?Bt(l,a[5],d,null):Yt(a[5]),null),cr(e,f=li(s,[(!r||d&6&&n!==(n=je(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!r||d&1)&&{style:a[0]},d&8&&a[3]]))},i(a){r||(J(u,a),r=!0)},o(a){ne(u,a),r=!1},d(a){a&&$(e),u&&u.d(a)}}}function X6(t,e,n){let r;const l=["position","style","class"];let u=ar(e,l),{$$slots:s={},$$scope:f}=e,{position:a="top-right"}=e,{style:d=void 0}=e,{class:h=void 0}=e;return t.$$set=g=>{e=Ft(Ft({},e),xs(g)),n(3,u=ar(e,l)),"position"in g&&n(4,a=g.position),"style"in g&&n(0,d=g.style),"class"in g&&n(1,h=g.class),"$$scope"in g&&n(5,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(2,r=`${a}`.split("-"))},[d,h,r,u,a,f,s]}class oo extends Ie{constructor(e){super(),Te(this,e,X6,B6,Oe,{position:4,style:0,class:1})}}function zd(t){let e,n;return e=new oo({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Y6]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&2&&(u.position=r[1]),l&4&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function Y6(t){let e;return{c(){e=ze("a"),e.textContent="Svelte Flow",A(e,"href","https://svelteflow.dev"),A(e,"target","_blank"),A(e,"rel","noopener noreferrer"),A(e,"aria-label","Svelte Flow attribution")},m(n,r){ee(n,e,r)},p:Me,d(n){n&&$(e)}}}function F6(t){var l;let e,n,r=!((l=t[0])!=null&&l.hideAttribution)&&zd(t);return{c(){r&&r.c(),e=_t()},m(u,s){r&&r.m(u,s),ee(u,e,s),n=!0},p(u,[s]){var f;(f=u[0])!=null&&f.hideAttribution?r&&(gt(),ne(r,1,1,()=>{r=null}),mt()):r?(r.p(u,s),s&1&&J(r,1)):(r=zd(u),r.c(),J(r,1),r.m(e.parentNode,e))},i(u){n||(J(r),n=!0)},o(u){ne(r),n=!1},d(u){u&&$(e),r&&r.d(u)}}}function V6(t,e,n){let{proOptions:r=void 0}=e,{position:l="bottom-right"}=e;return t.$$set=u=>{"proOptions"in u&&n(0,r=u.proOptions),"position"in u&&n(1,l=u.position)},[r,l]}class K6 extends Ie{constructor(e){super(),Te(this,e,V6,F6,Oe,{proOptions:0,position:1})}}const U6=K6;function Hd(t,{nodeTypes:e,edgeTypes:n,minZoom:r,maxZoom:l,translateExtent:u}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),r!==void 0&&t.setMinZoom(r),l!==void 0&&t.setMaxZoom(l),u!==void 0&&t.setTranslateExtent(u)}const x6=t=>Object.keys(t);function G6(t,e){x6(e).forEach(n=>{const r=e[n];r!==void 0&&t[n].set(r)})}function q6(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Z6(t="light"){return Mn("light",n=>{if(t!=="system"){n(t);return}const r=q6(),l=()=>n(r!=null&&r.matches?"dark":"light");return n(r!=null&&r.matches?"dark":"light"),r==null||r.addEventListener("change",l),()=>{r==null||r.removeEventListener("change",l)}})}const J6=t=>({}),Nd=t=>({slot:"connectionLine"});function Q6(t){let e;const n=t[70].connectionLine,r=Wt(n,t,t[92],Nd);return{c(){r&&r.c()},m(l,u){r&&r.m(l,u),e=!0},p(l,u){r&&r.p&&(!e||u[2]&1073741824)&&Xt(r,n,l,l[92],e?Bt(n,l[92],u,J6):Yt(l[92]),Nd)},i(l){e||(J(r,l),e=!0)},o(l){ne(r,l),e=!1},d(l){r&&r.d(l)}}}function j6(t){let e,n,r,l,u,s,f,a,d,h,g,m;return e=new y6({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[73]),e.$on("edgecontextmenu",t[74]),r=new W6({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[31].connectionLine,$$slots:{connectionLine:[Q6]},$$scope:{ctx:t}}}),d=new j4({}),d.$on("nodeclick",t[75]),d.$on("nodemouseenter",t[76]),d.$on("nodemousemove",t[77]),d.$on("nodemouseleave",t[78]),d.$on("nodedragstart",t[79]),d.$on("nodedrag",t[80]),d.$on("nodedragstop",t[81]),d.$on("nodecontextmenu",t[82]),g=new M6({}),g.$on("selectionclick",t[83]),g.$on("selectioncontextmenu",t[84]),g.$on("nodedragstart",t[85]),g.$on("nodedrag",t[86]),g.$on("nodedragstop",t[87]),{c(){be(e.$$.fragment),n=He(),be(r.$$.fragment),l=He(),u=ze("div"),s=He(),f=ze("div"),a=He(),be(d.$$.fragment),h=He(),be(g.$$.fragment),A(u,"class","svelte-flow__edgelabel-renderer"),A(f,"class","svelte-flow__viewport-portal")},m(y,v){ye(e,y,v),ee(y,n,v),ye(r,y,v),ee(y,l,v),ee(y,u,v),ee(y,s,v),ee(y,f,v),ee(y,a,v),ye(d,y,v),ee(y,h,v),ye(g,y,v),m=!0},p(y,v){const p={};v[0]&2097152&&(p.defaultEdgeOptions=y[21]),e.$set(p);const M={};v[0]&128&&(M.containerStyle=y[7]),v[0]&64&&(M.style=y[6]),v[1]&1&&(M.isCustomComponent=y[31].connectionLine),v[2]&1073741824&&(M.$$scope={dirty:v,ctx:y}),r.$set(M)},i(y){m||(J(e.$$.fragment,y),J(r.$$.fragment,y),J(d.$$.fragment,y),J(g.$$.fragment,y),m=!0)},o(y){ne(e.$$.fragment,y),ne(r.$$.fragment,y),ne(d.$$.fragment,y),ne(g.$$.fragment,y),m=!1},d(y){y&&($(n),$(l),$(u),$(s),$(f),$(a),$(h)),we(e,y),we(r,y),we(d,y),we(g,y)}}}function $6(t){let e,n,r,l;return e=new V4({props:{$$slots:{default:[j6]},$$scope:{ctx:t}}}),r=new k6({}),{c(){be(e.$$.fragment),n=He(),be(r.$$.fragment)},m(u,s){ye(e,u,s),ee(u,n,s),ye(r,u,s),l=!0},p(u,s){const f={};s[0]&2097344|s[1]&1|s[2]&1073741824&&(f.$$scope={dirty:s,ctx:u}),e.$set(f)},i(u){l||(J(e.$$.fragment,u),J(r.$$.fragment,u),l=!0)},o(u){ne(e.$$.fragment,u),ne(r.$$.fragment,u),l=!1},d(u){u&&$(n),we(e,u),we(r,u)}}}function e8(t){let e,n;return e=new X4({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[$6]},$$scope:{ctx:t}}}),e.$on("paneclick",t[88]),e.$on("panecontextmenu",t[89]),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l[0]&131072&&(u.panOnDrag=r[17]===void 0?!0:r[17]),l[0]&262144&&(u.selectionOnDrag=r[18]),l[0]&2097344|l[1]&1|l[2]&1073741824&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function t8(t){let e,n,r,l,u,s,f,a,d,h,g,m;n=new H6({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),l=new R4({props:{initialViewport:t[0],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Fn.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],$$slots:{default:[e8]},$$scope:{ctx:t}}}),s=new U6({props:{proOptions:t[20],position:t[19]}});const y=t[70].default,v=Wt(y,t,t[92],null);let p=[{style:t[22]},{class:a=je(["svelte-flow",t[23],t[28]])},{"data-testid":"svelte-flow__wrapper"},t[30],{role:"application"}],M={};for(let w=0;w<p.length;w+=1)M=Ft(M,p[w]);return{c(){e=ze("div"),be(n.$$.fragment),r=He(),be(l.$$.fragment),u=He(),be(s.$$.fragment),f=He(),v&&v.c(),cr(e,M),Sl(()=>t[91].call(e)),Be(e,"svelte-12wlba6",!0)},m(w,z){ee(w,e,z),ye(n,e,null),Ce(e,r),ye(l,e,null),Ce(e,u),ye(s,e,null),Ce(e,f),v&&v.m(e,null),t[90](e),d=Uw(e,t[91].bind(e)),h=!0,g||(m=[De(e,"dragover",t[71]),De(e,"drop",t[72])],g=!0)},p(w,z){const k={};z[0]&2&&(k.selectionKey=w[1]),z[0]&32&&(k.deleteKey=w[5]),z[0]&4&&(k.panActivationKey=w[2]),z[0]&8&&(k.multiSelectionKey=w[3]),z[0]&16&&(k.zoomActivationKey=w[4]),n.$set(k);const C={};z[0]&1&&(C.initialViewport=w[0]),z[0]&256&&(C.onMoveStart=w[8]),z[0]&512&&(C.onMove=w[9]),z[0]&1024&&(C.onMoveEnd=w[10]),z[0]&2048&&(C.panOnScrollMode=w[11]===void 0?Fn.Free:w[11]),z[0]&4096&&(C.preventScrolling=w[12]===void 0?!0:w[12]),z[0]&8192&&(C.zoomOnScroll=w[13]===void 0?!0:w[13]),z[0]&16384&&(C.zoomOnDoubleClick=w[14]===void 0?!0:w[14]),z[0]&32768&&(C.zoomOnPinch=w[15]===void 0?!0:w[15]),z[0]&65536&&(C.panOnScroll=w[16]===void 0?!1:w[16]),z[0]&131072&&(C.panOnDrag=w[17]===void 0?!0:w[17]),z[0]&2490560|z[1]&1|z[2]&1073741824&&(C.$$scope={dirty:z,ctx:w}),l.$set(C);const P={};z[0]&1048576&&(P.proOptions=w[20]),z[0]&524288&&(P.position=w[19]),s.$set(P),v&&v.p&&(!h||z[2]&1073741824)&&Xt(v,y,w,w[92],h?Bt(y,w[92],z,null):Yt(w[92]),null),cr(e,M=li(p,[(!h||z[0]&4194304)&&{style:w[22]},(!h||z[0]&276824064&&a!==(a=je(["svelte-flow",w[23],w[28]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},z[0]&1073741824&&w[30],{role:"application"}])),Be(e,"svelte-12wlba6",!0)},i(w){h||(J(n.$$.fragment,w),J(l.$$.fragment,w),J(s.$$.fragment,w),J(v,w),h=!0)},o(w){ne(n.$$.fragment,w),ne(l.$$.fragment,w),ne(s.$$.fragment,w),ne(v,w),h=!1},d(w){w&&$(e),we(n),we(l),we(s),v&&v.d(w),t[90](null),d(),g=!1,vt(m)}}}function n8(t,e,n){let r;const l=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let u=ar(e,l),s,f,a=Me,d=()=>(a(),a=Ll(r,U=>n(28,f=U)),r);t.$$.on_destroy.push(()=>a());let{$$slots:h={},$$scope:g}=e;const m=Bw(h);let{id:y="1"}=e,{nodes:v}=e,{edges:p}=e,{fitView:M=void 0}=e,{fitViewOptions:w=void 0}=e,{minZoom:z=void 0}=e,{maxZoom:k=void 0}=e,{initialViewport:C={x:0,y:0,zoom:1}}=e,{viewport:P=void 0}=e,{nodeTypes:O=void 0}=e,{edgeTypes:H=void 0}=e,{selectionKey:L=void 0}=e,{selectionMode:W=void 0}=e,{panActivationKey:x=void 0}=e,{multiSelectionKey:I=void 0}=e,{zoomActivationKey:X=void 0}=e,{nodesDraggable:B=void 0}=e,{nodesConnectable:T=void 0}=e,{nodeDragThreshold:K=void 0}=e,{elementsSelectable:Y=void 0}=e,{snapGrid:q=void 0}=e,{deleteKey:G=void 0}=e,{connectionRadius:j=void 0}=e,{connectionLineType:fe=void 0}=e,{connectionMode:ae=Ei.Strict}=e,{connectionLineStyle:Q=""}=e,{connectionLineContainerStyle:ve=""}=e,{onMoveStart:ke=void 0}=e,{onMove:Pe=void 0}=e,{onMoveEnd:R=void 0}=e,{isValidConnection:he=void 0}=e,{translateExtent:_e=void 0}=e,{onlyRenderVisibleElements:oe=void 0}=e,{panOnScrollMode:le=Fn.Free}=e,{preventScrolling:Ye=!0}=e,{zoomOnScroll:nt=!0}=e,{zoomOnDoubleClick:it=!0}=e,{zoomOnPinch:ot=!0}=e,{panOnScroll:$e=!1}=e,{panOnDrag:Sn=!0}=e,{selectionOnDrag:kt=void 0}=e,{autoPanOnConnect:tn=!0}=e,{autoPanOnNodeDrag:cn=!0}=e,{onerror:pe=void 0}=e,{ondelete:pt=void 0}=e,{onedgecreate:qt=void 0}=e,{attributionPosition:dn=void 0}=e,{proOptions:ce=void 0}=e,{defaultEdgeOptions:At=void 0}=e,{width:It=void 0}=e,{height:ge=void 0}=e,{colorMode:Lt="light"}=e,{onconnect:Mt=void 0}=e,{onconnectstart:Ot=void 0}=e,{onconnectend:Nn=void 0}=e,{onbeforedelete:Ln=void 0}=e,{oninit:hn=void 0}=e,{defaultMarkerColor:Rn="#b1b1b7"}=e,{style:Un=void 0}=e,{class:xn=void 0}=e,si,fi,ai;const zt=qw(Kl)?ft():O4({nodes:ue(v),edges:ue(p),width:It,height:ge,fitView:M});lo(()=>(zt.width.set(fi),zt.height.set(ai),zt.domNode.set(si),zt.syncNodeStores(v),zt.syncEdgeStores(p),zt.syncViewport(P),M!==void 0&&zt.fitViewOnInit.set(M),w&&zt.fitViewOptions.set(w),Hd(zt,{nodeTypes:O,edgeTypes:H,minZoom:z,maxZoom:k,translateExtent:_e}),()=>{zt.reset()}));const{initialized:Sr}=zt;de(t,Sr,U=>n(69,s=U));let Yi=!1;function xl(U){tt.call(this,t,U)}function Gl(U){tt.call(this,t,U)}function ql(U){tt.call(this,t,U)}function Zl(U){tt.call(this,t,U)}function go(U){tt.call(this,t,U)}function Jl(U){tt.call(this,t,U)}function Ql(U){tt.call(this,t,U)}function jl(U){tt.call(this,t,U)}function kr(U){tt.call(this,t,U)}function $l(U){tt.call(this,t,U)}function Er(U){tt.call(this,t,U)}function eu(U){tt.call(this,t,U)}function tu(U){tt.call(this,t,U)}function nu(U){tt.call(this,t,U)}function iu(U){tt.call(this,t,U)}function ru(U){tt.call(this,t,U)}function ou(U){tt.call(this,t,U)}function lu(U){tt.call(this,t,U)}function uu(U){tt.call(this,t,U)}function mo(U){Vn[U?"unshift":"push"](()=>{si=U,n(26,si)})}function su(){fi=this.clientWidth,ai=this.clientHeight,n(24,fi),n(25,ai)}return t.$$set=U=>{e=Ft(Ft({},e),xs(U)),n(30,u=ar(e,l)),"id"in U&&n(32,y=U.id),"nodes"in U&&n(33,v=U.nodes),"edges"in U&&n(34,p=U.edges),"fitView"in U&&n(35,M=U.fitView),"fitViewOptions"in U&&n(36,w=U.fitViewOptions),"minZoom"in U&&n(37,z=U.minZoom),"maxZoom"in U&&n(38,k=U.maxZoom),"initialViewport"in U&&n(0,C=U.initialViewport),"viewport"in U&&n(39,P=U.viewport),"nodeTypes"in U&&n(40,O=U.nodeTypes),"edgeTypes"in U&&n(41,H=U.edgeTypes),"selectionKey"in U&&n(1,L=U.selectionKey),"selectionMode"in U&&n(42,W=U.selectionMode),"panActivationKey"in U&&n(2,x=U.panActivationKey),"multiSelectionKey"in U&&n(3,I=U.multiSelectionKey),"zoomActivationKey"in U&&n(4,X=U.zoomActivationKey),"nodesDraggable"in U&&n(43,B=U.nodesDraggable),"nodesConnectable"in U&&n(44,T=U.nodesConnectable),"nodeDragThreshold"in U&&n(45,K=U.nodeDragThreshold),"elementsSelectable"in U&&n(46,Y=U.elementsSelectable),"snapGrid"in U&&n(47,q=U.snapGrid),"deleteKey"in U&&n(5,G=U.deleteKey),"connectionRadius"in U&&n(48,j=U.connectionRadius),"connectionLineType"in U&&n(49,fe=U.connectionLineType),"connectionMode"in U&&n(50,ae=U.connectionMode),"connectionLineStyle"in U&&n(6,Q=U.connectionLineStyle),"connectionLineContainerStyle"in U&&n(7,ve=U.connectionLineContainerStyle),"onMoveStart"in U&&n(8,ke=U.onMoveStart),"onMove"in U&&n(9,Pe=U.onMove),"onMoveEnd"in U&&n(10,R=U.onMoveEnd),"isValidConnection"in U&&n(51,he=U.isValidConnection),"translateExtent"in U&&n(52,_e=U.translateExtent),"onlyRenderVisibleElements"in U&&n(53,oe=U.onlyRenderVisibleElements),"panOnScrollMode"in U&&n(11,le=U.panOnScrollMode),"preventScrolling"in U&&n(12,Ye=U.preventScrolling),"zoomOnScroll"in U&&n(13,nt=U.zoomOnScroll),"zoomOnDoubleClick"in U&&n(14,it=U.zoomOnDoubleClick),"zoomOnPinch"in U&&n(15,ot=U.zoomOnPinch),"panOnScroll"in U&&n(16,$e=U.panOnScroll),"panOnDrag"in U&&n(17,Sn=U.panOnDrag),"selectionOnDrag"in U&&n(18,kt=U.selectionOnDrag),"autoPanOnConnect"in U&&n(54,tn=U.autoPanOnConnect),"autoPanOnNodeDrag"in U&&n(55,cn=U.autoPanOnNodeDrag),"onerror"in U&&n(56,pe=U.onerror),"ondelete"in U&&n(57,pt=U.ondelete),"onedgecreate"in U&&n(58,qt=U.onedgecreate),"attributionPosition"in U&&n(19,dn=U.attributionPosition),"proOptions"in U&&n(20,ce=U.proOptions),"defaultEdgeOptions"in U&&n(21,At=U.defaultEdgeOptions),"width"in U&&n(59,It=U.width),"height"in U&&n(60,ge=U.height),"colorMode"in U&&n(61,Lt=U.colorMode),"onconnect"in U&&n(62,Mt=U.onconnect),"onconnectstart"in U&&n(63,Ot=U.onconnectstart),"onconnectend"in U&&n(64,Nn=U.onconnectend),"onbeforedelete"in U&&n(65,Ln=U.onbeforedelete),"oninit"in U&&n(66,hn=U.oninit),"defaultMarkerColor"in U&&n(67,Rn=U.defaultMarkerColor),"style"in U&&n(22,Un=U.style),"class"in U&&n(23,xn=U.class),"$$scope"in U&&n(92,g=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&50331648&&fi!==void 0&&ai!==void 0&&(zt.width.set(fi),zt.height.set(ai)),t.$$.dirty[2]&208&&!Yi&&s&&(hn==null||hn(),n(68,Yi=!0)),t.$$.dirty[1]&266336258|t.$$.dirty[2]&47&&G6(zt,{flowId:y,connectionLineType:fe,connectionRadius:j,selectionMode:W,snapGrid:q,defaultMarkerColor:Rn,nodesDraggable:B,nodesConnectable:T,elementsSelectable:Y,onlyRenderVisibleElements:oe,isValidConnection:he,autoPanOnConnect:tn,autoPanOnNodeDrag:cn,onerror:pe,ondelete:pt,onedgecreate:qt,connectionMode:ae,nodeDragThreshold:K,onconnect:Mt,onconnectstart:Ot,onconnectend:Nn,onbeforedelete:Ln}),t.$$.dirty[1]&2098880&&Hd(zt,{nodeTypes:O,edgeTypes:H,minZoom:z,maxZoom:k,translateExtent:_e}),t.$$.dirty[1]&1073741824&&d(n(27,r=Z6(Lt)))},[C,L,x,I,X,G,Q,ve,ke,Pe,R,le,Ye,nt,it,ot,$e,Sn,kt,dn,ce,At,Un,xn,fi,ai,si,r,f,Sr,u,m,y,v,p,M,w,z,k,P,O,H,W,B,T,K,Y,q,j,fe,ae,he,_e,oe,tn,cn,pe,pt,qt,It,ge,Lt,Mt,Ot,Nn,Ln,hn,Rn,Yi,s,h,xl,Gl,ql,Zl,go,Jl,Ql,jl,kr,$l,Er,eu,tu,nu,iu,ru,ou,lu,uu,mo,su,g]}class i8 extends Ie{constructor(e){super(),Te(this,e,n8,t8,Oe,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1,-1])}}const r8=i8;function o8(t){let e;const n=t[6].default,r=Wt(n,t,t[5],null);return{c(){r&&r.c()},m(l,u){r&&r.m(l,u),e=!0},p(l,[u]){r&&r.p&&(!e||u&32)&&Xt(r,n,l,l[5],e?Bt(n,l[5],u,null):Yt(l[5]),null)},i(l){e||(J(r,l),e=!0)},o(l){ne(r,l),e=!1},d(l){r&&r.d(l)}}}function l8(t,e,n){let{$$slots:r={},$$scope:l}=e,{initialNodes:u=void 0}=e,{initialEdges:s=void 0}=e,{initialWidth:f=void 0}=e,{initialHeight:a=void 0}=e,{fitView:d=void 0}=e;const h=d1({nodes:u,edges:s,width:f,height:a,fitView:d});return Jr(Kl,{getStore:()=>h}),Gs(()=>{h.reset()}),t.$$set=g=>{"initialNodes"in g&&n(0,u=g.initialNodes),"initialEdges"in g&&n(1,s=g.initialEdges),"initialWidth"in g&&n(2,f=g.initialWidth),"initialHeight"in g&&n(3,a=g.initialHeight),"fitView"in g&&n(4,d=g.fitView),"$$scope"in g&&n(5,l=g.$$scope)},[u,s,f,a,d,l,r]}class u8 extends Ie{constructor(e){super(),Te(this,e,l8,o8,Oe,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4})}}const s8=t=>({}),Ld=t=>({class:"button-svg"});function f8(t){let e,n,r,l,u;const s=t[8].default,f=Wt(s,t,t[7],Ld);let a=[{type:"button"},{class:n=je(["svelte-flow__controls-button",t[0]])},t[6]],d={};for(let h=0;h<a.length;h+=1)d=Ft(d,a[h]);return{c(){e=ze("button"),f&&f.c(),cr(e,d),We(e,"--xy-controls-button-background-color-props",t[1]),We(e,"--xy-controls-button-background-color-hover-props",t[2]),We(e,"--xy-controls-button-color-props",t[3]),We(e,"--xy-controls-button-color-hover-props",t[4]),We(e,"--xy-controls-button-border-color-props",t[5])},m(h,g){ee(h,e,g),f&&f.m(e,null),e.autofocus&&e.focus(),r=!0,l||(u=De(e,"click",t[9]),l=!0)},p(h,[g]){f&&f.p&&(!r||g&128)&&Xt(f,s,h,h[7],r?Bt(s,h[7],g,s8):Yt(h[7]),Ld),cr(e,d=li(a,[{type:"button"},(!r||g&1&&n!==(n=je(["svelte-flow__controls-button",h[0]])))&&{class:n},g&64&&h[6]])),We(e,"--xy-controls-button-background-color-props",h[1]),We(e,"--xy-controls-button-background-color-hover-props",h[2]),We(e,"--xy-controls-button-color-props",h[3]),We(e,"--xy-controls-button-color-hover-props",h[4]),We(e,"--xy-controls-button-border-color-props",h[5])},i(h){r||(J(f,h),r=!0)},o(h){ne(f,h),r=!1},d(h){h&&$(e),f&&f.d(h),l=!1,u()}}}function a8(t,e,n){const r=["class"];let l=ar(e,r),{$$slots:u={},$$scope:s}=e,{class:f=void 0}=e,a,d,h,g,m;function y(v){tt.call(this,t,v)}return t.$$set=v=>{e=Ft(Ft({},e),xs(v)),n(6,l=ar(e,r)),"class"in v&&n(0,f=v.class),"$$scope"in v&&n(7,s=v.$$scope)},[f,a,d,h,g,m,l,s,u,y]}class br extends Ie{constructor(e){super(),Te(this,e,a8,f8,Oe,{class:0})}}function c8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),A(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"viewBox","0 0 32 32")},m(r,l){ee(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&$(e)}}}class d8 extends Ie{constructor(e){super(),Te(this,e,null,c8,Oe,{})}}function h8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),A(n,"d","M0 0h32v4.2H0z"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"viewBox","0 0 32 5")},m(r,l){ee(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&$(e)}}}class g8 extends Ie{constructor(e){super(),Te(this,e,null,h8,Oe,{})}}function m8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),A(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"viewBox","0 0 32 30")},m(r,l){ee(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&$(e)}}}class _8 extends Ie{constructor(e){super(),Te(this,e,null,m8,Oe,{})}}function y8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),A(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"viewBox","0 0 25 32")},m(r,l){ee(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&$(e)}}}class w8 extends Ie{constructor(e){super(),Te(this,e,null,y8,Oe,{})}}function b8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),A(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"viewBox","0 0 25 32")},m(r,l){ee(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&$(e)}}}class v8 extends Ie{constructor(e){super(),Te(this,e,null,b8,Oe,{})}}const p8=t=>({}),Rd=t=>({}),S8=t=>({}),Dd=t=>({});function Wd(t){let e,n,r,l;const u=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[k8]},$$scope:{ctx:t}};for(let d=0;d<u.length;d+=1)s=Ft(s,u[d]);e=new br({props:s}),e.$on("click",t[18]);const f=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[E8]},$$scope:{ctx:t}};for(let d=0;d<f.length;d+=1)a=Ft(a,f[d]);return r=new br({props:a}),r.$on("click",t[19]),{c(){be(e.$$.fragment),n=He(),be(r.$$.fragment)},m(d,h){ye(e,d,h),ee(d,n,h),ye(r,d,h),l=!0},p(d,h){const g=h[0]&131584?li(u,[u[0],u[1],u[2],h[0]&512&&{disabled:d[9]},h[0]&131072&&dr(d[17])]):{};h[1]&16&&(g.$$scope={dirty:h,ctx:d}),e.$set(g);const m=h[0]&132096?li(f,[f[0],f[1],f[2],h[0]&1024&&{disabled:d[10]},h[0]&131072&&dr(d[17])]):{};h[1]&16&&(m.$$scope={dirty:h,ctx:d}),r.$set(m)},i(d){l||(J(e.$$.fragment,d),J(r.$$.fragment,d),l=!0)},o(d){ne(e.$$.fragment,d),ne(r.$$.fragment,d),l=!1},d(d){d&&$(n),we(e,d),we(r,d)}}}function k8(t){let e,n;return e=new d8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function E8(t){let e,n;return e=new g8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function Bd(t){let e,n;const r=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let l={$$slots:{default:[C8]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)l=Ft(l,r[u]);return e=new br({props:l}),e.$on("click",t[20]),{c(){be(e.$$.fragment)},m(u,s){ye(e,u,s),n=!0},p(u,s){const f=s[0]&131072?li(r,[r[0],r[1],r[2],dr(u[17])]):{};s[1]&16&&(f.$$scope={dirty:s,ctx:u}),e.$set(f)},i(u){n||(J(e.$$.fragment,u),n=!0)},o(u){ne(e.$$.fragment,u),n=!1},d(u){we(e,u)}}}function C8(t){let e,n;return e=new _8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function Xd(t){let e,n;const r=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let l={$$slots:{default:[P8]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)l=Ft(l,r[u]);return e=new br({props:l}),e.$on("click",t[21]),{c(){be(e.$$.fragment)},m(u,s){ye(e,u,s),n=!0},p(u,s){const f=s[0]&131072?li(r,[r[0],r[1],r[2],dr(u[17])]):{};s[0]&256|s[1]&16&&(f.$$scope={dirty:s,ctx:u}),e.$set(f)},i(u){n||(J(e.$$.fragment,u),n=!0)},o(u){ne(e.$$.fragment,u),n=!1},d(u){we(e,u)}}}function A8(t){let e,n;return e=new w8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function M8(t){let e,n;return e=new v8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function P8(t){let e,n,r,l;const u=[M8,A8],s=[];function f(a,d){return a[8]?0:1}return e=f(t),n=s[e]=u[e](t),{c(){n.c(),r=_t()},m(a,d){s[e].m(a,d),ee(a,r,d),l=!0},p(a,d){let h=e;e=f(a),e!==h&&(gt(),ne(s[h],1,1,()=>{s[h]=null}),mt(),n=s[e],n||(n=s[e]=u[e](a),n.c()),J(n,1),n.m(r.parentNode,r))},i(a){l||(J(n),l=!0)},o(a){ne(n),l=!1},d(a){a&&$(r),s[e].d(a)}}}function T8(t){let e,n,r,l,u,s;const f=t[34].before,a=Wt(f,t,t[35],Dd);let d=t[1]&&Wd(t),h=t[2]&&Bd(t),g=t[3]&&Xd(t);const m=t[34].default,y=Wt(m,t,t[35],null),v=t[34].after,p=Wt(v,t,t[35],Rd);return{c(){a&&a.c(),e=He(),d&&d.c(),n=He(),h&&h.c(),r=He(),g&&g.c(),l=He(),y&&y.c(),u=He(),p&&p.c()},m(M,w){a&&a.m(M,w),ee(M,e,w),d&&d.m(M,w),ee(M,n,w),h&&h.m(M,w),ee(M,r,w),g&&g.m(M,w),ee(M,l,w),y&&y.m(M,w),ee(M,u,w),p&&p.m(M,w),s=!0},p(M,w){a&&a.p&&(!s||w[1]&16)&&Xt(a,f,M,M[35],s?Bt(f,M[35],w,S8):Yt(M[35]),Dd),M[1]?d?(d.p(M,w),w[0]&2&&J(d,1)):(d=Wd(M),d.c(),J(d,1),d.m(n.parentNode,n)):d&&(gt(),ne(d,1,1,()=>{d=null}),mt()),M[2]?h?(h.p(M,w),w[0]&4&&J(h,1)):(h=Bd(M),h.c(),J(h,1),h.m(r.parentNode,r)):h&&(gt(),ne(h,1,1,()=>{h=null}),mt()),M[3]?g?(g.p(M,w),w[0]&8&&J(g,1)):(g=Xd(M),g.c(),J(g,1),g.m(l.parentNode,l)):g&&(gt(),ne(g,1,1,()=>{g=null}),mt()),y&&y.p&&(!s||w[1]&16)&&Xt(y,m,M,M[35],s?Bt(m,M[35],w,null):Yt(M[35]),null),p&&p.p&&(!s||w[1]&16)&&Xt(p,v,M,M[35],s?Bt(v,M[35],w,p8):Yt(M[35]),Rd)},i(M){s||(J(a,M),J(d),J(h),J(g),J(y,M),J(p,M),s=!0)},o(M){ne(a,M),ne(d),ne(h),ne(g),ne(y,M),ne(p,M),s=!1},d(M){M&&($(e),$(n),$(r),$(l),$(u)),a&&a.d(M),d&&d.d(M),h&&h.d(M),g&&g.d(M),y&&y.d(M),p&&p.d(M)}}}function I8(t){let e,n;return e=new oo({props:{class:je(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[T8]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l[0]&192&&(u.class=je(["svelte-flow__controls",r[7],r[6]])),l[0]&1&&(u.position=r[0]),l[0]&16&&(u["aria-label"]=r[4]??"Svelte Flow controls"),l[0]&32&&(u.style=r[5]),l[0]&1806|l[1]&16&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function O8(t,e,n){let r,l,u,s,f,a,d,h,g,m,{$$slots:y={},$$scope:v}=e,{position:p="bottom-left"}=e,{showZoom:M=!0}=e,{showFitView:w=!0}=e,{showLock:z=!0}=e,{buttonBgColor:k=void 0}=e,{buttonBgColorHover:C=void 0}=e,{buttonColor:P=void 0}=e,{buttonColorHover:O=void 0}=e,{buttonBorderColor:H=void 0}=e,{ariaLabel:L=void 0}=e,{style:W=void 0}=e,{orientation:x="vertical"}=e,{class:I=""}=e;const{zoomIn:X,zoomOut:B,fitView:T,viewport:K,minZoom:Y,maxZoom:q,nodesDraggable:G,nodesConnectable:j,elementsSelectable:fe}=ft();de(t,K,R=>n(29,a=R)),de(t,Y,R=>n(30,d=R)),de(t,q,R=>n(28,f=R)),de(t,G,R=>n(33,m=R)),de(t,j,R=>n(32,g=R)),de(t,fe,R=>n(31,h=R));const ae={bgColor:k,bgColorHover:C,color:P,colorHover:O,borderColor:H},Q=()=>{X()},ve=()=>{B()},ke=()=>{T()},Pe=()=>{n(8,r=!r),G.set(r),j.set(r),fe.set(r)};return t.$$set=R=>{"position"in R&&n(0,p=R.position),"showZoom"in R&&n(1,M=R.showZoom),"showFitView"in R&&n(2,w=R.showFitView),"showLock"in R&&n(3,z=R.showLock),"buttonBgColor"in R&&n(22,k=R.buttonBgColor),"buttonBgColorHover"in R&&n(23,C=R.buttonBgColorHover),"buttonColor"in R&&n(24,P=R.buttonColor),"buttonColorHover"in R&&n(25,O=R.buttonColorHover),"buttonBorderColor"in R&&n(26,H=R.buttonBorderColor),"ariaLabel"in R&&n(4,L=R.ariaLabel),"style"in R&&n(5,W=R.style),"orientation"in R&&n(27,x=R.orientation),"class"in R&&n(6,I=R.class),"$$scope"in R&&n(35,v=R.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&7&&n(8,r=m||g||h),t.$$.dirty[0]&1610612736&&n(10,l=a.zoom<=d),t.$$.dirty[0]&805306368&&n(9,u=a.zoom>=f),t.$$.dirty[0]&134217728&&n(7,s=x==="horizontal"?"horizontal":"vertical")},[p,M,w,z,L,W,I,s,r,u,l,K,Y,q,G,j,fe,ae,Q,ve,ke,Pe,k,C,P,O,H,x,f,a,d,h,g,m,y,v]}class z8 extends Ie{constructor(e){super(),Te(this,e,O8,I8,Oe,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,class:6},null,[-1,-1])}}var oi;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(oi||(oi={}));function H8(t){let e,n;return{c(){e=Xe("circle"),A(e,"cx",t[0]),A(e,"cy",t[0]),A(e,"r",t[0]),A(e,"class",n=je(["svelte-flow__background-pattern","dots",t[1]]))},m(r,l){ee(r,e,l)},p(r,[l]){l&1&&A(e,"cx",r[0]),l&1&&A(e,"cy",r[0]),l&1&&A(e,"r",r[0]),l&2&&n!==(n=je(["svelte-flow__background-pattern","dots",r[1]]))&&A(e,"class",n)},i:Me,o:Me,d(r){r&&$(e)}}}function N8(t,e,n){let{radius:r=5}=e,{class:l=""}=e;return t.$$set=u=>{"radius"in u&&n(0,r=u.radius),"class"in u&&n(1,l=u.class)},[r,l]}class L8 extends Ie{constructor(e){super(),Te(this,e,N8,H8,Oe,{radius:0,class:1})}}const R8=L8;function D8(t){let e,n,r;return{c(){e=Xe("path"),A(e,"stroke-width",t[0]),A(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),A(e,"class",r=je(["svelte-flow__background-pattern",t[2],t[3]]))},m(l,u){ee(l,e,u)},p(l,[u]){u&1&&A(e,"stroke-width",l[0]),u&2&&n!==(n=`M${l[1][0]/2} 0 V${l[1][1]} M0 ${l[1][1]/2} H${l[1][0]}`)&&A(e,"d",n),u&12&&r!==(r=je(["svelte-flow__background-pattern",l[2],l[3]]))&&A(e,"class",r)},i:Me,o:Me,d(l){l&&$(e)}}}function W8(t,e,n){let{lineWidth:r=1}=e,{dimensions:l}=e,{variant:u=void 0}=e,{class:s=""}=e;return t.$$set=f=>{"lineWidth"in f&&n(0,r=f.lineWidth),"dimensions"in f&&n(1,l=f.dimensions),"variant"in f&&n(2,u=f.variant),"class"in f&&n(3,s=f.class)},[r,l,u,s]}class B8 extends Ie{constructor(e){super(),Te(this,e,W8,D8,Oe,{lineWidth:0,dimensions:1,variant:2,class:3})}}const X8=B8;function Y8(t){let e,n;return e=new X8({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&64&&(u.dimensions=r[6]),l&1&&(u.variant=r[0]),l&2&&(u.lineWidth=r[1]),l&16&&(u.class=r[4]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function F8(t){let e,n;return e=new R8({props:{radius:t[7]/2,class:t[4]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&128&&(u.radius=r[7]/2),l&16&&(u.class=r[4]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function V8(t){let e,n,r,l,u,s,f,a,d,h,g,m,y;const v=[F8,Y8],p=[];function M(w,z){return w[14]?0:1}return r=M(t),l=p[r]=v[r](t),{c(){e=Xe("svg"),n=Xe("pattern"),l.c(),h=Xe("rect"),A(n,"id",t[11]),A(n,"x",u=t[9].x%t[8][0]),A(n,"y",s=t[9].y%t[8][1]),A(n,"width",f=t[8][0]),A(n,"height",a=t[8][1]),A(n,"patternUnits","userSpaceOnUse"),A(n,"patternTransform",d=`translate(-${t[10][0]},-${t[10][1]})`),A(h,"x","0"),A(h,"y","0"),A(h,"width","100%"),A(h,"height","100%"),A(h,"fill",g=`url(#${t[11]})`),A(e,"class",m=zc(je(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),A(e,"data-testid","svelte-flow__background"),We(e,"--xy-background-color-props",t[2]),We(e,"--xy-background-pattern-color-props",t[3])},m(w,z){ee(w,e,z),Ce(e,n),p[r].m(n,null),Ce(e,h),y=!0},p(w,[z]){l.p(w,z),(!y||z&2048)&&A(n,"id",w[11]),(!y||z&768&&u!==(u=w[9].x%w[8][0]))&&A(n,"x",u),(!y||z&768&&s!==(s=w[9].y%w[8][1]))&&A(n,"y",s),(!y||z&256&&f!==(f=w[8][0]))&&A(n,"width",f),(!y||z&256&&a!==(a=w[8][1]))&&A(n,"height",a),(!y||z&1024&&d!==(d=`translate(-${w[10][0]},-${w[10][1]})`))&&A(n,"patternTransform",d),(!y||z&2048&&g!==(g=`url(#${w[11]})`))&&A(h,"fill",g),(!y||z&32&&m!==(m=zc(je(["svelte-flow__background",w[5]]))+" svelte-1r7pe8d"))&&A(e,"class",m),z&4&&We(e,"--xy-background-color-props",w[2]),z&8&&We(e,"--xy-background-pattern-color-props",w[3])},i(w){y||(J(l),y=!0)},o(w){ne(l),y=!1},d(w){w&&$(e),p[r].d()}}}const K8={[oi.Dots]:1,[oi.Lines]:1,[oi.Cross]:6};function U8(t,e,n){let r,l,u,s,f,a,d,{id:h=void 0}=e,{variant:g=oi.Dots}=e,{gap:m=20}=e,{size:y=1}=e,{lineWidth:v=1}=e,{bgColor:p=void 0}=e,{patternColor:M=void 0}=e,{patternClass:w=void 0}=e,{class:z=""}=e;const{viewport:k,flowId:C}=ft();de(t,k,W=>n(9,a=W)),de(t,C,W=>n(18,d=W));const P=y||K8[g],O=g===oi.Dots,H=g===oi.Cross,L=Array.isArray(m)?m:[m,m];return t.$$set=W=>{"id"in W&&n(15,h=W.id),"variant"in W&&n(0,g=W.variant),"gap"in W&&n(16,m=W.gap),"size"in W&&n(17,y=W.size),"lineWidth"in W&&n(1,v=W.lineWidth),"bgColor"in W&&n(2,p=W.bgColor),"patternColor"in W&&n(3,M=W.patternColor),"patternClass"in W&&n(4,w=W.patternClass),"class"in W&&n(5,z=W.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,r=`background-pattern-${d}-${h||""}`),t.$$.dirty&512&&n(8,l=[L[0]*a.zoom||1,L[1]*a.zoom||1]),t.$$.dirty&512&&n(7,u=P*a.zoom),t.$$.dirty&384&&n(6,s=H?[u,u]:l),t.$$.dirty&192&&n(10,f=O?[u/2,u/2]:[s[0]/2,s[1]/2])},[g,v,p,M,w,z,s,u,l,a,f,r,k,C,O,h,m,y,d]}class x8 extends Ie{constructor(e){super(),Te(this,e,U8,V8,Oe,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const G8=x8;function q8(t){let e,n,r;return{c(){e=Xe("rect"),A(e,"class",n=je(["svelte-flow__minimap-node",t[10]])),A(e,"x",t[0]),A(e,"y",t[1]),A(e,"rx",t[4]),A(e,"ry",t[4]),A(e,"width",t[2]),A(e,"height",t[3]),A(e,"style",r=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),A(e,"shape-rendering",t[6]),Be(e,"selected",t[9])},m(l,u){ee(l,e,u)},p(l,[u]){u&1024&&n!==(n=je(["svelte-flow__minimap-node",l[10]]))&&A(e,"class",n),u&1&&A(e,"x",l[0]),u&2&&A(e,"y",l[1]),u&16&&A(e,"rx",l[4]),u&16&&A(e,"ry",l[4]),u&4&&A(e,"width",l[2]),u&8&&A(e,"height",l[3]),u&416&&r!==(r=`${l[5]?`fill: ${l[5]};`:""}${l[7]?`stroke: ${l[7]};`:""}${l[8]?`stroke-width: ${l[8]};`:""}`)&&A(e,"style",r),u&64&&A(e,"shape-rendering",l[6]),u&1536&&Be(e,"selected",l[9])},i:Me,o:Me,d(l){l&&$(e)}}}function Z8(t,e,n){let{x:r}=e,{y:l}=e,{width:u=0}=e,{height:s=0}=e,{borderRadius:f=5}=e,{color:a=void 0}=e,{shapeRendering:d}=e,{strokeColor:h=void 0}=e,{strokeWidth:g=2}=e,{selected:m=!1}=e,{class:y=""}=e;return t.$$set=v=>{"x"in v&&n(0,r=v.x),"y"in v&&n(1,l=v.y),"width"in v&&n(2,u=v.width),"height"in v&&n(3,s=v.height),"borderRadius"in v&&n(4,f=v.borderRadius),"color"in v&&n(5,a=v.color),"shapeRendering"in v&&n(6,d=v.shapeRendering),"strokeColor"in v&&n(7,h=v.strokeColor),"strokeWidth"in v&&n(8,g=v.strokeWidth),"selected"in v&&n(9,m=v.selected),"class"in v&&n(10,y=v.class)},[r,l,u,s,f,a,d,h,g,m,y]}class J8 extends Ie{constructor(e){super(),Te(this,e,Z8,q8,Oe,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function Q8(t,e){const n=cp({domNode:t,panZoom:e.panZoom,getTransform:()=>{const l=ue(e.viewport);return[l.x,l.y,l.zoom]},getViewScale:e.getViewScale});function r(l){n.update({translateExtent:l.translateExtent,width:l.width,height:l.height,inversePan:l.inversePan,zoomStep:l.zoomStep,pannable:l.pannable,zoomable:l.zoomable})}return{update:r,destroy(){n.destroy()}}}function Yd(t,e,n){const r=t.slice();return r[53]=e[n],r}function Ps(t){const e=t.slice(),n=pr(e[53]).positionAbsolute;e[56]=n;const r=co(e[53]);return e[57]=r,e}function Fd(t){let e,n,r=[],l=new Map,u,s,f,a,d,h,g,m=t[1]&&Vd(t),y=Tt(t[19]);const v=p=>p[53].id;for(let p=0;p<y.length;p+=1){let M=Yd(t,y,p),w=v(M);l.set(w,r[p]=Ud(w,M))}return{c(){e=Xe("svg"),m&&m.c(),n=_t();for(let p=0;p<r.length;p+=1)r[p].c();u=Xe("path"),A(u,"class","svelte-flow__minimap-mask"),A(u,"d",s="M"+(t[25]-t[15])+","+(t[24]-t[15])+"h"+(t[23]+t[15]*2)+"v"+(t[22]+t[15]*2)+"h"+(-t[23]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),A(u,"fill-rule","evenodd"),A(u,"pointer-events","none"),A(e,"width",t[17]),A(e,"height",t[16]),A(e,"viewBox",f=t[25]+" "+t[24]+" "+t[23]+" "+t[22]),A(e,"class","svelte-flow__minimap-svg"),A(e,"role","img"),A(e,"aria-labelledby",t[39]),We(e,"--xy-minimap-mask-background-color-props",t[5]),We(e,"--xy-minimap-mask-stroke-color-props",t[6]),We(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(p,M){ee(p,e,M),m&&m.m(e,null),Ce(e,n);for(let w=0;w<r.length;w+=1)r[w]&&r[w].m(e,null);Ce(e,u),d=!0,h||(g=xt(a=Q8.call(null,e,{panZoom:t[26],viewport:t[29],getViewScale:t[40],translateExtent:t[27],width:t[21],height:t[20],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),h=!0)},p(p,M){p[1]?m?m.p(p,M):(m=Vd(p),m.c(),m.m(e,n)):m&&(m.d(1),m=null),M[0]&524300|M[1]&240&&(y=Tt(p[19]),gt(),r=Wi(r,M,v,1,p,y,l,e,Di,Ud,u,Yd),mt()),(!d||M[0]&63209472&&s!==(s="M"+(p[25]-p[15])+","+(p[24]-p[15])+"h"+(p[23]+p[15]*2)+"v"+(p[22]+p[15]*2)+"h"+(-p[23]-p[15]*2)+`z
      M`+p[18].x+","+p[18].y+"h"+p[18].width+"v"+p[18].height+"h"+-p[18].width+"z"))&&A(u,"d",s),(!d||M[0]&131072)&&A(e,"width",p[17]),(!d||M[0]&65536)&&A(e,"height",p[16]),(!d||M[0]&62914560&&f!==(f=p[25]+" "+p[24]+" "+p[23]+" "+p[22]))&&A(e,"viewBox",f),a&&ct(a.update)&&M[0]&204476160&&a.update.call(null,{panZoom:p[26],viewport:p[29],getViewScale:p[40],translateExtent:p[27],width:p[21],height:p[20],inversePan:p[10],zoomStep:p[11],pannable:p[8],zoomable:p[9]}),M[0]&32&&We(e,"--xy-minimap-mask-background-color-props",p[5]),M[0]&64&&We(e,"--xy-minimap-mask-stroke-color-props",p[6]),M[0]&16512&&We(e,"--xy-minimap-mask-stroke-width-props",p[7]?p[7]*p[14]:void 0)},i(p){if(!d){for(let M=0;M<y.length;M+=1)J(r[M]);d=!0}},o(p){for(let M=0;M<r.length;M+=1)ne(r[M]);d=!1},d(p){p&&$(e),m&&m.d();for(let M=0;M<r.length;M+=1)r[M].d();h=!1,g()}}}function Vd(t){let e,n;return{c(){e=Xe("title"),n=Gt(t[1]),A(e,"id",t[39])},m(r,l){ee(r,e,l),Ce(e,n)},p(r,l){l[0]&2&&Xi(n,r[1])},d(r){r&&$(e)}}}function Kd(t){var u;let e,n;const r=[{x:t[56].x},{y:t[56].y},t[57],{selected:t[53].selected},{color:(u=t[35])==null?void 0:u.call(t,t[53])},{borderRadius:t[2]},{strokeColor:t[36](t[53])},{strokeWidth:t[3]},{shapeRendering:t[38]},{class:t[37](t[53])}];let l={};for(let s=0;s<r.length;s+=1)l=Ft(l,r[s]);return e=new J8({props:l}),{c(){be(e.$$.fragment)},m(s,f){ye(e,s,f),n=!0},p(s,f){var d;const a=f[0]&524300|f[1]&240?li(r,[f[0]&524288&&{x:s[56].x},f[0]&524288&&{y:s[56].y},f[0]&524288&&dr(s[57]),f[0]&524288&&{selected:s[53].selected},f[0]&524288|f[1]&16&&{color:(d=s[35])==null?void 0:d.call(s,s[53])},f[0]&4&&{borderRadius:s[2]},f[0]&524288|f[1]&32&&{strokeColor:s[36](s[53])},f[0]&8&&{strokeWidth:s[3]},f[1]&128&&{shapeRendering:s[38]},f[0]&524288|f[1]&64&&{class:s[37](s[53])}]):{};e.$set(a)},i(s){n||(J(e.$$.fragment,s),n=!0)},o(s){ne(e.$$.fragment,s),n=!1},d(s){we(e,s)}}}function Ud(t,e){let n,r=io(e[53]),l,u,s=r&&Kd(Ps(e));return{key:t,first:null,c(){n=_t(),s&&s.c(),l=_t(),this.first=n},m(f,a){ee(f,n,a),s&&s.m(f,a),ee(f,l,a),u=!0},p(f,a){e=f,a[0]&524288&&(r=io(e[53])),r?s?(s.p(Ps(e),a),a[0]&524288&&J(s,1)):(s=Kd(Ps(e)),s.c(),J(s,1),s.m(l.parentNode,l)):s&&(gt(),ne(s,1,1,()=>{s=null}),mt())},i(f){u||(J(s),u=!0)},o(f){ne(s),u=!1},d(f){f&&($(n),$(l)),s&&s.d(f)}}}function j8(t){let e,n,r=t[26]&&Fd(t);return{c(){r&&r.c(),e=_t()},m(l,u){r&&r.m(l,u),ee(l,e,u),n=!0},p(l,u){l[26]?r?(r.p(l,u),u[0]&67108864&&J(r,1)):(r=Fd(l),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(gt(),ne(r,1,1,()=>{r=null}),mt())},i(l){n||(J(r),n=!0)},o(l){ne(r),n=!1},d(l){l&&$(e),r&&r.d(l)}}}function $8(t){let e,n;return e=new oo({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:je(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[j8]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l[0]&1&&(u.position=r[0]),l[0]&4112&&(u.style=r[12]+(r[4]?`;--xy-minimap-background-color-props:${r[4]}`:"")),l[0]&8192&&(u.class=je(["svelte-flow__minimap",r[13]])),l[0]&268423150|l[1]&134217728&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}const Ts=t=>t instanceof Function?t:()=>t,e7=200,t7=150;function n7(t,e,n){let r,l,u,s,f,a,d,h,g,m,y,v,p,M,w,z,k,C,P,O,H,{position:L="bottom-right"}=e,{ariaLabel:W="Mini map"}=e,{nodeStrokeColor:x="transparent"}=e,{nodeColor:I=void 0}=e,{nodeClass:X=""}=e,{nodeBorderRadius:B=5}=e,{nodeStrokeWidth:T=2}=e,{bgColor:K=void 0}=e,{maskColor:Y=void 0}=e,{maskStrokeColor:q=void 0}=e,{maskStrokeWidth:G=void 0}=e,{width:j=void 0}=e,{height:fe=void 0}=e,{pannable:ae=!0}=e,{zoomable:Q=!0}=e,{inversePan:ve=void 0}=e,{zoomStep:ke=void 0}=e,{style:Pe=""}=e,{class:R=""}=e;const{nodes:he,viewport:_e,width:oe,height:le,flowId:Ye,panZoom:nt,translateExtent:it}=ft();de(t,he,pe=>n(19,w=pe)),de(t,_e,pe=>n(51,z=pe)),de(t,oe,pe=>n(21,C=pe)),de(t,le,pe=>n(20,k=pe)),de(t,Ye,pe=>n(52,P=pe)),de(t,nt,pe=>n(26,O=pe)),de(t,it,pe=>n(27,H=pe));const ot=I===void 0?void 0:Ts(I),$e=Ts(x),Sn=Ts(X),kt=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",tn=`svelte-flow__minimap-desc-${P}`,cn=()=>d;return t.$$set=pe=>{"position"in pe&&n(0,L=pe.position),"ariaLabel"in pe&&n(1,W=pe.ariaLabel),"nodeStrokeColor"in pe&&n(41,x=pe.nodeStrokeColor),"nodeColor"in pe&&n(42,I=pe.nodeColor),"nodeClass"in pe&&n(43,X=pe.nodeClass),"nodeBorderRadius"in pe&&n(2,B=pe.nodeBorderRadius),"nodeStrokeWidth"in pe&&n(3,T=pe.nodeStrokeWidth),"bgColor"in pe&&n(4,K=pe.bgColor),"maskColor"in pe&&n(5,Y=pe.maskColor),"maskStrokeColor"in pe&&n(6,q=pe.maskStrokeColor),"maskStrokeWidth"in pe&&n(7,G=pe.maskStrokeWidth),"width"in pe&&n(44,j=pe.width),"height"in pe&&n(45,fe=pe.height),"pannable"in pe&&n(8,ae=pe.pannable),"zoomable"in pe&&n(9,Q=pe.zoomable),"inversePan"in pe&&n(10,ve=pe.inversePan),"zoomStep"in pe&&n(11,ke=pe.zoomStep),"style"in pe&&n(12,Pe=pe.style),"class"in pe&&n(13,R=pe.class)},t.$$.update=()=>{t.$$.dirty[0]&3145728|t.$$.dirty[1]&1048576&&n(18,r={x:-z.x/z.zoom,y:-z.y/z.zoom,width:C/z.zoom,height:k/z.zoom}),t.$$.dirty[0]&786432&&n(48,l=w.length>0?W5(ao(w),r):r),t.$$.dirty[1]&8192&&n(17,u=j??e7),t.$$.dirty[1]&16384&&n(16,s=fe??t7),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(50,f=l.width/u),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(49,a=l.height/s),t.$$.dirty[1]&786432&&n(14,d=Math.max(f,a)),t.$$.dirty[0]&147456&&n(47,h=d*u),t.$$.dirty[0]&81920&&n(46,g=d*s),t.$$.dirty[0]&16384&&n(15,m=5*d),t.$$.dirty[0]&32768|t.$$.dirty[1]&196608&&n(25,y=l.x-(h-l.width)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&163840&&n(24,v=l.y-(g-l.height)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&65536&&n(23,p=h+m*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&32768&&n(22,M=g+m*2)},[L,W,B,T,K,Y,q,G,ae,Q,ve,ke,Pe,R,d,m,s,u,r,w,k,C,M,p,v,y,O,H,he,_e,oe,le,Ye,nt,it,ot,$e,Sn,kt,tn,cn,x,I,X,j,fe,g,h,l,a,f,z]}class i7 extends Ie{constructor(e){super(),Te(this,e,n7,$8,Oe,{position:0,ariaLabel:1,nodeStrokeColor:41,nodeColor:42,nodeClass:43,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:44,height:45,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function r7(t){let e,n,r;const l=t[33].default,u=Wt(l,t,t[32],null);return{c(){e=ze("div"),u&&u.c(),A(e,"class",n=je(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),A(e,"style",t[3])},m(s,f){ee(s,e,f),u&&u.m(e,null),t[34](e),r=!0},p(s,f){u&&u.p&&(!r||f[1]&2)&&Xt(u,l,s,s[32],r?Bt(l,s[32],f,null):Yt(s[32]),null),(!r||f[0]&19&&n!==(n=je(["svelte-flow__resize-control","nodrag",...s[4],s[0],s[1]])))&&A(e,"class",n),(!r||f[0]&8)&&A(e,"style",s[3])},i(s){r||(J(u,s),r=!0)},o(s){ne(u,s),r=!1},d(s){s&&$(e),u&&u.d(s),t[34](null)}}}function o7(t,e,n){let r,l,u,s,f,a,d,h,g,m,y,v,p,M,w,z,{$$slots:k={},$$scope:C}=e,{nodeId:P=void 0}=e,{position:O=void 0}=e,{variant:H=qr.Handle}=e,{color:L=void 0}=e,{minWidth:W=10}=e,{minHeight:x=10}=e,{maxWidth:I=Number.MAX_VALUE}=e,{maxHeight:X=Number.MAX_VALUE}=e,{keepAspectRatio:B=!1}=e,{shouldResize:T=void 0}=e,{onResizeStart:K=void 0}=e,{onResize:Y=void 0}=e,{onResizeEnd:q=void 0}=e,{style:G=""}=e,{class:j=""}=e;const{nodeLookup:fe,snapGrid:ae,viewport:Q,nodes:ve,nodeOrigin:ke}=ft();de(t,fe,oe=>n(37,p=oe)),de(t,ae,oe=>n(39,w=oe)),de(t,Q,oe=>n(40,z=oe)),de(t,ve,oe=>n(36,v=oe)),de(t,ke,oe=>n(38,M=oe));const Pe=Qr("svelteflow__node_id");let R,he=null;lo(()=>(R&&n(23,he=Mp({domNode:R,nodeId:f,getStoreItems:()=>({nodeLookup:p,transform:[z.x,z.y,z.zoom],snapGrid:w??void 0,snapToGrid:!!w,nodeOrigin:M}),onChange:(oe,le)=>{const Ye=p.get(f);if(Ye){Ye.height=oe.isHeightChange?oe.height:Ye.height,Ye.width=oe.isWidthChange?oe.width:Ye.width,Ye.position=oe.isXPosChange||oe.isYPosChange?{x:oe.x,y:oe.y}:Ye.position;for(const nt of le){const it=p.get(nt.id);it&&(it.position=nt.position)}ve.set(v)}}})),()=>{he==null||he.destroy()}));function _e(oe){Vn[oe?"unshift":"push"](()=>{R=oe,n(2,R)})}return t.$$set=oe=>{"nodeId"in oe&&n(10,P=oe.nodeId),"position"in oe&&n(11,O=oe.position),"variant"in oe&&n(0,H=oe.variant),"color"in oe&&n(12,L=oe.color),"minWidth"in oe&&n(13,W=oe.minWidth),"minHeight"in oe&&n(14,x=oe.minHeight),"maxWidth"in oe&&n(15,I=oe.maxWidth),"maxHeight"in oe&&n(16,X=oe.maxHeight),"keepAspectRatio"in oe&&n(17,B=oe.keepAspectRatio),"shouldResize"in oe&&n(18,T=oe.shouldResize),"onResizeStart"in oe&&n(19,K=oe.onResizeStart),"onResize"in oe&&n(20,Y=oe.onResize),"onResizeEnd"in oe&&n(21,q=oe.onResizeEnd),"style"in oe&&n(22,G=oe.style),"class"in oe&&n(1,j=oe.class),"$$scope"in oe&&n(32,C=oe.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&n(27,r=W??10),t.$$.dirty[0]&16384&&n(26,l=x??10),t.$$.dirty[0]&32768&&n(25,u=I??Number.MAX_VALUE),t.$$.dirty[0]&65536&&n(24,s=X??Number.MAX_VALUE),t.$$.dirty[0]&1024&&(f=typeof P=="string"?P:Pe),t.$$.dirty[0]&1&&n(31,a=H===qr.Line?"right":"bottom-right"),t.$$.dirty[0]&2048|t.$$.dirty[1]&1&&n(28,d=O??a),t.$$.dirty[0]&268435456&&n(4,h=d.split("-")),t.$$.dirty[0]&1&&n(30,g=H===qr.Line?"border-color":"background-color"),t.$$.dirty[0]&4194304&&n(29,m=G??""),t.$$.dirty[0]&1610616832&&n(3,y=L?`${m} ${g}: ${L};`:m),t.$$.dirty[0]&532545536&&(he==null||he.update({controlPosition:d,boundaries:{minWidth:r,minHeight:l,maxWidth:u,maxHeight:s},keepAspectRatio:!!B,onResizeStart:K,onResize:Y,onResizeEnd:q,shouldResize:T}))},[H,j,R,y,h,fe,ae,Q,ve,ke,P,O,L,W,x,I,X,B,T,K,Y,q,G,he,s,u,l,r,d,m,g,a,C,k,_e]}class l7 extends Ie{constructor(e){super(),Te(this,e,o7,r7,Oe,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}const xd=t=>H5(t),_1=()=>Rl();function u7(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:r,snapGrid:l,viewport:u,width:s,height:f,minZoom:a,maxZoom:d,panZoom:h,nodes:g,edges:m,domNode:y,nodeLookup:v,edgeLookup:p}=ft(),M=z=>{const k=xd(z)&&io(z)?z:ue(v).get(z.id);return k?Fs(k):null},w=(z,k,C={replace:!1})=>{g.update(P=>P.map(O=>{if(O.id===z){const H=typeof k=="function"?k(O):k;return C.replace&&xd(H)?H:{...O,...H}}return O}))};return{zoomIn:t,zoomOut:e,getNode:z=>ue(v).get(z),getNodes:z=>z===void 0?ue(g):Gd(ue(v),z),getEdge:z=>ue(p).get(z),getEdges:z=>z===void 0?ue(m):Gd(ue(p),z),setZoom:(z,k)=>{var C;(C=ue(h))==null||C.scaleTo(z,{duration:k==null?void 0:k.duration})},getZoom:()=>ue(u).zoom,setViewport:(z,k)=>{var P;const C=ue(u);(P=ue(h))==null||P.setViewport({x:z.x??C.x,y:z.y??C.y,zoom:z.zoom??C.zoom},{duration:k==null?void 0:k.duration})},getViewport:()=>ue(u),setCenter:(z,k,C)=>{var O;const P=typeof(C==null?void 0:C.zoom)<"u"?C.zoom:ue(d);(O=ue(h))==null||O.setViewport({x:ue(s)/2-z*P,y:ue(f)/2-k*P,zoom:P},{duration:C==null?void 0:C.duration})},fitView:n,fitBounds:(z,k)=>{var P;const C=rf(z,ue(s),ue(f),ue(a),ue(d),(k==null?void 0:k.padding)??.1);(P=ue(h))==null||P.setViewport(C,{duration:k==null?void 0:k.duration})},getIntersectingNodes:(z,k=!0,C)=>{const P=nd(z),O=P?z:M(z);return O?(C||ue(g)).filter(H=>{var I;if(!P&&(H.id===z.id||!((I=H.computed)!=null&&I.positionAbsolute)))return!1;const L=Fs(H),W=Ol(L,O);return k&&W>0||W>=O.width*O.height}):[]},isNodeIntersecting:(z,k,C=!0)=>{const O=nd(z)?z:M(z);if(!O)return!1;const H=Ol(O,k);return C&&H>0||H>=O.width*O.height},deleteElements:async({nodes:z=[],edges:k=[]})=>{const{nodes:C,edges:P}=await Fh({nodesToRemove:z,edgesToRemove:k,nodes:ue(g),edges:ue(m),onBeforeDelete:ue(r)});return C&&g.update(O=>O.filter(H=>!C.some(({id:L})=>L===H.id))),P&&m.update(O=>O.filter(H=>!P.some(({id:L})=>L===H.id))),{deletedNodes:C,deletedEdges:P}},screenToFlowPosition:(z,k={snapToGrid:!0})=>{const C=ue(y);if(!C)return z;const P=k.snapToGrid?ue(l):!1,{x:O,y:H,zoom:L}=ue(u),{x:W,y:x}=C.getBoundingClientRect(),I={x:z.x-W,y:z.y-x};return Fl(I,[O,H,L],P!==null,P||[1,1])},flowToScreenPosition:z=>{const k=ue(y);if(!k)return z;const{x:C,y:P,zoom:O}=ue(u),{x:H,y:L}=k.getBoundingClientRect(),W=Kh(z,[C,P,O]);return{x:W.x+H,y:W.y+L}},toObject:()=>({nodes:ue(g).map(z=>({...z,position:{...z.position},data:{...z.data}})),edges:ue(m).map(z=>({...z})),viewport:{...ue(u)}}),updateNode:w,updateNodeData:(z,k,C)=>{w(z,P=>{const O=typeof k=="function"?k(P):k;return C!=null&&C.replace?{...P,data:O}:{...P,data:{...P.data,...O}}})},viewport:u}}function Gd(t,e){const n=[];for(const r of e){const l=t.get(r);l&&n.push(l)}return n}function s7(){const{domNode:t,updateNodeDimensions:e}=ft();return r=>{const l=Array.isArray(r)?r:[r],u=new Map;l.forEach(s=>{var a;const f=(a=ue(t))==null?void 0:a.querySelector(`.svelte-flow__node[data-id="${s}"]`);f&&u.set(s,{id:s,nodeElement:f,forceUpdate:!0})}),requestAnimationFrame(()=>e(u))}}function f7(){const{connection:t}=ft();return t}function a7(){const{nodes:t}=ft();return t}function y1(){const{edges:t}=ft();return t}var Is={local:{},session:{}};function c7(t){return t==="local"?localStorage:sessionStorage}function of(t,e,n){var r,l,u,s;const f=(r=n==null?void 0:n.serializer)!=null?r:JSON,a=(l=n==null?void 0:n.storage)!=null?l:"local",d=(u=n==null?void 0:n.syncTabs)!=null?u:!0,h=(s=n==null?void 0:n.onError)!=null?s:p=>console.error(`Error when writing value from persisted store "${t}" to ${a}`,p),g=typeof window<"u"&&typeof document<"u",m=g?c7(a):null;function y(p,M){try{m==null||m.setItem(p,f.stringify(M))}catch(w){h(w)}}function v(){const p=m==null?void 0:m.getItem(t);return p?f.parse(p):e}if(!Is[a][t]){const p=v(),M=Ae(p,k=>{if(g&&a=="local"&&d){const C=P=>{P.key===t&&k(P.newValue?f.parse(P.newValue):null)};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)}}),{subscribe:w,set:z}=M;Is[a][t]={set(k){z(k),y(t,k)},update(k){return M.update(C=>{const P=k(C);return y(t,P),P})},subscribe:w}}return Is[a][t]}const Pn=[{id:crypto.randomUUID().toString(),type:"default",data:{label:"Patch",connection:"",inputs:[],outputs:["ethernet","sdi","audio","power"],group:!1},position:{x:0,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Canvas",inputs:["dante","dmx","ethernet","sdi","audio","midi","osc","power"],outputs:["dante","dmx","ethernet","sdi","audio","midi","osc"]},dragHandle:".drag-dots",position:{x:0,y:100}}],Ks=[{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Pn[0].id,sourceHandle:"ethernet",target:Pn[1].id,targetHandle:"ethernet"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Pn[0].id,sourceHandle:"sdi",target:Pn[1].id,targetHandle:"sdi"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Pn[0].id,sourceHandle:"audio",target:Pn[1].id,targetHandle:"audio"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Pn[0].id,sourceHandle:"power",target:Pn[1].id,targetHandle:"power"}],d7=1,vl=1,h7={version:d7,theme:"dark"},Os=of("preferences",h7),w1={version:vl,uniqueFlow:[{}],title:"PatchCanvas",nodes:Pn,edges:Ks},On=of("current",w1),g7=[];of("saves",g7);function m7(t){let e,n,r,l,u,s,f,a;return{c(){e=ze("p"),e.textContent="Drag to the canvas!",n=He(),r=ze("div"),l=ze("div"),l.textContent="node",u=He(),s=ze("div"),s.textContent="group",A(e,"class","svelte-6g6phf"),A(l,"draggable",!0),A(l,"class","svelte-6g6phf"),A(s,"draggable",!0),A(s,"class","svelte-6g6phf"),A(r,"class","nodes svelte-6g6phf")},m(d,h){ee(d,e,h),ee(d,n,h),ee(d,r,h),Ce(r,l),Ce(r,u),Ce(r,s),f||(a=[De(l,"dragstart",t[1]),De(s,"dragstart",t[2])],f=!0)},p:Me,i:Me,o:Me,d(d){d&&($(e),$(n),$(r)),f=!1,vt(a)}}}function _7(t){const e=(l,u)=>{if(!l.dataTransfer)return null;l.dataTransfer.setData("application/patchcanvasnode",u),l.dataTransfer.effectAllowed="move"};return[e,l=>e(l,JSON.stringify({inputs:[],outputs:[]})),l=>e(l,JSON.stringify({group:!0}))]}class y7 extends Ie{constructor(e){super(),Te(this,e,_7,m7,Oe,{})}}const w7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-audio-input-xlr"
	viewBox="0 -5 24 34"
	fill="currentColor"
	><path
		d="M12 4C16.41 4 20 7.59 20 12S16.41 20 12 20 4 16.41 4 12 7.59 4 12 4M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M13.5 16.5C13.5 15.67 12.83 15 12 15S10.5 15.67 10.5 16.5C10.5 17.33 11.17 18 12 18S13.5 17.33 13.5 16.5M9 12C9 11.17 8.33 10.5 7.5 10.5S6 11.17 6 12 6.67 13.5 7.5 13.5 9 12.83 9 12M18 12C18 11.17 17.33 10.5 16.5 10.5C15.67 10.5 15 11.17 15 12S15.67 13.5 16.5 13.5C17.33 13.5 18 12.83 18 12Z"
	/></svg
>
`,b7=`<svg
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	viewBox="350 -15 800 600"
	preserveAspectRatio="xMidYMid meet"
>
	<g
		transform="translate(0,576) scale(0.1,-0.1)"
		fill="currentColor"
		stroke="none"
	>
		<path
			d="M7125 4624 c-16 -2 -73 -9 -125 -15 -675 -76 -1339 -406 -1816 -902
-532 -551 -804 -1238 -804 -2029 l0 -78 214 0 213 0 6 203 c10 340 66 595 197
898 183 423 517 812 925 1079 141 92 417 228 570 280 295 101 591 150 908 150
l127 0 0 210 0 210 -192 -1 c-106 -1 -206 -4 -223 -5z"
		/>
		<path
			d="M7260 3773 c-786 -55 -1456 -474 -1795 -1125 -145 -279 -211 -536
-222 -870 l-6 -178 861 0 862 0 0 225 0 225 -631 0 -632 0 7 40 c12 73 67 233
116 335 189 392 539 697 976 848 92 32 272 77 309 77 13 0 15 -99 15 -875 l0
-875 210 0 210 0 0 1090 0 1090 -117 -2 c-65 -1 -138 -3 -163 -5z"
		/>
		<path
			d="M4380 1130 l0 -130 215 0 215 0 0 130 0 130 -215 0 -215 0 0 -130z"
		/>
		<path
			d="M5240 1130 l0 -130 1155 0 1155 0 0 130 0 130 -1155 0 -1155 0 0
-130z"
		/>
	</g>
</svg>
`,v7=`<svg fill="currentColor" viewBox="-2 -5 24 34" xmlns="http://www.w3.org/2000/svg"
	><title>lightbulb</title><path
		d="M12,2A7,7,0,0,0,8,14.74V17a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V14.74A7,7,0,0,0,12,2ZM9,21a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V20H9Z"
	/></svg
>
`,p7=`<svg
	viewBox="1 -3 24 28"
	id="Layer_1"
	data-name="Layer 1"
	xmlns="http://www.w3.org/2000/svg"
	><defs
		><style>
			.cls-1 {
				fill: none;
				stroke: currentColor;
				stroke-miterlimit: 10;
				stroke-width: 1.91px;
			}
		</style></defs
	><polygon
		class="cls-1"
		points="5.32 6.27 5.32 13.91 7.23 13.91 7.23 15.82 10.09 15.82 10.09 17.73 13.91 17.73 13.91 15.82 16.77 15.82 16.77 13.91 18.68 13.91 18.68 6.27 5.32 6.27"
	/><line class="cls-1" x1="8.18" y1="9.14" x2="8.18" y2="6.27" /><line
		class="cls-1"
		x1="12"
		y1="9.14"
		x2="12"
		y2="6.27"
	/><line class="cls-1" x1="15.82" y1="9.14" x2="15.82" y2="6.27" /></svg
>
`,S7=`<svg
	viewBox="0 -5 24 34"
	xmlns="http://www.w3.org/2000/svg"
	fill="currentColor"
	><path
		d="m12 2a10 10 0 0 1 10 10 10 10 0 0 1 -10 10 10 10 0 0 1 -10-10 10 10 0 0 1 10-10m8.18 10c0-3.82-2.63-7.04-6.18-7.93v1.93h-4v-1.93c-3.55.89-6.18 4.11-6.18 7.93a8.18 8.18 0 0 0 8.18 8.18 8.18 8.18 0 0 0 8.18-8.18m-13.18-1.36a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36c-.75 0-1.36-.61-1.36-1.36s.61-1.36 1.36-1.36m10 0a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36m-8.64 3.63a1.37 1.37 0 0 1 1.37 1.37c0 .75-.61 1.36-1.37 1.36a1.36 1.36 0 0 1 -1.36-1.36c0-.76.61-1.37 1.36-1.37m7.28 0c.75 0 1.36.61 1.36 1.37a1.36 1.36 0 0 1 -1.36 1.36c-.76 0-1.37-.61-1.37-1.36a1.37 1.37 0 0 1 1.37-1.37m-3.64 1.37a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36z"
	/></svg
>
`,k7=`<svg
  viewBox="-25 -128 512 750"
  xmlns="http://www.w3.org/2000/svg"
  fill="currentColor"
>
  <polygon
    points="385.128 118.178 359.868 137.822 451.732 255.944 359.813 374.18 385.076 393.82 492.268 255.94 385.128 118.178"
  />
  <polygon
    points="119.814 118.177 12.621 255.993 119.759 393.819 145.022 374.181 53.156 255.999 145.074 137.823 119.814 118.177"
  />
  <rect
    width="32"
    height="32"
    x="160"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="240"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="320"
    y="240"
  />
</svg>
`,E7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-power-plug-outline"
	viewBox="1 -4 24 30"
	fill="currentColor"
	><path
		d="M16 7V3H14V7H10V3H8V7C7 7 6 8 6 9V14.5L9.5 18V21H14.5V18L18 14.5V9C18 8 17 7 16 7M16 13.67L13.09 16.59L12.67 17H11.33L10.92 16.59L8 13.67V9.09C8 9.06 8.06 9 8.09 9H15.92C15.95 9 16 9.06 16 9.09V13.67Z"
	/></svg
>
`,C7=`<svg viewBox="-6 -16 54 80" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\r
  <title>output</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none" />\r
    </g>\r
    <g id="Layer_6" data-name="Layer 6">\r
      <g>\r
        <path\r
          d="M45.4,22.6l-7.9-8a2.1,2.1,0,0,0-2.7-.2,1.9,1.9,0,0,0-.2,3L39.2,22H16a2,2,0,0,0,0,4H39.2l-4.6,4.6a1.9,1.9,0,0,0,.2,3,2.1,2.1,0,0,0,2.7-.2l7.9-8A1.9,1.9,0,0,0,45.4,22.6Z"\r
        />\r
        <path\r
          d="M28,42H24A18,18,0,0,1,24,6h4a2,2,0,0,0,1.4-.6A2,2,0,0,0,30,4a2.4,2.4,0,0,0-.2-.9A2,2,0,0,0,28,2H23.8a22,22,0,0,0,.1,44H28a2,2,0,0,0,1.4-.6l.4-.5A2.4,2.4,0,0,0,30,44,2,2,0,0,0,28,42Z"\r
        />\r
      </g>\r
    </g>\r
  </g>\r
</svg>\r
`,qd=["dante","dmx","sdi","ethernet","audio","midi","osc","power"],en={dante:["red",1,b7],dmx:["dodgerblue",2,v7],sdi:["limegreen",3,C7],ethernet:["gold",4,p7],audio:["orange",5,w7],midi:["hotpink",6,S7],osc:["magenta",7,k7],power:["var(--font-colour)",8,E7]},Hl=Object.entries(en);function A7(t,e){let n=qd.indexOf(t),r=qd.indexOf(e);return Math.sign(n-r)}const M7='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 103.38" fill="currentColor" style="enable-background:new 0 0 122.88 103.38" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"/></g></svg>';function Zd(t,e,n){const r=t.slice();return r[16]=e[n][0],r[17]=e[n][1],r}function Jd(t){let e,n,r=t[17][2]+"",l,u,s,f,a;function d(){return t[9](t[16])}function h(){return t[10](t[16])}function g(...m){return t[11](t[16],...m)}return{c(){e=ze("div"),n=ze("div"),l=He(),u=Gt(t[16]),s=He(),A(n,"class","icon"),A(e,"class","protocol svelte-16ekx3j"),We(e,"--protocol",t[17][0]),A(e,"draggable",!0)},m(m,y){ee(m,e,y),Ce(e,n),n.innerHTML=r,Ce(e,l),Ce(e,u),Ce(e,s),f||(a=[De(e,"mouseenter",d),De(e,"mouseleave",h),De(e,"dragstart",g),De(e,"dragend",t[8])],f=!0)},p(m,y){t=m},d(m){m&&$(e),f=!1,vt(a)}}}function P7(t){let e,n,r,l,u,s,f,a,d,h=Tt(Hl),g=[];for(let m=0;m<h.length;m+=1)g[m]=Jd(Zd(t,h,m));return{c(){e=ze("p"),e.textContent="Protocols",n=He(),r=ze("div");for(let m=0;m<g.length;m+=1)g[m].c();l=He(),u=ze("div"),s=new Gw(!1),f=Gt(" erase"),A(e,"class","svelte-16ekx3j"),A(r,"class","protocols svelte-16ekx3j"),s.a=f,A(u,"class","eraser svelte-16ekx3j"),A(u,"draggable",!0)},m(m,y){ee(m,e,y),ee(m,n,y),ee(m,r,y);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(r,null);ee(m,l,y),ee(m,u,y),s.m(M7,u),Ce(u,f),t[12](u),a||(d=[De(u,"mouseenter",t[2]),De(u,"mouseleave",t[3]),De(u,"dragstart",t[13]),De(u,"dragend",t[8])],a=!0)},p(m,[y]){if(y&368){h=Tt(Hl);let v;for(v=0;v<h.length;v+=1){const p=Zd(m,h,v);g[v]?g[v].p(p,y):(g[v]=Jd(p),g[v].c(),g[v].m(r,null))}for(;v<g.length;v+=1)g[v].d(1);g.length=h.length}},i:Me,o:Me,d(m){m&&($(e),$(n),$(r),$(l),$(u)),Yw(g,m),t[12](null),a=!1,vt(d)}}}function T7(t,e,n){let r;const l=y1();de(t,l,k=>n(15,r=k));function u(){for(let k of r)k.class+="fade-out";l.set(r);for(let k of document.querySelectorAll(".svelte-flow__node .label"))k.classList.add("fade-out");for(let k of document.querySelectorAll(".svelte-flow__handle"))k.classList.add("highlight")}function s(){var k;for(let C of r)C.class=(k=C.class)==null?void 0:k.replace("fade-out","");l.set(r);for(let C of document.querySelectorAll(".svelte-flow__node .label"))C.classList.remove("fade-out");for(let C of document.querySelectorAll(".svelte-flow__handle"))C.classList.remove("highlight")}function f(k){for(let C of r)C.sourceHandle===k?C.class+="highlight":C.class+="fade-out";l.set(r);for(let C of document.querySelectorAll(".svelte-flow__handle"))C.getAttribute("data-handleid")===k?C.classList.add("highlight"):C.classList.add("fade-out")}function a(k){var C,P;k=k;for(let O of r)O.sourceHandle===k?O.class=(C=O.class)==null?void 0:C.replace("highlight",""):O.class=(P=O.class)==null?void 0:P.replace("fade-out","");l.set(r);for(let O of document.querySelectorAll(".svelte-flow__handle"))O.getAttribute("data-handleid")===k?O.classList.remove("highlight"):O.classList.remove("fade-out")}let d;const h=(k,C)=>{if(!k.dataTransfer)return null;k.dataTransfer.setData(`patchcanvasprotocol/${C}`,""),k.dataTransfer.effectAllowed="move",d=k.target.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",d.style.setProperty("--connection",en[C][0]),document.body.appendChild(d),k.dataTransfer.setDragImage(d,-16,0)};let g;const m=k=>{if(!k.dataTransfer)return null;k.dataTransfer.setData("application/patchcanvaseraser",""),k.dataTransfer.effectAllowed="move",d=g.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",document.body.appendChild(d),k.dataTransfer.setDragImage(d,-16,0)},y=()=>{d.remove()},v=k=>f(k),p=k=>a(k),M=(k,C)=>h(C,k);function w(k){Vn[k?"unshift":"push"](()=>{g=k,n(0,g)})}return[g,l,u,s,f,a,h,m,y,v,p,M,w,k=>m(k)]}class I7 extends Ie{constructor(e){super(),Te(this,e,T7,P7,Oe,{})}}var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function O7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0});function b1(t,e){var n=document.createElement("a");n.href=e,n.download=t,n.click()}Ul.downloadUrl=b1;function v1(t,e){var n=URL.createObjectURL(e);b1(t,n),URL.revokeObjectURL(n)}Ul.downloadBlob=v1;function z7(t,e){v1(t,new Blob([e],{type:"octet/stream"}))}var H7=Ul.downloadText=z7;function N7(t){let e,n,r=t[1].title+"",l,u,s,f,a,d,h,g,m,y,v,p,M,w;return{c(){e=ze("div"),n=ze("h1"),l=Gt(r),u=He(),s=ze("button"),s.textContent="Rename",f=He(),a=ze("div"),d=ze("button"),d.textContent="New",h=He(),g=ze("button"),m=Gt(`Import
		`),y=ze("input"),v=He(),p=ze("button"),p.textContent="Export",A(e,"class","title svelte-1igzb5e"),A(y,"type","file"),A(y,"accept",".patch"),A(a,"class","buttons svelte-1igzb5e")},m(z,k){ee(z,e,k),Ce(e,n),Ce(n,l),Ce(e,u),Ce(e,s),ee(z,f,k),ee(z,a,k),Ce(a,d),Ce(a,h),Ce(a,g),Ce(g,m),Ce(g,y),Ce(a,v),Ce(a,p),M||(w=[De(s,"click",t[3]),De(d,"click",p1),De(y,"change",t[6]),De(y,"change",t[2]),De(p,"click",t[4])],M=!0)},p(z,[k]){k&2&&r!==(r=z[1].title+"")&&Xi(l,r)},i:Me,o:Me,d(z){z&&($(e),$(f),$(a)),M=!1,vt(w)}}}function L7(t,e,n){let r;de(t,On,h=>n(1,r=h));let l;function u(){if(!l[0])return;let h=new FileReader;h.readAsText(l[0]),h.onload=g=>{var y;let m=JSON.parse((y=g.target)==null?void 0:y.result);s(m)}}function s(h){zn(On,r=h,r),zn(On,r.uniqueFlow=[{}],r)}function f(){let h=prompt(void 0,r.title);h!==null&&zn(On,r.title=h,r)}function a(){let h=JSON.stringify(ue(On));H7(r.title+".patch",h)}function d(){l=this.files,n(0,l)}return[l,r,u,f,a,s,d]}class R7 extends Ie{constructor(e){super(),Te(this,e,L7,N7,Oe,{load:5})}get load(){return this.$$.ctx[5]}}function D7(t){let e,n,r,l,u,s,f,a,d,h,g={};return r=new R7({props:g}),t[0](r),s=new y7({}),d=new I7({}),{c(){e=ze("aside"),n=ze("div"),be(r.$$.fragment),l=He(),u=ze("div"),be(s.$$.fragment),f=He(),a=ze("div"),be(d.$$.fragment),A(a,"class","rotate svelte-8g0zbh"),A(e,"class","svelte-8g0zbh")},m(m,y){ee(m,e,y),Ce(e,n),ye(r,n,null),Ce(e,l),Ce(e,u),ye(s,u,null),Ce(e,f),Ce(e,a),ye(d,a,null),h=!0},p(m,[y]){const v={};r.$set(v)},i(m){h||(J(r.$$.fragment,m),J(s.$$.fragment,m),J(d.$$.fragment,m),h=!0)},o(m){ne(r.$$.fragment,m),ne(s.$$.fragment,m),ne(d.$$.fragment,m),h=!1},d(m){m&&$(e),t[0](null),we(r),we(s),we(d)}}}let Us;const p1=function(){Us&&Us.load(w1)};function W7(t,e,n){function r(l){Vn[l?"unshift":"push"](()=>{Us=l})}return[r]}class B7 extends Ie{constructor(e){super(),Te(this,e,W7,D7,Oe,{})}}function X7(t){let e,n;return e=new ho({props:{path:t[6],labelX:t[5],labelY:t[4],markerStart:t[2],markerEnd:t[0],style:t[1],class:t[3]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&64&&(u.path=r[6]),l&32&&(u.labelX=r[5]),l&16&&(u.labelY=r[4]),l&4&&(u.markerStart=r[2]),l&1&&(u.markerEnd=r[0]),l&2&&(u.style=r[1]),l&8&&(u.class=r[3]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function Y7(t,e,n){let r,l,u,{id:s}=e,{type:f}=e,{source:a}=e,{sourceX:d}=e,{sourceY:h}=e,{sourcePosition:g}=e,{sourceHandleId:m=""}=e,{target:y}=e,{targetX:v}=e,{targetY:p}=e,{targetPosition:M}=e,{targetHandleId:w=""}=e,{markerStart:z=void 0}=e,{markerEnd:k=void 0}=e,{animated:C=!1}=e,{selected:P=!1}=e,{label:O=""}=e,{labelStyle:H=""}=e,{data:L=void 0}=e,{interactionWidth:W=void 0}=e,{style:x=""}=e,{edgeClass:I=""}=e;return y1(),t.$$set=X=>{"id"in X&&n(7,s=X.id),"type"in X&&n(8,f=X.type),"source"in X&&n(9,a=X.source),"sourceX"in X&&n(10,d=X.sourceX),"sourceY"in X&&n(11,h=X.sourceY),"sourcePosition"in X&&n(12,g=X.sourcePosition),"sourceHandleId"in X&&n(13,m=X.sourceHandleId),"target"in X&&n(14,y=X.target),"targetX"in X&&n(15,v=X.targetX),"targetY"in X&&n(16,p=X.targetY),"targetPosition"in X&&n(17,M=X.targetPosition),"targetHandleId"in X&&n(18,w=X.targetHandleId),"markerStart"in X&&n(2,z=X.markerStart),"markerEnd"in X&&n(0,k=X.markerEnd),"animated"in X&&n(19,C=X.animated),"selected"in X&&n(20,P=X.selected),"label"in X&&n(21,O=X.label),"labelStyle"in X&&n(22,H=X.labelStyle),"data"in X&&n(23,L=X.data),"interactionWidth"in X&&n(24,W=X.interactionWidth),"style"in X&&n(1,x=X.style),"edgeClass"in X&&n(3,I=X.edgeClass)},t.$$.update=()=>{if(t.$$.dirty&236544&&n(6,[r,l,u]=wr({sourceX:d,sourceY:h,sourcePosition:g,targetX:v,targetY:p,targetPosition:M}),r,(n(5,l),n(10,d),n(11,h),n(12,g),n(15,v),n(16,p),n(17,M)),(n(4,u),n(10,d),n(11,h),n(12,g),n(15,v),n(16,p),n(17,M))),t.$$.dirty&8192){let X=en[m??""][0];n(1,x=`stroke: ${X};`),n(0,k=`url(#${m})`)}},[k,x,z,I,u,l,r,s,f,a,d,h,g,m,y,v,p,M,w,C,P,O,H,L,W]}class F7 extends Ie{constructor(e){super(),Te(this,e,Y7,X7,Oe,{id:7,type:8,source:9,sourceX:10,sourceY:11,sourcePosition:12,sourceHandleId:13,target:14,targetX:15,targetY:16,targetPosition:17,targetHandleId:18,markerStart:2,markerEnd:0,animated:19,selected:20,label:21,labelStyle:22,data:23,interactionWidth:24,style:1,edgeClass:3})}}const V7=`<svg fill="currentColor" viewBox="4 2 8 12" xmlns="http://www.w3.org/2000/svg"\r
	><path\r
		fill-rule="evenodd"\r
		d="M7.375 3.67c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm0 8.66c0-.646-.56-1.17-1.25-1.17s-1.25.524-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17zm-1.25-5.5c.69 0 1.25.525 1.25 1.17 0 .645-.56 1.17-1.25 1.17S4.875 8.645 4.875 8c0-.645.56-1.17 1.25-1.17zm5-3.16c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm-1.25 7.49c.69 0 1.25.524 1.25 1.17 0 .645-.56 1.17-1.25 1.17s-1.25-.525-1.25-1.17c0-.646.56-1.17 1.25-1.17zM11.125 8c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17z"\r
	/></svg\r
>\r
`;function K7(t){let e,n;return e=new ro({props:{id:t[0],type:t[1]==="input"?"target":"source",position:t[1]==="input"?Ve.Top:Ve.Bottom,style:t[2]+`background: ${en[t[0]][0]};
		left: calc( ${t[1]==="input"?"":"12px + "} (${en[t[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`,isConnectable:!0}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&1&&(u.id=r[0]),l&2&&(u.type=r[1]==="input"?"target":"source"),l&2&&(u.position=r[1]==="input"?Ve.Top:Ve.Bottom),l&7&&(u.style=r[2]+`background: ${en[r[0]][0]};
		left: calc( ${r[1]==="input"?"":"12px + "} (${en[r[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function U7(t,e,n){let{id:r}=e,{io:l}=e,{style:u=""}=e,{drop:s}=e;return addEventListener("drop",s),t.$$set=f=>{"id"in f&&n(0,r=f.id),"io"in f&&n(1,l=f.io),"style"in f&&n(2,u=f.style),"drop"in f&&n(3,s=f.drop)},[r,l,u,s]}class S1 extends Ie{constructor(e){super(),Te(this,e,U7,K7,Oe,{id:0,io:1,style:2,drop:3})}}function Qd(t,e,n){const r=t.slice();return r[39]=e[n],r}function jd(t,e,n){const r=t.slice();return r[39]=e[n],r}function $d(t){let e,n,r,l,u,s,f;return{c(){e=ze("div"),n=He(),r=ze("div"),l=He(),u=ze("div"),A(e,"class","drop-target inputs svelte-zmau3w"),A(r,"class","drop-target outputs svelte-zmau3w"),A(u,"class","hover svelte-zmau3w")},m(a,d){ee(a,e,d),t[24](e),ee(a,n,d),ee(a,r,d),t[28](r),ee(a,l,d),ee(a,u,d),s||(f=[De(e,"dragenter",t[25]),De(e,"dragleave",t[26]),De(e,"drop",t[27]),De(r,"dragenter",t[29]),De(r,"dragleave",t[30]),De(r,"drop",t[31])],s=!0)},p:Me,d(a){a&&($(e),$(n),$(r),$(l),$(u)),t[24](null),t[28](null),s=!1,vt(f)}}}function eh(t){let e,n;return e=new l7({props:{minWidth:200,minHeight:105,style:"background: transparent; border: none;",$$slots:{default:[x7]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function x7(t){let e,n,r,l,u,s;return{c(){e=Xe("svg"),n=Xe("path"),r=Xe("polyline"),l=Xe("line"),u=Xe("polyline"),s=Xe("line"),A(n,"stroke","none"),A(n,"d","M0 0h24v24H0z"),A(n,"fill","none"),A(r,"points","16 20 20 20 20 16"),A(l,"x1","14"),A(l,"y1","14"),A(l,"x2","20"),A(l,"y2","20"),A(u,"points","8 4 4 4 4 8"),A(s,"x1","4"),A(s,"y1","4"),A(s,"x2","10"),A(s,"y2","10"),A(e,"xmlns","http://www.w3.org/2000/svg"),A(e,"width","15"),A(e,"height","15"),A(e,"viewBox","0 0 24 24"),A(e,"stroke-width","2"),A(e,"stroke","var(--font-colour)"),A(e,"fill","none"),A(e,"stroke-linecap","round"),A(e,"stroke-linejoin","round"),We(e,"position","absolute"),We(e,"right","0.5em"),We(e,"bottom","0.5em")},m(f,a){ee(f,e,a),Ce(e,n),Ce(e,r),Ce(e,l),Ce(e,u),Ce(e,s)},p:Me,d(f){f&&$(e)}}}function th(t,e){let n,r,l;return r=new S1({props:{id:e[39],io:"input",drop:e[7]}}),{key:t,first:null,c(){n=_t(),be(r.$$.fragment),this.first=n},m(u,s){ee(u,n,s),ye(r,u,s),l=!0},p(u,s){e=u;const f={};s[0]&1&&(f.id=e[39]),r.$set(f)},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){ne(r.$$.fragment,u),l=!1},d(u){u&&$(n),we(r,u)}}}function nh(t,e){let n,r,l;return r=new S1({props:{id:e[39],io:"output",drop:e[7]}}),{key:t,first:null,c(){n=_t(),be(r.$$.fragment),this.first=n},m(u,s){ee(u,n,s),ye(r,u,s),l=!0},p(u,s){e=u;const f={};s[0]&1&&(f.id=e[39]),r.$set(f)},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){ne(r.$$.fragment,u),l=!1},d(u){u&&$(n),we(r,u)}}}function G7(t){let e,n,r,l,u=t[0].label+"",s,f,a,d,h,g,m,y=[],v=new Map,p,M=[],w=new Map,z,k,C,P,O=!t[0].group&&$d(t),H=t[0].group&&eh(t),L=Tt(t[0].inputs);const W=X=>X[39];for(let X=0;X<L.length;X+=1){let B=jd(t,L,X),T=W(B);v.set(T,y[X]=th(T,B))}let x=Tt(t[0].outputs);const I=X=>X[39];for(let X=0;X<x.length;X+=1){let B=Qd(t,x,X),T=I(B);w.set(T,M[X]=nh(T,B))}return{c(){O&&O.c(),e=He(),n=ze("div"),r=ze("span"),l=He(),s=Gt(u),f=He(),a=ze("button"),a.textContent="",d=He(),h=ze("button"),h.textContent="",g=He(),H&&H.c(),m=He();for(let X=0;X<y.length;X+=1)y[X].c();p=He();for(let X=0;X<M.length;X+=1)M[X].c();z=_t(),A(r,"class","drag-handle drag-dots svelte-zmau3w"),A(a,"class","reverse svelte-zmau3w"),A(h,"class","svelte-zmau3w"),A(n,"class","label svelte-zmau3w")},m(X,B){O&&O.m(X,B),ee(X,e,B),ee(X,n,B),Ce(n,r),r.innerHTML=V7,Ce(n,l),Ce(n,s),Ce(n,f),Ce(n,a),Ce(n,d),Ce(n,h),ee(X,g,B),H&&H.m(X,B),ee(X,m,B);for(let T=0;T<y.length;T+=1)y[T]&&y[T].m(X,B);ee(X,p,B);for(let T=0;T<M.length;T+=1)M[T]&&M[T].m(X,B);ee(X,z,B),k=!0,C||(P=[De(a,"click",t[32]),De(h,"click",t[33])],C=!0)},p(X,B){X[0].group?O&&(O.d(1),O=null):O?O.p(X,B):(O=$d(X),O.c(),O.m(e.parentNode,e)),(!k||B[0]&1)&&u!==(u=X[0].label+"")&&Xi(s,u),X[0].group?H?B[0]&1&&J(H,1):(H=eh(X),H.c(),J(H,1),H.m(m.parentNode,m)):H&&(gt(),ne(H,1,1,()=>{H=null}),mt()),B[0]&129&&(L=Tt(X[0].inputs),gt(),y=Wi(y,B,W,1,X,L,v,p.parentNode,Di,th,p,jd),mt()),B[0]&129&&(x=Tt(X[0].outputs),gt(),M=Wi(M,B,I,1,X,x,w,z.parentNode,Di,nh,z,Qd),mt())},i(X){if(!k){J(H);for(let B=0;B<L.length;B+=1)J(y[B]);for(let B=0;B<x.length;B+=1)J(M[B]);k=!0}},o(X){ne(H);for(let B=0;B<y.length;B+=1)ne(y[B]);for(let B=0;B<M.length;B+=1)ne(M[B]);k=!1},d(X){X&&($(e),$(n),$(g),$(m),$(p),$(z)),O&&O.d(X),H&&H.d(X);for(let B=0;B<y.length;B+=1)y[B].d(X);for(let B=0;B<M.length;B+=1)M[B].d(X);C=!1,vt(P)}}}function gl(t,e){return!t.includes(e)}function q7(t,e,n){let r;const l=a7();de(t,l,R=>n(34,r=R));let{id:u}=e,{data:s}=e,{dragHandle:f=void 0}=e,{type:a}=e,{isConnectable:d}=e,{selected:h=void 0}=e,{zIndex:g}=e,{positionAbsoluteX:m}=e,{positionAbsoluteY:y}=e,{width:v=void 0}=e,{height:p=void 0}=e,{dragging:M=!1}=e,{sourcePosition:w=void 0}=e,{targetPosition:z=void 0}=e,k=s,C,P;const O=(R,he,_e)=>{if(R.preventDefault(),R.stopPropagation(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasprotocol/")){const oe=R.dataTransfer.types[0].replace("patchcanvasprotocol/","");let le=!1;switch(he){case"input":le=gl(k.inputs,oe);break;case"output":le=gl(k.outputs,oe);break}le?(T([...he==="input"?k.inputs:k.outputs,oe],_e),_e.style.backgroundColor="green",R.dataTransfer.dropEffect="move"):(_e.style.backgroundColor="red",_e.style.backgroundImage="",R.dataTransfer.dropEffect="none")}},H=(R,he)=>{R.preventDefault(),he.style.backgroundColor="",he===C?T(k.inputs,C):T(k.outputs,P)},L=(R,he,_e)=>{if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasprotocol/")){const oe=R.dataTransfer.types[0].replace("patchcanvasprotocol/","");let le=!1;switch(he){case"input":le=gl(k.inputs,oe);break;case"output":le=gl(k.outputs,oe);break}le&&I(oe,he),_e.style.backgroundColor="",T(he==="input"?k.inputs:k.outputs,_e)}},W=R=>{var he,_e,oe;if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0]==="application/patchcanvaseraser"){if(((he=R.target.attributes.getNamedItem("data-nodeid"))==null?void 0:he.value)!==u)return null;let le=(_e=R.target.attributes.getNamedItem("data-handleid"))==null?void 0:_e.value,Ye=((oe=R.target.attributes.getNamedItem("data-handlepos"))==null?void 0:oe.value)==="top"?"input":"output";K(le,Ye),T(Ye==="input"?k.inputs:k.outputs,Ye==="input"?C:P)}},x=s7();function I(R,he){switch(he){case"input":k.inputs.push(R);break;case"output":k.outputs.push(R);break}n(0,k),x(u)}function X(){let R=prompt(`Rename '${k.label}' to:`,k.label);R!==null&&n(0,k.label=R,k)}function B(){window.confirm(`Actually delete ${k.label}?`)&&zn(l,r=r.filter(he=>he.id!=u),r)}function T(R,he){if(he==null){setTimeout(T,0,R,he);return}let _e=[...R];_e.sort(A7);let oe=[];oe.push("transparent 2%");for(const le in en){let Ye="transparent";_e.includes(le)&&(Ye=en[le][0]);let nt=en[le][1];he===P&&(nt+=.75);let it=nt*16/150*100;Ye+=` ${it}%`,oe.push(Ye)}oe.push("transparent"),he.style.backgroundImage=`linear-gradient(to right, ${oe.join(", ")})`}setTimeout(()=>{T(k.inputs,C),T(k.outputs,P)},0);function K(R,he){switch(he){case"input":n(0,k.inputs=k.inputs.filter(_e=>_e!==R),k);break;case"output":n(0,k.outputs=k.outputs.filter(_e=>_e!==R),k);break}n(0,k),x(u)}function Y(R){Vn[R?"unshift":"push"](()=>{C=R,n(1,C)})}const q=R=>O(R,"input",C),G=R=>H(R,C),j=R=>L(R,"input",C);function fe(R){Vn[R?"unshift":"push"](()=>{P=R,n(2,P)})}const ae=R=>O(R,"output",P),Q=R=>H(R,P),ve=R=>L(R,"output",P),ke=()=>X(),Pe=()=>B();return t.$$set=R=>{"id"in R&&n(10,u=R.id),"data"in R&&n(11,s=R.data),"dragHandle"in R&&n(12,f=R.dragHandle),"type"in R&&n(13,a=R.type),"isConnectable"in R&&n(14,d=R.isConnectable),"selected"in R&&n(15,h=R.selected),"zIndex"in R&&n(16,g=R.zIndex),"positionAbsoluteX"in R&&n(17,m=R.positionAbsoluteX),"positionAbsoluteY"in R&&n(18,y=R.positionAbsoluteY),"width"in R&&n(19,v=R.width),"height"in R&&n(20,p=R.height),"dragging"in R&&n(21,M=R.dragging),"sourcePosition"in R&&n(22,w=R.sourcePosition),"targetPosition"in R&&n(23,z=R.targetPosition)},[k,C,P,l,O,H,L,W,X,B,u,s,f,a,d,h,g,m,y,v,p,M,w,z,Y,q,G,j,fe,ae,Q,ve,ke,Pe]}class Z7 extends Ie{constructor(e){super(),Te(this,e,q7,G7,Oe,{id:10,data:11,dragHandle:12,type:13,isConnectable:14,selected:15,zIndex:16,positionAbsoluteX:17,positionAbsoluteY:18,width:19,height:20,dragging:21,sourcePosition:22,targetPosition:23},null,[-1,-1])}}function ih(t){let e,n,r,l;function u(a,d){var h,g;if(((h=a[0].startHandle)==null?void 0:h.type)=="target")return Q7;if(((g=a[0].startHandle)==null?void 0:g.type)=="source")return J7}let s=u(t),f=s&&s(t);return{c(){f&&f.c(),e=He(),n=Xe("circle"),A(n,"cx",r=t[0].targetX),A(n,"cy",l=t[0].targetY),A(n,"fill","var(--font-colour)"),A(n,"r",3),A(n,"stroke",en[t[3]][0]??"var(--font-colour)"),A(n,"stroke-width",1.5)},m(a,d){f&&f.m(a,d),ee(a,e,d),ee(a,n,d)},p(a,d){s===(s=u(a))&&f?f.p(a,d):(f&&f.d(1),f=s&&s(a),f&&(f.c(),f.m(e.parentNode,e))),d&1&&r!==(r=a[0].targetX)&&A(n,"cx",r),d&1&&l!==(l=a[0].targetY)&&A(n,"cy",l)},d(a){a&&($(e),$(n)),f&&f.d(a)}}}function J7(t){let e,n;return{c(){var r;e=Xe("path"),A(e,"fill","none"),A(e,"stroke-width",1.5),A(e,"class","animated"),A(e,"stroke",en[t[3]][0]??"var(--font-colour)"),A(e,"d",t[1]),A(e,"marker-end",n="url(#"+((r=t[0].startHandle)==null?void 0:r.handleId)+"line)")},m(r,l){ee(r,e,l)},p(r,l){var u;l&2&&A(e,"d",r[1]),l&1&&n!==(n="url(#"+((u=r[0].startHandle)==null?void 0:u.handleId)+"line)")&&A(e,"marker-end",n)},d(r){r&&$(e)}}}function Q7(t){let e,n;return{c(){var r;e=Xe("path"),A(e,"fill","none"),A(e,"stroke-width",1.5),A(e,"class","animated"),A(e,"stroke",en[t[3]][0]??"var(--font-colour)"),A(e,"d",t[1]),A(e,"marker-start",n="url(#"+((r=t[0].startHandle)==null?void 0:r.handleId)+"line)")},m(r,l){ee(r,e,l)},p(r,l){var u;l&2&&A(e,"d",r[1]),l&1&&n!==(n="url(#"+((u=r[0].startHandle)==null?void 0:u.handleId)+"line)")&&A(e,"marker-start",n)},d(r){r&&$(e)}}}function j7(t){let e,n=t[0].path&&ih(t);return{c(){n&&n.c(),e=_t()},m(r,l){n&&n.m(r,l),ee(r,e,l)},p(r,[l]){r[0].path?n?n.p(r,l):(n=ih(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Me,o:Me,d(r){r&&$(e),n&&n.d(r)}}}function $7(t,e,n){var f;let r;const l=f7();de(t,l,a=>n(0,r=a));let u="",s=((f=r.startHandle)==null?void 0:f.handleId)??"";return t.$$.update=()=>{if(t.$$.dirty&1){let{sourceX:a,sourceY:d,sourcePosition:h,targetX:g,targetY:m,targetPosition:y}=r;n(1,[u]=wr({sourceX:a??0,sourceY:d??0,sourcePosition:h??Ve.Bottom,targetX:g??0,targetY:m??0,targetPosition:y??Ve.Top}),u)}},[r,u,l,s]}class eS extends Ie{constructor(e){super(),Te(this,e,$7,j7,Oe,{})}}function tS(t){let e,n,r,l,u,s,f;return{c(){e=Xe("svg"),n=Xe("defs"),r=Xe("marker"),l=Xe("polyline"),A(l,"stroke",t[0]),A(l,"stroke-linecap","round"),A(l,"stroke-linejoin","round"),A(l,"stroke-width",t[6]),A(l,"fill",t[0]),A(l,"points","-5,-4 0,0 -5,4 -5,-4"),A(r,"class","svelte-flow__arrowhead"),A(r,"id",t[1]),A(r,"markerWidth",u=`${t[2]}`),A(r,"markerHeight",s=`${t[3]}`),A(r,"viewBox","-10 -10 20 20"),A(r,"markerUnits",t[4]),A(r,"orient",t[5]),A(r,"refX",f=t[1].includes("line")?"4":"0"),A(r,"refY","0"),A(e,"class","svelte-1wqugfi")},m(a,d){ee(a,e,d),Ce(e,n),Ce(n,r),Ce(r,l)},p(a,[d]){d&1&&A(l,"stroke",a[0]),d&64&&A(l,"stroke-width",a[6]),d&1&&A(l,"fill",a[0]),d&2&&A(r,"id",a[1]),d&4&&u!==(u=`${a[2]}`)&&A(r,"markerWidth",u),d&8&&s!==(s=`${a[3]}`)&&A(r,"markerHeight",s),d&16&&A(r,"markerUnits",a[4]),d&32&&A(r,"orient",a[5]),d&2&&f!==(f=a[1].includes("line")?"4":"0")&&A(r,"refX",f)},i:Me,o:Me,d(a){a&&$(e)}}}function nS(t,e,n){let{id:r}=e,{type:l}=e,{width:u=12.5}=e,{height:s=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(1,r=g.id),"type"in g&&n(7,l=g.type),"width"in g&&n(2,u=g.width),"height"in g&&n(3,s=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(0,d=g.color),"strokeWidth"in g&&n(6,h=g.strokeWidth)},t.$$.update=()=>{t.$$.dirty&2&&n(0,d=en[r.replace("line","")??""][0])},[d,r,u,s,f,a,h,l]}class k1 extends Ie{constructor(e){super(),Te(this,e,nS,tS,Oe,{id:1,type:7,width:2,height:3,markerUnits:4,orient:5,color:0,strokeWidth:6})}}var Nl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Nl.exports;(function(t,e){(function(){var n,r="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",f="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,m=2,y=4,v=1,p=2,M=1,w=2,z=4,k=8,C=16,P=32,O=64,H=128,L=256,W=512,x=30,I="...",X=800,B=16,T=1,K=2,Y=3,q=1/0,G=9007199254740991,j=17976931348623157e292,fe=NaN,ae=4294967295,Q=ae-1,ve=ae>>>1,ke=[["ary",H],["bind",M],["bindKey",w],["curry",k],["curryRight",C],["flip",W],["partial",P],["partialRight",O],["rearg",L]],Pe="[object Arguments]",R="[object Array]",he="[object AsyncFunction]",_e="[object Boolean]",oe="[object Date]",le="[object DOMException]",Ye="[object Error]",nt="[object Function]",it="[object GeneratorFunction]",ot="[object Map]",$e="[object Number]",Sn="[object Null]",kt="[object Object]",tn="[object Promise]",cn="[object Proxy]",pe="[object RegExp]",pt="[object Set]",qt="[object String]",dn="[object Symbol]",ce="[object Undefined]",At="[object WeakMap]",It="[object WeakSet]",ge="[object ArrayBuffer]",Lt="[object DataView]",Mt="[object Float32Array]",Ot="[object Float64Array]",Nn="[object Int8Array]",Ln="[object Int16Array]",hn="[object Int32Array]",Rn="[object Uint8Array]",Un="[object Uint8ClampedArray]",xn="[object Uint16Array]",si="[object Uint32Array]",fi=/\b__p \+= '';/g,ai=/\b(__p \+=) '' \+/g,zt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sr=/&(?:amp|lt|gt|quot|#39);/g,Yi=/[&<>"']/g,xl=RegExp(Sr.source),Gl=RegExp(Yi.source),ql=/<%-([\s\S]+?)%>/g,Zl=/<%([\s\S]+?)%>/g,go=/<%=([\s\S]+?)%>/g,Jl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ql=/^\w*$/,jl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kr=/[\\^$.*+?()[\]{}|]/g,$l=RegExp(kr.source),Er=/^\s+/,eu=/\s/,tu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nu=/\{\n\/\* \[wrapped with (.+)\] \*/,iu=/,? & /,ru=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ou=/[()=,{}\[\]\/\s]/,lu=/\\(\\)?/g,uu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mo=/\w*$/,su=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,E1=/^\[object .+?Constructor\]$/,C1=/^0o[0-7]+$/i,A1=/^(?:0|[1-9]\d*)$/,M1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_o=/($^)/,P1=/['\n\r\u2028\u2029\\]/g,yo="\\ud800-\\udfff",T1="\\u0300-\\u036f",I1="\\ufe20-\\ufe2f",O1="\\u20d0-\\u20ff",lf=T1+I1+O1,uf="\\u2700-\\u27bf",sf="a-z\\xdf-\\xf6\\xf8-\\xff",z1="\\xac\\xb1\\xd7\\xf7",H1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",N1="\\u2000-\\u206f",L1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ff="A-Z\\xc0-\\xd6\\xd8-\\xde",af="\\ufe0e\\ufe0f",cf=z1+H1+N1+L1,fu="[']",R1="["+yo+"]",df="["+cf+"]",wo="["+lf+"]",hf="\\d+",D1="["+uf+"]",gf="["+sf+"]",mf="[^"+yo+cf+hf+uf+sf+ff+"]",au="\\ud83c[\\udffb-\\udfff]",W1="(?:"+wo+"|"+au+")",_f="[^"+yo+"]",cu="(?:\\ud83c[\\udde6-\\uddff]){2}",du="[\\ud800-\\udbff][\\udc00-\\udfff]",Fi="["+ff+"]",yf="\\u200d",wf="(?:"+gf+"|"+mf+")",B1="(?:"+Fi+"|"+mf+")",bf="(?:"+fu+"(?:d|ll|m|re|s|t|ve))?",vf="(?:"+fu+"(?:D|LL|M|RE|S|T|VE))?",pf=W1+"?",Sf="["+af+"]?",X1="(?:"+yf+"(?:"+[_f,cu,du].join("|")+")"+Sf+pf+")*",Y1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",F1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kf=Sf+pf+X1,V1="(?:"+[D1,cu,du].join("|")+")"+kf,K1="(?:"+[_f+wo+"?",wo,cu,du,R1].join("|")+")",U1=RegExp(fu,"g"),x1=RegExp(wo,"g"),hu=RegExp(au+"(?="+au+")|"+K1+kf,"g"),G1=RegExp([Fi+"?"+gf+"+"+bf+"(?="+[df,Fi,"$"].join("|")+")",B1+"+"+vf+"(?="+[df,Fi+wf,"$"].join("|")+")",Fi+"?"+wf+"+"+bf,Fi+"+"+vf,F1,Y1,hf,V1].join("|"),"g"),q1=RegExp("["+yf+yo+lf+af+"]"),Z1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,J1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Q1=-1,st={};st[Mt]=st[Ot]=st[Nn]=st[Ln]=st[hn]=st[Rn]=st[Un]=st[xn]=st[si]=!0,st[Pe]=st[R]=st[ge]=st[_e]=st[Lt]=st[oe]=st[Ye]=st[nt]=st[ot]=st[$e]=st[kt]=st[pe]=st[pt]=st[qt]=st[At]=!1;var ut={};ut[Pe]=ut[R]=ut[ge]=ut[Lt]=ut[_e]=ut[oe]=ut[Mt]=ut[Ot]=ut[Nn]=ut[Ln]=ut[hn]=ut[ot]=ut[$e]=ut[kt]=ut[pe]=ut[pt]=ut[qt]=ut[dn]=ut[Rn]=ut[Un]=ut[xn]=ut[si]=!0,ut[Ye]=ut[nt]=ut[At]=!1;var j1={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},$1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ng=parseFloat,ig=parseInt,Ef=typeof Fr=="object"&&Fr&&Fr.Object===Object&&Fr,rg=typeof self=="object"&&self&&self.Object===Object&&self,Ht=Ef||rg||Function("return this")(),gu=e&&!e.nodeType&&e,Ci=gu&&!0&&t&&!t.nodeType&&t,Cf=Ci&&Ci.exports===gu,mu=Cf&&Ef.process,gn=function(){try{var F=Ci&&Ci.require&&Ci.require("util").types;return F||mu&&mu.binding&&mu.binding("util")}catch{}}(),Af=gn&&gn.isArrayBuffer,Mf=gn&&gn.isDate,Pf=gn&&gn.isMap,Tf=gn&&gn.isRegExp,If=gn&&gn.isSet,Of=gn&&gn.isTypedArray;function nn(F,te,Z){switch(Z.length){case 0:return F.call(te);case 1:return F.call(te,Z[0]);case 2:return F.call(te,Z[0],Z[1]);case 3:return F.call(te,Z[0],Z[1],Z[2])}return F.apply(te,Z)}function og(F,te,Z,Se){for(var Fe=-1,Qe=F==null?0:F.length;++Fe<Qe;){var Et=F[Fe];te(Se,Et,Z(Et),F)}return Se}function mn(F,te){for(var Z=-1,Se=F==null?0:F.length;++Z<Se&&te(F[Z],Z,F)!==!1;);return F}function lg(F,te){for(var Z=F==null?0:F.length;Z--&&te(F[Z],Z,F)!==!1;);return F}function zf(F,te){for(var Z=-1,Se=F==null?0:F.length;++Z<Se;)if(!te(F[Z],Z,F))return!1;return!0}function ci(F,te){for(var Z=-1,Se=F==null?0:F.length,Fe=0,Qe=[];++Z<Se;){var Et=F[Z];te(Et,Z,F)&&(Qe[Fe++]=Et)}return Qe}function bo(F,te){var Z=F==null?0:F.length;return!!Z&&Vi(F,te,0)>-1}function _u(F,te,Z){for(var Se=-1,Fe=F==null?0:F.length;++Se<Fe;)if(Z(te,F[Se]))return!0;return!1}function at(F,te){for(var Z=-1,Se=F==null?0:F.length,Fe=Array(Se);++Z<Se;)Fe[Z]=te(F[Z],Z,F);return Fe}function di(F,te){for(var Z=-1,Se=te.length,Fe=F.length;++Z<Se;)F[Fe+Z]=te[Z];return F}function yu(F,te,Z,Se){var Fe=-1,Qe=F==null?0:F.length;for(Se&&Qe&&(Z=F[++Fe]);++Fe<Qe;)Z=te(Z,F[Fe],Fe,F);return Z}function ug(F,te,Z,Se){var Fe=F==null?0:F.length;for(Se&&Fe&&(Z=F[--Fe]);Fe--;)Z=te(Z,F[Fe],Fe,F);return Z}function wu(F,te){for(var Z=-1,Se=F==null?0:F.length;++Z<Se;)if(te(F[Z],Z,F))return!0;return!1}var sg=bu("length");function fg(F){return F.split("")}function ag(F){return F.match(ru)||[]}function Hf(F,te,Z){var Se;return Z(F,function(Fe,Qe,Et){if(te(Fe,Qe,Et))return Se=Qe,!1}),Se}function vo(F,te,Z,Se){for(var Fe=F.length,Qe=Z+(Se?1:-1);Se?Qe--:++Qe<Fe;)if(te(F[Qe],Qe,F))return Qe;return-1}function Vi(F,te,Z){return te===te?Sg(F,te,Z):vo(F,Nf,Z)}function cg(F,te,Z,Se){for(var Fe=Z-1,Qe=F.length;++Fe<Qe;)if(Se(F[Fe],te))return Fe;return-1}function Nf(F){return F!==F}function Lf(F,te){var Z=F==null?0:F.length;return Z?pu(F,te)/Z:fe}function bu(F){return function(te){return te==null?n:te[F]}}function vu(F){return function(te){return F==null?n:F[te]}}function Rf(F,te,Z,Se,Fe){return Fe(F,function(Qe,Et,lt){Z=Se?(Se=!1,Qe):te(Z,Qe,Et,lt)}),Z}function dg(F,te){var Z=F.length;for(F.sort(te);Z--;)F[Z]=F[Z].value;return F}function pu(F,te){for(var Z,Se=-1,Fe=F.length;++Se<Fe;){var Qe=te(F[Se]);Qe!==n&&(Z=Z===n?Qe:Z+Qe)}return Z}function Su(F,te){for(var Z=-1,Se=Array(F);++Z<F;)Se[Z]=te(Z);return Se}function hg(F,te){return at(te,function(Z){return[Z,F[Z]]})}function Df(F){return F&&F.slice(0,Yf(F)+1).replace(Er,"")}function rn(F){return function(te){return F(te)}}function ku(F,te){return at(te,function(Z){return F[Z]})}function Cr(F,te){return F.has(te)}function Wf(F,te){for(var Z=-1,Se=F.length;++Z<Se&&Vi(te,F[Z],0)>-1;);return Z}function Bf(F,te){for(var Z=F.length;Z--&&Vi(te,F[Z],0)>-1;);return Z}function gg(F,te){for(var Z=F.length,Se=0;Z--;)F[Z]===te&&++Se;return Se}var mg=vu(j1),_g=vu($1);function yg(F){return"\\"+tg[F]}function wg(F,te){return F==null?n:F[te]}function Ki(F){return q1.test(F)}function bg(F){return Z1.test(F)}function vg(F){for(var te,Z=[];!(te=F.next()).done;)Z.push(te.value);return Z}function Eu(F){var te=-1,Z=Array(F.size);return F.forEach(function(Se,Fe){Z[++te]=[Fe,Se]}),Z}function Xf(F,te){return function(Z){return F(te(Z))}}function hi(F,te){for(var Z=-1,Se=F.length,Fe=0,Qe=[];++Z<Se;){var Et=F[Z];(Et===te||Et===h)&&(F[Z]=h,Qe[Fe++]=Z)}return Qe}function po(F){var te=-1,Z=Array(F.size);return F.forEach(function(Se){Z[++te]=Se}),Z}function pg(F){var te=-1,Z=Array(F.size);return F.forEach(function(Se){Z[++te]=[Se,Se]}),Z}function Sg(F,te,Z){for(var Se=Z-1,Fe=F.length;++Se<Fe;)if(F[Se]===te)return Se;return-1}function kg(F,te,Z){for(var Se=Z+1;Se--;)if(F[Se]===te)return Se;return Se}function Ui(F){return Ki(F)?Cg(F):sg(F)}function kn(F){return Ki(F)?Ag(F):fg(F)}function Yf(F){for(var te=F.length;te--&&eu.test(F.charAt(te)););return te}var Eg=vu(eg);function Cg(F){for(var te=hu.lastIndex=0;hu.test(F);)++te;return te}function Ag(F){return F.match(hu)||[]}function Mg(F){return F.match(G1)||[]}var Pg=function F(te){te=te==null?Ht:xi.defaults(Ht.Object(),te,xi.pick(Ht,J1));var Z=te.Array,Se=te.Date,Fe=te.Error,Qe=te.Function,Et=te.Math,lt=te.Object,Cu=te.RegExp,Tg=te.String,_n=te.TypeError,So=Z.prototype,Ig=Qe.prototype,Gi=lt.prototype,ko=te["__core-js_shared__"],Eo=Ig.toString,rt=Gi.hasOwnProperty,Og=0,Ff=function(){var i=/[^.]+$/.exec(ko&&ko.keys&&ko.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Co=Gi.toString,zg=Eo.call(lt),Hg=Ht._,Ng=Cu("^"+Eo.call(rt).replace(kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ao=Cf?te.Buffer:n,gi=te.Symbol,Mo=te.Uint8Array,Vf=Ao?Ao.allocUnsafe:n,Po=Xf(lt.getPrototypeOf,lt),Kf=lt.create,Uf=Gi.propertyIsEnumerable,To=So.splice,xf=gi?gi.isConcatSpreadable:n,Ar=gi?gi.iterator:n,Ai=gi?gi.toStringTag:n,Io=function(){try{var i=Oi(lt,"defineProperty");return i({},"",{}),i}catch{}}(),Lg=te.clearTimeout!==Ht.clearTimeout&&te.clearTimeout,Rg=Se&&Se.now!==Ht.Date.now&&Se.now,Dg=te.setTimeout!==Ht.setTimeout&&te.setTimeout,Oo=Et.ceil,zo=Et.floor,Au=lt.getOwnPropertySymbols,Wg=Ao?Ao.isBuffer:n,Gf=te.isFinite,Bg=So.join,Xg=Xf(lt.keys,lt),Ct=Et.max,Rt=Et.min,Yg=Se.now,Fg=te.parseInt,qf=Et.random,Vg=So.reverse,Mu=Oi(te,"DataView"),Mr=Oi(te,"Map"),Pu=Oi(te,"Promise"),qi=Oi(te,"Set"),Pr=Oi(te,"WeakMap"),Tr=Oi(lt,"create"),Ho=Pr&&new Pr,Zi={},Kg=zi(Mu),Ug=zi(Mr),xg=zi(Pu),Gg=zi(qi),qg=zi(Pr),No=gi?gi.prototype:n,Ir=No?No.valueOf:n,Zf=No?No.toString:n;function S(i){if(yt(i)&&!Ke(i)&&!(i instanceof Ze)){if(i instanceof yn)return i;if(rt.call(i,"__wrapped__"))return Ja(i)}return new yn(i)}var Ji=function(){function i(){}return function(o){if(!dt(o))return{};if(Kf)return Kf(o);i.prototype=o;var c=new i;return i.prototype=n,c}}();function Lo(){}function yn(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}S.templateSettings={escape:ql,evaluate:Zl,interpolate:go,variable:"",imports:{_:S}},S.prototype=Lo.prototype,S.prototype.constructor=S,yn.prototype=Ji(Lo.prototype),yn.prototype.constructor=yn;function Ze(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function Zg(){var i=new Ze(this.__wrapped__);return i.__actions__=Zt(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Zt(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Zt(this.__views__),i}function Jg(){if(this.__filtered__){var i=new Ze(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Qg(){var i=this.__wrapped__.value(),o=this.__dir__,c=Ke(i),_=o<0,b=c?i.length:0,E=fm(0,b,this.__views__),N=E.start,D=E.end,V=D-N,ie=_?D:N-1,re=this.__iteratees__,se=re.length,me=0,Ee=Rt(V,this.__takeCount__);if(!c||!_&&b==V&&Ee==V)return ba(i,this.__actions__);var Le=[];e:for(;V--&&me<Ee;){ie+=o;for(var xe=-1,Re=i[ie];++xe<se;){var qe=re[xe],Je=qe.iteratee,un=qe.type,Ut=Je(Re);if(un==K)Re=Ut;else if(!Ut){if(un==T)continue e;break e}}Le[me++]=Re}return Le}Ze.prototype=Ji(Lo.prototype),Ze.prototype.constructor=Ze;function Mi(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var _=i[o];this.set(_[0],_[1])}}function jg(){this.__data__=Tr?Tr(null):{},this.size=0}function $g(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function e0(i){var o=this.__data__;if(Tr){var c=o[i];return c===a?n:c}return rt.call(o,i)?o[i]:n}function t0(i){var o=this.__data__;return Tr?o[i]!==n:rt.call(o,i)}function n0(i,o){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=Tr&&o===n?a:o,this}Mi.prototype.clear=jg,Mi.prototype.delete=$g,Mi.prototype.get=e0,Mi.prototype.has=t0,Mi.prototype.set=n0;function Gn(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var _=i[o];this.set(_[0],_[1])}}function i0(){this.__data__=[],this.size=0}function r0(i){var o=this.__data__,c=Ro(o,i);if(c<0)return!1;var _=o.length-1;return c==_?o.pop():To.call(o,c,1),--this.size,!0}function o0(i){var o=this.__data__,c=Ro(o,i);return c<0?n:o[c][1]}function l0(i){return Ro(this.__data__,i)>-1}function u0(i,o){var c=this.__data__,_=Ro(c,i);return _<0?(++this.size,c.push([i,o])):c[_][1]=o,this}Gn.prototype.clear=i0,Gn.prototype.delete=r0,Gn.prototype.get=o0,Gn.prototype.has=l0,Gn.prototype.set=u0;function qn(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var _=i[o];this.set(_[0],_[1])}}function s0(){this.size=0,this.__data__={hash:new Mi,map:new(Mr||Gn),string:new Mi}}function f0(i){var o=qo(this,i).delete(i);return this.size-=o?1:0,o}function a0(i){return qo(this,i).get(i)}function c0(i){return qo(this,i).has(i)}function d0(i,o){var c=qo(this,i),_=c.size;return c.set(i,o),this.size+=c.size==_?0:1,this}qn.prototype.clear=s0,qn.prototype.delete=f0,qn.prototype.get=a0,qn.prototype.has=c0,qn.prototype.set=d0;function Pi(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new qn;++o<c;)this.add(i[o])}function h0(i){return this.__data__.set(i,a),this}function g0(i){return this.__data__.has(i)}Pi.prototype.add=Pi.prototype.push=h0,Pi.prototype.has=g0;function En(i){var o=this.__data__=new Gn(i);this.size=o.size}function m0(){this.__data__=new Gn,this.size=0}function _0(i){var o=this.__data__,c=o.delete(i);return this.size=o.size,c}function y0(i){return this.__data__.get(i)}function w0(i){return this.__data__.has(i)}function b0(i,o){var c=this.__data__;if(c instanceof Gn){var _=c.__data__;if(!Mr||_.length<l-1)return _.push([i,o]),this.size=++c.size,this;c=this.__data__=new qn(_)}return c.set(i,o),this.size=c.size,this}En.prototype.clear=m0,En.prototype.delete=_0,En.prototype.get=y0,En.prototype.has=w0,En.prototype.set=b0;function Jf(i,o){var c=Ke(i),_=!c&&Hi(i),b=!c&&!_&&bi(i),E=!c&&!_&&!b&&er(i),N=c||_||b||E,D=N?Su(i.length,Tg):[],V=D.length;for(var ie in i)(o||rt.call(i,ie))&&!(N&&(ie=="length"||b&&(ie=="offset"||ie=="parent")||E&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||jn(ie,V)))&&D.push(ie);return D}function Qf(i){var o=i.length;return o?i[Bu(0,o-1)]:n}function v0(i,o){return Zo(Zt(i),Ti(o,0,i.length))}function p0(i){return Zo(Zt(i))}function Tu(i,o,c){(c!==n&&!Cn(i[o],c)||c===n&&!(o in i))&&Zn(i,o,c)}function Or(i,o,c){var _=i[o];(!(rt.call(i,o)&&Cn(_,c))||c===n&&!(o in i))&&Zn(i,o,c)}function Ro(i,o){for(var c=i.length;c--;)if(Cn(i[c][0],o))return c;return-1}function S0(i,o,c,_){return mi(i,function(b,E,N){o(_,b,c(b),N)}),_}function jf(i,o){return i&&Wn(o,Pt(o),i)}function k0(i,o){return i&&Wn(o,Qt(o),i)}function Zn(i,o,c){o=="__proto__"&&Io?Io(i,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[o]=c}function Iu(i,o){for(var c=-1,_=o.length,b=Z(_),E=i==null;++c<_;)b[c]=E?n:as(i,o[c]);return b}function Ti(i,o,c){return i===i&&(c!==n&&(i=i<=c?i:c),o!==n&&(i=i>=o?i:o)),i}function wn(i,o,c,_,b,E){var N,D=o&g,V=o&m,ie=o&y;if(c&&(N=b?c(i,_,b,E):c(i)),N!==n)return N;if(!dt(i))return i;var re=Ke(i);if(re){if(N=cm(i),!D)return Zt(i,N)}else{var se=Dt(i),me=se==nt||se==it;if(bi(i))return Sa(i,D);if(se==kt||se==Pe||me&&!b){if(N=V||me?{}:Ya(i),!D)return V?em(i,k0(N,i)):$0(i,jf(N,i))}else{if(!ut[se])return b?i:{};N=dm(i,se,D)}}E||(E=new En);var Ee=E.get(i);if(Ee)return Ee;E.set(i,N),_c(i)?i.forEach(function(Re){N.add(wn(Re,o,c,Re,i,E))}):gc(i)&&i.forEach(function(Re,qe){N.set(qe,wn(Re,o,c,qe,i,E))});var Le=ie?V?Ju:Zu:V?Qt:Pt,xe=re?n:Le(i);return mn(xe||i,function(Re,qe){xe&&(qe=Re,Re=i[qe]),Or(N,qe,wn(Re,o,c,qe,i,E))}),N}function E0(i){var o=Pt(i);return function(c){return $f(c,i,o)}}function $f(i,o,c){var _=c.length;if(i==null)return!_;for(i=lt(i);_--;){var b=c[_],E=o[b],N=i[b];if(N===n&&!(b in i)||!E(N))return!1}return!0}function ea(i,o,c){if(typeof i!="function")throw new _n(s);return Wr(function(){i.apply(n,c)},o)}function zr(i,o,c,_){var b=-1,E=bo,N=!0,D=i.length,V=[],ie=o.length;if(!D)return V;c&&(o=at(o,rn(c))),_?(E=_u,N=!1):o.length>=l&&(E=Cr,N=!1,o=new Pi(o));e:for(;++b<D;){var re=i[b],se=c==null?re:c(re);if(re=_||re!==0?re:0,N&&se===se){for(var me=ie;me--;)if(o[me]===se)continue e;V.push(re)}else E(o,se,_)||V.push(re)}return V}var mi=Ma(Dn),ta=Ma(zu,!0);function C0(i,o){var c=!0;return mi(i,function(_,b,E){return c=!!o(_,b,E),c}),c}function Do(i,o,c){for(var _=-1,b=i.length;++_<b;){var E=i[_],N=o(E);if(N!=null&&(D===n?N===N&&!ln(N):c(N,D)))var D=N,V=E}return V}function A0(i,o,c,_){var b=i.length;for(c=Ue(c),c<0&&(c=-c>b?0:b+c),_=_===n||_>b?b:Ue(_),_<0&&(_+=b),_=c>_?0:wc(_);c<_;)i[c++]=o;return i}function na(i,o){var c=[];return mi(i,function(_,b,E){o(_,b,E)&&c.push(_)}),c}function Nt(i,o,c,_,b){var E=-1,N=i.length;for(c||(c=gm),b||(b=[]);++E<N;){var D=i[E];o>0&&c(D)?o>1?Nt(D,o-1,c,_,b):di(b,D):_||(b[b.length]=D)}return b}var Ou=Pa(),ia=Pa(!0);function Dn(i,o){return i&&Ou(i,o,Pt)}function zu(i,o){return i&&ia(i,o,Pt)}function Wo(i,o){return ci(o,function(c){return $n(i[c])})}function Ii(i,o){o=yi(o,i);for(var c=0,_=o.length;i!=null&&c<_;)i=i[Bn(o[c++])];return c&&c==_?i:n}function ra(i,o,c){var _=o(i);return Ke(i)?_:di(_,c(i))}function Vt(i){return i==null?i===n?ce:Sn:Ai&&Ai in lt(i)?sm(i):pm(i)}function Hu(i,o){return i>o}function M0(i,o){return i!=null&&rt.call(i,o)}function P0(i,o){return i!=null&&o in lt(i)}function T0(i,o,c){return i>=Rt(o,c)&&i<Ct(o,c)}function Nu(i,o,c){for(var _=c?_u:bo,b=i[0].length,E=i.length,N=E,D=Z(E),V=1/0,ie=[];N--;){var re=i[N];N&&o&&(re=at(re,rn(o))),V=Rt(re.length,V),D[N]=!c&&(o||b>=120&&re.length>=120)?new Pi(N&&re):n}re=i[0];var se=-1,me=D[0];e:for(;++se<b&&ie.length<V;){var Ee=re[se],Le=o?o(Ee):Ee;if(Ee=c||Ee!==0?Ee:0,!(me?Cr(me,Le):_(ie,Le,c))){for(N=E;--N;){var xe=D[N];if(!(xe?Cr(xe,Le):_(i[N],Le,c)))continue e}me&&me.push(Le),ie.push(Ee)}}return ie}function I0(i,o,c,_){return Dn(i,function(b,E,N){o(_,c(b),E,N)}),_}function Hr(i,o,c){o=yi(o,i),i=Ua(i,o);var _=i==null?i:i[Bn(vn(o))];return _==null?n:nn(_,i,c)}function oa(i){return yt(i)&&Vt(i)==Pe}function O0(i){return yt(i)&&Vt(i)==ge}function z0(i){return yt(i)&&Vt(i)==oe}function Nr(i,o,c,_,b){return i===o?!0:i==null||o==null||!yt(i)&&!yt(o)?i!==i&&o!==o:H0(i,o,c,_,Nr,b)}function H0(i,o,c,_,b,E){var N=Ke(i),D=Ke(o),V=N?R:Dt(i),ie=D?R:Dt(o);V=V==Pe?kt:V,ie=ie==Pe?kt:ie;var re=V==kt,se=ie==kt,me=V==ie;if(me&&bi(i)){if(!bi(o))return!1;N=!0,re=!1}if(me&&!re)return E||(E=new En),N||er(i)?Wa(i,o,c,_,b,E):lm(i,o,V,c,_,b,E);if(!(c&v)){var Ee=re&&rt.call(i,"__wrapped__"),Le=se&&rt.call(o,"__wrapped__");if(Ee||Le){var xe=Ee?i.value():i,Re=Le?o.value():o;return E||(E=new En),b(xe,Re,c,_,E)}}return me?(E||(E=new En),um(i,o,c,_,b,E)):!1}function N0(i){return yt(i)&&Dt(i)==ot}function Lu(i,o,c,_){var b=c.length,E=b,N=!_;if(i==null)return!E;for(i=lt(i);b--;){var D=c[b];if(N&&D[2]?D[1]!==i[D[0]]:!(D[0]in i))return!1}for(;++b<E;){D=c[b];var V=D[0],ie=i[V],re=D[1];if(N&&D[2]){if(ie===n&&!(V in i))return!1}else{var se=new En;if(_)var me=_(ie,re,V,i,o,se);if(!(me===n?Nr(re,ie,v|p,_,se):me))return!1}}return!0}function la(i){if(!dt(i)||_m(i))return!1;var o=$n(i)?Ng:E1;return o.test(zi(i))}function L0(i){return yt(i)&&Vt(i)==pe}function R0(i){return yt(i)&&Dt(i)==pt}function D0(i){return yt(i)&&tl(i.length)&&!!st[Vt(i)]}function ua(i){return typeof i=="function"?i:i==null?jt:typeof i=="object"?Ke(i)?aa(i[0],i[1]):fa(i):Tc(i)}function Ru(i){if(!Dr(i))return Xg(i);var o=[];for(var c in lt(i))rt.call(i,c)&&c!="constructor"&&o.push(c);return o}function W0(i){if(!dt(i))return vm(i);var o=Dr(i),c=[];for(var _ in i)_=="constructor"&&(o||!rt.call(i,_))||c.push(_);return c}function Du(i,o){return i<o}function sa(i,o){var c=-1,_=Jt(i)?Z(i.length):[];return mi(i,function(b,E,N){_[++c]=o(b,E,N)}),_}function fa(i){var o=ju(i);return o.length==1&&o[0][2]?Va(o[0][0],o[0][1]):function(c){return c===i||Lu(c,i,o)}}function aa(i,o){return es(i)&&Fa(o)?Va(Bn(i),o):function(c){var _=as(c,i);return _===n&&_===o?cs(c,i):Nr(o,_,v|p)}}function Bo(i,o,c,_,b){i!==o&&Ou(o,function(E,N){if(b||(b=new En),dt(E))B0(i,o,N,c,Bo,_,b);else{var D=_?_(ns(i,N),E,N+"",i,o,b):n;D===n&&(D=E),Tu(i,N,D)}},Qt)}function B0(i,o,c,_,b,E,N){var D=ns(i,c),V=ns(o,c),ie=N.get(V);if(ie){Tu(i,c,ie);return}var re=E?E(D,V,c+"",i,o,N):n,se=re===n;if(se){var me=Ke(V),Ee=!me&&bi(V),Le=!me&&!Ee&&er(V);re=V,me||Ee||Le?Ke(D)?re=D:wt(D)?re=Zt(D):Ee?(se=!1,re=Sa(V,!0)):Le?(se=!1,re=ka(V,!0)):re=[]:Br(V)||Hi(V)?(re=D,Hi(D)?re=bc(D):(!dt(D)||$n(D))&&(re=Ya(V))):se=!1}se&&(N.set(V,re),b(re,V,_,E,N),N.delete(V)),Tu(i,c,re)}function ca(i,o){var c=i.length;if(c)return o+=o<0?c:0,jn(o,c)?i[o]:n}function da(i,o,c){o.length?o=at(o,function(E){return Ke(E)?function(N){return Ii(N,E.length===1?E[0]:E)}:E}):o=[jt];var _=-1;o=at(o,rn(Ne()));var b=sa(i,function(E,N,D){var V=at(o,function(ie){return ie(E)});return{criteria:V,index:++_,value:E}});return dg(b,function(E,N){return j0(E,N,c)})}function X0(i,o){return ha(i,o,function(c,_){return cs(i,_)})}function ha(i,o,c){for(var _=-1,b=o.length,E={};++_<b;){var N=o[_],D=Ii(i,N);c(D,N)&&Lr(E,yi(N,i),D)}return E}function Y0(i){return function(o){return Ii(o,i)}}function Wu(i,o,c,_){var b=_?cg:Vi,E=-1,N=o.length,D=i;for(i===o&&(o=Zt(o)),c&&(D=at(i,rn(c)));++E<N;)for(var V=0,ie=o[E],re=c?c(ie):ie;(V=b(D,re,V,_))>-1;)D!==i&&To.call(D,V,1),To.call(i,V,1);return i}function ga(i,o){for(var c=i?o.length:0,_=c-1;c--;){var b=o[c];if(c==_||b!==E){var E=b;jn(b)?To.call(i,b,1):Fu(i,b)}}return i}function Bu(i,o){return i+zo(qf()*(o-i+1))}function F0(i,o,c,_){for(var b=-1,E=Ct(Oo((o-i)/(c||1)),0),N=Z(E);E--;)N[_?E:++b]=i,i+=c;return N}function Xu(i,o){var c="";if(!i||o<1||o>G)return c;do o%2&&(c+=i),o=zo(o/2),o&&(i+=i);while(o);return c}function Ge(i,o){return is(Ka(i,o,jt),i+"")}function V0(i){return Qf(tr(i))}function K0(i,o){var c=tr(i);return Zo(c,Ti(o,0,c.length))}function Lr(i,o,c,_){if(!dt(i))return i;o=yi(o,i);for(var b=-1,E=o.length,N=E-1,D=i;D!=null&&++b<E;){var V=Bn(o[b]),ie=c;if(V==="__proto__"||V==="constructor"||V==="prototype")return i;if(b!=N){var re=D[V];ie=_?_(re,V,D):n,ie===n&&(ie=dt(re)?re:jn(o[b+1])?[]:{})}Or(D,V,ie),D=D[V]}return i}var ma=Ho?function(i,o){return Ho.set(i,o),i}:jt,U0=Io?function(i,o){return Io(i,"toString",{configurable:!0,enumerable:!1,value:hs(o),writable:!0})}:jt;function x0(i){return Zo(tr(i))}function bn(i,o,c){var _=-1,b=i.length;o<0&&(o=-o>b?0:b+o),c=c>b?b:c,c<0&&(c+=b),b=o>c?0:c-o>>>0,o>>>=0;for(var E=Z(b);++_<b;)E[_]=i[_+o];return E}function G0(i,o){var c;return mi(i,function(_,b,E){return c=o(_,b,E),!c}),!!c}function Xo(i,o,c){var _=0,b=i==null?_:i.length;if(typeof o=="number"&&o===o&&b<=ve){for(;_<b;){var E=_+b>>>1,N=i[E];N!==null&&!ln(N)&&(c?N<=o:N<o)?_=E+1:b=E}return b}return Yu(i,o,jt,c)}function Yu(i,o,c,_){var b=0,E=i==null?0:i.length;if(E===0)return 0;o=c(o);for(var N=o!==o,D=o===null,V=ln(o),ie=o===n;b<E;){var re=zo((b+E)/2),se=c(i[re]),me=se!==n,Ee=se===null,Le=se===se,xe=ln(se);if(N)var Re=_||Le;else ie?Re=Le&&(_||me):D?Re=Le&&me&&(_||!Ee):V?Re=Le&&me&&!Ee&&(_||!xe):Ee||xe?Re=!1:Re=_?se<=o:se<o;Re?b=re+1:E=re}return Rt(E,Q)}function _a(i,o){for(var c=-1,_=i.length,b=0,E=[];++c<_;){var N=i[c],D=o?o(N):N;if(!c||!Cn(D,V)){var V=D;E[b++]=N===0?0:N}}return E}function ya(i){return typeof i=="number"?i:ln(i)?fe:+i}function on(i){if(typeof i=="string")return i;if(Ke(i))return at(i,on)+"";if(ln(i))return Zf?Zf.call(i):"";var o=i+"";return o=="0"&&1/i==-q?"-0":o}function _i(i,o,c){var _=-1,b=bo,E=i.length,N=!0,D=[],V=D;if(c)N=!1,b=_u;else if(E>=l){var ie=o?null:rm(i);if(ie)return po(ie);N=!1,b=Cr,V=new Pi}else V=o?[]:D;e:for(;++_<E;){var re=i[_],se=o?o(re):re;if(re=c||re!==0?re:0,N&&se===se){for(var me=V.length;me--;)if(V[me]===se)continue e;o&&V.push(se),D.push(re)}else b(V,se,c)||(V!==D&&V.push(se),D.push(re))}return D}function Fu(i,o){return o=yi(o,i),i=Ua(i,o),i==null||delete i[Bn(vn(o))]}function wa(i,o,c,_){return Lr(i,o,c(Ii(i,o)),_)}function Yo(i,o,c,_){for(var b=i.length,E=_?b:-1;(_?E--:++E<b)&&o(i[E],E,i););return c?bn(i,_?0:E,_?E+1:b):bn(i,_?E+1:0,_?b:E)}function ba(i,o){var c=i;return c instanceof Ze&&(c=c.value()),yu(o,function(_,b){return b.func.apply(b.thisArg,di([_],b.args))},c)}function Vu(i,o,c){var _=i.length;if(_<2)return _?_i(i[0]):[];for(var b=-1,E=Z(_);++b<_;)for(var N=i[b],D=-1;++D<_;)D!=b&&(E[b]=zr(E[b]||N,i[D],o,c));return _i(Nt(E,1),o,c)}function va(i,o,c){for(var _=-1,b=i.length,E=o.length,N={};++_<b;){var D=_<E?o[_]:n;c(N,i[_],D)}return N}function Ku(i){return wt(i)?i:[]}function Uu(i){return typeof i=="function"?i:jt}function yi(i,o){return Ke(i)?i:es(i,o)?[i]:Za(et(i))}var q0=Ge;function wi(i,o,c){var _=i.length;return c=c===n?_:c,!o&&c>=_?i:bn(i,o,c)}var pa=Lg||function(i){return Ht.clearTimeout(i)};function Sa(i,o){if(o)return i.slice();var c=i.length,_=Vf?Vf(c):new i.constructor(c);return i.copy(_),_}function xu(i){var o=new i.constructor(i.byteLength);return new Mo(o).set(new Mo(i)),o}function Z0(i,o){var c=o?xu(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function J0(i){var o=new i.constructor(i.source,mo.exec(i));return o.lastIndex=i.lastIndex,o}function Q0(i){return Ir?lt(Ir.call(i)):{}}function ka(i,o){var c=o?xu(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function Ea(i,o){if(i!==o){var c=i!==n,_=i===null,b=i===i,E=ln(i),N=o!==n,D=o===null,V=o===o,ie=ln(o);if(!D&&!ie&&!E&&i>o||E&&N&&V&&!D&&!ie||_&&N&&V||!c&&V||!b)return 1;if(!_&&!E&&!ie&&i<o||ie&&c&&b&&!_&&!E||D&&c&&b||!N&&b||!V)return-1}return 0}function j0(i,o,c){for(var _=-1,b=i.criteria,E=o.criteria,N=b.length,D=c.length;++_<N;){var V=Ea(b[_],E[_]);if(V){if(_>=D)return V;var ie=c[_];return V*(ie=="desc"?-1:1)}}return i.index-o.index}function Ca(i,o,c,_){for(var b=-1,E=i.length,N=c.length,D=-1,V=o.length,ie=Ct(E-N,0),re=Z(V+ie),se=!_;++D<V;)re[D]=o[D];for(;++b<N;)(se||b<E)&&(re[c[b]]=i[b]);for(;ie--;)re[D++]=i[b++];return re}function Aa(i,o,c,_){for(var b=-1,E=i.length,N=-1,D=c.length,V=-1,ie=o.length,re=Ct(E-D,0),se=Z(re+ie),me=!_;++b<re;)se[b]=i[b];for(var Ee=b;++V<ie;)se[Ee+V]=o[V];for(;++N<D;)(me||b<E)&&(se[Ee+c[N]]=i[b++]);return se}function Zt(i,o){var c=-1,_=i.length;for(o||(o=Z(_));++c<_;)o[c]=i[c];return o}function Wn(i,o,c,_){var b=!c;c||(c={});for(var E=-1,N=o.length;++E<N;){var D=o[E],V=_?_(c[D],i[D],D,c,i):n;V===n&&(V=i[D]),b?Zn(c,D,V):Or(c,D,V)}return c}function $0(i,o){return Wn(i,$u(i),o)}function em(i,o){return Wn(i,Ba(i),o)}function Fo(i,o){return function(c,_){var b=Ke(c)?og:S0,E=o?o():{};return b(c,i,Ne(_,2),E)}}function Qi(i){return Ge(function(o,c){var _=-1,b=c.length,E=b>1?c[b-1]:n,N=b>2?c[2]:n;for(E=i.length>3&&typeof E=="function"?(b--,E):n,N&&Kt(c[0],c[1],N)&&(E=b<3?n:E,b=1),o=lt(o);++_<b;){var D=c[_];D&&i(o,D,_,E)}return o})}function Ma(i,o){return function(c,_){if(c==null)return c;if(!Jt(c))return i(c,_);for(var b=c.length,E=o?b:-1,N=lt(c);(o?E--:++E<b)&&_(N[E],E,N)!==!1;);return c}}function Pa(i){return function(o,c,_){for(var b=-1,E=lt(o),N=_(o),D=N.length;D--;){var V=N[i?D:++b];if(c(E[V],V,E)===!1)break}return o}}function tm(i,o,c){var _=o&M,b=Rr(i);function E(){var N=this&&this!==Ht&&this instanceof E?b:i;return N.apply(_?c:this,arguments)}return E}function Ta(i){return function(o){o=et(o);var c=Ki(o)?kn(o):n,_=c?c[0]:o.charAt(0),b=c?wi(c,1).join(""):o.slice(1);return _[i]()+b}}function ji(i){return function(o){return yu(Mc(Ac(o).replace(U1,"")),i,"")}}function Rr(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Ji(i.prototype),_=i.apply(c,o);return dt(_)?_:c}}function nm(i,o,c){var _=Rr(i);function b(){for(var E=arguments.length,N=Z(E),D=E,V=$i(b);D--;)N[D]=arguments[D];var ie=E<3&&N[0]!==V&&N[E-1]!==V?[]:hi(N,V);if(E-=ie.length,E<c)return Na(i,o,Vo,b.placeholder,n,N,ie,n,n,c-E);var re=this&&this!==Ht&&this instanceof b?_:i;return nn(re,this,N)}return b}function Ia(i){return function(o,c,_){var b=lt(o);if(!Jt(o)){var E=Ne(c,3);o=Pt(o),c=function(D){return E(b[D],D,b)}}var N=i(o,c,_);return N>-1?b[E?o[N]:N]:n}}function Oa(i){return Qn(function(o){var c=o.length,_=c,b=yn.prototype.thru;for(i&&o.reverse();_--;){var E=o[_];if(typeof E!="function")throw new _n(s);if(b&&!N&&Go(E)=="wrapper")var N=new yn([],!0)}for(_=N?_:c;++_<c;){E=o[_];var D=Go(E),V=D=="wrapper"?Qu(E):n;V&&ts(V[0])&&V[1]==(H|k|P|L)&&!V[4].length&&V[9]==1?N=N[Go(V[0])].apply(N,V[3]):N=E.length==1&&ts(E)?N[D]():N.thru(E)}return function(){var ie=arguments,re=ie[0];if(N&&ie.length==1&&Ke(re))return N.plant(re).value();for(var se=0,me=c?o[se].apply(this,ie):re;++se<c;)me=o[se].call(this,me);return me}})}function Vo(i,o,c,_,b,E,N,D,V,ie){var re=o&H,se=o&M,me=o&w,Ee=o&(k|C),Le=o&W,xe=me?n:Rr(i);function Re(){for(var qe=arguments.length,Je=Z(qe),un=qe;un--;)Je[un]=arguments[un];if(Ee)var Ut=$i(Re),sn=gg(Je,Ut);if(_&&(Je=Ca(Je,_,b,Ee)),E&&(Je=Aa(Je,E,N,Ee)),qe-=sn,Ee&&qe<ie){var bt=hi(Je,Ut);return Na(i,o,Vo,Re.placeholder,c,Je,bt,D,V,ie-qe)}var An=se?c:this,ti=me?An[i]:i;return qe=Je.length,D?Je=Sm(Je,D):Le&&qe>1&&Je.reverse(),re&&V<qe&&(Je.length=V),this&&this!==Ht&&this instanceof Re&&(ti=xe||Rr(ti)),ti.apply(An,Je)}return Re}function za(i,o){return function(c,_){return I0(c,i,o(_),{})}}function Ko(i,o){return function(c,_){var b;if(c===n&&_===n)return o;if(c!==n&&(b=c),_!==n){if(b===n)return _;typeof c=="string"||typeof _=="string"?(c=on(c),_=on(_)):(c=ya(c),_=ya(_)),b=i(c,_)}return b}}function Gu(i){return Qn(function(o){return o=at(o,rn(Ne())),Ge(function(c){var _=this;return i(o,function(b){return nn(b,_,c)})})})}function Uo(i,o){o=o===n?" ":on(o);var c=o.length;if(c<2)return c?Xu(o,i):o;var _=Xu(o,Oo(i/Ui(o)));return Ki(o)?wi(kn(_),0,i).join(""):_.slice(0,i)}function im(i,o,c,_){var b=o&M,E=Rr(i);function N(){for(var D=-1,V=arguments.length,ie=-1,re=_.length,se=Z(re+V),me=this&&this!==Ht&&this instanceof N?E:i;++ie<re;)se[ie]=_[ie];for(;V--;)se[ie++]=arguments[++D];return nn(me,b?c:this,se)}return N}function Ha(i){return function(o,c,_){return _&&typeof _!="number"&&Kt(o,c,_)&&(c=_=n),o=ei(o),c===n?(c=o,o=0):c=ei(c),_=_===n?o<c?1:-1:ei(_),F0(o,c,_,i)}}function xo(i){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=pn(o),c=pn(c)),i(o,c)}}function Na(i,o,c,_,b,E,N,D,V,ie){var re=o&k,se=re?N:n,me=re?n:N,Ee=re?E:n,Le=re?n:E;o|=re?P:O,o&=~(re?O:P),o&z||(o&=~(M|w));var xe=[i,o,b,Ee,se,Le,me,D,V,ie],Re=c.apply(n,xe);return ts(i)&&xa(Re,xe),Re.placeholder=_,Ga(Re,i,o)}function qu(i){var o=Et[i];return function(c,_){if(c=pn(c),_=_==null?0:Rt(Ue(_),292),_&&Gf(c)){var b=(et(c)+"e").split("e"),E=o(b[0]+"e"+(+b[1]+_));return b=(et(E)+"e").split("e"),+(b[0]+"e"+(+b[1]-_))}return o(c)}}var rm=qi&&1/po(new qi([,-0]))[1]==q?function(i){return new qi(i)}:_s;function La(i){return function(o){var c=Dt(o);return c==ot?Eu(o):c==pt?pg(o):hg(o,i(o))}}function Jn(i,o,c,_,b,E,N,D){var V=o&w;if(!V&&typeof i!="function")throw new _n(s);var ie=_?_.length:0;if(ie||(o&=~(P|O),_=b=n),N=N===n?N:Ct(Ue(N),0),D=D===n?D:Ue(D),ie-=b?b.length:0,o&O){var re=_,se=b;_=b=n}var me=V?n:Qu(i),Ee=[i,o,c,_,b,re,se,E,N,D];if(me&&bm(Ee,me),i=Ee[0],o=Ee[1],c=Ee[2],_=Ee[3],b=Ee[4],D=Ee[9]=Ee[9]===n?V?0:i.length:Ct(Ee[9]-ie,0),!D&&o&(k|C)&&(o&=~(k|C)),!o||o==M)var Le=tm(i,o,c);else o==k||o==C?Le=nm(i,o,D):(o==P||o==(M|P))&&!b.length?Le=im(i,o,c,_):Le=Vo.apply(n,Ee);var xe=me?ma:xa;return Ga(xe(Le,Ee),i,o)}function Ra(i,o,c,_){return i===n||Cn(i,Gi[c])&&!rt.call(_,c)?o:i}function Da(i,o,c,_,b,E){return dt(i)&&dt(o)&&(E.set(o,i),Bo(i,o,n,Da,E),E.delete(o)),i}function om(i){return Br(i)?n:i}function Wa(i,o,c,_,b,E){var N=c&v,D=i.length,V=o.length;if(D!=V&&!(N&&V>D))return!1;var ie=E.get(i),re=E.get(o);if(ie&&re)return ie==o&&re==i;var se=-1,me=!0,Ee=c&p?new Pi:n;for(E.set(i,o),E.set(o,i);++se<D;){var Le=i[se],xe=o[se];if(_)var Re=N?_(xe,Le,se,o,i,E):_(Le,xe,se,i,o,E);if(Re!==n){if(Re)continue;me=!1;break}if(Ee){if(!wu(o,function(qe,Je){if(!Cr(Ee,Je)&&(Le===qe||b(Le,qe,c,_,E)))return Ee.push(Je)})){me=!1;break}}else if(!(Le===xe||b(Le,xe,c,_,E))){me=!1;break}}return E.delete(i),E.delete(o),me}function lm(i,o,c,_,b,E,N){switch(c){case Lt:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case ge:return!(i.byteLength!=o.byteLength||!E(new Mo(i),new Mo(o)));case _e:case oe:case $e:return Cn(+i,+o);case Ye:return i.name==o.name&&i.message==o.message;case pe:case qt:return i==o+"";case ot:var D=Eu;case pt:var V=_&v;if(D||(D=po),i.size!=o.size&&!V)return!1;var ie=N.get(i);if(ie)return ie==o;_|=p,N.set(i,o);var re=Wa(D(i),D(o),_,b,E,N);return N.delete(i),re;case dn:if(Ir)return Ir.call(i)==Ir.call(o)}return!1}function um(i,o,c,_,b,E){var N=c&v,D=Zu(i),V=D.length,ie=Zu(o),re=ie.length;if(V!=re&&!N)return!1;for(var se=V;se--;){var me=D[se];if(!(N?me in o:rt.call(o,me)))return!1}var Ee=E.get(i),Le=E.get(o);if(Ee&&Le)return Ee==o&&Le==i;var xe=!0;E.set(i,o),E.set(o,i);for(var Re=N;++se<V;){me=D[se];var qe=i[me],Je=o[me];if(_)var un=N?_(Je,qe,me,o,i,E):_(qe,Je,me,i,o,E);if(!(un===n?qe===Je||b(qe,Je,c,_,E):un)){xe=!1;break}Re||(Re=me=="constructor")}if(xe&&!Re){var Ut=i.constructor,sn=o.constructor;Ut!=sn&&"constructor"in i&&"constructor"in o&&!(typeof Ut=="function"&&Ut instanceof Ut&&typeof sn=="function"&&sn instanceof sn)&&(xe=!1)}return E.delete(i),E.delete(o),xe}function Qn(i){return is(Ka(i,n,$a),i+"")}function Zu(i){return ra(i,Pt,$u)}function Ju(i){return ra(i,Qt,Ba)}var Qu=Ho?function(i){return Ho.get(i)}:_s;function Go(i){for(var o=i.name+"",c=Zi[o],_=rt.call(Zi,o)?c.length:0;_--;){var b=c[_],E=b.func;if(E==null||E==i)return b.name}return o}function $i(i){var o=rt.call(S,"placeholder")?S:i;return o.placeholder}function Ne(){var i=S.iteratee||gs;return i=i===gs?ua:i,arguments.length?i(arguments[0],arguments[1]):i}function qo(i,o){var c=i.__data__;return mm(o)?c[typeof o=="string"?"string":"hash"]:c.map}function ju(i){for(var o=Pt(i),c=o.length;c--;){var _=o[c],b=i[_];o[c]=[_,b,Fa(b)]}return o}function Oi(i,o){var c=wg(i,o);return la(c)?c:n}function sm(i){var o=rt.call(i,Ai),c=i[Ai];try{i[Ai]=n;var _=!0}catch{}var b=Co.call(i);return _&&(o?i[Ai]=c:delete i[Ai]),b}var $u=Au?function(i){return i==null?[]:(i=lt(i),ci(Au(i),function(o){return Uf.call(i,o)}))}:ys,Ba=Au?function(i){for(var o=[];i;)di(o,$u(i)),i=Po(i);return o}:ys,Dt=Vt;(Mu&&Dt(new Mu(new ArrayBuffer(1)))!=Lt||Mr&&Dt(new Mr)!=ot||Pu&&Dt(Pu.resolve())!=tn||qi&&Dt(new qi)!=pt||Pr&&Dt(new Pr)!=At)&&(Dt=function(i){var o=Vt(i),c=o==kt?i.constructor:n,_=c?zi(c):"";if(_)switch(_){case Kg:return Lt;case Ug:return ot;case xg:return tn;case Gg:return pt;case qg:return At}return o});function fm(i,o,c){for(var _=-1,b=c.length;++_<b;){var E=c[_],N=E.size;switch(E.type){case"drop":i+=N;break;case"dropRight":o-=N;break;case"take":o=Rt(o,i+N);break;case"takeRight":i=Ct(i,o-N);break}}return{start:i,end:o}}function am(i){var o=i.match(nu);return o?o[1].split(iu):[]}function Xa(i,o,c){o=yi(o,i);for(var _=-1,b=o.length,E=!1;++_<b;){var N=Bn(o[_]);if(!(E=i!=null&&c(i,N)))break;i=i[N]}return E||++_!=b?E:(b=i==null?0:i.length,!!b&&tl(b)&&jn(N,b)&&(Ke(i)||Hi(i)))}function cm(i){var o=i.length,c=new i.constructor(o);return o&&typeof i[0]=="string"&&rt.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function Ya(i){return typeof i.constructor=="function"&&!Dr(i)?Ji(Po(i)):{}}function dm(i,o,c){var _=i.constructor;switch(o){case ge:return xu(i);case _e:case oe:return new _(+i);case Lt:return Z0(i,c);case Mt:case Ot:case Nn:case Ln:case hn:case Rn:case Un:case xn:case si:return ka(i,c);case ot:return new _;case $e:case qt:return new _(i);case pe:return J0(i);case pt:return new _;case dn:return Q0(i)}}function hm(i,o){var c=o.length;if(!c)return i;var _=c-1;return o[_]=(c>1?"& ":"")+o[_],o=o.join(c>2?", ":" "),i.replace(tu,`{
/* [wrapped with `+o+`] */
`)}function gm(i){return Ke(i)||Hi(i)||!!(xf&&i&&i[xf])}function jn(i,o){var c=typeof i;return o=o??G,!!o&&(c=="number"||c!="symbol"&&A1.test(i))&&i>-1&&i%1==0&&i<o}function Kt(i,o,c){if(!dt(c))return!1;var _=typeof o;return(_=="number"?Jt(c)&&jn(o,c.length):_=="string"&&o in c)?Cn(c[o],i):!1}function es(i,o){if(Ke(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||ln(i)?!0:Ql.test(i)||!Jl.test(i)||o!=null&&i in lt(o)}function mm(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function ts(i){var o=Go(i),c=S[o];if(typeof c!="function"||!(o in Ze.prototype))return!1;if(i===c)return!0;var _=Qu(c);return!!_&&i===_[0]}function _m(i){return!!Ff&&Ff in i}var ym=ko?$n:ws;function Dr(i){var o=i&&i.constructor,c=typeof o=="function"&&o.prototype||Gi;return i===c}function Fa(i){return i===i&&!dt(i)}function Va(i,o){return function(c){return c==null?!1:c[i]===o&&(o!==n||i in lt(c))}}function wm(i){var o=$o(i,function(_){return c.size===d&&c.clear(),_}),c=o.cache;return o}function bm(i,o){var c=i[1],_=o[1],b=c|_,E=b<(M|w|H),N=_==H&&c==k||_==H&&c==L&&i[7].length<=o[8]||_==(H|L)&&o[7].length<=o[8]&&c==k;if(!(E||N))return i;_&M&&(i[2]=o[2],b|=c&M?0:z);var D=o[3];if(D){var V=i[3];i[3]=V?Ca(V,D,o[4]):D,i[4]=V?hi(i[3],h):o[4]}return D=o[5],D&&(V=i[5],i[5]=V?Aa(V,D,o[6]):D,i[6]=V?hi(i[5],h):o[6]),D=o[7],D&&(i[7]=D),_&H&&(i[8]=i[8]==null?o[8]:Rt(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=b,i}function vm(i){var o=[];if(i!=null)for(var c in lt(i))o.push(c);return o}function pm(i){return Co.call(i)}function Ka(i,o,c){return o=Ct(o===n?i.length-1:o,0),function(){for(var _=arguments,b=-1,E=Ct(_.length-o,0),N=Z(E);++b<E;)N[b]=_[o+b];b=-1;for(var D=Z(o+1);++b<o;)D[b]=_[b];return D[o]=c(N),nn(i,this,D)}}function Ua(i,o){return o.length<2?i:Ii(i,bn(o,0,-1))}function Sm(i,o){for(var c=i.length,_=Rt(o.length,c),b=Zt(i);_--;){var E=o[_];i[_]=jn(E,c)?b[E]:n}return i}function ns(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var xa=qa(ma),Wr=Dg||function(i,o){return Ht.setTimeout(i,o)},is=qa(U0);function Ga(i,o,c){var _=o+"";return is(i,hm(_,km(am(_),c)))}function qa(i){var o=0,c=0;return function(){var _=Yg(),b=B-(_-c);if(c=_,b>0){if(++o>=X)return arguments[0]}else o=0;return i.apply(n,arguments)}}function Zo(i,o){var c=-1,_=i.length,b=_-1;for(o=o===n?_:o;++c<o;){var E=Bu(c,b),N=i[E];i[E]=i[c],i[c]=N}return i.length=o,i}var Za=wm(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(jl,function(c,_,b,E){o.push(b?E.replace(lu,"$1"):_||c)}),o});function Bn(i){if(typeof i=="string"||ln(i))return i;var o=i+"";return o=="0"&&1/i==-q?"-0":o}function zi(i){if(i!=null){try{return Eo.call(i)}catch{}try{return i+""}catch{}}return""}function km(i,o){return mn(ke,function(c){var _="_."+c[0];o&c[1]&&!bo(i,_)&&i.push(_)}),i.sort()}function Ja(i){if(i instanceof Ze)return i.clone();var o=new yn(i.__wrapped__,i.__chain__);return o.__actions__=Zt(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function Em(i,o,c){(c?Kt(i,o,c):o===n)?o=1:o=Ct(Ue(o),0);var _=i==null?0:i.length;if(!_||o<1)return[];for(var b=0,E=0,N=Z(Oo(_/o));b<_;)N[E++]=bn(i,b,b+=o);return N}function Cm(i){for(var o=-1,c=i==null?0:i.length,_=0,b=[];++o<c;){var E=i[o];E&&(b[_++]=E)}return b}function Am(){var i=arguments.length;if(!i)return[];for(var o=Z(i-1),c=arguments[0],_=i;_--;)o[_-1]=arguments[_];return di(Ke(c)?Zt(c):[c],Nt(o,1))}var Mm=Ge(function(i,o){return wt(i)?zr(i,Nt(o,1,wt,!0)):[]}),Pm=Ge(function(i,o){var c=vn(o);return wt(c)&&(c=n),wt(i)?zr(i,Nt(o,1,wt,!0),Ne(c,2)):[]}),Tm=Ge(function(i,o){var c=vn(o);return wt(c)&&(c=n),wt(i)?zr(i,Nt(o,1,wt,!0),n,c):[]});function Im(i,o,c){var _=i==null?0:i.length;return _?(o=c||o===n?1:Ue(o),bn(i,o<0?0:o,_)):[]}function Om(i,o,c){var _=i==null?0:i.length;return _?(o=c||o===n?1:Ue(o),o=_-o,bn(i,0,o<0?0:o)):[]}function zm(i,o){return i&&i.length?Yo(i,Ne(o,3),!0,!0):[]}function Hm(i,o){return i&&i.length?Yo(i,Ne(o,3),!0):[]}function Nm(i,o,c,_){var b=i==null?0:i.length;return b?(c&&typeof c!="number"&&Kt(i,o,c)&&(c=0,_=b),A0(i,o,c,_)):[]}function Qa(i,o,c){var _=i==null?0:i.length;if(!_)return-1;var b=c==null?0:Ue(c);return b<0&&(b=Ct(_+b,0)),vo(i,Ne(o,3),b)}function ja(i,o,c){var _=i==null?0:i.length;if(!_)return-1;var b=_-1;return c!==n&&(b=Ue(c),b=c<0?Ct(_+b,0):Rt(b,_-1)),vo(i,Ne(o,3),b,!0)}function $a(i){var o=i==null?0:i.length;return o?Nt(i,1):[]}function Lm(i){var o=i==null?0:i.length;return o?Nt(i,q):[]}function Rm(i,o){var c=i==null?0:i.length;return c?(o=o===n?1:Ue(o),Nt(i,o)):[]}function Dm(i){for(var o=-1,c=i==null?0:i.length,_={};++o<c;){var b=i[o];_[b[0]]=b[1]}return _}function ec(i){return i&&i.length?i[0]:n}function Wm(i,o,c){var _=i==null?0:i.length;if(!_)return-1;var b=c==null?0:Ue(c);return b<0&&(b=Ct(_+b,0)),Vi(i,o,b)}function Bm(i){var o=i==null?0:i.length;return o?bn(i,0,-1):[]}var Xm=Ge(function(i){var o=at(i,Ku);return o.length&&o[0]===i[0]?Nu(o):[]}),Ym=Ge(function(i){var o=vn(i),c=at(i,Ku);return o===vn(c)?o=n:c.pop(),c.length&&c[0]===i[0]?Nu(c,Ne(o,2)):[]}),Fm=Ge(function(i){var o=vn(i),c=at(i,Ku);return o=typeof o=="function"?o:n,o&&c.pop(),c.length&&c[0]===i[0]?Nu(c,n,o):[]});function Vm(i,o){return i==null?"":Bg.call(i,o)}function vn(i){var o=i==null?0:i.length;return o?i[o-1]:n}function Km(i,o,c){var _=i==null?0:i.length;if(!_)return-1;var b=_;return c!==n&&(b=Ue(c),b=b<0?Ct(_+b,0):Rt(b,_-1)),o===o?kg(i,o,b):vo(i,Nf,b,!0)}function Um(i,o){return i&&i.length?ca(i,Ue(o)):n}var xm=Ge(tc);function tc(i,o){return i&&i.length&&o&&o.length?Wu(i,o):i}function Gm(i,o,c){return i&&i.length&&o&&o.length?Wu(i,o,Ne(c,2)):i}function qm(i,o,c){return i&&i.length&&o&&o.length?Wu(i,o,n,c):i}var Zm=Qn(function(i,o){var c=i==null?0:i.length,_=Iu(i,o);return ga(i,at(o,function(b){return jn(b,c)?+b:b}).sort(Ea)),_});function Jm(i,o){var c=[];if(!(i&&i.length))return c;var _=-1,b=[],E=i.length;for(o=Ne(o,3);++_<E;){var N=i[_];o(N,_,i)&&(c.push(N),b.push(_))}return ga(i,b),c}function rs(i){return i==null?i:Vg.call(i)}function Qm(i,o,c){var _=i==null?0:i.length;return _?(c&&typeof c!="number"&&Kt(i,o,c)?(o=0,c=_):(o=o==null?0:Ue(o),c=c===n?_:Ue(c)),bn(i,o,c)):[]}function jm(i,o){return Xo(i,o)}function $m(i,o,c){return Yu(i,o,Ne(c,2))}function e_(i,o){var c=i==null?0:i.length;if(c){var _=Xo(i,o);if(_<c&&Cn(i[_],o))return _}return-1}function t_(i,o){return Xo(i,o,!0)}function n_(i,o,c){return Yu(i,o,Ne(c,2),!0)}function i_(i,o){var c=i==null?0:i.length;if(c){var _=Xo(i,o,!0)-1;if(Cn(i[_],o))return _}return-1}function r_(i){return i&&i.length?_a(i):[]}function o_(i,o){return i&&i.length?_a(i,Ne(o,2)):[]}function l_(i){var o=i==null?0:i.length;return o?bn(i,1,o):[]}function u_(i,o,c){return i&&i.length?(o=c||o===n?1:Ue(o),bn(i,0,o<0?0:o)):[]}function s_(i,o,c){var _=i==null?0:i.length;return _?(o=c||o===n?1:Ue(o),o=_-o,bn(i,o<0?0:o,_)):[]}function f_(i,o){return i&&i.length?Yo(i,Ne(o,3),!1,!0):[]}function a_(i,o){return i&&i.length?Yo(i,Ne(o,3)):[]}var c_=Ge(function(i){return _i(Nt(i,1,wt,!0))}),d_=Ge(function(i){var o=vn(i);return wt(o)&&(o=n),_i(Nt(i,1,wt,!0),Ne(o,2))}),h_=Ge(function(i){var o=vn(i);return o=typeof o=="function"?o:n,_i(Nt(i,1,wt,!0),n,o)});function g_(i){return i&&i.length?_i(i):[]}function m_(i,o){return i&&i.length?_i(i,Ne(o,2)):[]}function __(i,o){return o=typeof o=="function"?o:n,i&&i.length?_i(i,n,o):[]}function os(i){if(!(i&&i.length))return[];var o=0;return i=ci(i,function(c){if(wt(c))return o=Ct(c.length,o),!0}),Su(o,function(c){return at(i,bu(c))})}function nc(i,o){if(!(i&&i.length))return[];var c=os(i);return o==null?c:at(c,function(_){return nn(o,n,_)})}var y_=Ge(function(i,o){return wt(i)?zr(i,o):[]}),w_=Ge(function(i){return Vu(ci(i,wt))}),b_=Ge(function(i){var o=vn(i);return wt(o)&&(o=n),Vu(ci(i,wt),Ne(o,2))}),v_=Ge(function(i){var o=vn(i);return o=typeof o=="function"?o:n,Vu(ci(i,wt),n,o)}),p_=Ge(os);function S_(i,o){return va(i||[],o||[],Or)}function k_(i,o){return va(i||[],o||[],Lr)}var E_=Ge(function(i){var o=i.length,c=o>1?i[o-1]:n;return c=typeof c=="function"?(i.pop(),c):n,nc(i,c)});function ic(i){var o=S(i);return o.__chain__=!0,o}function C_(i,o){return o(i),i}function Jo(i,o){return o(i)}var A_=Qn(function(i){var o=i.length,c=o?i[0]:0,_=this.__wrapped__,b=function(E){return Iu(E,i)};return o>1||this.__actions__.length||!(_ instanceof Ze)||!jn(c)?this.thru(b):(_=_.slice(c,+c+(o?1:0)),_.__actions__.push({func:Jo,args:[b],thisArg:n}),new yn(_,this.__chain__).thru(function(E){return o&&!E.length&&E.push(n),E}))});function M_(){return ic(this)}function P_(){return new yn(this.value(),this.__chain__)}function T_(){this.__values__===n&&(this.__values__=yc(this.value()));var i=this.__index__>=this.__values__.length,o=i?n:this.__values__[this.__index__++];return{done:i,value:o}}function I_(){return this}function O_(i){for(var o,c=this;c instanceof Lo;){var _=Ja(c);_.__index__=0,_.__values__=n,o?b.__wrapped__=_:o=_;var b=_;c=c.__wrapped__}return b.__wrapped__=i,o}function z_(){var i=this.__wrapped__;if(i instanceof Ze){var o=i;return this.__actions__.length&&(o=new Ze(this)),o=o.reverse(),o.__actions__.push({func:Jo,args:[rs],thisArg:n}),new yn(o,this.__chain__)}return this.thru(rs)}function H_(){return ba(this.__wrapped__,this.__actions__)}var N_=Fo(function(i,o,c){rt.call(i,c)?++i[c]:Zn(i,c,1)});function L_(i,o,c){var _=Ke(i)?zf:C0;return c&&Kt(i,o,c)&&(o=n),_(i,Ne(o,3))}function R_(i,o){var c=Ke(i)?ci:na;return c(i,Ne(o,3))}var D_=Ia(Qa),W_=Ia(ja);function B_(i,o){return Nt(Qo(i,o),1)}function X_(i,o){return Nt(Qo(i,o),q)}function Y_(i,o,c){return c=c===n?1:Ue(c),Nt(Qo(i,o),c)}function rc(i,o){var c=Ke(i)?mn:mi;return c(i,Ne(o,3))}function oc(i,o){var c=Ke(i)?lg:ta;return c(i,Ne(o,3))}var F_=Fo(function(i,o,c){rt.call(i,c)?i[c].push(o):Zn(i,c,[o])});function V_(i,o,c,_){i=Jt(i)?i:tr(i),c=c&&!_?Ue(c):0;var b=i.length;return c<0&&(c=Ct(b+c,0)),nl(i)?c<=b&&i.indexOf(o,c)>-1:!!b&&Vi(i,o,c)>-1}var K_=Ge(function(i,o,c){var _=-1,b=typeof o=="function",E=Jt(i)?Z(i.length):[];return mi(i,function(N){E[++_]=b?nn(o,N,c):Hr(N,o,c)}),E}),U_=Fo(function(i,o,c){Zn(i,c,o)});function Qo(i,o){var c=Ke(i)?at:sa;return c(i,Ne(o,3))}function x_(i,o,c,_){return i==null?[]:(Ke(o)||(o=o==null?[]:[o]),c=_?n:c,Ke(c)||(c=c==null?[]:[c]),da(i,o,c))}var G_=Fo(function(i,o,c){i[c?0:1].push(o)},function(){return[[],[]]});function q_(i,o,c){var _=Ke(i)?yu:Rf,b=arguments.length<3;return _(i,Ne(o,4),c,b,mi)}function Z_(i,o,c){var _=Ke(i)?ug:Rf,b=arguments.length<3;return _(i,Ne(o,4),c,b,ta)}function J_(i,o){var c=Ke(i)?ci:na;return c(i,el(Ne(o,3)))}function Q_(i){var o=Ke(i)?Qf:V0;return o(i)}function j_(i,o,c){(c?Kt(i,o,c):o===n)?o=1:o=Ue(o);var _=Ke(i)?v0:K0;return _(i,o)}function $_(i){var o=Ke(i)?p0:x0;return o(i)}function e2(i){if(i==null)return 0;if(Jt(i))return nl(i)?Ui(i):i.length;var o=Dt(i);return o==ot||o==pt?i.size:Ru(i).length}function t2(i,o,c){var _=Ke(i)?wu:G0;return c&&Kt(i,o,c)&&(o=n),_(i,Ne(o,3))}var n2=Ge(function(i,o){if(i==null)return[];var c=o.length;return c>1&&Kt(i,o[0],o[1])?o=[]:c>2&&Kt(o[0],o[1],o[2])&&(o=[o[0]]),da(i,Nt(o,1),[])}),jo=Rg||function(){return Ht.Date.now()};function i2(i,o){if(typeof o!="function")throw new _n(s);return i=Ue(i),function(){if(--i<1)return o.apply(this,arguments)}}function lc(i,o,c){return o=c?n:o,o=i&&o==null?i.length:o,Jn(i,H,n,n,n,n,o)}function uc(i,o){var c;if(typeof o!="function")throw new _n(s);return i=Ue(i),function(){return--i>0&&(c=o.apply(this,arguments)),i<=1&&(o=n),c}}var ls=Ge(function(i,o,c){var _=M;if(c.length){var b=hi(c,$i(ls));_|=P}return Jn(i,_,o,c,b)}),sc=Ge(function(i,o,c){var _=M|w;if(c.length){var b=hi(c,$i(sc));_|=P}return Jn(o,_,i,c,b)});function fc(i,o,c){o=c?n:o;var _=Jn(i,k,n,n,n,n,n,o);return _.placeholder=fc.placeholder,_}function ac(i,o,c){o=c?n:o;var _=Jn(i,C,n,n,n,n,n,o);return _.placeholder=ac.placeholder,_}function cc(i,o,c){var _,b,E,N,D,V,ie=0,re=!1,se=!1,me=!0;if(typeof i!="function")throw new _n(s);o=pn(o)||0,dt(c)&&(re=!!c.leading,se="maxWait"in c,E=se?Ct(pn(c.maxWait)||0,o):E,me="trailing"in c?!!c.trailing:me);function Ee(bt){var An=_,ti=b;return _=b=n,ie=bt,N=i.apply(ti,An),N}function Le(bt){return ie=bt,D=Wr(qe,o),re?Ee(bt):N}function xe(bt){var An=bt-V,ti=bt-ie,Ic=o-An;return se?Rt(Ic,E-ti):Ic}function Re(bt){var An=bt-V,ti=bt-ie;return V===n||An>=o||An<0||se&&ti>=E}function qe(){var bt=jo();if(Re(bt))return Je(bt);D=Wr(qe,xe(bt))}function Je(bt){return D=n,me&&_?Ee(bt):(_=b=n,N)}function un(){D!==n&&pa(D),ie=0,_=V=b=D=n}function Ut(){return D===n?N:Je(jo())}function sn(){var bt=jo(),An=Re(bt);if(_=arguments,b=this,V=bt,An){if(D===n)return Le(V);if(se)return pa(D),D=Wr(qe,o),Ee(V)}return D===n&&(D=Wr(qe,o)),N}return sn.cancel=un,sn.flush=Ut,sn}var r2=Ge(function(i,o){return ea(i,1,o)}),o2=Ge(function(i,o,c){return ea(i,pn(o)||0,c)});function l2(i){return Jn(i,W)}function $o(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new _n(s);var c=function(){var _=arguments,b=o?o.apply(this,_):_[0],E=c.cache;if(E.has(b))return E.get(b);var N=i.apply(this,_);return c.cache=E.set(b,N)||E,N};return c.cache=new($o.Cache||qn),c}$o.Cache=qn;function el(i){if(typeof i!="function")throw new _n(s);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function u2(i){return uc(2,i)}var s2=q0(function(i,o){o=o.length==1&&Ke(o[0])?at(o[0],rn(Ne())):at(Nt(o,1),rn(Ne()));var c=o.length;return Ge(function(_){for(var b=-1,E=Rt(_.length,c);++b<E;)_[b]=o[b].call(this,_[b]);return nn(i,this,_)})}),us=Ge(function(i,o){var c=hi(o,$i(us));return Jn(i,P,n,o,c)}),dc=Ge(function(i,o){var c=hi(o,$i(dc));return Jn(i,O,n,o,c)}),f2=Qn(function(i,o){return Jn(i,L,n,n,n,o)});function a2(i,o){if(typeof i!="function")throw new _n(s);return o=o===n?o:Ue(o),Ge(i,o)}function c2(i,o){if(typeof i!="function")throw new _n(s);return o=o==null?0:Ct(Ue(o),0),Ge(function(c){var _=c[o],b=wi(c,0,o);return _&&di(b,_),nn(i,this,b)})}function d2(i,o,c){var _=!0,b=!0;if(typeof i!="function")throw new _n(s);return dt(c)&&(_="leading"in c?!!c.leading:_,b="trailing"in c?!!c.trailing:b),cc(i,o,{leading:_,maxWait:o,trailing:b})}function h2(i){return lc(i,1)}function g2(i,o){return us(Uu(o),i)}function m2(){if(!arguments.length)return[];var i=arguments[0];return Ke(i)?i:[i]}function _2(i){return wn(i,y)}function y2(i,o){return o=typeof o=="function"?o:n,wn(i,y,o)}function w2(i){return wn(i,g|y)}function b2(i,o){return o=typeof o=="function"?o:n,wn(i,g|y,o)}function v2(i,o){return o==null||$f(i,o,Pt(o))}function Cn(i,o){return i===o||i!==i&&o!==o}var p2=xo(Hu),S2=xo(function(i,o){return i>=o}),Hi=oa(function(){return arguments}())?oa:function(i){return yt(i)&&rt.call(i,"callee")&&!Uf.call(i,"callee")},Ke=Z.isArray,k2=Af?rn(Af):O0;function Jt(i){return i!=null&&tl(i.length)&&!$n(i)}function wt(i){return yt(i)&&Jt(i)}function E2(i){return i===!0||i===!1||yt(i)&&Vt(i)==_e}var bi=Wg||ws,C2=Mf?rn(Mf):z0;function A2(i){return yt(i)&&i.nodeType===1&&!Br(i)}function M2(i){if(i==null)return!0;if(Jt(i)&&(Ke(i)||typeof i=="string"||typeof i.splice=="function"||bi(i)||er(i)||Hi(i)))return!i.length;var o=Dt(i);if(o==ot||o==pt)return!i.size;if(Dr(i))return!Ru(i).length;for(var c in i)if(rt.call(i,c))return!1;return!0}function P2(i,o){return Nr(i,o)}function T2(i,o,c){c=typeof c=="function"?c:n;var _=c?c(i,o):n;return _===n?Nr(i,o,n,c):!!_}function ss(i){if(!yt(i))return!1;var o=Vt(i);return o==Ye||o==le||typeof i.message=="string"&&typeof i.name=="string"&&!Br(i)}function I2(i){return typeof i=="number"&&Gf(i)}function $n(i){if(!dt(i))return!1;var o=Vt(i);return o==nt||o==it||o==he||o==cn}function hc(i){return typeof i=="number"&&i==Ue(i)}function tl(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=G}function dt(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function yt(i){return i!=null&&typeof i=="object"}var gc=Pf?rn(Pf):N0;function O2(i,o){return i===o||Lu(i,o,ju(o))}function z2(i,o,c){return c=typeof c=="function"?c:n,Lu(i,o,ju(o),c)}function H2(i){return mc(i)&&i!=+i}function N2(i){if(ym(i))throw new Fe(u);return la(i)}function L2(i){return i===null}function R2(i){return i==null}function mc(i){return typeof i=="number"||yt(i)&&Vt(i)==$e}function Br(i){if(!yt(i)||Vt(i)!=kt)return!1;var o=Po(i);if(o===null)return!0;var c=rt.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Eo.call(c)==zg}var fs=Tf?rn(Tf):L0;function D2(i){return hc(i)&&i>=-G&&i<=G}var _c=If?rn(If):R0;function nl(i){return typeof i=="string"||!Ke(i)&&yt(i)&&Vt(i)==qt}function ln(i){return typeof i=="symbol"||yt(i)&&Vt(i)==dn}var er=Of?rn(Of):D0;function W2(i){return i===n}function B2(i){return yt(i)&&Dt(i)==At}function X2(i){return yt(i)&&Vt(i)==It}var Y2=xo(Du),F2=xo(function(i,o){return i<=o});function yc(i){if(!i)return[];if(Jt(i))return nl(i)?kn(i):Zt(i);if(Ar&&i[Ar])return vg(i[Ar]());var o=Dt(i),c=o==ot?Eu:o==pt?po:tr;return c(i)}function ei(i){if(!i)return i===0?i:0;if(i=pn(i),i===q||i===-q){var o=i<0?-1:1;return o*j}return i===i?i:0}function Ue(i){var o=ei(i),c=o%1;return o===o?c?o-c:o:0}function wc(i){return i?Ti(Ue(i),0,ae):0}function pn(i){if(typeof i=="number")return i;if(ln(i))return fe;if(dt(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=dt(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=Df(i);var c=U.test(i);return c||C1.test(i)?ig(i.slice(2),c?2:8):su.test(i)?fe:+i}function bc(i){return Wn(i,Qt(i))}function V2(i){return i?Ti(Ue(i),-G,G):i===0?i:0}function et(i){return i==null?"":on(i)}var K2=Qi(function(i,o){if(Dr(o)||Jt(o)){Wn(o,Pt(o),i);return}for(var c in o)rt.call(o,c)&&Or(i,c,o[c])}),vc=Qi(function(i,o){Wn(o,Qt(o),i)}),il=Qi(function(i,o,c,_){Wn(o,Qt(o),i,_)}),U2=Qi(function(i,o,c,_){Wn(o,Pt(o),i,_)}),x2=Qn(Iu);function G2(i,o){var c=Ji(i);return o==null?c:jf(c,o)}var q2=Ge(function(i,o){i=lt(i);var c=-1,_=o.length,b=_>2?o[2]:n;for(b&&Kt(o[0],o[1],b)&&(_=1);++c<_;)for(var E=o[c],N=Qt(E),D=-1,V=N.length;++D<V;){var ie=N[D],re=i[ie];(re===n||Cn(re,Gi[ie])&&!rt.call(i,ie))&&(i[ie]=E[ie])}return i}),Z2=Ge(function(i){return i.push(n,Da),nn(pc,n,i)});function J2(i,o){return Hf(i,Ne(o,3),Dn)}function Q2(i,o){return Hf(i,Ne(o,3),zu)}function j2(i,o){return i==null?i:Ou(i,Ne(o,3),Qt)}function $2(i,o){return i==null?i:ia(i,Ne(o,3),Qt)}function ey(i,o){return i&&Dn(i,Ne(o,3))}function ty(i,o){return i&&zu(i,Ne(o,3))}function ny(i){return i==null?[]:Wo(i,Pt(i))}function iy(i){return i==null?[]:Wo(i,Qt(i))}function as(i,o,c){var _=i==null?n:Ii(i,o);return _===n?c:_}function ry(i,o){return i!=null&&Xa(i,o,M0)}function cs(i,o){return i!=null&&Xa(i,o,P0)}var oy=za(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=Co.call(o)),i[o]=c},hs(jt)),ly=za(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=Co.call(o)),rt.call(i,o)?i[o].push(c):i[o]=[c]},Ne),uy=Ge(Hr);function Pt(i){return Jt(i)?Jf(i):Ru(i)}function Qt(i){return Jt(i)?Jf(i,!0):W0(i)}function sy(i,o){var c={};return o=Ne(o,3),Dn(i,function(_,b,E){Zn(c,o(_,b,E),_)}),c}function fy(i,o){var c={};return o=Ne(o,3),Dn(i,function(_,b,E){Zn(c,b,o(_,b,E))}),c}var ay=Qi(function(i,o,c){Bo(i,o,c)}),pc=Qi(function(i,o,c,_){Bo(i,o,c,_)}),cy=Qn(function(i,o){var c={};if(i==null)return c;var _=!1;o=at(o,function(E){return E=yi(E,i),_||(_=E.length>1),E}),Wn(i,Ju(i),c),_&&(c=wn(c,g|m|y,om));for(var b=o.length;b--;)Fu(c,o[b]);return c});function dy(i,o){return Sc(i,el(Ne(o)))}var hy=Qn(function(i,o){return i==null?{}:X0(i,o)});function Sc(i,o){if(i==null)return{};var c=at(Ju(i),function(_){return[_]});return o=Ne(o),ha(i,c,function(_,b){return o(_,b[0])})}function gy(i,o,c){o=yi(o,i);var _=-1,b=o.length;for(b||(b=1,i=n);++_<b;){var E=i==null?n:i[Bn(o[_])];E===n&&(_=b,E=c),i=$n(E)?E.call(i):E}return i}function my(i,o,c){return i==null?i:Lr(i,o,c)}function _y(i,o,c,_){return _=typeof _=="function"?_:n,i==null?i:Lr(i,o,c,_)}var kc=La(Pt),Ec=La(Qt);function yy(i,o,c){var _=Ke(i),b=_||bi(i)||er(i);if(o=Ne(o,4),c==null){var E=i&&i.constructor;b?c=_?new E:[]:dt(i)?c=$n(E)?Ji(Po(i)):{}:c={}}return(b?mn:Dn)(i,function(N,D,V){return o(c,N,D,V)}),c}function wy(i,o){return i==null?!0:Fu(i,o)}function by(i,o,c){return i==null?i:wa(i,o,Uu(c))}function vy(i,o,c,_){return _=typeof _=="function"?_:n,i==null?i:wa(i,o,Uu(c),_)}function tr(i){return i==null?[]:ku(i,Pt(i))}function py(i){return i==null?[]:ku(i,Qt(i))}function Sy(i,o,c){return c===n&&(c=o,o=n),c!==n&&(c=pn(c),c=c===c?c:0),o!==n&&(o=pn(o),o=o===o?o:0),Ti(pn(i),o,c)}function ky(i,o,c){return o=ei(o),c===n?(c=o,o=0):c=ei(c),i=pn(i),T0(i,o,c)}function Ey(i,o,c){if(c&&typeof c!="boolean"&&Kt(i,o,c)&&(o=c=n),c===n&&(typeof o=="boolean"?(c=o,o=n):typeof i=="boolean"&&(c=i,i=n)),i===n&&o===n?(i=0,o=1):(i=ei(i),o===n?(o=i,i=0):o=ei(o)),i>o){var _=i;i=o,o=_}if(c||i%1||o%1){var b=qf();return Rt(i+b*(o-i+ng("1e-"+((b+"").length-1))),o)}return Bu(i,o)}var Cy=ji(function(i,o,c){return o=o.toLowerCase(),i+(c?Cc(o):o)});function Cc(i){return ds(et(i).toLowerCase())}function Ac(i){return i=et(i),i&&i.replace(M1,mg).replace(x1,"")}function Ay(i,o,c){i=et(i),o=on(o);var _=i.length;c=c===n?_:Ti(Ue(c),0,_);var b=c;return c-=o.length,c>=0&&i.slice(c,b)==o}function My(i){return i=et(i),i&&Gl.test(i)?i.replace(Yi,_g):i}function Py(i){return i=et(i),i&&$l.test(i)?i.replace(kr,"\\$&"):i}var Ty=ji(function(i,o,c){return i+(c?"-":"")+o.toLowerCase()}),Iy=ji(function(i,o,c){return i+(c?" ":"")+o.toLowerCase()}),Oy=Ta("toLowerCase");function zy(i,o,c){i=et(i),o=Ue(o);var _=o?Ui(i):0;if(!o||_>=o)return i;var b=(o-_)/2;return Uo(zo(b),c)+i+Uo(Oo(b),c)}function Hy(i,o,c){i=et(i),o=Ue(o);var _=o?Ui(i):0;return o&&_<o?i+Uo(o-_,c):i}function Ny(i,o,c){i=et(i),o=Ue(o);var _=o?Ui(i):0;return o&&_<o?Uo(o-_,c)+i:i}function Ly(i,o,c){return c||o==null?o=0:o&&(o=+o),Fg(et(i).replace(Er,""),o||0)}function Ry(i,o,c){return(c?Kt(i,o,c):o===n)?o=1:o=Ue(o),Xu(et(i),o)}function Dy(){var i=arguments,o=et(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var Wy=ji(function(i,o,c){return i+(c?"_":"")+o.toLowerCase()});function By(i,o,c){return c&&typeof c!="number"&&Kt(i,o,c)&&(o=c=n),c=c===n?ae:c>>>0,c?(i=et(i),i&&(typeof o=="string"||o!=null&&!fs(o))&&(o=on(o),!o&&Ki(i))?wi(kn(i),0,c):i.split(o,c)):[]}var Xy=ji(function(i,o,c){return i+(c?" ":"")+ds(o)});function Yy(i,o,c){return i=et(i),c=c==null?0:Ti(Ue(c),0,i.length),o=on(o),i.slice(c,c+o.length)==o}function Fy(i,o,c){var _=S.templateSettings;c&&Kt(i,o,c)&&(o=n),i=et(i),o=il({},o,_,Ra);var b=il({},o.imports,_.imports,Ra),E=Pt(b),N=ku(b,E),D,V,ie=0,re=o.interpolate||_o,se="__p += '",me=Cu((o.escape||_o).source+"|"+re.source+"|"+(re===go?uu:_o).source+"|"+(o.evaluate||_o).source+"|$","g"),Ee="//# sourceURL="+(rt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Q1+"]")+`
`;i.replace(me,function(Re,qe,Je,un,Ut,sn){return Je||(Je=un),se+=i.slice(ie,sn).replace(P1,yg),qe&&(D=!0,se+=`' +
__e(`+qe+`) +
'`),Ut&&(V=!0,se+=`';
`+Ut+`;
__p += '`),Je&&(se+=`' +
((__t = (`+Je+`)) == null ? '' : __t) +
'`),ie=sn+Re.length,Re}),se+=`';
`;var Le=rt.call(o,"variable")&&o.variable;if(!Le)se=`with (obj) {
`+se+`
}
`;else if(ou.test(Le))throw new Fe(f);se=(V?se.replace(fi,""):se).replace(ai,"$1").replace(zt,"$1;"),se="function("+(Le||"obj")+`) {
`+(Le?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+se+`return __p
}`;var xe=Pc(function(){return Qe(E,Ee+"return "+se).apply(n,N)});if(xe.source=se,ss(xe))throw xe;return xe}function Vy(i){return et(i).toLowerCase()}function Ky(i){return et(i).toUpperCase()}function Uy(i,o,c){if(i=et(i),i&&(c||o===n))return Df(i);if(!i||!(o=on(o)))return i;var _=kn(i),b=kn(o),E=Wf(_,b),N=Bf(_,b)+1;return wi(_,E,N).join("")}function xy(i,o,c){if(i=et(i),i&&(c||o===n))return i.slice(0,Yf(i)+1);if(!i||!(o=on(o)))return i;var _=kn(i),b=Bf(_,kn(o))+1;return wi(_,0,b).join("")}function Gy(i,o,c){if(i=et(i),i&&(c||o===n))return i.replace(Er,"");if(!i||!(o=on(o)))return i;var _=kn(i),b=Wf(_,kn(o));return wi(_,b).join("")}function qy(i,o){var c=x,_=I;if(dt(o)){var b="separator"in o?o.separator:b;c="length"in o?Ue(o.length):c,_="omission"in o?on(o.omission):_}i=et(i);var E=i.length;if(Ki(i)){var N=kn(i);E=N.length}if(c>=E)return i;var D=c-Ui(_);if(D<1)return _;var V=N?wi(N,0,D).join(""):i.slice(0,D);if(b===n)return V+_;if(N&&(D+=V.length-D),fs(b)){if(i.slice(D).search(b)){var ie,re=V;for(b.global||(b=Cu(b.source,et(mo.exec(b))+"g")),b.lastIndex=0;ie=b.exec(re);)var se=ie.index;V=V.slice(0,se===n?D:se)}}else if(i.indexOf(on(b),D)!=D){var me=V.lastIndexOf(b);me>-1&&(V=V.slice(0,me))}return V+_}function Zy(i){return i=et(i),i&&xl.test(i)?i.replace(Sr,Eg):i}var Jy=ji(function(i,o,c){return i+(c?" ":"")+o.toUpperCase()}),ds=Ta("toUpperCase");function Mc(i,o,c){return i=et(i),o=c?n:o,o===n?bg(i)?Mg(i):ag(i):i.match(o)||[]}var Pc=Ge(function(i,o){try{return nn(i,n,o)}catch(c){return ss(c)?c:new Fe(c)}}),Qy=Qn(function(i,o){return mn(o,function(c){c=Bn(c),Zn(i,c,ls(i[c],i))}),i});function jy(i){var o=i==null?0:i.length,c=Ne();return i=o?at(i,function(_){if(typeof _[1]!="function")throw new _n(s);return[c(_[0]),_[1]]}):[],Ge(function(_){for(var b=-1;++b<o;){var E=i[b];if(nn(E[0],this,_))return nn(E[1],this,_)}})}function $y(i){return E0(wn(i,g))}function hs(i){return function(){return i}}function ew(i,o){return i==null||i!==i?o:i}var tw=Oa(),nw=Oa(!0);function jt(i){return i}function gs(i){return ua(typeof i=="function"?i:wn(i,g))}function iw(i){return fa(wn(i,g))}function rw(i,o){return aa(i,wn(o,g))}var ow=Ge(function(i,o){return function(c){return Hr(c,i,o)}}),lw=Ge(function(i,o){return function(c){return Hr(i,c,o)}});function ms(i,o,c){var _=Pt(o),b=Wo(o,_);c==null&&!(dt(o)&&(b.length||!_.length))&&(c=o,o=i,i=this,b=Wo(o,Pt(o)));var E=!(dt(c)&&"chain"in c)||!!c.chain,N=$n(i);return mn(b,function(D){var V=o[D];i[D]=V,N&&(i.prototype[D]=function(){var ie=this.__chain__;if(E||ie){var re=i(this.__wrapped__),se=re.__actions__=Zt(this.__actions__);return se.push({func:V,args:arguments,thisArg:i}),re.__chain__=ie,re}return V.apply(i,di([this.value()],arguments))})}),i}function uw(){return Ht._===this&&(Ht._=Hg),this}function _s(){}function sw(i){return i=Ue(i),Ge(function(o){return ca(o,i)})}var fw=Gu(at),aw=Gu(zf),cw=Gu(wu);function Tc(i){return es(i)?bu(Bn(i)):Y0(i)}function dw(i){return function(o){return i==null?n:Ii(i,o)}}var hw=Ha(),gw=Ha(!0);function ys(){return[]}function ws(){return!1}function mw(){return{}}function _w(){return""}function yw(){return!0}function ww(i,o){if(i=Ue(i),i<1||i>G)return[];var c=ae,_=Rt(i,ae);o=Ne(o),i-=ae;for(var b=Su(_,o);++c<i;)o(c);return b}function bw(i){return Ke(i)?at(i,Bn):ln(i)?[i]:Zt(Za(et(i)))}function vw(i){var o=++Og;return et(i)+o}var pw=Ko(function(i,o){return i+o},0),Sw=qu("ceil"),kw=Ko(function(i,o){return i/o},1),Ew=qu("floor");function Cw(i){return i&&i.length?Do(i,jt,Hu):n}function Aw(i,o){return i&&i.length?Do(i,Ne(o,2),Hu):n}function Mw(i){return Lf(i,jt)}function Pw(i,o){return Lf(i,Ne(o,2))}function Tw(i){return i&&i.length?Do(i,jt,Du):n}function Iw(i,o){return i&&i.length?Do(i,Ne(o,2),Du):n}var Ow=Ko(function(i,o){return i*o},1),zw=qu("round"),Hw=Ko(function(i,o){return i-o},0);function Nw(i){return i&&i.length?pu(i,jt):0}function Lw(i,o){return i&&i.length?pu(i,Ne(o,2)):0}return S.after=i2,S.ary=lc,S.assign=K2,S.assignIn=vc,S.assignInWith=il,S.assignWith=U2,S.at=x2,S.before=uc,S.bind=ls,S.bindAll=Qy,S.bindKey=sc,S.castArray=m2,S.chain=ic,S.chunk=Em,S.compact=Cm,S.concat=Am,S.cond=jy,S.conforms=$y,S.constant=hs,S.countBy=N_,S.create=G2,S.curry=fc,S.curryRight=ac,S.debounce=cc,S.defaults=q2,S.defaultsDeep=Z2,S.defer=r2,S.delay=o2,S.difference=Mm,S.differenceBy=Pm,S.differenceWith=Tm,S.drop=Im,S.dropRight=Om,S.dropRightWhile=zm,S.dropWhile=Hm,S.fill=Nm,S.filter=R_,S.flatMap=B_,S.flatMapDeep=X_,S.flatMapDepth=Y_,S.flatten=$a,S.flattenDeep=Lm,S.flattenDepth=Rm,S.flip=l2,S.flow=tw,S.flowRight=nw,S.fromPairs=Dm,S.functions=ny,S.functionsIn=iy,S.groupBy=F_,S.initial=Bm,S.intersection=Xm,S.intersectionBy=Ym,S.intersectionWith=Fm,S.invert=oy,S.invertBy=ly,S.invokeMap=K_,S.iteratee=gs,S.keyBy=U_,S.keys=Pt,S.keysIn=Qt,S.map=Qo,S.mapKeys=sy,S.mapValues=fy,S.matches=iw,S.matchesProperty=rw,S.memoize=$o,S.merge=ay,S.mergeWith=pc,S.method=ow,S.methodOf=lw,S.mixin=ms,S.negate=el,S.nthArg=sw,S.omit=cy,S.omitBy=dy,S.once=u2,S.orderBy=x_,S.over=fw,S.overArgs=s2,S.overEvery=aw,S.overSome=cw,S.partial=us,S.partialRight=dc,S.partition=G_,S.pick=hy,S.pickBy=Sc,S.property=Tc,S.propertyOf=dw,S.pull=xm,S.pullAll=tc,S.pullAllBy=Gm,S.pullAllWith=qm,S.pullAt=Zm,S.range=hw,S.rangeRight=gw,S.rearg=f2,S.reject=J_,S.remove=Jm,S.rest=a2,S.reverse=rs,S.sampleSize=j_,S.set=my,S.setWith=_y,S.shuffle=$_,S.slice=Qm,S.sortBy=n2,S.sortedUniq=r_,S.sortedUniqBy=o_,S.split=By,S.spread=c2,S.tail=l_,S.take=u_,S.takeRight=s_,S.takeRightWhile=f_,S.takeWhile=a_,S.tap=C_,S.throttle=d2,S.thru=Jo,S.toArray=yc,S.toPairs=kc,S.toPairsIn=Ec,S.toPath=bw,S.toPlainObject=bc,S.transform=yy,S.unary=h2,S.union=c_,S.unionBy=d_,S.unionWith=h_,S.uniq=g_,S.uniqBy=m_,S.uniqWith=__,S.unset=wy,S.unzip=os,S.unzipWith=nc,S.update=by,S.updateWith=vy,S.values=tr,S.valuesIn=py,S.without=y_,S.words=Mc,S.wrap=g2,S.xor=w_,S.xorBy=b_,S.xorWith=v_,S.zip=p_,S.zipObject=S_,S.zipObjectDeep=k_,S.zipWith=E_,S.entries=kc,S.entriesIn=Ec,S.extend=vc,S.extendWith=il,ms(S,S),S.add=pw,S.attempt=Pc,S.camelCase=Cy,S.capitalize=Cc,S.ceil=Sw,S.clamp=Sy,S.clone=_2,S.cloneDeep=w2,S.cloneDeepWith=b2,S.cloneWith=y2,S.conformsTo=v2,S.deburr=Ac,S.defaultTo=ew,S.divide=kw,S.endsWith=Ay,S.eq=Cn,S.escape=My,S.escapeRegExp=Py,S.every=L_,S.find=D_,S.findIndex=Qa,S.findKey=J2,S.findLast=W_,S.findLastIndex=ja,S.findLastKey=Q2,S.floor=Ew,S.forEach=rc,S.forEachRight=oc,S.forIn=j2,S.forInRight=$2,S.forOwn=ey,S.forOwnRight=ty,S.get=as,S.gt=p2,S.gte=S2,S.has=ry,S.hasIn=cs,S.head=ec,S.identity=jt,S.includes=V_,S.indexOf=Wm,S.inRange=ky,S.invoke=uy,S.isArguments=Hi,S.isArray=Ke,S.isArrayBuffer=k2,S.isArrayLike=Jt,S.isArrayLikeObject=wt,S.isBoolean=E2,S.isBuffer=bi,S.isDate=C2,S.isElement=A2,S.isEmpty=M2,S.isEqual=P2,S.isEqualWith=T2,S.isError=ss,S.isFinite=I2,S.isFunction=$n,S.isInteger=hc,S.isLength=tl,S.isMap=gc,S.isMatch=O2,S.isMatchWith=z2,S.isNaN=H2,S.isNative=N2,S.isNil=R2,S.isNull=L2,S.isNumber=mc,S.isObject=dt,S.isObjectLike=yt,S.isPlainObject=Br,S.isRegExp=fs,S.isSafeInteger=D2,S.isSet=_c,S.isString=nl,S.isSymbol=ln,S.isTypedArray=er,S.isUndefined=W2,S.isWeakMap=B2,S.isWeakSet=X2,S.join=Vm,S.kebabCase=Ty,S.last=vn,S.lastIndexOf=Km,S.lowerCase=Iy,S.lowerFirst=Oy,S.lt=Y2,S.lte=F2,S.max=Cw,S.maxBy=Aw,S.mean=Mw,S.meanBy=Pw,S.min=Tw,S.minBy=Iw,S.stubArray=ys,S.stubFalse=ws,S.stubObject=mw,S.stubString=_w,S.stubTrue=yw,S.multiply=Ow,S.nth=Um,S.noConflict=uw,S.noop=_s,S.now=jo,S.pad=zy,S.padEnd=Hy,S.padStart=Ny,S.parseInt=Ly,S.random=Ey,S.reduce=q_,S.reduceRight=Z_,S.repeat=Ry,S.replace=Dy,S.result=gy,S.round=zw,S.runInContext=F,S.sample=Q_,S.size=e2,S.snakeCase=Wy,S.some=t2,S.sortedIndex=jm,S.sortedIndexBy=$m,S.sortedIndexOf=e_,S.sortedLastIndex=t_,S.sortedLastIndexBy=n_,S.sortedLastIndexOf=i_,S.startCase=Xy,S.startsWith=Yy,S.subtract=Hw,S.sum=Nw,S.sumBy=Lw,S.template=Fy,S.times=ww,S.toFinite=ei,S.toInteger=Ue,S.toLength=wc,S.toLower=Vy,S.toNumber=pn,S.toSafeInteger=V2,S.toString=et,S.toUpper=Ky,S.trim=Uy,S.trimEnd=xy,S.trimStart=Gy,S.truncate=qy,S.unescape=Zy,S.uniqueId=vw,S.upperCase=Jy,S.upperFirst=ds,S.each=rc,S.eachRight=oc,S.first=ec,ms(S,function(){var i={};return Dn(S,function(o,c){rt.call(S.prototype,c)||(i[c]=o)}),i}(),{chain:!1}),S.VERSION=r,mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){S[i].placeholder=S}),mn(["drop","take"],function(i,o){Ze.prototype[i]=function(c){c=c===n?1:Ct(Ue(c),0);var _=this.__filtered__&&!o?new Ze(this):this.clone();return _.__filtered__?_.__takeCount__=Rt(c,_.__takeCount__):_.__views__.push({size:Rt(c,ae),type:i+(_.__dir__<0?"Right":"")}),_},Ze.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),mn(["filter","map","takeWhile"],function(i,o){var c=o+1,_=c==T||c==Y;Ze.prototype[i]=function(b){var E=this.clone();return E.__iteratees__.push({iteratee:Ne(b,3),type:c}),E.__filtered__=E.__filtered__||_,E}}),mn(["head","last"],function(i,o){var c="take"+(o?"Right":"");Ze.prototype[i]=function(){return this[c](1).value()[0]}}),mn(["initial","tail"],function(i,o){var c="drop"+(o?"":"Right");Ze.prototype[i]=function(){return this.__filtered__?new Ze(this):this[c](1)}}),Ze.prototype.compact=function(){return this.filter(jt)},Ze.prototype.find=function(i){return this.filter(i).head()},Ze.prototype.findLast=function(i){return this.reverse().find(i)},Ze.prototype.invokeMap=Ge(function(i,o){return typeof i=="function"?new Ze(this):this.map(function(c){return Hr(c,i,o)})}),Ze.prototype.reject=function(i){return this.filter(el(Ne(i)))},Ze.prototype.slice=function(i,o){i=Ue(i);var c=this;return c.__filtered__&&(i>0||o<0)?new Ze(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),o!==n&&(o=Ue(o),c=o<0?c.dropRight(-o):c.take(o-i)),c)},Ze.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Ze.prototype.toArray=function(){return this.take(ae)},Dn(Ze.prototype,function(i,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),_=/^(?:head|last)$/.test(o),b=S[_?"take"+(o=="last"?"Right":""):o],E=_||/^find/.test(o);b&&(S.prototype[o]=function(){var N=this.__wrapped__,D=_?[1]:arguments,V=N instanceof Ze,ie=D[0],re=V||Ke(N),se=function(qe){var Je=b.apply(S,di([qe],D));return _&&me?Je[0]:Je};re&&c&&typeof ie=="function"&&ie.length!=1&&(V=re=!1);var me=this.__chain__,Ee=!!this.__actions__.length,Le=E&&!me,xe=V&&!Ee;if(!E&&re){N=xe?N:new Ze(this);var Re=i.apply(N,D);return Re.__actions__.push({func:Jo,args:[se],thisArg:n}),new yn(Re,me)}return Le&&xe?i.apply(this,D):(Re=this.thru(se),Le?_?Re.value()[0]:Re.value():Re)})}),mn(["pop","push","shift","sort","splice","unshift"],function(i){var o=So[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",_=/^(?:pop|shift)$/.test(i);S.prototype[i]=function(){var b=arguments;if(_&&!this.__chain__){var E=this.value();return o.apply(Ke(E)?E:[],b)}return this[c](function(N){return o.apply(Ke(N)?N:[],b)})}}),Dn(Ze.prototype,function(i,o){var c=S[o];if(c){var _=c.name+"";rt.call(Zi,_)||(Zi[_]=[]),Zi[_].push({name:o,func:c})}}),Zi[Vo(n,w).name]=[{name:"wrapper",func:n}],Ze.prototype.clone=Zg,Ze.prototype.reverse=Jg,Ze.prototype.value=Qg,S.prototype.at=A_,S.prototype.chain=M_,S.prototype.commit=P_,S.prototype.next=T_,S.prototype.plant=O_,S.prototype.reverse=z_,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=H_,S.prototype.first=S.prototype.head,Ar&&(S.prototype[Ar]=I_),S},xi=Pg();Ci?((Ci.exports=xi)._=xi,gu._=xi):Ht._=xi}).call(Fr)})(Nl,Nl.exports);var iS=Nl.exports;const rh=O7(iS);function rS(t,e,n){const r=t.slice();return r[18]=e[n][0],r[19]=e[n][1],r}function oS(t,e,n){const r=t.slice();return r[18]=e[n][0],r[19]=e[n][1],r}function lS(t,e){let n,r,l;return r=new k1({props:{id:e[18],type:_r.ArrowClosed}}),{key:t,first:null,c(){n=_t(),be(r.$$.fragment),this.first=n},m(u,s){ee(u,n,s),ye(r,u,s),l=!0},p:Me,i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){ne(r.$$.fragment,u),l=!1},d(u){u&&$(n),we(r,u)}}}function uS(t,e){let n,r,l;return r=new k1({props:{id:e[18]+"line",type:_r.ArrowClosed}}),{key:t,first:null,c(){n=_t(),be(r.$$.fragment),this.first=n},m(u,s){ee(u,n,s),ye(r,u,s),l=!0},p:Me,i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){ne(r.$$.fragment,u),l=!1},d(u){u&&$(n),we(r,u)}}}function sS(t){let e;return{c(){e=Gt("")},m(n,r){ee(n,e,r)},d(n){n&&$(e)}}}function fS(t){let e;return{c(){e=Gt("")},m(n,r){ee(n,e,r)},d(n){n&&$(e)}}}function aS(t){let e,n,r,l;return e=new br({props:{$$slots:{default:[sS]},$$scope:{ctx:t}}}),e.$on("click",t[11]),r=new br({props:{$$slots:{default:[fS]},$$scope:{ctx:t}}}),r.$on("click",t[12]),{c(){be(e.$$.fragment),n=He(),be(r.$$.fragment)},m(u,s){ye(e,u,s),ee(u,n,s),ye(r,u,s),l=!0},p(u,s){const f={};s&16777216&&(f.$$scope={dirty:s,ctx:u}),e.$set(f);const a={};s&16777216&&(a.$$scope={dirty:s,ctx:u}),r.$set(a)},i(u){l||(J(e.$$.fragment,u),J(r.$$.fragment,u),l=!0)},o(u){ne(e.$$.fragment,u),ne(r.$$.fragment,u),l=!1},d(u){u&&$(n),we(e,u),we(r,u)}}}function cS(t){let e,n,r;return{c(){e=ze("a"),e.textContent="GitHub",n=ze("br"),r=Gt(" 2024 Craig Anderson"),A(e,"href","https://github.com/theonlytechnohead/patchcanvas")},m(l,u){ee(l,e,u),ee(l,n,u),ee(l,r,u)},p:Me,d(l){l&&($(e),$(n),$(r))}}}function dS(t){let e,n;return e=new B7({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function hS(t){let e=[],n=new Map,r,l=[],u=new Map,s,f,a,d,h,g,m,y,v,p,M,w=Tt(Hl);const z=P=>P[19][1];for(let P=0;P<w.length;P+=1){let O=oS(t,w,P),H=z(O);n.set(H,e[P]=lS(H,O))}let k=Tt(Hl);const C=P=>P[19][1];for(let P=0;P<k.length;P+=1){let O=rS(t,k,P),H=C(O);u.set(H,l[P]=uS(H,O))}return f=new G8({props:{variant:oi.Dots}}),d=new i7({props:{position:"top-right",pannable:!1,zoomable:!1,width:visualViewport!=null&&visualViewport.width?(visualViewport==null?void 0:visualViewport.width)/10:void 0,height:visualViewport!=null&&visualViewport.height?(visualViewport==null?void 0:visualViewport.height)/10:void 0}}),g=new z8({props:{position:"bottom-right",showFitView:!1,showLock:!1,$$slots:{default:[aS]},$$scope:{ctx:t}}}),y=new oo({props:{position:"bottom-left",$$slots:{default:[cS]},$$scope:{ctx:t}}}),p=new oo({props:{position:"top-left",$$slots:{default:[dS]},$$scope:{ctx:t}}}),{c(){for(let P=0;P<e.length;P+=1)e[P].c();r=He();for(let P=0;P<l.length;P+=1)l[P].c();s=He(),be(f.$$.fragment),a=He(),be(d.$$.fragment),h=He(),be(g.$$.fragment),m=He(),be(y.$$.fragment),v=He(),be(p.$$.fragment)},m(P,O){for(let H=0;H<e.length;H+=1)e[H]&&e[H].m(P,O);ee(P,r,O);for(let H=0;H<l.length;H+=1)l[H]&&l[H].m(P,O);ee(P,s,O),ye(f,P,O),ee(P,a,O),ye(d,P,O),ee(P,h,O),ye(g,P,O),ee(P,m,O),ye(y,P,O),ee(P,v,O),ye(p,P,O),M=!0},p(P,O){const H={};O&16777217&&(H.$$scope={dirty:O,ctx:P}),g.$set(H);const L={};O&16777216&&(L.$$scope={dirty:O,ctx:P}),y.$set(L);const W={};O&16777216&&(W.$$scope={dirty:O,ctx:P}),p.$set(W)},i(P){if(!M){for(let O=0;O<w.length;O+=1)J(e[O]);for(let O=0;O<k.length;O+=1)J(l[O]);J(f.$$.fragment,P),J(d.$$.fragment,P),J(g.$$.fragment,P),J(y.$$.fragment,P),J(p.$$.fragment,P),M=!0}},o(P){for(let O=0;O<e.length;O+=1)ne(e[O]);for(let O=0;O<l.length;O+=1)ne(l[O]);ne(f.$$.fragment,P),ne(d.$$.fragment,P),ne(g.$$.fragment,P),ne(y.$$.fragment,P),ne(p.$$.fragment,P),M=!1},d(P){P&&($(r),$(s),$(a),$(h),$(m),$(v));for(let O=0;O<e.length;O+=1)e[O].d(P);for(let O=0;O<l.length;O+=1)l[O].d(P);we(f,P),we(d,P),we(g,P),we(y,P),we(p,P)}}}function gS(t){let e,n;return e=new eS({props:{slot:"connectionLine"}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p:Me,i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function mS(t){let e,n;return e=new r8({props:{nodes:t[3],nodeTypes:t[1],edges:t[4],edgeTypes:t[2],defaultEdgeOptions:t[5],isValidConnection:_S,snapGrid:[25,25],colorMode:t[0].theme,fitView:!0,fitViewOptions:t[6],minZoom:.75,maxZoom:10,onlyRenderVisibleElements:!0,attributionPosition:"top-right",deleteKey:"Delete",$$slots:{connectionLine:[gS],default:[hS]},$$scope:{ctx:t}}}),e.$on("dragover",t[7]),e.$on("drop",t[8]),e.$on("nodeclick",t[13]),e.$on("edgeclick",t[14]),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&1&&(u.colorMode=r[0].theme),l&16777217&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){ne(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function _S(t){return t.sourceHandle===t.targetHandle}function yS(t){var e;document.fullscreenElement||(e=document.querySelector('[media="screen"]'))==null||e.setAttribute("media","print")}function wS(t,e,n){var P;let r,l,u,s;de(t,On,O=>n(15,u=O)),de(t,Os,O=>n(0,s=O)),u.version!=vl?(console.log("Version mismatch: "+u.version+" != "+vl),u.nodes.length===Pn.length&&u.edges.length===Ks.length&&u.nodes.every((O,H,L)=>rh.isMatch(O,Pn[H]))&&u.edges.every((O,H,L)=>rh.isMatch(O,Ks[H]))?(console.log("Still default, updating without confirmation"),setTimeout(()=>{p1()},0)):(console.log("Edited, prompt for confirmation"),confirm(`Your canvas is out of date
Do you want to update to the latest version?
(v${u.version} -> v${vl})`))):console.log("Using latest save version: "+u.version),document.documentElement.setAttribute("data-theme",s.theme),(P=document.querySelector('meta[name="color-scheme"]'))==null||P.setAttribute("content",s.theme);const f={default:Z7},a={connection:F7},d=Ae(JSON.parse(JSON.stringify(ue(On).nodes)));de(t,d,O=>n(9,r=O));const h=Ae(JSON.parse(JSON.stringify(ue(On).edges)));de(t,h,O=>n(10,l=O));const g={animated:!1,type:"connection",class:""},m={padding:1,duration:1e3},{screenToFlowPosition:y}=u7(),v=O=>{if(O.preventDefault(),O.dataTransfer){const H=document.elementFromPoint(O.clientX,O.clientY);let L="";O.dataTransfer.types[0]==="application/patchcanvasnode"?L=".svelte-flow__pane, .svelte-flow__edge, .svelte-flow__node.group":O.dataTransfer.types[0].includes("patchcanvasprotocol/")?L=".drop-target":O.dataTransfer.types[0]==="application/patchcanvaseraser"&&(L=".svelte-flow__handle"),H!=null&&H.matches(L)?O.dataTransfer.dropEffect="move":O.dataTransfer.dropEffect="none"}},p=O=>{if(O.preventDefault(),!O.dataTransfer)return null;if(O.dataTransfer.types[0]==="application/patchcanvasnode"){const H=JSON.parse(O.dataTransfer.getData("application/patchcanvasnode"));M(H,O.clientX,O.clientY)}};function M(O,H,L){const W=y({x:H,y:L}),x={id:crypto.randomUUID().toString(),type:"default",position:W,connectable:!O.group,data:{label:"Unnamed "+(O.group?"group":"node"),group:O.group??!1,inputs:O.inputs??[],outputs:O.outputs??[]},class:O.group?"group":void 0,dragHandle:".drag-dots",origin:[.5,0]};r.push(x),r.sort((I,X)=>I.data.group?X.data.group?0:-1:X.data.group?1:0),d.set(r)}const w=function(){var O;(O=document.querySelector('[media="print"]'))==null||O.setAttribute("media","screen"),document.addEventListener("fullscreenchange",yS),document.documentElement.requestFullscreen()},z=()=>{var O;s.theme==="dark"?zn(Os,s.theme="light",s):zn(Os,s.theme="dark",s),document.documentElement.setAttribute("data-theme",s.theme),(O=document.querySelector('meta[name="color-scheme"]'))==null||O.setAttribute("content",s.theme)},k=O=>console.log("on node click",O.detail.node),C=O=>console.log("on edge click: ",O.detail.edge);return t.$$.update=()=>{t.$$.dirty&1536&&(zn(On,u.nodes=r,u),zn(On,u.edges=l,u))},[s,f,a,d,h,g,m,v,p,r,l,w,z,k,C]}class bS extends Ie{constructor(e){super(),Te(this,e,wS,mS,Oe,{})}}function oh(t,e,n){const r=t.slice();return r[1]=e[n],r}function lh(t,e){let n,r,l;return r=new bS({}),{key:t,first:null,c(){n=_t(),be(r.$$.fragment),this.first=n},m(u,s){ee(u,n,s),ye(r,u,s),l=!0},p(u,s){},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){ne(r.$$.fragment,u),l=!1},d(u){u&&$(n),we(r,u)}}}function vS(t){let e=[],n=new Map,r,l,u=Tt(t[0].uniqueFlow);const s=f=>f[1];for(let f=0;f<u.length;f+=1){let a=oh(t,u,f),d=s(a);n.set(d,e[f]=lh(d))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();r=_t()},m(f,a){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(f,a);ee(f,r,a),l=!0},p(f,a){a&1&&(u=Tt(f[0].uniqueFlow),gt(),e=Wi(e,a,s,0,f,u,n,r.parentNode,Di,lh,r,oh),mt())},i(f){if(!l){for(let a=0;a<u.length;a+=1)J(e[a]);l=!0}},o(f){for(let a=0;a<e.length;a+=1)ne(e[a]);l=!1},d(f){f&&$(r);for(let a=0;a<e.length;a+=1)e[a].d(f)}}}function pS(t){let e,n,r,l;return r=new u8({props:{$$slots:{default:[vS]},$$scope:{ctx:t}}}),{c(){e=ze("main"),n=ze("div"),be(r.$$.fragment),We(n,"height","100%")},m(u,s){ee(u,e,s),Ce(e,n),ye(r,n,null),l=!0},p(u,[s]){const f={};s&17&&(f.$$scope={dirty:s,ctx:u}),r.$set(f)},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){ne(r.$$.fragment,u),l=!1},d(u){u&&$(e),we(r)}}}function SS(t,e,n){let r;return de(t,On,l=>n(0,r=l)),[r]}class kS extends Ie{constructor(e){super(),Te(this,e,SS,pS,Oe,{})}}new kS({target:document.body});
