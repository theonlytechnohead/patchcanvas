var ib=Object.defineProperty;var rb=(t,e,n)=>e in t?ib(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Si=(t,e,n)=>rb(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Ne(){}function ot(t,e){for(const n in e)t[n]=e[n];return t}function N1(t){return t()}function $c(){return Object.create(null)}function At(t){t.forEach(N1)}function vt(t){return typeof t=="function"}function Ye(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function L1(t,e){return t!=t?e==e:t!==e}function ob(t){return Object.keys(t).length===0}function uo(t,...e){if(t==null){for(const i of e)i(void 0);return Ne}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function he(t){let e;return uo(t,n=>e=n)(),e}function be(t,e,n){t.$$.on_destroy.push(uo(e,n))}function xt(t,e,n,i){if(t){const o=D1(t,e,n,i);return t[0](o)}}function D1(t,e,n,i){return t[1]&&i?ot(n.ctx.slice(),t[1](i(e))):n.ctx}function Ft(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],a=Math.max(e.dirty.length,o.length);for(let u=0;u<a;u+=1)s[u]=e.dirty[u]|o[u];return s}return e.dirty|o}return e.dirty}function Vt(t,e,n,i,o,s){if(o){const a=D1(e,n,i,s);t.p(a,o)}}function Ut(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function _n(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function St(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function lb(t){const e={};for(const n in t)e[n]=!0;return e}function vr(t){return t??""}function di(t,e,n){return t.set(n),e}function $t(t){return t&&vt(t.destroy)?t.destroy:Ne}const sb=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ye(t,e){t.appendChild(e)}function oe(t,e,n){t.insertBefore(e,n||null)}function re(t){t.parentNode&&t.parentNode.removeChild(t)}function R1(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Ee(t){return document.createElement(t)}function Ge(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function nt(t){return document.createTextNode(t)}function Pe(){return nt(" ")}function Pt(){return nt("")}function We(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const ub=["width","height"];function kr(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&ub.indexOf(i)===-1?t[i]=e[i]:P(t,i,e[i])}function ed(t,e){for(const n in e)P(t,n,e[n])}function ab(t){return Array.from(t.childNodes)}function Xt(t,e){e=""+e,t.data!==e&&(t.data=e)}function Xe(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let vl;function fb(){if(vl===void 0){vl=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{vl=!0}}return vl}function cb(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=Ee("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=fb();let s;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=We(window,"message",a=>{a.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{s=We(i.contentWindow,"resize",e),e()}),ye(t,i),()=>{(o||s&&i.contentWindow)&&s(),re(i)}}function Ke(t,e,n){t.classList.toggle(e,!!n)}function db(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class hb{constructor(e=!1){Si(this,"is_svg",!1);Si(this,"e");Si(this,"n");Si(this,"t");Si(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Ge(n.nodeName):this.e=Ee(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)oe(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(re)}}function zl(t,e){return new t(e)}let ao;function oo(t){ao=t}function Lr(){if(!ao)throw new Error("Function called outside component initialization");return ao}function Dr(t){Lr().$$.on_mount.push(t)}function da(t){Lr().$$.on_destroy.push(t)}function Co(){const t=Lr();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=db(e,n,{cancelable:i});return o.slice().forEach(a=>{a.call(t,s)}),!s.defaultPrevented}return!0}}function fo(t,e){return Lr().$$.context.set(t,e),e}function co(t){return Lr().$$.context.get(t)}function gb(t){return Lr().$$.context.has(t)}function lt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const gr=[],Tn=[];let _r=[];const Qu=[],H1=Promise.resolve();let ju=!1;function z1(){ju||(ju=!0,H1.then(B1))}function Xk(){return z1(),H1}function Bl(t){_r.push(t)}function mb(t){Qu.push(t)}const Bu=new Set;let dr=0;function B1(){if(dr!==0)return;const t=ao;do{try{for(;dr<gr.length;){const e=gr[dr];dr++,oo(e),_b(e.$$)}}catch(e){throw gr.length=0,dr=0,e}for(oo(null),gr.length=0,dr=0;Tn.length;)Tn.pop()();for(let e=0;e<_r.length;e+=1){const n=_r[e];Bu.has(n)||(Bu.add(n),n())}_r.length=0}while(gr.length);for(;Qu.length;)Qu.pop()();ju=!1,Bu.clear(),oo(t)}function _b(t){if(t.fragment!==null){t.update(),At(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Bl)}}function yb(t){const e=[],n=[];_r.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),_r=e}const Ol=new Set;let Yi;function Ct(){Yi={r:0,c:[],p:Yi}}function Et(){Yi.r||At(Yi.c),Yi=Yi.p}function se(t,e){t&&t.i&&(Ol.delete(t),t.i(e))}function fe(t,e,n,i){if(t&&t.o){if(Ol.has(t))return;Ol.add(t),Yi.c.push(()=>{Ol.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function Dt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function wb(t,e){t.d(1),e.delete(t.key)}function Cr(t,e){fe(t,1,1,()=>{e.delete(t.key)})}function Fi(t,e,n,i,o,s,a,u,f,d,h,g){let m=t.length,y=s.length,v=m;const C={};for(;v--;)C[t[v].key]=v;const O=[],k=new Map,H=new Map,M=[];for(v=y;v--;){const p=g(o,s,v),N=n(p);let E=a.get(N);E?M.push(()=>E.p(p,e)):(E=d(N,p),E.c()),k.set(N,O[v]=E),N in C&&H.set(N,Math.abs(v-C[N]))}const B=new Set,A=new Set;function I(p){se(p,1),p.m(u,h),a.set(p.key,p),h=p.first,y--}for(;m&&y;){const p=O[y-1],N=t[m-1],E=p.key,W=N.key;p===N?(h=p.first,m--,y--):k.has(W)?!a.has(E)||B.has(E)?I(p):A.has(W)?m--:H.get(E)>H.get(W)?(A.add(E),I(p)):(B.add(W),m--):(f(N,a),m--)}for(;m--;){const p=t[m];k.has(p.key)||f(p,a)}for(;y;)I(O[y-1]);return At(M),O}function Gn(t,e){const n={},i={},o={$$scope:1};let s=t.length;for(;s--;){const a=t[s],u=e[s];if(u){for(const f in a)f in u||(i[f]=1);for(const f in u)o[f]||(n[f]=u[f],o[f]=1);t[s]=u}else for(const f in a)o[f]=1}for(const a in i)a in n||(n[a]=void 0);return n}function Er(t){return typeof t=="object"&&t!==null?t:{}}function bb(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Te(t){t&&t.c()}function Ae(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Bl(()=>{const s=t.$$.on_mount.map(N1).filter(vt);t.$$.on_destroy?t.$$.on_destroy.push(...s):At(s),t.$$.on_mount=[]}),o.forEach(Bl)}function Me(t,e){const n=t.$$;n.fragment!==null&&(yb(n.after_update),At(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pb(t,e){t.$$.dirty[0]===-1&&(gr.push(t),z1(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,n,i,o,s,a=null,u=[-1]){const f=ao;oo(t);const d=t.$$={fragment:null,ctx:[],props:s,update:Ne,not_equal:o,bound:$c(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:$c(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};a&&a(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},(g,m,...y)=>{const v=y.length?y[0]:m;return d.ctx&&o(d.ctx[g],d.ctx[g]=v)&&(!d.skip_bound&&d.bound[g]&&d.bound[g](v),h&&pb(t,g)),m}):[],d.update(),h=!0,At(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const g=ab(e.target);d.fragment&&d.fragment.l(g),g.forEach(re)}else d.fragment&&d.fragment.c();e.intro&&se(t.$$.fragment),Ae(t,e.target,e.anchor),B1()}oo(f)}class Be{constructor(){Si(this,"$$");Si(this,"$$set")}$destroy(){Me(this,1),this.$destroy=Ne}$on(e,n){if(!vt(n))return Ne;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!ob(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vb="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vb);const hr=[];function Mn(t,e){return{subscribe:He(t,e).subscribe}}function He(t,e=Ne){let n;const i=new Set;function o(u){if(Ye(t,u)&&(t=u,n)){const f=!hr.length;for(const d of i)d[1](),hr.push(d,t);if(f){for(let d=0;d<hr.length;d+=2)hr[d][0](hr[d+1]);hr.length=0}}}function s(u){o(u(t))}function a(u,f=Ne){const d=[u,f];return i.add(d),i.size===1&&(n=e(o,s)||Ne),u(t),()=>{i.delete(d),i.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:a}}function yr(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Mn(n,(a,u)=>{let f=!1;const d=[];let h=0,g=Ne;const m=()=>{if(h)return;g();const v=e(i?d[0]:d,a,u);s?a(v):g=vt(v)?v:Ne},y=o.map((v,C)=>uo(v,O=>{d[C]=O,h&=~(1<<C),f&&m()},()=>{h|=1<<C}));return f=!0,m(),function(){At(y),g(),f=!1}})}function ut(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=ut(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var kb={value:()=>{}};function $l(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Nl(n)}function Nl(t){this._=t}function Cb(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Nl.prototype=$l.prototype={constructor:Nl,on:function(t,e){var n=this._,i=Cb(t+"",n),o,s=-1,a=i.length;if(arguments.length<2){for(;++s<a;)if((o=(t=i[s]).type)&&(o=Eb(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<a;)if(o=(t=i[s]).type)n[o]=td(n[o],t.name,e);else if(e==null)for(o in n)n[o]=td(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Nl(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,o=s.length;i<o;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,s=i.length;o<s;++o)i[o].value.apply(e,n)}};function Eb(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function td(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=kb,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var $u="http://www.w3.org/1999/xhtml";const nd={svg:"http://www.w3.org/2000/svg",xhtml:$u,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function es(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),nd.hasOwnProperty(e)?{space:nd[e],local:t}:t}function Sb(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$u&&e.documentElement.namespaceURI===$u?e.createElement(t):e.createElementNS(n,t)}}function Ab(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function W1(t){var e=es(t);return(e.local?Ab:Sb)(e)}function Mb(){}function ha(t){return t==null?Mb:function(){return this.querySelector(t)}}function Tb(t){typeof t!="function"&&(t=ha(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],a=s.length,u=i[o]=new Array(a),f,d,h=0;h<a;++h)(f=s[h])&&(d=t.call(f,f.__data__,h,s))&&("__data__"in f&&(d.__data__=f.__data__),u[h]=d);return new yn(i,this._parents)}function Pb(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ib(){return[]}function Y1(t){return t==null?Ib:function(){return this.querySelectorAll(t)}}function Ob(t){return function(){return Pb(t.apply(this,arguments))}}function Nb(t){typeof t=="function"?t=Ob(t):t=Y1(t);for(var e=this._groups,n=e.length,i=[],o=[],s=0;s<n;++s)for(var a=e[s],u=a.length,f,d=0;d<u;++d)(f=a[d])&&(i.push(t.call(f,f.__data__,d,a)),o.push(f));return new yn(i,o)}function X1(t){return function(){return this.matches(t)}}function x1(t){return function(e){return e.matches(t)}}var Lb=Array.prototype.find;function Db(t){return function(){return Lb.call(this.children,t)}}function Rb(){return this.firstElementChild}function Hb(t){return this.select(t==null?Rb:Db(typeof t=="function"?t:x1(t)))}var zb=Array.prototype.filter;function Bb(){return Array.from(this.children)}function Wb(t){return function(){return zb.call(this.children,t)}}function Yb(t){return this.selectAll(t==null?Bb:Wb(typeof t=="function"?t:x1(t)))}function Xb(t){typeof t!="function"&&(t=X1(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],a=s.length,u=i[o]=[],f,d=0;d<a;++d)(f=s[d])&&t.call(f,f.__data__,d,s)&&u.push(f);return new yn(i,this._parents)}function F1(t){return new Array(t.length)}function xb(){return new yn(this._enter||this._groups.map(F1),this._parents)}function Wl(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Wl.prototype={constructor:Wl,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Fb(t){return function(){return t}}function Vb(t,e,n,i,o,s){for(var a=0,u,f=e.length,d=s.length;a<d;++a)(u=e[a])?(u.__data__=s[a],i[a]=u):n[a]=new Wl(t,s[a]);for(;a<f;++a)(u=e[a])&&(o[a]=u)}function Ub(t,e,n,i,o,s,a){var u,f,d=new Map,h=e.length,g=s.length,m=new Array(h),y;for(u=0;u<h;++u)(f=e[u])&&(m[u]=y=a.call(f,f.__data__,u,e)+"",d.has(y)?o[u]=f:d.set(y,f));for(u=0;u<g;++u)y=a.call(t,s[u],u,s)+"",(f=d.get(y))?(i[u]=f,f.__data__=s[u],d.delete(y)):n[u]=new Wl(t,s[u]);for(u=0;u<h;++u)(f=e[u])&&d.get(m[u])===f&&(o[u]=f)}function Kb(t){return t.__data__}function Zb(t,e){if(!arguments.length)return Array.from(this,Kb);var n=e?Ub:Vb,i=this._parents,o=this._groups;typeof t!="function"&&(t=Fb(t));for(var s=o.length,a=new Array(s),u=new Array(s),f=new Array(s),d=0;d<s;++d){var h=i[d],g=o[d],m=g.length,y=Gb(t.call(h,h&&h.__data__,d,i)),v=y.length,C=u[d]=new Array(v),O=a[d]=new Array(v),k=f[d]=new Array(m);n(h,g,C,O,k,y,e);for(var H=0,M=0,B,A;H<v;++H)if(B=C[H]){for(H>=M&&(M=H+1);!(A=O[M])&&++M<v;);B._next=A||null}}return a=new yn(a,i),a._enter=u,a._exit=f,a}function Gb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qb(){return new yn(this._exit||this._groups.map(F1),this._parents)}function Jb(t,e,n){var i=this.enter(),o=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function Qb(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,s=i.length,a=Math.min(o,s),u=new Array(o),f=0;f<a;++f)for(var d=n[f],h=i[f],g=d.length,m=u[f]=new Array(g),y,v=0;v<g;++v)(y=d[v]||h[v])&&(m[v]=y);for(;f<o;++f)u[f]=n[f];return new yn(u,this._parents)}function jb(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,s=i[o],a;--o>=0;)(a=i[o])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function $b(t){t||(t=ep);function e(g,m){return g&&m?t(g.__data__,m.__data__):!g-!m}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var a=n[s],u=a.length,f=o[s]=new Array(u),d,h=0;h<u;++h)(d=a[h])&&(f[h]=d);f.sort(e)}return new yn(o,this._parents).order()}function ep(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function tp(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function np(){return Array.from(this)}function ip(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length;o<s;++o){var a=i[o];if(a)return a}return null}function rp(){let t=0;for(const e of this)++t;return t}function op(){return!this.node()}function lp(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],s=0,a=o.length,u;s<a;++s)(u=o[s])&&t.call(u,u.__data__,s,o);return this}function sp(t){return function(){this.removeAttribute(t)}}function up(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ap(t,e){return function(){this.setAttribute(t,e)}}function fp(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function cp(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function dp(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function hp(t,e){var n=es(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?up:sp:typeof e=="function"?n.local?dp:cp:n.local?fp:ap)(n,e))}function V1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function gp(t){return function(){this.style.removeProperty(t)}}function mp(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _p(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function yp(t,e,n){return arguments.length>1?this.each((e==null?gp:typeof e=="function"?_p:mp)(t,e,n??"")):Sr(this.node(),t)}function Sr(t,e){return t.style.getPropertyValue(e)||V1(t).getComputedStyle(t,null).getPropertyValue(e)}function wp(t){return function(){delete this[t]}}function bp(t,e){return function(){this[t]=e}}function pp(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function vp(t,e){return arguments.length>1?this.each((e==null?wp:typeof e=="function"?pp:bp)(t,e)):this.node()[t]}function U1(t){return t.trim().split(/^|\s+/)}function ga(t){return t.classList||new K1(t)}function K1(t){this._node=t,this._names=U1(t.getAttribute("class")||"")}K1.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Z1(t,e){for(var n=ga(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function G1(t,e){for(var n=ga(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function kp(t){return function(){Z1(this,t)}}function Cp(t){return function(){G1(this,t)}}function Ep(t,e){return function(){(e.apply(this,arguments)?Z1:G1)(this,t)}}function Sp(t,e){var n=U1(t+"");if(arguments.length<2){for(var i=ga(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Ep:e?kp:Cp)(n,e))}function Ap(){this.textContent=""}function Mp(t){return function(){this.textContent=t}}function Tp(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Pp(t){return arguments.length?this.each(t==null?Ap:(typeof t=="function"?Tp:Mp)(t)):this.node().textContent}function Ip(){this.innerHTML=""}function Op(t){return function(){this.innerHTML=t}}function Np(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Lp(t){return arguments.length?this.each(t==null?Ip:(typeof t=="function"?Np:Op)(t)):this.node().innerHTML}function Dp(){this.nextSibling&&this.parentNode.appendChild(this)}function Rp(){return this.each(Dp)}function Hp(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zp(){return this.each(Hp)}function Bp(t){var e=typeof t=="function"?t:W1(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Wp(){return null}function Yp(t,e){var n=typeof t=="function"?t:W1(t),i=e==null?Wp:typeof e=="function"?e:ha(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Xp(){var t=this.parentNode;t&&t.removeChild(this)}function xp(){return this.each(Xp)}function Fp(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vp(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Up(t){return this.select(t?Vp:Fp)}function Kp(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Zp(t){return function(e){t.call(this,e,this.__data__)}}function Gp(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function qp(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,s;n<o;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function Jp(t,e,n){return function(){var i=this.__on,o,s=Zp(e);if(i){for(var a=0,u=i.length;a<u;++a)if((o=i[a]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=e;return}}this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(o):this.__on=[o]}}function Qp(t,e,n){var i=Gp(t+""),o,s=i.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,d=u.length,h;f<d;++f)for(o=0,h=u[f];o<s;++o)if((a=i[o]).type===h.type&&a.name===h.name)return h.value}return}for(u=e?Jp:qp,o=0;o<s;++o)this.each(u(i[o],e,n));return this}function q1(t,e,n){var i=V1(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function jp(t,e){return function(){return q1(this,t,e)}}function $p(t,e){return function(){return q1(this,t,e.apply(this,arguments))}}function e4(t,e){return this.each((typeof e=="function"?$p:jp)(t,e))}function*t4(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&(yield a)}var J1=[null];function yn(t,e){this._groups=t,this._parents=e}function Eo(){return new yn([[document.documentElement]],J1)}function n4(){return this}yn.prototype=Eo.prototype={constructor:yn,select:Tb,selectAll:Nb,selectChild:Hb,selectChildren:Yb,filter:Xb,data:Zb,enter:xb,exit:qb,join:Jb,merge:Qb,selection:n4,order:jb,sort:$b,call:tp,nodes:np,node:ip,size:rp,empty:op,each:lp,attr:hp,style:yp,property:vp,classed:Sp,text:Pp,html:Lp,raise:Rp,lower:zp,append:Bp,insert:Yp,remove:xp,clone:Up,datum:Kp,on:Qp,dispatch:e4,[Symbol.iterator]:t4};function mn(t){return typeof t=="string"?new yn([[document.querySelector(t)]],[document.documentElement]):new yn([[t]],J1)}function i4(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Dn(t,e){if(t=i4(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const r4={passive:!1},ho={capture:!0,passive:!1};function Wu(t){t.stopImmediatePropagation()}function wr(t){t.preventDefault(),t.stopImmediatePropagation()}function Q1(t){var e=t.document.documentElement,n=mn(t).on("dragstart.drag",wr,ho);"onselectstart"in e?n.on("selectstart.drag",wr,ho):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function j1(t,e){var n=t.document.documentElement,i=mn(t).on("dragstart.drag",null);e&&(i.on("click.drag",wr,ho),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const kl=t=>()=>t;function ea(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:s,x:a,y:u,dx:f,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}ea.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function o4(t){return!t.ctrlKey&&!t.button}function l4(){return this.parentNode}function s4(t,e){return e??{x:t.x,y:t.y}}function u4(){return navigator.maxTouchPoints||"ontouchstart"in this}function $1(){var t=o4,e=l4,n=s4,i=u4,o={},s=$l("start","drag","end"),a=0,u,f,d,h,g=0;function m(B){B.on("mousedown.drag",y).filter(i).on("touchstart.drag",O).on("touchmove.drag",k,r4).on("touchend.drag touchcancel.drag",H).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(B,A){if(!(h||!t.call(this,B,A))){var I=M(this,e.call(this,B,A),B,A,"mouse");I&&(mn(B.view).on("mousemove.drag",v,ho).on("mouseup.drag",C,ho),Q1(B.view),Wu(B),d=!1,u=B.clientX,f=B.clientY,I("start",B))}}function v(B){if(wr(B),!d){var A=B.clientX-u,I=B.clientY-f;d=A*A+I*I>g}o.mouse("drag",B)}function C(B){mn(B.view).on("mousemove.drag mouseup.drag",null),j1(B.view,d),wr(B),o.mouse("end",B)}function O(B,A){if(t.call(this,B,A)){var I=B.changedTouches,p=e.call(this,B,A),N=I.length,E,W;for(E=0;E<N;++E)(W=M(this,p,B,A,I[E].identifier,I[E]))&&(Wu(B),W("start",B,I[E]))}}function k(B){var A=B.changedTouches,I=A.length,p,N;for(p=0;p<I;++p)(N=o[A[p].identifier])&&(wr(B),N("drag",B,A[p]))}function H(B){var A=B.changedTouches,I=A.length,p,N;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),p=0;p<I;++p)(N=o[A[p].identifier])&&(Wu(B),N("end",B,A[p]))}function M(B,A,I,p,N,E){var W=s.copy(),D=Dn(E||I,A),S,Y,w;if((w=n.call(B,new ea("beforestart",{sourceEvent:I,target:m,identifier:N,active:a,x:D[0],y:D[1],dx:0,dy:0,dispatch:W}),p))!=null)return S=w.x-D[0]||0,Y=w.y-D[1]||0,function X(R,V,G){var Z=D,ie;switch(R){case"start":o[N]=X,ie=a++;break;case"end":delete o[N],--a;case"drag":D=Dn(G||V,A),ie=a;break}W.call(R,B,new ea(R,{sourceEvent:V,subject:w,target:m,identifier:N,active:ie,x:D[0]+S,y:D[1]+Y,dx:D[0]-Z[0],dy:D[1]-Z[1],dispatch:W}),p)}}return m.filter=function(B){return arguments.length?(t=typeof B=="function"?B:kl(!!B),m):t},m.container=function(B){return arguments.length?(e=typeof B=="function"?B:kl(B),m):e},m.subject=function(B){return arguments.length?(n=typeof B=="function"?B:kl(B),m):n},m.touchable=function(B){return arguments.length?(i=typeof B=="function"?B:kl(!!B),m):i},m.on=function(){var B=s.on.apply(s,arguments);return B===s?m:B},m.clickDistance=function(B){return arguments.length?(g=(B=+B)*B,m):Math.sqrt(g)},m}function ma(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eh(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function So(){}var go=.7,Yl=1/go,br="\\s*([+-]?\\d+)\\s*",mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",a4=/^#([0-9a-f]{3,8})$/,f4=new RegExp(`^rgb\\(${br},${br},${br}\\)$`),c4=new RegExp(`^rgb\\(${Kn},${Kn},${Kn}\\)$`),d4=new RegExp(`^rgba\\(${br},${br},${br},${mo}\\)$`),h4=new RegExp(`^rgba\\(${Kn},${Kn},${Kn},${mo}\\)$`),g4=new RegExp(`^hsl\\(${mo},${Kn},${Kn}\\)$`),m4=new RegExp(`^hsla\\(${mo},${Kn},${Kn},${mo}\\)$`),id={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ma(So,_o,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rd,formatHex:rd,formatHex8:_4,formatHsl:y4,formatRgb:od,toString:od});function rd(){return this.rgb().formatHex()}function _4(){return this.rgb().formatHex8()}function y4(){return th(this).formatHsl()}function od(){return this.rgb().formatRgb()}function _o(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=a4.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ld(e):n===3?new sn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Cl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Cl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=f4.exec(t))?new sn(e[1],e[2],e[3],1):(e=c4.exec(t))?new sn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=d4.exec(t))?Cl(e[1],e[2],e[3],e[4]):(e=h4.exec(t))?Cl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=g4.exec(t))?ad(e[1],e[2]/100,e[3]/100,1):(e=m4.exec(t))?ad(e[1],e[2]/100,e[3]/100,e[4]):id.hasOwnProperty(t)?ld(id[t]):t==="transparent"?new sn(NaN,NaN,NaN,0):null}function ld(t){return new sn(t>>16&255,t>>8&255,t&255,1)}function Cl(t,e,n,i){return i<=0&&(t=e=n=NaN),new sn(t,e,n,i)}function w4(t){return t instanceof So||(t=_o(t)),t?(t=t.rgb(),new sn(t.r,t.g,t.b,t.opacity)):new sn}function ta(t,e,n,i){return arguments.length===1?w4(t):new sn(t,e,n,i??1)}function sn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}ma(sn,ta,eh(So,{brighter(t){return t=t==null?Yl:Math.pow(Yl,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?go:Math.pow(go,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sn(xi(this.r),xi(this.g),xi(this.b),Xl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sd,formatHex:sd,formatHex8:b4,formatRgb:ud,toString:ud}));function sd(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function b4(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function ud(){const t=Xl(this.opacity);return`${t===1?"rgb(":"rgba("}${xi(this.r)}, ${xi(this.g)}, ${xi(this.b)}${t===1?")":`, ${t})`}`}function Xl(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xi(t){return t=xi(t),(t<16?"0":"")+t.toString(16)}function ad(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rn(t,e,n,i)}function th(t){if(t instanceof Rn)return new Rn(t.h,t.s,t.l,t.opacity);if(t instanceof So||(t=_o(t)),!t)return new Rn;if(t instanceof Rn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),s=Math.max(e,n,i),a=NaN,u=s-o,f=(s+o)/2;return u?(e===s?a=(n-i)/u+(n<i)*6:n===s?a=(i-e)/u+2:a=(e-n)/u+4,u/=f<.5?s+o:2-s-o,a*=60):u=f>0&&f<1?0:a,new Rn(a,u,f,t.opacity)}function p4(t,e,n,i){return arguments.length===1?th(t):new Rn(t,e,n,i??1)}function Rn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}ma(Rn,p4,eh(So,{brighter(t){return t=t==null?Yl:Math.pow(Yl,t),new Rn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?go:Math.pow(go,t),new Rn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new sn(Yu(t>=240?t-240:t+120,o,i),Yu(t,o,i),Yu(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Rn(fd(this.h),El(this.s),El(this.l),Xl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Xl(this.opacity);return`${t===1?"hsl(":"hsla("}${fd(this.h)}, ${El(this.s)*100}%, ${El(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fd(t){return t=(t||0)%360,t<0?t+360:t}function El(t){return Math.max(0,Math.min(1,t||0))}function Yu(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const nh=t=>()=>t;function v4(t,e){return function(n){return t+n*e}}function k4(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function C4(t){return(t=+t)==1?ih:function(e,n){return n-e?k4(e,n,t):nh(isNaN(e)?n:e)}}function ih(t,e){var n=e-t;return n?v4(t,n):nh(isNaN(t)?e:t)}const cd=function t(e){var n=C4(e);function i(o,s){var a=n((o=ta(o)).r,(s=ta(s)).r),u=n(o.g,s.g),f=n(o.b,s.b),d=ih(o.opacity,s.opacity);return function(h){return o.r=a(h),o.g=u(h),o.b=f(h),o.opacity=d(h),o+""}}return i.gamma=t,i}(1);function Ti(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var na=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xu=new RegExp(na.source,"g");function E4(t){return function(){return t}}function S4(t){return function(e){return t(e)+""}}function A4(t,e){var n=na.lastIndex=Xu.lastIndex=0,i,o,s,a=-1,u=[],f=[];for(t=t+"",e=e+"";(i=na.exec(t))&&(o=Xu.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),u[a]?u[a]+=s:u[++a]=s),(i=i[0])===(o=o[0])?u[a]?u[a]+=o:u[++a]=o:(u[++a]=null,f.push({i:a,x:Ti(i,o)})),n=Xu.lastIndex;return n<e.length&&(s=e.slice(n),u[a]?u[a]+=s:u[++a]=s),u.length<2?f[0]?S4(f[0].x):E4(e):(e=f.length,function(d){for(var h=0,g;h<e;++h)u[(g=f[h]).i]=g.x(d);return u.join("")})}var dd=180/Math.PI,ia={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rh(t,e,n,i,o,s){var a,u,f;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),t*i<e*n&&(t=-t,e=-e,f=-f,a=-a),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*dd,skewX:Math.atan(f)*dd,scaleX:a,scaleY:u}}var Sl;function M4(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ia:rh(e.a,e.b,e.c,e.d,e.e,e.f)}function T4(t){return t==null||(Sl||(Sl=document.createElementNS("http://www.w3.org/2000/svg","g")),Sl.setAttribute("transform",t),!(t=Sl.transform.baseVal.consolidate()))?ia:(t=t.matrix,rh(t.a,t.b,t.c,t.d,t.e,t.f))}function oh(t,e,n,i){function o(d){return d.length?d.pop()+" ":""}function s(d,h,g,m,y,v){if(d!==g||h!==m){var C=y.push("translate(",null,e,null,n);v.push({i:C-4,x:Ti(d,g)},{i:C-2,x:Ti(h,m)})}else(g||m)&&y.push("translate("+g+e+m+n)}function a(d,h,g,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:g.push(o(g)+"rotate(",null,i)-2,x:Ti(d,h)})):h&&g.push(o(g)+"rotate("+h+i)}function u(d,h,g,m){d!==h?m.push({i:g.push(o(g)+"skewX(",null,i)-2,x:Ti(d,h)}):h&&g.push(o(g)+"skewX("+h+i)}function f(d,h,g,m,y,v){if(d!==g||h!==m){var C=y.push(o(y)+"scale(",null,",",null,")");v.push({i:C-4,x:Ti(d,g)},{i:C-2,x:Ti(h,m)})}else(g!==1||m!==1)&&y.push(o(y)+"scale("+g+","+m+")")}return function(d,h){var g=[],m=[];return d=t(d),h=t(h),s(d.translateX,d.translateY,h.translateX,h.translateY,g,m),a(d.rotate,h.rotate,g,m),u(d.skewX,h.skewX,g,m),f(d.scaleX,d.scaleY,h.scaleX,h.scaleY,g,m),d=h=null,function(y){for(var v=-1,C=m.length,O;++v<C;)g[(O=m[v]).i]=O.x(y);return g.join("")}}}var P4=oh(M4,"px, ","px)","deg)"),I4=oh(T4,", ",")",")"),O4=1e-12;function hd(t){return((t=Math.exp(t))+1/t)/2}function N4(t){return((t=Math.exp(t))-1/t)/2}function L4(t){return((t=Math.exp(2*t))-1)/(t+1)}const D4=function t(e,n,i){function o(s,a){var u=s[0],f=s[1],d=s[2],h=a[0],g=a[1],m=a[2],y=h-u,v=g-f,C=y*y+v*v,O,k;if(C<O4)k=Math.log(m/d)/e,O=function(p){return[u+p*y,f+p*v,d*Math.exp(e*p*k)]};else{var H=Math.sqrt(C),M=(m*m-d*d+i*C)/(2*d*n*H),B=(m*m-d*d-i*C)/(2*m*n*H),A=Math.log(Math.sqrt(M*M+1)-M),I=Math.log(Math.sqrt(B*B+1)-B);k=(I-A)/e,O=function(p){var N=p*k,E=hd(A),W=d/(n*H)*(E*L4(e*N+A)-N4(A));return[u+W*y,f+W*v,d*E/hd(e*N+A)]}}return O.duration=k*1e3*e/Math.SQRT2,O}return o.rho=function(s){var a=Math.max(.001,+s),u=a*a,f=u*u;return t(a,u,f)},o}(Math.SQRT2,2,4);var Ar=0,io=0,eo=0,lh=1e3,xl,ro,Fl=0,Vi=0,ts=0,yo=typeof performance=="object"&&performance.now?performance:Date,sh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _a(){return Vi||(sh(R4),Vi=yo.now()+ts)}function R4(){Vi=0}function Vl(){this._call=this._time=this._next=null}Vl.prototype=uh.prototype={constructor:Vl,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?_a():+n)+(e==null?0:+e),!this._next&&ro!==this&&(ro?ro._next=this:xl=this,ro=this),this._call=t,this._time=n,ra()},stop:function(){this._call&&(this._call=null,this._time=1/0,ra())}};function uh(t,e,n){var i=new Vl;return i.restart(t,e,n),i}function H4(){_a(),++Ar;for(var t=xl,e;t;)(e=Vi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ar}function gd(){Vi=(Fl=yo.now())+ts,Ar=io=0;try{H4()}finally{Ar=0,B4(),Vi=0}}function z4(){var t=yo.now(),e=t-Fl;e>lh&&(ts-=e,Fl=t)}function B4(){for(var t,e=xl,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:xl=n);ro=t,ra(i)}function ra(t){if(!Ar){io&&(io=clearTimeout(io));var e=t-Vi;e>24?(t<1/0&&(io=setTimeout(gd,t-yo.now()-ts)),eo&&(eo=clearInterval(eo))):(eo||(Fl=yo.now(),eo=setInterval(z4,lh)),Ar=1,sh(gd))}}function md(t,e,n){var i=new Vl;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var W4=$l("start","end","cancel","interrupt"),Y4=[],ah=0,_d=1,oa=2,Ll=3,yd=4,la=5,Dl=6;function ns(t,e,n,i,o,s){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;X4(t,n,{name:e,index:i,group:o,on:W4,tween:Y4,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:ah})}function ya(t,e){var n=zn(t,e);if(n.state>ah)throw new Error("too late; already scheduled");return n}function qn(t,e){var n=zn(t,e);if(n.state>Ll)throw new Error("too late; already running");return n}function zn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function X4(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=uh(s,0,n.time);function s(d){n.state=_d,n.timer.restart(a,n.delay,n.time),n.delay<=d&&a(d-n.delay)}function a(d){var h,g,m,y;if(n.state!==_d)return f();for(h in i)if(y=i[h],y.name===n.name){if(y.state===Ll)return md(a);y.state===yd?(y.state=Dl,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete i[h]):+h<e&&(y.state=Dl,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete i[h])}if(md(function(){n.state===Ll&&(n.state=yd,n.timer.restart(u,n.delay,n.time),u(d))}),n.state=oa,n.on.call("start",t,t.__data__,n.index,n.group),n.state===oa){for(n.state=Ll,o=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(y=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(o[++g]=y);o.length=g+1}}function u(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=la,1),g=-1,m=o.length;++g<m;)o[g].call(t,h);n.state===la&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Dl,n.timer.stop(),delete i[e];for(var d in i)return;delete t.__transition}}function Rl(t,e){var n=t.__transition,i,o,s=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((i=n[a]).name!==e){s=!1;continue}o=i.state>oa&&i.state<la,i.state=Dl,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[a]}s&&delete t.__transition}}function x4(t){return this.each(function(){Rl(this,t)})}function F4(t,e){var n,i;return function(){var o=qn(this,t),s=o.tween;if(s!==n){i=n=s;for(var a=0,u=i.length;a<u;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}o.tween=i}}function V4(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=qn(this,t),a=s.tween;if(a!==i){o=(i=a).slice();for(var u={name:e,value:n},f=0,d=o.length;f<d;++f)if(o[f].name===e){o[f]=u;break}f===d&&o.push(u)}s.tween=o}}function U4(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=zn(this.node(),n).tween,o=0,s=i.length,a;o<s;++o)if((a=i[o]).name===t)return a.value;return null}return this.each((e==null?F4:V4)(n,t,e))}function wa(t,e,n){var i=t._id;return t.each(function(){var o=qn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return zn(o,i).value[e]}}function fh(t,e){var n;return(typeof e=="number"?Ti:e instanceof _o?cd:(n=_o(e))?(e=n,cd):A4)(t,e)}function K4(t){return function(){this.removeAttribute(t)}}function Z4(t){return function(){this.removeAttributeNS(t.space,t.local)}}function G4(t,e,n){var i,o=n+"",s;return function(){var a=this.getAttribute(t);return a===o?null:a===i?s:s=e(i=a,n)}}function q4(t,e,n){var i,o=n+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?s:s=e(i=a,n)}}function J4(t,e,n){var i,o,s;return function(){var a,u=n(this),f;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),f=u+"",a===f?null:a===i&&f===o?s:(o=f,s=e(i=a,u)))}}function Q4(t,e,n){var i,o,s;return function(){var a,u=n(this),f;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),f=u+"",a===f?null:a===i&&f===o?s:(o=f,s=e(i=a,u)))}}function j4(t,e){var n=es(t),i=n==="transform"?I4:fh;return this.attrTween(t,typeof e=="function"?(n.local?Q4:J4)(n,i,wa(this,"attr."+t,e)):e==null?(n.local?Z4:K4)(n):(n.local?q4:G4)(n,i,e))}function $4(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ev(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function tv(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&ev(t,s)),n}return o._value=e,o}function nv(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&$4(t,s)),n}return o._value=e,o}function iv(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=es(t);return this.tween(n,(i.local?tv:nv)(i,e))}function rv(t,e){return function(){ya(this,t).delay=+e.apply(this,arguments)}}function ov(t,e){return e=+e,function(){ya(this,t).delay=e}}function lv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rv:ov)(e,t)):zn(this.node(),e).delay}function sv(t,e){return function(){qn(this,t).duration=+e.apply(this,arguments)}}function uv(t,e){return e=+e,function(){qn(this,t).duration=e}}function av(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sv:uv)(e,t)):zn(this.node(),e).duration}function fv(t,e){if(typeof e!="function")throw new Error;return function(){qn(this,t).ease=e}}function cv(t){var e=this._id;return arguments.length?this.each(fv(e,t)):zn(this.node(),e).ease}function dv(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;qn(this,t).ease=n}}function hv(t){if(typeof t!="function")throw new Error;return this.each(dv(this._id,t))}function gv(t){typeof t!="function"&&(t=X1(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],a=s.length,u=i[o]=[],f,d=0;d<a;++d)(f=s[d])&&t.call(f,f.__data__,d,s)&&u.push(f);return new hi(i,this._parents,this._name,this._id)}function mv(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var f=e[u],d=n[u],h=f.length,g=a[u]=new Array(h),m,y=0;y<h;++y)(m=f[y]||d[y])&&(g[y]=m);for(;u<i;++u)a[u]=e[u];return new hi(a,this._parents,this._name,this._id)}function _v(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function yv(t,e,n){var i,o,s=_v(e)?ya:qn;return function(){var a=s(this,t),u=a.on;u!==i&&(o=(i=u).copy()).on(e,n),a.on=o}}function wv(t,e){var n=this._id;return arguments.length<2?zn(this.node(),n).on.on(t):this.each(yv(n,t,e))}function bv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function pv(){return this.on("end.remove",bv(this._id))}function vv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ha(t));for(var i=this._groups,o=i.length,s=new Array(o),a=0;a<o;++a)for(var u=i[a],f=u.length,d=s[a]=new Array(f),h,g,m=0;m<f;++m)(h=u[m])&&(g=t.call(h,h.__data__,m,u))&&("__data__"in h&&(g.__data__=h.__data__),d[m]=g,ns(d[m],e,n,m,d,zn(h,n)));return new hi(s,this._parents,e,n)}function kv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Y1(t));for(var i=this._groups,o=i.length,s=[],a=[],u=0;u<o;++u)for(var f=i[u],d=f.length,h,g=0;g<d;++g)if(h=f[g]){for(var m=t.call(h,h.__data__,g,f),y,v=zn(h,n),C=0,O=m.length;C<O;++C)(y=m[C])&&ns(y,e,n,C,m,v);s.push(m),a.push(h)}return new hi(s,a,e,n)}var Cv=Eo.prototype.constructor;function Ev(){return new Cv(this._groups,this._parents)}function Sv(t,e){var n,i,o;return function(){var s=Sr(this,t),a=(this.style.removeProperty(t),Sr(this,t));return s===a?null:s===n&&a===i?o:o=e(n=s,i=a)}}function ch(t){return function(){this.style.removeProperty(t)}}function Av(t,e,n){var i,o=n+"",s;return function(){var a=Sr(this,t);return a===o?null:a===i?s:s=e(i=a,n)}}function Mv(t,e,n){var i,o,s;return function(){var a=Sr(this,t),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(t),Sr(this,t))),a===f?null:a===i&&f===o?s:(o=f,s=e(i=a,u))}}function Tv(t,e){var n,i,o,s="style."+e,a="end."+s,u;return function(){var f=qn(this,t),d=f.on,h=f.value[s]==null?u||(u=ch(e)):void 0;(d!==n||o!==h)&&(i=(n=d).copy()).on(a,o=h),f.on=i}}function Pv(t,e,n){var i=(t+="")=="transform"?P4:fh;return e==null?this.styleTween(t,Sv(t,i)).on("end.style."+t,ch(t)):typeof e=="function"?this.styleTween(t,Mv(t,i,wa(this,"style."+t,e))).each(Tv(this._id,t)):this.styleTween(t,Av(t,i,e),n).on("end.style."+t,null)}function Iv(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Ov(t,e,n){var i,o;function s(){var a=e.apply(this,arguments);return a!==o&&(i=(o=a)&&Iv(t,a,n)),i}return s._value=e,s}function Nv(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Ov(t,e,n??""))}function Lv(t){return function(){this.textContent=t}}function Dv(t){return function(){var e=t(this);this.textContent=e??""}}function Rv(t){return this.tween("text",typeof t=="function"?Dv(wa(this,"text",t)):Lv(t==null?"":t+""))}function Hv(t){return function(e){this.textContent=t.call(this,e)}}function zv(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Hv(o)),e}return i._value=t,i}function Bv(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,zv(t))}function Wv(){for(var t=this._name,e=this._id,n=dh(),i=this._groups,o=i.length,s=0;s<o;++s)for(var a=i[s],u=a.length,f,d=0;d<u;++d)if(f=a[d]){var h=zn(f,e);ns(f,t,n,d,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new hi(i,this._parents,t,n)}function Yv(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(s,a){var u={value:a},f={value:function(){--o===0&&s()}};n.each(function(){var d=qn(this,i),h=d.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(u),e._.interrupt.push(u),e._.end.push(f)),d.on=e}),o===0&&s()})}var Xv=0;function hi(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function dh(){return++Xv}var si=Eo.prototype;hi.prototype={constructor:hi,select:vv,selectAll:kv,selectChild:si.selectChild,selectChildren:si.selectChildren,filter:gv,merge:mv,selection:Ev,transition:Wv,call:si.call,nodes:si.nodes,node:si.node,size:si.size,empty:si.empty,each:si.each,on:wv,attr:j4,attrTween:iv,style:Pv,styleTween:Nv,text:Rv,textTween:Bv,remove:pv,tween:U4,delay:lv,duration:av,ease:cv,easeVarying:hv,end:Yv,[Symbol.iterator]:si[Symbol.iterator]};function xv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Fv={time:null,delay:0,duration:250,ease:xv};function Vv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Uv(t){var e,n;t instanceof hi?(e=t._id,t=t._name):(e=dh(),(n=Fv).time=_a(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var a=i[s],u=a.length,f,d=0;d<u;++d)(f=a[d])&&ns(f,t,e,d,a,n||Vv(f,e));return new hi(i,this._parents,t,e)}Eo.prototype.interrupt=x4;Eo.prototype.transition=Uv;const Al=t=>()=>t;function Kv(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function ai(t,e,n){this.k=t,this.x=e,this.y=n}ai.prototype={constructor:ai,scale:function(t){return t===1?this:new ai(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ai(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var is=new ai(1,0,0);hh.prototype=ai.prototype;function hh(t){for(;!t.__zoom;)if(!(t=t.parentNode))return is;return t.__zoom}function xu(t){t.stopImmediatePropagation()}function to(t){t.preventDefault(),t.stopImmediatePropagation()}function Zv(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Gv(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function wd(){return this.__zoom||is}function qv(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Jv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qv(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}function gh(){var t=Zv,e=Gv,n=Qv,i=qv,o=Jv,s=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,f=D4,d=$l("start","zoom","end"),h,g,m,y=500,v=150,C=0,O=10;function k(w){w.property("__zoom",wd).on("wheel.zoom",N,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",W).filter(o).on("touchstart.zoom",D).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(w,X,R,V){var G=w.selection?w.selection():w;G.property("__zoom",wd),w!==G?A(w,X,R,V):G.interrupt().each(function(){I(this,arguments).event(V).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},k.scaleBy=function(w,X,R,V){k.scaleTo(w,function(){var G=this.__zoom.k,Z=typeof X=="function"?X.apply(this,arguments):X;return G*Z},R,V)},k.scaleTo=function(w,X,R,V){k.transform(w,function(){var G=e.apply(this,arguments),Z=this.__zoom,ie=R==null?B(G):typeof R=="function"?R.apply(this,arguments):R,ce=Z.invert(ie),pe=typeof X=="function"?X.apply(this,arguments):X;return n(M(H(Z,pe),ie,ce),G,a)},R,V)},k.translateBy=function(w,X,R,V){k.transform(w,function(){return n(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof R=="function"?R.apply(this,arguments):R),e.apply(this,arguments),a)},null,V)},k.translateTo=function(w,X,R,V,G){k.transform(w,function(){var Z=e.apply(this,arguments),ie=this.__zoom,ce=V==null?B(Z):typeof V=="function"?V.apply(this,arguments):V;return n(is.translate(ce[0],ce[1]).scale(ie.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof R=="function"?-R.apply(this,arguments):-R),Z,a)},V,G)};function H(w,X){return X=Math.max(s[0],Math.min(s[1],X)),X===w.k?w:new ai(X,w.x,w.y)}function M(w,X,R){var V=X[0]-R[0]*w.k,G=X[1]-R[1]*w.k;return V===w.x&&G===w.y?w:new ai(w.k,V,G)}function B(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function A(w,X,R,V){w.on("start.zoom",function(){I(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(V).end()}).tween("zoom",function(){var G=this,Z=arguments,ie=I(G,Z).event(V),ce=e.apply(G,Z),pe=R==null?B(ce):typeof R=="function"?R.apply(G,Z):R,ve=Math.max(ce[1][0]-ce[0][0],ce[1][1]-ce[0][1]),le=G.__zoom,ke=typeof X=="function"?X.apply(G,Z):X,Ce=f(le.invert(pe).concat(ve/le.k),ke.invert(pe).concat(ve/ke.k));return function(ue){if(ue===1)ue=ke;else{var Q=Ce(ue),$=ve/Q[2];ue=new ai($,pe[0]-Q[0]*$,pe[1]-Q[1]*$)}ie.zoom(null,ue)}})}function I(w,X,R){return!R&&w.__zooming||new p(w,X)}function p(w,X){this.that=w,this.args=X,this.active=0,this.sourceEvent=null,this.extent=e.apply(w,X),this.taps=0}p.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,X){return this.mouse&&w!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var X=mn(this.that).datum();d.call(w,this.that,new Kv(w,{sourceEvent:this.sourceEvent,target:k,type:w,transform:this.that.__zoom,dispatch:d}),X)}};function N(w,...X){if(!t.apply(this,arguments))return;var R=I(this,X).event(w),V=this.__zoom,G=Math.max(s[0],Math.min(s[1],V.k*Math.pow(2,i.apply(this,arguments)))),Z=Dn(w);if(R.wheel)(R.mouse[0][0]!==Z[0]||R.mouse[0][1]!==Z[1])&&(R.mouse[1]=V.invert(R.mouse[0]=Z)),clearTimeout(R.wheel);else{if(V.k===G)return;R.mouse=[Z,V.invert(Z)],Rl(this),R.start()}to(w),R.wheel=setTimeout(ie,v),R.zoom("mouse",n(M(H(V,G),R.mouse[0],R.mouse[1]),R.extent,a));function ie(){R.wheel=null,R.end()}}function E(w,...X){if(m||!t.apply(this,arguments))return;var R=w.currentTarget,V=I(this,X,!0).event(w),G=mn(w.view).on("mousemove.zoom",pe,!0).on("mouseup.zoom",ve,!0),Z=Dn(w,R),ie=w.clientX,ce=w.clientY;Q1(w.view),xu(w),V.mouse=[Z,this.__zoom.invert(Z)],Rl(this),V.start();function pe(le){if(to(le),!V.moved){var ke=le.clientX-ie,Ce=le.clientY-ce;V.moved=ke*ke+Ce*Ce>C}V.event(le).zoom("mouse",n(M(V.that.__zoom,V.mouse[0]=Dn(le,R),V.mouse[1]),V.extent,a))}function ve(le){G.on("mousemove.zoom mouseup.zoom",null),j1(le.view,V.moved),to(le),V.event(le).end()}}function W(w,...X){if(t.apply(this,arguments)){var R=this.__zoom,V=Dn(w.changedTouches?w.changedTouches[0]:w,this),G=R.invert(V),Z=R.k*(w.shiftKey?.5:2),ie=n(M(H(R,Z),V,G),e.apply(this,X),a);to(w),u>0?mn(this).transition().duration(u).call(A,ie,V,w):mn(this).call(k.transform,ie,V,w)}}function D(w,...X){if(t.apply(this,arguments)){var R=w.touches,V=R.length,G=I(this,X,w.changedTouches.length===V).event(w),Z,ie,ce,pe;for(xu(w),ie=0;ie<V;++ie)ce=R[ie],pe=Dn(ce,this),pe=[pe,this.__zoom.invert(pe),ce.identifier],G.touch0?!G.touch1&&G.touch0[2]!==pe[2]&&(G.touch1=pe,G.taps=0):(G.touch0=pe,Z=!0,G.taps=1+!!h);h&&(h=clearTimeout(h)),Z&&(G.taps<2&&(g=pe[0],h=setTimeout(function(){h=null},y)),Rl(this),G.start())}}function S(w,...X){if(this.__zooming){var R=I(this,X).event(w),V=w.changedTouches,G=V.length,Z,ie,ce,pe;for(to(w),Z=0;Z<G;++Z)ie=V[Z],ce=Dn(ie,this),R.touch0&&R.touch0[2]===ie.identifier?R.touch0[0]=ce:R.touch1&&R.touch1[2]===ie.identifier&&(R.touch1[0]=ce);if(ie=R.that.__zoom,R.touch1){var ve=R.touch0[0],le=R.touch0[1],ke=R.touch1[0],Ce=R.touch1[1],ue=(ue=ke[0]-ve[0])*ue+(ue=ke[1]-ve[1])*ue,Q=(Q=Ce[0]-le[0])*Q+(Q=Ce[1]-le[1])*Q;ie=H(ie,Math.sqrt(ue/Q)),ce=[(ve[0]+ke[0])/2,(ve[1]+ke[1])/2],pe=[(le[0]+Ce[0])/2,(le[1]+Ce[1])/2]}else if(R.touch0)ce=R.touch0[0],pe=R.touch0[1];else return;R.zoom("touch",n(M(ie,ce,pe),R.extent,a))}}function Y(w,...X){if(this.__zooming){var R=I(this,X).event(w),V=w.changedTouches,G=V.length,Z,ie;for(xu(w),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),Z=0;Z<G;++Z)ie=V[Z],R.touch0&&R.touch0[2]===ie.identifier?delete R.touch0:R.touch1&&R.touch1[2]===ie.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(ie=Dn(ie,this),Math.hypot(g[0]-ie[0],g[1]-ie[1])<O)){var ce=mn(this).on("dblclick.zoom");ce&&ce.apply(this,arguments)}}}return k.wheelDelta=function(w){return arguments.length?(i=typeof w=="function"?w:Al(+w),k):i},k.filter=function(w){return arguments.length?(t=typeof w=="function"?w:Al(!!w),k):t},k.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:Al(!!w),k):o},k.extent=function(w){return arguments.length?(e=typeof w=="function"?w:Al([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),k):e},k.scaleExtent=function(w){return arguments.length?(s[0]=+w[0],s[1]=+w[1],k):[s[0],s[1]]},k.translateExtent=function(w){return arguments.length?(a[0][0]=+w[0][0],a[1][0]=+w[1][0],a[0][1]=+w[0][1],a[1][1]=+w[1][1],k):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},k.constrain=function(w){return arguments.length?(n=w,k):n},k.duration=function(w){return arguments.length?(u=+w,k):u},k.interpolate=function(w){return arguments.length?(f=w,k):f},k.on=function(){var w=d.on.apply(d,arguments);return w===d?k:w},k.clickDistance=function(w){return arguments.length?(C=(w=+w)*w,k):Math.sqrt(C)},k.tapDistance=function(w){return arguments.length?(O=+w,k):O},k}const Mr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Ul=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ui;(function(t){t.Strict="strict",t.Loose="loose"})(Ui||(Ui={}));var Zn;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Zn||(Zn={}));var Kl;(function(t){t.Partial="partial",t.Full="full"})(Kl||(Kl={}));const sa={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var pr;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(pr||(pr={}));var Tr;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Tr||(Tr={}));var Ue;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ue||(Ue={}));const bd={[Ue.Left]:Ue.Right,[Ue.Right]:Ue.Left,[Ue.Top]:Ue.Bottom,[Ue.Bottom]:Ue.Top};function jv(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function pd(t,e,n){if(!n)return;const i=[];t.forEach((o,s)=>{e!=null&&e.has(s)||i.push(o)}),i.length&&n(i)}function vd(t){return t===null?null:t?"valid":"invalid"}const $v=t=>"id"in t&&"source"in t&&"target"in t,e3=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),ba=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Ao=(t,e=[0,0])=>{const{width:n,height:i}=Pi(t),o=t.origin??e,s=n*o[0],a=i*o[1];return{x:t.position.x-s,y:t.position.y-a}},t3=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const s=typeof o=="string";let a=!e.nodeLookup&&!s?o:void 0;e.nodeLookup&&(a=s?e.nodeLookup.get(o):ba(o)?o:e.nodeLookup.get(o.id));const u=a?Zl(a,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return rs(i,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return os(n)},Mo=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=Zl(i);n=rs(n,o)}}),os(n)},mh=(t,e,[n,i,o]=[0,0,1],s=!1,a=!1)=>{const u={...To(e,[n,i,o]),width:e.width/o,height:e.height/o},f=[];for(const d of t.values()){const{measured:h,selectable:g=!0,hidden:m=!1}=d;if(a&&!g||m)continue;const y=h.width??d.width??d.initialWidth??null,v=h.height??d.height??d.initialHeight??null,C=wo(u,Ir(d)),O=(y??0)*(v??0),k=s&&C>0;(!d.internals.handleBounds||k||C>=O||d.dragging)&&f.push(d)}return f},ua=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function kd(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function Cd({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:s},a){if(t.size===0)return Promise.resolve(!1);const u=Mo(t),f=va(u,e,n,(a==null?void 0:a.minZoom)??o,(a==null?void 0:a.maxZoom)??s,(a==null?void 0:a.padding)??.1);return await i.setViewport(f,{duration:a==null?void 0:a.duration}),Promise.resolve(!0)}function n3({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:s}){const a=n.get(t),u=a.parentId?n.get(a.parentId):void 0,{x:f,y:d}=u?u.internals.positionAbsolute:{x:0,y:0},h=a.origin??i;let g=o;if(a.extent==="parent"&&!a.expandParent)if(!u)s==null||s("005",Mr.error005());else{const y=u.measured.width,v=u.measured.height;y&&v&&(g=[[f,d],[f+y,d+v]])}else u&&Or(a.extent)&&(g=[[a.extent[0][0]+f,a.extent[0][1]+d],[a.extent[1][0]+f,a.extent[1][1]+d]]);const m=Or(g)?Ki(e,g,a.measured):e;return(a.measured.width===void 0||a.measured.height===void 0)&&(s==null||s("015",Mr.error015())),{position:{x:m.x-f+(a.measured.width??0)*h[0],y:m.y-d+(a.measured.height??0)*h[1]},positionAbsolute:m}}async function _h({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const s=new Set(t.map(m=>m.id)),a=[];for(const m of n){if(m.deletable===!1)continue;const y=s.has(m.id),v=!y&&m.parentId&&a.find(C=>C.id===m.parentId);(y||v)&&a.push(m)}const u=new Set(e.map(m=>m.id)),f=i.filter(m=>m.deletable!==!1),h=ua(a,f);for(const m of f)u.has(m.id)&&!h.find(v=>v.id===m.id)&&h.push(m);if(!o)return{edges:h,nodes:a};const g=await o({nodes:a,edges:h});return typeof g=="boolean"?g?{edges:h,nodes:a}:{edges:[],nodes:[]}:g}const Pr=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ki=(t={x:0,y:0},e,n)=>({x:Pr(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Pr(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function yh(t,e,n){const{width:i,height:o}=Pi(n),{x:s,y:a}=n.internals.positionAbsolute;return Ki(t,[[s,a],[s+i,a+o]],e)}const Ed=(t,e,n)=>t<e?Pr(Math.abs(t-e),1,e)/e:t>n?-Pr(Math.abs(t-n),1,e)/e:0,wh=(t,e,n=15,i=40)=>{const o=Ed(t.x,i,e.width-i)*n,s=Ed(t.y,i,e.height-i)*n;return[o,s]},rs=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),aa=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),os=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Ir=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=ba(t)?t.internals.positionAbsolute:Ao(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},Zl=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=ba(t)?t.internals.positionAbsolute:Ao(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},bh=(t,e)=>os(rs(aa(t),aa(e))),wo=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Sd=t=>Hn(t.width)&&Hn(t.height)&&Hn(t.x)&&Hn(t.y),Hn=t=>!isNaN(t)&&isFinite(t),i3=(t,e)=>{},pa=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),To=({x:t,y:e},[n,i,o],s=!1,a=[1,1])=>{const u={x:(t-n)/o,y:(e-i)/o};return s?pa(u,a):u},ph=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),va=(t,e,n,i,o,s)=>{const a=e/(t.width*(1+s)),u=n/(t.height*(1+s)),f=Math.min(a,u),d=Pr(f,i,o),h=t.x+t.width/2,g=t.y+t.height/2,m=e/2-h*d,y=n/2-g*d;return{x:m,y,zoom:d}},Gl=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Or(t){return t!==void 0&&t!=="parent"}function Pi(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function ql(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function r3(t,e={width:0,height:0},n,i,o){const s={...t},a=i.get(n);if(a){const u=a.origin||o;s.x+=a.internals.positionAbsolute.x-(e.width??0)*u[0],s.y+=a.internals.positionAbsolute.y-(e.height??0)*u[1]}return s}function lo(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:s,y:a}=fi(t),u=To({x:s-((o==null?void 0:o.left)??0),y:a-((o==null?void 0:o.top)??0)},i),{x:f,y:d}=n?pa(u,e):u;return{xSnapped:f,ySnapped:d,...u}}const ka=t=>({width:t.offsetWidth,height:t.offsetHeight}),o3=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},l3=["INPUT","SELECT","TEXTAREA"];function s3(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:l3.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const vh=t=>"clientX"in t,fi=(t,e)=>{var s,a;const n=vh(t),i=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,o=n?t.clientY:(a=t.touches)==null?void 0:a[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Ad=(t,e,n,i,o)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),type:t,nodeId:o,position:a.getAttribute("data-handlepos"),x:(u.left-n.left)/i,y:(u.top-n.top)/i,...ka(a)}})};function u3({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:a,targetControlY:u}){const f=t*.125+o*.375+a*.375+n*.125,d=e*.125+s*.375+u*.375+i*.125,h=Math.abs(f-t),g=Math.abs(d-e);return[f,d,h,g]}function Ml(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Md({pos:t,x1:e,y1:n,x2:i,y2:o,c:s}){switch(t){case Ue.Left:return[e-Ml(e-i,s),n];case Ue.Right:return[e+Ml(i-e,s),n];case Ue.Top:return[e,n-Ml(n-o,s)];case Ue.Bottom:return[e,n+Ml(o-n,s)]}}function ls({sourceX:t,sourceY:e,sourcePosition:n=Ue.Bottom,targetX:i,targetY:o,targetPosition:s=Ue.Top,curvature:a=.25}){const[u,f]=Md({pos:n,x1:t,y1:e,x2:i,y2:o,c:a}),[d,h]=Md({pos:s,x1:i,y1:o,x2:t,y2:e,c:a}),[g,m,y,v]=u3({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:u,sourceControlY:f,targetControlX:d,targetControlY:h});return[`M${t},${e} C${u},${f} ${d},${h} ${i},${o}`,g,m,y,v]}function kh({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,s=n<t?n+o:n-o,a=Math.abs(i-e)/2,u=i<e?i+a:i-a;return[s,u,o,a]}function a3({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const s=n||e.selected||t.selected,a=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(s?a:0)}function f3({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const s=rs(Zl(t),Zl(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const a={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return wo(a,os(s))>0}const c3=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,d3=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),h3=(t,e)=>{if(!t.source||!t.target)return e;let n;return $v(t)?n={...t}:n={...t,id:c3(t)},d3(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function Ch({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,s,a,u]=kh({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,s,a,u]}const Td={[Ue.Left]:{x:-1,y:0},[Ue.Right]:{x:1,y:0},[Ue.Top]:{x:0,y:-1},[Ue.Bottom]:{x:0,y:1}},g3=({source:t,sourcePosition:e=Ue.Bottom,target:n})=>e===Ue.Left||e===Ue.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Pd=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function m3({source:t,sourcePosition:e=Ue.Bottom,target:n,targetPosition:i=Ue.Top,center:o,offset:s}){const a=Td[e],u=Td[i],f={x:t.x+a.x*s,y:t.y+a.y*s},d={x:n.x+u.x*s,y:n.y+u.y*s},h=g3({source:f,sourcePosition:e,target:d}),g=h.x!==0?"x":"y",m=h[g];let y=[],v,C;const O={x:0,y:0},k={x:0,y:0},[H,M,B,A]=kh({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[g]*u[g]===-1){v=o.x??H,C=o.y??M;const p=[{x:v,y:f.y},{x:v,y:d.y}],N=[{x:f.x,y:C},{x:d.x,y:C}];a[g]===m?y=g==="x"?p:N:y=g==="x"?N:p}else{const p=[{x:f.x,y:d.y}],N=[{x:d.x,y:f.y}];if(g==="x"?y=a.x===m?N:p:y=a.y===m?p:N,e===i){const Y=Math.abs(t[g]-n[g]);if(Y<=s){const w=Math.min(s-1,s-Y);a[g]===m?O[g]=(f[g]>t[g]?-1:1)*w:k[g]=(d[g]>n[g]?-1:1)*w}}if(e!==i){const Y=g==="x"?"y":"x",w=a[g]===u[Y],X=f[Y]>d[Y],R=f[Y]<d[Y];(a[g]===1&&(!w&&X||w&&R)||a[g]!==1&&(!w&&R||w&&X))&&(y=g==="x"?p:N)}const E={x:f.x+O.x,y:f.y+O.y},W={x:d.x+k.x,y:d.y+k.y},D=Math.max(Math.abs(E.x-y[0].x),Math.abs(W.x-y[0].x)),S=Math.max(Math.abs(E.y-y[0].y),Math.abs(W.y-y[0].y));D>=S?(v=(E.x+W.x)/2,C=y[0].y):(v=y[0].x,C=(E.y+W.y)/2)}return[[t,{x:f.x+O.x,y:f.y+O.y},...y,{x:d.x+k.x,y:d.y+k.y},n],v,C,B,A]}function _3(t,e,n,i){const o=Math.min(Pd(t,e)/2,Pd(e,n)/2,i),{x:s,y:a}=e;if(t.x===s&&s===n.x||t.y===a&&a===n.y)return`L${s} ${a}`;if(t.y===a){const d=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${s+o*d},${a}Q ${s},${a} ${s},${a+o*h}`}const u=t.x<n.x?1:-1,f=t.y<n.y?-1:1;return`L ${s},${a+o*f}Q ${s},${a} ${s+o*u},${a}`}function Jl({sourceX:t,sourceY:e,sourcePosition:n=Ue.Bottom,targetX:i,targetY:o,targetPosition:s=Ue.Top,borderRadius:a=5,centerX:u,centerY:f,offset:d=20}){const[h,g,m,y,v]=m3({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:s,center:{x:u,y:f},offset:d});return[h.reduce((O,k,H)=>{let M="";return H>0&&H<h.length-1?M=_3(h[H-1],k,h[H+1],a):M=`${H===0?"M":"L"}${k.x} ${k.y}`,O+=M,O},""),g,m,y,v]}function Id(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function y3(t){var g;const{sourceNode:e,targetNode:n}=t;if(!Id(e)||!Id(n))return null;const i=e.internals.handleBounds||Od(e.handles),o=n.internals.handleBounds||Od(n.handles),s=Nd((i==null?void 0:i.source)??[],t.sourceHandle),a=Nd(t.connectionMode===Ui.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!s||!a)return(g=t.onError)==null||g.call(t,"008",Mr.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const u=(s==null?void 0:s.position)||Ue.Bottom,f=(a==null?void 0:a.position)||Ue.Top,d=bo(e,s,u),h=bo(n,a,f);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y,sourcePosition:u,targetPosition:f}}function Od(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function bo(t,e,n=Ue.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:a,height:u}=e??Pi(t);if(i)return{x:o+a/2,y:s+u/2};switch((e==null?void 0:e.position)??n){case Ue.Top:return{x:o+a/2,y:s};case Ue.Right:return{x:o+a,y:s+u/2};case Ue.Bottom:return{x:o+a/2,y:s+u};case Ue.Left:return{x:o,y:s+u/2}}}function Nd(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function fa(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function w3(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const s=new Set;return t.reduce((a,u)=>([u.markerStart||i,u.markerEnd||o].forEach(f=>{if(f&&typeof f=="object"){const d=fa(f,e);s.has(d)||(a.push({id:d,color:f.color||n,...f}),s.add(d))}}),a),[]).sort((a,u)=>a.id.localeCompare(u.id))}const Ca={nodeOrigin:[0,0],nodeExtent:Ul,elevateNodesOnSelect:!0,defaults:{}},b3={...Ca,checkEquality:!0};function Ea(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function p3(t,e,n){const i=Ea(Ca,n);for(const o of t.values())if(o.parentId)Sa(o,t,e,i);else{const s=Ao(o,i.nodeOrigin),a=Or(o.extent)?o.extent:i.nodeExtent,u=Ki(s,a,Pi(o));o.internals.positionAbsolute=u}}function Eh(t,e,n,i){var u,f;const o=Ea(b3,i),s=new Map(e),a=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const d of t){let h=s.get(d.id);if(o.checkEquality&&d===(h==null?void 0:h.internals.userNode))e.set(d.id,h);else{const g=Ao(d,o.nodeOrigin),m=Or(d.extent)?d.extent:o.nodeExtent,y=Ki(g,m,Pi(d));h={...o.defaults,...d,measured:{width:(u=d.measured)==null?void 0:u.width,height:(f=d.measured)==null?void 0:f.height},internals:{positionAbsolute:y,handleBounds:d.measured?h==null?void 0:h.internals.handleBounds:void 0,z:Sh(d,a),userNode:d}},e.set(d.id,h)}d.parentId&&Sa(h,e,n,i)}}function v3(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Sa(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:a}=Ea(Ca,i),u=t.parentId,f=e.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}v3(t,n);const d=o?1e3:0,{x:h,y:g,z:m}=k3(t,f,s,a,d),{positionAbsolute:y}=t.internals,v=h!==y.x||g!==y.y;(v||m!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:v?{x:h,y:g}:y,z:m}})}function Sh(t,e){return(Hn(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function k3(t,e,n,i,o){const{x:s,y:a}=e.internals.positionAbsolute,u=Pi(t),f=Ao(t,n),d=Or(t.extent)?Ki(f,t.extent,u):f;let h=Ki({x:s+d.x,y:a+d.y},i,u);t.extent==="parent"&&(h=yh(h,u,e));const g=Sh(t,o),m=e.internals.z??0;return{x:h.x,y:h.y,z:m>g?m:g}}function C3(t,e,n,i=[0,0]){var a;const o=[],s=new Map;for(const u of t){const f=e.get(u.parentId);if(!f)continue;const d=((a=s.get(u.parentId))==null?void 0:a.expandedRect)??Ir(f),h=bh(d,u.rect);s.set(u.parentId,{expandedRect:h,parent:f})}return s.size>0&&s.forEach(({expandedRect:u,parent:f},d)=>{var M;const h=f.internals.positionAbsolute,g=Pi(f),m=f.origin??i,y=u.x<h.x?Math.round(Math.abs(h.x-u.x)):0,v=u.y<h.y?Math.round(Math.abs(h.y-u.y)):0,C=Math.max(g.width,Math.round(u.width)),O=Math.max(g.height,Math.round(u.height)),k=(C-g.width)*m[0],H=(O-g.height)*m[1];(y>0||v>0||k||H)&&(o.push({id:d,type:"position",position:{x:f.position.x-y+k,y:f.position.y-v+H}}),(M=n.get(d))==null||M.forEach(B=>{t.some(A=>A.id===B.id)||o.push({id:B.id,type:"position",position:{x:B.position.x+y,y:B.position.y+v}})})),(g.width<u.width||g.height<u.height||y||v)&&o.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:C+(y?m[0]*y-k:0),height:O+(v?m[1]*v-H:0)}})}),o}function E3(t,e,n,i,o,s){const a=i==null?void 0:i.querySelector(".xyflow__viewport");let u=!1;if(!a)return{changes:[],updatedInternals:u};const f=[],d=window.getComputedStyle(a),{m22:h}=new window.DOMMatrixReadOnly(d.transform),g=[];for(const m of t.values()){const y=e.get(m.id);if(!y)continue;if(y.hidden){e.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),u=!0;continue}const v=ka(m.nodeElement),C=y.measured.width!==v.width||y.measured.height!==v.height;if(!!(v.width&&v.height&&(C||!y.internals.handleBounds||m.force))){const k=m.nodeElement.getBoundingClientRect(),H=Or(y.extent)?y.extent:s;let{positionAbsolute:M}=y.internals;y.parentId&&y.extent==="parent"?M=yh(M,v,e.get(y.parentId)):H&&(M=Ki(M,H,v));const B={...y,measured:v,internals:{...y.internals,positionAbsolute:M,handleBounds:{source:Ad("source",m.nodeElement,k,h,y.id),target:Ad("target",m.nodeElement,k,h,y.id)}}};e.set(y.id,B),y.parentId&&Sa(B,e,n,{nodeOrigin:o}),u=!0,C&&(f.push({id:y.id,type:"dimensions",dimensions:v}),y.expandParent&&y.parentId&&g.push({id:y.id,parentId:y.parentId,rect:Ir(B,o)}))}}if(g.length>0){const m=C3(g,e,n,o);f.push(...m)}return{changes:f,updatedInternals:u}}async function S3({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const a=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,s]],i),u=!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]);return Promise.resolve(u)}function Ld(t,e,n,i,o,s){let a=o;const u=i.get(a)||new Map;i.set(a,u.set(n,e)),a=`${o}-${t}`;const f=i.get(a)||new Map;if(i.set(a,f.set(n,e)),s){a=`${o}-${t}-${s}`;const d=i.get(a)||new Map;i.set(a,d.set(n,e))}}function Ah(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:s,sourceHandle:a=null,targetHandle:u=null}=i,f={edgeId:i.id,source:o,target:s,sourceHandle:a,targetHandle:u},d=`${o}-${a}--${s}-${u}`,h=`${s}-${u}--${o}-${a}`;Ld("source",f,h,t,o,a),Ld("target",f,d,t,s,u),e.set(i.id,i)}}function Mh(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:Mh(n,e):!1}function Dd(t,e,n){var o;let i=t;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,e))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function A3(t,e,n,i){const o=new Map;for(const[s,a]of t)if((a.selected||a.id===i)&&(!a.parentId||!Mh(a,t))&&(a.draggable||e&&typeof a.draggable>"u")){const u=t.get(s);u&&o.set(s,{id:s,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return o}function Fu({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var a,u,f;const o=[];for(const[d,h]of e){const g=(a=n.get(d))==null?void 0:a.internals.userNode;g&&o.push({...g,position:h.position,dragging:i})}if(!t)return[o[0],o];const s=(u=n.get(t))==null?void 0:u.internals.userNode;return[s?{...s,position:((f=e.get(t))==null?void 0:f.position)||s.position,dragging:i}:o[0],o]}function M3({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let s={x:null,y:null},a=0,u=new Map,f=!1,d={x:0,y:0},h=null,g=!1,m=null,y=!1;function v({noDragClassName:O,handleSelector:k,domNode:H,isSelectable:M,nodeId:B,nodeClickDistance:A=0}){m=mn(H);function I({x:W,y:D},S){const{nodeLookup:Y,nodeExtent:w,snapGrid:X,snapToGrid:R,nodeOrigin:V,onNodeDrag:G,onSelectionDrag:Z,onError:ie,updateNodePositions:ce}=e();s={x:W,y:D};let pe=!1,ve={x:0,y:0,x2:0,y2:0};if(u.size>1&&w){const le=Mo(u);ve=aa(le)}for(const[le,ke]of u){if(!Y.has(le))continue;let Ce={x:W-ke.distance.x,y:D-ke.distance.y};R&&(Ce=pa(Ce,X));let ue=[[w[0][0],w[0][1]],[w[1][0],w[1][1]]];if(u.size>1&&w&&!ke.extent){const{positionAbsolute:z}=ke.internals,F=z.x-ve.x+w[0][0],ee=z.x+ke.measured.width-ve.x2+w[1][0],ne=z.y-ve.y+w[0][1],K=z.y+ke.measured.height-ve.y2+w[1][1];ue=[[F,ne],[ee,K]]}const{position:Q,positionAbsolute:$}=n3({nodeId:le,nextPosition:Ce,nodeLookup:Y,nodeExtent:ue,nodeOrigin:V,onError:ie});pe=pe||ke.position.x!==Q.x||ke.position.y!==Q.y,ke.position=Q,ke.internals.positionAbsolute=$}if(pe&&(ce(u,!0),S&&(i||G||!B&&Z))){const[le,ke]=Fu({nodeId:B,dragItems:u,nodeLookup:Y});i==null||i(S,u,le,ke),G==null||G(S,le,ke),B||Z==null||Z(S,ke)}}async function p(){if(!h)return;const{transform:W,panBy:D,autoPanSpeed:S,autoPanOnNodeDrag:Y}=e();if(!Y){f=!1,cancelAnimationFrame(a);return}const[w,X]=wh(d,h,S);(w!==0||X!==0)&&(s.x=(s.x??0)-w/W[2],s.y=(s.y??0)-X/W[2],await D({x:w,y:X})&&I(s,null)),a=requestAnimationFrame(p)}function N(W){var pe;const{nodeLookup:D,multiSelectionActive:S,nodesDraggable:Y,transform:w,snapGrid:X,snapToGrid:R,selectNodesOnDrag:V,onNodeDragStart:G,onSelectionDragStart:Z,unselectNodesAndEdges:ie}=e();g=!0,(!V||!M)&&!S&&B&&((pe=D.get(B))!=null&&pe.selected||ie()),M&&V&&B&&(t==null||t(B));const ce=lo(W.sourceEvent,{transform:w,snapGrid:X,snapToGrid:R,containerBounds:h});if(s=ce,u=A3(D,Y,ce,B),u.size>0&&(n||G||!B&&Z)){const[ve,le]=Fu({nodeId:B,dragItems:u,nodeLookup:D});n==null||n(W.sourceEvent,u,ve,le),G==null||G(W.sourceEvent,ve,le),B||Z==null||Z(W.sourceEvent,le)}}const E=$1().clickDistance(A).on("start",W=>{const{domNode:D,nodeDragThreshold:S,transform:Y,snapGrid:w,snapToGrid:X}=e();h=(D==null?void 0:D.getBoundingClientRect())||null,y=!1,S===0&&N(W),s=lo(W.sourceEvent,{transform:Y,snapGrid:w,snapToGrid:X,containerBounds:h}),d=fi(W.sourceEvent,h)}).on("drag",W=>{const{autoPanOnNodeDrag:D,transform:S,snapGrid:Y,snapToGrid:w,nodeDragThreshold:X,nodeLookup:R}=e(),V=lo(W.sourceEvent,{transform:S,snapGrid:Y,snapToGrid:w,containerBounds:h});if((W.sourceEvent.type==="touchmove"&&W.sourceEvent.touches.length>1||B&&!R.has(B))&&(y=!0),!y){if(!f&&D&&g&&(f=!0,p()),!g){const G=V.xSnapped-(s.x??0),Z=V.ySnapped-(s.y??0);Math.sqrt(G*G+Z*Z)>X&&N(W)}(s.x!==V.xSnapped||s.y!==V.ySnapped)&&u&&g&&(d=fi(W.sourceEvent,h),I(V,W.sourceEvent))}}).on("end",W=>{if(!(!g||y)&&(f=!1,g=!1,cancelAnimationFrame(a),u.size>0)){const{nodeLookup:D,updateNodePositions:S,onNodeDragStop:Y,onSelectionDragStop:w}=e();if(S(u,!1),o||Y||!B&&w){const[X,R]=Fu({nodeId:B,dragItems:u,nodeLookup:D,dragging:!1});o==null||o(W.sourceEvent,u,X,R),Y==null||Y(W.sourceEvent,X,R),B||w==null||w(W.sourceEvent,R)}}}).filter(W=>{const D=W.target;return!W.button&&(!O||!Dd(D,`.${O}`,H))&&(!k||Dd(D,k,H))});m.call(E)}function C(){m==null||m.on(".drag",null)}return{update:v,destroy:C}}function T3(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())wo(o,Ir(s))>0&&i.push(s);return i}const P3=250;function I3(t,e,n,i){var u,f;let o=[],s=1/0;const a=T3(t,n,e+P3);for(const d of a){const h=[...((u=d.internals.handleBounds)==null?void 0:u.source)??[],...((f=d.internals.handleBounds)==null?void 0:f.target)??[]];for(const g of h){if(i.nodeId===g.nodeId&&i.type===g.type&&i.id===g.id)continue;const{x:m,y}=bo(d,g,g.position,!0),v=Math.sqrt(Math.pow(m-t.x,2)+Math.pow(y-t.y,2));v>e||(v<s?(o=[{...g,x:m,y}],s=v):v===s&&o.push({...g,x:m,y}))}}if(!o.length)return null;if(o.length>1){const d=i.type==="source"?"target":"source";return o.find(h=>h.type===d)??o[0]}return o[0]}function Th(t,e,n,i,o,s=!1){var d,h,g;const a=i.get(t);if(!a)return null;const u=o==="strict"?(d=a.internals.handleBounds)==null?void 0:d[e]:[...((h=a.internals.handleBounds)==null?void 0:h.source)??[],...((g=a.internals.handleBounds)==null?void 0:g.target)??[]],f=(n?u==null?void 0:u.find(m=>m.id===n):u==null?void 0:u[0])??null;return f&&s?{...f,...bo(a,f,f.position,!0)}:f}function Ph(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function O3(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Ih=()=>!0;function N3(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:s,isTarget:a,domNode:u,nodeLookup:f,lib:d,autoPanOnConnect:h,flowId:g,panBy:m,cancelConnection:y,onConnectStart:v,onConnect:C,onConnectEnd:O,isValidConnection:k=Ih,onReconnectEnd:H,updateConnection:M,getTransform:B,getFromHandle:A,autoPanSpeed:I}){const p=o3(t.target);let N=0,E;const{x:W,y:D}=fi(t),S=p==null?void 0:p.elementFromPoint(W,D),Y=Ph(s,S),w=u==null?void 0:u.getBoundingClientRect();if(!w||!Y)return;const X=Th(o,Y,i,f,e);if(!X)return;let R=fi(t,w),V=!1,G=null,Z=!1,ie=null;function ce(){if(!h||!w)return;const[$,z]=wh(R,w,I);m({x:$,y:z}),N=requestAnimationFrame(ce)}const pe={...X,nodeId:o,type:Y,position:X.position},ve=f.get(o),ke={inProgress:!0,isValid:null,from:bo(ve,pe,Ue.Left,!0),fromHandle:pe,fromPosition:pe.position,fromNode:ve,to:R,toHandle:null,toPosition:bd[pe.position],toNode:null};M(ke);let Ce=ke;v==null||v(t,{nodeId:o,handleId:i,handleType:Y});function ue($){if(!A()||!pe){Q($);return}const z=B();R=fi($,w),E=I3(To(R,z,!1,[1,1]),n,f,pe),V||(ce(),V=!0);const F=Oh($,{handle:E,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:a?"target":"source",isValidConnection:k,doc:p,lib:d,flowId:g,nodeLookup:f});ie=F.handleDomNode,G=F.connection,Z=O3(!!E,F.isValid);const ee={...Ce,isValid:Z,to:E&&Z?ph({x:E.x,y:E.y},z):R,toHandle:F.toHandle,toPosition:Z&&F.toHandle?F.toHandle.position:bd[pe.position],toNode:F.toHandle?f.get(F.toHandle.nodeId):null};Z&&E&&Ce.toHandle&&ee.toHandle&&Ce.toHandle.type===ee.toHandle.type&&Ce.toHandle.nodeId===ee.toHandle.nodeId&&Ce.toHandle.id===ee.toHandle.id&&Ce.to.x===ee.to.x&&Ce.to.y===ee.to.y||(M(ee),Ce=ee)}function Q($){(E||ie)&&G&&Z&&(C==null||C(G));const{inProgress:z,...F}=Ce,ee={...F,toPosition:Ce.toHandle?Ce.toPosition:null};O==null||O($,ee),s&&(H==null||H($,ee)),y(),cancelAnimationFrame(N),V=!1,Z=!1,G=null,ie=null,p.removeEventListener("mousemove",ue),p.removeEventListener("mouseup",Q),p.removeEventListener("touchmove",ue),p.removeEventListener("touchend",Q)}p.addEventListener("mousemove",ue),p.addEventListener("mouseup",Q),p.addEventListener("touchmove",ue),p.addEventListener("touchend",Q)}function Oh(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:s,doc:a,lib:u,flowId:f,isValidConnection:d=Ih,nodeLookup:h}){const g=s==="target",m=e?a.querySelector(`.${u}-flow__handle[data-id="${f}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:y,y:v}=fi(t),C=a.elementFromPoint(y,v),O=C!=null&&C.classList.contains(`${u}-flow__handle`)?C:m,k={handleDomNode:O,isValid:!1,connection:null,toHandle:null};if(O){const H=Ph(void 0,O),M=O.getAttribute("data-nodeid"),B=O.getAttribute("data-handleid"),A=O.classList.contains("connectable"),I=O.classList.contains("connectableend");if(!M||!H)return k;const p={source:g?M:i,sourceHandle:g?B:o,target:g?i:M,targetHandle:g?o:B};k.connection=p;const E=A&&I&&(n===Ui.Strict?g&&H==="source"||!g&&H==="target":M!==i||B!==o);k.isValid=E&&d(p),k.toHandle=Th(M,H,B,h,n,!1)}return k}const L3={onPointerDown:N3,isValid:Oh};function D3({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=mn(t);function s({translateExtent:u,width:f,height:d,zoomStep:h=10,pannable:g=!0,zoomable:m=!0,inversePan:y=!1}){const v=M=>{const B=n();if(M.sourceEvent.type!=="wheel"||!e)return;const A=-M.sourceEvent.deltaY*(M.sourceEvent.deltaMode===1?.05:M.sourceEvent.deltaMode?1:.002)*h,I=B[2]*Math.pow(2,A);e.scaleTo(I)};let C=[0,0];const O=M=>{(M.sourceEvent.type==="mousedown"||M.sourceEvent.type==="touchstart")&&(C=[M.sourceEvent.clientX??M.sourceEvent.touches[0].clientX,M.sourceEvent.clientY??M.sourceEvent.touches[0].clientY])},k=M=>{const B=n();if(M.sourceEvent.type!=="mousemove"&&M.sourceEvent.type!=="touchmove"||!e)return;const A=[M.sourceEvent.clientX??M.sourceEvent.touches[0].clientX,M.sourceEvent.clientY??M.sourceEvent.touches[0].clientY],I=[A[0]-C[0],A[1]-C[1]];C=A;const p=i()*Math.max(B[2],Math.log(B[2]))*(y?-1:1),N={x:B[0]-I[0]*p,y:B[1]-I[1]*p},E=[[0,0],[f,d]];e.setViewportConstrained({x:N.x,y:N.y,zoom:B[2]},E,u)},H=gh().on("start",O).on("zoom",g?k:null).on("zoom.wheel",m?v:null);o.call(H,{})}function a(){o.on("zoom",null)}return{update:s,destroy:a,pointer:Dn}}const R3=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ss=t=>({x:t.x,y:t.y,zoom:t.k}),Vu=({x:t,y:e,zoom:n})=>is.translate(t,e).scale(n),mr=(t,e)=>t.target.closest(`.${e}`),Nh=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Uu=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},Lh=t=>{const e=t.ctrlKey&&Gl()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function H3({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:a,onPanZoomStart:u,onPanZoom:f,onPanZoomEnd:d}){return h=>{if(mr(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const g=n.property("__zoom").k||1;if(h.ctrlKey&&a){const O=Dn(h),k=Lh(h),H=g*Math.pow(2,k);i.scaleTo(n,H,O,h);return}const m=h.deltaMode===1?20:1;let y=o===Zn.Vertical?0:h.deltaX*m,v=o===Zn.Horizontal?0:h.deltaY*m;!Gl()&&h.shiftKey&&o!==Zn.Vertical&&(y=h.deltaY*m,v=0),i.translateBy(n,-(y/g)*s,-(v/g)*s,{internal:!0});const C=ss(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,u==null||u(h,C)),t.isPanScrolling&&(f==null||f(h,C),t.panScrollTimeout=setTimeout(()=>{d==null||d(h,C),t.isPanScrolling=!1},150))}}function z3({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||mr(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function B3({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var s,a,u;if((s=i.sourceEvent)!=null&&s.internal)return;const o=ss(i.transform);t.mouseButton=((a=i.sourceEvent)==null?void 0:a.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((u=i.sourceEvent)==null?void 0:u.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function W3({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return s=>{var a,u;t.usedRightMouseButton=!!(n&&Nh(e,t.mouseButton??0)),(a=s.sourceEvent)!=null&&a.sync||i([s.transform.x,s.transform.y,s.transform.k]),o&&!((u=s.sourceEvent)!=null&&u.internal)&&(o==null||o(s.sourceEvent,ss(s.transform)))}}function Y3({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:s}){return a=>{var u;if(!((u=a.sourceEvent)!=null&&u.internal)&&(t.isZoomingOrPanning=!1,s&&Nh(e,t.mouseButton??0)&&!t.usedRightMouseButton&&a.sourceEvent&&s(a.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&R3(t.prevViewport,a.transform))){const f=ss(a.transform);t.prevViewport=f,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(a.sourceEvent,f)},n?150:0)}}}function X3({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:a,noWheelClassName:u,noPanClassName:f,lib:d}){return h=>{var v;const g=t||e,m=n&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(mr(h,`${d}-flow__node`)||mr(h,`${d}-flow__edge`)))return!0;if(!i&&!g&&!o&&!s&&!n||a||mr(h,u)&&h.type==="wheel"||mr(h,f)&&(h.type!=="wheel"||o&&h.type==="wheel"&&!t)||!n&&h.ctrlKey&&h.type==="wheel")return!1;if(!n&&h.type==="touchstart"&&((v=h.touches)==null?void 0:v.length)>1)return h.preventDefault(),!1;if(!g&&!o&&!m&&h.type==="wheel"||!i&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(i)&&!i.includes(h.button)&&h.type==="mousedown")return!1;const y=Array.isArray(i)&&i.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function x3({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:s,onPanZoom:a,onPanZoomStart:u,onPanZoomEnd:f,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=t.getBoundingClientRect(),m=gh().clickDistance(!Hn(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),y=mn(t).call(m);M({x:s.x,y:s.y,zoom:Pr(s.zoom,e,n)},[[0,0],[g.width,g.height]],o);const v=y.on("wheel.zoom"),C=y.on("dblclick.zoom");m.wheelDelta(Lh);function O(S,Y){return y?new Promise(w=>{m==null||m.transform(Uu(y,Y==null?void 0:Y.duration,()=>w(!0)),S)}):Promise.resolve(!1)}function k({noWheelClassName:S,noPanClassName:Y,onPaneContextMenu:w,userSelectionActive:X,panOnScroll:R,panOnDrag:V,panOnScrollMode:G,panOnScrollSpeed:Z,preventScrolling:ie,zoomOnPinch:ce,zoomOnScroll:pe,zoomOnDoubleClick:ve,zoomActivationKeyPressed:le,lib:ke,onTransformChange:Ce}){X&&!h.isZoomingOrPanning&&H();const Q=R&&!le&&!X?H3({zoomPanValues:h,noWheelClassName:S,d3Selection:y,d3Zoom:m,panOnScrollMode:G,panOnScrollSpeed:Z,zoomOnPinch:ce,onPanZoomStart:u,onPanZoom:a,onPanZoomEnd:f}):z3({noWheelClassName:S,preventScrolling:ie,d3ZoomHandler:v});if(y.on("wheel.zoom",Q,{passive:!1}),!X){const z=B3({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:u});m.on("start",z);const F=W3({zoomPanValues:h,panOnDrag:V,onPaneContextMenu:!!w,onPanZoom:a,onTransformChange:Ce});m.on("zoom",F);const ee=Y3({zoomPanValues:h,panOnDrag:V,panOnScroll:R,onPaneContextMenu:w,onPanZoomEnd:f,onDraggingChange:d});m.on("end",ee)}const $=X3({zoomActivationKeyPressed:le,panOnDrag:V,zoomOnScroll:pe,panOnScroll:R,zoomOnDoubleClick:ve,zoomOnPinch:ce,userSelectionActive:X,noPanClassName:Y,noWheelClassName:S,lib:ke});m.filter($),ve?y.on("dblclick.zoom",C):y.on("dblclick.zoom",null)}function H(){m.on("zoom",null)}async function M(S,Y,w){const X=Vu(S),R=m==null?void 0:m.constrain()(X,Y,w);return R&&await O(R),new Promise(V=>V(R))}async function B(S,Y){const w=Vu(S);return await O(w,Y),new Promise(X=>X(w))}function A(S){if(y){const Y=Vu(S),w=y.property("__zoom");(w.k!==S.zoom||w.x!==S.x||w.y!==S.y)&&(m==null||m.transform(y,Y,null,{sync:!0}))}}function I(){const S=y?hh(y.node()):{x:0,y:0,k:1};return{x:S.x,y:S.y,zoom:S.k}}function p(S,Y){return y?new Promise(w=>{m==null||m.scaleTo(Uu(y,Y==null?void 0:Y.duration,()=>w(!0)),S)}):Promise.resolve(!1)}function N(S,Y){return y?new Promise(w=>{m==null||m.scaleBy(Uu(y,Y==null?void 0:Y.duration,()=>w(!0)),S)}):Promise.resolve(!1)}function E(S){m==null||m.scaleExtent(S)}function W(S){m==null||m.translateExtent(S)}function D(S){const Y=!Hn(S)||S<0?0:S;m==null||m.clickDistance(Y)}return{update:k,destroy:H,setViewport:B,setViewportConstrained:M,getViewport:I,scaleTo:p,scaleBy:N,setScaleExtent:E,setTranslateExtent:W,syncViewport:A,setClickDistance:D}}var so;(function(t){t.Line="line",t.Handle="handle"})(so||(so={}));function F3({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:o,affectsY:s}){const a=t-e,u=n-i,f=[a>0?1:a<0?-1:0,u>0?1:u<0?-1:0];return a&&o&&(f[0]=f[0]*-1),u&&s&&(f[1]=f[1]*-1),f}function V3(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:o}}function Ai(t,e){return Math.max(0,e-t)}function Mi(t,e){return Math.max(0,t-e)}function Tl(t,e,n){return Math.max(0,e-t,t-n)}function Rd(t,e){return t?!e:e}function U3(t,e,n,i,o,s,a,u){let{affectsX:f,affectsY:d}=e;const{isHorizontal:h,isVertical:g}=e,m=h&&g,{xSnapped:y,ySnapped:v}=n,{minWidth:C,maxWidth:O,minHeight:k,maxHeight:H}=i,{x:M,y:B,width:A,height:I,aspectRatio:p}=t;let N=Math.floor(h?y-t.pointerX:0),E=Math.floor(g?v-t.pointerY:0);const W=A+(f?-N:N),D=I+(d?-E:E),S=-s[0]*A,Y=-s[1]*I;let w=Tl(W,C,O),X=Tl(D,k,H);if(a){let G=0,Z=0;f&&N<0?G=Ai(M+N+S,a[0][0]):!f&&N>0&&(G=Mi(M+W+S,a[1][0])),d&&E<0?Z=Ai(B+E+Y,a[0][1]):!d&&E>0&&(Z=Mi(B+D+Y,a[1][1])),w=Math.max(w,G),X=Math.max(X,Z)}if(u){let G=0,Z=0;f&&N>0?G=Mi(M+N,u[0][0]):!f&&N<0&&(G=Ai(M+W,u[1][0])),d&&E>0?Z=Mi(B+E,u[0][1]):!d&&E<0&&(Z=Ai(B+D,u[1][1])),w=Math.max(w,G),X=Math.max(X,Z)}if(o){if(h){const G=Tl(W/p,k,H)*p;if(w=Math.max(w,G),a){let Z=0;!f&&!d||f&&!d&&m?Z=Mi(B+Y+W/p,a[1][1])*p:Z=Ai(B+Y+(f?N:-N)/p,a[0][1])*p,w=Math.max(w,Z)}if(u){let Z=0;!f&&!d||f&&!d&&m?Z=Ai(B+W/p,u[1][1])*p:Z=Mi(B+(f?N:-N)/p,u[0][1])*p,w=Math.max(w,Z)}}if(g){const G=Tl(D*p,C,O)/p;if(X=Math.max(X,G),a){let Z=0;!f&&!d||d&&!f&&m?Z=Mi(M+D*p+S,a[1][0])/p:Z=Ai(M+(d?E:-E)*p+S,a[0][0])/p,X=Math.max(X,Z)}if(u){let Z=0;!f&&!d||d&&!f&&m?Z=Ai(M+D*p,u[1][0])/p:Z=Mi(M+(d?E:-E)*p,u[0][0])/p,X=Math.max(X,Z)}}}E=E+(E<0?X:-X),N=N+(N<0?w:-w),o&&(m?W>D*p?E=(Rd(f,d)?-N:N)/p:N=(Rd(f,d)?-E:E)*p:h?(E=N/p,d=f):(N=E*p,f=d));const R=f?M+N:M,V=d?B+E:B;return{width:A+(f?-N:N),height:I+(d?-E:E),x:s[0]*N*(f?-1:1)+R,y:s[1]*E*(d?-1:1)+V}}const Dh={width:0,height:0,x:0,y:0},K3={...Dh,pointerX:0,pointerY:0,aspectRatio:1};function Z3(t){return[[0,0],[t.measured.width,t.measured.height]]}function G3(t,e,n){const i=e.position.x+t.position.x,o=e.position.y+t.position.y,s=t.measured.width??0,a=t.measured.height??0,u=n[0]*s,f=n[1]*a;return[[i-u,o-f],[i+s-u,o+a-f]]}function q3({domNode:t,nodeId:e,getStoreItems:n,onChange:i,onEnd:o}){const s=mn(t);function a({controlPosition:f,boundaries:d,keepAspectRatio:h,onResizeStart:g,onResize:m,onResizeEnd:y,shouldResize:v}){let C={...Dh},O={...K3};const k=V3(f);let H,M=null,B=[],A,I,p;const N=$1().on("start",E=>{const{nodeLookup:W,transform:D,snapGrid:S,snapToGrid:Y,nodeOrigin:w,paneDomNode:X}=n();if(H=W.get(e),!H)return;M=(X==null?void 0:X.getBoundingClientRect())??null;const{xSnapped:R,ySnapped:V}=lo(E.sourceEvent,{transform:D,snapGrid:S,snapToGrid:Y,containerBounds:M});C={width:H.measured.width??0,height:H.measured.height??0,x:H.position.x??0,y:H.position.y??0},O={...C,pointerX:R,pointerY:V,aspectRatio:C.width/C.height},A=void 0,H.parentId&&(H.extent==="parent"||H.expandParent)&&(A=W.get(H.parentId),I=A&&H.extent==="parent"?Z3(A):void 0),B=[],p=void 0;for(const[G,Z]of W)if(Z.parentId===e&&(B.push({id:G,position:{...Z.position},extent:Z.extent}),Z.extent==="parent"||Z.expandParent)){const ie=G3(Z,H,Z.origin??w);p?p=[[Math.min(ie[0][0],p[0][0]),Math.min(ie[0][1],p[0][1])],[Math.max(ie[1][0],p[1][0]),Math.max(ie[1][1],p[1][1])]]:p=ie}g==null||g(E,{...C})}).on("drag",E=>{const{transform:W,snapGrid:D,snapToGrid:S,nodeOrigin:Y}=n(),w=lo(E.sourceEvent,{transform:W,snapGrid:D,snapToGrid:S,containerBounds:M}),X=[];if(!H)return;const{x:R,y:V,width:G,height:Z}=C,ie={},ce=H.origin??Y,{width:pe,height:ve,x:le,y:ke}=U3(O,k,w,d,h,ce,I,p),Ce=pe!==G,ue=ve!==Z,Q=le!==R&&Ce,$=ke!==V&&ue;if(!Q&&!$&&!Ce&&!ue)return;if((Q||$||ce[0]===1||ce[1]===1)&&(ie.x=Q?le:C.x,ie.y=$?ke:C.y,C.x=ie.x,C.y=ie.y,B.length>0)){const ne=le-R,K=ke-V;for(const _e of B)_e.position={x:_e.position.x-ne+ce[0]*(pe-G),y:_e.position.y-K+ce[1]*(ve-Z)},X.push(_e)}if((Ce||ue)&&(ie.width=Ce?pe:C.width,ie.height=ue?ve:C.height,C.width=ie.width,C.height=ie.height),A&&H.expandParent){const ne=ce[0]*(ie.width??0);ie.x&&ie.x<ne&&(C.x=ne,O.x=O.x-(ie.x-ne));const K=ce[1]*(ie.height??0);ie.y&&ie.y<K&&(C.y=K,O.y=O.y-(ie.y-K))}const z=F3({width:C.width,prevWidth:G,height:C.height,prevHeight:Z,affectsX:k.affectsX,affectsY:k.affectsY}),F={...C,direction:z};(v==null?void 0:v(E,F))!==!1&&(m==null||m(E,F),i(ie,X))}).on("end",E=>{y==null||y(E,{...C}),o==null||o()});s.call(N)}function u(){s.on(".drag",null)}return{update:a,destroy:u}}function J3(t){let e,n,i,o,s,a;const u=t[45].default,f=xt(u,t,t[44],null);return{c(){e=Ee("div"),f&&f.c(),P(e,"data-handleid",t[6]),P(e,"data-nodeid",t[14]),P(e,"data-handlepos",t[2]),P(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),P(e,"class",i=ut(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),P(e,"style",t[3]),P(e,"role","button"),P(e,"tabindex","-1"),Ke(e,"valid",t[7]),Ke(e,"connectingto",t[5]),Ke(e,"connectingfrom",t[9]),Ke(e,"source",!t[11]),Ke(e,"target",t[11]),Ke(e,"connectablestart",t[12]),Ke(e,"connectableend",t[12]),Ke(e,"connectable",t[12]),Ke(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(d,h){oe(d,e,h),f&&f.m(e,null),o=!0,s||(a=[We(e,"mousedown",t[32]),We(e,"touchstart",t[32])],s=!0)},p(d,h){f&&f.p&&(!o||h[1]&8192)&&Vt(f,u,d,d[44],o?Ft(u,d[44],h,null):Ut(d[44]),null),(!o||h[0]&64)&&P(e,"data-handleid",d[6]),(!o||h[0]&4)&&P(e,"data-handlepos",d[2]),(!o||h[0]&8195&&n!==(n=d[13]+"-"+d[14]+"-"+(d[0]||null)+"-"+d[1]))&&P(e,"data-id",n),(!o||h[0]&20&&i!==(i=ut(["svelte-flow__handle",`svelte-flow__handle-${d[2]}`,"nodrag","nopan",d[2],d[4]])))&&P(e,"class",i),(!o||h[0]&8)&&P(e,"style",d[3]),(!o||h[0]&148)&&Ke(e,"valid",d[7]),(!o||h[0]&52)&&Ke(e,"connectingto",d[5]),(!o||h[0]&532)&&Ke(e,"connectingfrom",d[9]),(!o||h[0]&2068)&&Ke(e,"source",!d[11]),(!o||h[0]&2068)&&Ke(e,"target",d[11]),(!o||h[0]&4116)&&Ke(e,"connectablestart",d[12]),(!o||h[0]&4116)&&Ke(e,"connectableend",d[12]),(!o||h[0]&4116)&&Ke(e,"connectable",d[12]),(!o||h[0]&5396)&&Ke(e,"connectionindicator",d[12]&&(!d[10]||d[8]))},i(d){o||(se(f,d),o=!0)},o(d){fe(f,d),o=!1},d(d){d&&re(e),f&&f.d(d),s=!1,At(a)}}}function Q3(t,e,n){let i,o,s,a,u,f,d,h,g,m,y,v,C,O,k,H,M,B,A,I,p,N,E,W,D,{$$slots:S={},$$scope:Y}=e,{id:w=void 0}=e,{type:X="source"}=e,{position:R=Ue.Top}=e,{style:V=void 0}=e,{isValidConnection:G=void 0}=e,{onconnect:Z=void 0}=e,{ondisconnect:ie=void 0}=e,{isConnectable:ce=void 0}=e,{class:pe=void 0}=e;const ve=co("svelteflow__node_id"),le=co("svelteflow__node_connectable");be(t,le,te=>n(43,D=te));const ke=gt(),{connectionMode:Ce,domNode:ue,nodeLookup:Q,connectionRadius:$,viewport:z,isValidConnection:F,lib:ee,addEdge:ne,onedgecreate:K,panBy:_e,cancelConnection:Le,updateConnection:Ze,autoPanOnConnect:De,edges:ct,connectionLookup:it,onconnect:yt,onconnectstart:Ie,onconnectend:Kt,flowId:en,connection:Ot}=ke;be(t,Ce,te=>n(40,m=te)),be(t,ue,te=>n(55,E=te)),be(t,Q,te=>n(54,N=te)),be(t,$,te=>n(56,W=te)),be(t,z,te=>n(46,C=te)),be(t,F,te=>n(51,B=te)),be(t,ee,te=>n(53,p=te)),be(t,K,te=>n(50,M=te)),be(t,De,te=>n(52,I=te)),be(t,ct,te=>n(42,v=te)),be(t,it,te=>n(41,y=te)),be(t,yt,te=>n(49,H=te)),be(t,Ie,te=>n(48,k=te)),be(t,Kt,te=>n(47,O=te)),be(t,en,te=>n(13,A=te)),be(t,Ot,te=>n(39,g=te));function Jn(te){const Zt=vh(te);(Zt&&te.button===0||!Zt)&&L3.onPointerDown(te,{handleId:s,nodeId:ve,isTarget:i,connectionRadius:W,domNode:E,nodeLookup:N,connectionMode:m,lib:p,autoPanOnConnect:I,flowId:A,isValidConnection:G??B,updateConnection:Ze,cancelConnection:Le,panBy:_e,onConnect:wt=>{const mt=M?M(wt):wt;mt&&(ne(mt),H==null||H(wt))},onConnectStart:(wt,mt)=>{k==null||k(wt,{nodeId:mt.nodeId,handleId:mt.handleId,handleType:mt.handleType})},onConnectEnd:(wt,mt)=>{O==null||O(wt,mt)},getTransform:()=>[C.x,C.y,C.zoom],getFromHandle:()=>g.fromHandle})}let Ht=null,zt;return t.$$set=te=>{"id"in te&&n(0,w=te.id),"type"in te&&n(1,X=te.type),"position"in te&&n(2,R=te.position),"style"in te&&n(3,V=te.style),"isValidConnection"in te&&n(33,G=te.isValidConnection),"onconnect"in te&&n(34,Z=te.onconnect),"ondisconnect"in te&&n(35,ie=te.ondisconnect),"isConnectable"in te&&n(36,ce=te.isConnectable),"class"in te&&n(4,pe=te.class),"$$scope"in te&&n(44,Y=te.$$scope)},t.$$.update=()=>{var te,Zt,wt,mt,Bn,Wn,Yn,Xn,wn;if(t.$$.dirty[0]&2&&n(11,i=X==="target"),t.$$.dirty[1]&4128&&n(12,o=ce!==void 0?ce:D),t.$$.dirty[0]&1&&n(6,s=w||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(Z||ie)&&n(38,zt=y.get(`${ve}-${X}${w?`-${w}`:""}`)),t.$$.dirty[1]&216){if(Ht&&!jv(zt,Ht)){const Qn=zt??new Map;pd(Ht,Qn,ie),pd(Qn,Ht,Z)}n(37,Ht=zt??new Map)}t.$$.dirty[1]&256&&n(10,a=!!g.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,u=((te=g.fromHandle)==null?void 0:te.nodeId)===ve&&((Zt=g.fromHandle)==null?void 0:Zt.type)===X&&((wt=g.fromHandle)==null?void 0:wt.id)===s),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,f=((mt=g.toHandle)==null?void 0:mt.nodeId)===ve&&((Bn=g.toHandle)==null?void 0:Bn.type)===X&&((Wn=g.toHandle)==null?void 0:Wn.id)===s),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,d=m===Ui.Strict?((Yn=g.fromHandle)==null?void 0:Yn.type)!==X:ve!==((Xn=g.fromHandle)==null?void 0:Xn.nodeId)||s!==((wn=g.fromHandle)==null?void 0:wn.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,h=f&&g.isValid)},[w,X,R,V,pe,f,s,h,d,u,a,i,o,A,ve,le,Ce,ue,Q,$,z,F,ee,K,De,ct,it,yt,Ie,Kt,en,Ot,Jn,G,Z,ie,ce,Ht,zt,g,m,y,v,D,Y,S]}class po extends Be{constructor(e){super(),ze(this,e,Q3,J3,Ye,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function j3(t){var f;let e,n,i=((f=t[0])==null?void 0:f.label)+"",o,s,a,u;return e=new po({props:{type:"target",position:t[1]??Ue.Top}}),a=new po({props:{type:"source",position:t[2]??Ue.Bottom}}),{c(){Te(e.$$.fragment),n=Pe(),o=nt(i),s=Pe(),Te(a.$$.fragment)},m(d,h){Ae(e,d,h),oe(d,n,h),oe(d,o,h),oe(d,s,h),Ae(a,d,h),u=!0},p(d,[h]){var y;const g={};h&2&&(g.position=d[1]??Ue.Top),e.$set(g),(!u||h&1)&&i!==(i=((y=d[0])==null?void 0:y.label)+"")&&Xt(o,i);const m={};h&4&&(m.position=d[2]??Ue.Bottom),a.$set(m)},i(d){u||(se(e.$$.fragment,d),se(a.$$.fragment,d),u=!0)},o(d){fe(e.$$.fragment,d),fe(a.$$.fragment,d),u=!1},d(d){d&&(re(n),re(o),re(s)),Me(e,d),Me(a,d)}}}function $3(t,e,n){const i=["data","targetPosition","sourcePosition"];St(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e,{sourcePosition:a=void 0}=e;return t.$$set=u=>{e=ot(ot({},e),_n(u)),n(3,St(e,i)),"data"in u&&n(0,o=u.data),"targetPosition"in u&&n(1,s=u.targetPosition),"sourcePosition"in u&&n(2,a=u.sourcePosition)},[o,s,a]}class Rh extends Be{constructor(e){super(),ze(this,e,$3,j3,Ye,{data:0,targetPosition:1,sourcePosition:2})}}function e5(t){var a;let e=((a=t[0])==null?void 0:a.label)+"",n,i,o,s;return o=new po({props:{type:"source",position:t[1]??Ue.Bottom}}),{c(){n=nt(e),i=Pe(),Te(o.$$.fragment)},m(u,f){oe(u,n,f),oe(u,i,f),Ae(o,u,f),s=!0},p(u,[f]){var h;(!s||f&1)&&e!==(e=((h=u[0])==null?void 0:h.label)+"")&&Xt(n,e);const d={};f&2&&(d.position=u[1]??Ue.Bottom),o.$set(d)},i(u){s||(se(o.$$.fragment,u),s=!0)},o(u){fe(o.$$.fragment,u),s=!1},d(u){u&&(re(n),re(i)),Me(o,u)}}}function t5(t,e,n){const i=["data","sourcePosition"];St(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:s=void 0}=e;return t.$$set=a=>{e=ot(ot({},e),_n(a)),n(2,St(e,i)),"data"in a&&n(0,o=a.data),"sourcePosition"in a&&n(1,s=a.sourcePosition)},[o,s]}class n5 extends Be{constructor(e){super(),ze(this,e,t5,e5,Ye,{data:0,sourcePosition:1})}}function i5(t){var a;let e=((a=t[0])==null?void 0:a.label)+"",n,i,o,s;return o=new po({props:{type:"target",position:t[1]??Ue.Top}}),{c(){n=nt(e),i=Pe(),Te(o.$$.fragment)},m(u,f){oe(u,n,f),oe(u,i,f),Ae(o,u,f),s=!0},p(u,[f]){var h;(!s||f&1)&&e!==(e=((h=u[0])==null?void 0:h.label)+"")&&Xt(n,e);const d={};f&2&&(d.position=u[1]??Ue.Top),o.$set(d)},i(u){s||(se(o.$$.fragment,u),s=!0)},o(u){fe(o.$$.fragment,u),s=!1},d(u){u&&(re(n),re(i)),Me(o,u)}}}function r5(t,e,n){const i=["data","targetPosition"];St(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e;return t.$$set=a=>{e=ot(ot({},e),_n(a)),n(2,St(e,i)),"data"in a&&n(0,o=a.data),"targetPosition"in a&&n(1,s=a.targetPosition)},[o,s]}class o5 extends Be{constructor(e){super(),ze(this,e,r5,i5,Ye,{data:0,targetPosition:1})}}function l5(t,e,n){const i=[];return St(e,i),t.$$set=o=>{e=ot(ot({},e),_n(o)),n(0,St(e,i))},[]}class s5 extends Be{constructor(e){super(),ze(this,e,l5,null,Ye,{})}}function Hd(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function u5(t,{target:e,domNode:n}){return Hd(t,n,e),{async update({target:i,domNode:o}){Hd(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function a5(t){let e,n,i,o,s;const a=t[3].default,u=xt(a,t,t[2],null);return{c(){e=Ee("div"),u&&u.c()},m(f,d){oe(f,e,d),u&&u.m(e,null),i=!0,o||(s=$t(n=u5.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(f,[d]){u&&u.p&&(!i||d&4)&&Vt(u,a,f,f[2],i?Ft(a,f[2],d,null):Ut(f[2]),null),n&&vt(n.update)&&d&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:f[0]})},i(f){i||(se(u,f),i=!0)},o(f){fe(u,f),i=!1},d(f){f&&re(e),u&&u.d(f),o=!1,s()}}}function f5(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{domNode:a}=gt();return be(t,a,u=>n(0,i=u)),t.$$set=u=>{"$$scope"in u&&n(2,s=u.$$scope)},[i,a,s,o]}class c5 extends Be{constructor(e){super(),ze(this,e,f5,a5,Ye,{})}}function Hh(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:s,elementsSelectable:a}=gt();return u=>{const f=he(t).get(u);if(!f){console.warn("012",Mr.error012(u));return}(f.selectable||he(a)&&typeof f.selectable>"u")&&(e.set(null),n.set(null),f.selected?f.selected&&he(i)&&s({nodes:[],edges:[f]}):o([u]))}}function d5(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,s,a;const u=t[5].default,f=xt(u,t,t[7],null);return{c(){e=Ee("div"),f&&f.c(),P(e,"class","svelte-flow__edge-label"),P(e,"style",n="pointer-events: all;"+t[0]),P(e,"role","button"),P(e,"tabindex","-1"),Xe(e,"transform",i)},m(d,h){oe(d,e,h),f&&f.m(e,null),o=!0,s||(a=[We(e,"keyup",g5),We(e,"click",t[6])],s=!0)},p(d,h){f&&f.p&&(!o||h&128)&&Vt(f,u,d,d[7],o?Ft(u,d[7],h,null):Ut(d[7]),null),(!o||h&1&&n!==(n="pointer-events: all;"+d[0]))&&P(e,"style",n);const g=h&1;(h&7&&i!==(i=`translate(-50%, -50%) translate(${d[1]}px,${d[2]}px)`)||g)&&Xe(e,"transform",i)},i(d){o||(se(f,d),o=!0)},o(d){fe(f,d),o=!1},d(d){d&&re(e),f&&f.d(d),s=!1,At(a)}}}function h5(t){let e,n;return e=new c5({props:{$$slots:{default:[d5]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&135&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}const g5=()=>{};function m5(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:s=void 0}=e,{x:a=void 0}=e,{y:u=void 0}=e;const f=Hh(),d=co("svelteflow__edge_id"),h=()=>{d&&f(d)};return t.$$set=g=>{"style"in g&&n(0,s=g.style),"x"in g&&n(1,a=g.x),"y"in g&&n(2,u=g.y),"$$scope"in g&&n(7,o=g.$$scope)},[s,a,u,f,d,i,h,o]}class _5 extends Be{constructor(e){super(),ze(this,e,m5,h5,Ye,{style:0,x:1,y:2})}}function y5(t){let e;return{c(){e=Ge("path"),P(e,"d",t[1]),P(e,"stroke-opacity",0),P(e,"stroke-width",t[10]),P(e,"fill","none"),P(e,"class","svelte-flow__edge-interaction")},m(n,i){oe(n,e,i)},p(n,i){i&2&&P(e,"d",n[1])},d(n){n&&re(e)}}}function zd(t){let e,n;return e=new _5({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[w5]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&8&&(s.x=i[3]),o&16&&(s.y=i[4]),o&32&&(s.style=i[5]),o&4100&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function w5(t){let e;return{c(){e=nt(t[2])},m(n,i){oe(n,e,i)},p(n,i){i&4&&Xt(e,n[2])},d(n){n&&re(e)}}}function b5(t){let e,n,i,o,s,a,u=t[10]&&y5(t),f=t[2]&&zd(t);return{c(){e=Ge("path"),i=Pe(),u&&u.c(),o=Pe(),f&&f.c(),s=Pt(),P(e,"id",t[0]),P(e,"d",t[1]),P(e,"class",n=ut(["svelte-flow__edge-path",t[9]])),P(e,"marker-start",t[6]),P(e,"marker-end",t[7]),P(e,"fill","none"),P(e,"style",t[8])},m(d,h){oe(d,e,h),oe(d,i,h),u&&u.m(d,h),oe(d,o,h),f&&f.m(d,h),oe(d,s,h),a=!0},p(d,[h]){(!a||h&1)&&P(e,"id",d[0]),(!a||h&2)&&P(e,"d",d[1]),(!a||h&512&&n!==(n=ut(["svelte-flow__edge-path",d[9]])))&&P(e,"class",n),(!a||h&64)&&P(e,"marker-start",d[6]),(!a||h&128)&&P(e,"marker-end",d[7]),(!a||h&256)&&P(e,"style",d[8]),d[10]&&u.p(d,h),d[2]?f?(f.p(d,h),h&4&&se(f,1)):(f=zd(d),f.c(),se(f,1),f.m(s.parentNode,s)):f&&(Ct(),fe(f,1,1,()=>{f=null}),Et())},i(d){a||(se(f),a=!0)},o(d){fe(f),a=!1},d(d){d&&(re(e),re(i),re(o),re(s)),u&&u.d(d),f&&f.d(d)}}}function p5(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:s=void 0}=e,{labelX:a=void 0}=e,{labelY:u=void 0}=e,{labelStyle:f=void 0}=e,{markerStart:d=void 0}=e,{markerEnd:h=void 0}=e,{style:g=void 0}=e,{interactionWidth:m=20}=e,{class:y=void 0}=e,v=m===void 0?20:m;return t.$$set=C=>{"id"in C&&n(0,i=C.id),"path"in C&&n(1,o=C.path),"label"in C&&n(2,s=C.label),"labelX"in C&&n(3,a=C.labelX),"labelY"in C&&n(4,u=C.labelY),"labelStyle"in C&&n(5,f=C.labelStyle),"markerStart"in C&&n(6,d=C.markerStart),"markerEnd"in C&&n(7,h=C.markerEnd),"style"in C&&n(8,g=C.style),"interactionWidth"in C&&n(11,m=C.interactionWidth),"class"in C&&n(9,y=C.class)},[i,o,s,a,u,f,d,h,g,y,v,m]}class Po extends Be{constructor(e){super(),ze(this,e,p5,b5,Ye,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function v5(t){let e,n;return e=new Po({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function k5(t,e,n){let i,o,s;const a=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];St(e,a);let{label:u=void 0}=e,{labelStyle:f=void 0}=e,{style:d=void 0}=e,{markerStart:h=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:m=void 0}=e,{sourceX:y}=e,{sourceY:v}=e,{sourcePosition:C}=e,{targetX:O}=e,{targetY:k}=e,{targetPosition:H}=e;return t.$$set=M=>{e=ot(ot({},e),_n(M)),n(15,St(e,a)),"label"in M&&n(0,u=M.label),"labelStyle"in M&&n(1,f=M.labelStyle),"style"in M&&n(2,d=M.style),"markerStart"in M&&n(3,h=M.markerStart),"markerEnd"in M&&n(4,g=M.markerEnd),"interactionWidth"in M&&n(5,m=M.interactionWidth),"sourceX"in M&&n(9,y=M.sourceX),"sourceY"in M&&n(10,v=M.sourceY),"sourcePosition"in M&&n(11,C=M.sourcePosition),"targetX"in M&&n(12,O=M.targetX),"targetY"in M&&n(13,k=M.targetY),"targetPosition"in M&&n(14,H=M.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=ls({sourceX:y,sourceY:v,targetX:O,targetY:k,sourcePosition:C,targetPosition:H}),i,(n(7,o),n(9,y),n(10,v),n(12,O),n(13,k),n(11,C),n(14,H)),(n(6,s),n(9,y),n(10,v),n(12,O),n(13,k),n(11,C),n(14,H)))},[u,f,d,h,g,m,s,o,i,y,v,C,O,k,H]}class zh extends Be{constructor(e){super(),ze(this,e,k5,v5,Ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function C5(t){let e,n;return e=new Po({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function E5(t,e,n){let i,o,s;const a=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];St(e,a);let{label:u=void 0}=e,{labelStyle:f=void 0}=e,{style:d=void 0}=e,{markerStart:h=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:m=void 0}=e,{sourceX:y}=e,{sourceY:v}=e,{sourcePosition:C}=e,{targetX:O}=e,{targetY:k}=e,{targetPosition:H}=e;return t.$$set=M=>{e=ot(ot({},e),_n(M)),n(15,St(e,a)),"label"in M&&n(0,u=M.label),"labelStyle"in M&&n(1,f=M.labelStyle),"style"in M&&n(2,d=M.style),"markerStart"in M&&n(3,h=M.markerStart),"markerEnd"in M&&n(4,g=M.markerEnd),"interactionWidth"in M&&n(5,m=M.interactionWidth),"sourceX"in M&&n(9,y=M.sourceX),"sourceY"in M&&n(10,v=M.sourceY),"sourcePosition"in M&&n(11,C=M.sourcePosition),"targetX"in M&&n(12,O=M.targetX),"targetY"in M&&n(13,k=M.targetY),"targetPosition"in M&&n(14,H=M.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=Jl({sourceX:y,sourceY:v,targetX:O,targetY:k,sourcePosition:C,targetPosition:H}),i,(n(7,o),n(9,y),n(10,v),n(12,O),n(13,k),n(11,C),n(14,H)),(n(6,s),n(9,y),n(10,v),n(12,O),n(13,k),n(11,C),n(14,H)))},[u,f,d,h,g,m,s,o,i,y,v,C,O,k,H]}class S5 extends Be{constructor(e){super(),ze(this,e,E5,C5,Ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function A5(t){let e,n;return e=new Po({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function M5(t,e,n){let i,o,s;const a=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];St(e,a);let{label:u=void 0}=e,{labelStyle:f=void 0}=e,{style:d=void 0}=e,{markerStart:h=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:m=void 0}=e,{sourceX:y}=e,{sourceY:v}=e,{targetX:C}=e,{targetY:O}=e;return t.$$set=k=>{e=ot(ot({},e),_n(k)),n(13,St(e,a)),"label"in k&&n(0,u=k.label),"labelStyle"in k&&n(1,f=k.labelStyle),"style"in k&&n(2,d=k.style),"markerStart"in k&&n(3,h=k.markerStart),"markerEnd"in k&&n(4,g=k.markerEnd),"interactionWidth"in k&&n(5,m=k.interactionWidth),"sourceX"in k&&n(9,y=k.sourceX),"sourceY"in k&&n(10,v=k.sourceY),"targetX"in k&&n(11,C=k.targetX),"targetY"in k&&n(12,O=k.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,s]=Ch({sourceX:y,sourceY:v,targetX:C,targetY:O}),i,(n(7,o),n(9,y),n(10,v),n(11,C),n(12,O)),(n(6,s),n(9,y),n(10,v),n(11,C),n(12,O)))},[u,f,d,h,g,m,s,o,i,y,v,C,O]}class T5 extends Be{constructor(e){super(),ze(this,e,M5,A5,Ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function P5(t){let e,n;return e=new Po({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function I5(t,e,n){let i,o,s;const a=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];St(e,a);let{label:u=void 0}=e,{labelStyle:f=void 0}=e,{style:d=void 0}=e,{markerStart:h=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:m=void 0}=e,{sourceX:y}=e,{sourceY:v}=e,{sourcePosition:C}=e,{targetX:O}=e,{targetY:k}=e,{targetPosition:H}=e;return t.$$set=M=>{e=ot(ot({},e),_n(M)),n(15,St(e,a)),"label"in M&&n(0,u=M.label),"labelStyle"in M&&n(1,f=M.labelStyle),"style"in M&&n(2,d=M.style),"markerStart"in M&&n(3,h=M.markerStart),"markerEnd"in M&&n(4,g=M.markerEnd),"interactionWidth"in M&&n(5,m=M.interactionWidth),"sourceX"in M&&n(9,y=M.sourceX),"sourceY"in M&&n(10,v=M.sourceY),"sourcePosition"in M&&n(11,C=M.sourcePosition),"targetX"in M&&n(12,O=M.targetX),"targetY"in M&&n(13,k=M.targetY),"targetPosition"in M&&n(14,H=M.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=Jl({sourceX:y,sourceY:v,targetX:O,targetY:k,sourcePosition:C,targetPosition:H,borderRadius:0}),i,(n(7,o),n(9,y),n(10,v),n(12,O),n(13,k),n(11,C),n(14,H)),(n(6,s),n(9,y),n(10,v),n(12,O),n(13,k),n(11,C),n(14,H)))},[u,f,d,h,g,m,s,o,i,y,v,C,O,k,H]}class O5 extends Be{constructor(e){super(),ze(this,e,I5,P5,Ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function N5(t,e){const n=t.set,i=e.set,o=he(t),s=he(e);let u=o.length===0&&s.length>0?s:o;t.set(u);const f=d=>{const h=n(d);return u=h,i(u),h};t.set=e.set=f,t.update=e.update=d=>f(d(u))}function L5(t,e){const n=t.set,i=e.set;let o=he(e);t.set(o);const s=a=>{n(a),i(a),o=a};t.set=e.set=s,t.update=e.update=a=>s(a(o))}const D5=(t,e,n)=>{if(!n)return;const i=he(t),o=e.set,s=n.set;let a=n?he(n):{x:0,y:0,zoom:1};e.set(a),e.set=u=>(o(u),s(u),a=u,u),n.set=u=>(i==null||i.syncViewport(u),o(u),s(u),a=u,u),e.update=u=>{e.set(u(a))},n.update=u=>{n.set(u(a))}},R5=(t,e,n,i=[0,0],o=Ul)=>{const{subscribe:s,set:a,update:u}=He([]);let f=t,d={},h=!0;const g=C=>(Eh(C,e,n,{elevateNodesOnSelect:h,nodeOrigin:i,nodeExtent:o,defaults:d,checkEquality:!1}),f=C,a(f),f),m=C=>g(C(f)),y=C=>{d=C},v=C=>{h=C.elevateNodesOnSelect??h};return g(f),{subscribe:s,set:g,update:m,setDefaultOptions:y,setOptions:v}},H5=(t,e,n,i)=>{const{subscribe:o,set:s,update:a}=He([]);let u=t,f={};const d=m=>{const y=f?m.map(v=>({...f,...v})):m;Ah(e,n,y),u=y,s(u)},h=m=>d(m(u)),g=m=>{f=m};return d(u),{subscribe:o,set:d,update:h,setDefaultOptions:g}},Bh={input:n5,output:o5,default:Rh,group:s5},Wh={straight:T5,smoothstep:S5,default:zh,step:O5},z5=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:a})=>{const u=new Map,f=new Map,d=new Map,h=new Map,g=s??[0,0],m=a??Ul;Eh(t,u,f,{nodeExtent:m,nodeOrigin:g,elevateNodesOnSelect:!1,checkEquality:!1}),Ah(d,h,e);let y={x:0,y:0,zoom:1};if(o&&n&&i){const v=Mo(u,{filter:C=>!!((C.width||C.initialWidth)&&(C.height||C.initialHeight))});y=va(v,n,i,.5,2,.1)}return{flowId:He(null),nodes:R5(t,u,f,g,m),nodeLookup:Mn(u),parentLookup:Mn(f),edgeLookup:Mn(h),visibleNodes:Mn([]),edges:H5(e,d,h),visibleEdges:Mn([]),connectionLookup:Mn(d),height:He(500),width:He(500),minZoom:He(.5),maxZoom:He(2),nodeOrigin:He(g),nodeDragThreshold:He(1),nodeExtent:He(m),translateExtent:He(Ul),autoPanOnNodeDrag:He(!0),autoPanOnConnect:He(!0),fitViewOnInit:He(!1),fitViewOnInitDone:He(!1),fitViewOptions:He(void 0),panZoom:He(null),snapGrid:He(null),dragging:He(!1),selectionRect:He(null),selectionKeyPressed:He(!1),multiselectionKeyPressed:He(!1),deleteKeyPressed:He(!1),panActivationKeyPressed:He(!1),zoomActivationKeyPressed:He(!1),selectionRectMode:He(null),selectionMode:He(Kl.Partial),nodeTypes:He(Bh),edgeTypes:He(Wh),viewport:He(y),connectionMode:He(Ui.Strict),domNode:He(null),connection:Mn(sa),connectionLineType:He(pr.Bezier),connectionRadius:He(20),isValidConnection:He(()=>!0),nodesDraggable:He(!0),nodesConnectable:He(!0),elementsSelectable:He(!0),selectNodesOnDrag:He(!0),markers:Mn([]),defaultMarkerColor:He("#b1b1b7"),lib:Mn("svelte"),onlyRenderVisibleElements:He(!1),onerror:He(i3),ondelete:He(void 0),onedgecreate:He(void 0),onconnect:He(void 0),onconnectstart:He(void 0),onconnectend:He(void 0),onbeforedelete:He(void 0),nodesInitialized:He(!1),edgesInitialized:He(!1),viewportInitialized:He(!1),initialized:Mn(!1)}};function B5(t){const e=yr([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,s,a,u])=>o&&a&&u?n.filter(d=>{const h=i.get(d.source),g=i.get(d.target);return h&&g&&f3({sourceNode:h,targetNode:g,width:a,height:u,transform:[s.x,s.y,s.zoom]})}):n);return yr([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,s])=>n.reduce((u,f)=>{const d=i.get(f.source),h=i.get(f.target);if(!d||!h)return u;const g=y3({id:f.id,sourceNode:d,targetNode:h,sourceHandle:f.sourceHandle||null,targetHandle:f.targetHandle||null,connectionMode:o,onError:s});return g&&u.push({...f,zIndex:a3({selected:f.selected,zIndex:f.zIndex,sourceNode:d,targetNode:h,elevateOnSelect:!1}),...g}),u},[]))}function W5(t){return yr([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,s])=>{const a=[s.x,s.y,s.zoom];return n?mh(e,{x:0,y:0,width:i,height:o},a,!0):Array.from(e.values())})}const us=Symbol();function Yh({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:a}){const u=z5({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:a});function f(R){u.nodeTypes.set({...Bh,...R})}function d(R){u.edgeTypes.set({...Wh,...R})}function h(R){const V=he(u.edges);u.edges.set(h3(R,V))}const g=(R,V=!1)=>{var Z;const G=he(u.nodeLookup);for(const[ie,ce]of R){const pe=(Z=G.get(ie))==null?void 0:Z.internals.userNode;pe&&(pe.position=ce.position,pe.dragging=V)}u.nodes.update(ie=>ie)};function m(R){var ce,pe,ve;const V=he(u.nodeLookup),G=he(u.parentLookup),{changes:Z,updatedInternals:ie}=E3(R,V,he(u.parentLookup),he(u.domNode),he(u.nodeOrigin));if(ie){if(p3(V,G,{nodeOrigin:s,nodeExtent:a}),!he(u.fitViewOnInitDone)&&he(u.fitViewOnInit)){const le=he(u.fitViewOptions),ke=v({...le,nodes:le==null?void 0:le.nodes});u.fitViewOnInitDone.set(ke)}for(const le of Z){const ke=(ce=V.get(le.id))==null?void 0:ce.internals.userNode;if(ke)switch(le.type){case"dimensions":{const Ce={...ke.measured,...le.dimensions};le.setAttributes&&(ke.width=((pe=le.dimensions)==null?void 0:pe.width)??ke.width,ke.height=((ve=le.dimensions)==null?void 0:ve.height)??ke.height),ke.measured=Ce;break}case"position":ke.position=le.position??ke.position;break}}u.nodes.update(le=>le),he(u.nodesInitialized)||u.nodesInitialized.set(!0)}}function y(R){const V=he(u.panZoom),G=he(u.domNode);if(!V||!G)return Promise.resolve(!1);const{width:Z,height:ie}=ka(G),ce=kd(he(u.nodeLookup),R);return Cd({nodes:ce,width:Z,height:ie,minZoom:he(u.minZoom),maxZoom:he(u.maxZoom),panZoom:V},R)}function v(R){const V=he(u.panZoom);if(!V)return!1;const G=kd(he(u.nodeLookup),R);return Cd({nodes:G,width:he(u.width),height:he(u.height),minZoom:he(u.minZoom),maxZoom:he(u.maxZoom),panZoom:V},R),G.size>0}function C(R,V){const G=he(u.panZoom);return G?G.scaleBy(R,V):Promise.resolve(!1)}function O(R){return C(1.2,R)}function k(R){return C(1/1.2,R)}function H(R){const V=he(u.panZoom);V&&(V.setScaleExtent([R,he(u.maxZoom)]),u.minZoom.set(R))}function M(R){const V=he(u.panZoom);V&&(V.setScaleExtent([he(u.minZoom),R]),u.maxZoom.set(R))}function B(R){const V=he(u.panZoom);V&&(V.setTranslateExtent(R),u.translateExtent.set(R))}function A(R){let V=!1;return R.forEach(G=>{G.selected&&(G.selected=!1,V=!0)}),V}function I(R){var V;(V=he(u.panZoom))==null||V.setClickDistance(R)}function p(R){A((R==null?void 0:R.nodes)||he(u.nodes))&&u.nodes.set(he(u.nodes)),A((R==null?void 0:R.edges)||he(u.edges))&&u.edges.set(he(u.edges))}u.deleteKeyPressed.subscribe(async R=>{var V;if(R){const G=he(u.nodes),Z=he(u.edges),ie=G.filter(le=>le.selected),ce=Z.filter(le=>le.selected),{nodes:pe,edges:ve}=await _h({nodesToRemove:ie,edgesToRemove:ce,nodes:G,edges:Z,onBeforeDelete:he(u.onbeforedelete)});(pe.length||ve.length)&&(u.nodes.update(le=>le.filter(ke=>!pe.some(Ce=>Ce.id===ke.id))),u.edges.update(le=>le.filter(ke=>!ve.some(Ce=>Ce.id===ke.id))),(V=he(u.ondelete))==null||V({nodes:pe,edges:ve}))}});function N(R){const V=he(u.multiselectionKeyPressed);u.nodes.update(G=>G.map(Z=>{const ie=R.includes(Z.id),ce=V&&Z.selected||ie;return Z.selected=ce,Z})),V||u.edges.update(G=>G.map(Z=>(Z.selected=!1,Z)))}function E(R){const V=he(u.multiselectionKeyPressed);u.edges.update(G=>G.map(Z=>{const ie=R.includes(Z.id),ce=V&&Z.selected||ie;return Z.selected=ce,Z})),V||u.nodes.update(G=>G.map(Z=>(Z.selected=!1,Z)))}function W(R){var G;const V=(G=he(u.nodes))==null?void 0:G.find(Z=>Z.id===R);if(!V){console.warn("012",Mr.error012(R));return}u.selectionRect.set(null),u.selectionRectMode.set(null),V.selected?V.selected&&he(u.multiselectionKeyPressed)&&p({nodes:[V],edges:[]}):N([R])}function D(R){const V=he(u.viewport);return S3({delta:R,panZoom:he(u.panZoom),transform:[V.x,V.y,V.zoom],translateExtent:he(u.translateExtent),width:he(u.width),height:he(u.height)})}const S=He(sa),Y=R=>{S.set({...R})};function w(){S.set(sa)}function X(){u.fitViewOnInitDone.set(!1),u.selectionRect.set(null),u.selectionRectMode.set(null),u.snapGrid.set(null),u.isValidConnection.set(()=>!0),p(),w()}return{...u,visibleEdges:B5(u),visibleNodes:W5(u),connection:yr([S,u.viewport],([R,V])=>R.inProgress?{...R,to:To(R.to,[V.x,V.y,V.zoom])}:{...R}),markers:yr([u.edges,u.defaultMarkerColor,u.flowId],([R,V,G])=>w3(R,{defaultColor:V,id:G})),initialized:(()=>{let R=!1;const V=he(u.nodes).length,G=he(u.edges).length;return yr([u.nodesInitialized,u.edgesInitialized,u.viewportInitialized],([Z,ie,ce])=>R||(V===0?R=ce:G===0?R=ce&&Z:R=ce&&Z&&ie,R))})(),syncNodeStores:R=>N5(u.nodes,R),syncEdgeStores:R=>L5(u.edges,R),syncViewport:R=>D5(u.panZoom,u.viewport,R),setNodeTypes:f,setEdgeTypes:d,addEdge:h,updateNodePositions:g,updateNodeInternals:m,zoomIn:O,zoomOut:k,fitView:R=>y(R),setMinZoom:H,setMaxZoom:M,setTranslateExtent:B,setPaneClickDistance:I,unselectNodesAndEdges:p,addSelectedNodes:N,addSelectedEdges:E,handleNodeSelection:W,panBy:D,updateConnection:Y,cancelConnection:w,reset:X}}function gt(){const t=co(us);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function Y5({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:a}){const u=Yh({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:a});return fo(us,{getStore:()=>u}),u}function X5(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:s,viewport:a,dragging:u,translateExtent:f,paneClickDistance:d}=e,h=x3({domNode:t,minZoom:i,maxZoom:o,translateExtent:f,viewport:s,paneClickDistance:d,onDraggingChange:u.set}),g=h.getViewport();return a.set(g),n.set(h),h.update(e),{update(m){h.update(m)}}}function x5(t){let e,n,i,o,s;const a=t[35].default,u=xt(a,t,t[34],null);return{c(){e=Ee("div"),u&&u.c(),P(e,"class","svelte-flow__zoom svelte-4xkw84")},m(f,d){oe(f,e,d),u&&u.m(e,null),i=!0,o||(s=$t(n=X5.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Zn.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(f,d){u&&u.p&&(!i||d[1]&8)&&Vt(u,a,f,f[34],i?Ft(a,f[34],d,null):Ut(f[34]),null),n&&vt(n.update)&&d[0]&262143&&n.update.call(null,{viewport:f[18],minZoom:f[12],maxZoom:f[13],initialViewport:f[11],dragging:f[23],panZoom:f[19],onPanZoomStart:f[0],onPanZoom:f[1],onPanZoomEnd:f[2],zoomOnScroll:f[5],zoomOnDoubleClick:f[6],zoomOnPinch:f[7],panOnScroll:f[9],panOnDrag:f[10],panOnScrollSpeed:.5,panOnScrollMode:f[3]||Zn.Free,zoomActivationKeyPressed:f[14],preventScrolling:typeof f[4]=="boolean"?f[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!f[15],translateExtent:f[16],lib:f[17],paneClickDistance:f[8],onTransformChange:f[29]})},i(f){i||(se(u,f),i=!0)},o(f){fe(u,f),i=!1},d(f){f&&re(e),u&&u.d(f),o=!1,s()}}}function F5(t,e,n){let i,o,s,a,u,f,d,h,g,m,y,{$$slots:v={},$$scope:C}=e,{initialViewport:O=void 0}=e,{onMoveStart:k=void 0}=e,{onMove:H=void 0}=e,{onMoveEnd:M=void 0}=e,{panOnScrollMode:B}=e,{preventScrolling:A}=e,{zoomOnScroll:I}=e,{zoomOnDoubleClick:p}=e,{zoomOnPinch:N}=e,{panOnDrag:E}=e,{panOnScroll:W}=e,{paneClickDistance:D}=e;const{viewport:S,panZoom:Y,selectionRect:w,minZoom:X,maxZoom:R,dragging:V,translateExtent:G,lib:Z,panActivationKeyPressed:ie,zoomActivationKeyPressed:ce,viewportInitialized:pe}=gt();be(t,w,le=>n(15,g=le)),be(t,X,le=>n(12,f=le)),be(t,R,le=>n(13,d=le)),be(t,G,le=>n(16,m=le)),be(t,Z,le=>n(17,y=le)),be(t,ie,le=>n(33,u=le)),be(t,ce,le=>n(14,h=le)),be(t,pe,le=>n(36,a=le));const ve=le=>S.set({x:le[0],y:le[1],zoom:le[2]});return Dr(()=>{di(pe,a=!0,a)}),t.$$set=le=>{"initialViewport"in le&&n(30,O=le.initialViewport),"onMoveStart"in le&&n(0,k=le.onMoveStart),"onMove"in le&&n(1,H=le.onMove),"onMoveEnd"in le&&n(2,M=le.onMoveEnd),"panOnScrollMode"in le&&n(3,B=le.panOnScrollMode),"preventScrolling"in le&&n(4,A=le.preventScrolling),"zoomOnScroll"in le&&n(5,I=le.zoomOnScroll),"zoomOnDoubleClick"in le&&n(6,p=le.zoomOnDoubleClick),"zoomOnPinch"in le&&n(7,N=le.zoomOnPinch),"panOnDrag"in le&&n(31,E=le.panOnDrag),"panOnScroll"in le&&n(32,W=le.panOnScroll),"paneClickDistance"in le&&n(8,D=le.paneClickDistance),"$$scope"in le&&n(34,C=le.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=O||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=u||E),t.$$.dirty[1]&6&&n(9,s=u||W)},[k,H,M,B,A,I,p,N,D,s,o,i,f,d,h,g,m,y,S,Y,w,X,R,V,G,Z,ie,ce,pe,ve,O,E,W,u,C,v]}class V5 extends Be{constructor(e){super(),ze(this,e,F5,x5,Ye,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function U5(t){let e,n,i,o;const s=t[28].default,a=xt(s,t,t[27],null);return{c(){e=Ee("div"),a&&a.c(),P(e,"class","svelte-flow__pane svelte-1esy7hx"),Ke(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),Ke(e,"dragging",t[4]),Ke(e,"selection",t[1])},m(u,f){oe(u,e,f),a&&a.m(e,null),t[29](e),n=!0,i||(o=[We(e,"click",function(){vt(t[3]?void 0:Pl(t[15],t[2]))&&(t[3]?void 0:Pl(t[15],t[2])).apply(this,arguments)}),We(e,"pointerdown",function(){vt(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),We(e,"pointermove",function(){vt(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),We(e,"pointerup",function(){vt(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),We(e,"contextmenu",function(){vt(Pl(t[19],t[2]))&&Pl(t[19],t[2]).apply(this,arguments)})],i=!0)},p(u,f){t=u,a&&a.p&&(!n||f[0]&134217728)&&Vt(a,s,t,t[27],n?Ft(s,t[27],f,null):Ut(t[27]),null),(!n||f[0]&1)&&Ke(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||f[0]&16)&&Ke(e,"dragging",t[4]),(!n||f[0]&2)&&Ke(e,"selection",t[1])},i(u){n||(se(a,u),n=!0)},o(u){fe(a,u),n=!1},d(u){u&&re(e),a&&a.d(u),t[29](null),i=!1,At(o)}}}function Pl(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Bd(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function K5(t,e,n){let i,o,s,a,u,f,d,h,g,m,y,v,C,{$$slots:O={},$$scope:k}=e,{panOnDrag:H=void 0}=e,{selectionOnDrag:M=void 0}=e;const B=Co(),{nodes:A,nodeLookup:I,edges:p,viewport:N,dragging:E,elementsSelectable:W,selectionRect:D,selectionRectMode:S,selectionKeyPressed:Y,selectionMode:w,panActivationKeyPressed:X,unselectNodesAndEdges:R}=gt();be(t,I,ue=>n(36,g=ue)),be(t,p,ue=>n(33,f=ue)),be(t,N,ue=>n(35,h=ue)),be(t,E,ue=>n(4,C=ue)),be(t,W,ue=>n(25,y=ue)),be(t,D,ue=>n(24,m=ue)),be(t,S,ue=>n(23,u=ue)),be(t,Y,ue=>n(22,a=ue)),be(t,w,ue=>n(34,d=ue)),be(t,X,ue=>n(26,v=ue));let V,G=null,Z=[],ie=!1;function ce(ue){if(ie){ie=!1;return}B("paneclick",{event:ue}),R(),S.set(null)}function pe(ue){var z,F;if(G=V.getBoundingClientRect(),!W||!o||ue.button!==0||ue.target!==V||!G)return;(F=(z=ue.target)==null?void 0:z.setPointerCapture)==null||F.call(z,ue.pointerId);const{x:Q,y:$}=fi(ue,G);R(),D.set({width:0,height:0,startX:Q,startY:$,x:Q,y:$})}function ve(ue){if(!o||!G||!m)return;ie=!0;const Q=fi(ue,G),$=m.startX??0,z=m.startY??0,F={...m,x:Q.x<$?Q.x:$,y:Q.y<z?Q.y:z,width:Math.abs(Q.x-$),height:Math.abs(Q.y-z)},ee=Z.map(Le=>Le.id),ne=ua(Z,f).map(Le=>Le.id);Z=mh(g,F,[h.x,h.y,h.zoom],d===Kl.Partial,!0);const K=ua(Z,f).map(Le=>Le.id),_e=Z.map(Le=>Le.id);(ee.length!==_e.length||_e.some(Le=>!ee.includes(Le)))&&A.update(Le=>Le.map(Bd(_e))),(ne.length!==K.length||K.some(Le=>!ne.includes(Le)))&&p.update(Le=>Le.map(Bd(K))),S.set("user"),D.set(F)}function le(ue){var Q,$;ue.button===0&&(($=(Q=ue.target)==null?void 0:Q.releasePointerCapture)==null||$.call(Q,ue.pointerId),!o&&u==="user"&&ue.target===V&&(ce==null||ce(ue)),D.set(null),Z.length>0&&di(S,u="nodes",u),a&&(ie=!1))}const ke=ue=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){ue.preventDefault();return}B("panecontextmenu",{event:ue})};function Ce(ue){Tn[ue?"unshift":"push"](()=>{V=ue,n(2,V)})}return t.$$set=ue=>{"panOnDrag"in ue&&n(0,H=ue.panOnDrag),"selectionOnDrag"in ue&&n(20,M=ue.selectionOnDrag),"$$scope"in ue&&n(27,k=ue.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=v||H),t.$$.dirty[0]&24117248&&n(1,o=a||m||M&&i!==!0),t.$$.dirty[0]&41943042&&n(3,s=y&&(o||u==="user"))},[H,o,V,s,C,I,p,N,E,W,D,S,Y,w,X,ce,pe,ve,le,ke,M,i,a,u,m,y,v,k,O,Ce]}class Z5 extends Be{constructor(e){super(),ze(this,e,K5,U5,Ye,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}function G5(t){let e,n;const i=t[3].default,o=xt(i,t,t[2],null);return{c(){e=Ee("div"),o&&o.c(),P(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),Xe(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(s,a){oe(s,e,a),o&&o.m(e,null),n=!0},p(s,[a]){o&&o.p&&(!n||a&4)&&Vt(o,i,s,s[2],n?Ft(i,s[2],a,null):Ut(s[2]),null),(!n||a&1)&&Xe(e,"transform","translate("+s[0].x+"px, "+s[0].y+"px) scale("+s[0].zoom+")")},i(s){n||(se(o,s),n=!0)},o(s){fe(o,s),n=!1},d(s){s&&re(e),o&&o.d(s)}}}function q5(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{viewport:a}=gt();return be(t,a,u=>n(0,i=u)),t.$$set=u=>{"$$scope"in u&&n(2,s=u.$$scope)},[i,a,s,o]}class J5 extends Be{constructor(e){super(),ze(this,e,q5,G5,Ye,{})}}function Xh(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:a}=e,u=M3({onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:a,getStoreItems:()=>{const d=he(n.snapGrid),h=he(n.viewport);return{nodes:he(n.nodes),nodeLookup:he(n.nodeLookup),edges:he(n.edges),nodeExtent:he(n.nodeExtent),snapGrid:d||[0,0],snapToGrid:!!d,nodeOrigin:he(n.nodeOrigin),multiSelectionActive:he(n.multiselectionKeyPressed),domNode:he(n.domNode),transform:[h.x,h.y,h.zoom],autoPanOnNodeDrag:he(n.autoPanOnNodeDrag),nodesDraggable:he(n.nodesDraggable),selectNodesOnDrag:he(n.selectNodesOnDrag),nodeDragThreshold:he(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function f(d,h){if(h.disabled){u.destroy();return}u.update({domNode:d,noDragClassName:h.noDragClass,handleSelector:h.handleSelector,nodeId:h.nodeId,isSelectable:h.isSelectable,nodeClickDistance:h.nodeClickDistance})}return f(t,e),{update(d){f(t,d)},destroy(){u.destroy()}}}function Q5({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:s}){if(o===void 0&&s===void 0){const a=t??n,u=e??i;return{width:a?`width:${a}px;`:"",height:u?`height:${u}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Wd(t){let e,n,i,o,s,a=`translate(${t[12]}px, ${t[13]}px)`,u,f,d;var h=t[27];function g(m,y){return{props:{data:m[2],id:m[1],selected:m[3]??!1,selectable:m[5]??m[28]??!0,deletable:m[7]??!0,sourcePosition:m[14],targetPosition:m[15],zIndex:m[16],dragging:m[9],draggable:m[4]??m[29]??!0,dragHandle:m[19],parentId:m[21],type:m[25],isConnectable:m[30],positionAbsoluteX:m[12],positionAbsoluteY:m[13],width:m[17],height:m[18]}}}return h&&(n=zl(h,g(t))),{c(){e=Ee("div"),n&&Te(n.$$.fragment),P(e,"data-id",t[1]),P(e,"class",i=ut(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),P(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),Ke(e,"dragging",t[9]),Ke(e,"selected",t[3]),Ke(e,"draggable",t[4]),Ke(e,"connectable",t[6]),Ke(e,"selectable",t[5]),Ke(e,"nopan",t[4]),Ke(e,"parent",t[11]),Xe(e,"z-index",t[16]),Xe(e,"transform",a),Xe(e,"visibility",t[20]?"visible":"hidden")},m(m,y){oe(m,e,y),n&&Ae(n,e,null),t[54](e),u=!0,f||(d=[$t(s=Xh.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[33],onDrag:t[51],onDragStart:t[52],onDragStop:t[53],store:t[31]})),We(e,"click",t[38]),We(e,"mouseenter",t[55]),We(e,"mouseleave",t[56]),We(e,"mousemove",t[57]),We(e,"contextmenu",t[58])],f=!0)},p(m,y){if(y[0]&134217728&&h!==(h=m[27])){if(n){Ct();const C=n;fe(C.$$.fragment,1,0,()=>{Me(C,1)}),Et()}h?(n=zl(h,g(m)),Te(n.$$.fragment),se(n.$$.fragment,1),Ae(n,e,null)):n=null}else if(h){const C={};y[0]&4&&(C.data=m[2]),y[0]&2&&(C.id=m[1]),y[0]&8&&(C.selected=m[3]??!1),y[0]&268435488&&(C.selectable=m[5]??m[28]??!0),y[0]&128&&(C.deletable=m[7]??!0),y[0]&16384&&(C.sourcePosition=m[14]),y[0]&32768&&(C.targetPosition=m[15]),y[0]&65536&&(C.zIndex=m[16]),y[0]&512&&(C.dragging=m[9]),y[0]&536870928&&(C.draggable=m[4]??m[29]??!0),y[0]&524288&&(C.dragHandle=m[19]),y[0]&2097152&&(C.parentId=m[21]),y[0]&33554432&&(C.type=m[25]),y[0]&1073741824&&(C.isConnectable=m[30]),y[0]&4096&&(C.positionAbsoluteX=m[12]),y[0]&8192&&(C.positionAbsoluteY=m[13]),y[0]&131072&&(C.width=m[17]),y[0]&262144&&(C.height=m[18]),n.$set(C)}(!u||y[0]&2)&&P(e,"data-id",m[1]),(!u||y[0]&41943040&&i!==(i=ut(["svelte-flow__node",`svelte-flow__node-${m[25]}`,m[23]])))&&P(e,"class",i),(!u||y[0]&67109888&&o!==(o=(m[10]??"")+";"+m[26].width+m[26].height))&&P(e,"style",o),s&&vt(s.update)&&y[0]&4718626&&s.update.call(null,{nodeId:m[1],isSelectable:m[5],disabled:!1,handleSelector:m[19],noDragClass:"nodrag",nodeClickDistance:m[22],onNodeMouseDown:m[33],onDrag:m[51],onDragStart:m[52],onDragStop:m[53],store:m[31]}),(!u||y[0]&41943552)&&Ke(e,"dragging",m[9]),(!u||y[0]&41943048)&&Ke(e,"selected",m[3]),(!u||y[0]&41943056)&&Ke(e,"draggable",m[4]),(!u||y[0]&41943104)&&Ke(e,"connectable",m[6]),(!u||y[0]&41943072)&&Ke(e,"selectable",m[5]),(!u||y[0]&41943056)&&Ke(e,"nopan",m[4]),(!u||y[0]&41945088)&&Ke(e,"parent",m[11]);const v=y[0]&67109888;(y[0]&67175424||v)&&Xe(e,"z-index",m[16]),(y[0]&67122176&&a!==(a=`translate(${m[12]}px, ${m[13]}px)`)||v)&&Xe(e,"transform",a),(y[0]&68158464||v)&&Xe(e,"visibility",m[20]?"visible":"hidden")},i(m){u||(n&&se(n.$$.fragment,m),u=!0)},o(m){n&&fe(n.$$.fragment,m),u=!1},d(m){m&&re(e),n&&Me(n),t[54](null),f=!1,At(d)}}}function j5(t){let e,n,i=!t[8]&&Wd(t);return{c(){i&&i.c(),e=Pt()},m(o,s){i&&i.m(o,s),oe(o,e,s),n=!0},p(o,s){o[8]?i&&(Ct(),fe(i,1,1,()=>{i=null}),Et()):i?(i.p(o,s),s[0]&256&&se(i,1)):(i=Wd(o),i.c(),se(i,1),i.m(e.parentNode,e))},i(o){n||(se(i),n=!0)},o(o){fe(i),n=!1},d(o){o&&re(e),i&&i.d(o)}}}function $5(t,e,n){let i,o,s,a,u,f,d,h,{node:g}=e,{id:m}=e,{data:y={}}=e,{selected:v=!1}=e,{draggable:C=void 0}=e,{selectable:O=void 0}=e,{connectable:k=!0}=e,{deletable:H=!0}=e,{hidden:M=!1}=e,{dragging:B=!1}=e,{resizeObserver:A=null}=e,{style:I=void 0}=e,{type:p="default"}=e,{isParent:N=!1}=e,{positionX:E}=e,{positionY:W}=e,{sourcePosition:D=void 0}=e,{targetPosition:S=void 0}=e,{zIndex:Y}=e,{measuredWidth:w=void 0}=e,{measuredHeight:X=void 0}=e,{initialWidth:R=void 0}=e,{initialHeight:V=void 0}=e,{width:G=void 0}=e,{height:Z=void 0}=e,{dragHandle:ie=void 0}=e,{initialized:ce=!1}=e,{parentId:pe=void 0}=e,{nodeClickDistance:ve=void 0}=e,{class:le=""}=e;const ke=gt(),{nodeTypes:Ce,nodeDragThreshold:ue,selectNodesOnDrag:Q,handleNodeSelection:$,updateNodeInternals:z,elementsSelectable:F,nodesDraggable:ee}=ke;be(t,Ce,te=>n(50,u=te)),be(t,F,te=>n(28,f=te)),be(t,ee,te=>n(29,d=te));let ne,K=null;const _e=Co(),Le=He(k);be(t,Le,te=>n(30,h=te));let Ze,De,ct;fo("svelteflow__node_id",m),fo("svelteflow__node_connectable",Le),da(()=>{K&&(A==null||A.unobserve(K))});function it(te){O&&(!he(Q)||!C||he(ue)>0)&&$(m),_e("nodeclick",{node:g.internals.userNode,event:te})}const yt=(te,Zt,wt,mt)=>{_e("nodedrag",{event:te,targetNode:wt,nodes:mt})},Ie=(te,Zt,wt,mt)=>{_e("nodedragstart",{event:te,targetNode:wt,nodes:mt})},Kt=(te,Zt,wt,mt)=>{_e("nodedragstop",{event:te,targetNode:wt,nodes:mt})};function en(te){Tn[te?"unshift":"push"](()=>{ne=te,n(24,ne)})}const Ot=te=>_e("nodemouseenter",{node:g,event:te}),Jn=te=>_e("nodemouseleave",{node:g,event:te}),Ht=te=>_e("nodemousemove",{node:g,event:te}),zt=te=>_e("nodecontextmenu",{node:g,event:te});return t.$$set=te=>{"node"in te&&n(0,g=te.node),"id"in te&&n(1,m=te.id),"data"in te&&n(2,y=te.data),"selected"in te&&n(3,v=te.selected),"draggable"in te&&n(4,C=te.draggable),"selectable"in te&&n(5,O=te.selectable),"connectable"in te&&n(6,k=te.connectable),"deletable"in te&&n(7,H=te.deletable),"hidden"in te&&n(8,M=te.hidden),"dragging"in te&&n(9,B=te.dragging),"resizeObserver"in te&&n(39,A=te.resizeObserver),"style"in te&&n(10,I=te.style),"type"in te&&n(40,p=te.type),"isParent"in te&&n(11,N=te.isParent),"positionX"in te&&n(12,E=te.positionX),"positionY"in te&&n(13,W=te.positionY),"sourcePosition"in te&&n(14,D=te.sourcePosition),"targetPosition"in te&&n(15,S=te.targetPosition),"zIndex"in te&&n(16,Y=te.zIndex),"measuredWidth"in te&&n(41,w=te.measuredWidth),"measuredHeight"in te&&n(42,X=te.measuredHeight),"initialWidth"in te&&n(43,R=te.initialWidth),"initialHeight"in te&&n(44,V=te.initialHeight),"width"in te&&n(17,G=te.width),"height"in te&&n(18,Z=te.height),"dragHandle"in te&&n(19,ie=te.dragHandle),"initialized"in te&&n(20,ce=te.initialized),"parentId"in te&&n(21,pe=te.parentId),"nodeClickDistance"in te&&n(22,ve=te.nodeClickDistance),"class"in te&&n(23,le=te.class)},t.$$.update=()=>{t.$$.dirty[1]&512&&n(25,i=p||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(49,o=!!u[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(27,s=u[i]||Rh),t.$$.dirty[1]&262656&&(o||console.warn("003",Mr.error003(p))),t.$$.dirty[0]&393216|t.$$.dirty[1]&15360&&n(26,a=Q5({width:G,height:Z,initialWidth:R,initialHeight:V,measuredWidth:w,measuredHeight:X})),t.$$.dirty[0]&64&&Le.set(!!k),t.$$.dirty[0]&50380802|t.$$.dirty[1]&229376&&((Ze&&i!==Ze||De&&D!==De||ct&&S!==ct)&&requestAnimationFrame(()=>z(new Map([[m,{id:m,nodeElement:ne,force:!0}]]))),n(46,Ze=i),n(47,De=D),n(48,ct=S)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&16640&&A&&(ne!==K||!ce)&&(K&&A.unobserve(K),ne&&A.observe(ne),n(45,K=ne))},[g,m,y,v,C,O,k,H,M,B,I,N,E,W,D,S,Y,G,Z,ie,ce,pe,ve,le,ne,i,a,s,f,d,h,ke,Ce,$,F,ee,_e,Le,it,A,p,w,X,R,V,K,Ze,De,ct,o,u,yt,Ie,Kt,en,Ot,Jn,Ht,zt]}class e6 extends Be{constructor(e){super(),ze(this,e,$5,j5,L1,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:t6}=sb;function Yd(t,e,n){const i=t.slice();return i[21]=e[n],i}function Xd(t,e){let n,i,o;return i=new e6({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:ql(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,a){oe(s,n,a),Ae(i,s,a),o=!0},p(s,a){e=s;const u={};a&2&&(u.node=e[21]),a&2&&(u.id=e[21].id),a&2&&(u.data=e[21].data),a&2&&(u.selected=!!e[21].selected),a&2&&(u.hidden=!!e[21].hidden),a&6&&(u.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),a&10&&(u.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),a&18&&(u.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),a&2&&(u.deletable=e[21].deletable??!0),a&2&&(u.positionX=e[21].internals.positionAbsolute.x),a&2&&(u.positionY=e[21].internals.positionAbsolute.y),a&34&&(u.isParent=e[5].has(e[21].id)),a&2&&(u.style=e[21].style),a&2&&(u.class=e[21].class),a&2&&(u.type=e[21].type??"default"),a&2&&(u.sourcePosition=e[21].sourcePosition),a&2&&(u.targetPosition=e[21].targetPosition),a&2&&(u.dragging=e[21].dragging),a&2&&(u.zIndex=e[21].internals.z??0),a&2&&(u.dragHandle=e[21].dragHandle),a&2&&(u.initialized=ql(e[21])),a&2&&(u.width=e[21].width),a&2&&(u.height=e[21].height),a&2&&(u.initialWidth=e[21].initialWidth),a&2&&(u.initialHeight=e[21].initialHeight),a&2&&(u.measuredWidth=e[21].measured.width),a&2&&(u.measuredHeight=e[21].measured.height),a&2&&(u.parentId=e[21].parentId),a&1&&(u.nodeClickDistance=e[0]),i.$set(u)},i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function n6(t){let e,n=[],i=new t6,o,s=Dt(t[1]);const a=u=>u[21].id;for(let u=0;u<s.length;u+=1){let f=Yd(t,s,u),d=a(f);i.set(d,n[u]=Xd(d,f))}return{c(){e=Ee("div");for(let u=0;u<n.length;u+=1)n[u].c();P(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(u,f){oe(u,e,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);o=!0},p(u,[f]){f&2111&&(s=Dt(u[1]),Ct(),n=Fi(n,f,a,1,u,s,i,e,Cr,Xd,null,Yd),Et())},i(u){if(!o){for(let f=0;f<s.length;f+=1)se(n[f]);o=!0}},o(u){for(let f=0;f<n.length;f+=1)fe(n[f]);o=!1},d(u){u&&re(e);for(let f=0;f<n.length;f+=1)n[f].d()}}}function i6(t,e,n){let i,o,s,a,u,{nodeClickDistance:f=0}=e;const{visibleNodes:d,nodesDraggable:h,nodesConnectable:g,elementsSelectable:m,updateNodeInternals:y,parentLookup:v}=gt();be(t,d,N=>n(1,i=N)),be(t,h,N=>n(2,o=N)),be(t,g,N=>n(4,a=N)),be(t,m,N=>n(3,s=N)),be(t,v,N=>n(5,u=N));const C=typeof ResizeObserver>"u"?null:new ResizeObserver(N=>{const E=new Map;N.forEach(W=>{const D=W.target.getAttribute("data-id");E.set(D,{id:D,nodeElement:W.target,force:!0})}),y(E)});da(()=>{C==null||C.disconnect()});function O(N){lt.call(this,t,N)}function k(N){lt.call(this,t,N)}function H(N){lt.call(this,t,N)}function M(N){lt.call(this,t,N)}function B(N){lt.call(this,t,N)}function A(N){lt.call(this,t,N)}function I(N){lt.call(this,t,N)}function p(N){lt.call(this,t,N)}return t.$$set=N=>{"nodeClickDistance"in N&&n(0,f=N.nodeClickDistance)},[f,i,o,s,a,u,d,h,g,m,v,C,O,k,H,M,B,A,I,p]}class r6 extends Be{constructor(e){super(),ze(this,e,i6,n6,Ye,{nodeClickDistance:0})}}function xd(t){let e,n,i,o,s,a,u,f;var d=t[27];function h(g,m){return{props:{id:g[0],source:g[1],target:g[2],sourceX:g[14],sourceY:g[15],targetX:g[16],targetY:g[17],sourcePosition:g[18],targetPosition:g[19],animated:g[6],selected:g[7],label:g[10],labelStyle:g[11],data:g[3],style:g[4],interactionWidth:g[21],selectable:g[24],deletable:g[8]??!0,type:g[23],sourceHandleId:g[12],targetHandleId:g[13],markerStart:g[26],markerEnd:g[25]}}}return d&&(i=zl(d,h(t))),{c(){e=Ge("svg"),n=Ge("g"),i&&Te(i.$$.fragment),P(n,"class",o=ut(["svelte-flow__edge",t[22]])),P(n,"data-id",t[0]),P(n,"aria-label",s=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),P(n,"role","img"),Ke(n,"animated",t[6]),Ke(n,"selected",t[7]),Ke(n,"selectable",t[24]),Xe(e,"z-index",t[5])},m(g,m){oe(g,e,m),ye(e,n),i&&Ae(i,n,null),a=!0,u||(f=[We(n,"click",t[32]),We(n,"contextmenu",t[41]),We(n,"mouseenter",t[42]),We(n,"mouseleave",t[43])],u=!0)},p(g,m){if(m[0]&134217728&&d!==(d=g[27])){if(i){Ct();const y=i;fe(y.$$.fragment,1,0,()=>{Me(y,1)}),Et()}d?(i=zl(d,h(g)),Te(i.$$.fragment),se(i.$$.fragment,1),Ae(i,n,null)):i=null}else if(d){const y={};m[0]&1&&(y.id=g[0]),m[0]&2&&(y.source=g[1]),m[0]&4&&(y.target=g[2]),m[0]&16384&&(y.sourceX=g[14]),m[0]&32768&&(y.sourceY=g[15]),m[0]&65536&&(y.targetX=g[16]),m[0]&131072&&(y.targetY=g[17]),m[0]&262144&&(y.sourcePosition=g[18]),m[0]&524288&&(y.targetPosition=g[19]),m[0]&64&&(y.animated=g[6]),m[0]&128&&(y.selected=g[7]),m[0]&1024&&(y.label=g[10]),m[0]&2048&&(y.labelStyle=g[11]),m[0]&8&&(y.data=g[3]),m[0]&16&&(y.style=g[4]),m[0]&2097152&&(y.interactionWidth=g[21]),m[0]&16777216&&(y.selectable=g[24]),m[0]&256&&(y.deletable=g[8]??!0),m[0]&8388608&&(y.type=g[23]),m[0]&4096&&(y.sourceHandleId=g[12]),m[0]&8192&&(y.targetHandleId=g[13]),m[0]&67108864&&(y.markerStart=g[26]),m[0]&33554432&&(y.markerEnd=g[25]),i.$set(y)}(!a||m[0]&4194304&&o!==(o=ut(["svelte-flow__edge",g[22]])))&&P(n,"class",o),(!a||m[0]&1)&&P(n,"data-id",g[0]),(!a||m[0]&1048582&&s!==(s=g[20]===null?void 0:g[20]?g[20]:`Edge from ${g[1]} to ${g[2]}`))&&P(n,"aria-label",s),(!a||m[0]&4194368)&&Ke(n,"animated",g[6]),(!a||m[0]&4194432)&&Ke(n,"selected",g[7]),(!a||m[0]&20971520)&&Ke(n,"selectable",g[24]),m[0]&32&&Xe(e,"z-index",g[5])},i(g){a||(i&&se(i.$$.fragment,g),a=!0)},o(g){i&&fe(i.$$.fragment,g),a=!1},d(g){g&&re(e),i&&Me(i),u=!1,At(f)}}}function o6(t){let e,n,i=!t[9]&&xd(t);return{c(){i&&i.c(),e=Pt()},m(o,s){i&&i.m(o,s),oe(o,e,s),n=!0},p(o,s){o[9]?i&&(Ct(),fe(i,1,1,()=>{i=null}),Et()):i?(i.p(o,s),s[0]&512&&se(i,1)):(i=xd(o),i.c(),se(i,1),i.m(e.parentNode,e))},i(o){n||(se(i),n=!0)},o(o){fe(i),n=!1},d(o){o&&re(e),i&&i.d(o)}}}function l6(t,e,n){let i,o,s,a,u,f,d,h,g,{id:m}=e,{type:y="default"}=e,{source:v=""}=e,{target:C=""}=e,{data:O={}}=e,{style:k=void 0}=e,{zIndex:H=void 0}=e,{animated:M=!1}=e,{selected:B=!1}=e,{selectable:A=void 0}=e,{deletable:I=void 0}=e,{hidden:p=!1}=e,{label:N=void 0}=e,{labelStyle:E=void 0}=e,{markerStart:W=void 0}=e,{markerEnd:D=void 0}=e,{sourceHandle:S=void 0}=e,{targetHandle:Y=void 0}=e,{sourceX:w}=e,{sourceY:X}=e,{targetX:R}=e,{targetY:V}=e,{sourcePosition:G}=e,{targetPosition:Z}=e,{ariaLabel:ie=void 0}=e,{interactionWidth:ce=void 0}=e,{class:pe=""}=e;fo("svelteflow__edge_id",m);const{edgeLookup:ve,edgeTypes:le,flowId:ke,elementsSelectable:Ce}=gt();be(t,ve,K=>n(44,f=K)),be(t,le,K=>n(40,g=K)),be(t,ke,K=>n(39,h=K)),be(t,Ce,K=>n(38,d=K));const ue=Co(),Q=Hh();function $(K){const _e=f.get(m);_e&&(Q(m),ue("edgeclick",{event:K,edge:_e}))}function z(K,_e){const Le=f.get(m);Le&&ue(_e,{event:K,edge:Le})}const F=K=>{z(K,"edgecontextmenu")},ee=K=>{z(K,"edgemouseenter")},ne=K=>{z(K,"edgemouseleave")};return t.$$set=K=>{"id"in K&&n(0,m=K.id),"type"in K&&n(34,y=K.type),"source"in K&&n(1,v=K.source),"target"in K&&n(2,C=K.target),"data"in K&&n(3,O=K.data),"style"in K&&n(4,k=K.style),"zIndex"in K&&n(5,H=K.zIndex),"animated"in K&&n(6,M=K.animated),"selected"in K&&n(7,B=K.selected),"selectable"in K&&n(35,A=K.selectable),"deletable"in K&&n(8,I=K.deletable),"hidden"in K&&n(9,p=K.hidden),"label"in K&&n(10,N=K.label),"labelStyle"in K&&n(11,E=K.labelStyle),"markerStart"in K&&n(36,W=K.markerStart),"markerEnd"in K&&n(37,D=K.markerEnd),"sourceHandle"in K&&n(12,S=K.sourceHandle),"targetHandle"in K&&n(13,Y=K.targetHandle),"sourceX"in K&&n(14,w=K.sourceX),"sourceY"in K&&n(15,X=K.sourceY),"targetX"in K&&n(16,R=K.targetX),"targetY"in K&&n(17,V=K.targetY),"sourcePosition"in K&&n(18,G=K.sourcePosition),"targetPosition"in K&&n(19,Z=K.targetPosition),"ariaLabel"in K&&n(20,ie=K.ariaLabel),"interactionWidth"in K&&n(21,ce=K.interactionWidth),"class"in K&&n(22,pe=K.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=y||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=g[i]||zh),t.$$.dirty[1]&288&&n(26,s=W?`url('#${fa(W,h)}')`:void 0),t.$$.dirty[1]&320&&n(25,a=D?`url('#${fa(D,h)}')`:void 0),t.$$.dirty[1]&144&&n(24,u=A??d)},[m,v,C,O,k,H,M,B,I,p,N,E,S,Y,w,X,R,V,G,Z,ie,ce,pe,i,u,a,s,o,ve,le,ke,Ce,$,z,y,A,W,D,d,h,g,F,ee,ne]}class s6 extends Be{constructor(e){super(),ze(this,e,l6,o6,L1,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function u6(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return Dr(()=>(i==null||i(),o)),t.$$set=s=>{"onMount"in s&&n(0,i=s.onMount),"onDestroy"in s&&n(1,o=s.onDestroy)},[i,o]}class a6 extends Be{constructor(e){super(),ze(this,e,u6,null,Ye,{onMount:0,onDestroy:1})}}function Fd(t,e,n){const i=t.slice();return i[2]=e[n],i}function Vd(t,e){let n,i,o;const s=[e[2]];let a={};for(let u=0;u<s.length;u+=1)a=ot(a,s[u]);return i=new y6({props:a}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(u,f){oe(u,n,f),Ae(i,u,f),o=!0},p(u,f){e=u;const d=f&1?Gn(s,[Er(e[2])]):{};i.$set(d)},i(u){o||(se(i.$$.fragment,u),o=!0)},o(u){fe(i.$$.fragment,u),o=!1},d(u){u&&re(n),Me(i,u)}}}function f6(t){let e,n=[],i=new Map,o,s=Dt(t[0]);const a=u=>u[2].id;for(let u=0;u<s.length;u+=1){let f=Fd(t,s,u),d=a(f);i.set(d,n[u]=Vd(d,f))}return{c(){e=Ge("defs");for(let u=0;u<n.length;u+=1)n[u].c()},m(u,f){oe(u,e,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);o=!0},p(u,[f]){f&1&&(s=Dt(u[0]),Ct(),n=Fi(n,f,a,1,u,s,i,e,Cr,Vd,null,Fd),Et())},i(u){if(!o){for(let f=0;f<s.length;f+=1)se(n[f]);o=!0}},o(u){for(let f=0;f<n.length;f+=1)fe(n[f]);o=!1},d(u){u&&re(e);for(let f=0;f<n.length;f+=1)n[f].d()}}}function c6(t,e,n){let i;const{markers:o}=gt();return be(t,o,s=>n(0,i=s)),[i,o]}class d6 extends Be{constructor(e){super(),ze(this,e,c6,f6,Ye,{})}}function h6(t){let e;return{c(){e=Ge("polyline"),P(e,"stroke",t[6]),P(e,"stroke-linecap","round"),P(e,"stroke-linejoin","round"),P(e,"stroke-width",t[7]),P(e,"fill",t[6]),P(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){oe(n,e,i)},p(n,i){i&64&&P(e,"stroke",n[6]),i&128&&P(e,"stroke-width",n[7]),i&64&&P(e,"fill",n[6])},d(n){n&&re(e)}}}function g6(t){let e;return{c(){e=Ge("polyline"),P(e,"stroke",t[6]),P(e,"stroke-linecap","round"),P(e,"stroke-linejoin","round"),P(e,"stroke-width",t[7]),P(e,"fill","none"),P(e,"points","-5,-4 0,0 -5,4")},m(n,i){oe(n,e,i)},p(n,i){i&64&&P(e,"stroke",n[6]),i&128&&P(e,"stroke-width",n[7])},d(n){n&&re(e)}}}function m6(t){let e,n,i;function o(u,f){if(u[1]===Tr.Arrow)return g6;if(u[1]===Tr.ArrowClosed)return h6}let s=o(t),a=s&&s(t);return{c(){e=Ge("marker"),a&&a.c(),P(e,"class","svelte-flow__arrowhead"),P(e,"id",t[0]),P(e,"markerWidth",n=`${t[2]}`),P(e,"markerHeight",i=`${t[3]}`),P(e,"viewBox","-10 -10 20 20"),P(e,"markerUnits",t[4]),P(e,"orient",t[5]),P(e,"refX","0"),P(e,"refY","0")},m(u,f){oe(u,e,f),a&&a.m(e,null)},p(u,[f]){s===(s=o(u))&&a?a.p(u,f):(a&&a.d(1),a=s&&s(u),a&&(a.c(),a.m(e,null))),f&1&&P(e,"id",u[0]),f&4&&n!==(n=`${u[2]}`)&&P(e,"markerWidth",n),f&8&&i!==(i=`${u[3]}`)&&P(e,"markerHeight",i),f&16&&P(e,"markerUnits",u[4]),f&32&&P(e,"orient",u[5])},i:Ne,o:Ne,d(u){u&&re(e),a&&a.d()}}}function _6(t,e,n){let{id:i}=e,{type:o}=e,{width:s=12.5}=e,{height:a=12.5}=e,{markerUnits:u="strokeWidth"}=e,{orient:f="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(0,i=g.id),"type"in g&&n(1,o=g.type),"width"in g&&n(2,s=g.width),"height"in g&&n(3,a=g.height),"markerUnits"in g&&n(4,u=g.markerUnits),"orient"in g&&n(5,f=g.orient),"color"in g&&n(6,d=g.color),"strokeWidth"in g&&n(7,h=g.strokeWidth)},[i,o,s,a,u,f,d,h]}class y6 extends Be{constructor(e){super(),ze(this,e,_6,m6,Ye,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Ud(t,e,n){const i=t.slice();return i[14]=e[n],i}function Kd(t,e){let n,i,o;return i=new s6({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,a){oe(s,n,a),Ae(i,s,a),o=!0},p(s,a){e=s;const u={};a&1&&(u.id=e[14].id),a&1&&(u.source=e[14].source),a&1&&(u.target=e[14].target),a&1&&(u.data=e[14].data),a&1&&(u.style=e[14].style),a&1&&(u.animated=e[14].animated),a&1&&(u.selected=e[14].selected),a&3&&(u.selectable=e[14].selectable??e[1]),a&1&&(u.deletable=e[14].deletable),a&1&&(u.hidden=e[14].hidden),a&1&&(u.label=e[14].label),a&1&&(u.labelStyle=e[14].labelStyle),a&1&&(u.markerStart=e[14].markerStart),a&1&&(u.markerEnd=e[14].markerEnd),a&1&&(u.sourceHandle=e[14].sourceHandle),a&1&&(u.targetHandle=e[14].targetHandle),a&1&&(u.sourceX=e[14].sourceX),a&1&&(u.sourceY=e[14].sourceY),a&1&&(u.targetX=e[14].targetX),a&1&&(u.targetY=e[14].targetY),a&1&&(u.sourcePosition=e[14].sourcePosition),a&1&&(u.targetPosition=e[14].targetPosition),a&1&&(u.ariaLabel=e[14].ariaLabel),a&1&&(u.interactionWidth=e[14].interactionWidth),a&1&&(u.class=e[14].class),a&1&&(u.type=e[14].type||"default"),a&1&&(u.zIndex=e[14].zIndex),i.$set(u)},i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function Zd(t){let e,n;return e=new a6({props:{onMount:t[11],onDestroy:t[12]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&4&&(s.onMount=i[11]),o&4&&(s.onDestroy=i[12]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function w6(t){let e,n,i,o,s=[],a=new Map,u,f;i=new d6({});let d=Dt(t[0]);const h=m=>m[14].id;for(let m=0;m<d.length;m+=1){let y=Ud(t,d,m),v=h(y);a.set(v,s[m]=Kd(v,y))}let g=t[0].length>0&&Zd(t);return{c(){e=Ee("div"),n=Ge("svg"),Te(i.$$.fragment),o=Pe();for(let m=0;m<s.length;m+=1)s[m].c();u=Pe(),g&&g.c(),P(n,"class","svelte-flow__marker"),P(e,"class","svelte-flow__edges")},m(m,y){oe(m,e,y),ye(e,n),Ae(i,n,null),ye(e,o);for(let v=0;v<s.length;v+=1)s[v]&&s[v].m(e,null);ye(e,u),g&&g.m(e,null),f=!0},p(m,[y]){y&3&&(d=Dt(m[0]),Ct(),s=Fi(s,y,h,1,m,d,a,e,Cr,Kd,u,Ud),Et()),m[0].length>0?g?(g.p(m,y),y&1&&se(g,1)):(g=Zd(m),g.c(),se(g,1),g.m(e,null)):g&&(Ct(),fe(g,1,1,()=>{g=null}),Et())},i(m){if(!f){se(i.$$.fragment,m);for(let y=0;y<d.length;y+=1)se(s[y]);se(g),f=!0}},o(m){fe(i.$$.fragment,m);for(let y=0;y<s.length;y+=1)fe(s[y]);fe(g),f=!1},d(m){m&&re(e),Me(i);for(let y=0;y<s.length;y+=1)s[y].d();g&&g.d()}}}function b6(t,e,n){let i,o,s,{defaultEdgeOptions:a}=e;const{visibleEdges:u,edgesInitialized:f,edges:{setDefaultOptions:d},elementsSelectable:h}=gt();be(t,u,k=>n(0,i=k)),be(t,f,k=>n(2,s=k)),be(t,h,k=>n(1,o=k)),Dr(()=>{a&&d(a)});function g(k){lt.call(this,t,k)}function m(k){lt.call(this,t,k)}function y(k){lt.call(this,t,k)}function v(k){lt.call(this,t,k)}const C=()=>{di(f,s=!0,s)},O=()=>{di(f,s=!1,s)};return t.$$set=k=>{"defaultEdgeOptions"in k&&n(6,a=k.defaultEdgeOptions)},[i,o,s,u,f,h,a,g,m,y,v,C,O]}class p6 extends Be{constructor(e){super(),ze(this,e,b6,w6,Ye,{defaultEdgeOptions:6})}}function Gd(t){let e;return{c(){e=Ee("div"),P(e,"class","svelte-flow__selection svelte-1iugwpu"),Xe(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),Xe(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),Xe(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){oe(n,e,i)},p(n,i){i&4&&Xe(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&Xe(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&Xe(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&re(e)}}}function v6(t){let e,n=t[4]&&Gd(t);return{c(){n&&n.c(),e=Pt()},m(i,o){n&&n.m(i,o),oe(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Gd(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ne,o:Ne,d(i){i&&re(e),n&&n.d(i)}}}function k6(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:s=0}=e,{height:a=0}=e,{isVisible:u=!0}=e;return t.$$set=f=>{"x"in f&&n(0,i=f.x),"y"in f&&n(1,o=f.y),"width"in f&&n(2,s=f.width),"height"in f&&n(3,a=f.height),"isVisible"in f&&n(4,u=f.isVisible)},[i,o,s,a,u]}class xh extends Be{constructor(e){super(),ze(this,e,k6,v6,Ye,{x:0,y:1,width:2,height:3,isVisible:4})}}function C6(t){var i,o,s,a;let e,n;return e=new xh({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(s=t[0])==null?void 0:s.x,y:(a=t[0])==null?void 0:a.y}}),{c(){Te(e.$$.fragment)},m(u,f){Ae(e,u,f),n=!0},p(u,[f]){var h,g,m,y;const d={};f&3&&(d.isVisible=!!(u[0]&&u[1]==="user")),f&1&&(d.width=(h=u[0])==null?void 0:h.width),f&1&&(d.height=(g=u[0])==null?void 0:g.height),f&1&&(d.x=(m=u[0])==null?void 0:m.x),f&1&&(d.y=(y=u[0])==null?void 0:y.y),e.$set(d)},i(u){n||(se(e.$$.fragment,u),n=!0)},o(u){fe(e.$$.fragment,u),n=!1},d(u){Me(e,u)}}}function E6(t,e,n){let i,o;const{selectionRect:s,selectionRectMode:a}=gt();return be(t,s,u=>n(0,i=u)),be(t,a,u=>n(1,o=u)),[i,o,s,a]}class S6 extends Be{constructor(e){super(),ze(this,e,E6,C6,Ye,{})}}function qd(t){let e,n,i,o,s;return n=new xh({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Ee("div"),Te(n.$$.fragment),P(e,"class","selection-wrapper nopan svelte-5pxri"),Xe(e,"width",t[1].width+"px"),Xe(e,"height",t[1].height+"px"),Xe(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),P(e,"role","button"),P(e,"tabindex","-1")},m(a,u){oe(a,e,u),Ae(n,e,null),i=!0,o||(s=[$t(Xh.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),We(e,"contextmenu",t[7]),We(e,"click",t[8]),We(e,"keyup",M6)],o=!0)},p(a,u){(!i||u&2)&&Xe(e,"width",a[1].width+"px"),(!i||u&2)&&Xe(e,"height",a[1].height+"px"),(!i||u&2)&&Xe(e,"transform","translate("+a[1].x+"px, "+a[1].y+"px)")},i(a){i||(se(n.$$.fragment,a),i=!0)},o(a){fe(n.$$.fragment,a),i=!1},d(a){a&&re(e),Me(n),o=!1,At(s)}}}function A6(t){let e=t[0]==="nodes"&&t[1]&&Hn(t[1].x)&&Hn(t[1].y),n,i,o=e&&qd(t);return{c(){o&&o.c(),n=Pt()},m(s,a){o&&o.m(s,a),oe(s,n,a),i=!0},p(s,[a]){a&3&&(e=s[0]==="nodes"&&s[1]&&Hn(s[1].x)&&Hn(s[1].y)),e?o?(o.p(s,a),a&3&&se(o,1)):(o=qd(s),o.c(),se(o,1),o.m(n.parentNode,n)):o&&(Ct(),fe(o,1,1,()=>{o=null}),Et())},i(s){i||(se(o),i=!0)},o(s){fe(o),i=!1},d(s){s&&re(n),o&&o.d(s)}}}const M6=()=>{};function T6(t,e,n){let i,o,s;const a=gt(),{selectionRectMode:u,nodes:f,nodeLookup:d}=a;be(t,u,k=>n(0,s=k)),be(t,f,k=>n(9,i=k)),be(t,d,k=>n(10,o=k));const h=Co();let g=null;function m(k){const H=i.filter(M=>M.selected);h("selectioncontextmenu",{nodes:H,event:k})}function y(k){const H=i.filter(M=>M.selected);h("selectionclick",{nodes:H,event:k})}const v=(k,H,M,B)=>{h("nodedrag",{event:k,targetNode:null,nodes:B})},C=(k,H,M,B)=>{h("nodedragstart",{event:k,targetNode:null,nodes:B})},O=(k,H,M,B)=>{h("nodedragstop",{event:k,targetNode:null,nodes:B})};return t.$$.update=()=>{t.$$.dirty&1537&&s==="nodes"&&n(1,g=Mo(o,{filter:k=>!!k.selected}))},[s,g,a,u,f,d,h,m,y,i,o,v,C,O]}class P6 extends Be{constructor(e){super(),ze(this,e,T6,A6,Ye,{})}}function Un(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function s(a){const u=Array.isArray(i)?i:[i],f={alt:a.altKey,ctrl:a.ctrlKey,shift:a.shiftKey,meta:a.metaKey};for(const d of u){const h={modifier:[],preventDefault:!1,enabled:!0,...d},{modifier:g,key:m,callback:y,preventDefault:v,enabled:C}=h;if(C){if(g.length&&!(Array.isArray(g)?g:[g]).map(H=>typeof H=="string"?[H]:H).some(H=>H.every(M=>f[M])))continue;if(a.key===m){v&&a.preventDefault();const O={node:t,trigger:h,originalEvent:a};t.dispatchEvent(new CustomEvent("shortcut",{detail:O})),y==null||y(O)}}}}return n&&t.addEventListener(o,s),{update:a=>{const{enabled:u=!0,type:f="keydown"}=a;n&&(!u||o!==f)?t.removeEventListener(o,s):!n&&u&&t.addEventListener(f,s),n=u,o=f,i=a.trigger},destroy:()=>{t.removeEventListener(o,s)}}}function I6(t){let e,n,i,o,s,a,u,f,d,h,g,m;return{c:Ne,m(y,v){g||(m=[$t(e=Un.call(null,window,{trigger:It(t[0],t[11]),type:"keydown"})),$t(n=Un.call(null,window,{trigger:It(t[0],t[12]),type:"keyup"})),$t(i=Un.call(null,window,{trigger:It(t[1],t[13]),type:"keydown"})),$t(o=Un.call(null,window,{trigger:It(t[1],t[14]),type:"keyup"})),$t(s=Un.call(null,window,{trigger:It(t[2],t[15]),type:"keydown"})),$t(a=Un.call(null,window,{trigger:It(t[2],t[16]),type:"keyup"})),$t(u=Un.call(null,window,{trigger:It(t[3],t[17]),type:"keydown"})),$t(f=Un.call(null,window,{trigger:It(t[3],t[18]),type:"keyup"})),$t(d=Un.call(null,window,{trigger:It(t[4],t[19]),type:"keydown"})),$t(h=Un.call(null,window,{trigger:It(t[4],t[20]),type:"keyup"})),We(window,"blur",t[10]),We(window,"contextmenu",t[10])],g=!0)},p(y,[v]){e&&vt(e.update)&&v&1&&e.update.call(null,{trigger:It(y[0],y[11]),type:"keydown"}),n&&vt(n.update)&&v&1&&n.update.call(null,{trigger:It(y[0],y[12]),type:"keyup"}),i&&vt(i.update)&&v&2&&i.update.call(null,{trigger:It(y[1],y[13]),type:"keydown"}),o&&vt(o.update)&&v&2&&o.update.call(null,{trigger:It(y[1],y[14]),type:"keyup"}),s&&vt(s.update)&&v&4&&s.update.call(null,{trigger:It(y[2],y[15]),type:"keydown"}),a&&vt(a.update)&&v&4&&a.update.call(null,{trigger:It(y[2],y[16]),type:"keyup"}),u&&vt(u.update)&&v&8&&u.update.call(null,{trigger:It(y[3],y[17]),type:"keydown"}),f&&vt(f.update)&&v&8&&f.update.call(null,{trigger:It(y[3],y[18]),type:"keyup"}),d&&vt(d.update)&&v&16&&d.update.call(null,{trigger:It(y[4],y[19]),type:"keydown"}),h&&vt(h.update)&&v&16&&h.update.call(null,{trigger:It(y[4],y[20]),type:"keyup"})},i:Ne,o:Ne,d(y){g=!1,At(m)}}}function Fh(t){return t!==null&&typeof t=="object"}function O6(t){return Fh(t)?t.modifier||[]:[]}function N6(t){return t==null?"":Fh(t)?t.key:t}function It(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=N6(i);return{key:o,modifier:O6(i),enabled:o!==null,callback:e}})}function L6(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=Gl()?"Meta":"Control"}=e,{deleteKey:s="Backspace"}=e,{panActivationKey:a=" "}=e,{zoomActivationKey:u=Gl()?"Meta":"Control"}=e;const{selectionKeyPressed:f,multiselectionKeyPressed:d,deleteKeyPressed:h,panActivationKeyPressed:g,zoomActivationKeyPressed:m,selectionRect:y}=gt();function v(){y.set(null),f.set(!1),d.set(!1),h.set(!1),g.set(!1),m.set(!1)}const C=()=>f.set(!0),O=()=>f.set(!1),k=()=>d.set(!0),H=()=>d.set(!1),M=E=>{!(E.originalEvent.ctrlKey||E.originalEvent.metaKey||E.originalEvent.shiftKey)&&!s3(E.originalEvent)&&h.set(!0)},B=()=>h.set(!1),A=()=>g.set(!0),I=()=>g.set(!1),p=()=>m.set(!0),N=()=>m.set(!1);return t.$$set=E=>{"selectionKey"in E&&n(0,i=E.selectionKey),"multiSelectionKey"in E&&n(1,o=E.multiSelectionKey),"deleteKey"in E&&n(2,s=E.deleteKey),"panActivationKey"in E&&n(3,a=E.panActivationKey),"zoomActivationKey"in E&&n(4,u=E.zoomActivationKey)},[i,o,s,a,u,f,d,h,g,m,v,C,O,k,H,M,B,A,I,p,N]}class D6 extends Be{constructor(e){super(),ze(this,e,L6,I6,Ye,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const R6=t=>({}),Jd=t=>({});function Qd(t){let e,n,i,o;const s=t[13].connectionLine,a=xt(s,t,t[12],Jd);let u=!t[2]&&jd(t);return{c(){e=Ge("svg"),n=Ge("g"),a&&a.c(),u&&u.c(),P(n,"class",i=ut(["svelte-flow__connection",vd(t[3].isValid)])),P(e,"width",t[5]),P(e,"height",t[6]),P(e,"class","svelte-flow__connectionline"),P(e,"style",t[0])},m(f,d){oe(f,e,d),ye(e,n),a&&a.m(n,null),u&&u.m(n,null),o=!0},p(f,d){a&&a.p&&(!o||d&4096)&&Vt(a,s,f,f[12],o?Ft(s,f[12],d,R6):Ut(f[12]),Jd),f[2]?u&&(u.d(1),u=null):u?u.p(f,d):(u=jd(f),u.c(),u.m(n,null)),(!o||d&8&&i!==(i=ut(["svelte-flow__connection",vd(f[3].isValid)])))&&P(n,"class",i),(!o||d&32)&&P(e,"width",f[5]),(!o||d&64)&&P(e,"height",f[6]),(!o||d&1)&&P(e,"style",f[0])},i(f){o||(se(a,f),o=!0)},o(f){fe(a,f),o=!1},d(f){f&&re(e),a&&a.d(f),u&&u.d()}}}function jd(t){let e;return{c(){e=Ge("path"),P(e,"d",t[4]),P(e,"style",t[1]),P(e,"fill","none"),P(e,"class","svelte-flow__connection-path")},m(n,i){oe(n,e,i)},p(n,i){i&16&&P(e,"d",n[4]),i&2&&P(e,"style",n[1])},d(n){n&&re(e)}}}function H6(t){let e,n,i=t[3].inProgress&&Qd(t);return{c(){i&&i.c(),e=Pt()},m(o,s){i&&i.m(o,s),oe(o,e,s),n=!0},p(o,[s]){o[3].inProgress?i?(i.p(o,s),s&8&&se(i,1)):(i=Qd(o),i.c(),se(i,1),i.m(e.parentNode,e)):i&&(Ct(),fe(i,1,1,()=>{i=null}),Et())},i(o){n||(se(i),n=!0)},o(o){fe(i),n=!1},d(o){o&&re(e),i&&i.d(o)}}}function z6(t,e,n){let i,o,s,a,{$$slots:u={},$$scope:f}=e,{containerStyle:d=""}=e,{style:h=""}=e,{isCustomComponent:g=!1}=e;const{width:m,height:y,connection:v,connectionLineType:C}=gt();be(t,m,k=>n(5,s=k)),be(t,y,k=>n(6,a=k)),be(t,v,k=>n(3,o=k)),be(t,C,k=>n(11,i=k));let O=null;return t.$$set=k=>{"containerStyle"in k&&n(0,d=k.containerStyle),"style"in k&&n(1,h=k.style),"isCustomComponent"in k&&n(2,g=k.isCustomComponent),"$$scope"in k&&n(12,f=k.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!g){const{from:k,to:H,fromPosition:M,toPosition:B}=o,A={sourceX:k.x,sourceY:k.y,sourcePosition:M,targetX:H.x,targetY:H.y,targetPosition:B};switch(i){case pr.Bezier:n(4,[O]=ls(A),O);break;case pr.Step:n(4,[O]=Jl({...A,borderRadius:0}),O);break;case pr.SmoothStep:n(4,[O]=Jl(A),O);break;default:n(4,[O]=Ch(A),O)}}},[d,h,g,o,O,s,a,m,y,v,C,i,f,u]}class B6 extends Be{constructor(e){super(),ze(this,e,z6,H6,Ye,{containerStyle:0,style:1,isCustomComponent:2})}}function W6(t){let e,n,i;const o=t[8].default,s=xt(o,t,t[7],null);let a=[{class:n=ut(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],u={};for(let f=0;f<a.length;f+=1)u=ot(u,a[f]);return{c(){e=Ee("div"),s&&s.c(),kr(e,u),Xe(e,"pointer-events",t[3]?"none":"")},m(f,d){oe(f,e,d),s&&s.m(e,null),i=!0},p(f,[d]){s&&s.p&&(!i||d&128)&&Vt(s,o,f,f[7],i?Ft(o,f[7],d,null):Ut(f[7]),null),kr(e,u=Gn(a,[(!i||d&6&&n!==(n=ut(["svelte-flow__panel",f[1],...f[2]])))&&{class:n},(!i||d&1)&&{style:f[0]},d&32&&f[5]])),Xe(e,"pointer-events",f[3]?"none":"")},i(f){i||(se(s,f),i=!0)},o(f){fe(s,f),i=!1},d(f){f&&re(e),s&&s.d(f)}}}function Y6(t,e,n){let i;const o=["position","style","class"];let s=St(e,o),a,{$$slots:u={},$$scope:f}=e,{position:d="top-right"}=e,{style:h=void 0}=e,{class:g=void 0}=e;const{selectionRectMode:m}=gt();return be(t,m,y=>n(3,a=y)),t.$$set=y=>{e=ot(ot({},e),_n(y)),n(5,s=St(e,o)),"position"in y&&n(6,d=y.position),"style"in y&&n(0,h=y.style),"class"in y&&n(1,g=y.class),"$$scope"in y&&n(7,f=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${d}`.split("-"))},[h,g,i,a,m,s,d,f,u]}class ui extends Be{constructor(e){super(),ze(this,e,Y6,W6,Ye,{position:6,style:0,class:1})}}function $d(t){let e,n;return e=new ui({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[X6]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&2&&(s.position=i[1]),o&4&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function X6(t){let e;return{c(){e=Ee("a"),e.textContent="Svelte Flow",P(e,"href","https://svelteflow.dev"),P(e,"target","_blank"),P(e,"rel","noopener noreferrer"),P(e,"aria-label","Svelte Flow attribution")},m(n,i){oe(n,e,i)},p:Ne,d(n){n&&re(e)}}}function x6(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&$d(t);return{c(){i&&i.c(),e=Pt()},m(s,a){i&&i.m(s,a),oe(s,e,a),n=!0},p(s,[a]){var u;(u=s[0])!=null&&u.hideAttribution?i&&(Ct(),fe(i,1,1,()=>{i=null}),Et()):i?(i.p(s,a),a&1&&se(i,1)):(i=$d(s),i.c(),se(i,1),i.m(e.parentNode,e))},i(s){n||(se(i),n=!0)},o(s){fe(i),n=!1},d(s){s&&re(e),i&&i.d(s)}}}function F6(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=s=>{"proOptions"in s&&n(0,i=s.proOptions),"position"in s&&n(1,o=s.position)},[i,o]}class V6 extends Be{constructor(e){super(),ze(this,e,F6,x6,Ye,{proOptions:0,position:1})}}function e1(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:s,paneClickDistance:a}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),s!==void 0&&t.setTranslateExtent(s),a!==void 0&&t.setPaneClickDistance(a)}const U6=t=>Object.keys(t);function K6(t,e){U6(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function Z6(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function G6(t="light"){return Mn("light",n=>{if(t!=="system"){n(t);return}const i=Z6(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const q6=t=>({}),t1=t=>({slot:"connectionLine"});function J6(t){let e;const n=t[75].connectionLine,i=xt(n,t,t[99],t1);return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,s){i&&i.p&&(!e||s[3]&64)&&Vt(i,n,o,o[99],e?Ft(n,o[99],s,q6):Ut(o[99]),t1)},i(o){e||(se(i,o),e=!0)},o(o){fe(i,o),e=!1},d(o){i&&i.d(o)}}}function Q6(t){let e,n,i,o,s,a,u,f,d,h,g,m;return e=new p6({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new B6({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[J6]},$$scope:{ctx:t}}}),d=new r6({props:{nodeClickDistance:t[23]}}),d.$on("nodeclick",t[82]),d.$on("nodemouseenter",t[83]),d.$on("nodemousemove",t[84]),d.$on("nodemouseleave",t[85]),d.$on("nodedragstart",t[86]),d.$on("nodedrag",t[87]),d.$on("nodedragstop",t[88]),d.$on("nodecontextmenu",t[89]),g=new P6({}),g.$on("selectionclick",t[90]),g.$on("selectioncontextmenu",t[91]),g.$on("nodedragstart",t[92]),g.$on("nodedrag",t[93]),g.$on("nodedragstop",t[94]),{c(){Te(e.$$.fragment),n=Pe(),Te(i.$$.fragment),o=Pe(),s=Ee("div"),a=Pe(),u=Ee("div"),f=Pe(),Te(d.$$.fragment),h=Pe(),Te(g.$$.fragment),P(s,"class","svelte-flow__edgelabel-renderer"),P(u,"class","svelte-flow__viewport-portal")},m(y,v){Ae(e,y,v),oe(y,n,v),Ae(i,y,v),oe(y,o,v),oe(y,s,v),oe(y,a,v),oe(y,u,v),oe(y,f,v),Ae(d,y,v),oe(y,h,v),Ae(g,y,v),m=!0},p(y,v){const C={};v[0]&2097152&&(C.defaultEdgeOptions=y[21]),e.$set(C);const O={};v[0]&128&&(O.containerStyle=y[7]),v[0]&64&&(O.style=y[6]),v[1]&8&&(O.isCustomComponent=y[34].connectionLine),v[3]&64&&(O.$$scope={dirty:v,ctx:y}),i.$set(O);const k={};v[0]&8388608&&(k.nodeClickDistance=y[23]),d.$set(k)},i(y){m||(se(e.$$.fragment,y),se(i.$$.fragment,y),se(d.$$.fragment,y),se(g.$$.fragment,y),m=!0)},o(y){fe(e.$$.fragment,y),fe(i.$$.fragment,y),fe(d.$$.fragment,y),fe(g.$$.fragment,y),m=!1},d(y){y&&(re(n),re(o),re(s),re(a),re(u),re(f),re(h)),Me(e,y),Me(i,y),Me(d,y),Me(g,y)}}}function j6(t){let e,n,i,o;return e=new J5({props:{$$slots:{default:[Q6]},$$scope:{ctx:t}}}),i=new S6({}),{c(){Te(e.$$.fragment),n=Pe(),Te(i.$$.fragment)},m(s,a){Ae(e,s,a),oe(s,n,a),Ae(i,s,a),o=!0},p(s,a){const u={};a[0]&10485952|a[1]&8|a[3]&64&&(u.$$scope={dirty:a,ctx:s}),e.$set(u)},i(s){o||(se(e.$$.fragment,s),se(i.$$.fragment,s),o=!0)},o(s){fe(e.$$.fragment,s),fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(e,s),Me(i,s)}}}function $6(t){let e,n;return e=new Z5({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[j6]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o[0]&131072&&(s.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(s.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function e8(t){let e,n,i,o,s,a,u,f,d,h,g,m;n=new D6({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new V5({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Zn.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[$6]},$$scope:{ctx:t}}}),a=new V6({props:{proOptions:t[20],position:t[19]}});const y=t[75].default,v=xt(y,t,t[99],null);let C=[{style:t[24]},{class:f=ut(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],O={};for(let k=0;k<C.length;k+=1)O=ot(O,C[k]);return{c(){e=Ee("div"),Te(n.$$.fragment),i=Pe(),Te(o.$$.fragment),s=Pe(),Te(a.$$.fragment),u=Pe(),v&&v.c(),kr(e,O),Bl(()=>t[98].call(e)),Ke(e,"svelte-12wlba6",!0)},m(k,H){oe(k,e,H),Ae(n,e,null),ye(e,i),Ae(o,e,null),ye(e,s),Ae(a,e,null),ye(e,u),v&&v.m(e,null),t[97](e),d=cb(e,t[98].bind(e)),h=!0,g||(m=[We(e,"dragover",t[76]),We(e,"drop",t[77])],g=!0)},p(k,H){const M={};H[0]&2&&(M.selectionKey=k[1]),H[0]&32&&(M.deleteKey=k[5]),H[0]&4&&(M.panActivationKey=k[2]),H[0]&8&&(M.multiSelectionKey=k[3]),H[0]&16&&(M.zoomActivationKey=k[4]),n.$set(M);const B={};H[0]&256&&(B.onMoveStart=k[8]),H[0]&512&&(B.onMove=k[9]),H[0]&1024&&(B.onMoveEnd=k[10]),H[0]&2048&&(B.panOnScrollMode=k[11]===void 0?Zn.Free:k[11]),H[0]&4096&&(B.preventScrolling=k[12]===void 0?!0:k[12]),H[0]&8192&&(B.zoomOnScroll=k[13]===void 0?!0:k[13]),H[0]&16384&&(B.zoomOnDoubleClick=k[14]===void 0?!0:k[14]),H[0]&32768&&(B.zoomOnPinch=k[15]===void 0?!0:k[15]),H[0]&65536&&(B.panOnScroll=k[16]===void 0?!1:k[16]),H[0]&131072&&(B.panOnDrag=k[17]===void 0?!0:k[17]),H[0]&4194304&&(B.paneClickDistance=k[22]===void 0?0:k[22]),H[0]&10879168|H[1]&8|H[3]&64&&(B.$$scope={dirty:H,ctx:k}),o.$set(B);const A={};H[0]&1048576&&(A.proOptions=k[20]),H[0]&524288&&(A.position=k[19]),a.$set(A),v&&v.p&&(!h||H[3]&64)&&Vt(v,y,k,k[99],h?Ft(y,k[99],H,null):Ut(k[99]),null),kr(e,O=Gn(C,[(!h||H[0]&16777216)&&{style:k[24]},(!h||H[0]&1107296256&&f!==(f=ut(["svelte-flow",k[25],k[30]])))&&{class:f},{"data-testid":"svelte-flow__wrapper"},H[1]&4&&k[33],{role:"application"}])),Ke(e,"svelte-12wlba6",!0)},i(k){h||(se(n.$$.fragment,k),se(o.$$.fragment,k),se(a.$$.fragment,k),se(v,k),h=!0)},o(k){fe(n.$$.fragment,k),fe(o.$$.fragment,k),fe(a.$$.fragment,k),fe(v,k),h=!1},d(k){k&&re(e),Me(n),Me(o),Me(a),v&&v.d(k),t[97](null),d(),g=!1,At(m)}}}function t8(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let s=St(e,o),a,u,f=Ne,d=()=>(f(),f=uo(N,q=>n(100,u=q)),N),h,g=Ne,m=()=>(g(),g=uo(i,q=>n(30,h=q)),i);t.$$.on_destroy.push(()=>f()),t.$$.on_destroy.push(()=>g());let{$$slots:y={},$$scope:v}=e;const C=lb(y);let{id:O="1"}=e,{nodes:k}=e,{edges:H}=e,{fitView:M=void 0}=e,{fitViewOptions:B=void 0}=e,{minZoom:A=void 0}=e,{maxZoom:I=void 0}=e,{initialViewport:p=void 0}=e,{viewport:N=void 0}=e;d();let{nodeTypes:E=void 0}=e,{edgeTypes:W=void 0}=e,{selectionKey:D=void 0}=e,{selectionMode:S=void 0}=e,{panActivationKey:Y=void 0}=e,{multiSelectionKey:w=void 0}=e,{zoomActivationKey:X=void 0}=e,{nodesDraggable:R=void 0}=e,{nodesConnectable:V=void 0}=e,{nodeDragThreshold:G=void 0}=e,{elementsSelectable:Z=void 0}=e,{snapGrid:ie=void 0}=e,{deleteKey:ce=void 0}=e,{connectionRadius:pe=void 0}=e,{connectionLineType:ve=void 0}=e,{connectionMode:le=Ui.Strict}=e,{connectionLineStyle:ke=""}=e,{connectionLineContainerStyle:Ce=""}=e,{onMoveStart:ue=void 0}=e,{onMove:Q=void 0}=e,{onMoveEnd:$=void 0}=e,{isValidConnection:z=void 0}=e,{translateExtent:F=void 0}=e,{nodeExtent:ee=void 0}=e,{onlyRenderVisibleElements:ne=void 0}=e,{panOnScrollMode:K=Zn.Free}=e,{preventScrolling:_e=!0}=e,{zoomOnScroll:Le=!0}=e,{zoomOnDoubleClick:Ze=!0}=e,{zoomOnPinch:De=!0}=e,{panOnScroll:ct=!1}=e,{panOnDrag:it=!0}=e,{selectionOnDrag:yt=void 0}=e,{autoPanOnConnect:Ie=!0}=e,{autoPanOnNodeDrag:Kt=!0}=e,{onerror:en=void 0}=e,{ondelete:Ot=void 0}=e,{onedgecreate:Jn=void 0}=e,{attributionPosition:Ht=void 0}=e,{proOptions:zt=void 0}=e,{defaultEdgeOptions:te=void 0}=e,{width:Zt=void 0}=e,{height:wt=void 0}=e,{colorMode:mt="light"}=e,{onconnect:Bn=void 0}=e,{onconnectstart:Wn=void 0}=e,{onconnectend:Yn=void 0}=e,{onbeforedelete:Xn=void 0}=e,{oninit:wn=void 0}=e,{nodeOrigin:Qn=void 0}=e,{paneClickDistance:Zi=0}=e,{nodeClickDistance:Io=0}=e,{defaultMarkerColor:Gi="#b1b1b7"}=e,{style:Rr=void 0}=e,{class:Oo=void 0}=e,qi,gi,mi;const No=u||p,Bt=gb(us)?gt():Y5({nodes:he(k),edges:he(H),width:Zt,height:wt,fitView:M,nodeOrigin:Qn,nodeExtent:ee});Dr(()=>(Bt.width.set(gi),Bt.height.set(mi),Bt.domNode.set(qi),Bt.syncNodeStores(k),Bt.syncEdgeStores(H),Bt.syncViewport(N),M!==void 0&&Bt.fitViewOnInit.set(M),B&&Bt.fitViewOptions.set(B),e1(Bt,{nodeTypes:E,edgeTypes:W,minZoom:A,maxZoom:I,translateExtent:F,paneClickDistance:Zi}),()=>{Bt.reset()}));const{initialized:Lo}=Bt;be(t,Lo,q=>n(74,a=q));let Hr=!1;function zr(q){lt.call(this,t,q)}function fs(q){lt.call(this,t,q)}function Br(q){lt.call(this,t,q)}function cs(q){lt.call(this,t,q)}function ds(q){lt.call(this,t,q)}function hs(q){lt.call(this,t,q)}function gs(q){lt.call(this,t,q)}function ms(q){lt.call(this,t,q)}function _s(q){lt.call(this,t,q)}function ys(q){lt.call(this,t,q)}function ws(q){lt.call(this,t,q)}function Do(q){lt.call(this,t,q)}function bs(q){lt.call(this,t,q)}function ps(q){lt.call(this,t,q)}function vs(q){lt.call(this,t,q)}function ks(q){lt.call(this,t,q)}function Cs(q){lt.call(this,t,q)}function Es(q){lt.call(this,t,q)}function Ji(q){lt.call(this,t,q)}function Ss(q){lt.call(this,t,q)}function Qi(q){lt.call(this,t,q)}function As(q){Tn[q?"unshift":"push"](()=>{qi=q,n(28,qi)})}function Ms(){gi=this.clientWidth,mi=this.clientHeight,n(26,gi),n(27,mi)}return t.$$set=q=>{e=ot(ot({},e),_n(q)),n(33,s=St(e,o)),"id"in q&&n(35,O=q.id),"nodes"in q&&n(36,k=q.nodes),"edges"in q&&n(37,H=q.edges),"fitView"in q&&n(38,M=q.fitView),"fitViewOptions"in q&&n(39,B=q.fitViewOptions),"minZoom"in q&&n(40,A=q.minZoom),"maxZoom"in q&&n(41,I=q.maxZoom),"initialViewport"in q&&n(42,p=q.initialViewport),"viewport"in q&&d(n(0,N=q.viewport)),"nodeTypes"in q&&n(43,E=q.nodeTypes),"edgeTypes"in q&&n(44,W=q.edgeTypes),"selectionKey"in q&&n(1,D=q.selectionKey),"selectionMode"in q&&n(45,S=q.selectionMode),"panActivationKey"in q&&n(2,Y=q.panActivationKey),"multiSelectionKey"in q&&n(3,w=q.multiSelectionKey),"zoomActivationKey"in q&&n(4,X=q.zoomActivationKey),"nodesDraggable"in q&&n(46,R=q.nodesDraggable),"nodesConnectable"in q&&n(47,V=q.nodesConnectable),"nodeDragThreshold"in q&&n(48,G=q.nodeDragThreshold),"elementsSelectable"in q&&n(49,Z=q.elementsSelectable),"snapGrid"in q&&n(50,ie=q.snapGrid),"deleteKey"in q&&n(5,ce=q.deleteKey),"connectionRadius"in q&&n(51,pe=q.connectionRadius),"connectionLineType"in q&&n(52,ve=q.connectionLineType),"connectionMode"in q&&n(53,le=q.connectionMode),"connectionLineStyle"in q&&n(6,ke=q.connectionLineStyle),"connectionLineContainerStyle"in q&&n(7,Ce=q.connectionLineContainerStyle),"onMoveStart"in q&&n(8,ue=q.onMoveStart),"onMove"in q&&n(9,Q=q.onMove),"onMoveEnd"in q&&n(10,$=q.onMoveEnd),"isValidConnection"in q&&n(54,z=q.isValidConnection),"translateExtent"in q&&n(55,F=q.translateExtent),"nodeExtent"in q&&n(56,ee=q.nodeExtent),"onlyRenderVisibleElements"in q&&n(57,ne=q.onlyRenderVisibleElements),"panOnScrollMode"in q&&n(11,K=q.panOnScrollMode),"preventScrolling"in q&&n(12,_e=q.preventScrolling),"zoomOnScroll"in q&&n(13,Le=q.zoomOnScroll),"zoomOnDoubleClick"in q&&n(14,Ze=q.zoomOnDoubleClick),"zoomOnPinch"in q&&n(15,De=q.zoomOnPinch),"panOnScroll"in q&&n(16,ct=q.panOnScroll),"panOnDrag"in q&&n(17,it=q.panOnDrag),"selectionOnDrag"in q&&n(18,yt=q.selectionOnDrag),"autoPanOnConnect"in q&&n(58,Ie=q.autoPanOnConnect),"autoPanOnNodeDrag"in q&&n(59,Kt=q.autoPanOnNodeDrag),"onerror"in q&&n(60,en=q.onerror),"ondelete"in q&&n(61,Ot=q.ondelete),"onedgecreate"in q&&n(62,Jn=q.onedgecreate),"attributionPosition"in q&&n(19,Ht=q.attributionPosition),"proOptions"in q&&n(20,zt=q.proOptions),"defaultEdgeOptions"in q&&n(21,te=q.defaultEdgeOptions),"width"in q&&n(63,Zt=q.width),"height"in q&&n(64,wt=q.height),"colorMode"in q&&n(65,mt=q.colorMode),"onconnect"in q&&n(66,Bn=q.onconnect),"onconnectstart"in q&&n(67,Wn=q.onconnectstart),"onconnectend"in q&&n(68,Yn=q.onconnectend),"onbeforedelete"in q&&n(69,Xn=q.onbeforedelete),"oninit"in q&&n(70,wn=q.oninit),"nodeOrigin"in q&&n(71,Qn=q.nodeOrigin),"paneClickDistance"in q&&n(22,Zi=q.paneClickDistance),"nodeClickDistance"in q&&n(23,Io=q.nodeClickDistance),"defaultMarkerColor"in q&&n(72,Gi=q.defaultMarkerColor),"style"in q&&n(24,Rr=q.style),"class"in q&&n(25,Oo=q.class),"$$scope"in q&&n(99,v=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&gi!==void 0&&mi!==void 0&&(Bt.width.set(gi),Bt.height.set(mi)),t.$$.dirty[2]&6400&&!Hr&&a&&(wn==null||wn(),n(73,Hr=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&K6(Bt,{flowId:O,connectionLineType:ve,connectionRadius:pe,selectionMode:S,snapGrid:ie,defaultMarkerColor:Gi,nodesDraggable:R,nodesConnectable:V,elementsSelectable:Z,onlyRenderVisibleElements:ne,isValidConnection:z,autoPanOnConnect:Ie,autoPanOnNodeDrag:Kt,onerror:en,ondelete:Ot,onedgecreate:Jn,connectionMode:le,nodeDragThreshold:G,onconnect:Bn,onconnectstart:Wn,onconnectend:Yn,onbeforedelete:Xn,nodeOrigin:Qn}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&e1(Bt,{nodeTypes:E,edgeTypes:W,minZoom:A,maxZoom:I,translateExtent:F,paneClickDistance:Zi}),t.$$.dirty[2]&8&&m(n(29,i=G6(mt)))},[N,D,Y,w,X,ce,ke,Ce,ue,Q,$,K,_e,Le,Ze,De,ct,it,yt,Ht,zt,te,Zi,Io,Rr,Oo,gi,mi,qi,i,h,No,Lo,s,C,O,k,H,M,B,A,I,p,E,W,S,R,V,G,Z,ie,pe,ve,le,z,F,ee,ne,Ie,Kt,en,Ot,Jn,Zt,wt,mt,Bn,Wn,Yn,Xn,wn,Qn,Gi,Hr,a,y,zr,fs,Br,cs,ds,hs,gs,ms,_s,ys,ws,Do,bs,ps,vs,ks,Cs,Es,Ji,Ss,Qi,As,Ms,v]}class n8 extends Be{constructor(e){super(),ze(this,e,t8,e8,Ye,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}function i8(t){let e;const n=t[7].default,i=xt(n,t,t[6],null);return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,[s]){i&&i.p&&(!e||s&64)&&Vt(i,n,o,o[6],e?Ft(n,o[6],s,null):Ut(o[6]),null)},i(o){e||(se(i,o),e=!0)},o(o){fe(i,o),e=!1},d(o){i&&i.d(o)}}}function r8(t,e,n){let{$$slots:i={},$$scope:o}=e,{initialNodes:s=void 0}=e,{initialEdges:a=void 0}=e,{initialWidth:u=void 0}=e,{initialHeight:f=void 0}=e,{fitView:d=void 0}=e,{nodeOrigin:h=void 0}=e;const g=Yh({nodes:s,edges:a,width:u,height:f,nodeOrigin:h,fitView:d});return fo(us,{getStore:()=>g}),da(()=>{g.reset()}),t.$$set=m=>{"initialNodes"in m&&n(0,s=m.initialNodes),"initialEdges"in m&&n(1,a=m.initialEdges),"initialWidth"in m&&n(2,u=m.initialWidth),"initialHeight"in m&&n(3,f=m.initialHeight),"fitView"in m&&n(4,d=m.fitView),"nodeOrigin"in m&&n(5,h=m.nodeOrigin),"$$scope"in m&&n(6,o=m.$$scope)},[s,a,u,f,d,h,o,i]}class xk extends Be{constructor(e){super(),ze(this,e,r8,i8,Ye,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const o8=t=>({}),n1=t=>({class:"button-svg"});function l8(t){let e,n,i,o,s;const a=t[8].default,u=xt(a,t,t[7],n1);let f=[{type:"button"},{class:n=ut(["svelte-flow__controls-button",t[0]])},t[6]],d={};for(let h=0;h<f.length;h+=1)d=ot(d,f[h]);return{c(){e=Ee("button"),u&&u.c(),kr(e,d),Xe(e,"--xy-controls-button-background-color-props",t[1]),Xe(e,"--xy-controls-button-background-color-hover-props",t[2]),Xe(e,"--xy-controls-button-color-props",t[3]),Xe(e,"--xy-controls-button-color-hover-props",t[4]),Xe(e,"--xy-controls-button-border-color-props",t[5])},m(h,g){oe(h,e,g),u&&u.m(e,null),e.autofocus&&e.focus(),i=!0,o||(s=We(e,"click",t[9]),o=!0)},p(h,[g]){u&&u.p&&(!i||g&128)&&Vt(u,a,h,h[7],i?Ft(a,h[7],g,o8):Ut(h[7]),n1),kr(e,d=Gn(f,[{type:"button"},(!i||g&1&&n!==(n=ut(["svelte-flow__controls-button",h[0]])))&&{class:n},g&64&&h[6]])),Xe(e,"--xy-controls-button-background-color-props",h[1]),Xe(e,"--xy-controls-button-background-color-hover-props",h[2]),Xe(e,"--xy-controls-button-color-props",h[3]),Xe(e,"--xy-controls-button-color-hover-props",h[4]),Xe(e,"--xy-controls-button-border-color-props",h[5])},i(h){i||(se(u,h),i=!0)},o(h){fe(u,h),i=!1},d(h){h&&re(e),u&&u.d(h),o=!1,s()}}}function s8(t,e,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=St(e,i),{$$slots:s={},$$scope:a}=e,{class:u=void 0}=e,{bgColor:f=void 0}=e,{bgColorHover:d=void 0}=e,{color:h=void 0}=e,{colorHover:g=void 0}=e,{borderColor:m=void 0}=e;function y(v){lt.call(this,t,v)}return t.$$set=v=>{e=ot(ot({},e),_n(v)),n(6,o=St(e,i)),"class"in v&&n(0,u=v.class),"bgColor"in v&&n(1,f=v.bgColor),"bgColorHover"in v&&n(2,d=v.bgColorHover),"color"in v&&n(3,h=v.color),"colorHover"in v&&n(4,g=v.colorHover),"borderColor"in v&&n(5,m=v.borderColor),"$$scope"in v&&n(7,a=v.$$scope)},[u,f,d,h,g,m,o,a,s,y]}class Nr extends Be{constructor(e){super(),ze(this,e,s8,l8,Ye,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}function u8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),P(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),P(e,"xmlns","http://www.w3.org/2000/svg"),P(e,"viewBox","0 0 32 32")},m(i,o){oe(i,e,o),ye(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class a8 extends Be{constructor(e){super(),ze(this,e,null,u8,Ye,{})}}function f8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),P(n,"d","M0 0h32v4.2H0z"),P(e,"xmlns","http://www.w3.org/2000/svg"),P(e,"viewBox","0 0 32 5")},m(i,o){oe(i,e,o),ye(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class c8 extends Be{constructor(e){super(),ze(this,e,null,f8,Ye,{})}}function d8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),P(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),P(e,"xmlns","http://www.w3.org/2000/svg"),P(e,"viewBox","0 0 32 30")},m(i,o){oe(i,e,o),ye(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class h8 extends Be{constructor(e){super(),ze(this,e,null,d8,Ye,{})}}function g8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),P(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),P(e,"xmlns","http://www.w3.org/2000/svg"),P(e,"viewBox","0 0 25 32")},m(i,o){oe(i,e,o),ye(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class m8 extends Be{constructor(e){super(),ze(this,e,null,g8,Ye,{})}}function _8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),P(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),P(e,"xmlns","http://www.w3.org/2000/svg"),P(e,"viewBox","0 0 25 32")},m(i,o){oe(i,e,o),ye(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class y8 extends Be{constructor(e){super(),ze(this,e,null,_8,Ye,{})}}const w8=t=>({}),i1=t=>({}),b8=t=>({}),r1=t=>({});function o1(t){let e,n,i,o;const s=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let a={$$slots:{default:[p8]},$$scope:{ctx:t}};for(let d=0;d<s.length;d+=1)a=ot(a,s[d]);e=new Nr({props:a}),e.$on("click",t[18]);const u=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let f={$$slots:{default:[v8]},$$scope:{ctx:t}};for(let d=0;d<u.length;d+=1)f=ot(f,u[d]);return i=new Nr({props:f}),i.$on("click",t[19]),{c(){Te(e.$$.fragment),n=Pe(),Te(i.$$.fragment)},m(d,h){Ae(e,d,h),oe(d,n,h),Ae(i,d,h),o=!0},p(d,h){const g=h[0]&131584?Gn(s,[s[0],s[1],s[2],h[0]&512&&{disabled:d[9]},h[0]&131072&&Er(d[17])]):{};h[1]&32&&(g.$$scope={dirty:h,ctx:d}),e.$set(g);const m=h[0]&132096?Gn(u,[u[0],u[1],u[2],h[0]&1024&&{disabled:d[10]},h[0]&131072&&Er(d[17])]):{};h[1]&32&&(m.$$scope={dirty:h,ctx:d}),i.$set(m)},i(d){o||(se(e.$$.fragment,d),se(i.$$.fragment,d),o=!0)},o(d){fe(e.$$.fragment,d),fe(i.$$.fragment,d),o=!1},d(d){d&&re(n),Me(e,d),Me(i,d)}}}function p8(t){let e,n;return e=new a8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function v8(t){let e,n;return e=new c8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function l1(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[k8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=ot(o,i[s]);return e=new Nr({props:o}),e.$on("click",t[20]),{c(){Te(e.$$.fragment)},m(s,a){Ae(e,s,a),n=!0},p(s,a){const u=a[0]&131072?Gn(i,[i[0],i[1],i[2],Er(s[17])]):{};a[1]&32&&(u.$$scope={dirty:a,ctx:s}),e.$set(u)},i(s){n||(se(e.$$.fragment,s),n=!0)},o(s){fe(e.$$.fragment,s),n=!1},d(s){Me(e,s)}}}function k8(t){let e,n;return e=new h8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function s1(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[S8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=ot(o,i[s]);return e=new Nr({props:o}),e.$on("click",t[21]),{c(){Te(e.$$.fragment)},m(s,a){Ae(e,s,a),n=!0},p(s,a){const u=a[0]&131072?Gn(i,[i[0],i[1],i[2],Er(s[17])]):{};a[0]&256|a[1]&32&&(u.$$scope={dirty:a,ctx:s}),e.$set(u)},i(s){n||(se(e.$$.fragment,s),n=!0)},o(s){fe(e.$$.fragment,s),n=!1},d(s){Me(e,s)}}}function C8(t){let e,n;return e=new m8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function E8(t){let e,n;return e=new y8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function S8(t){let e,n,i,o;const s=[E8,C8],a=[];function u(f,d){return f[8]?0:1}return e=u(t),n=a[e]=s[e](t),{c(){n.c(),i=Pt()},m(f,d){a[e].m(f,d),oe(f,i,d),o=!0},p(f,d){let h=e;e=u(f),e!==h&&(Ct(),fe(a[h],1,1,()=>{a[h]=null}),Et(),n=a[e],n||(n=a[e]=s[e](f),n.c()),se(n,1),n.m(i.parentNode,i))},i(f){o||(se(n),o=!0)},o(f){fe(n),o=!1},d(f){f&&re(i),a[e].d(f)}}}function A8(t){let e,n,i,o,s,a;const u=t[35].before,f=xt(u,t,t[36],r1);let d=t[1]&&o1(t),h=t[2]&&l1(t),g=t[3]&&s1(t);const m=t[35].default,y=xt(m,t,t[36],null),v=t[35].after,C=xt(v,t,t[36],i1);return{c(){f&&f.c(),e=Pe(),d&&d.c(),n=Pe(),h&&h.c(),i=Pe(),g&&g.c(),o=Pe(),y&&y.c(),s=Pe(),C&&C.c()},m(O,k){f&&f.m(O,k),oe(O,e,k),d&&d.m(O,k),oe(O,n,k),h&&h.m(O,k),oe(O,i,k),g&&g.m(O,k),oe(O,o,k),y&&y.m(O,k),oe(O,s,k),C&&C.m(O,k),a=!0},p(O,k){f&&f.p&&(!a||k[1]&32)&&Vt(f,u,O,O[36],a?Ft(u,O[36],k,b8):Ut(O[36]),r1),O[1]?d?(d.p(O,k),k[0]&2&&se(d,1)):(d=o1(O),d.c(),se(d,1),d.m(n.parentNode,n)):d&&(Ct(),fe(d,1,1,()=>{d=null}),Et()),O[2]?h?(h.p(O,k),k[0]&4&&se(h,1)):(h=l1(O),h.c(),se(h,1),h.m(i.parentNode,i)):h&&(Ct(),fe(h,1,1,()=>{h=null}),Et()),O[3]?g?(g.p(O,k),k[0]&8&&se(g,1)):(g=s1(O),g.c(),se(g,1),g.m(o.parentNode,o)):g&&(Ct(),fe(g,1,1,()=>{g=null}),Et()),y&&y.p&&(!a||k[1]&32)&&Vt(y,m,O,O[36],a?Ft(m,O[36],k,null):Ut(O[36]),null),C&&C.p&&(!a||k[1]&32)&&Vt(C,v,O,O[36],a?Ft(v,O[36],k,w8):Ut(O[36]),i1)},i(O){a||(se(f,O),se(d),se(h),se(g),se(y,O),se(C,O),a=!0)},o(O){fe(f,O),fe(d),fe(h),fe(g),fe(y,O),fe(C,O),a=!1},d(O){O&&(re(e),re(n),re(i),re(o),re(s)),f&&f.d(O),d&&d.d(O),h&&h.d(O),g&&g.d(O),y&&y.d(O),C&&C.d(O)}}}function M8(t){let e,n;return e=new ui({props:{class:ut(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[A8]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o[0]&192&&(s.class=ut(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(s.position=i[0]),o[0]&16&&(s["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(s.style=i[5]),o[0]&1806|o[1]&32&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function T8(t,e,n){let i,o,s,a,u,f,d,h,g,m,{$$slots:y={},$$scope:v}=e,{position:C="bottom-left"}=e,{showZoom:O=!0}=e,{showFitView:k=!0}=e,{showLock:H=!0}=e,{buttonBgColor:M=void 0}=e,{buttonBgColorHover:B=void 0}=e,{buttonColor:A=void 0}=e,{buttonColorHover:I=void 0}=e,{buttonBorderColor:p=void 0}=e,{ariaLabel:N=void 0}=e,{style:E=void 0}=e,{orientation:W="vertical"}=e,{fitViewOptions:D=void 0}=e,{class:S=""}=e;const{zoomIn:Y,zoomOut:w,fitView:X,viewport:R,minZoom:V,maxZoom:G,nodesDraggable:Z,nodesConnectable:ie,elementsSelectable:ce}=gt();be(t,R,ue=>n(30,f=ue)),be(t,V,ue=>n(31,d=ue)),be(t,G,ue=>n(29,u=ue)),be(t,Z,ue=>n(34,m=ue)),be(t,ie,ue=>n(33,g=ue)),be(t,ce,ue=>n(32,h=ue));const pe={bgColor:M,bgColorHover:B,color:A,colorHover:I,borderColor:p},ve=()=>{Y()},le=()=>{w()},ke=()=>{X(D)},Ce=()=>{n(8,i=!i),Z.set(i),ie.set(i),ce.set(i)};return t.$$set=ue=>{"position"in ue&&n(0,C=ue.position),"showZoom"in ue&&n(1,O=ue.showZoom),"showFitView"in ue&&n(2,k=ue.showFitView),"showLock"in ue&&n(3,H=ue.showLock),"buttonBgColor"in ue&&n(22,M=ue.buttonBgColor),"buttonBgColorHover"in ue&&n(23,B=ue.buttonBgColorHover),"buttonColor"in ue&&n(24,A=ue.buttonColor),"buttonColorHover"in ue&&n(25,I=ue.buttonColorHover),"buttonBorderColor"in ue&&n(26,p=ue.buttonBorderColor),"ariaLabel"in ue&&n(4,N=ue.ariaLabel),"style"in ue&&n(5,E=ue.style),"orientation"in ue&&n(27,W=ue.orientation),"fitViewOptions"in ue&&n(28,D=ue.fitViewOptions),"class"in ue&&n(6,S=ue.class),"$$scope"in ue&&n(36,v=ue.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=m||g||h),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=f.zoom<=d),t.$$.dirty[0]&1610612736&&n(9,s=f.zoom>=u),t.$$.dirty[0]&134217728&&n(7,a=W==="horizontal"?"horizontal":"vertical")},[C,O,k,H,N,E,S,a,i,s,o,R,V,G,Z,ie,ce,pe,ve,le,ke,Ce,M,B,A,I,p,W,D,u,f,d,h,g,m,y,v]}class P8 extends Be{constructor(e){super(),ze(this,e,T8,M8,Ye,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var ci;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ci||(ci={}));function I8(t){let e,n;return{c(){e=Ge("circle"),P(e,"cx",t[0]),P(e,"cy",t[0]),P(e,"r",t[0]),P(e,"class",n=ut(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){oe(i,e,o)},p(i,[o]){o&1&&P(e,"cx",i[0]),o&1&&P(e,"cy",i[0]),o&1&&P(e,"r",i[0]),o&2&&n!==(n=ut(["svelte-flow__background-pattern","dots",i[1]]))&&P(e,"class",n)},i:Ne,o:Ne,d(i){i&&re(e)}}}function O8(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=s=>{"radius"in s&&n(0,i=s.radius),"class"in s&&n(1,o=s.class)},[i,o]}class N8 extends Be{constructor(e){super(),ze(this,e,O8,I8,Ye,{radius:0,class:1})}}function L8(t){let e,n,i;return{c(){e=Ge("path"),P(e,"stroke-width",t[0]),P(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),P(e,"class",i=ut(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,s){oe(o,e,s)},p(o,[s]){s&1&&P(e,"stroke-width",o[0]),s&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&P(e,"d",n),s&12&&i!==(i=ut(["svelte-flow__background-pattern",o[2],o[3]]))&&P(e,"class",i)},i:Ne,o:Ne,d(o){o&&re(e)}}}function D8(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:s=void 0}=e,{class:a=""}=e;return t.$$set=u=>{"lineWidth"in u&&n(0,i=u.lineWidth),"dimensions"in u&&n(1,o=u.dimensions),"variant"in u&&n(2,s=u.variant),"class"in u&&n(3,a=u.class)},[i,o,s,a]}class R8 extends Be{constructor(e){super(),ze(this,e,D8,L8,Ye,{lineWidth:0,dimensions:1,variant:2,class:3})}}function H8(t){let e,n;return e=new R8({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&64&&(s.dimensions=i[6]),o&1&&(s.variant=i[0]),o&2&&(s.lineWidth=i[1]),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function z8(t){let e,n;return e=new N8({props:{radius:t[7]/2,class:t[4]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&128&&(s.radius=i[7]/2),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function B8(t){let e,n,i,o,s,a,u,f,d,h,g,m,y;const v=[z8,H8],C=[];function O(k,H){return k[14]?0:1}return i=O(t),o=C[i]=v[i](t),{c(){e=Ge("svg"),n=Ge("pattern"),o.c(),h=Ge("rect"),P(n,"id",t[11]),P(n,"x",s=t[9].x%t[8][0]),P(n,"y",a=t[9].y%t[8][1]),P(n,"width",u=t[8][0]),P(n,"height",f=t[8][1]),P(n,"patternUnits","userSpaceOnUse"),P(n,"patternTransform",d=`translate(-${t[10][0]},-${t[10][1]})`),P(h,"x","0"),P(h,"y","0"),P(h,"width","100%"),P(h,"height","100%"),P(h,"fill",g=`url(#${t[11]})`),P(e,"class",m=vr(ut(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),P(e,"data-testid","svelte-flow__background"),Xe(e,"--xy-background-color-props",t[2]),Xe(e,"--xy-background-pattern-color-props",t[3])},m(k,H){oe(k,e,H),ye(e,n),C[i].m(n,null),ye(e,h),y=!0},p(k,[H]){o.p(k,H),(!y||H&2048)&&P(n,"id",k[11]),(!y||H&768&&s!==(s=k[9].x%k[8][0]))&&P(n,"x",s),(!y||H&768&&a!==(a=k[9].y%k[8][1]))&&P(n,"y",a),(!y||H&256&&u!==(u=k[8][0]))&&P(n,"width",u),(!y||H&256&&f!==(f=k[8][1]))&&P(n,"height",f),(!y||H&1024&&d!==(d=`translate(-${k[10][0]},-${k[10][1]})`))&&P(n,"patternTransform",d),(!y||H&2048&&g!==(g=`url(#${k[11]})`))&&P(h,"fill",g),(!y||H&32&&m!==(m=vr(ut(["svelte-flow__background",k[5]]))+" svelte-1r7pe8d"))&&P(e,"class",m),H&4&&Xe(e,"--xy-background-color-props",k[2]),H&8&&Xe(e,"--xy-background-pattern-color-props",k[3])},i(k){y||(se(o),y=!0)},o(k){fe(o),y=!1},d(k){k&&re(e),C[i].d()}}}const W8={[ci.Dots]:1,[ci.Lines]:1,[ci.Cross]:6};function Y8(t,e,n){let i,o,s,a,u,f,d,{id:h=void 0}=e,{variant:g=ci.Dots}=e,{gap:m=20}=e,{size:y=1}=e,{lineWidth:v=1}=e,{bgColor:C=void 0}=e,{patternColor:O=void 0}=e,{patternClass:k=void 0}=e,{class:H=""}=e;const{viewport:M,flowId:B}=gt();be(t,M,E=>n(9,f=E)),be(t,B,E=>n(18,d=E));const A=y||W8[g],I=g===ci.Dots,p=g===ci.Cross,N=Array.isArray(m)?m:[m,m];return t.$$set=E=>{"id"in E&&n(15,h=E.id),"variant"in E&&n(0,g=E.variant),"gap"in E&&n(16,m=E.gap),"size"in E&&n(17,y=E.size),"lineWidth"in E&&n(1,v=E.lineWidth),"bgColor"in E&&n(2,C=E.bgColor),"patternColor"in E&&n(3,O=E.patternColor),"patternClass"in E&&n(4,k=E.patternClass),"class"in E&&n(5,H=E.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${d}-${h||""}`),t.$$.dirty&512&&n(8,o=[N[0]*f.zoom||1,N[1]*f.zoom||1]),t.$$.dirty&512&&n(7,s=A*f.zoom),t.$$.dirty&384&&n(6,a=p?[s,s]:o),t.$$.dirty&192&&n(10,u=I?[s/2,s/2]:[a[0]/2,a[1]/2])},[g,v,C,O,k,H,a,s,o,f,u,i,M,B,I,h,m,y,d]}class X8 extends Be{constructor(e){super(),ze(this,e,Y8,B8,Ye,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function x8(t){let e,n,i;return{c(){e=Ge("rect"),P(e,"class",n=ut(["svelte-flow__minimap-node",t[10]])),P(e,"x",t[0]),P(e,"y",t[1]),P(e,"rx",t[4]),P(e,"ry",t[4]),P(e,"width",t[2]),P(e,"height",t[3]),P(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),P(e,"shape-rendering",t[6]),Ke(e,"selected",t[9])},m(o,s){oe(o,e,s)},p(o,[s]){s&1024&&n!==(n=ut(["svelte-flow__minimap-node",o[10]]))&&P(e,"class",n),s&1&&P(e,"x",o[0]),s&2&&P(e,"y",o[1]),s&16&&P(e,"rx",o[4]),s&16&&P(e,"ry",o[4]),s&4&&P(e,"width",o[2]),s&8&&P(e,"height",o[3]),s&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&P(e,"style",i),s&64&&P(e,"shape-rendering",o[6]),s&1536&&Ke(e,"selected",o[9])},i:Ne,o:Ne,d(o){o&&re(e)}}}function F8(t,e,n){let{x:i}=e,{y:o}=e,{width:s=0}=e,{height:a=0}=e,{borderRadius:u=5}=e,{color:f=void 0}=e,{shapeRendering:d}=e,{strokeColor:h=void 0}=e,{strokeWidth:g=2}=e,{selected:m=!1}=e,{class:y=""}=e;return t.$$set=v=>{"x"in v&&n(0,i=v.x),"y"in v&&n(1,o=v.y),"width"in v&&n(2,s=v.width),"height"in v&&n(3,a=v.height),"borderRadius"in v&&n(4,u=v.borderRadius),"color"in v&&n(5,f=v.color),"shapeRendering"in v&&n(6,d=v.shapeRendering),"strokeColor"in v&&n(7,h=v.strokeColor),"strokeWidth"in v&&n(8,g=v.strokeWidth),"selected"in v&&n(9,m=v.selected),"class"in v&&n(10,y=v.class)},[i,o,s,a,u,f,d,h,g,m,y]}class V8 extends Be{constructor(e){super(),ze(this,e,F8,x8,Ye,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function U8(t,e){const n=D3({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=he(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function u1(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function Ku(t){const e=t.slice(),n=Pi(e[56]);return e[59]=n,e}function a1(t){let e,n,i=[],o=new Map,s,a,u,f,d,h,g,m=t[1]&&f1(t),y=Dt(t[19]);const v=C=>C[55].id;for(let C=0;C<y.length;C+=1){let O=u1(t,y,C),k=v(O);o.set(k,i[C]=d1(k,O))}return{c(){e=Ge("svg"),m&&m.c(),n=Pt();for(let C=0;C<i.length;C+=1)i[C].c();s=Ge("path"),P(s,"class","svelte-flow__minimap-mask"),P(s,"d",a="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),P(s,"fill-rule","evenodd"),P(s,"pointer-events","none"),P(e,"width",t[17]),P(e,"height",t[16]),P(e,"viewBox",u=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),P(e,"class","svelte-flow__minimap-svg"),P(e,"role","img"),P(e,"aria-labelledby",t[41]),Xe(e,"--xy-minimap-mask-background-color-props",t[5]),Xe(e,"--xy-minimap-mask-stroke-color-props",t[6]),Xe(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(C,O){oe(C,e,O),m&&m.m(e,null),ye(e,n);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(e,null);ye(e,s),d=!0,h||(g=$t(f=U8.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),h=!0)},p(C,O){C[1]?m?m.p(C,O):(m=f1(C),m.c(),m.m(e,n)):m&&(m.d(1),m=null),O[0]&1572876|O[1]&960&&(y=Dt(C[19]),Ct(),i=Fi(i,O,v,1,C,y,o,e,Cr,d1,s,u1),Et()),(!d||O[0]&126124032&&a!==(a="M"+(C[26]-C[15])+","+(C[25]-C[15])+"h"+(C[24]+C[15]*2)+"v"+(C[23]+C[15]*2)+"h"+(-C[24]-C[15]*2)+`z
      M`+C[18].x+","+C[18].y+"h"+C[18].width+"v"+C[18].height+"h"+-C[18].width+"z"))&&P(s,"d",a),(!d||O[0]&131072)&&P(e,"width",C[17]),(!d||O[0]&65536)&&P(e,"height",C[16]),(!d||O[0]&125829120&&u!==(u=C[26]+" "+C[25]+" "+C[24]+" "+C[23]))&&P(e,"viewBox",u),f&&vt(f.update)&&O[0]&408948480&&f.update.call(null,{panZoom:C[27],viewport:C[31],getViewScale:C[42],translateExtent:C[28],width:C[22],height:C[21],inversePan:C[10],zoomStep:C[11],pannable:C[8],zoomable:C[9]}),O[0]&32&&Xe(e,"--xy-minimap-mask-background-color-props",C[5]),O[0]&64&&Xe(e,"--xy-minimap-mask-stroke-color-props",C[6]),O[0]&16512&&Xe(e,"--xy-minimap-mask-stroke-width-props",C[7]?C[7]*C[14]:void 0)},i(C){if(!d){for(let O=0;O<y.length;O+=1)se(i[O]);d=!0}},o(C){for(let O=0;O<i.length;O+=1)fe(i[O]);d=!1},d(C){C&&re(e),m&&m.d();for(let O=0;O<i.length;O+=1)i[O].d();h=!1,g()}}}function f1(t){let e,n;return{c(){e=Ge("title"),n=nt(t[1]),P(e,"id",t[41])},m(i,o){oe(i,e,o),ye(e,n)},p(i,o){o[0]&2&&Xt(n,i[1])},d(i){i&&re(e)}}}function c1(t){var s;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(s=t[37])==null?void 0:s.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let a=0;a<i.length;a+=1)o=ot(o,i[a]);return e=new V8({props:o}),{c(){Te(e.$$.fragment)},m(a,u){Ae(e,a,u),n=!0},p(a,u){var d;const f=u[0]&1572876|u[1]&960?Gn(i,[u[0]&1572864&&{x:a[56].internals.positionAbsolute.x},u[0]&1572864&&{y:a[56].internals.positionAbsolute.y},u[0]&1572864&&Er(a[59]),u[0]&1572864&&{selected:a[56].selected},u[0]&1572864|u[1]&64&&{color:(d=a[37])==null?void 0:d.call(a,a[56])},u[0]&4&&{borderRadius:a[2]},u[0]&1572864|u[1]&128&&{strokeColor:a[38](a[56])},u[0]&8&&{strokeWidth:a[3]},u[1]&512&&{shapeRendering:a[40]},u[0]&1572864|u[1]&256&&{class:a[39](a[56])}]):{};e.$set(f)},i(a){n||(se(e.$$.fragment,a),n=!0)},o(a){fe(e.$$.fragment,a),n=!1},d(a){Me(e,a)}}}function d1(t,e){let n,i=e[56]&&ql(e[56]),o,s,a=i&&c1(Ku(e));return{key:t,first:null,c(){n=Pt(),a&&a.c(),o=Pt(),this.first=n},m(u,f){oe(u,n,f),a&&a.m(u,f),oe(u,o,f),s=!0},p(u,f){e=u,f[0]&1572864&&(i=e[56]&&ql(e[56])),i?a?(a.p(Ku(e),f),f[0]&1572864&&se(a,1)):(a=c1(Ku(e)),a.c(),se(a,1),a.m(o.parentNode,o)):a&&(Ct(),fe(a,1,1,()=>{a=null}),Et())},i(u){s||(se(a),s=!0)},o(u){fe(a),s=!1},d(u){u&&(re(n),re(o)),a&&a.d(u)}}}function K8(t){let e,n,i=t[27]&&a1(t);return{c(){i&&i.c(),e=Pt()},m(o,s){i&&i.m(o,s),oe(o,e,s),n=!0},p(o,s){o[27]?i?(i.p(o,s),s[0]&134217728&&se(i,1)):(i=a1(o),i.c(),se(i,1),i.m(e.parentNode,e)):i&&(Ct(),fe(i,1,1,()=>{i=null}),Et())},i(o){n||(se(i),n=!0)},o(o){fe(i),n=!1},d(o){o&&re(e),i&&i.d(o)}}}function Z8(t){let e,n;return e=new ui({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:ut(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[K8]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o[0]&1&&(s.position=i[0]),o[0]&4112&&(s.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(s.class=ut(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}const Zu=t=>t instanceof Function?t:()=>t,G8=200,q8=150;function J8(t,e,n){let i,o,s,a,u,f,d,h,g,m,y,v,C,O,k,H,M,B,A,I,p,{position:N="bottom-right"}=e,{ariaLabel:E="Mini map"}=e,{nodeStrokeColor:W="transparent"}=e,{nodeColor:D=void 0}=e,{nodeClass:S=""}=e,{nodeBorderRadius:Y=5}=e,{nodeStrokeWidth:w=2}=e,{bgColor:X=void 0}=e,{maskColor:R=void 0}=e,{maskStrokeColor:V=void 0}=e,{maskStrokeWidth:G=void 0}=e,{width:Z=void 0}=e,{height:ie=void 0}=e,{pannable:ce=!0}=e,{zoomable:pe=!0}=e,{inversePan:ve=void 0}=e,{zoomStep:le=void 0}=e,{style:ke=""}=e,{class:Ce=""}=e;const{nodes:ue,nodeLookup:Q,viewport:$,width:z,height:F,flowId:ee,panZoom:ne,translateExtent:K}=gt();be(t,ue,Ie=>n(19,O=Ie)),be(t,Q,Ie=>n(20,k=Ie)),be(t,$,Ie=>n(53,H=Ie)),be(t,z,Ie=>n(22,B=Ie)),be(t,F,Ie=>n(21,M=Ie)),be(t,ee,Ie=>n(54,A=Ie)),be(t,ne,Ie=>n(27,I=Ie)),be(t,K,Ie=>n(28,p=Ie));const _e=D===void 0?void 0:Zu(D),Le=Zu(W),Ze=Zu(S),De=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",ct=`svelte-flow__minimap-desc-${A}`;let it=i;const yt=()=>f;return t.$$set=Ie=>{"position"in Ie&&n(0,N=Ie.position),"ariaLabel"in Ie&&n(1,E=Ie.ariaLabel),"nodeStrokeColor"in Ie&&n(43,W=Ie.nodeStrokeColor),"nodeColor"in Ie&&n(44,D=Ie.nodeColor),"nodeClass"in Ie&&n(45,S=Ie.nodeClass),"nodeBorderRadius"in Ie&&n(2,Y=Ie.nodeBorderRadius),"nodeStrokeWidth"in Ie&&n(3,w=Ie.nodeStrokeWidth),"bgColor"in Ie&&n(4,X=Ie.bgColor),"maskColor"in Ie&&n(5,R=Ie.maskColor),"maskStrokeColor"in Ie&&n(6,V=Ie.maskStrokeColor),"maskStrokeWidth"in Ie&&n(7,G=Ie.maskStrokeWidth),"width"in Ie&&n(46,Z=Ie.width),"height"in Ie&&n(47,ie=Ie.height),"pannable"in Ie&&n(8,ce=Ie.pannable),"zoomable"in Ie&&n(9,pe=Ie.zoomable),"inversePan"in Ie&&n(10,ve=Ie.inversePan),"zoomStep"in Ie&&n(11,le=Ie.zoomStep),"style"in Ie&&n(12,ke=Ie.style),"class"in Ie&&n(13,Ce=Ie.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-H.x/H.zoom,y:-H.y/H.zoom,width:B/H.zoom,height:M/H.zoom}),t.$$.dirty[0]&1835008&&n(48,it=k.size>0?bh(Mo(k),i):i),t.$$.dirty[1]&32768&&n(17,o=Z??G8),t.$$.dirty[1]&65536&&n(16,s=ie??q8),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,a=it.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,u=it.height/s),t.$$.dirty[1]&3145728&&n(14,f=Math.max(a,u)),t.$$.dirty[0]&147456&&n(50,d=f*o),t.$$.dirty[0]&81920&&n(49,h=f*s),t.$$.dirty[0]&16384&&n(15,g=5*f),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,m=it.x-(d-it.width)/2-g),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,y=it.y-(h-it.height)/2-g),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,v=d+g*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,C=h+g*2)},[N,E,Y,w,X,R,V,G,ce,pe,ve,le,ke,Ce,f,g,s,o,i,O,k,M,B,C,v,y,m,I,p,ue,Q,$,z,F,ee,ne,K,_e,Le,Ze,De,ct,yt,W,D,S,Z,ie,it,h,d,u,a,H]}class Q8 extends Be{constructor(e){super(),ze(this,e,J8,Z8,Ye,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}const h1=t=>e3(t);function j8(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:o,viewport:s,width:a,height:u,minZoom:f,maxZoom:d,panZoom:h,nodes:g,edges:m,domNode:y,nodeLookup:v,nodeOrigin:C,edgeLookup:O,connectionLookup:k}=gt(),H=A=>{var W,D;const I=he(v),p=h1(A)?A:I.get(A.id),N=p.parentId?r3(p.position,p.measured,p.parentId,I,he(C)):p.position,E={...p,position:N,width:((W=p.measured)==null?void 0:W.width)??p.width,height:((D=p.measured)==null?void 0:D.height)??p.height};return Ir(E)},M=(A,I,p={replace:!1})=>{var W;const N=(W=he(v).get(A))==null?void 0:W.internals.userNode;if(!N)return;const E=typeof I=="function"?I(N):I;p.replace?g.update(D=>D.map(S=>S.id===A?h1(E)?E:{...S,...E}:S)):(Object.assign(N,E),g.update(D=>D))},B=A=>he(v).get(A);return{zoomIn:t,zoomOut:e,getInternalNode:B,getNode:A=>{var I;return(I=B(A))==null?void 0:I.internals.userNode},getNodes:A=>A===void 0?he(g):g1(he(v),A),getEdge:A=>he(O).get(A),getEdges:A=>A===void 0?he(m):g1(he(O),A),setZoom:(A,I)=>{const p=he(h);return p?p.scaleTo(A,{duration:I==null?void 0:I.duration}):Promise.resolve(!1)},getZoom:()=>he(s).zoom,setViewport:async(A,I)=>{const p=he(s),N=he(h);return N?(await N.setViewport({x:A.x??p.x,y:A.y??p.y,zoom:A.zoom??p.zoom},{duration:I==null?void 0:I.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>he(s),setCenter:async(A,I,p)=>{const N=typeof(p==null?void 0:p.zoom)<"u"?p.zoom:he(d),E=he(h);return E?(await E.setViewport({x:he(a)/2-A*N,y:he(u)/2-I*N,zoom:N},{duration:p==null?void 0:p.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:n,fitBounds:async(A,I)=>{const p=he(h);if(!p)return Promise.resolve(!1);const N=va(A,he(a),he(u),he(f),he(d),(I==null?void 0:I.padding)??.1);return await p.setViewport(N,{duration:I==null?void 0:I.duration}),Promise.resolve(!0)},getIntersectingNodes:(A,I=!0,p)=>{const N=Sd(A),E=N?A:H(A);return E?(p||he(g)).filter(W=>{const D=he(v).get(W.id);if(!D||!N&&W.id===A.id)return!1;const S=Ir(D),Y=wo(S,E);return I&&Y>0||Y>=E.width*E.height}):[]},isNodeIntersecting:(A,I,p=!0)=>{const E=Sd(A)?A:H(A);if(!E)return!1;const W=wo(E,I);return p&&W>0||W>=E.width*E.height},deleteElements:async({nodes:A=[],edges:I=[]})=>{const{nodes:p,edges:N}=await _h({nodesToRemove:A,edgesToRemove:I,nodes:he(g),edges:he(m),onBeforeDelete:he(i)});return p&&g.update(E=>E.filter(W=>!p.some(({id:D})=>D===W.id))),N&&m.update(E=>E.filter(W=>!N.some(({id:D})=>D===W.id))),{deletedNodes:p,deletedEdges:N}},screenToFlowPosition:(A,I={snapToGrid:!0})=>{const p=he(y);if(!p)return A;const N=I.snapToGrid?he(o):!1,{x:E,y:W,zoom:D}=he(s),{x:S,y:Y}=p.getBoundingClientRect(),w={x:A.x-S,y:A.y-Y};return To(w,[E,W,D],N!==null,N||[1,1])},flowToScreenPosition:A=>{const I=he(y);if(!I)return A;const{x:p,y:N,zoom:E}=he(s),{x:W,y:D}=I.getBoundingClientRect(),S=ph(A,[p,N,E]);return{x:S.x+W,y:S.y+D}},toObject:()=>({nodes:he(g).map(A=>({...A,position:{...A.position},data:{...A.data}})),edges:he(m).map(A=>({...A})),viewport:{...he(s)}}),updateNode:M,updateNodeData:(A,I,p)=>{var W;const N=(W=he(v).get(A))==null?void 0:W.internals.userNode;if(!N)return;const E=typeof I=="function"?I(N):I;N.data=p!=null&&p.replace?E:{...N.data,...E},g.update(D=>D)},getNodesBounds:A=>{const I=he(v),p=he(C);return t3(A,{nodeLookup:I,nodeOrigin:p})},getHandleConnections:({type:A,id:I,nodeId:p})=>{var N;return Array.from(((N=he(k).get(`${p}-${A}-${I??null}`))==null?void 0:N.values())??[])},viewport:s}}function g1(t,e){var i;const n=[];for(const o of e){const s=t.get(o);if(s){const a="internals"in s?(i=s.internals)==null?void 0:i.userNode:s;n.push(a)}}return n}function $8(t){let e,n,i;const o=t[34].default,s=xt(o,t,t[33],null);return{c(){e=Ee("div"),s&&s.c(),P(e,"class",n=ut(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),P(e,"style",t[3])},m(a,u){oe(a,e,u),s&&s.m(e,null),t[35](e),i=!0},p(a,u){s&&s.p&&(!i||u[1]&4)&&Vt(s,o,a,a[33],i?Ft(o,a[33],u,null):Ut(a[33]),null),(!i||u[0]&19&&n!==(n=ut(["svelte-flow__resize-control","nodrag",...a[4],a[0],a[1]])))&&P(e,"class",n),(!i||u[0]&8)&&P(e,"style",a[3])},i(a){i||(se(s,a),i=!0)},o(a){fe(s,a),i=!1},d(a){a&&re(e),s&&s.d(a),t[35](null)}}}function e7(t,e,n){let i,o,s,a,u,f,d,h,g,m,y,v,C,O,k,H,M,{$$slots:B={},$$scope:A}=e,{nodeId:I=void 0}=e,{position:p=void 0}=e,{variant:N=so.Handle}=e,{color:E=void 0}=e,{minWidth:W=10}=e,{minHeight:D=10}=e,{maxWidth:S=Number.MAX_VALUE}=e,{maxHeight:Y=Number.MAX_VALUE}=e,{keepAspectRatio:w=!1}=e,{shouldResize:X=void 0}=e,{onResizeStart:R=void 0}=e,{onResize:V=void 0}=e,{onResizeEnd:G=void 0}=e,{style:Z=""}=e,{class:ie=""}=e;const{nodeLookup:ce,snapGrid:pe,viewport:ve,nodes:le,nodeOrigin:ke,domNode:Ce}=gt();be(t,ce,F=>n(38,C=F)),be(t,pe,F=>n(41,H=F)),be(t,ve,F=>n(42,M=F)),be(t,le,F=>n(37,v=F)),be(t,ke,F=>n(40,k=F)),be(t,Ce,F=>n(39,O=F));const ue=co("svelteflow__node_id");let Q,$=null;Dr(()=>(Q&&n(24,$=q3({domNode:Q,nodeId:u,getStoreItems:()=>({nodeLookup:C,transform:[M.x,M.y,M.zoom],snapGrid:H??void 0,snapToGrid:!!H,nodeOrigin:k,paneDomNode:O}),onChange:(F,ee)=>{var K,_e;const ne=(K=C.get(u))==null?void 0:K.internals.userNode;if(ne){F.x!==void 0&&F.y!==void 0&&(ne.position={x:F.x,y:F.y}),F.width!==void 0&&F.height!==void 0&&(ne.width=F.width,ne.height=F.height);for(const Le of ee){const Ze=(_e=C.get(Le.id))==null?void 0:_e.internals.userNode;Ze&&(Ze.position=Le.position)}le.set(v)}}})),()=>{$==null||$.destroy()}));function z(F){Tn[F?"unshift":"push"](()=>{Q=F,n(2,Q)})}return t.$$set=F=>{"nodeId"in F&&n(11,I=F.nodeId),"position"in F&&n(12,p=F.position),"variant"in F&&n(0,N=F.variant),"color"in F&&n(13,E=F.color),"minWidth"in F&&n(14,W=F.minWidth),"minHeight"in F&&n(15,D=F.minHeight),"maxWidth"in F&&n(16,S=F.maxWidth),"maxHeight"in F&&n(17,Y=F.maxHeight),"keepAspectRatio"in F&&n(18,w=F.keepAspectRatio),"shouldResize"in F&&n(19,X=F.shouldResize),"onResizeStart"in F&&n(20,R=F.onResizeStart),"onResize"in F&&n(21,V=F.onResize),"onResizeEnd"in F&&n(22,G=F.onResizeEnd),"style"in F&&n(23,Z=F.style),"class"in F&&n(1,ie=F.class),"$$scope"in F&&n(33,A=F.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&n(28,i=W??10),t.$$.dirty[0]&32768&&n(27,o=D??10),t.$$.dirty[0]&65536&&n(26,s=S??Number.MAX_VALUE),t.$$.dirty[0]&131072&&n(25,a=Y??Number.MAX_VALUE),t.$$.dirty[0]&2048&&(u=typeof I=="string"?I:ue),t.$$.dirty[0]&1&&n(32,f=N===so.Line?"right":"bottom-right"),t.$$.dirty[0]&4096|t.$$.dirty[1]&2&&n(29,d=p??f),t.$$.dirty[0]&536870912&&n(4,h=d.split("-")),t.$$.dirty[0]&1&&n(31,g=N===so.Line?"border-color":"background-color"),t.$$.dirty[0]&8388608&&n(30,m=Z??""),t.$$.dirty[0]&1073750016|t.$$.dirty[1]&1&&n(3,y=E?`${m} ${g}: ${E};`:m),t.$$.dirty[0]&1065091072&&($==null||$.update({controlPosition:d,boundaries:{minWidth:i,minHeight:o,maxWidth:s,maxHeight:a},keepAspectRatio:!!w,onResizeStart:R,onResize:V,onResizeEnd:G,shouldResize:X}))},[N,ie,Q,y,h,ce,pe,ve,le,ke,Ce,I,p,E,W,D,S,Y,w,X,R,V,G,Z,$,a,s,o,i,d,m,g,f,A,B,z]}class t7 extends Be{constructor(e){super(),ze(this,e,e7,$8,Ye,{nodeId:11,position:12,variant:0,color:13,minWidth:14,minHeight:15,maxWidth:16,maxHeight:17,keepAspectRatio:18,shouldResize:19,onResizeStart:20,onResize:21,onResizeEnd:22,style:23,class:1},null,[-1,-1])}}function n7(){const{domNode:t,updateNodeInternals:e}=gt();return i=>{const o=Array.isArray(i)?i:[i],s=new Map;o.forEach(a=>{var f;const u=(f=he(t))==null?void 0:f.querySelector(`.svelte-flow__node[data-id="${a}"]`);u&&s.set(a,{id:a,nodeElement:u,force:!0})}),requestAnimationFrame(()=>e(s))}}function i7(){const{connection:t}=gt();return t}function r7(){const{nodes:t}=gt();return t}function Vh(){const{edges:t}=gt();return t}var Gu={local:{},session:{}};function o7(t){return t==="local"?localStorage:sessionStorage}function Aa(t,e,n){var i,o,s,a,u,f,d,h;const g=(i=void 0)!=null?i:JSON,m=(o=void 0)!=null?o:"local",y=(s=void 0)!=null?s:!0,v=(u=(a=void 0)!=null?a:void 0)!=null?u:I=>console.error(`Error when writing value from persisted store "${t}" to ${m}`,I),C=(f=void 0)!=null?f:(I,p)=>console.error(`Error when parsing ${I?'"'+I+'"':"value"} from persisted store "${t}"`,p),O=(d=void 0)!=null?d:I=>I,k=(h=void 0)!=null?h:I=>I,H=typeof window<"u"&&typeof document<"u",M=H?o7(m):null;function B(I,p){const N=k(p);try{M==null||M.setItem(I,g.stringify(N))}catch(E){v(E)}}function A(){function I(W){try{return g.parse(W)}catch(D){C(W,D)}}const p=M==null?void 0:M.getItem(t);if(p==null)return e;const N=I(p);return N==null?e:O(N)}if(!Gu[m][t]){const I=A(),p=He(I,W=>{if(H&&m=="local"&&y){const D=S=>{if(S.key===t&&S.newValue){let Y;try{Y=g.parse(S.newValue)}catch(X){C(S.newValue,X);return}const w=O(Y);W(w)}};return window.addEventListener("storage",D),()=>window.removeEventListener("storage",D)}}),{subscribe:N,set:E}=p;Gu[m][t]={set(W){E(W),B(t,W)},update(W){return p.update(D=>{const S=W(D);return B(t,S),S})},reset(){this.set(e)},subscribe:N}}return Gu[m][t]}const Ln=[{id:crypto.randomUUID().toString(),type:"default",data:{label:"Patch",connection:"",inputs:[],outputs:["ethernet","sdi","audio","power"],group:!1},position:{x:0,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Canvas",inputs:["dante","dmx","ethernet","sdi","audio","midi","osc","power"],outputs:["dante","dmx","ethernet","sdi","audio","midi","osc"]},dragHandle:".drag-dots",position:{x:0,y:100}}],ca=[{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Ln[0].id,sourceHandle:"ethernet",target:Ln[1].id,targetHandle:"ethernet"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Ln[0].id,sourceHandle:"sdi",target:Ln[1].id,targetHandle:"sdi"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Ln[0].id,sourceHandle:"audio",target:Ln[1].id,targetHandle:"audio"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Ln[0].id,sourceHandle:"power",target:Ln[1].id,targetHandle:"power"}],l7=1,Hl=1,s7={version:l7,theme:"dark"},qu=Aa("preferences",structuredClone(s7)),Uh={version:Hl,updated:!1,mode:void 0,title:"PatchCanvas",nodes:Ln,edges:ca},ln=Aa("current",structuredClone(Uh)),u7={},Ju=Aa("saves",structuredClone(u7)),Ql=He();function a7(t){let e,n,i,o,s,a,u,f;return{c(){e=Ee("p"),e.textContent="Drag to the canvas!",n=Pe(),i=Ee("div"),o=Ee("div"),o.textContent="node",s=Pe(),a=Ee("div"),a.textContent="group",P(e,"class","svelte-1v809mg"),P(o,"draggable",!0),P(o,"class","svelte-1v809mg"),P(a,"draggable",!0),P(a,"class","svelte-1v809mg"),P(i,"class","nodes svelte-1v809mg")},m(d,h){oe(d,e,h),oe(d,n,h),oe(d,i,h),ye(i,o),ye(i,s),ye(i,a),u||(f=[We(o,"dragstart",t[1]),We(a,"dragstart",t[2])],u=!0)},p:Ne,i:Ne,o:Ne,d(d){d&&(re(e),re(n),re(i)),u=!1,At(f)}}}function f7(t){const e=(o,s)=>{if(!o.dataTransfer)return null;o.dataTransfer.setData("application/patchcanvasnode",s),o.dataTransfer.effectAllowed="move"};return[e,o=>e(o,JSON.stringify({inputs:[],outputs:[]})),o=>e(o,JSON.stringify({group:!0}))]}class c7 extends Be{constructor(e){super(),ze(this,e,f7,a7,Ye,{})}}const d7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-audio-input-xlr"
	viewBox="0 -5 24 34"
	fill="currentColor"
	><path
		d="M12 4C16.41 4 20 7.59 20 12S16.41 20 12 20 4 16.41 4 12 7.59 4 12 4M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M13.5 16.5C13.5 15.67 12.83 15 12 15S10.5 15.67 10.5 16.5C10.5 17.33 11.17 18 12 18S13.5 17.33 13.5 16.5M9 12C9 11.17 8.33 10.5 7.5 10.5S6 11.17 6 12 6.67 13.5 7.5 13.5 9 12.83 9 12M18 12C18 11.17 17.33 10.5 16.5 10.5C15.67 10.5 15 11.17 15 12S15.67 13.5 16.5 13.5C17.33 13.5 18 12.83 18 12Z"
	/></svg
>
`,h7=`<svg
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	viewBox="350 -15 800 600"
	preserveAspectRatio="xMidYMid meet"
>
	<g
		transform="translate(0,576) scale(0.1,-0.1)"
		fill="currentColor"
		stroke="none"
	>
		<path
			d="M7125 4624 c-16 -2 -73 -9 -125 -15 -675 -76 -1339 -406 -1816 -902
-532 -551 -804 -1238 -804 -2029 l0 -78 214 0 213 0 6 203 c10 340 66 595 197
898 183 423 517 812 925 1079 141 92 417 228 570 280 295 101 591 150 908 150
l127 0 0 210 0 210 -192 -1 c-106 -1 -206 -4 -223 -5z"
		/>
		<path
			d="M7260 3773 c-786 -55 -1456 -474 -1795 -1125 -145 -279 -211 -536
-222 -870 l-6 -178 861 0 862 0 0 225 0 225 -631 0 -632 0 7 40 c12 73 67 233
116 335 189 392 539 697 976 848 92 32 272 77 309 77 13 0 15 -99 15 -875 l0
-875 210 0 210 0 0 1090 0 1090 -117 -2 c-65 -1 -138 -3 -163 -5z"
		/>
		<path
			d="M4380 1130 l0 -130 215 0 215 0 0 130 0 130 -215 0 -215 0 0 -130z"
		/>
		<path
			d="M5240 1130 l0 -130 1155 0 1155 0 0 130 0 130 -1155 0 -1155 0 0
-130z"
		/>
	</g>
</svg>
`,g7=`<svg fill="currentColor" viewBox="-2 -5 24 34" xmlns="http://www.w3.org/2000/svg"
	><title>lightbulb</title><path
		d="M12,2A7,7,0,0,0,8,14.74V17a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V14.74A7,7,0,0,0,12,2ZM9,21a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V20H9Z"
	/></svg
>
`,m7=`<svg
	viewBox="1 -3 24 28"
	id="Layer_1"
	data-name="Layer 1"
	xmlns="http://www.w3.org/2000/svg"
	><defs
		><style>
			.cls-1 {
				fill: none;
				stroke: currentColor;
				stroke-miterlimit: 10;
				stroke-width: 1.91px;
			}
		</style></defs
	><polygon
		class="cls-1"
		points="5.32 6.27 5.32 13.91 7.23 13.91 7.23 15.82 10.09 15.82 10.09 17.73 13.91 17.73 13.91 15.82 16.77 15.82 16.77 13.91 18.68 13.91 18.68 6.27 5.32 6.27"
	/><line class="cls-1" x1="8.18" y1="9.14" x2="8.18" y2="6.27" /><line
		class="cls-1"
		x1="12"
		y1="9.14"
		x2="12"
		y2="6.27"
	/><line class="cls-1" x1="15.82" y1="9.14" x2="15.82" y2="6.27" /></svg
>
`,_7=`<svg
	viewBox="0 -5 24 34"
	xmlns="http://www.w3.org/2000/svg"
	fill="currentColor"
	><path
		d="m12 2a10 10 0 0 1 10 10 10 10 0 0 1 -10 10 10 10 0 0 1 -10-10 10 10 0 0 1 10-10m8.18 10c0-3.82-2.63-7.04-6.18-7.93v1.93h-4v-1.93c-3.55.89-6.18 4.11-6.18 7.93a8.18 8.18 0 0 0 8.18 8.18 8.18 8.18 0 0 0 8.18-8.18m-13.18-1.36a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36c-.75 0-1.36-.61-1.36-1.36s.61-1.36 1.36-1.36m10 0a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36m-8.64 3.63a1.37 1.37 0 0 1 1.37 1.37c0 .75-.61 1.36-1.37 1.36a1.36 1.36 0 0 1 -1.36-1.36c0-.76.61-1.37 1.36-1.37m7.28 0c.75 0 1.36.61 1.36 1.37a1.36 1.36 0 0 1 -1.36 1.36c-.76 0-1.37-.61-1.37-1.36a1.37 1.37 0 0 1 1.37-1.37m-3.64 1.37a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36z"
	/></svg
>
`,y7=`<svg
  viewBox="-25 -128 512 750"
  xmlns="http://www.w3.org/2000/svg"
  fill="currentColor"
>
  <polygon
    points="385.128 118.178 359.868 137.822 451.732 255.944 359.813 374.18 385.076 393.82 492.268 255.94 385.128 118.178"
  />
  <polygon
    points="119.814 118.177 12.621 255.993 119.759 393.819 145.022 374.181 53.156 255.999 145.074 137.823 119.814 118.177"
  />
  <rect
    width="32"
    height="32"
    x="160"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="240"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="320"
    y="240"
  />
</svg>
`,w7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-power-plug-outline"
	viewBox="1 -4 24 30"
	fill="currentColor"
	><path
		d="M16 7V3H14V7H10V3H8V7C7 7 6 8 6 9V14.5L9.5 18V21H14.5V18L18 14.5V9C18 8 17 7 16 7M16 13.67L13.09 16.59L12.67 17H11.33L10.92 16.59L8 13.67V9.09C8 9.06 8.06 9 8.09 9H15.92C15.95 9 16 9.06 16 9.09V13.67Z"
	/></svg
>
`,b7=`<svg viewBox="-6 -16 54 80" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\r
  <title>output</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none" />\r
    </g>\r
    <g id="Layer_6" data-name="Layer 6">\r
      <g>\r
        <path\r
          d="M45.4,22.6l-7.9-8a2.1,2.1,0,0,0-2.7-.2,1.9,1.9,0,0,0-.2,3L39.2,22H16a2,2,0,0,0,0,4H39.2l-4.6,4.6a1.9,1.9,0,0,0,.2,3,2.1,2.1,0,0,0,2.7-.2l7.9-8A1.9,1.9,0,0,0,45.4,22.6Z"\r
        />\r
        <path\r
          d="M28,42H24A18,18,0,0,1,24,6h4a2,2,0,0,0,1.4-.6A2,2,0,0,0,30,4a2.4,2.4,0,0,0-.2-.9A2,2,0,0,0,28,2H23.8a22,22,0,0,0,.1,44H28a2,2,0,0,0,1.4-.6l.4-.5A2.4,2.4,0,0,0,30,44,2,2,0,0,0,28,42Z"\r
        />\r
      </g>\r
    </g>\r
  </g>\r
</svg>\r
`,m1=["dante","dmx","sdi","ethernet","audio","midi","osc","power"],un={dante:["red",1,h7],dmx:["dodgerblue",2,g7],sdi:["limegreen",3,b7],ethernet:["gold",4,m7],audio:["orange",5,d7],midi:["hotpink",6,_7],osc:["magenta",7,y7],power:["var(--font-colour)",8,w7]},vo=Object.entries(un);function p7(t,e){let n=m1.indexOf(t),i=m1.indexOf(e);return Math.sign(n-i)}const v7='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 103.38" fill="currentColor" style="enable-background:new 0 0 122.88 103.38" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"/></g></svg>';function _1(t,e,n){const i=t.slice();return i[16]=e[n][0],i[17]=e[n][1],i}function y1(t){let e,n,i=t[17][2]+"",o,s,a,u,f;function d(){return t[9](t[16])}function h(){return t[10](t[16])}function g(...m){return t[11](t[16],...m)}return{c(){e=Ee("div"),n=Ee("div"),o=Pe(),s=nt(t[16]),a=Pe(),P(n,"class","icon"),P(e,"class","protocol svelte-16ekx3j"),Xe(e,"--protocol",t[17][0]),P(e,"draggable",!0)},m(m,y){oe(m,e,y),ye(e,n),n.innerHTML=i,ye(e,o),ye(e,s),ye(e,a),u||(f=[We(e,"mouseenter",d),We(e,"mouseleave",h),We(e,"dragstart",g),We(e,"dragend",t[8])],u=!0)},p(m,y){t=m},d(m){m&&re(e),u=!1,At(f)}}}function k7(t){let e,n,i,o,s,a,u,f,d,h=Dt(vo),g=[];for(let m=0;m<h.length;m+=1)g[m]=y1(_1(t,h,m));return{c(){e=Ee("p"),e.textContent="Protocols",n=Pe(),i=Ee("div");for(let m=0;m<g.length;m+=1)g[m].c();o=Pe(),s=Ee("div"),a=new hb(!1),u=nt(" erase"),P(e,"class","svelte-16ekx3j"),P(i,"class","protocols svelte-16ekx3j"),a.a=u,P(s,"class","eraser svelte-16ekx3j"),P(s,"draggable",!0)},m(m,y){oe(m,e,y),oe(m,n,y),oe(m,i,y);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(i,null);oe(m,o,y),oe(m,s,y),a.m(v7,s),ye(s,u),t[12](s),f||(d=[We(s,"mouseenter",t[2]),We(s,"mouseleave",t[3]),We(s,"dragstart",t[13]),We(s,"dragend",t[8])],f=!0)},p(m,[y]){if(y&368){h=Dt(vo);let v;for(v=0;v<h.length;v+=1){const C=_1(m,h,v);g[v]?g[v].p(C,y):(g[v]=y1(C),g[v].c(),g[v].m(i,null))}for(;v<g.length;v+=1)g[v].d(1);g.length=h.length}},i:Ne,o:Ne,d(m){m&&(re(e),re(n),re(i),re(o),re(s)),R1(g,m),t[12](null),f=!1,At(d)}}}function C7(t,e,n){let i;const o=Vh();be(t,o,M=>n(15,i=M));function s(){for(let M of i)M.class+="fade-out";o.set(i);for(let M of document.querySelectorAll(".svelte-flow__node .label"))M.classList.add("fade-out");for(let M of document.querySelectorAll(".svelte-flow__handle"))M.classList.add("highlight")}function a(){var M;for(let B of i)B.class=(M=B.class)==null?void 0:M.replace("fade-out","");o.set(i);for(let B of document.querySelectorAll(".svelte-flow__node .label"))B.classList.remove("fade-out");for(let B of document.querySelectorAll(".svelte-flow__handle"))B.classList.remove("highlight")}function u(M){for(let B of i)B.sourceHandle===M?B.class+="highlight":B.class+="fade-out";o.set(i);for(let B of document.querySelectorAll(".svelte-flow__handle"))B.getAttribute("data-handleid")===M?B.classList.add("highlight"):B.classList.add("fade-out")}function f(M){var B,A;M=M;for(let I of i)I.sourceHandle===M?I.class=(B=I.class)==null?void 0:B.replace("highlight",""):I.class=(A=I.class)==null?void 0:A.replace("fade-out","");o.set(i);for(let I of document.querySelectorAll(".svelte-flow__handle"))I.getAttribute("data-handleid")===M?I.classList.remove("highlight"):I.classList.remove("fade-out")}let d;const h=(M,B)=>{if(!M.dataTransfer)return null;M.dataTransfer.setData(`patchcanvasprotocol/${B}`,""),M.dataTransfer.effectAllowed="move",d=M.target.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",d.style.setProperty("--connection",un[B][0]),document.body.appendChild(d),M.dataTransfer.setDragImage(d,-16,0)};let g;const m=M=>{if(!M.dataTransfer)return null;M.dataTransfer.setData("application/patchcanvaseraser",""),M.dataTransfer.effectAllowed="move",d=g.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",document.body.appendChild(d),M.dataTransfer.setDragImage(d,-16,0)},y=()=>{d.remove()},v=M=>u(M),C=M=>f(M),O=(M,B)=>h(B,M);function k(M){Tn[M?"unshift":"push"](()=>{g=M,n(0,g)})}return[g,o,s,a,u,f,h,m,y,v,C,O,k,M=>m(M)]}class E7 extends Be{constructor(e){super(),ze(this,e,C7,k7,Ye,{})}}function w1(t){let e,n,i;return{c(){e=Ee("button"),e.textContent=" Rename"},m(o,s){oe(o,e,s),n||(i=We(e,"click",t[4]),n=!0)},p:Ne,d(o){o&&re(e),n=!1,i()}}}function b1(t){let e,n=t[0]?" Protocols":" Canvases",i,o,s;return{c(){e=Ee("button"),i=nt(n)},m(a,u){oe(a,e,u),ye(e,i),o||(s=We(e,"click",t[5]),o=!0)},p(a,u){u&1&&n!==(n=a[0]?" Protocols":" Canvases")&&Xt(i,n)},d(a){a&&re(e),o=!1,s()}}}function S7(t){let e,n,i=t[1].title+"",o,s,a,u,f,d,h,g,m=t[2]===void 0&&w1(t),y=t[2]===void 0&&b1(t);return{c(){e=Ee("div"),n=Ee("h1"),o=nt(i),s=Pe(),m&&m.c(),a=Pe(),u=Ee("div"),y&&y.c(),f=Pe(),d=Ee("button"),d.textContent=" Save",Xe(n,"--window-width",t[3]),P(e,"class","title svelte-1cv7xq5"),P(u,"class","buttons svelte-1cv7xq5")},m(v,C){oe(v,e,C),ye(e,n),ye(n,o),ye(e,s),m&&m.m(e,null),oe(v,a,C),oe(v,u,C),y&&y.m(u,null),ye(u,f),ye(u,d),h||(g=We(d,"click",t[6]),h=!0)},p(v,[C]){C&2&&i!==(i=v[1].title+"")&&Xt(o,i),v[2]===void 0?m?m.p(v,C):(m=w1(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null),v[2]===void 0?y?y.p(v,C):(y=b1(v),y.c(),y.m(u,f)):y&&(y.d(1),y=null)},i:Ne,o:Ne,d(v){v&&(re(e),re(a),re(u)),m&&m.d(),y&&y.d(),h=!1,g()}}}function A7(t,e,n){let i,o;be(t,ln,h=>n(1,i=h)),be(t,Ql,h=>n(2,o=h));let{showCanvases:s}=e;const a=window.innerWidth/10;function u(){let h=prompt(void 0,i.title);h!==null&&di(ln,i.title=h,i)}const f=()=>n(0,s=!s),d=()=>lk();return t.$$set=h=>{"showCanvases"in h&&n(0,s=h.showCanvases)},[s,i,o,a,u,f,d]}class M7 extends Be{constructor(e){super(),ze(this,e,A7,S7,Ye,{showCanvases:0})}}var no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var as={};Object.defineProperty(as,"__esModule",{value:!0});function Zh(t,e){var n=document.createElement("a");n.href=e,n.download=t,n.click()}as.downloadUrl=Zh;function Gh(t,e){var n=URL.createObjectURL(e);Zh(t,n),URL.revokeObjectURL(n)}as.downloadBlob=Gh;function T7(t,e){Gh(t,new Blob([e],{type:"octet/stream"}))}var P7=as.downloadText=T7;function p1(t,e,n){const i=t.slice();return i[15]=e[n][0],i[16]=e[n][1],i}function v1(t){let e;return{c(){e=Ee("p"),e.innerHTML="No canvases saved<br/>(on this browser)",P(e,"class","svelte-x4899p")},m(n,i){oe(n,e,i)},d(n){n&&re(e)}}}function k1(t,e){let n,i,o,s=e[16].title+"",a,u,f,d,h=e[16].version+"",g,m,y,v,C=e[16].nodes.length+"",O,k,H=e[16].edges.length+"",M,B,A,I,p,N,E,W,D,S,Y,w;function X(){return e[11](e[16])}function R(){return e[12](e[16])}function V(){return e[13](e[15])}return{key:t,first:null,c(){n=Ee("div"),i=Ee("div"),o=Ee("span"),a=nt(s),u=nt(""),f=Ee("span"),d=nt("(v"),g=nt(h),m=nt(")"),y=Pe(),v=Ee("div"),O=nt(C),k=nt(" nodes, "),M=nt(H),B=nt(" patches"),A=Pe(),I=Ee("button"),I.textContent="Load",p=Pe(),N=Ee("button"),N.textContent="Export",E=Pe(),W=Ee("button"),W.textContent="Delete",D=Pe(),P(o,"class","name"),P(f,"class","version"),P(i,"class","title"),P(v,"class","contents"),P(n,"class",S="save "+(e[15]===e[4].title?"current":"")+" svelte-x4899p"),this.first=n},m(G,Z){oe(G,n,Z),ye(n,i),ye(i,o),ye(o,a),ye(i,u),ye(i,f),ye(f,d),ye(f,g),ye(f,m),ye(n,y),ye(n,v),ye(v,O),ye(v,k),ye(v,M),ye(v,B),ye(n,A),ye(n,I),ye(n,p),ye(n,N),ye(n,E),ye(n,W),ye(n,D),Y||(w=[We(I,"click",X),We(N,"click",R),We(W,"click",V)],Y=!0)},p(G,Z){e=G,Z&8&&s!==(s=e[16].title+"")&&Xt(a,s),Z&8&&h!==(h=e[16].version+"")&&Xt(g,h),Z&8&&C!==(C=e[16].nodes.length+"")&&Xt(O,C),Z&8&&H!==(H=e[16].edges.length+"")&&Xt(M,H),Z&24&&S!==(S="save "+(e[15]===e[4].title?"current":"")+" svelte-x4899p")&&P(n,"class",S)},d(G){G&&re(n),Y=!1,At(w)}}}function I7(t){let e,n,i,o,s,a,u,f,d,h,g,m,y,v,C,O=t[4].title+"",k,H,M,B,A=t[4].version+"",I,p,N,E,W=t[4].nodes.length+"",D,S,Y=t[4].edges.length+"",w,X,R,V,G,Z,ie,ce,pe,ve,le=Object.keys(t[3]).length===0,ke,Ce=[],ue=new Map,Q,$,z=le&&v1(),F=Dt(Object.entries(t[3]));const ee=ne=>ne[15];for(let ne=0;ne<F.length;ne+=1){let K=p1(t,F,ne),_e=ee(K);ue.set(_e,Ce[ne]=k1(_e,K))}return{c(){e=Ee("h1"),e.textContent=" Canvases",n=Pe(),i=Ee("div"),o=Ee("button"),o.textContent=" New",s=Pe(),a=Ee("button"),u=nt(` Import\r
		`),f=Ee("input"),d=Pe(),h=Ee("h2"),h.textContent="Loaded",g=Pe(),m=Ee("div"),y=Ee("div"),v=Ee("div"),C=Ee("span"),k=nt(O),H=nt(""),M=Ee("span"),B=nt("(v"),I=nt(A),p=nt(")"),N=Pe(),E=Ee("div"),D=nt(W),S=nt(" nodes, "),w=nt(Y),X=nt(" patches"),R=Pe(),V=Ee("button"),V.textContent=" Save",G=Pe(),Z=Ee("button"),Z.textContent=" Export",ie=Pe(),ce=Ee("h2"),ce.textContent="Saved",pe=Pe(),ve=Ee("div"),z&&z.c(),ke=Pe();for(let ne=0;ne<Ce.length;ne+=1)Ce[ne].c();P(e,"class","svelte-x4899p"),P(f,"type","file"),P(f,"accept",".patch"),P(i,"class","buttons svelte-x4899p"),P(h,"class","svelte-x4899p"),P(C,"class","name"),P(M,"class","version"),P(v,"class","title"),P(E,"class","contents"),P(y,"class","save current svelte-x4899p"),P(m,"class","loaded"),P(ce,"class","svelte-x4899p"),P(ve,"class","saves svelte-x4899p")},m(ne,K){oe(ne,e,K),oe(ne,n,K),oe(ne,i,K),ye(i,o),ye(i,s),ye(i,a),ye(a,u),ye(a,f),oe(ne,d,K),oe(ne,h,K),oe(ne,g,K),oe(ne,m,K),ye(m,y),ye(y,v),ye(v,C),ye(C,k),ye(v,H),ye(v,M),ye(M,B),ye(M,I),ye(M,p),ye(y,N),ye(y,E),ye(E,D),ye(E,S),ye(E,w),ye(E,X),ye(y,R),ye(y,V),ye(y,G),ye(y,Z),oe(ne,ie,K),oe(ne,ce,K),oe(ne,pe,K),oe(ne,ve,K),z&&z.m(ve,null),ye(ve,ke);for(let _e=0;_e<Ce.length;_e+=1)Ce[_e]&&Ce[_e].m(ve,null);Q||($=[We(o,"click",Jh),We(f,"change",t[8]),We(f,"change",t[5]),We(V,"click",t[9]),We(Z,"click",t[10])],Q=!0)},p(ne,[K]){K&16&&O!==(O=ne[4].title+"")&&Xt(k,O),K&16&&A!==(A=ne[4].version+"")&&Xt(I,A),K&16&&W!==(W=ne[4].nodes.length+"")&&Xt(D,W),K&16&&Y!==(Y=ne[4].edges.length+"")&&Xt(w,Y),K&8&&(le=Object.keys(ne[3]).length===0),le?z||(z=v1(),z.c(),z.m(ve,ke)):z&&(z.d(1),z=null),K&217&&(F=Dt(Object.entries(ne[3])),Ce=Fi(Ce,K,ee,1,ne,F,ue,ve,wb,k1,null,p1))},i:Ne,o:Ne,d(ne){ne&&(re(e),re(n),re(i),re(d),re(h),re(g),re(m),re(ie),re(ce),re(pe),re(ve)),z&&z.d();for(let K=0;K<Ce.length;K+=1)Ce[K].d();Q=!1,At($)}}}function O7(t,e,n){let i,o;be(t,Ju,H=>n(3,i=H)),be(t,ln,H=>n(4,o=H));let s;function a(){if(!s[0])return;let H=new FileReader;H.readAsText(s[0]),H.onload=M=>{var A;let B=JSON.parse((A=M.target)==null?void 0:A.result);u(B)}}function u(H){console.log("Loading",`${H.title}...`),ln.set(structuredClone(H)),console.log("Loaded, triggering update..."),ln.update(M=>({...M,updated:!0}))}function f(H){P7(o.title+".patch",JSON.stringify(H))}function d(H){he(Ql)===void 0?di(Ju,i[H.title]=structuredClone(H),i):h(structuredClone(H))}function h(H){const M=he(Ql);if(M===void 0)return;switch(M){case"wpbc":const p=window.prompt("Password:");if(p===null||p!=="wpbc1")return;break}const B=new File([JSON.stringify(H)],H.title+".patch"),A=new FormData;A.append(M,B);const I=new XMLHttpRequest;I.open("POST","https://anderserver.ddns.net/patchcanvas/upload"),I.onreadystatechange=p=>I.responseText&&console.log(I.responseText),I.send(A)}function g(H){delete i[H],Ju.set(i)}function m(){s=this.files,n(2,s)}return[u,d,s,i,o,a,f,g,m,()=>d(o),()=>f(o),H=>u(H),H=>f(H),H=>g(H)]}class N7 extends Be{constructor(e){super(),ze(this,e,O7,I7,Ye,{load:0,store:1})}get load(){return this.$$.ctx[0]}get store(){return this.$$.ctx[1]}}function L7(t,e,n){const i=t.slice();return i[1]=e[n][0],i[2]=e[n][1],i}function D7(t){let e,n,i=t[2][2]+"",o,s,a;return{c(){e=Ee("div"),n=Ee("div"),o=Pe(),s=nt(t[1]),a=Pe(),P(n,"class","icon"),P(e,"class","protocol svelte-vkog0f"),Xe(e,"--protocol",t[2][0])},m(u,f){oe(u,e,f),ye(e,n),n.innerHTML=i,ye(e,o),ye(e,s),ye(e,a)},p:Ne,d(u){u&&re(e)}}}function R7(t){let e,n,i,o=t[0].title+"",s,a=Dt(vo),u=[];for(let f=0;f<a.length;f+=1)u[f]=D7(L7(t,a,f));return{c(){e=Ee("div");for(let f=0;f<u.length;f+=1)u[f].c();n=Pe(),i=Ee("h1"),s=nt(o),P(e,"class","protocols svelte-vkog0f"),P(i,"class","svelte-vkog0f")},m(f,d){oe(f,e,d);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(e,null);oe(f,n,d),oe(f,i,d),ye(i,s)},p(f,[d]){d&1&&o!==(o=f[0].title+"")&&Xt(s,o)},i:Ne,o:Ne,d(f){f&&(re(e),re(n),re(i)),R1(u,f)}}}function H7(t,e,n){let i;return be(t,ln,o=>n(0,i=o)),[i]}class z7 extends Be{constructor(e){super(),ze(this,e,H7,R7,Ye,{})}}var qh={exports:{}};(function(t,e){var n=function(){var i=function(A,I){var p=236,N=17,E=A,W=s[I],D=null,S=0,Y=null,w=[],X={},R=function(Q,$){S=E*4+17,D=function(z){for(var F=new Array(z),ee=0;ee<z;ee+=1){F[ee]=new Array(z);for(var ne=0;ne<z;ne+=1)F[ee][ne]=null}return F}(S),V(0,0),V(S-7,0),V(0,S-7),ie(),Z(),pe(Q,$),E>=7&&ce(Q),Y==null&&(Y=ke(E,W,w)),ve(Y,$)},V=function(Q,$){for(var z=-1;z<=7;z+=1)if(!(Q+z<=-1||S<=Q+z))for(var F=-1;F<=7;F+=1)$+F<=-1||S<=$+F||(0<=z&&z<=6&&(F==0||F==6)||0<=F&&F<=6&&(z==0||z==6)||2<=z&&z<=4&&2<=F&&F<=4?D[Q+z][$+F]=!0:D[Q+z][$+F]=!1)},G=function(){for(var Q=0,$=0,z=0;z<8;z+=1){R(!0,z);var F=u.getLostPoint(X);(z==0||Q>F)&&(Q=F,$=z)}return $},Z=function(){for(var Q=8;Q<S-8;Q+=1)D[Q][6]==null&&(D[Q][6]=Q%2==0);for(var $=8;$<S-8;$+=1)D[6][$]==null&&(D[6][$]=$%2==0)},ie=function(){for(var Q=u.getPatternPosition(E),$=0;$<Q.length;$+=1)for(var z=0;z<Q.length;z+=1){var F=Q[$],ee=Q[z];if(D[F][ee]==null)for(var ne=-2;ne<=2;ne+=1)for(var K=-2;K<=2;K+=1)ne==-2||ne==2||K==-2||K==2||ne==0&&K==0?D[F+ne][ee+K]=!0:D[F+ne][ee+K]=!1}},ce=function(Q){for(var $=u.getBCHTypeNumber(E),z=0;z<18;z+=1){var F=!Q&&($>>z&1)==1;D[Math.floor(z/3)][z%3+S-8-3]=F}for(var z=0;z<18;z+=1){var F=!Q&&($>>z&1)==1;D[z%3+S-8-3][Math.floor(z/3)]=F}},pe=function(Q,$){for(var z=W<<3|$,F=u.getBCHTypeInfo(z),ee=0;ee<15;ee+=1){var ne=!Q&&(F>>ee&1)==1;ee<6?D[ee][8]=ne:ee<8?D[ee+1][8]=ne:D[S-15+ee][8]=ne}for(var ee=0;ee<15;ee+=1){var ne=!Q&&(F>>ee&1)==1;ee<8?D[8][S-ee-1]=ne:ee<9?D[8][15-ee-1+1]=ne:D[8][15-ee-1]=ne}D[S-8][8]=!Q},ve=function(Q,$){for(var z=-1,F=S-1,ee=7,ne=0,K=u.getMaskFunction($),_e=S-1;_e>0;_e-=2)for(_e==6&&(_e-=1);;){for(var Le=0;Le<2;Le+=1)if(D[F][_e-Le]==null){var Ze=!1;ne<Q.length&&(Ze=(Q[ne]>>>ee&1)==1);var De=K(F,_e-Le);De&&(Ze=!Ze),D[F][_e-Le]=Ze,ee-=1,ee==-1&&(ne+=1,ee=7)}if(F+=z,F<0||S<=F){F-=z,z=-z;break}}},le=function(Q,$){for(var z=0,F=0,ee=0,ne=new Array($.length),K=new Array($.length),_e=0;_e<$.length;_e+=1){var Le=$[_e].dataCount,Ze=$[_e].totalCount-Le;F=Math.max(F,Le),ee=Math.max(ee,Ze),ne[_e]=new Array(Le);for(var De=0;De<ne[_e].length;De+=1)ne[_e][De]=255&Q.getBuffer()[De+z];z+=Le;var ct=u.getErrorCorrectPolynomial(Ze),it=d(ne[_e],ct.getLength()-1),yt=it.mod(ct);K[_e]=new Array(ct.getLength()-1);for(var De=0;De<K[_e].length;De+=1){var Ie=De+yt.getLength()-K[_e].length;K[_e][De]=Ie>=0?yt.getAt(Ie):0}}for(var Kt=0,De=0;De<$.length;De+=1)Kt+=$[De].totalCount;for(var en=new Array(Kt),Ot=0,De=0;De<F;De+=1)for(var _e=0;_e<$.length;_e+=1)De<ne[_e].length&&(en[Ot]=ne[_e][De],Ot+=1);for(var De=0;De<ee;De+=1)for(var _e=0;_e<$.length;_e+=1)De<K[_e].length&&(en[Ot]=K[_e][De],Ot+=1);return en},ke=function(Q,$,z){for(var F=h.getRSBlocks(Q,$),ee=g(),ne=0;ne<z.length;ne+=1){var K=z[ne];ee.put(K.getMode(),4),ee.put(K.getLength(),u.getLengthInBits(K.getMode(),Q)),K.write(ee)}for(var _e=0,ne=0;ne<F.length;ne+=1)_e+=F[ne].dataCount;if(ee.getLengthInBits()>_e*8)throw"code length overflow. ("+ee.getLengthInBits()+">"+_e*8+")";for(ee.getLengthInBits()+4<=_e*8&&ee.put(0,4);ee.getLengthInBits()%8!=0;)ee.putBit(!1);for(;!(ee.getLengthInBits()>=_e*8||(ee.put(p,8),ee.getLengthInBits()>=_e*8));)ee.put(N,8);return le(ee,F)};X.addData=function(Q,$){$=$||"Byte";var z=null;switch($){case"Numeric":z=m(Q);break;case"Alphanumeric":z=y(Q);break;case"Byte":z=v(Q);break;case"Kanji":z=C(Q);break;default:throw"mode:"+$}w.push(z),Y=null},X.isDark=function(Q,$){if(Q<0||S<=Q||$<0||S<=$)throw Q+","+$;return D[Q][$]},X.getModuleCount=function(){return S},X.make=function(){if(E<1){for(var Q=1;Q<40;Q++){for(var $=h.getRSBlocks(Q,W),z=g(),F=0;F<w.length;F++){var ee=w[F];z.put(ee.getMode(),4),z.put(ee.getLength(),u.getLengthInBits(ee.getMode(),Q)),ee.write(z)}for(var ne=0,F=0;F<$.length;F++)ne+=$[F].dataCount;if(z.getLengthInBits()<=ne*8)break}E=Q}R(!1,G())},X.createTableTag=function(Q,$){Q=Q||2,$=typeof $>"u"?Q*4:$;var z="";z+='<table style="',z+=" border-width: 0px; border-style: none;",z+=" border-collapse: collapse;",z+=" padding: 0px; margin: "+$+"px;",z+='">',z+="<tbody>";for(var F=0;F<X.getModuleCount();F+=1){z+="<tr>";for(var ee=0;ee<X.getModuleCount();ee+=1)z+='<td style="',z+=" border-width: 0px; border-style: none;",z+=" border-collapse: collapse;",z+=" padding: 0px; margin: 0px;",z+=" width: "+Q+"px;",z+=" height: "+Q+"px;",z+=" background-color: ",z+=X.isDark(F,ee)?"#000000":"#ffffff",z+=";",z+='"/>';z+="</tr>"}return z+="</tbody>",z+="</table>",z},X.createSvgTag=function(Q,$,z,F){var ee={};typeof arguments[0]=="object"&&(ee=arguments[0],Q=ee.cellSize,$=ee.margin,z=ee.alt,F=ee.title),Q=Q||2,$=typeof $>"u"?Q*4:$,z=typeof z=="string"?{text:z}:z||{},z.text=z.text||null,z.id=z.text?z.id||"qrcode-description":null,F=typeof F=="string"?{text:F}:F||{},F.text=F.text||null,F.id=F.text?F.id||"qrcode-title":null;var ne=X.getModuleCount()*Q+$*2,K,_e,Le,Ze,De="",ct;for(ct="l"+Q+",0 0,"+Q+" -"+Q+",0 0,-"+Q+"z ",De+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',De+=ee.scalable?"":' width="'+ne+'px" height="'+ne+'px"',De+=' viewBox="0 0 '+ne+" "+ne+'" ',De+=' preserveAspectRatio="xMinYMin meet"',De+=F.text||z.text?' role="img" aria-labelledby="'+Ce([F.id,z.id].join(" ").trim())+'"':"",De+=">",De+=F.text?'<title id="'+Ce(F.id)+'">'+Ce(F.text)+"</title>":"",De+=z.text?'<description id="'+Ce(z.id)+'">'+Ce(z.text)+"</description>":"",De+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',De+='<path d="',Le=0;Le<X.getModuleCount();Le+=1)for(Ze=Le*Q+$,K=0;K<X.getModuleCount();K+=1)X.isDark(Le,K)&&(_e=K*Q+$,De+="M"+_e+","+Ze+ct);return De+='" stroke="transparent" fill="black"/>',De+="</svg>",De},X.createDataURL=function(Q,$){Q=Q||2,$=typeof $>"u"?Q*4:$;var z=X.getModuleCount()*Q+$*2,F=$,ee=z-$;return B(z,z,function(ne,K){if(F<=ne&&ne<ee&&F<=K&&K<ee){var _e=Math.floor((ne-F)/Q),Le=Math.floor((K-F)/Q);return X.isDark(Le,_e)?0:1}else return 1})},X.createImgTag=function(Q,$,z){Q=Q||2,$=typeof $>"u"?Q*4:$;var F=X.getModuleCount()*Q+$*2,ee="";return ee+="<img",ee+=' src="',ee+=X.createDataURL(Q,$),ee+='"',ee+=' width="',ee+=F,ee+='"',ee+=' height="',ee+=F,ee+='"',z&&(ee+=' alt="',ee+=Ce(z),ee+='"'),ee+="/>",ee};var Ce=function(Q){for(var $="",z=0;z<Q.length;z+=1){var F=Q.charAt(z);switch(F){case"<":$+="&lt;";break;case">":$+="&gt;";break;case"&":$+="&amp;";break;case'"':$+="&quot;";break;default:$+=F;break}}return $},ue=function(Q){var $=1;Q=typeof Q>"u"?$*2:Q;var z=X.getModuleCount()*$+Q*2,F=Q,ee=z-Q,ne,K,_e,Le,Ze,De={"":""," ":""," ":"","  ":" "},ct={"":""," ":""," ":" ","  ":" "},it="";for(ne=0;ne<z;ne+=2){for(_e=Math.floor((ne-F)/$),Le=Math.floor((ne+1-F)/$),K=0;K<z;K+=1)Ze="",F<=K&&K<ee&&F<=ne&&ne<ee&&X.isDark(_e,Math.floor((K-F)/$))&&(Ze=" "),F<=K&&K<ee&&F<=ne+1&&ne+1<ee&&X.isDark(Le,Math.floor((K-F)/$))?Ze+=" ":Ze+="",it+=Q<1&&ne+1>=ee?ct[Ze]:De[Ze];it+=`
`}return z%2&&Q>0?it.substring(0,it.length-z-1)+Array(z+1).join(""):it.substring(0,it.length-1)};return X.createASCII=function(Q,$){if(Q=Q||1,Q<2)return ue($);Q-=1,$=typeof $>"u"?Q*2:$;var z=X.getModuleCount()*Q+$*2,F=$,ee=z-$,ne,K,_e,Le,Ze=Array(Q+1).join(""),De=Array(Q+1).join("  "),ct="",it="";for(ne=0;ne<z;ne+=1){for(_e=Math.floor((ne-F)/Q),it="",K=0;K<z;K+=1)Le=1,F<=K&&K<ee&&F<=ne&&ne<ee&&X.isDark(_e,Math.floor((K-F)/Q))&&(Le=0),it+=Le?Ze:De;for(_e=0;_e<Q;_e+=1)ct+=it+`
`}return ct.substring(0,ct.length-1)},X.renderTo2dContext=function(Q,$){$=$||2;for(var z=X.getModuleCount(),F=0;F<z;F++)for(var ee=0;ee<z;ee++)Q.fillStyle=X.isDark(F,ee)?"black":"white",Q.fillRect(F*$,ee*$,$,$)},X};i.stringToBytesFuncs={default:function(A){for(var I=[],p=0;p<A.length;p+=1){var N=A.charCodeAt(p);I.push(N&255)}return I}},i.stringToBytes=i.stringToBytesFuncs.default,i.createStringToBytes=function(A,I){var p=function(){for(var E=H(A),W=function(){var Z=E.read();if(Z==-1)throw"eof";return Z},D=0,S={};;){var Y=E.read();if(Y==-1)break;var w=W(),X=W(),R=W(),V=String.fromCharCode(Y<<8|w),G=X<<8|R;S[V]=G,D+=1}if(D!=I)throw D+" != "+I;return S}(),N=63;return function(E){for(var W=[],D=0;D<E.length;D+=1){var S=E.charCodeAt(D);if(S<128)W.push(S);else{var Y=p[E.charAt(D)];typeof Y=="number"?(Y&255)==Y?W.push(Y):(W.push(Y>>>8),W.push(Y&255)):W.push(N)}}return W}};var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u=function(){var A=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],I=1335,p=7973,N=21522,E={},W=function(D){for(var S=0;D!=0;)S+=1,D>>>=1;return S};return E.getBCHTypeInfo=function(D){for(var S=D<<10;W(S)-W(I)>=0;)S^=I<<W(S)-W(I);return(D<<10|S)^N},E.getBCHTypeNumber=function(D){for(var S=D<<12;W(S)-W(p)>=0;)S^=p<<W(S)-W(p);return D<<12|S},E.getPatternPosition=function(D){return A[D-1]},E.getMaskFunction=function(D){switch(D){case a.PATTERN000:return function(S,Y){return(S+Y)%2==0};case a.PATTERN001:return function(S,Y){return S%2==0};case a.PATTERN010:return function(S,Y){return Y%3==0};case a.PATTERN011:return function(S,Y){return(S+Y)%3==0};case a.PATTERN100:return function(S,Y){return(Math.floor(S/2)+Math.floor(Y/3))%2==0};case a.PATTERN101:return function(S,Y){return S*Y%2+S*Y%3==0};case a.PATTERN110:return function(S,Y){return(S*Y%2+S*Y%3)%2==0};case a.PATTERN111:return function(S,Y){return(S*Y%3+(S+Y)%2)%2==0};default:throw"bad maskPattern:"+D}},E.getErrorCorrectPolynomial=function(D){for(var S=d([1],0),Y=0;Y<D;Y+=1)S=S.multiply(d([1,f.gexp(Y)],0));return S},E.getLengthInBits=function(D,S){if(1<=S&&S<10)switch(D){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw"mode:"+D}else if(S<27)switch(D){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw"mode:"+D}else if(S<41)switch(D){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw"mode:"+D}else throw"type:"+S},E.getLostPoint=function(D){for(var S=D.getModuleCount(),Y=0,w=0;w<S;w+=1)for(var X=0;X<S;X+=1){for(var R=0,V=D.isDark(w,X),G=-1;G<=1;G+=1)if(!(w+G<0||S<=w+G))for(var Z=-1;Z<=1;Z+=1)X+Z<0||S<=X+Z||G==0&&Z==0||V==D.isDark(w+G,X+Z)&&(R+=1);R>5&&(Y+=3+R-5)}for(var w=0;w<S-1;w+=1)for(var X=0;X<S-1;X+=1){var ie=0;D.isDark(w,X)&&(ie+=1),D.isDark(w+1,X)&&(ie+=1),D.isDark(w,X+1)&&(ie+=1),D.isDark(w+1,X+1)&&(ie+=1),(ie==0||ie==4)&&(Y+=3)}for(var w=0;w<S;w+=1)for(var X=0;X<S-6;X+=1)D.isDark(w,X)&&!D.isDark(w,X+1)&&D.isDark(w,X+2)&&D.isDark(w,X+3)&&D.isDark(w,X+4)&&!D.isDark(w,X+5)&&D.isDark(w,X+6)&&(Y+=40);for(var X=0;X<S;X+=1)for(var w=0;w<S-6;w+=1)D.isDark(w,X)&&!D.isDark(w+1,X)&&D.isDark(w+2,X)&&D.isDark(w+3,X)&&D.isDark(w+4,X)&&!D.isDark(w+5,X)&&D.isDark(w+6,X)&&(Y+=40);for(var ce=0,X=0;X<S;X+=1)for(var w=0;w<S;w+=1)D.isDark(w,X)&&(ce+=1);var pe=Math.abs(100*ce/S/S-50)/5;return Y+=pe*10,Y},E}(),f=function(){for(var A=new Array(256),I=new Array(256),p=0;p<8;p+=1)A[p]=1<<p;for(var p=8;p<256;p+=1)A[p]=A[p-4]^A[p-5]^A[p-6]^A[p-8];for(var p=0;p<255;p+=1)I[A[p]]=p;var N={};return N.glog=function(E){if(E<1)throw"glog("+E+")";return I[E]},N.gexp=function(E){for(;E<0;)E+=255;for(;E>=256;)E-=255;return A[E]},N}();function d(A,I){if(typeof A.length>"u")throw A.length+"/"+I;var p=function(){for(var E=0;E<A.length&&A[E]==0;)E+=1;for(var W=new Array(A.length-E+I),D=0;D<A.length-E;D+=1)W[D]=A[D+E];return W}(),N={};return N.getAt=function(E){return p[E]},N.getLength=function(){return p.length},N.multiply=function(E){for(var W=new Array(N.getLength()+E.getLength()-1),D=0;D<N.getLength();D+=1)for(var S=0;S<E.getLength();S+=1)W[D+S]^=f.gexp(f.glog(N.getAt(D))+f.glog(E.getAt(S)));return d(W,0)},N.mod=function(E){if(N.getLength()-E.getLength()<0)return N;for(var W=f.glog(N.getAt(0))-f.glog(E.getAt(0)),D=new Array(N.getLength()),S=0;S<N.getLength();S+=1)D[S]=N.getAt(S);for(var S=0;S<E.getLength();S+=1)D[S]^=f.gexp(f.glog(E.getAt(S))+W);return d(D,0).mod(E)},N}var h=function(){var A=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],I=function(E,W){var D={};return D.totalCount=E,D.dataCount=W,D},p={},N=function(E,W){switch(W){case s.L:return A[(E-1)*4+0];case s.M:return A[(E-1)*4+1];case s.Q:return A[(E-1)*4+2];case s.H:return A[(E-1)*4+3];default:return}};return p.getRSBlocks=function(E,W){var D=N(E,W);if(typeof D>"u")throw"bad rs block @ typeNumber:"+E+"/errorCorrectionLevel:"+W;for(var S=D.length/3,Y=[],w=0;w<S;w+=1)for(var X=D[w*3+0],R=D[w*3+1],V=D[w*3+2],G=0;G<X;G+=1)Y.push(I(R,V));return Y},p}(),g=function(){var A=[],I=0,p={};return p.getBuffer=function(){return A},p.getAt=function(N){var E=Math.floor(N/8);return(A[E]>>>7-N%8&1)==1},p.put=function(N,E){for(var W=0;W<E;W+=1)p.putBit((N>>>E-W-1&1)==1)},p.getLengthInBits=function(){return I},p.putBit=function(N){var E=Math.floor(I/8);A.length<=E&&A.push(0),N&&(A[E]|=128>>>I%8),I+=1},p},m=function(A){var I=o.MODE_NUMBER,p=A,N={};N.getMode=function(){return I},N.getLength=function(D){return p.length},N.write=function(D){for(var S=p,Y=0;Y+2<S.length;)D.put(E(S.substring(Y,Y+3)),10),Y+=3;Y<S.length&&(S.length-Y==1?D.put(E(S.substring(Y,Y+1)),4):S.length-Y==2&&D.put(E(S.substring(Y,Y+2)),7))};var E=function(D){for(var S=0,Y=0;Y<D.length;Y+=1)S=S*10+W(D.charAt(Y));return S},W=function(D){if("0"<=D&&D<="9")return D.charCodeAt(0)-48;throw"illegal char :"+D};return N},y=function(A){var I=o.MODE_ALPHA_NUM,p=A,N={};N.getMode=function(){return I},N.getLength=function(W){return p.length},N.write=function(W){for(var D=p,S=0;S+1<D.length;)W.put(E(D.charAt(S))*45+E(D.charAt(S+1)),11),S+=2;S<D.length&&W.put(E(D.charAt(S)),6)};var E=function(W){if("0"<=W&&W<="9")return W.charCodeAt(0)-48;if("A"<=W&&W<="Z")return W.charCodeAt(0)-65+10;switch(W){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+W}};return N},v=function(A){var I=o.MODE_8BIT_BYTE,p=i.stringToBytes(A),N={};return N.getMode=function(){return I},N.getLength=function(E){return p.length},N.write=function(E){for(var W=0;W<p.length;W+=1)E.put(p[W],8)},N},C=function(A){var I=o.MODE_KANJI,p=i.stringToBytesFuncs.SJIS;if(!p)throw"sjis not supported.";(function(W,D){var S=p(W);if(S.length!=2||(S[0]<<8|S[1])!=D)throw"sjis not supported."})("",38726);var N=p(A),E={};return E.getMode=function(){return I},E.getLength=function(W){return~~(N.length/2)},E.write=function(W){for(var D=N,S=0;S+1<D.length;){var Y=(255&D[S])<<8|255&D[S+1];if(33088<=Y&&Y<=40956)Y-=33088;else if(57408<=Y&&Y<=60351)Y-=49472;else throw"illegal char at "+(S+1)+"/"+Y;Y=(Y>>>8&255)*192+(Y&255),W.put(Y,13),S+=2}if(S<D.length)throw"illegal char at "+(S+1)},E},O=function(){var A=[],I={};return I.writeByte=function(p){A.push(p&255)},I.writeShort=function(p){I.writeByte(p),I.writeByte(p>>>8)},I.writeBytes=function(p,N,E){N=N||0,E=E||p.length;for(var W=0;W<E;W+=1)I.writeByte(p[W+N])},I.writeString=function(p){for(var N=0;N<p.length;N+=1)I.writeByte(p.charCodeAt(N))},I.toByteArray=function(){return A},I.toString=function(){var p="";p+="[";for(var N=0;N<A.length;N+=1)N>0&&(p+=","),p+=A[N];return p+="]",p},I},k=function(){var A=0,I=0,p=0,N="",E={},W=function(S){N+=String.fromCharCode(D(S&63))},D=function(S){if(!(S<0)){if(S<26)return 65+S;if(S<52)return 97+(S-26);if(S<62)return 48+(S-52);if(S==62)return 43;if(S==63)return 47}throw"n:"+S};return E.writeByte=function(S){for(A=A<<8|S&255,I+=8,p+=1;I>=6;)W(A>>>I-6),I-=6},E.flush=function(){if(I>0&&(W(A<<6-I),A=0,I=0),p%3!=0)for(var S=3-p%3,Y=0;Y<S;Y+=1)N+="="},E.toString=function(){return N},E},H=function(A){var I=A,p=0,N=0,E=0,W={};W.read=function(){for(;E<8;){if(p>=I.length){if(E==0)return-1;throw"unexpected end of file./"+E}var S=I.charAt(p);if(p+=1,S=="=")return E=0,-1;if(S.match(/^\s$/))continue;N=N<<6|D(S.charCodeAt(0)),E+=6}var Y=N>>>E-8&255;return E-=8,Y};var D=function(S){if(65<=S&&S<=90)return S-65;if(97<=S&&S<=122)return S-97+26;if(48<=S&&S<=57)return S-48+52;if(S==43)return 62;if(S==47)return 63;throw"c:"+S};return W},M=function(A,I){var p=A,N=I,E=new Array(A*I),W={};W.setPixel=function(w,X,R){E[X*p+w]=R},W.write=function(w){w.writeString("GIF87a"),w.writeShort(p),w.writeShort(N),w.writeByte(128),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(0),w.writeByte(255),w.writeByte(255),w.writeByte(255),w.writeString(","),w.writeShort(0),w.writeShort(0),w.writeShort(p),w.writeShort(N),w.writeByte(0);var X=2,R=S(X);w.writeByte(X);for(var V=0;R.length-V>255;)w.writeByte(255),w.writeBytes(R,V,255),V+=255;w.writeByte(R.length-V),w.writeBytes(R,V,R.length-V),w.writeByte(0),w.writeString(";")};var D=function(w){var X=w,R=0,V=0,G={};return G.write=function(Z,ie){if(Z>>>ie)throw"length over";for(;R+ie>=8;)X.writeByte(255&(Z<<R|V)),ie-=8-R,Z>>>=8-R,V=0,R=0;V=Z<<R|V,R=R+ie},G.flush=function(){R>0&&X.writeByte(V)},G},S=function(w){for(var X=1<<w,R=(1<<w)+1,V=w+1,G=Y(),Z=0;Z<X;Z+=1)G.add(String.fromCharCode(Z));G.add(String.fromCharCode(X)),G.add(String.fromCharCode(R));var ie=O(),ce=D(ie);ce.write(X,V);var pe=0,ve=String.fromCharCode(E[pe]);for(pe+=1;pe<E.length;){var le=String.fromCharCode(E[pe]);pe+=1,G.contains(ve+le)?ve=ve+le:(ce.write(G.indexOf(ve),V),G.size()<4095&&(G.size()==1<<V&&(V+=1),G.add(ve+le)),ve=le)}return ce.write(G.indexOf(ve),V),ce.write(R,V),ce.flush(),ie.toByteArray()},Y=function(){var w={},X=0,R={};return R.add=function(V){if(R.contains(V))throw"dup key:"+V;w[V]=X,X+=1},R.size=function(){return X},R.indexOf=function(V){return w[V]},R.contains=function(V){return typeof w[V]<"u"},R};return W},B=function(A,I,p){for(var N=M(A,I),E=0;E<I;E+=1)for(var W=0;W<A;W+=1)N.setPixel(W,E,p(W,E));var D=O();N.write(D);for(var S=k(),Y=D.toByteArray(),w=0;w<Y.length;w+=1)S.writeByte(Y[w]);return S.flush(),"data:image/gif;base64,"+S};return i}();(function(){n.stringToBytesFuncs["UTF-8"]=function(i){function o(s){for(var a=[],u=0;u<s.length;u++){var f=s.charCodeAt(u);f<128?a.push(f):f<2048?a.push(192|f>>6,128|f&63):f<55296||f>=57344?a.push(224|f>>12,128|f>>6&63,128|f&63):(u++,f=65536+((f&1023)<<10|s.charCodeAt(u)&1023),a.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|f&63))}return a}return o(i)}})(),function(i){t.exports=i()}(function(){return n})})(qh);var B7=qh.exports;const W7=Kh(B7),Wi=7;function Y7(t){return{...t,margin:t.margin??1,shape:t.shape??"square",logoRatio:t.logoRatio??1,moduleFill:t.moduleFill??"currentcolor",anchorOuterFill:t.anchorOuterFill??"currentcolor",anchorInnerFill:t.anchorInnerFill??"currentcolor",typeNumber:t.typeNumber??0,errorCorrectionLevel:t.errorCorrectionLevel??"H"}}function X7(t,e){const{data:n,margin:i,shape:o,logo:s,logoRatio:a,anchorInnerFill:u,anchorOuterFill:f,moduleFill:d,typeNumber:h,errorCorrectionLevel:g}=Y7(t);e||(e=W7(h,g),e.addData(n),e.make());const m=e.getModuleCount(),y=m+i*2,v=[["top-left",i,i],["top-right",m-Wi+i,i],["bottom-left",i,m-Wi+i]];let C="";for(const[H,M,B]of v){let A=`M${M} ${B} h7 v7 h-7 v-7z m1 1 v5 h5 v-5 h-5 z`,I=`M${M+2} ${B+2} h3 v3 h-3 v-3 z`;o!=="square"&&(A=`M${M+.5} ${B}h6s0.5 0 .5 .5v6s0 .5-.5 .5h-6s-.5 0-.5-.5v-6s0-.5 .5-.5zm.75 1s-.25 0-.25 .25v4.5s0 .25 .25 .25h4.5s.25 0 .25-.25v-4.5s0-.25 -.25 -.25h-4.5z`,I=`M${M+2.5} ${B+2} h2 s.5 0 .5 .5 v2 s0 .5-.5 .5 h-2 s-.5 0-.5-.5 v-2 s0-.5 .5-.5 z`);const p=`<path class="anchor-outer" fill="${f}" d="${A}" />`,N=`<path class="anchor-outer" fill="${u}" d="${I}" />`;C+=`<g class="anchor" data-position="${H}">${p} ${N}</g>`}C=`<g class="anchors">${C}</g>`;let O="";for(let H=0;H<m;H++)for(let M=0;M<m;M++){if(!e.isDark(H,M)||x7(H,M,m)||s&&F7(H,M,m))continue;const B=H+i,A=M+i;O+=`<rect class="module" fill="${d}" data-column="${H}" data-row="${M}" x="${B}" y="${A}" width="1" height="1" ${o==="circle"?'rx="0.5"':""} />`}O=`<g class="modules">${O}</g>`;let k="";if(s){const H=Math.floor(m*Math.sqrt(.1)),{width:M,height:B}=V7(H*.8,a),A=(y-M+1)/2,I=(y-B+1)/2;k=`<image width="${M}" height="${B}" x="${A}" y="${I}" href="${s}" class="logo" />`}return{attributes:{viewBox:`0, 0 ${y} ${y}`,xmlns:"http://www.w3.org/2000/svg",version:"1.1"},anchors:C,modules:O,logo:k}}function x7(t,e,n){return e<=Wi?t<=Wi||t>=n-Wi:t<=Wi?e>=n-Wi:!1}function F7(t,e,n){const i=n/2,o=1,s=Math.floor(n*Math.sqrt(.1)/2),a=s*o,u=s/o,f=i-a,d=i+a,h=i-u,g=i+u;return e>=h&&e<=g&&t>=f&&t<=d}function V7(t,e){return e>=1?{width:t,height:t/e}:{width:t*e,height:t}}const U7=t=>({attributes:t&4,innerHTML:t&2}),C1=t=>({attributes:t[2],innerHTML:t[1]});function K7(t){let e,n=[t[2],t[3]],i={};for(let o=0;o<n.length;o+=1)i=ot(i,n[o]);return{c(){e=Ge("svg"),ed(e,i)},m(o,s){oe(o,e,s),e.innerHTML=t[1],t[19](e)},p(o,s){s&2&&(e.innerHTML=o[1]),ed(e,i=Gn(n,[s&4&&o[2],s&8&&o[3]]))},d(o){o&&re(e),t[19](null)}}}function Z7(t){let e;const n=t[18].default,i=xt(n,t,t[17],C1),o=i||K7(t);return{c(){o.c()},m(s,a){o.m(s,a),e=!0},p(s,[a]){i?i.p&&(!e||a&131078)&&Vt(i,n,s,s[17],e?Ft(n,s[17],a,U7):Ut(s[17]),C1):o.p&&(!e||a&15)&&o.p(s,e?a:-1)},i(s){e||(se(o,s),e=!0)},o(s){fe(o,s),e=!1},d(s){o.d(s)}}}function G7(t,e,n){let i,o,s,a,u,f,d,h,g,m,y,v,C,O,k,H,{$$slots:M={},$$scope:B}=e,A;const I=Co();Dr(()=>{A&&I("qr:init",A)});function p(N){Tn[N?"unshift":"push"](()=>{A=N,n(0,A)})}return t.$$set=N=>{n(21,e=ot(ot({},e),_n(N))),"$$scope"in N&&n(17,B=N.$$scope)},t.$$.update=()=>{n(16,{data:i,anchorInnerFill:o,anchorOuterFill:s,logo:a,logoRatio:u,margin:f,moduleFill:d,shape:h,errorCorrectionLevel:g,typeNumber:m,...y}=e,i,(n(15,o),n(21,e)),(n(14,s),n(21,e)),(n(13,a),n(21,e)),(n(12,u),n(21,e)),(n(11,f),n(21,e)),(n(10,d),n(21,e)),(n(9,h),n(21,e)),(n(8,g),n(21,e)),(n(7,m),n(21,e)),(n(3,y),n(21,e))),t.$$.dirty&130944&&n(6,{anchors:v,attributes:C,logo:O,modules:k}=X7({data:i,anchorInnerFill:o,anchorOuterFill:s,logo:a,logoRatio:u,margin:f,moduleFill:d,shape:h,errorCorrectionLevel:g,typeNumber:m}),v,(n(2,C),n(16,i),n(15,o),n(14,s),n(13,a),n(12,u),n(11,f),n(10,d),n(9,h),n(8,g),n(7,m),n(21,e)),(n(4,O),n(16,i),n(15,o),n(14,s),n(13,a),n(12,u),n(11,f),n(10,d),n(9,h),n(8,g),n(7,m),n(21,e)),(n(5,k),n(16,i),n(15,o),n(14,s),n(13,a),n(12,u),n(11,f),n(10,d),n(9,h),n(8,g),n(7,m),n(21,e))),t.$$.dirty&112&&n(1,H=`${v}${k}${O}`)},e=_n(e),[A,H,C,y,O,k,v,m,g,h,d,f,u,a,s,o,i,B,M,p]}class q7 extends Be{constructor(e){super(),ze(this,e,G7,Z7,Ye,{})}}function J7(t){let e,n,i,o,s,a;return i=new q7({props:{data:t[0],logo:Q7}}),{c(){e=Ee("div"),n=Ee("div"),Te(i.$$.fragment),o=Pe(),s=Ee("p"),s.textContent=`${t[0]}`,P(n,"class","qr svelte-1d3crm9"),P(s,"class","svelte-1d3crm9"),P(e,"class","container svelte-1d3crm9")},m(u,f){oe(u,e,f),ye(e,n),Ae(i,n,null),ye(e,o),ye(e,s),a=!0},p:Ne,i(u){a||(se(i.$$.fragment,u),a=!0)},o(u){fe(i.$$.fragment,u),a=!1},d(u){u&&re(e),Me(i)}}}const Q7="https://patchcanvas.net/favicon.ico";function j7(t){return[`https://patchcanvas.net${window.location.pathname}${window.location.search}`]}class $7 extends Be{constructor(e){super(),ze(this,e,j7,J7,Ye,{})}}function ek(t){let e,n,i,o,s;function a(f){t[1](f)}let u={};return t[0]!==void 0&&(u.showCanvases=t[0]),i=new M7({props:u}),Tn.push(()=>bb(i,"showCanvases",a)),{c(){e=Ee("aside"),n=Ee("div"),Te(i.$$.fragment),P(e,"class","svelte-1e7dc1w")},m(f,d){oe(f,e,d),ye(e,n),Ae(i,n,null),s=!0},p(f,d){const h={};!o&&d&1&&(o=!0,h.showCanvases=f[0],mb(()=>o=!1)),i.$set(h)},i(f){s||(se(i.$$.fragment,f),s=!0)},o(f){fe(i.$$.fragment,f),s=!1},d(f){f&&re(e),Me(i)}}}function tk(t){let e,n,i,o,s,a,u,f;return i=new c7({}),a=new E7({}),{c(){e=Ee("aside"),n=Ee("div"),Te(i.$$.fragment),o=Pe(),s=Ee("div"),Te(a.$$.fragment),P(n,"class","nodes"),P(s,"class","rotate svelte-1e7dc1w"),P(e,"class",u=vr(t[0]?"hide":"")+" svelte-1e7dc1w")},m(d,h){oe(d,e,h),ye(e,n),Ae(i,n,null),ye(e,o),ye(e,s),Ae(a,s,null),f=!0},p(d,h){(!f||h&1&&u!==(u=vr(d[0]?"hide":"")+" svelte-1e7dc1w"))&&P(e,"class",u)},i(d){f||(se(i.$$.fragment,d),se(a.$$.fragment,d),f=!0)},o(d){fe(i.$$.fragment,d),fe(a.$$.fragment,d),f=!1},d(d){d&&re(e),Me(i),Me(a)}}}function nk(t){let e,n;return e=new z7({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function ik(t){let e,n;return e=new $7({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function rk(t){let e,n,i,o,s,a={};return i=new N7({props:a}),t[2](i),{c(){e=Ee("aside"),n=Ee("div"),Te(i.$$.fragment),P(n,"class","scroller"),P(e,"class",o=vr(t[0]?"show":"")+" svelte-1e7dc1w")},m(u,f){oe(u,e,f),ye(e,n),Ae(i,n,null),s=!0},p(u,f){const d={};i.$set(d),(!s||f&1&&o!==(o=vr(u[0]?"show":"")+" svelte-1e7dc1w"))&&P(e,"class",o)},i(u){s||(se(i.$$.fragment,u),s=!0)},o(u){fe(i.$$.fragment,u),s=!1},d(u){u&&re(e),t[2](null),Me(i)}}}function ok(t){let e,n,i,o,s,a,u,f,d,h;return e=new ui({props:{position:"top-left",class:"canvas",$$slots:{default:[ek]},$$scope:{ctx:t}}}),i=new ui({props:{position:"top-left",class:"main",$$slots:{default:[tk]},$$scope:{ctx:t}}}),s=new ui({props:{position:"top-left",class:"key",$$slots:{default:[nk]},$$scope:{ctx:t}}}),u=new ui({props:{position:"bottom-left",class:"qr",$$slots:{default:[ik]},$$scope:{ctx:t}}}),d=new ui({props:{position:"top-left",class:"saves",$$slots:{default:[rk]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment),n=Pe(),Te(i.$$.fragment),o=Pe(),Te(s.$$.fragment),a=Pe(),Te(u.$$.fragment),f=Pe(),Te(d.$$.fragment)},m(g,m){Ae(e,g,m),oe(g,n,m),Ae(i,g,m),oe(g,o,m),Ae(s,g,m),oe(g,a,m),Ae(u,g,m),oe(g,f,m),Ae(d,g,m),h=!0},p(g,[m]){const y={};m&9&&(y.$$scope={dirty:m,ctx:g}),e.$set(y);const v={};m&9&&(v.$$scope={dirty:m,ctx:g}),i.$set(v);const C={};m&8&&(C.$$scope={dirty:m,ctx:g}),s.$set(C);const O={};m&8&&(O.$$scope={dirty:m,ctx:g}),u.$set(O);const k={};m&9&&(k.$$scope={dirty:m,ctx:g}),d.$set(k)},i(g){h||(se(e.$$.fragment,g),se(i.$$.fragment,g),se(s.$$.fragment,g),se(u.$$.fragment,g),se(d.$$.fragment,g),h=!0)},o(g){fe(e.$$.fragment,g),fe(i.$$.fragment,g),fe(s.$$.fragment,g),fe(u.$$.fragment,g),fe(d.$$.fragment,g),h=!1},d(g){g&&(re(n),re(o),re(a),re(f)),Me(e,g),Me(i,g),Me(s,g),Me(u,g),Me(d,g)}}}let ko;const Jh=function(){ko&&ko.load(Uh)},lk=function(){ko&&ko.store(he(ln))};function sk(t,e,n){let i=!1;function o(a){i=a,n(0,i)}function s(a){Tn[a?"unshift":"push"](()=>{ko=a})}return[i,o,s]}class uk extends Be{constructor(e){super(),ze(this,e,sk,ok,Ye,{})}}function ak(t){let e,n;return e=new Po({props:{path:t[6],labelX:t[5],labelY:t[4],markerStart:t[2],markerEnd:t[0],style:t[1],class:t[3]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&64&&(s.path=i[6]),o&32&&(s.labelX=i[5]),o&16&&(s.labelY=i[4]),o&4&&(s.markerStart=i[2]),o&1&&(s.markerEnd=i[0]),o&2&&(s.style=i[1]),o&8&&(s.class=i[3]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function fk(t,e,n){let i,o,s,{id:a}=e,{type:u}=e,{source:f}=e,{sourceX:d}=e,{sourceY:h}=e,{sourcePosition:g}=e,{sourceHandleId:m=""}=e,{target:y}=e,{targetX:v}=e,{targetY:C}=e,{targetPosition:O}=e,{targetHandleId:k=""}=e,{markerStart:H=void 0}=e,{markerEnd:M=void 0}=e,{animated:B=!1}=e,{selected:A=!1}=e,{selectable:I=void 0}=e,{deletable:p=void 0}=e,{label:N=""}=e,{labelStyle:E=""}=e,{data:W=void 0}=e,{interactionWidth:D=void 0}=e,{style:S=""}=e,{edgeClass:Y=""}=e;return Vh(),t.$$set=w=>{"id"in w&&n(7,a=w.id),"type"in w&&n(8,u=w.type),"source"in w&&n(9,f=w.source),"sourceX"in w&&n(10,d=w.sourceX),"sourceY"in w&&n(11,h=w.sourceY),"sourcePosition"in w&&n(12,g=w.sourcePosition),"sourceHandleId"in w&&n(13,m=w.sourceHandleId),"target"in w&&n(14,y=w.target),"targetX"in w&&n(15,v=w.targetX),"targetY"in w&&n(16,C=w.targetY),"targetPosition"in w&&n(17,O=w.targetPosition),"targetHandleId"in w&&n(18,k=w.targetHandleId),"markerStart"in w&&n(2,H=w.markerStart),"markerEnd"in w&&n(0,M=w.markerEnd),"animated"in w&&n(19,B=w.animated),"selected"in w&&n(20,A=w.selected),"selectable"in w&&n(21,I=w.selectable),"deletable"in w&&n(22,p=w.deletable),"label"in w&&n(23,N=w.label),"labelStyle"in w&&n(24,E=w.labelStyle),"data"in w&&n(25,W=w.data),"interactionWidth"in w&&n(26,D=w.interactionWidth),"style"in w&&n(1,S=w.style),"edgeClass"in w&&n(3,Y=w.edgeClass)},t.$$.update=()=>{if(t.$$.dirty&236544&&n(6,[i,o,s]=ls({sourceX:d,sourceY:h,sourcePosition:g,targetX:v,targetY:C,targetPosition:O}),i,(n(5,o),n(10,d),n(11,h),n(12,g),n(15,v),n(16,C),n(17,O)),(n(4,s),n(10,d),n(11,h),n(12,g),n(15,v),n(16,C),n(17,O))),t.$$.dirty&8192){let w=un[m??""][0];n(1,S=`stroke: ${w};`),n(0,M=`url(#${m})`)}},[M,S,H,Y,s,o,i,a,u,f,d,h,g,m,y,v,C,O,k,B,A,I,p,N,E,W,D]}class ck extends Be{constructor(e){super(),ze(this,e,fk,ak,Ye,{id:7,type:8,source:9,sourceX:10,sourceY:11,sourcePosition:12,sourceHandleId:13,target:14,targetX:15,targetY:16,targetPosition:17,targetHandleId:18,markerStart:2,markerEnd:0,animated:19,selected:20,selectable:21,deletable:22,label:23,labelStyle:24,data:25,interactionWidth:26,style:1,edgeClass:3})}}const dk=`<svg fill="currentColor" viewBox="4 2 8 12" xmlns="http://www.w3.org/2000/svg"\r
	><path\r
		fill-rule="evenodd"\r
		d="M7.375 3.67c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm0 8.66c0-.646-.56-1.17-1.25-1.17s-1.25.524-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17zm-1.25-5.5c.69 0 1.25.525 1.25 1.17 0 .645-.56 1.17-1.25 1.17S4.875 8.645 4.875 8c0-.645.56-1.17 1.25-1.17zm5-3.16c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm-1.25 7.49c.69 0 1.25.524 1.25 1.17 0 .645-.56 1.17-1.25 1.17s-1.25-.525-1.25-1.17c0-.646.56-1.17 1.25-1.17zM11.125 8c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17z"\r
	/></svg\r
>\r
`;function hk(t){let e,n;return e=new po({props:{id:t[0],type:t[1]==="input"?"target":"source",position:t[1]==="input"?Ue.Top:Ue.Bottom,style:t[2]+`background: ${un[t[0]][0]};
		left: calc( ${t[1]==="input"?"":"12px + "} (${un[t[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`,isConnectable:!0}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&1&&(s.id=i[0]),o&2&&(s.type=i[1]==="input"?"target":"source"),o&2&&(s.position=i[1]==="input"?Ue.Top:Ue.Bottom),o&7&&(s.style=i[2]+`background: ${un[i[0]][0]};
		left: calc( ${i[1]==="input"?"":"12px + "} (${un[i[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function gk(t,e,n){let{id:i}=e,{io:o}=e,{style:s=""}=e,{drop:a}=e;return addEventListener("drop",a),t.$$set=u=>{"id"in u&&n(0,i=u.id),"io"in u&&n(1,o=u.io),"style"in u&&n(2,s=u.style),"drop"in u&&n(3,a=u.drop)},[i,o,s,a]}class Qh extends Be{constructor(e){super(),ze(this,e,gk,hk,Ye,{id:0,io:1,style:2,drop:3})}}function E1(t,e,n){const i=t.slice();return i[43]=e[n],i}function S1(t,e,n){const i=t.slice();return i[43]=e[n],i}function A1(t){let e,n,i,o,s,a,u;return{c(){e=Ee("div"),n=Pe(),i=Ee("div"),o=Pe(),s=Ee("div"),P(e,"class","drop-target inputs svelte-1tlokpe"),P(i,"class","drop-target outputs svelte-1tlokpe"),P(s,"class","hover svelte-1tlokpe")},m(f,d){oe(f,e,d),t[28](e),oe(f,n,d),oe(f,i,d),t[32](i),oe(f,o,d),oe(f,s,d),a||(u=[We(e,"dragenter",t[29]),We(e,"dragleave",t[30]),We(e,"drop",t[31]),We(i,"dragenter",t[33]),We(i,"dragleave",t[34]),We(i,"drop",t[35])],a=!0)},p:Ne,d(f){f&&(re(e),re(n),re(i),re(o),re(s)),t[28](null),t[32](null),a=!1,At(u)}}}function M1(t){let e,n;return e=new t7({props:{minWidth:200,minHeight:105,style:"background: transparent; border: none;",$$slots:{default:[mk]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function mk(t){let e,n,i,o,s,a;return{c(){e=Ge("svg"),n=Ge("path"),i=Ge("polyline"),o=Ge("line"),s=Ge("polyline"),a=Ge("line"),P(n,"stroke","none"),P(n,"d","M0 0h24v24H0z"),P(n,"fill","none"),P(i,"points","16 20 20 20 20 16"),P(o,"x1","14"),P(o,"y1","14"),P(o,"x2","20"),P(o,"y2","20"),P(s,"points","8 4 4 4 4 8"),P(a,"x1","4"),P(a,"y1","4"),P(a,"x2","10"),P(a,"y2","10"),P(e,"xmlns","http://www.w3.org/2000/svg"),P(e,"width","15"),P(e,"height","15"),P(e,"viewBox","0 0 24 24"),P(e,"stroke-width","2"),P(e,"stroke","var(--font-colour)"),P(e,"fill","none"),P(e,"stroke-linecap","round"),P(e,"stroke-linejoin","round"),Xe(e,"position","absolute"),Xe(e,"right","0.5em"),Xe(e,"bottom","0.5em")},m(u,f){oe(u,e,f),ye(e,n),ye(e,i),ye(e,o),ye(e,s),ye(e,a)},p:Ne,d(u){u&&re(e)}}}function T1(t,e){let n,i,o;return i=new Qh({props:{id:e[43],io:"input",drop:e[7]}}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,a){oe(s,n,a),Ae(i,s,a),o=!0},p(s,a){e=s;const u={};a[0]&1&&(u.id=e[43]),i.$set(u)},i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function P1(t,e){let n,i,o;return i=new Qh({props:{id:e[43],io:"output",drop:e[7]}}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,a){oe(s,n,a),Ae(i,s,a),o=!0},p(s,a){e=s;const u={};a[0]&1&&(u.id=e[43]),i.$set(u)},i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function _k(t){let e,n,i,o,s=t[0].label+"",a,u,f,d,h,g,m,y=[],v=new Map,C,O=[],k=new Map,H,M,B,A,I=!t[0].group&&A1(t),p=t[0].group&&M1(t),N=Dt(t[0].inputs);const E=S=>S[43];for(let S=0;S<N.length;S+=1){let Y=S1(t,N,S),w=E(Y);v.set(w,y[S]=T1(w,Y))}let W=Dt(t[0].outputs);const D=S=>S[43];for(let S=0;S<W.length;S+=1){let Y=E1(t,W,S),w=D(Y);k.set(w,O[S]=P1(w,Y))}return{c(){I&&I.c(),e=Pe(),n=Ee("div"),i=Ee("span"),o=Pe(),a=nt(s),u=Pe(),f=Ee("button"),f.textContent="",d=Pe(),h=Ee("button"),h.textContent="",g=Pe(),p&&p.c(),m=Pe();for(let S=0;S<y.length;S+=1)y[S].c();C=Pe();for(let S=0;S<O.length;S+=1)O[S].c();H=Pt(),P(i,"class","drag-handle drag-dots svelte-1tlokpe"),P(f,"class","reverse svelte-1tlokpe"),P(h,"class","svelte-1tlokpe"),P(n,"class","label svelte-1tlokpe")},m(S,Y){I&&I.m(S,Y),oe(S,e,Y),oe(S,n,Y),ye(n,i),i.innerHTML=dk,ye(n,o),ye(n,a),ye(n,u),ye(n,f),ye(n,d),ye(n,h),oe(S,g,Y),p&&p.m(S,Y),oe(S,m,Y);for(let w=0;w<y.length;w+=1)y[w]&&y[w].m(S,Y);oe(S,C,Y);for(let w=0;w<O.length;w+=1)O[w]&&O[w].m(S,Y);oe(S,H,Y),M=!0,B||(A=[We(f,"click",t[36]),We(h,"click",t[37])],B=!0)},p(S,Y){S[0].group?I&&(I.d(1),I=null):I?I.p(S,Y):(I=A1(S),I.c(),I.m(e.parentNode,e)),(!M||Y[0]&1)&&s!==(s=S[0].label+"")&&Xt(a,s),S[0].group?p?Y[0]&1&&se(p,1):(p=M1(S),p.c(),se(p,1),p.m(m.parentNode,m)):p&&(Ct(),fe(p,1,1,()=>{p=null}),Et()),Y[0]&129&&(N=Dt(S[0].inputs),Ct(),y=Fi(y,Y,E,1,S,N,v,C.parentNode,Cr,T1,C,S1),Et()),Y[0]&129&&(W=Dt(S[0].outputs),Ct(),O=Fi(O,Y,D,1,S,W,k,H.parentNode,Cr,P1,H,E1),Et())},i(S){if(!M){se(p);for(let Y=0;Y<N.length;Y+=1)se(y[Y]);for(let Y=0;Y<W.length;Y+=1)se(O[Y]);M=!0}},o(S){fe(p);for(let Y=0;Y<y.length;Y+=1)fe(y[Y]);for(let Y=0;Y<O.length;Y+=1)fe(O[Y]);M=!1},d(S){S&&(re(e),re(n),re(g),re(m),re(C),re(H)),I&&I.d(S),p&&p.d(S);for(let Y=0;Y<y.length;Y+=1)y[Y].d(S);for(let Y=0;Y<O.length;Y+=1)O[Y].d(S);B=!1,At(A)}}}function Il(t,e){return!t.includes(e)}function yk(t,e,n){let i;const o=r7();be(t,o,z=>n(38,i=z));let{id:s}=e,{data:a}=e,{dragHandle:u=void 0}=e,{type:f}=e,{isConnectable:d}=e,{selected:h}=e,{selectable:g}=e,{deletable:m}=e,{draggable:y}=e,{parentId:v=void 0}=e,{zIndex:C}=e,{positionAbsoluteX:O}=e,{positionAbsoluteY:k}=e,{width:H=void 0}=e,{height:M=void 0}=e,{dragging:B=!1}=e,{sourcePosition:A=void 0}=e,{targetPosition:I=void 0}=e,p=a,N,E;const W=(z,F,ee)=>{if(z.preventDefault(),z.stopPropagation(),!z.dataTransfer)return null;if(z.dataTransfer.types[0].includes("patchcanvasprotocol/")){const ne=z.dataTransfer.types[0].replace("patchcanvasprotocol/","");let K=!1;switch(F){case"input":K=Il(p.inputs,ne);break;case"output":K=Il(p.outputs,ne);break}K?(G([...F==="input"?p.inputs:p.outputs,ne],ee),ee.style.backgroundColor="green",z.dataTransfer.dropEffect="move"):(ee.style.backgroundColor="red",ee.style.backgroundImage="",z.dataTransfer.dropEffect="none")}},D=(z,F)=>{z.preventDefault(),F.style.backgroundColor="",F===N?G(p.inputs,N):G(p.outputs,E)},S=(z,F,ee)=>{if(z.preventDefault(),!z.dataTransfer)return null;if(z.dataTransfer.types[0].includes("patchcanvasprotocol/")){const ne=z.dataTransfer.types[0].replace("patchcanvasprotocol/","");let K=!1;switch(F){case"input":K=Il(p.inputs,ne);break;case"output":K=Il(p.outputs,ne);break}K&&X(ne,F),ee.style.backgroundColor="",G(F==="input"?p.inputs:p.outputs,ee)}},Y=z=>{var F,ee,ne;if(z.preventDefault(),!z.dataTransfer)return null;if(z.dataTransfer.types[0]==="application/patchcanvaseraser"){if(((F=z.target.attributes.getNamedItem("data-nodeid"))==null?void 0:F.value)!==s)return null;let K=(ee=z.target.attributes.getNamedItem("data-handleid"))==null?void 0:ee.value,_e=((ne=z.target.attributes.getNamedItem("data-handlepos"))==null?void 0:ne.value)==="top"?"input":"output";Z(K,_e),G(_e==="input"?p.inputs:p.outputs,_e==="input"?N:E)}},w=n7();function X(z,F){switch(F){case"input":p.inputs.push(z);break;case"output":p.outputs.push(z);break}n(0,p),w(s)}function R(){let z=prompt(`Rename '${p.label}' to:`,p.label);z!==null&&n(0,p.label=z,p)}function V(){window.confirm(`Actually delete ${p.label}?`)&&di(o,i=i.filter(F=>F.id!=s),i)}function G(z,F){if(F==null){setTimeout(G,0,z,F);return}let ee=[...z];ee.sort(p7);let ne=[];ne.push("transparent 2%");for(const K in un){let _e="transparent";ee.includes(K)&&(_e=un[K][0]);let Le=un[K][1];F===E&&(Le+=.75);let Ze=Le*16/150*100;_e+=` ${Ze}%`,ne.push(_e)}ne.push("transparent"),F.style.backgroundImage=`linear-gradient(to right, ${ne.join(", ")})`}setTimeout(()=>{G(p.inputs,N),G(p.outputs,E)},0);function Z(z,F){switch(F){case"input":n(0,p.inputs=p.inputs.filter(ee=>ee!==z),p);break;case"output":n(0,p.outputs=p.outputs.filter(ee=>ee!==z),p);break}n(0,p),w(s)}function ie(z){Tn[z?"unshift":"push"](()=>{N=z,n(1,N)})}const ce=z=>W(z,"input",N),pe=z=>D(z,N),ve=z=>S(z,"input",N);function le(z){Tn[z?"unshift":"push"](()=>{E=z,n(2,E)})}const ke=z=>W(z,"output",E),Ce=z=>D(z,E),ue=z=>S(z,"output",E),Q=()=>R(),$=()=>V();return t.$$set=z=>{"id"in z&&n(10,s=z.id),"data"in z&&n(11,a=z.data),"dragHandle"in z&&n(12,u=z.dragHandle),"type"in z&&n(13,f=z.type),"isConnectable"in z&&n(14,d=z.isConnectable),"selected"in z&&n(15,h=z.selected),"selectable"in z&&n(16,g=z.selectable),"deletable"in z&&n(17,m=z.deletable),"draggable"in z&&n(18,y=z.draggable),"parentId"in z&&n(19,v=z.parentId),"zIndex"in z&&n(20,C=z.zIndex),"positionAbsoluteX"in z&&n(21,O=z.positionAbsoluteX),"positionAbsoluteY"in z&&n(22,k=z.positionAbsoluteY),"width"in z&&n(23,H=z.width),"height"in z&&n(24,M=z.height),"dragging"in z&&n(25,B=z.dragging),"sourcePosition"in z&&n(26,A=z.sourcePosition),"targetPosition"in z&&n(27,I=z.targetPosition)},[p,N,E,o,W,D,S,Y,R,V,s,a,u,f,d,h,g,m,y,v,C,O,k,H,M,B,A,I,ie,ce,pe,ve,le,ke,Ce,ue,Q,$]}class wk extends Be{constructor(e){super(),ze(this,e,yk,_k,Ye,{id:10,data:11,dragHandle:12,type:13,isConnectable:14,selected:15,selectable:16,deletable:17,draggable:18,parentId:19,zIndex:20,positionAbsoluteX:21,positionAbsoluteY:22,width:23,height:24,dragging:25,sourcePosition:26,targetPosition:27},null,[-1,-1])}}function I1(t){let e,n,i,o;function s(f,d){var h,g;if(((h=f[0].fromHandle)==null?void 0:h.type)=="target")return pk;if(((g=f[0].fromHandle)==null?void 0:g.type)=="source")return bk}let a=s(t),u=a&&a(t);return{c(){var f,d;u&&u.c(),e=Pe(),n=Ge("circle"),P(n,"cx",i=(f=t[0].to)==null?void 0:f.x),P(n,"cy",o=(d=t[0].to)==null?void 0:d.y),P(n,"fill","var(--font-colour)"),P(n,"r",3),P(n,"stroke",un[t[3]][0]??"var(--font-colour)"),P(n,"stroke-width",1.5)},m(f,d){u&&u.m(f,d),oe(f,e,d),oe(f,n,d)},p(f,d){var h,g;a===(a=s(f))&&u?u.p(f,d):(u&&u.d(1),u=a&&a(f),u&&(u.c(),u.m(e.parentNode,e))),d&1&&i!==(i=(h=f[0].to)==null?void 0:h.x)&&P(n,"cx",i),d&1&&o!==(o=(g=f[0].to)==null?void 0:g.y)&&P(n,"cy",o)},d(f){f&&(re(e),re(n)),u&&u.d(f)}}}function bk(t){let e,n;return{c(){var i;e=Ge("path"),P(e,"fill","none"),P(e,"stroke-width",1.5),P(e,"class","animated"),P(e,"stroke",un[t[3]][0]??"var(--font-colour)"),P(e,"d",t[1]),P(e,"marker-end",n="url(#"+((i=t[0].fromHandle)==null?void 0:i.id)+"line)")},m(i,o){oe(i,e,o)},p(i,o){var s;o&2&&P(e,"d",i[1]),o&1&&n!==(n="url(#"+((s=i[0].fromHandle)==null?void 0:s.id)+"line)")&&P(e,"marker-end",n)},d(i){i&&re(e)}}}function pk(t){let e,n;return{c(){var i;e=Ge("path"),P(e,"fill","none"),P(e,"stroke-width",1.5),P(e,"class","animated"),P(e,"stroke",un[t[3]][0]??"var(--font-colour)"),P(e,"d",t[1]),P(e,"marker-start",n="url(#"+((i=t[0].fromHandle)==null?void 0:i.id)+"line)")},m(i,o){oe(i,e,o)},p(i,o){var s;o&2&&P(e,"d",i[1]),o&1&&n!==(n="url(#"+((s=i[0].fromHandle)==null?void 0:s.id)+"line)")&&P(e,"marker-start",n)},d(i){i&&re(e)}}}function vk(t){let e,n=t[0].inProgress&&I1(t);return{c(){n&&n.c(),e=Pt()},m(i,o){n&&n.m(i,o),oe(i,e,o)},p(i,[o]){i[0].inProgress?n?n.p(i,o):(n=I1(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ne,o:Ne,d(i){i&&re(e),n&&n.d(i)}}}function kk(t,e,n){var u;let i;const o=i7();be(t,o,f=>n(0,i=f));let s="",a=((u=i.fromHandle)==null?void 0:u.id)??"";return t.$$.update=()=>{if(t.$$.dirty&1){let{from:f,fromPosition:d,to:h,toPosition:g}=i;n(1,[s]=ls({sourceX:(f==null?void 0:f.x)??0,sourceY:(f==null?void 0:f.y)??0,sourcePosition:d??Ue.Bottom,targetX:(h==null?void 0:h.x)??0,targetY:(h==null?void 0:h.y)??0,targetPosition:g??Ue.Top}),s)}},[i,s,o,a]}class Ck extends Be{constructor(e){super(),ze(this,e,kk,vk,Ye,{})}}function Ek(t){let e,n,i,o,s,a,u;return{c(){e=Ge("svg"),n=Ge("defs"),i=Ge("marker"),o=Ge("polyline"),P(o,"stroke",t[0]),P(o,"stroke-linecap","round"),P(o,"stroke-linejoin","round"),P(o,"stroke-width",t[6]),P(o,"fill",t[0]),P(o,"points","-5,-4 0,0 -5,4 -5,-4"),P(i,"class","svelte-flow__arrowhead"),P(i,"id",t[1]),P(i,"markerWidth",s=`${t[2]}`),P(i,"markerHeight",a=`${t[3]}`),P(i,"viewBox","-10 -10 20 20"),P(i,"markerUnits",t[4]),P(i,"orient",t[5]),P(i,"refX",u=t[1].includes("line")?"4":"0"),P(i,"refY","0"),P(e,"class","svelte-1wqugfi")},m(f,d){oe(f,e,d),ye(e,n),ye(n,i),ye(i,o)},p(f,[d]){d&1&&P(o,"stroke",f[0]),d&64&&P(o,"stroke-width",f[6]),d&1&&P(o,"fill",f[0]),d&2&&P(i,"id",f[1]),d&4&&s!==(s=`${f[2]}`)&&P(i,"markerWidth",s),d&8&&a!==(a=`${f[3]}`)&&P(i,"markerHeight",a),d&16&&P(i,"markerUnits",f[4]),d&32&&P(i,"orient",f[5]),d&2&&u!==(u=f[1].includes("line")?"4":"0")&&P(i,"refX",u)},i:Ne,o:Ne,d(f){f&&re(e)}}}function Sk(t,e,n){let{id:i}=e,{type:o}=e,{width:s=12.5}=e,{height:a=12.5}=e,{markerUnits:u="strokeWidth"}=e,{orient:f="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(1,i=g.id),"type"in g&&n(7,o=g.type),"width"in g&&n(2,s=g.width),"height"in g&&n(3,a=g.height),"markerUnits"in g&&n(4,u=g.markerUnits),"orient"in g&&n(5,f=g.orient),"color"in g&&n(0,d=g.color),"strokeWidth"in g&&n(6,h=g.strokeWidth)},t.$$.update=()=>{t.$$.dirty&2&&n(0,d=un[i.replace("line","")??""][0])},[d,i,s,a,u,f,h,o]}class jh extends Be{constructor(e){super(),ze(this,e,Sk,Ek,Ye,{id:1,type:7,width:2,height:3,markerUnits:4,orient:5,color:0,strokeWidth:6})}}var jl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */jl.exports;(function(t,e){(function(){var n,i="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,m=2,y=4,v=1,C=2,O=1,k=2,H=4,M=8,B=16,A=32,I=64,p=128,N=256,E=512,W=30,D="...",S=800,Y=16,w=1,X=2,R=3,V=1/0,G=9007199254740991,Z=17976931348623157e292,ie=NaN,ce=4294967295,pe=ce-1,ve=ce>>>1,le=[["ary",p],["bind",O],["bindKey",k],["curry",M],["curryRight",B],["flip",E],["partial",A],["partialRight",I],["rearg",N]],ke="[object Arguments]",Ce="[object Array]",ue="[object AsyncFunction]",Q="[object Boolean]",$="[object Date]",z="[object DOMException]",F="[object Error]",ee="[object Function]",ne="[object GeneratorFunction]",K="[object Map]",_e="[object Number]",Le="[object Null]",Ze="[object Object]",De="[object Promise]",ct="[object Proxy]",it="[object RegExp]",yt="[object Set]",Ie="[object String]",Kt="[object Symbol]",en="[object Undefined]",Ot="[object WeakMap]",Jn="[object WeakSet]",Ht="[object ArrayBuffer]",zt="[object DataView]",te="[object Float32Array]",Zt="[object Float64Array]",wt="[object Int8Array]",mt="[object Int16Array]",Bn="[object Int32Array]",Wn="[object Uint8Array]",Yn="[object Uint8ClampedArray]",Xn="[object Uint16Array]",wn="[object Uint32Array]",Qn=/\b__p \+= '';/g,Zi=/\b(__p \+=) '' \+/g,Io=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Gi=/&(?:amp|lt|gt|quot|#39);/g,Rr=/[&<>"']/g,Oo=RegExp(Gi.source),qi=RegExp(Rr.source),gi=/<%-([\s\S]+?)%>/g,mi=/<%([\s\S]+?)%>/g,No=/<%=([\s\S]+?)%>/g,Bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lo=/^\w*$/,Hr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zr=/[\\^$.*+?()[\]{}|]/g,fs=RegExp(zr.source),Br=/^\s+/,cs=/\s/,ds=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hs=/\{\n\/\* \[wrapped with (.+)\] \*/,gs=/,? & /,ms=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_s=/[()=,{}\[\]\/\s]/,ys=/\\(\\)?/g,ws=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Do=/\w*$/,bs=/^[-+]0x[0-9a-f]+$/i,ps=/^0b[01]+$/i,vs=/^\[object .+?Constructor\]$/,ks=/^0o[0-7]+$/i,Cs=/^(?:0|[1-9]\d*)$/,Es=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ji=/($^)/,Ss=/['\n\r\u2028\u2029\\]/g,Qi="\\ud800-\\udfff",As="\\u0300-\\u036f",Ms="\\ufe20-\\ufe2f",q="\\u20d0-\\u20ff",Ma=As+Ms+q,Ta="\\u2700-\\u27bf",Pa="a-z\\xdf-\\xf6\\xf8-\\xff",$h="\\xac\\xb1\\xd7\\xf7",e0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",t0="\\u2000-\\u206f",n0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ia="A-Z\\xc0-\\xd6\\xd8-\\xde",Oa="\\ufe0e\\ufe0f",Na=$h+e0+t0+n0,Ts="[']",i0="["+Qi+"]",La="["+Na+"]",Ro="["+Ma+"]",Da="\\d+",r0="["+Ta+"]",Ra="["+Pa+"]",Ha="[^"+Qi+Na+Da+Ta+Pa+Ia+"]",Ps="\\ud83c[\\udffb-\\udfff]",o0="(?:"+Ro+"|"+Ps+")",za="[^"+Qi+"]",Is="(?:\\ud83c[\\udde6-\\uddff]){2}",Os="[\\ud800-\\udbff][\\udc00-\\udfff]",ji="["+Ia+"]",Ba="\\u200d",Wa="(?:"+Ra+"|"+Ha+")",l0="(?:"+ji+"|"+Ha+")",Ya="(?:"+Ts+"(?:d|ll|m|re|s|t|ve))?",Xa="(?:"+Ts+"(?:D|LL|M|RE|S|T|VE))?",xa=o0+"?",Fa="["+Oa+"]?",s0="(?:"+Ba+"(?:"+[za,Is,Os].join("|")+")"+Fa+xa+")*",u0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Va=Fa+xa+s0,f0="(?:"+[r0,Is,Os].join("|")+")"+Va,c0="(?:"+[za+Ro+"?",Ro,Is,Os,i0].join("|")+")",d0=RegExp(Ts,"g"),h0=RegExp(Ro,"g"),Ns=RegExp(Ps+"(?="+Ps+")|"+c0+Va,"g"),g0=RegExp([ji+"?"+Ra+"+"+Ya+"(?="+[La,ji,"$"].join("|")+")",l0+"+"+Xa+"(?="+[La,ji+Wa,"$"].join("|")+")",ji+"?"+Wa+"+"+Ya,ji+"+"+Xa,a0,u0,Da,f0].join("|"),"g"),m0=RegExp("["+Ba+Qi+Ma+Oa+"]"),_0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,y0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],w0=-1,_t={};_t[te]=_t[Zt]=_t[wt]=_t[mt]=_t[Bn]=_t[Wn]=_t[Yn]=_t[Xn]=_t[wn]=!0,_t[ke]=_t[Ce]=_t[Ht]=_t[Q]=_t[zt]=_t[$]=_t[F]=_t[ee]=_t[K]=_t[_e]=_t[Ze]=_t[it]=_t[yt]=_t[Ie]=_t[Ot]=!1;var ht={};ht[ke]=ht[Ce]=ht[Ht]=ht[zt]=ht[Q]=ht[$]=ht[te]=ht[Zt]=ht[wt]=ht[mt]=ht[Bn]=ht[K]=ht[_e]=ht[Ze]=ht[it]=ht[yt]=ht[Ie]=ht[Kt]=ht[Wn]=ht[Yn]=ht[Xn]=ht[wn]=!0,ht[F]=ht[ee]=ht[Ot]=!1;var b0={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},p0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},v0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},k0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},C0=parseFloat,E0=parseInt,Ua=typeof no=="object"&&no&&no.Object===Object&&no,S0=typeof self=="object"&&self&&self.Object===Object&&self,Wt=Ua||S0||Function("return this")(),Ls=e&&!e.nodeType&&e,Ii=Ls&&!0&&t&&!t.nodeType&&t,Ka=Ii&&Ii.exports===Ls,Ds=Ka&&Ua.process,bn=function(){try{var J=Ii&&Ii.require&&Ii.require("util").types;return J||Ds&&Ds.binding&&Ds.binding("util")}catch{}}(),Za=bn&&bn.isArrayBuffer,Ga=bn&&bn.isDate,qa=bn&&bn.isMap,Ja=bn&&bn.isRegExp,Qa=bn&&bn.isSet,ja=bn&&bn.isTypedArray;function an(J,de,ae){switch(ae.length){case 0:return J.call(de);case 1:return J.call(de,ae[0]);case 2:return J.call(de,ae[0],ae[1]);case 3:return J.call(de,ae[0],ae[1],ae[2])}return J.apply(de,ae)}function A0(J,de,ae,Oe){for(var qe=-1,st=J==null?0:J.length;++qe<st;){var Nt=J[qe];de(Oe,Nt,ae(Nt),J)}return Oe}function pn(J,de){for(var ae=-1,Oe=J==null?0:J.length;++ae<Oe&&de(J[ae],ae,J)!==!1;);return J}function M0(J,de){for(var ae=J==null?0:J.length;ae--&&de(J[ae],ae,J)!==!1;);return J}function $a(J,de){for(var ae=-1,Oe=J==null?0:J.length;++ae<Oe;)if(!de(J[ae],ae,J))return!1;return!0}function _i(J,de){for(var ae=-1,Oe=J==null?0:J.length,qe=0,st=[];++ae<Oe;){var Nt=J[ae];de(Nt,ae,J)&&(st[qe++]=Nt)}return st}function Ho(J,de){var ae=J==null?0:J.length;return!!ae&&$i(J,de,0)>-1}function Rs(J,de,ae){for(var Oe=-1,qe=J==null?0:J.length;++Oe<qe;)if(ae(de,J[Oe]))return!0;return!1}function bt(J,de){for(var ae=-1,Oe=J==null?0:J.length,qe=Array(Oe);++ae<Oe;)qe[ae]=de(J[ae],ae,J);return qe}function yi(J,de){for(var ae=-1,Oe=de.length,qe=J.length;++ae<Oe;)J[qe+ae]=de[ae];return J}function Hs(J,de,ae,Oe){var qe=-1,st=J==null?0:J.length;for(Oe&&st&&(ae=J[++qe]);++qe<st;)ae=de(ae,J[qe],qe,J);return ae}function T0(J,de,ae,Oe){var qe=J==null?0:J.length;for(Oe&&qe&&(ae=J[--qe]);qe--;)ae=de(ae,J[qe],qe,J);return ae}function zs(J,de){for(var ae=-1,Oe=J==null?0:J.length;++ae<Oe;)if(de(J[ae],ae,J))return!0;return!1}var P0=Bs("length");function I0(J){return J.split("")}function O0(J){return J.match(ms)||[]}function ef(J,de,ae){var Oe;return ae(J,function(qe,st,Nt){if(de(qe,st,Nt))return Oe=st,!1}),Oe}function zo(J,de,ae,Oe){for(var qe=J.length,st=ae+(Oe?1:-1);Oe?st--:++st<qe;)if(de(J[st],st,J))return st;return-1}function $i(J,de,ae){return de===de?F0(J,de,ae):zo(J,tf,ae)}function N0(J,de,ae,Oe){for(var qe=ae-1,st=J.length;++qe<st;)if(Oe(J[qe],de))return qe;return-1}function tf(J){return J!==J}function nf(J,de){var ae=J==null?0:J.length;return ae?Ys(J,de)/ae:ie}function Bs(J){return function(de){return de==null?n:de[J]}}function Ws(J){return function(de){return J==null?n:J[de]}}function rf(J,de,ae,Oe,qe){return qe(J,function(st,Nt,dt){ae=Oe?(Oe=!1,st):de(ae,st,Nt,dt)}),ae}function L0(J,de){var ae=J.length;for(J.sort(de);ae--;)J[ae]=J[ae].value;return J}function Ys(J,de){for(var ae,Oe=-1,qe=J.length;++Oe<qe;){var st=de(J[Oe]);st!==n&&(ae=ae===n?st:ae+st)}return ae}function Xs(J,de){for(var ae=-1,Oe=Array(J);++ae<J;)Oe[ae]=de(ae);return Oe}function D0(J,de){return bt(de,function(ae){return[ae,J[ae]]})}function of(J){return J&&J.slice(0,af(J)+1).replace(Br,"")}function fn(J){return function(de){return J(de)}}function xs(J,de){return bt(de,function(ae){return J[ae]})}function Wr(J,de){return J.has(de)}function lf(J,de){for(var ae=-1,Oe=J.length;++ae<Oe&&$i(de,J[ae],0)>-1;);return ae}function sf(J,de){for(var ae=J.length;ae--&&$i(de,J[ae],0)>-1;);return ae}function R0(J,de){for(var ae=J.length,Oe=0;ae--;)J[ae]===de&&++Oe;return Oe}var H0=Ws(b0),z0=Ws(p0);function B0(J){return"\\"+k0[J]}function W0(J,de){return J==null?n:J[de]}function er(J){return m0.test(J)}function Y0(J){return _0.test(J)}function X0(J){for(var de,ae=[];!(de=J.next()).done;)ae.push(de.value);return ae}function Fs(J){var de=-1,ae=Array(J.size);return J.forEach(function(Oe,qe){ae[++de]=[qe,Oe]}),ae}function uf(J,de){return function(ae){return J(de(ae))}}function wi(J,de){for(var ae=-1,Oe=J.length,qe=0,st=[];++ae<Oe;){var Nt=J[ae];(Nt===de||Nt===h)&&(J[ae]=h,st[qe++]=ae)}return st}function Bo(J){var de=-1,ae=Array(J.size);return J.forEach(function(Oe){ae[++de]=Oe}),ae}function x0(J){var de=-1,ae=Array(J.size);return J.forEach(function(Oe){ae[++de]=[Oe,Oe]}),ae}function F0(J,de,ae){for(var Oe=ae-1,qe=J.length;++Oe<qe;)if(J[Oe]===de)return Oe;return-1}function V0(J,de,ae){for(var Oe=ae+1;Oe--;)if(J[Oe]===de)return Oe;return Oe}function tr(J){return er(J)?K0(J):P0(J)}function Pn(J){return er(J)?Z0(J):I0(J)}function af(J){for(var de=J.length;de--&&cs.test(J.charAt(de)););return de}var U0=Ws(v0);function K0(J){for(var de=Ns.lastIndex=0;Ns.test(J);)++de;return de}function Z0(J){return J.match(Ns)||[]}function G0(J){return J.match(g0)||[]}var q0=function J(de){de=de==null?Wt:nr.defaults(Wt.Object(),de,nr.pick(Wt,y0));var ae=de.Array,Oe=de.Date,qe=de.Error,st=de.Function,Nt=de.Math,dt=de.Object,Vs=de.RegExp,J0=de.String,vn=de.TypeError,Wo=ae.prototype,Q0=st.prototype,ir=dt.prototype,Yo=de["__core-js_shared__"],Xo=Q0.toString,ft=ir.hasOwnProperty,j0=0,ff=function(){var r=/[^.]+$/.exec(Yo&&Yo.keys&&Yo.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),xo=ir.toString,$0=Xo.call(dt),eg=Wt._,tg=Vs("^"+Xo.call(ft).replace(zr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fo=Ka?de.Buffer:n,bi=de.Symbol,Vo=de.Uint8Array,cf=Fo?Fo.allocUnsafe:n,Uo=uf(dt.getPrototypeOf,dt),df=dt.create,hf=ir.propertyIsEnumerable,Ko=Wo.splice,gf=bi?bi.isConcatSpreadable:n,Yr=bi?bi.iterator:n,Oi=bi?bi.toStringTag:n,Zo=function(){try{var r=Hi(dt,"defineProperty");return r({},"",{}),r}catch{}}(),ng=de.clearTimeout!==Wt.clearTimeout&&de.clearTimeout,ig=Oe&&Oe.now!==Wt.Date.now&&Oe.now,rg=de.setTimeout!==Wt.setTimeout&&de.setTimeout,Go=Nt.ceil,qo=Nt.floor,Us=dt.getOwnPropertySymbols,og=Fo?Fo.isBuffer:n,mf=de.isFinite,lg=Wo.join,sg=uf(dt.keys,dt),Lt=Nt.max,Gt=Nt.min,ug=Oe.now,ag=de.parseInt,_f=Nt.random,fg=Wo.reverse,Ks=Hi(de,"DataView"),Xr=Hi(de,"Map"),Zs=Hi(de,"Promise"),rr=Hi(de,"Set"),xr=Hi(de,"WeakMap"),Fr=Hi(dt,"create"),Jo=xr&&new xr,or={},cg=zi(Ks),dg=zi(Xr),hg=zi(Zs),gg=zi(rr),mg=zi(xr),Qo=bi?bi.prototype:n,Vr=Qo?Qo.valueOf:n,yf=Qo?Qo.toString:n;function T(r){if(kt(r)&&!Je(r)&&!(r instanceof tt)){if(r instanceof kn)return r;if(ft.call(r,"__wrapped__"))return wc(r)}return new kn(r)}var lr=function(){function r(){}return function(l){if(!pt(l))return{};if(df)return df(l);r.prototype=l;var c=new r;return r.prototype=n,c}}();function jo(){}function kn(r,l){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}T.templateSettings={escape:gi,evaluate:mi,interpolate:No,variable:"",imports:{_:T}},T.prototype=jo.prototype,T.prototype.constructor=T,kn.prototype=lr(jo.prototype),kn.prototype.constructor=kn;function tt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function _g(){var r=new tt(this.__wrapped__);return r.__actions__=tn(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=tn(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=tn(this.__views__),r}function yg(){if(this.__filtered__){var r=new tt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function wg(){var r=this.__wrapped__.value(),l=this.__dir__,c=Je(r),_=l<0,b=c?r.length:0,L=Im(0,b,this.__views__),x=L.start,U=L.end,j=U-x,ge=_?U:x-1,me=this.__iteratees__,we=me.length,Se=0,Re=Gt(j,this.__takeCount__);if(!c||!_&&b==j&&Re==j)return Xf(r,this.__actions__);var Fe=[];e:for(;j--&&Se<Re;){ge+=l;for(var je=-1,Ve=r[ge];++je<we;){var et=me[je],rt=et.iteratee,hn=et.type,jt=rt(Ve);if(hn==X)Ve=jt;else if(!jt){if(hn==w)continue e;break e}}Fe[Se++]=Ve}return Fe}tt.prototype=lr(jo.prototype),tt.prototype.constructor=tt;function Ni(r){var l=-1,c=r==null?0:r.length;for(this.clear();++l<c;){var _=r[l];this.set(_[0],_[1])}}function bg(){this.__data__=Fr?Fr(null):{},this.size=0}function pg(r){var l=this.has(r)&&delete this.__data__[r];return this.size-=l?1:0,l}function vg(r){var l=this.__data__;if(Fr){var c=l[r];return c===f?n:c}return ft.call(l,r)?l[r]:n}function kg(r){var l=this.__data__;return Fr?l[r]!==n:ft.call(l,r)}function Cg(r,l){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Fr&&l===n?f:l,this}Ni.prototype.clear=bg,Ni.prototype.delete=pg,Ni.prototype.get=vg,Ni.prototype.has=kg,Ni.prototype.set=Cg;function jn(r){var l=-1,c=r==null?0:r.length;for(this.clear();++l<c;){var _=r[l];this.set(_[0],_[1])}}function Eg(){this.__data__=[],this.size=0}function Sg(r){var l=this.__data__,c=$o(l,r);if(c<0)return!1;var _=l.length-1;return c==_?l.pop():Ko.call(l,c,1),--this.size,!0}function Ag(r){var l=this.__data__,c=$o(l,r);return c<0?n:l[c][1]}function Mg(r){return $o(this.__data__,r)>-1}function Tg(r,l){var c=this.__data__,_=$o(c,r);return _<0?(++this.size,c.push([r,l])):c[_][1]=l,this}jn.prototype.clear=Eg,jn.prototype.delete=Sg,jn.prototype.get=Ag,jn.prototype.has=Mg,jn.prototype.set=Tg;function $n(r){var l=-1,c=r==null?0:r.length;for(this.clear();++l<c;){var _=r[l];this.set(_[0],_[1])}}function Pg(){this.size=0,this.__data__={hash:new Ni,map:new(Xr||jn),string:new Ni}}function Ig(r){var l=cl(this,r).delete(r);return this.size-=l?1:0,l}function Og(r){return cl(this,r).get(r)}function Ng(r){return cl(this,r).has(r)}function Lg(r,l){var c=cl(this,r),_=c.size;return c.set(r,l),this.size+=c.size==_?0:1,this}$n.prototype.clear=Pg,$n.prototype.delete=Ig,$n.prototype.get=Og,$n.prototype.has=Ng,$n.prototype.set=Lg;function Li(r){var l=-1,c=r==null?0:r.length;for(this.__data__=new $n;++l<c;)this.add(r[l])}function Dg(r){return this.__data__.set(r,f),this}function Rg(r){return this.__data__.has(r)}Li.prototype.add=Li.prototype.push=Dg,Li.prototype.has=Rg;function In(r){var l=this.__data__=new jn(r);this.size=l.size}function Hg(){this.__data__=new jn,this.size=0}function zg(r){var l=this.__data__,c=l.delete(r);return this.size=l.size,c}function Bg(r){return this.__data__.get(r)}function Wg(r){return this.__data__.has(r)}function Yg(r,l){var c=this.__data__;if(c instanceof jn){var _=c.__data__;if(!Xr||_.length<o-1)return _.push([r,l]),this.size=++c.size,this;c=this.__data__=new $n(_)}return c.set(r,l),this.size=c.size,this}In.prototype.clear=Hg,In.prototype.delete=zg,In.prototype.get=Bg,In.prototype.has=Wg,In.prototype.set=Yg;function wf(r,l){var c=Je(r),_=!c&&Bi(r),b=!c&&!_&&Ei(r),L=!c&&!_&&!b&&fr(r),x=c||_||b||L,U=x?Xs(r.length,J0):[],j=U.length;for(var ge in r)(l||ft.call(r,ge))&&!(x&&(ge=="length"||b&&(ge=="offset"||ge=="parent")||L&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||ii(ge,j)))&&U.push(ge);return U}function bf(r){var l=r.length;return l?r[ru(0,l-1)]:n}function Xg(r,l){return dl(tn(r),Di(l,0,r.length))}function xg(r){return dl(tn(r))}function Gs(r,l,c){(c!==n&&!On(r[l],c)||c===n&&!(l in r))&&ei(r,l,c)}function Ur(r,l,c){var _=r[l];(!(ft.call(r,l)&&On(_,c))||c===n&&!(l in r))&&ei(r,l,c)}function $o(r,l){for(var c=r.length;c--;)if(On(r[c][0],l))return c;return-1}function Fg(r,l,c,_){return pi(r,function(b,L,x){l(_,b,c(b),x)}),_}function pf(r,l){return r&&Fn(l,Rt(l),r)}function Vg(r,l){return r&&Fn(l,rn(l),r)}function ei(r,l,c){l=="__proto__"&&Zo?Zo(r,l,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[l]=c}function qs(r,l){for(var c=-1,_=l.length,b=ae(_),L=r==null;++c<_;)b[c]=L?n:Pu(r,l[c]);return b}function Di(r,l,c){return r===r&&(c!==n&&(r=r<=c?r:c),l!==n&&(r=r>=l?r:l)),r}function Cn(r,l,c,_,b,L){var x,U=l&g,j=l&m,ge=l&y;if(c&&(x=b?c(r,_,b,L):c(r)),x!==n)return x;if(!pt(r))return r;var me=Je(r);if(me){if(x=Nm(r),!U)return tn(r,x)}else{var we=qt(r),Se=we==ee||we==ne;if(Ei(r))return Vf(r,U);if(we==Ze||we==ke||Se&&!b){if(x=j||Se?{}:ac(r),!U)return j?vm(r,Vg(x,r)):pm(r,pf(x,r))}else{if(!ht[we])return b?r:{};x=Lm(r,we,U)}}L||(L=new In);var Re=L.get(r);if(Re)return Re;L.set(r,x),Bc(r)?r.forEach(function(Ve){x.add(Cn(Ve,l,c,Ve,r,L))}):Hc(r)&&r.forEach(function(Ve,et){x.set(et,Cn(Ve,l,c,et,r,L))});var Fe=ge?j?mu:gu:j?rn:Rt,je=me?n:Fe(r);return pn(je||r,function(Ve,et){je&&(et=Ve,Ve=r[et]),Ur(x,et,Cn(Ve,l,c,et,r,L))}),x}function Ug(r){var l=Rt(r);return function(c){return vf(c,r,l)}}function vf(r,l,c){var _=c.length;if(r==null)return!_;for(r=dt(r);_--;){var b=c[_],L=l[b],x=r[b];if(x===n&&!(b in r)||!L(x))return!1}return!0}function kf(r,l,c){if(typeof r!="function")throw new vn(a);return jr(function(){r.apply(n,c)},l)}function Kr(r,l,c,_){var b=-1,L=Ho,x=!0,U=r.length,j=[],ge=l.length;if(!U)return j;c&&(l=bt(l,fn(c))),_?(L=Rs,x=!1):l.length>=o&&(L=Wr,x=!1,l=new Li(l));e:for(;++b<U;){var me=r[b],we=c==null?me:c(me);if(me=_||me!==0?me:0,x&&we===we){for(var Se=ge;Se--;)if(l[Se]===we)continue e;j.push(me)}else L(l,we,_)||j.push(me)}return j}var pi=qf(xn),Cf=qf(Qs,!0);function Kg(r,l){var c=!0;return pi(r,function(_,b,L){return c=!!l(_,b,L),c}),c}function el(r,l,c){for(var _=-1,b=r.length;++_<b;){var L=r[_],x=l(L);if(x!=null&&(U===n?x===x&&!dn(x):c(x,U)))var U=x,j=L}return j}function Zg(r,l,c,_){var b=r.length;for(c=Qe(c),c<0&&(c=-c>b?0:b+c),_=_===n||_>b?b:Qe(_),_<0&&(_+=b),_=c>_?0:Yc(_);c<_;)r[c++]=l;return r}function Ef(r,l){var c=[];return pi(r,function(_,b,L){l(_,b,L)&&c.push(_)}),c}function Yt(r,l,c,_,b){var L=-1,x=r.length;for(c||(c=Rm),b||(b=[]);++L<x;){var U=r[L];l>0&&c(U)?l>1?Yt(U,l-1,c,_,b):yi(b,U):_||(b[b.length]=U)}return b}var Js=Jf(),Sf=Jf(!0);function xn(r,l){return r&&Js(r,l,Rt)}function Qs(r,l){return r&&Sf(r,l,Rt)}function tl(r,l){return _i(l,function(c){return ri(r[c])})}function Ri(r,l){l=ki(l,r);for(var c=0,_=l.length;r!=null&&c<_;)r=r[Vn(l[c++])];return c&&c==_?r:n}function Af(r,l,c){var _=l(r);return Je(r)?_:yi(_,c(r))}function Jt(r){return r==null?r===n?en:Le:Oi&&Oi in dt(r)?Pm(r):xm(r)}function js(r,l){return r>l}function Gg(r,l){return r!=null&&ft.call(r,l)}function qg(r,l){return r!=null&&l in dt(r)}function Jg(r,l,c){return r>=Gt(l,c)&&r<Lt(l,c)}function $s(r,l,c){for(var _=c?Rs:Ho,b=r[0].length,L=r.length,x=L,U=ae(L),j=1/0,ge=[];x--;){var me=r[x];x&&l&&(me=bt(me,fn(l))),j=Gt(me.length,j),U[x]=!c&&(l||b>=120&&me.length>=120)?new Li(x&&me):n}me=r[0];var we=-1,Se=U[0];e:for(;++we<b&&ge.length<j;){var Re=me[we],Fe=l?l(Re):Re;if(Re=c||Re!==0?Re:0,!(Se?Wr(Se,Fe):_(ge,Fe,c))){for(x=L;--x;){var je=U[x];if(!(je?Wr(je,Fe):_(r[x],Fe,c)))continue e}Se&&Se.push(Fe),ge.push(Re)}}return ge}function Qg(r,l,c,_){return xn(r,function(b,L,x){l(_,c(b),L,x)}),_}function Zr(r,l,c){l=ki(l,r),r=hc(r,l);var _=r==null?r:r[Vn(Sn(l))];return _==null?n:an(_,r,c)}function Mf(r){return kt(r)&&Jt(r)==ke}function jg(r){return kt(r)&&Jt(r)==Ht}function $g(r){return kt(r)&&Jt(r)==$}function Gr(r,l,c,_,b){return r===l?!0:r==null||l==null||!kt(r)&&!kt(l)?r!==r&&l!==l:em(r,l,c,_,Gr,b)}function em(r,l,c,_,b,L){var x=Je(r),U=Je(l),j=x?Ce:qt(r),ge=U?Ce:qt(l);j=j==ke?Ze:j,ge=ge==ke?Ze:ge;var me=j==Ze,we=ge==Ze,Se=j==ge;if(Se&&Ei(r)){if(!Ei(l))return!1;x=!0,me=!1}if(Se&&!me)return L||(L=new In),x||fr(r)?lc(r,l,c,_,b,L):Mm(r,l,j,c,_,b,L);if(!(c&v)){var Re=me&&ft.call(r,"__wrapped__"),Fe=we&&ft.call(l,"__wrapped__");if(Re||Fe){var je=Re?r.value():r,Ve=Fe?l.value():l;return L||(L=new In),b(je,Ve,c,_,L)}}return Se?(L||(L=new In),Tm(r,l,c,_,b,L)):!1}function tm(r){return kt(r)&&qt(r)==K}function eu(r,l,c,_){var b=c.length,L=b,x=!_;if(r==null)return!L;for(r=dt(r);b--;){var U=c[b];if(x&&U[2]?U[1]!==r[U[0]]:!(U[0]in r))return!1}for(;++b<L;){U=c[b];var j=U[0],ge=r[j],me=U[1];if(x&&U[2]){if(ge===n&&!(j in r))return!1}else{var we=new In;if(_)var Se=_(ge,me,j,r,l,we);if(!(Se===n?Gr(me,ge,v|C,_,we):Se))return!1}}return!0}function Tf(r){if(!pt(r)||zm(r))return!1;var l=ri(r)?tg:vs;return l.test(zi(r))}function nm(r){return kt(r)&&Jt(r)==it}function im(r){return kt(r)&&qt(r)==yt}function rm(r){return kt(r)&&wl(r.length)&&!!_t[Jt(r)]}function Pf(r){return typeof r=="function"?r:r==null?on:typeof r=="object"?Je(r)?Nf(r[0],r[1]):Of(r):Qc(r)}function tu(r){if(!Qr(r))return sg(r);var l=[];for(var c in dt(r))ft.call(r,c)&&c!="constructor"&&l.push(c);return l}function om(r){if(!pt(r))return Xm(r);var l=Qr(r),c=[];for(var _ in r)_=="constructor"&&(l||!ft.call(r,_))||c.push(_);return c}function nu(r,l){return r<l}function If(r,l){var c=-1,_=nn(r)?ae(r.length):[];return pi(r,function(b,L,x){_[++c]=l(b,L,x)}),_}function Of(r){var l=yu(r);return l.length==1&&l[0][2]?cc(l[0][0],l[0][1]):function(c){return c===r||eu(c,r,l)}}function Nf(r,l){return bu(r)&&fc(l)?cc(Vn(r),l):function(c){var _=Pu(c,r);return _===n&&_===l?Iu(c,r):Gr(l,_,v|C)}}function nl(r,l,c,_,b){r!==l&&Js(l,function(L,x){if(b||(b=new In),pt(L))lm(r,l,x,c,nl,_,b);else{var U=_?_(vu(r,x),L,x+"",r,l,b):n;U===n&&(U=L),Gs(r,x,U)}},rn)}function lm(r,l,c,_,b,L,x){var U=vu(r,c),j=vu(l,c),ge=x.get(j);if(ge){Gs(r,c,ge);return}var me=L?L(U,j,c+"",r,l,x):n,we=me===n;if(we){var Se=Je(j),Re=!Se&&Ei(j),Fe=!Se&&!Re&&fr(j);me=j,Se||Re||Fe?Je(U)?me=U:Mt(U)?me=tn(U):Re?(we=!1,me=Vf(j,!0)):Fe?(we=!1,me=Uf(j,!0)):me=[]:$r(j)||Bi(j)?(me=U,Bi(U)?me=Xc(U):(!pt(U)||ri(U))&&(me=ac(j))):we=!1}we&&(x.set(j,me),b(me,j,_,L,x),x.delete(j)),Gs(r,c,me)}function Lf(r,l){var c=r.length;if(c)return l+=l<0?c:0,ii(l,c)?r[l]:n}function Df(r,l,c){l.length?l=bt(l,function(L){return Je(L)?function(x){return Ri(x,L.length===1?L[0]:L)}:L}):l=[on];var _=-1;l=bt(l,fn(xe()));var b=If(r,function(L,x,U){var j=bt(l,function(ge){return ge(L)});return{criteria:j,index:++_,value:L}});return L0(b,function(L,x){return bm(L,x,c)})}function sm(r,l){return Rf(r,l,function(c,_){return Iu(r,_)})}function Rf(r,l,c){for(var _=-1,b=l.length,L={};++_<b;){var x=l[_],U=Ri(r,x);c(U,x)&&qr(L,ki(x,r),U)}return L}function um(r){return function(l){return Ri(l,r)}}function iu(r,l,c,_){var b=_?N0:$i,L=-1,x=l.length,U=r;for(r===l&&(l=tn(l)),c&&(U=bt(r,fn(c)));++L<x;)for(var j=0,ge=l[L],me=c?c(ge):ge;(j=b(U,me,j,_))>-1;)U!==r&&Ko.call(U,j,1),Ko.call(r,j,1);return r}function Hf(r,l){for(var c=r?l.length:0,_=c-1;c--;){var b=l[c];if(c==_||b!==L){var L=b;ii(b)?Ko.call(r,b,1):su(r,b)}}return r}function ru(r,l){return r+qo(_f()*(l-r+1))}function am(r,l,c,_){for(var b=-1,L=Lt(Go((l-r)/(c||1)),0),x=ae(L);L--;)x[_?L:++b]=r,r+=c;return x}function ou(r,l){var c="";if(!r||l<1||l>G)return c;do l%2&&(c+=r),l=qo(l/2),l&&(r+=r);while(l);return c}function $e(r,l){return ku(dc(r,l,on),r+"")}function fm(r){return bf(cr(r))}function cm(r,l){var c=cr(r);return dl(c,Di(l,0,c.length))}function qr(r,l,c,_){if(!pt(r))return r;l=ki(l,r);for(var b=-1,L=l.length,x=L-1,U=r;U!=null&&++b<L;){var j=Vn(l[b]),ge=c;if(j==="__proto__"||j==="constructor"||j==="prototype")return r;if(b!=x){var me=U[j];ge=_?_(me,j,U):n,ge===n&&(ge=pt(me)?me:ii(l[b+1])?[]:{})}Ur(U,j,ge),U=U[j]}return r}var zf=Jo?function(r,l){return Jo.set(r,l),r}:on,dm=Zo?function(r,l){return Zo(r,"toString",{configurable:!0,enumerable:!1,value:Nu(l),writable:!0})}:on;function hm(r){return dl(cr(r))}function En(r,l,c){var _=-1,b=r.length;l<0&&(l=-l>b?0:b+l),c=c>b?b:c,c<0&&(c+=b),b=l>c?0:c-l>>>0,l>>>=0;for(var L=ae(b);++_<b;)L[_]=r[_+l];return L}function gm(r,l){var c;return pi(r,function(_,b,L){return c=l(_,b,L),!c}),!!c}function il(r,l,c){var _=0,b=r==null?_:r.length;if(typeof l=="number"&&l===l&&b<=ve){for(;_<b;){var L=_+b>>>1,x=r[L];x!==null&&!dn(x)&&(c?x<=l:x<l)?_=L+1:b=L}return b}return lu(r,l,on,c)}function lu(r,l,c,_){var b=0,L=r==null?0:r.length;if(L===0)return 0;l=c(l);for(var x=l!==l,U=l===null,j=dn(l),ge=l===n;b<L;){var me=qo((b+L)/2),we=c(r[me]),Se=we!==n,Re=we===null,Fe=we===we,je=dn(we);if(x)var Ve=_||Fe;else ge?Ve=Fe&&(_||Se):U?Ve=Fe&&Se&&(_||!Re):j?Ve=Fe&&Se&&!Re&&(_||!je):Re||je?Ve=!1:Ve=_?we<=l:we<l;Ve?b=me+1:L=me}return Gt(L,pe)}function Bf(r,l){for(var c=-1,_=r.length,b=0,L=[];++c<_;){var x=r[c],U=l?l(x):x;if(!c||!On(U,j)){var j=U;L[b++]=x===0?0:x}}return L}function Wf(r){return typeof r=="number"?r:dn(r)?ie:+r}function cn(r){if(typeof r=="string")return r;if(Je(r))return bt(r,cn)+"";if(dn(r))return yf?yf.call(r):"";var l=r+"";return l=="0"&&1/r==-1/0?"-0":l}function vi(r,l,c){var _=-1,b=Ho,L=r.length,x=!0,U=[],j=U;if(c)x=!1,b=Rs;else if(L>=o){var ge=l?null:Sm(r);if(ge)return Bo(ge);x=!1,b=Wr,j=new Li}else j=l?[]:U;e:for(;++_<L;){var me=r[_],we=l?l(me):me;if(me=c||me!==0?me:0,x&&we===we){for(var Se=j.length;Se--;)if(j[Se]===we)continue e;l&&j.push(we),U.push(me)}else b(j,we,c)||(j!==U&&j.push(we),U.push(me))}return U}function su(r,l){return l=ki(l,r),r=hc(r,l),r==null||delete r[Vn(Sn(l))]}function Yf(r,l,c,_){return qr(r,l,c(Ri(r,l)),_)}function rl(r,l,c,_){for(var b=r.length,L=_?b:-1;(_?L--:++L<b)&&l(r[L],L,r););return c?En(r,_?0:L,_?L+1:b):En(r,_?L+1:0,_?b:L)}function Xf(r,l){var c=r;return c instanceof tt&&(c=c.value()),Hs(l,function(_,b){return b.func.apply(b.thisArg,yi([_],b.args))},c)}function uu(r,l,c){var _=r.length;if(_<2)return _?vi(r[0]):[];for(var b=-1,L=ae(_);++b<_;)for(var x=r[b],U=-1;++U<_;)U!=b&&(L[b]=Kr(L[b]||x,r[U],l,c));return vi(Yt(L,1),l,c)}function xf(r,l,c){for(var _=-1,b=r.length,L=l.length,x={};++_<b;){var U=_<L?l[_]:n;c(x,r[_],U)}return x}function au(r){return Mt(r)?r:[]}function fu(r){return typeof r=="function"?r:on}function ki(r,l){return Je(r)?r:bu(r,l)?[r]:yc(at(r))}var mm=$e;function Ci(r,l,c){var _=r.length;return c=c===n?_:c,!l&&c>=_?r:En(r,l,c)}var Ff=ng||function(r){return Wt.clearTimeout(r)};function Vf(r,l){if(l)return r.slice();var c=r.length,_=cf?cf(c):new r.constructor(c);return r.copy(_),_}function cu(r){var l=new r.constructor(r.byteLength);return new Vo(l).set(new Vo(r)),l}function _m(r,l){var c=l?cu(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function ym(r){var l=new r.constructor(r.source,Do.exec(r));return l.lastIndex=r.lastIndex,l}function wm(r){return Vr?dt(Vr.call(r)):{}}function Uf(r,l){var c=l?cu(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function Kf(r,l){if(r!==l){var c=r!==n,_=r===null,b=r===r,L=dn(r),x=l!==n,U=l===null,j=l===l,ge=dn(l);if(!U&&!ge&&!L&&r>l||L&&x&&j&&!U&&!ge||_&&x&&j||!c&&j||!b)return 1;if(!_&&!L&&!ge&&r<l||ge&&c&&b&&!_&&!L||U&&c&&b||!x&&b||!j)return-1}return 0}function bm(r,l,c){for(var _=-1,b=r.criteria,L=l.criteria,x=b.length,U=c.length;++_<x;){var j=Kf(b[_],L[_]);if(j){if(_>=U)return j;var ge=c[_];return j*(ge=="desc"?-1:1)}}return r.index-l.index}function Zf(r,l,c,_){for(var b=-1,L=r.length,x=c.length,U=-1,j=l.length,ge=Lt(L-x,0),me=ae(j+ge),we=!_;++U<j;)me[U]=l[U];for(;++b<x;)(we||b<L)&&(me[c[b]]=r[b]);for(;ge--;)me[U++]=r[b++];return me}function Gf(r,l,c,_){for(var b=-1,L=r.length,x=-1,U=c.length,j=-1,ge=l.length,me=Lt(L-U,0),we=ae(me+ge),Se=!_;++b<me;)we[b]=r[b];for(var Re=b;++j<ge;)we[Re+j]=l[j];for(;++x<U;)(Se||b<L)&&(we[Re+c[x]]=r[b++]);return we}function tn(r,l){var c=-1,_=r.length;for(l||(l=ae(_));++c<_;)l[c]=r[c];return l}function Fn(r,l,c,_){var b=!c;c||(c={});for(var L=-1,x=l.length;++L<x;){var U=l[L],j=_?_(c[U],r[U],U,c,r):n;j===n&&(j=r[U]),b?ei(c,U,j):Ur(c,U,j)}return c}function pm(r,l){return Fn(r,wu(r),l)}function vm(r,l){return Fn(r,sc(r),l)}function ol(r,l){return function(c,_){var b=Je(c)?A0:Fg,L=l?l():{};return b(c,r,xe(_,2),L)}}function sr(r){return $e(function(l,c){var _=-1,b=c.length,L=b>1?c[b-1]:n,x=b>2?c[2]:n;for(L=r.length>3&&typeof L=="function"?(b--,L):n,x&&Qt(c[0],c[1],x)&&(L=b<3?n:L,b=1),l=dt(l);++_<b;){var U=c[_];U&&r(l,U,_,L)}return l})}function qf(r,l){return function(c,_){if(c==null)return c;if(!nn(c))return r(c,_);for(var b=c.length,L=l?b:-1,x=dt(c);(l?L--:++L<b)&&_(x[L],L,x)!==!1;);return c}}function Jf(r){return function(l,c,_){for(var b=-1,L=dt(l),x=_(l),U=x.length;U--;){var j=x[r?U:++b];if(c(L[j],j,L)===!1)break}return l}}function km(r,l,c){var _=l&O,b=Jr(r);function L(){var x=this&&this!==Wt&&this instanceof L?b:r;return x.apply(_?c:this,arguments)}return L}function Qf(r){return function(l){l=at(l);var c=er(l)?Pn(l):n,_=c?c[0]:l.charAt(0),b=c?Ci(c,1).join(""):l.slice(1);return _[r]()+b}}function ur(r){return function(l){return Hs(qc(Gc(l).replace(d0,"")),r,"")}}function Jr(r){return function(){var l=arguments;switch(l.length){case 0:return new r;case 1:return new r(l[0]);case 2:return new r(l[0],l[1]);case 3:return new r(l[0],l[1],l[2]);case 4:return new r(l[0],l[1],l[2],l[3]);case 5:return new r(l[0],l[1],l[2],l[3],l[4]);case 6:return new r(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new r(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var c=lr(r.prototype),_=r.apply(c,l);return pt(_)?_:c}}function Cm(r,l,c){var _=Jr(r);function b(){for(var L=arguments.length,x=ae(L),U=L,j=ar(b);U--;)x[U]=arguments[U];var ge=L<3&&x[0]!==j&&x[L-1]!==j?[]:wi(x,j);if(L-=ge.length,L<c)return nc(r,l,ll,b.placeholder,n,x,ge,n,n,c-L);var me=this&&this!==Wt&&this instanceof b?_:r;return an(me,this,x)}return b}function jf(r){return function(l,c,_){var b=dt(l);if(!nn(l)){var L=xe(c,3);l=Rt(l),c=function(U){return L(b[U],U,b)}}var x=r(l,c,_);return x>-1?b[L?l[x]:x]:n}}function $f(r){return ni(function(l){var c=l.length,_=c,b=kn.prototype.thru;for(r&&l.reverse();_--;){var L=l[_];if(typeof L!="function")throw new vn(a);if(b&&!x&&fl(L)=="wrapper")var x=new kn([],!0)}for(_=x?_:c;++_<c;){L=l[_];var U=fl(L),j=U=="wrapper"?_u(L):n;j&&pu(j[0])&&j[1]==(p|M|A|N)&&!j[4].length&&j[9]==1?x=x[fl(j[0])].apply(x,j[3]):x=L.length==1&&pu(L)?x[U]():x.thru(L)}return function(){var ge=arguments,me=ge[0];if(x&&ge.length==1&&Je(me))return x.plant(me).value();for(var we=0,Se=c?l[we].apply(this,ge):me;++we<c;)Se=l[we].call(this,Se);return Se}})}function ll(r,l,c,_,b,L,x,U,j,ge){var me=l&p,we=l&O,Se=l&k,Re=l&(M|B),Fe=l&E,je=Se?n:Jr(r);function Ve(){for(var et=arguments.length,rt=ae(et),hn=et;hn--;)rt[hn]=arguments[hn];if(Re)var jt=ar(Ve),gn=R0(rt,jt);if(_&&(rt=Zf(rt,_,b,Re)),L&&(rt=Gf(rt,L,x,Re)),et-=gn,Re&&et<ge){var Tt=wi(rt,jt);return nc(r,l,ll,Ve.placeholder,c,rt,Tt,U,j,ge-et)}var Nn=we?c:this,li=Se?Nn[r]:r;return et=rt.length,U?rt=Fm(rt,U):Fe&&et>1&&rt.reverse(),me&&j<et&&(rt.length=j),this&&this!==Wt&&this instanceof Ve&&(li=je||Jr(li)),li.apply(Nn,rt)}return Ve}function ec(r,l){return function(c,_){return Qg(c,r,l(_),{})}}function sl(r,l){return function(c,_){var b;if(c===n&&_===n)return l;if(c!==n&&(b=c),_!==n){if(b===n)return _;typeof c=="string"||typeof _=="string"?(c=cn(c),_=cn(_)):(c=Wf(c),_=Wf(_)),b=r(c,_)}return b}}function du(r){return ni(function(l){return l=bt(l,fn(xe())),$e(function(c){var _=this;return r(l,function(b){return an(b,_,c)})})})}function ul(r,l){l=l===n?" ":cn(l);var c=l.length;if(c<2)return c?ou(l,r):l;var _=ou(l,Go(r/tr(l)));return er(l)?Ci(Pn(_),0,r).join(""):_.slice(0,r)}function Em(r,l,c,_){var b=l&O,L=Jr(r);function x(){for(var U=-1,j=arguments.length,ge=-1,me=_.length,we=ae(me+j),Se=this&&this!==Wt&&this instanceof x?L:r;++ge<me;)we[ge]=_[ge];for(;j--;)we[ge++]=arguments[++U];return an(Se,b?c:this,we)}return x}function tc(r){return function(l,c,_){return _&&typeof _!="number"&&Qt(l,c,_)&&(c=_=n),l=oi(l),c===n?(c=l,l=0):c=oi(c),_=_===n?l<c?1:-1:oi(_),am(l,c,_,r)}}function al(r){return function(l,c){return typeof l=="string"&&typeof c=="string"||(l=An(l),c=An(c)),r(l,c)}}function nc(r,l,c,_,b,L,x,U,j,ge){var me=l&M,we=me?x:n,Se=me?n:x,Re=me?L:n,Fe=me?n:L;l|=me?A:I,l&=~(me?I:A),l&H||(l&=-4);var je=[r,l,b,Re,we,Fe,Se,U,j,ge],Ve=c.apply(n,je);return pu(r)&&gc(Ve,je),Ve.placeholder=_,mc(Ve,r,l)}function hu(r){var l=Nt[r];return function(c,_){if(c=An(c),_=_==null?0:Gt(Qe(_),292),_&&mf(c)){var b=(at(c)+"e").split("e"),L=l(b[0]+"e"+(+b[1]+_));return b=(at(L)+"e").split("e"),+(b[0]+"e"+(+b[1]-_))}return l(c)}}var Sm=rr&&1/Bo(new rr([,-0]))[1]==V?function(r){return new rr(r)}:Ru;function ic(r){return function(l){var c=qt(l);return c==K?Fs(l):c==yt?x0(l):D0(l,r(l))}}function ti(r,l,c,_,b,L,x,U){var j=l&k;if(!j&&typeof r!="function")throw new vn(a);var ge=_?_.length:0;if(ge||(l&=-97,_=b=n),x=x===n?x:Lt(Qe(x),0),U=U===n?U:Qe(U),ge-=b?b.length:0,l&I){var me=_,we=b;_=b=n}var Se=j?n:_u(r),Re=[r,l,c,_,b,me,we,L,x,U];if(Se&&Ym(Re,Se),r=Re[0],l=Re[1],c=Re[2],_=Re[3],b=Re[4],U=Re[9]=Re[9]===n?j?0:r.length:Lt(Re[9]-ge,0),!U&&l&(M|B)&&(l&=-25),!l||l==O)var Fe=km(r,l,c);else l==M||l==B?Fe=Cm(r,l,U):(l==A||l==(O|A))&&!b.length?Fe=Em(r,l,c,_):Fe=ll.apply(n,Re);var je=Se?zf:gc;return mc(je(Fe,Re),r,l)}function rc(r,l,c,_){return r===n||On(r,ir[c])&&!ft.call(_,c)?l:r}function oc(r,l,c,_,b,L){return pt(r)&&pt(l)&&(L.set(l,r),nl(r,l,n,oc,L),L.delete(l)),r}function Am(r){return $r(r)?n:r}function lc(r,l,c,_,b,L){var x=c&v,U=r.length,j=l.length;if(U!=j&&!(x&&j>U))return!1;var ge=L.get(r),me=L.get(l);if(ge&&me)return ge==l&&me==r;var we=-1,Se=!0,Re=c&C?new Li:n;for(L.set(r,l),L.set(l,r);++we<U;){var Fe=r[we],je=l[we];if(_)var Ve=x?_(je,Fe,we,l,r,L):_(Fe,je,we,r,l,L);if(Ve!==n){if(Ve)continue;Se=!1;break}if(Re){if(!zs(l,function(et,rt){if(!Wr(Re,rt)&&(Fe===et||b(Fe,et,c,_,L)))return Re.push(rt)})){Se=!1;break}}else if(!(Fe===je||b(Fe,je,c,_,L))){Se=!1;break}}return L.delete(r),L.delete(l),Se}function Mm(r,l,c,_,b,L,x){switch(c){case zt:if(r.byteLength!=l.byteLength||r.byteOffset!=l.byteOffset)return!1;r=r.buffer,l=l.buffer;case Ht:return!(r.byteLength!=l.byteLength||!L(new Vo(r),new Vo(l)));case Q:case $:case _e:return On(+r,+l);case F:return r.name==l.name&&r.message==l.message;case it:case Ie:return r==l+"";case K:var U=Fs;case yt:var j=_&v;if(U||(U=Bo),r.size!=l.size&&!j)return!1;var ge=x.get(r);if(ge)return ge==l;_|=C,x.set(r,l);var me=lc(U(r),U(l),_,b,L,x);return x.delete(r),me;case Kt:if(Vr)return Vr.call(r)==Vr.call(l)}return!1}function Tm(r,l,c,_,b,L){var x=c&v,U=gu(r),j=U.length,ge=gu(l),me=ge.length;if(j!=me&&!x)return!1;for(var we=j;we--;){var Se=U[we];if(!(x?Se in l:ft.call(l,Se)))return!1}var Re=L.get(r),Fe=L.get(l);if(Re&&Fe)return Re==l&&Fe==r;var je=!0;L.set(r,l),L.set(l,r);for(var Ve=x;++we<j;){Se=U[we];var et=r[Se],rt=l[Se];if(_)var hn=x?_(rt,et,Se,l,r,L):_(et,rt,Se,r,l,L);if(!(hn===n?et===rt||b(et,rt,c,_,L):hn)){je=!1;break}Ve||(Ve=Se=="constructor")}if(je&&!Ve){var jt=r.constructor,gn=l.constructor;jt!=gn&&"constructor"in r&&"constructor"in l&&!(typeof jt=="function"&&jt instanceof jt&&typeof gn=="function"&&gn instanceof gn)&&(je=!1)}return L.delete(r),L.delete(l),je}function ni(r){return ku(dc(r,n,vc),r+"")}function gu(r){return Af(r,Rt,wu)}function mu(r){return Af(r,rn,sc)}var _u=Jo?function(r){return Jo.get(r)}:Ru;function fl(r){for(var l=r.name+"",c=or[l],_=ft.call(or,l)?c.length:0;_--;){var b=c[_],L=b.func;if(L==null||L==r)return b.name}return l}function ar(r){var l=ft.call(T,"placeholder")?T:r;return l.placeholder}function xe(){var r=T.iteratee||Lu;return r=r===Lu?Pf:r,arguments.length?r(arguments[0],arguments[1]):r}function cl(r,l){var c=r.__data__;return Hm(l)?c[typeof l=="string"?"string":"hash"]:c.map}function yu(r){for(var l=Rt(r),c=l.length;c--;){var _=l[c],b=r[_];l[c]=[_,b,fc(b)]}return l}function Hi(r,l){var c=W0(r,l);return Tf(c)?c:n}function Pm(r){var l=ft.call(r,Oi),c=r[Oi];try{r[Oi]=n;var _=!0}catch{}var b=xo.call(r);return _&&(l?r[Oi]=c:delete r[Oi]),b}var wu=Us?function(r){return r==null?[]:(r=dt(r),_i(Us(r),function(l){return hf.call(r,l)}))}:Hu,sc=Us?function(r){for(var l=[];r;)yi(l,wu(r)),r=Uo(r);return l}:Hu,qt=Jt;(Ks&&qt(new Ks(new ArrayBuffer(1)))!=zt||Xr&&qt(new Xr)!=K||Zs&&qt(Zs.resolve())!=De||rr&&qt(new rr)!=yt||xr&&qt(new xr)!=Ot)&&(qt=function(r){var l=Jt(r),c=l==Ze?r.constructor:n,_=c?zi(c):"";if(_)switch(_){case cg:return zt;case dg:return K;case hg:return De;case gg:return yt;case mg:return Ot}return l});function Im(r,l,c){for(var _=-1,b=c.length;++_<b;){var L=c[_],x=L.size;switch(L.type){case"drop":r+=x;break;case"dropRight":l-=x;break;case"take":l=Gt(l,r+x);break;case"takeRight":r=Lt(r,l-x);break}}return{start:r,end:l}}function Om(r){var l=r.match(hs);return l?l[1].split(gs):[]}function uc(r,l,c){l=ki(l,r);for(var _=-1,b=l.length,L=!1;++_<b;){var x=Vn(l[_]);if(!(L=r!=null&&c(r,x)))break;r=r[x]}return L||++_!=b?L:(b=r==null?0:r.length,!!b&&wl(b)&&ii(x,b)&&(Je(r)||Bi(r)))}function Nm(r){var l=r.length,c=new r.constructor(l);return l&&typeof r[0]=="string"&&ft.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function ac(r){return typeof r.constructor=="function"&&!Qr(r)?lr(Uo(r)):{}}function Lm(r,l,c){var _=r.constructor;switch(l){case Ht:return cu(r);case Q:case $:return new _(+r);case zt:return _m(r,c);case te:case Zt:case wt:case mt:case Bn:case Wn:case Yn:case Xn:case wn:return Uf(r,c);case K:return new _;case _e:case Ie:return new _(r);case it:return ym(r);case yt:return new _;case Kt:return wm(r)}}function Dm(r,l){var c=l.length;if(!c)return r;var _=c-1;return l[_]=(c>1?"& ":"")+l[_],l=l.join(c>2?", ":" "),r.replace(ds,`{
/* [wrapped with `+l+`] */
`)}function Rm(r){return Je(r)||Bi(r)||!!(gf&&r&&r[gf])}function ii(r,l){var c=typeof r;return l=l??G,!!l&&(c=="number"||c!="symbol"&&Cs.test(r))&&r>-1&&r%1==0&&r<l}function Qt(r,l,c){if(!pt(c))return!1;var _=typeof l;return(_=="number"?nn(c)&&ii(l,c.length):_=="string"&&l in c)?On(c[l],r):!1}function bu(r,l){if(Je(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||dn(r)?!0:Lo.test(r)||!Bt.test(r)||l!=null&&r in dt(l)}function Hm(r){var l=typeof r;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?r!=="__proto__":r===null}function pu(r){var l=fl(r),c=T[l];if(typeof c!="function"||!(l in tt.prototype))return!1;if(r===c)return!0;var _=_u(c);return!!_&&r===_[0]}function zm(r){return!!ff&&ff in r}var Bm=Yo?ri:zu;function Qr(r){var l=r&&r.constructor,c=typeof l=="function"&&l.prototype||ir;return r===c}function fc(r){return r===r&&!pt(r)}function cc(r,l){return function(c){return c==null?!1:c[r]===l&&(l!==n||r in dt(c))}}function Wm(r){var l=_l(r,function(_){return c.size===d&&c.clear(),_}),c=l.cache;return l}function Ym(r,l){var c=r[1],_=l[1],b=c|_,L=b<(O|k|p),x=_==p&&c==M||_==p&&c==N&&r[7].length<=l[8]||_==(p|N)&&l[7].length<=l[8]&&c==M;if(!(L||x))return r;_&O&&(r[2]=l[2],b|=c&O?0:H);var U=l[3];if(U){var j=r[3];r[3]=j?Zf(j,U,l[4]):U,r[4]=j?wi(r[3],h):l[4]}return U=l[5],U&&(j=r[5],r[5]=j?Gf(j,U,l[6]):U,r[6]=j?wi(r[5],h):l[6]),U=l[7],U&&(r[7]=U),_&p&&(r[8]=r[8]==null?l[8]:Gt(r[8],l[8])),r[9]==null&&(r[9]=l[9]),r[0]=l[0],r[1]=b,r}function Xm(r){var l=[];if(r!=null)for(var c in dt(r))l.push(c);return l}function xm(r){return xo.call(r)}function dc(r,l,c){return l=Lt(l===n?r.length-1:l,0),function(){for(var _=arguments,b=-1,L=Lt(_.length-l,0),x=ae(L);++b<L;)x[b]=_[l+b];b=-1;for(var U=ae(l+1);++b<l;)U[b]=_[b];return U[l]=c(x),an(r,this,U)}}function hc(r,l){return l.length<2?r:Ri(r,En(l,0,-1))}function Fm(r,l){for(var c=r.length,_=Gt(l.length,c),b=tn(r);_--;){var L=l[_];r[_]=ii(L,c)?b[L]:n}return r}function vu(r,l){if(!(l==="constructor"&&typeof r[l]=="function")&&l!="__proto__")return r[l]}var gc=_c(zf),jr=rg||function(r,l){return Wt.setTimeout(r,l)},ku=_c(dm);function mc(r,l,c){var _=l+"";return ku(r,Dm(_,Vm(Om(_),c)))}function _c(r){var l=0,c=0;return function(){var _=ug(),b=Y-(_-c);if(c=_,b>0){if(++l>=S)return arguments[0]}else l=0;return r.apply(n,arguments)}}function dl(r,l){var c=-1,_=r.length,b=_-1;for(l=l===n?_:l;++c<l;){var L=ru(c,b),x=r[L];r[L]=r[c],r[c]=x}return r.length=l,r}var yc=Wm(function(r){var l=[];return r.charCodeAt(0)===46&&l.push(""),r.replace(Hr,function(c,_,b,L){l.push(b?L.replace(ys,"$1"):_||c)}),l});function Vn(r){if(typeof r=="string"||dn(r))return r;var l=r+"";return l=="0"&&1/r==-1/0?"-0":l}function zi(r){if(r!=null){try{return Xo.call(r)}catch{}try{return r+""}catch{}}return""}function Vm(r,l){return pn(le,function(c){var _="_."+c[0];l&c[1]&&!Ho(r,_)&&r.push(_)}),r.sort()}function wc(r){if(r instanceof tt)return r.clone();var l=new kn(r.__wrapped__,r.__chain__);return l.__actions__=tn(r.__actions__),l.__index__=r.__index__,l.__values__=r.__values__,l}function Um(r,l,c){(c?Qt(r,l,c):l===n)?l=1:l=Lt(Qe(l),0);var _=r==null?0:r.length;if(!_||l<1)return[];for(var b=0,L=0,x=ae(Go(_/l));b<_;)x[L++]=En(r,b,b+=l);return x}function Km(r){for(var l=-1,c=r==null?0:r.length,_=0,b=[];++l<c;){var L=r[l];L&&(b[_++]=L)}return b}function Zm(){var r=arguments.length;if(!r)return[];for(var l=ae(r-1),c=arguments[0],_=r;_--;)l[_-1]=arguments[_];return yi(Je(c)?tn(c):[c],Yt(l,1))}var Gm=$e(function(r,l){return Mt(r)?Kr(r,Yt(l,1,Mt,!0)):[]}),qm=$e(function(r,l){var c=Sn(l);return Mt(c)&&(c=n),Mt(r)?Kr(r,Yt(l,1,Mt,!0),xe(c,2)):[]}),Jm=$e(function(r,l){var c=Sn(l);return Mt(c)&&(c=n),Mt(r)?Kr(r,Yt(l,1,Mt,!0),n,c):[]});function Qm(r,l,c){var _=r==null?0:r.length;return _?(l=c||l===n?1:Qe(l),En(r,l<0?0:l,_)):[]}function jm(r,l,c){var _=r==null?0:r.length;return _?(l=c||l===n?1:Qe(l),l=_-l,En(r,0,l<0?0:l)):[]}function $m(r,l){return r&&r.length?rl(r,xe(l,3),!0,!0):[]}function e2(r,l){return r&&r.length?rl(r,xe(l,3),!0):[]}function t2(r,l,c,_){var b=r==null?0:r.length;return b?(c&&typeof c!="number"&&Qt(r,l,c)&&(c=0,_=b),Zg(r,l,c,_)):[]}function bc(r,l,c){var _=r==null?0:r.length;if(!_)return-1;var b=c==null?0:Qe(c);return b<0&&(b=Lt(_+b,0)),zo(r,xe(l,3),b)}function pc(r,l,c){var _=r==null?0:r.length;if(!_)return-1;var b=_-1;return c!==n&&(b=Qe(c),b=c<0?Lt(_+b,0):Gt(b,_-1)),zo(r,xe(l,3),b,!0)}function vc(r){var l=r==null?0:r.length;return l?Yt(r,1):[]}function n2(r){var l=r==null?0:r.length;return l?Yt(r,V):[]}function i2(r,l){var c=r==null?0:r.length;return c?(l=l===n?1:Qe(l),Yt(r,l)):[]}function r2(r){for(var l=-1,c=r==null?0:r.length,_={};++l<c;){var b=r[l];_[b[0]]=b[1]}return _}function kc(r){return r&&r.length?r[0]:n}function o2(r,l,c){var _=r==null?0:r.length;if(!_)return-1;var b=c==null?0:Qe(c);return b<0&&(b=Lt(_+b,0)),$i(r,l,b)}function l2(r){var l=r==null?0:r.length;return l?En(r,0,-1):[]}var s2=$e(function(r){var l=bt(r,au);return l.length&&l[0]===r[0]?$s(l):[]}),u2=$e(function(r){var l=Sn(r),c=bt(r,au);return l===Sn(c)?l=n:c.pop(),c.length&&c[0]===r[0]?$s(c,xe(l,2)):[]}),a2=$e(function(r){var l=Sn(r),c=bt(r,au);return l=typeof l=="function"?l:n,l&&c.pop(),c.length&&c[0]===r[0]?$s(c,n,l):[]});function f2(r,l){return r==null?"":lg.call(r,l)}function Sn(r){var l=r==null?0:r.length;return l?r[l-1]:n}function c2(r,l,c){var _=r==null?0:r.length;if(!_)return-1;var b=_;return c!==n&&(b=Qe(c),b=b<0?Lt(_+b,0):Gt(b,_-1)),l===l?V0(r,l,b):zo(r,tf,b,!0)}function d2(r,l){return r&&r.length?Lf(r,Qe(l)):n}var h2=$e(Cc);function Cc(r,l){return r&&r.length&&l&&l.length?iu(r,l):r}function g2(r,l,c){return r&&r.length&&l&&l.length?iu(r,l,xe(c,2)):r}function m2(r,l,c){return r&&r.length&&l&&l.length?iu(r,l,n,c):r}var _2=ni(function(r,l){var c=r==null?0:r.length,_=qs(r,l);return Hf(r,bt(l,function(b){return ii(b,c)?+b:b}).sort(Kf)),_});function y2(r,l){var c=[];if(!(r&&r.length))return c;var _=-1,b=[],L=r.length;for(l=xe(l,3);++_<L;){var x=r[_];l(x,_,r)&&(c.push(x),b.push(_))}return Hf(r,b),c}function Cu(r){return r==null?r:fg.call(r)}function w2(r,l,c){var _=r==null?0:r.length;return _?(c&&typeof c!="number"&&Qt(r,l,c)?(l=0,c=_):(l=l==null?0:Qe(l),c=c===n?_:Qe(c)),En(r,l,c)):[]}function b2(r,l){return il(r,l)}function p2(r,l,c){return lu(r,l,xe(c,2))}function v2(r,l){var c=r==null?0:r.length;if(c){var _=il(r,l);if(_<c&&On(r[_],l))return _}return-1}function k2(r,l){return il(r,l,!0)}function C2(r,l,c){return lu(r,l,xe(c,2),!0)}function E2(r,l){var c=r==null?0:r.length;if(c){var _=il(r,l,!0)-1;if(On(r[_],l))return _}return-1}function S2(r){return r&&r.length?Bf(r):[]}function A2(r,l){return r&&r.length?Bf(r,xe(l,2)):[]}function M2(r){var l=r==null?0:r.length;return l?En(r,1,l):[]}function T2(r,l,c){return r&&r.length?(l=c||l===n?1:Qe(l),En(r,0,l<0?0:l)):[]}function P2(r,l,c){var _=r==null?0:r.length;return _?(l=c||l===n?1:Qe(l),l=_-l,En(r,l<0?0:l,_)):[]}function I2(r,l){return r&&r.length?rl(r,xe(l,3),!1,!0):[]}function O2(r,l){return r&&r.length?rl(r,xe(l,3)):[]}var N2=$e(function(r){return vi(Yt(r,1,Mt,!0))}),L2=$e(function(r){var l=Sn(r);return Mt(l)&&(l=n),vi(Yt(r,1,Mt,!0),xe(l,2))}),D2=$e(function(r){var l=Sn(r);return l=typeof l=="function"?l:n,vi(Yt(r,1,Mt,!0),n,l)});function R2(r){return r&&r.length?vi(r):[]}function H2(r,l){return r&&r.length?vi(r,xe(l,2)):[]}function z2(r,l){return l=typeof l=="function"?l:n,r&&r.length?vi(r,n,l):[]}function Eu(r){if(!(r&&r.length))return[];var l=0;return r=_i(r,function(c){if(Mt(c))return l=Lt(c.length,l),!0}),Xs(l,function(c){return bt(r,Bs(c))})}function Ec(r,l){if(!(r&&r.length))return[];var c=Eu(r);return l==null?c:bt(c,function(_){return an(l,n,_)})}var B2=$e(function(r,l){return Mt(r)?Kr(r,l):[]}),W2=$e(function(r){return uu(_i(r,Mt))}),Y2=$e(function(r){var l=Sn(r);return Mt(l)&&(l=n),uu(_i(r,Mt),xe(l,2))}),X2=$e(function(r){var l=Sn(r);return l=typeof l=="function"?l:n,uu(_i(r,Mt),n,l)}),x2=$e(Eu);function F2(r,l){return xf(r||[],l||[],Ur)}function V2(r,l){return xf(r||[],l||[],qr)}var U2=$e(function(r){var l=r.length,c=l>1?r[l-1]:n;return c=typeof c=="function"?(r.pop(),c):n,Ec(r,c)});function Sc(r){var l=T(r);return l.__chain__=!0,l}function K2(r,l){return l(r),r}function hl(r,l){return l(r)}var Z2=ni(function(r){var l=r.length,c=l?r[0]:0,_=this.__wrapped__,b=function(L){return qs(L,r)};return l>1||this.__actions__.length||!(_ instanceof tt)||!ii(c)?this.thru(b):(_=_.slice(c,+c+(l?1:0)),_.__actions__.push({func:hl,args:[b],thisArg:n}),new kn(_,this.__chain__).thru(function(L){return l&&!L.length&&L.push(n),L}))});function G2(){return Sc(this)}function q2(){return new kn(this.value(),this.__chain__)}function J2(){this.__values__===n&&(this.__values__=Wc(this.value()));var r=this.__index__>=this.__values__.length,l=r?n:this.__values__[this.__index__++];return{done:r,value:l}}function Q2(){return this}function j2(r){for(var l,c=this;c instanceof jo;){var _=wc(c);_.__index__=0,_.__values__=n,l?b.__wrapped__=_:l=_;var b=_;c=c.__wrapped__}return b.__wrapped__=r,l}function $2(){var r=this.__wrapped__;if(r instanceof tt){var l=r;return this.__actions__.length&&(l=new tt(this)),l=l.reverse(),l.__actions__.push({func:hl,args:[Cu],thisArg:n}),new kn(l,this.__chain__)}return this.thru(Cu)}function e_(){return Xf(this.__wrapped__,this.__actions__)}var t_=ol(function(r,l,c){ft.call(r,c)?++r[c]:ei(r,c,1)});function n_(r,l,c){var _=Je(r)?$a:Kg;return c&&Qt(r,l,c)&&(l=n),_(r,xe(l,3))}function i_(r,l){var c=Je(r)?_i:Ef;return c(r,xe(l,3))}var r_=jf(bc),o_=jf(pc);function l_(r,l){return Yt(gl(r,l),1)}function s_(r,l){return Yt(gl(r,l),V)}function u_(r,l,c){return c=c===n?1:Qe(c),Yt(gl(r,l),c)}function Ac(r,l){var c=Je(r)?pn:pi;return c(r,xe(l,3))}function Mc(r,l){var c=Je(r)?M0:Cf;return c(r,xe(l,3))}var a_=ol(function(r,l,c){ft.call(r,c)?r[c].push(l):ei(r,c,[l])});function f_(r,l,c,_){r=nn(r)?r:cr(r),c=c&&!_?Qe(c):0;var b=r.length;return c<0&&(c=Lt(b+c,0)),bl(r)?c<=b&&r.indexOf(l,c)>-1:!!b&&$i(r,l,c)>-1}var c_=$e(function(r,l,c){var _=-1,b=typeof l=="function",L=nn(r)?ae(r.length):[];return pi(r,function(x){L[++_]=b?an(l,x,c):Zr(x,l,c)}),L}),d_=ol(function(r,l,c){ei(r,c,l)});function gl(r,l){var c=Je(r)?bt:If;return c(r,xe(l,3))}function h_(r,l,c,_){return r==null?[]:(Je(l)||(l=l==null?[]:[l]),c=_?n:c,Je(c)||(c=c==null?[]:[c]),Df(r,l,c))}var g_=ol(function(r,l,c){r[c?0:1].push(l)},function(){return[[],[]]});function m_(r,l,c){var _=Je(r)?Hs:rf,b=arguments.length<3;return _(r,xe(l,4),c,b,pi)}function __(r,l,c){var _=Je(r)?T0:rf,b=arguments.length<3;return _(r,xe(l,4),c,b,Cf)}function y_(r,l){var c=Je(r)?_i:Ef;return c(r,yl(xe(l,3)))}function w_(r){var l=Je(r)?bf:fm;return l(r)}function b_(r,l,c){(c?Qt(r,l,c):l===n)?l=1:l=Qe(l);var _=Je(r)?Xg:cm;return _(r,l)}function p_(r){var l=Je(r)?xg:hm;return l(r)}function v_(r){if(r==null)return 0;if(nn(r))return bl(r)?tr(r):r.length;var l=qt(r);return l==K||l==yt?r.size:tu(r).length}function k_(r,l,c){var _=Je(r)?zs:gm;return c&&Qt(r,l,c)&&(l=n),_(r,xe(l,3))}var C_=$e(function(r,l){if(r==null)return[];var c=l.length;return c>1&&Qt(r,l[0],l[1])?l=[]:c>2&&Qt(l[0],l[1],l[2])&&(l=[l[0]]),Df(r,Yt(l,1),[])}),ml=ig||function(){return Wt.Date.now()};function E_(r,l){if(typeof l!="function")throw new vn(a);return r=Qe(r),function(){if(--r<1)return l.apply(this,arguments)}}function Tc(r,l,c){return l=c?n:l,l=r&&l==null?r.length:l,ti(r,p,n,n,n,n,l)}function Pc(r,l){var c;if(typeof l!="function")throw new vn(a);return r=Qe(r),function(){return--r>0&&(c=l.apply(this,arguments)),r<=1&&(l=n),c}}var Su=$e(function(r,l,c){var _=O;if(c.length){var b=wi(c,ar(Su));_|=A}return ti(r,_,l,c,b)}),Ic=$e(function(r,l,c){var _=O|k;if(c.length){var b=wi(c,ar(Ic));_|=A}return ti(l,_,r,c,b)});function Oc(r,l,c){l=c?n:l;var _=ti(r,M,n,n,n,n,n,l);return _.placeholder=Oc.placeholder,_}function Nc(r,l,c){l=c?n:l;var _=ti(r,B,n,n,n,n,n,l);return _.placeholder=Nc.placeholder,_}function Lc(r,l,c){var _,b,L,x,U,j,ge=0,me=!1,we=!1,Se=!0;if(typeof r!="function")throw new vn(a);l=An(l)||0,pt(c)&&(me=!!c.leading,we="maxWait"in c,L=we?Lt(An(c.maxWait)||0,l):L,Se="trailing"in c?!!c.trailing:Se);function Re(Tt){var Nn=_,li=b;return _=b=n,ge=Tt,x=r.apply(li,Nn),x}function Fe(Tt){return ge=Tt,U=jr(et,l),me?Re(Tt):x}function je(Tt){var Nn=Tt-j,li=Tt-ge,jc=l-Nn;return we?Gt(jc,L-li):jc}function Ve(Tt){var Nn=Tt-j,li=Tt-ge;return j===n||Nn>=l||Nn<0||we&&li>=L}function et(){var Tt=ml();if(Ve(Tt))return rt(Tt);U=jr(et,je(Tt))}function rt(Tt){return U=n,Se&&_?Re(Tt):(_=b=n,x)}function hn(){U!==n&&Ff(U),ge=0,_=j=b=U=n}function jt(){return U===n?x:rt(ml())}function gn(){var Tt=ml(),Nn=Ve(Tt);if(_=arguments,b=this,j=Tt,Nn){if(U===n)return Fe(j);if(we)return Ff(U),U=jr(et,l),Re(j)}return U===n&&(U=jr(et,l)),x}return gn.cancel=hn,gn.flush=jt,gn}var S_=$e(function(r,l){return kf(r,1,l)}),A_=$e(function(r,l,c){return kf(r,An(l)||0,c)});function M_(r){return ti(r,E)}function _l(r,l){if(typeof r!="function"||l!=null&&typeof l!="function")throw new vn(a);var c=function(){var _=arguments,b=l?l.apply(this,_):_[0],L=c.cache;if(L.has(b))return L.get(b);var x=r.apply(this,_);return c.cache=L.set(b,x)||L,x};return c.cache=new(_l.Cache||$n),c}_l.Cache=$n;function yl(r){if(typeof r!="function")throw new vn(a);return function(){var l=arguments;switch(l.length){case 0:return!r.call(this);case 1:return!r.call(this,l[0]);case 2:return!r.call(this,l[0],l[1]);case 3:return!r.call(this,l[0],l[1],l[2])}return!r.apply(this,l)}}function T_(r){return Pc(2,r)}var P_=mm(function(r,l){l=l.length==1&&Je(l[0])?bt(l[0],fn(xe())):bt(Yt(l,1),fn(xe()));var c=l.length;return $e(function(_){for(var b=-1,L=Gt(_.length,c);++b<L;)_[b]=l[b].call(this,_[b]);return an(r,this,_)})}),Au=$e(function(r,l){var c=wi(l,ar(Au));return ti(r,A,n,l,c)}),Dc=$e(function(r,l){var c=wi(l,ar(Dc));return ti(r,I,n,l,c)}),I_=ni(function(r,l){return ti(r,N,n,n,n,l)});function O_(r,l){if(typeof r!="function")throw new vn(a);return l=l===n?l:Qe(l),$e(r,l)}function N_(r,l){if(typeof r!="function")throw new vn(a);return l=l==null?0:Lt(Qe(l),0),$e(function(c){var _=c[l],b=Ci(c,0,l);return _&&yi(b,_),an(r,this,b)})}function L_(r,l,c){var _=!0,b=!0;if(typeof r!="function")throw new vn(a);return pt(c)&&(_="leading"in c?!!c.leading:_,b="trailing"in c?!!c.trailing:b),Lc(r,l,{leading:_,maxWait:l,trailing:b})}function D_(r){return Tc(r,1)}function R_(r,l){return Au(fu(l),r)}function H_(){if(!arguments.length)return[];var r=arguments[0];return Je(r)?r:[r]}function z_(r){return Cn(r,y)}function B_(r,l){return l=typeof l=="function"?l:n,Cn(r,y,l)}function W_(r){return Cn(r,g|y)}function Y_(r,l){return l=typeof l=="function"?l:n,Cn(r,g|y,l)}function X_(r,l){return l==null||vf(r,l,Rt(l))}function On(r,l){return r===l||r!==r&&l!==l}var x_=al(js),F_=al(function(r,l){return r>=l}),Bi=Mf(function(){return arguments}())?Mf:function(r){return kt(r)&&ft.call(r,"callee")&&!hf.call(r,"callee")},Je=ae.isArray,V_=Za?fn(Za):jg;function nn(r){return r!=null&&wl(r.length)&&!ri(r)}function Mt(r){return kt(r)&&nn(r)}function U_(r){return r===!0||r===!1||kt(r)&&Jt(r)==Q}var Ei=og||zu,K_=Ga?fn(Ga):$g;function Z_(r){return kt(r)&&r.nodeType===1&&!$r(r)}function G_(r){if(r==null)return!0;if(nn(r)&&(Je(r)||typeof r=="string"||typeof r.splice=="function"||Ei(r)||fr(r)||Bi(r)))return!r.length;var l=qt(r);if(l==K||l==yt)return!r.size;if(Qr(r))return!tu(r).length;for(var c in r)if(ft.call(r,c))return!1;return!0}function q_(r,l){return Gr(r,l)}function J_(r,l,c){c=typeof c=="function"?c:n;var _=c?c(r,l):n;return _===n?Gr(r,l,n,c):!!_}function Mu(r){if(!kt(r))return!1;var l=Jt(r);return l==F||l==z||typeof r.message=="string"&&typeof r.name=="string"&&!$r(r)}function Q_(r){return typeof r=="number"&&mf(r)}function ri(r){if(!pt(r))return!1;var l=Jt(r);return l==ee||l==ne||l==ue||l==ct}function Rc(r){return typeof r=="number"&&r==Qe(r)}function wl(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=G}function pt(r){var l=typeof r;return r!=null&&(l=="object"||l=="function")}function kt(r){return r!=null&&typeof r=="object"}var Hc=qa?fn(qa):tm;function j_(r,l){return r===l||eu(r,l,yu(l))}function $_(r,l,c){return c=typeof c=="function"?c:n,eu(r,l,yu(l),c)}function ey(r){return zc(r)&&r!=+r}function ty(r){if(Bm(r))throw new qe(s);return Tf(r)}function ny(r){return r===null}function iy(r){return r==null}function zc(r){return typeof r=="number"||kt(r)&&Jt(r)==_e}function $r(r){if(!kt(r)||Jt(r)!=Ze)return!1;var l=Uo(r);if(l===null)return!0;var c=ft.call(l,"constructor")&&l.constructor;return typeof c=="function"&&c instanceof c&&Xo.call(c)==$0}var Tu=Ja?fn(Ja):nm;function ry(r){return Rc(r)&&r>=-9007199254740991&&r<=G}var Bc=Qa?fn(Qa):im;function bl(r){return typeof r=="string"||!Je(r)&&kt(r)&&Jt(r)==Ie}function dn(r){return typeof r=="symbol"||kt(r)&&Jt(r)==Kt}var fr=ja?fn(ja):rm;function oy(r){return r===n}function ly(r){return kt(r)&&qt(r)==Ot}function sy(r){return kt(r)&&Jt(r)==Jn}var uy=al(nu),ay=al(function(r,l){return r<=l});function Wc(r){if(!r)return[];if(nn(r))return bl(r)?Pn(r):tn(r);if(Yr&&r[Yr])return X0(r[Yr]());var l=qt(r),c=l==K?Fs:l==yt?Bo:cr;return c(r)}function oi(r){if(!r)return r===0?r:0;if(r=An(r),r===V||r===-1/0){var l=r<0?-1:1;return l*Z}return r===r?r:0}function Qe(r){var l=oi(r),c=l%1;return l===l?c?l-c:l:0}function Yc(r){return r?Di(Qe(r),0,ce):0}function An(r){if(typeof r=="number")return r;if(dn(r))return ie;if(pt(r)){var l=typeof r.valueOf=="function"?r.valueOf():r;r=pt(l)?l+"":l}if(typeof r!="string")return r===0?r:+r;r=of(r);var c=ps.test(r);return c||ks.test(r)?E0(r.slice(2),c?2:8):bs.test(r)?ie:+r}function Xc(r){return Fn(r,rn(r))}function fy(r){return r?Di(Qe(r),-9007199254740991,G):r===0?r:0}function at(r){return r==null?"":cn(r)}var cy=sr(function(r,l){if(Qr(l)||nn(l)){Fn(l,Rt(l),r);return}for(var c in l)ft.call(l,c)&&Ur(r,c,l[c])}),xc=sr(function(r,l){Fn(l,rn(l),r)}),pl=sr(function(r,l,c,_){Fn(l,rn(l),r,_)}),dy=sr(function(r,l,c,_){Fn(l,Rt(l),r,_)}),hy=ni(qs);function gy(r,l){var c=lr(r);return l==null?c:pf(c,l)}var my=$e(function(r,l){r=dt(r);var c=-1,_=l.length,b=_>2?l[2]:n;for(b&&Qt(l[0],l[1],b)&&(_=1);++c<_;)for(var L=l[c],x=rn(L),U=-1,j=x.length;++U<j;){var ge=x[U],me=r[ge];(me===n||On(me,ir[ge])&&!ft.call(r,ge))&&(r[ge]=L[ge])}return r}),_y=$e(function(r){return r.push(n,oc),an(Fc,n,r)});function yy(r,l){return ef(r,xe(l,3),xn)}function wy(r,l){return ef(r,xe(l,3),Qs)}function by(r,l){return r==null?r:Js(r,xe(l,3),rn)}function py(r,l){return r==null?r:Sf(r,xe(l,3),rn)}function vy(r,l){return r&&xn(r,xe(l,3))}function ky(r,l){return r&&Qs(r,xe(l,3))}function Cy(r){return r==null?[]:tl(r,Rt(r))}function Ey(r){return r==null?[]:tl(r,rn(r))}function Pu(r,l,c){var _=r==null?n:Ri(r,l);return _===n?c:_}function Sy(r,l){return r!=null&&uc(r,l,Gg)}function Iu(r,l){return r!=null&&uc(r,l,qg)}var Ay=ec(function(r,l,c){l!=null&&typeof l.toString!="function"&&(l=xo.call(l)),r[l]=c},Nu(on)),My=ec(function(r,l,c){l!=null&&typeof l.toString!="function"&&(l=xo.call(l)),ft.call(r,l)?r[l].push(c):r[l]=[c]},xe),Ty=$e(Zr);function Rt(r){return nn(r)?wf(r):tu(r)}function rn(r){return nn(r)?wf(r,!0):om(r)}function Py(r,l){var c={};return l=xe(l,3),xn(r,function(_,b,L){ei(c,l(_,b,L),_)}),c}function Iy(r,l){var c={};return l=xe(l,3),xn(r,function(_,b,L){ei(c,b,l(_,b,L))}),c}var Oy=sr(function(r,l,c){nl(r,l,c)}),Fc=sr(function(r,l,c,_){nl(r,l,c,_)}),Ny=ni(function(r,l){var c={};if(r==null)return c;var _=!1;l=bt(l,function(L){return L=ki(L,r),_||(_=L.length>1),L}),Fn(r,mu(r),c),_&&(c=Cn(c,g|m|y,Am));for(var b=l.length;b--;)su(c,l[b]);return c});function Ly(r,l){return Vc(r,yl(xe(l)))}var Dy=ni(function(r,l){return r==null?{}:sm(r,l)});function Vc(r,l){if(r==null)return{};var c=bt(mu(r),function(_){return[_]});return l=xe(l),Rf(r,c,function(_,b){return l(_,b[0])})}function Ry(r,l,c){l=ki(l,r);var _=-1,b=l.length;for(b||(b=1,r=n);++_<b;){var L=r==null?n:r[Vn(l[_])];L===n&&(_=b,L=c),r=ri(L)?L.call(r):L}return r}function Hy(r,l,c){return r==null?r:qr(r,l,c)}function zy(r,l,c,_){return _=typeof _=="function"?_:n,r==null?r:qr(r,l,c,_)}var Uc=ic(Rt),Kc=ic(rn);function By(r,l,c){var _=Je(r),b=_||Ei(r)||fr(r);if(l=xe(l,4),c==null){var L=r&&r.constructor;b?c=_?new L:[]:pt(r)?c=ri(L)?lr(Uo(r)):{}:c={}}return(b?pn:xn)(r,function(x,U,j){return l(c,x,U,j)}),c}function Wy(r,l){return r==null?!0:su(r,l)}function Yy(r,l,c){return r==null?r:Yf(r,l,fu(c))}function Xy(r,l,c,_){return _=typeof _=="function"?_:n,r==null?r:Yf(r,l,fu(c),_)}function cr(r){return r==null?[]:xs(r,Rt(r))}function xy(r){return r==null?[]:xs(r,rn(r))}function Fy(r,l,c){return c===n&&(c=l,l=n),c!==n&&(c=An(c),c=c===c?c:0),l!==n&&(l=An(l),l=l===l?l:0),Di(An(r),l,c)}function Vy(r,l,c){return l=oi(l),c===n?(c=l,l=0):c=oi(c),r=An(r),Jg(r,l,c)}function Uy(r,l,c){if(c&&typeof c!="boolean"&&Qt(r,l,c)&&(l=c=n),c===n&&(typeof l=="boolean"?(c=l,l=n):typeof r=="boolean"&&(c=r,r=n)),r===n&&l===n?(r=0,l=1):(r=oi(r),l===n?(l=r,r=0):l=oi(l)),r>l){var _=r;r=l,l=_}if(c||r%1||l%1){var b=_f();return Gt(r+b*(l-r+C0("1e-"+((b+"").length-1))),l)}return ru(r,l)}var Ky=ur(function(r,l,c){return l=l.toLowerCase(),r+(c?Zc(l):l)});function Zc(r){return Ou(at(r).toLowerCase())}function Gc(r){return r=at(r),r&&r.replace(Es,H0).replace(h0,"")}function Zy(r,l,c){r=at(r),l=cn(l);var _=r.length;c=c===n?_:Di(Qe(c),0,_);var b=c;return c-=l.length,c>=0&&r.slice(c,b)==l}function Gy(r){return r=at(r),r&&qi.test(r)?r.replace(Rr,z0):r}function qy(r){return r=at(r),r&&fs.test(r)?r.replace(zr,"\\$&"):r}var Jy=ur(function(r,l,c){return r+(c?"-":"")+l.toLowerCase()}),Qy=ur(function(r,l,c){return r+(c?" ":"")+l.toLowerCase()}),jy=Qf("toLowerCase");function $y(r,l,c){r=at(r),l=Qe(l);var _=l?tr(r):0;if(!l||_>=l)return r;var b=(l-_)/2;return ul(qo(b),c)+r+ul(Go(b),c)}function ew(r,l,c){r=at(r),l=Qe(l);var _=l?tr(r):0;return l&&_<l?r+ul(l-_,c):r}function tw(r,l,c){r=at(r),l=Qe(l);var _=l?tr(r):0;return l&&_<l?ul(l-_,c)+r:r}function nw(r,l,c){return c||l==null?l=0:l&&(l=+l),ag(at(r).replace(Br,""),l||0)}function iw(r,l,c){return(c?Qt(r,l,c):l===n)?l=1:l=Qe(l),ou(at(r),l)}function rw(){var r=arguments,l=at(r[0]);return r.length<3?l:l.replace(r[1],r[2])}var ow=ur(function(r,l,c){return r+(c?"_":"")+l.toLowerCase()});function lw(r,l,c){return c&&typeof c!="number"&&Qt(r,l,c)&&(l=c=n),c=c===n?ce:c>>>0,c?(r=at(r),r&&(typeof l=="string"||l!=null&&!Tu(l))&&(l=cn(l),!l&&er(r))?Ci(Pn(r),0,c):r.split(l,c)):[]}var sw=ur(function(r,l,c){return r+(c?" ":"")+Ou(l)});function uw(r,l,c){return r=at(r),c=c==null?0:Di(Qe(c),0,r.length),l=cn(l),r.slice(c,c+l.length)==l}function aw(r,l,c){var _=T.templateSettings;c&&Qt(r,l,c)&&(l=n),r=at(r),l=pl({},l,_,rc);var b=pl({},l.imports,_.imports,rc),L=Rt(b),x=xs(b,L),U,j,ge=0,me=l.interpolate||Ji,we="__p += '",Se=Vs((l.escape||Ji).source+"|"+me.source+"|"+(me===No?ws:Ji).source+"|"+(l.evaluate||Ji).source+"|$","g"),Re="//# sourceURL="+(ft.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++w0+"]")+`
`;r.replace(Se,function(Ve,et,rt,hn,jt,gn){return rt||(rt=hn),we+=r.slice(ge,gn).replace(Ss,B0),et&&(U=!0,we+=`' +
__e(`+et+`) +
'`),jt&&(j=!0,we+=`';
`+jt+`;
__p += '`),rt&&(we+=`' +
((__t = (`+rt+`)) == null ? '' : __t) +
'`),ge=gn+Ve.length,Ve}),we+=`';
`;var Fe=ft.call(l,"variable")&&l.variable;if(!Fe)we=`with (obj) {
`+we+`
}
`;else if(_s.test(Fe))throw new qe(u);we=(j?we.replace(Qn,""):we).replace(Zi,"$1").replace(Io,"$1;"),we="function("+(Fe||"obj")+`) {
`+(Fe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(j?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+we+`return __p
}`;var je=Jc(function(){return st(L,Re+"return "+we).apply(n,x)});if(je.source=we,Mu(je))throw je;return je}function fw(r){return at(r).toLowerCase()}function cw(r){return at(r).toUpperCase()}function dw(r,l,c){if(r=at(r),r&&(c||l===n))return of(r);if(!r||!(l=cn(l)))return r;var _=Pn(r),b=Pn(l),L=lf(_,b),x=sf(_,b)+1;return Ci(_,L,x).join("")}function hw(r,l,c){if(r=at(r),r&&(c||l===n))return r.slice(0,af(r)+1);if(!r||!(l=cn(l)))return r;var _=Pn(r),b=sf(_,Pn(l))+1;return Ci(_,0,b).join("")}function gw(r,l,c){if(r=at(r),r&&(c||l===n))return r.replace(Br,"");if(!r||!(l=cn(l)))return r;var _=Pn(r),b=lf(_,Pn(l));return Ci(_,b).join("")}function mw(r,l){var c=W,_=D;if(pt(l)){var b="separator"in l?l.separator:b;c="length"in l?Qe(l.length):c,_="omission"in l?cn(l.omission):_}r=at(r);var L=r.length;if(er(r)){var x=Pn(r);L=x.length}if(c>=L)return r;var U=c-tr(_);if(U<1)return _;var j=x?Ci(x,0,U).join(""):r.slice(0,U);if(b===n)return j+_;if(x&&(U+=j.length-U),Tu(b)){if(r.slice(U).search(b)){var ge,me=j;for(b.global||(b=Vs(b.source,at(Do.exec(b))+"g")),b.lastIndex=0;ge=b.exec(me);)var we=ge.index;j=j.slice(0,we===n?U:we)}}else if(r.indexOf(cn(b),U)!=U){var Se=j.lastIndexOf(b);Se>-1&&(j=j.slice(0,Se))}return j+_}function _w(r){return r=at(r),r&&Oo.test(r)?r.replace(Gi,U0):r}var yw=ur(function(r,l,c){return r+(c?" ":"")+l.toUpperCase()}),Ou=Qf("toUpperCase");function qc(r,l,c){return r=at(r),l=c?n:l,l===n?Y0(r)?G0(r):O0(r):r.match(l)||[]}var Jc=$e(function(r,l){try{return an(r,n,l)}catch(c){return Mu(c)?c:new qe(c)}}),ww=ni(function(r,l){return pn(l,function(c){c=Vn(c),ei(r,c,Su(r[c],r))}),r});function bw(r){var l=r==null?0:r.length,c=xe();return r=l?bt(r,function(_){if(typeof _[1]!="function")throw new vn(a);return[c(_[0]),_[1]]}):[],$e(function(_){for(var b=-1;++b<l;){var L=r[b];if(an(L[0],this,_))return an(L[1],this,_)}})}function pw(r){return Ug(Cn(r,g))}function Nu(r){return function(){return r}}function vw(r,l){return r==null||r!==r?l:r}var kw=$f(),Cw=$f(!0);function on(r){return r}function Lu(r){return Pf(typeof r=="function"?r:Cn(r,g))}function Ew(r){return Of(Cn(r,g))}function Sw(r,l){return Nf(r,Cn(l,g))}var Aw=$e(function(r,l){return function(c){return Zr(c,r,l)}}),Mw=$e(function(r,l){return function(c){return Zr(r,c,l)}});function Du(r,l,c){var _=Rt(l),b=tl(l,_);c==null&&!(pt(l)&&(b.length||!_.length))&&(c=l,l=r,r=this,b=tl(l,Rt(l)));var L=!(pt(c)&&"chain"in c)||!!c.chain,x=ri(r);return pn(b,function(U){var j=l[U];r[U]=j,x&&(r.prototype[U]=function(){var ge=this.__chain__;if(L||ge){var me=r(this.__wrapped__),we=me.__actions__=tn(this.__actions__);return we.push({func:j,args:arguments,thisArg:r}),me.__chain__=ge,me}return j.apply(r,yi([this.value()],arguments))})}),r}function Tw(){return Wt._===this&&(Wt._=eg),this}function Ru(){}function Pw(r){return r=Qe(r),$e(function(l){return Lf(l,r)})}var Iw=du(bt),Ow=du($a),Nw=du(zs);function Qc(r){return bu(r)?Bs(Vn(r)):um(r)}function Lw(r){return function(l){return r==null?n:Ri(r,l)}}var Dw=tc(),Rw=tc(!0);function Hu(){return[]}function zu(){return!1}function Hw(){return{}}function zw(){return""}function Bw(){return!0}function Ww(r,l){if(r=Qe(r),r<1||r>G)return[];var c=ce,_=Gt(r,ce);l=xe(l),r-=ce;for(var b=Xs(_,l);++c<r;)l(c);return b}function Yw(r){return Je(r)?bt(r,Vn):dn(r)?[r]:tn(yc(at(r)))}function Xw(r){var l=++j0;return at(r)+l}var xw=sl(function(r,l){return r+l},0),Fw=hu("ceil"),Vw=sl(function(r,l){return r/l},1),Uw=hu("floor");function Kw(r){return r&&r.length?el(r,on,js):n}function Zw(r,l){return r&&r.length?el(r,xe(l,2),js):n}function Gw(r){return nf(r,on)}function qw(r,l){return nf(r,xe(l,2))}function Jw(r){return r&&r.length?el(r,on,nu):n}function Qw(r,l){return r&&r.length?el(r,xe(l,2),nu):n}var jw=sl(function(r,l){return r*l},1),$w=hu("round"),eb=sl(function(r,l){return r-l},0);function tb(r){return r&&r.length?Ys(r,on):0}function nb(r,l){return r&&r.length?Ys(r,xe(l,2)):0}return T.after=E_,T.ary=Tc,T.assign=cy,T.assignIn=xc,T.assignInWith=pl,T.assignWith=dy,T.at=hy,T.before=Pc,T.bind=Su,T.bindAll=ww,T.bindKey=Ic,T.castArray=H_,T.chain=Sc,T.chunk=Um,T.compact=Km,T.concat=Zm,T.cond=bw,T.conforms=pw,T.constant=Nu,T.countBy=t_,T.create=gy,T.curry=Oc,T.curryRight=Nc,T.debounce=Lc,T.defaults=my,T.defaultsDeep=_y,T.defer=S_,T.delay=A_,T.difference=Gm,T.differenceBy=qm,T.differenceWith=Jm,T.drop=Qm,T.dropRight=jm,T.dropRightWhile=$m,T.dropWhile=e2,T.fill=t2,T.filter=i_,T.flatMap=l_,T.flatMapDeep=s_,T.flatMapDepth=u_,T.flatten=vc,T.flattenDeep=n2,T.flattenDepth=i2,T.flip=M_,T.flow=kw,T.flowRight=Cw,T.fromPairs=r2,T.functions=Cy,T.functionsIn=Ey,T.groupBy=a_,T.initial=l2,T.intersection=s2,T.intersectionBy=u2,T.intersectionWith=a2,T.invert=Ay,T.invertBy=My,T.invokeMap=c_,T.iteratee=Lu,T.keyBy=d_,T.keys=Rt,T.keysIn=rn,T.map=gl,T.mapKeys=Py,T.mapValues=Iy,T.matches=Ew,T.matchesProperty=Sw,T.memoize=_l,T.merge=Oy,T.mergeWith=Fc,T.method=Aw,T.methodOf=Mw,T.mixin=Du,T.negate=yl,T.nthArg=Pw,T.omit=Ny,T.omitBy=Ly,T.once=T_,T.orderBy=h_,T.over=Iw,T.overArgs=P_,T.overEvery=Ow,T.overSome=Nw,T.partial=Au,T.partialRight=Dc,T.partition=g_,T.pick=Dy,T.pickBy=Vc,T.property=Qc,T.propertyOf=Lw,T.pull=h2,T.pullAll=Cc,T.pullAllBy=g2,T.pullAllWith=m2,T.pullAt=_2,T.range=Dw,T.rangeRight=Rw,T.rearg=I_,T.reject=y_,T.remove=y2,T.rest=O_,T.reverse=Cu,T.sampleSize=b_,T.set=Hy,T.setWith=zy,T.shuffle=p_,T.slice=w2,T.sortBy=C_,T.sortedUniq=S2,T.sortedUniqBy=A2,T.split=lw,T.spread=N_,T.tail=M2,T.take=T2,T.takeRight=P2,T.takeRightWhile=I2,T.takeWhile=O2,T.tap=K2,T.throttle=L_,T.thru=hl,T.toArray=Wc,T.toPairs=Uc,T.toPairsIn=Kc,T.toPath=Yw,T.toPlainObject=Xc,T.transform=By,T.unary=D_,T.union=N2,T.unionBy=L2,T.unionWith=D2,T.uniq=R2,T.uniqBy=H2,T.uniqWith=z2,T.unset=Wy,T.unzip=Eu,T.unzipWith=Ec,T.update=Yy,T.updateWith=Xy,T.values=cr,T.valuesIn=xy,T.without=B2,T.words=qc,T.wrap=R_,T.xor=W2,T.xorBy=Y2,T.xorWith=X2,T.zip=x2,T.zipObject=F2,T.zipObjectDeep=V2,T.zipWith=U2,T.entries=Uc,T.entriesIn=Kc,T.extend=xc,T.extendWith=pl,Du(T,T),T.add=xw,T.attempt=Jc,T.camelCase=Ky,T.capitalize=Zc,T.ceil=Fw,T.clamp=Fy,T.clone=z_,T.cloneDeep=W_,T.cloneDeepWith=Y_,T.cloneWith=B_,T.conformsTo=X_,T.deburr=Gc,T.defaultTo=vw,T.divide=Vw,T.endsWith=Zy,T.eq=On,T.escape=Gy,T.escapeRegExp=qy,T.every=n_,T.find=r_,T.findIndex=bc,T.findKey=yy,T.findLast=o_,T.findLastIndex=pc,T.findLastKey=wy,T.floor=Uw,T.forEach=Ac,T.forEachRight=Mc,T.forIn=by,T.forInRight=py,T.forOwn=vy,T.forOwnRight=ky,T.get=Pu,T.gt=x_,T.gte=F_,T.has=Sy,T.hasIn=Iu,T.head=kc,T.identity=on,T.includes=f_,T.indexOf=o2,T.inRange=Vy,T.invoke=Ty,T.isArguments=Bi,T.isArray=Je,T.isArrayBuffer=V_,T.isArrayLike=nn,T.isArrayLikeObject=Mt,T.isBoolean=U_,T.isBuffer=Ei,T.isDate=K_,T.isElement=Z_,T.isEmpty=G_,T.isEqual=q_,T.isEqualWith=J_,T.isError=Mu,T.isFinite=Q_,T.isFunction=ri,T.isInteger=Rc,T.isLength=wl,T.isMap=Hc,T.isMatch=j_,T.isMatchWith=$_,T.isNaN=ey,T.isNative=ty,T.isNil=iy,T.isNull=ny,T.isNumber=zc,T.isObject=pt,T.isObjectLike=kt,T.isPlainObject=$r,T.isRegExp=Tu,T.isSafeInteger=ry,T.isSet=Bc,T.isString=bl,T.isSymbol=dn,T.isTypedArray=fr,T.isUndefined=oy,T.isWeakMap=ly,T.isWeakSet=sy,T.join=f2,T.kebabCase=Jy,T.last=Sn,T.lastIndexOf=c2,T.lowerCase=Qy,T.lowerFirst=jy,T.lt=uy,T.lte=ay,T.max=Kw,T.maxBy=Zw,T.mean=Gw,T.meanBy=qw,T.min=Jw,T.minBy=Qw,T.stubArray=Hu,T.stubFalse=zu,T.stubObject=Hw,T.stubString=zw,T.stubTrue=Bw,T.multiply=jw,T.nth=d2,T.noConflict=Tw,T.noop=Ru,T.now=ml,T.pad=$y,T.padEnd=ew,T.padStart=tw,T.parseInt=nw,T.random=Uy,T.reduce=m_,T.reduceRight=__,T.repeat=iw,T.replace=rw,T.result=Ry,T.round=$w,T.runInContext=J,T.sample=w_,T.size=v_,T.snakeCase=ow,T.some=k_,T.sortedIndex=b2,T.sortedIndexBy=p2,T.sortedIndexOf=v2,T.sortedLastIndex=k2,T.sortedLastIndexBy=C2,T.sortedLastIndexOf=E2,T.startCase=sw,T.startsWith=uw,T.subtract=eb,T.sum=tb,T.sumBy=nb,T.template=aw,T.times=Ww,T.toFinite=oi,T.toInteger=Qe,T.toLength=Yc,T.toLower=fw,T.toNumber=An,T.toSafeInteger=fy,T.toString=at,T.toUpper=cw,T.trim=dw,T.trimEnd=hw,T.trimStart=gw,T.truncate=mw,T.unescape=_w,T.uniqueId=Xw,T.upperCase=yw,T.upperFirst=Ou,T.each=Ac,T.eachRight=Mc,T.first=kc,Du(T,function(){var r={};return xn(T,function(l,c){ft.call(T.prototype,c)||(r[c]=l)}),r}(),{chain:!1}),T.VERSION=i,pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){T[r].placeholder=T}),pn(["drop","take"],function(r,l){tt.prototype[r]=function(c){c=c===n?1:Lt(Qe(c),0);var _=this.__filtered__&&!l?new tt(this):this.clone();return _.__filtered__?_.__takeCount__=Gt(c,_.__takeCount__):_.__views__.push({size:Gt(c,ce),type:r+(_.__dir__<0?"Right":"")}),_},tt.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),pn(["filter","map","takeWhile"],function(r,l){var c=l+1,_=c==w||c==R;tt.prototype[r]=function(b){var L=this.clone();return L.__iteratees__.push({iteratee:xe(b,3),type:c}),L.__filtered__=L.__filtered__||_,L}}),pn(["head","last"],function(r,l){var c="take"+(l?"Right":"");tt.prototype[r]=function(){return this[c](1).value()[0]}}),pn(["initial","tail"],function(r,l){var c="drop"+(l?"":"Right");tt.prototype[r]=function(){return this.__filtered__?new tt(this):this[c](1)}}),tt.prototype.compact=function(){return this.filter(on)},tt.prototype.find=function(r){return this.filter(r).head()},tt.prototype.findLast=function(r){return this.reverse().find(r)},tt.prototype.invokeMap=$e(function(r,l){return typeof r=="function"?new tt(this):this.map(function(c){return Zr(c,r,l)})}),tt.prototype.reject=function(r){return this.filter(yl(xe(r)))},tt.prototype.slice=function(r,l){r=Qe(r);var c=this;return c.__filtered__&&(r>0||l<0)?new tt(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),l!==n&&(l=Qe(l),c=l<0?c.dropRight(-l):c.take(l-r)),c)},tt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},tt.prototype.toArray=function(){return this.take(ce)},xn(tt.prototype,function(r,l){var c=/^(?:filter|find|map|reject)|While$/.test(l),_=/^(?:head|last)$/.test(l),b=T[_?"take"+(l=="last"?"Right":""):l],L=_||/^find/.test(l);b&&(T.prototype[l]=function(){var x=this.__wrapped__,U=_?[1]:arguments,j=x instanceof tt,ge=U[0],me=j||Je(x),we=function(et){var rt=b.apply(T,yi([et],U));return _&&Se?rt[0]:rt};me&&c&&typeof ge=="function"&&ge.length!=1&&(j=me=!1);var Se=this.__chain__,Re=!!this.__actions__.length,Fe=L&&!Se,je=j&&!Re;if(!L&&me){x=je?x:new tt(this);var Ve=r.apply(x,U);return Ve.__actions__.push({func:hl,args:[we],thisArg:n}),new kn(Ve,Se)}return Fe&&je?r.apply(this,U):(Ve=this.thru(we),Fe?_?Ve.value()[0]:Ve.value():Ve)})}),pn(["pop","push","shift","sort","splice","unshift"],function(r){var l=Wo[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",_=/^(?:pop|shift)$/.test(r);T.prototype[r]=function(){var b=arguments;if(_&&!this.__chain__){var L=this.value();return l.apply(Je(L)?L:[],b)}return this[c](function(x){return l.apply(Je(x)?x:[],b)})}}),xn(tt.prototype,function(r,l){var c=T[l];if(c){var _=c.name+"";ft.call(or,_)||(or[_]=[]),or[_].push({name:l,func:c})}}),or[ll(n,k).name]=[{name:"wrapper",func:n}],tt.prototype.clone=_g,tt.prototype.reverse=yg,tt.prototype.value=wg,T.prototype.at=Z2,T.prototype.chain=G2,T.prototype.commit=q2,T.prototype.next=J2,T.prototype.plant=j2,T.prototype.reverse=$2,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=e_,T.prototype.first=T.prototype.head,Yr&&(T.prototype[Yr]=Q2),T},nr=q0();Ii?((Ii.exports=nr)._=nr,Ls._=nr):Wt._=nr}).call(no)})(jl,jl.exports);var Ak=jl.exports;const O1=Kh(Ak);function Mk(t,e,n){const i=t.slice();return i[21]=e[n][0],i[22]=e[n][1],i}function Tk(t,e,n){const i=t.slice();return i[21]=e[n][0],i[22]=e[n][1],i}function Pk(t,e){let n,i,o;return i=new jh({props:{id:e[21],type:Tr.ArrowClosed}}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,a){oe(s,n,a),Ae(i,s,a),o=!0},p:Ne,i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function Ik(t,e){let n,i,o;return i=new jh({props:{id:e[21]+"line",type:Tr.ArrowClosed}}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,a){oe(s,n,a),Ae(i,s,a),o=!0},p:Ne,i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function Ok(t){let e;return{c(){e=nt("")},m(n,i){oe(n,e,i)},d(n){n&&re(e)}}}function Nk(t){let e;return{c(){e=nt("")},m(n,i){oe(n,e,i)},d(n){n&&re(e)}}}function Lk(t){let e,n,i,o;return e=new Nr({props:{$$slots:{default:[Ok]},$$scope:{ctx:t}}}),e.$on("click",t[14]),i=new Nr({props:{$$slots:{default:[Nk]},$$scope:{ctx:t}}}),i.$on("click",t[15]),{c(){Te(e.$$.fragment),n=Pe(),Te(i.$$.fragment)},m(s,a){Ae(e,s,a),oe(s,n,a),Ae(i,s,a),o=!0},p(s,a){const u={};a&134217728&&(u.$$scope={dirty:a,ctx:s}),e.$set(u);const f={};a&134217728&&(f.$$scope={dirty:a,ctx:s}),i.$set(f)},i(s){o||(se(e.$$.fragment,s),se(i.$$.fragment,s),o=!0)},o(s){fe(e.$$.fragment,s),fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(e,s),Me(i,s)}}}function Dk(t){let e,n,i;return{c(){e=Ee("a"),e.textContent="GitHub",n=Ee("br"),i=nt(" 2024 Craig Anderson"),P(e,"href","https://github.com/theonlytechnohead/patchcanvas")},m(o,s){oe(o,e,s),oe(o,n,s),oe(o,i,s)},p:Ne,d(o){o&&(re(e),re(n),re(i))}}}function Rk(t){let e=[],n=new Map,i,o=[],s=new Map,a,u,f,d,h,g,m,y,v,C,O,k=Dt(vo);const H=A=>A[22][1];for(let A=0;A<k.length;A+=1){let I=Tk(t,k,A),p=H(I);n.set(p,e[A]=Pk(p,I))}let M=Dt(vo);const B=A=>A[22][1];for(let A=0;A<M.length;A+=1){let I=Mk(t,M,A),p=B(I);s.set(p,o[A]=Ik(p,I))}return u=new X8({props:{variant:ci.Dots}}),d=new Q8({props:{position:"top-right",pannable:!1,zoomable:!1,width:visualViewport!=null&&visualViewport.width?(visualViewport==null?void 0:visualViewport.width)/10:void 0,height:visualViewport!=null&&visualViewport.height?(visualViewport==null?void 0:visualViewport.height)/10:void 0}}),g=new P8({props:{position:"bottom-right",showFitView:!1,showLock:!1,$$slots:{default:[Lk]},$$scope:{ctx:t}}}),y=new ui({props:{position:"bottom-left",$$slots:{default:[Dk]},$$scope:{ctx:t}}}),C=new uk({}),{c(){for(let A=0;A<e.length;A+=1)e[A].c();i=Pe();for(let A=0;A<o.length;A+=1)o[A].c();a=Pe(),Te(u.$$.fragment),f=Pe(),Te(d.$$.fragment),h=Pe(),Te(g.$$.fragment),m=Pe(),Te(y.$$.fragment),v=Pe(),Te(C.$$.fragment)},m(A,I){for(let p=0;p<e.length;p+=1)e[p]&&e[p].m(A,I);oe(A,i,I);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(A,I);oe(A,a,I),Ae(u,A,I),oe(A,f,I),Ae(d,A,I),oe(A,h,I),Ae(g,A,I),oe(A,m,I),Ae(y,A,I),oe(A,v,I),Ae(C,A,I),O=!0},p(A,I){const p={};I&134217729&&(p.$$scope={dirty:I,ctx:A}),g.$set(p);const N={};I&134217728&&(N.$$scope={dirty:I,ctx:A}),y.$set(N)},i(A){if(!O){for(let I=0;I<k.length;I+=1)se(e[I]);for(let I=0;I<M.length;I+=1)se(o[I]);se(u.$$.fragment,A),se(d.$$.fragment,A),se(g.$$.fragment,A),se(y.$$.fragment,A),se(C.$$.fragment,A),O=!0}},o(A){for(let I=0;I<e.length;I+=1)fe(e[I]);for(let I=0;I<o.length;I+=1)fe(o[I]);fe(u.$$.fragment,A),fe(d.$$.fragment,A),fe(g.$$.fragment,A),fe(y.$$.fragment,A),fe(C.$$.fragment,A),O=!1},d(A){A&&(re(i),re(a),re(f),re(h),re(m),re(v));for(let I=0;I<e.length;I+=1)e[I].d(A);for(let I=0;I<o.length;I+=1)o[I].d(A);Me(u,A),Me(d,A),Me(g,A),Me(y,A),Me(C,A)}}}function Hk(t){let e,n;return e=new Ck({props:{slot:"connectionLine"}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p:Ne,i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function zk(t){let e,n;return e=new n8({props:{nodes:t[3],nodeTypes:t[1],edges:t[4],edgeTypes:t[2],defaultEdgeOptions:t[5],isValidConnection:Bk,snapGrid:[25,25],colorMode:t[0].theme,fitView:!0,fitViewOptions:t[6],minZoom:.75,maxZoom:10,onlyRenderVisibleElements:!0,attributionPosition:"top-right",deleteKey:"Delete",$$slots:{connectionLine:[Hk],default:[Rk]},$$scope:{ctx:t}}}),e.$on("dragover",t[7]),e.$on("drop",t[8]),e.$on("nodeclick",t[16]),e.$on("edgeclick",t[17]),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&1&&(s.colorMode=i[0].theme),o&134217729&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function Bk(t){return t.sourceHandle===t.targetHandle}function Wk(t,e,n){var N;let i,o,s,a,u;be(t,Ql,E=>n(11,o=E)),be(t,ln,E=>n(12,s=E)),be(t,qu,E=>n(0,u=E)),s.version!=Hl?(console.log("Version mismatch: "+s.version+" != "+Hl),s.nodes.length===Ln.length&&s.edges.length===ca.length&&s.nodes.every((E,W,D)=>O1.isMatch(E,Ln[W]))&&s.edges.every((E,W,D)=>O1.isMatch(E,ca[W]))?(console.log("Still default, updating without confirmation"),setTimeout(()=>{Jh()},0)):(console.log("Edited, prompt for confirmation"),confirm(`Your canvas is out of date
Do you want to update to the latest version?
(v${s.version} -> v${Hl})`))):console.log("Using latest save version: "+s.version),document.documentElement.setAttribute("data-theme",u.theme),(N=document.querySelector('meta[name="color-scheme"]'))==null||N.setAttribute("content",u.theme),document.documentElement.setAttribute("print-preview",String(!1)),document.addEventListener("keyup",E=>{if(E.code==="KeyP"){const W=document.documentElement.getAttribute("print-preview")===String(!0);document.documentElement.setAttribute("print-preview",`${!W}`),C({duration:500,padding:.1})}});const f={default:wk},d={connection:ck},h=He(structuredClone(he(ln).nodes));be(t,h,E=>n(10,i=E));const g=He(structuredClone(he(ln).edges));be(t,g,E=>n(13,a=E));const m={animated:!1,type:"connection",class:""},y={padding:1,duration:1e3},{screenToFlowPosition:v,fitView:C}=j8(),O=E=>{if(E.preventDefault(),E.dataTransfer){const W=document.elementFromPoint(E.clientX,E.clientY);let D="";E.dataTransfer.types[0]==="application/patchcanvasnode"?D=".svelte-flow__pane, .svelte-flow__edge, .svelte-flow__node.group":E.dataTransfer.types[0].includes("patchcanvasprotocol/")?D=".drop-target":E.dataTransfer.types[0]==="application/patchcanvaseraser"&&(D=".svelte-flow__handle"),W!=null&&W.matches(D)?E.dataTransfer.dropEffect="move":E.dataTransfer.dropEffect="none"}},k=E=>{if(E.preventDefault(),!E.dataTransfer)return null;if(E.dataTransfer.types[0]==="application/patchcanvasnode"){const W=JSON.parse(E.dataTransfer.getData("application/patchcanvasnode"));H(W,E.clientX,E.clientY)}};function H(E,W,D){const S=v({x:W,y:D}),Y={id:crypto.randomUUID().toString(),type:"default",position:S,connectable:!E.group,data:{label:"Unnamed "+(E.group?"group":"node"),group:E.group??!1,inputs:E.inputs??[],outputs:E.outputs??[]},class:E.group?"group":void 0,dragHandle:".drag-dots",origin:[.5,0]};i.push(Y),i.sort((w,X)=>w.data.group?X.data.group?0:-1:X.data.group?1:0),h.set(i)}function M(E){var W;C(y),document.fullscreenElement||(W=document.querySelector('[media="screen"]'))==null||W.setAttribute("media","print")}const B=function(){var E;(E=document.querySelector('[media="print"]'))==null||E.setAttribute("media","screen"),document.addEventListener("fullscreenchange",M),document.documentElement.requestFullscreen()},A=()=>{var E;u.theme==="dark"?di(qu,u.theme="light",u):di(qu,u.theme="dark",u),document.documentElement.setAttribute("data-theme",u.theme),(E=document.querySelector('meta[name="color-scheme"]'))==null||E.setAttribute("content",u.theme)},I=E=>console.log("Node clicked:",E.detail.node),p=E=>console.log("Edge clicked:",E.detail.edge);return t.$$.update=()=>{t.$$.dirty&9216&&ln.update(E=>({...E,nodes:i,edges:a})),t.$$.dirty&6144&&s.updated&&s.mode===o&&(h.set(he(ln).nodes),g.set(he(ln).edges),ln.update(E=>({...E,updated:!1})),console.log("Update applied!"),setTimeout(()=>C(y),50))},[u,f,d,h,g,m,y,O,k,M,i,o,s,a,B,A,I,p]}class Fk extends Be{constructor(e){super(),ze(this,e,Wk,zk,Ye,{})}}export{Fk as C,Be as S,xk as a,Xe as b,Te as c,oe as d,Ee as e,ye as f,fe as g,re as h,ze as i,Me as j,be as k,ln as l,Ae as m,Ql as n,he as o,di as p,Uh as q,Ju as r,Ye as s,se as t,Dr as u,Pt as v,Ct as w,Et as x,Xk as y};
