var ws=Object.defineProperty;var ks=(t,e,n)=>e in t?ws(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Et=(t,e,n)=>(ks(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function re(){}function Ve(t,e){for(const n in e)t[n]=e[n];return t}function Vl(t){return t()}function lo(){return Object.create(null)}function Oe(t){t.forEach(Vl)}function Ne(t){return typeof t=="function"}function ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Wl(t,e){return t!=t?e==e:t!==e}function Ss(t){return Object.keys(t).length===0}function fi(t,...e){if(t==null){for(const i of e)i(void 0);return re}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function U(t){let e;return fi(t,n=>e=n)(),e}function Q(t,e,n){t.$$.on_destroy.push(fi(e,n))}function Xe(t,e,n,i){if(t){const o=Rl(t,e,n,i);return t[0](o)}}function Rl(t,e,n,i){return t[1]&&i?Ve(n.ctx.slice(),t[1](i(e))):n.ctx}function pe(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const l=[],r=Math.max(e.dirty.length,o.length);for(let s=0;s<r;s+=1)l[s]=e.dirty[s]|o[s];return l}return e.dirty|o}return e.dirty}function Ye(t,e,n,i,o,l){if(o){const r=Rl(e,n,i,l);t.p(r,o)}}function Le(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Ui(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Zt(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function Es(t){const e={};for(const n in t)e[n]=!0;return e}function ro(t){return t??""}function jn(t,e,n){return t.set(n),e}function Ke(t){return t&&Ne(t.destroy)?t.destroy:re}const Cs=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ye(t,e){t.appendChild(e)}function K(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function gn(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function we(t){return document.createElement(t)}function me(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function je(t){return document.createTextNode(t)}function ge(){return je(" ")}function Ie(){return je("")}function be(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function w(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const vs=["width","height"];function Ut(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&vs.indexOf(i)===-1?t[i]=e[i]:w(t,i,e[i])}function zs(t){return Array.from(t.childNodes)}function en(t,e){e=""+e,t.data!==e&&(t.data=e)}function de(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let Xn;function Ms(){if(Xn===void 0){Xn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Xn=!0}}return Xn}function Ps(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=we("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=Ms();let l;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=be(window,"message",r=>{r.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{l=be(i.contentWindow,"resize",e),e()}),ye(t,i),()=>{(o||l&&i.contentWindow)&&l(),B(i)}}function he(t,e,n){t.classList.toggle(e,!!n)}function Hs(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class Ns{constructor(e=!1){Et(this,"is_svg",!1);Et(this,"e");Et(this,"n");Et(this,"t");Et(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=me(n.nodeName):this.e=we(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)K(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(B)}}function xn(t,e){return new t(e)}let mn;function cn(t){mn=t}function tn(){if(!mn)throw new Error("Function called outside component initialization");return mn}function Pn(t){tn().$$.on_mount.push(t)}function qi(t){tn().$$.on_destroy.push(t)}function ci(){const t=tn();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=Hs(e,n,{cancelable:i});return o.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}function _n(t,e){return tn().$$.context.set(t,e),e}function yn(t){return tn().$$.context.get(t)}function As(t){return tn().$$.context.has(t)}function Ee(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const Vt=[],_t=[];let Rt=[];const so=[],Ts=Promise.resolve();let Di=!1;function Os(){Di||(Di=!0,Ts.then(Bl))}function $n(t){Rt.push(t)}const Ci=new Set;let Yt=0;function Bl(){if(Yt!==0)return;const t=mn;do{try{for(;Yt<Vt.length;){const e=Vt[Yt];Yt++,cn(e),Is(e.$$)}}catch(e){throw Vt.length=0,Yt=0,e}for(cn(null),Vt.length=0,Yt=0;_t.length;)_t.pop()();for(let e=0;e<Rt.length;e+=1){const n=Rt[e];Ci.has(n)||(Ci.add(n),n())}Rt.length=0}while(Vt.length);for(;so.length;)so.pop()();Di=!1,Ci.clear(),cn(t)}function Is(t){if(t.fragment!==null){t.update(),Oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($n)}}function Ds(t){const e=[],n=[];Rt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Rt=e}const Un=new Set;let Ht;function ve(){Ht={r:0,c:[],p:Ht}}function ze(){Ht.r||Oe(Ht.c),Ht=Ht.p}function X(t,e){t&&t.i&&(Un.delete(t),t.i(e))}function W(t,e,n,i){if(t&&t.o){if(Un.has(t))return;Un.add(t),Ht.c.push(()=>{Un.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function De(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function di(t,e){W(t,1,1,()=>{e.delete(t.key)})}function hi(t,e,n,i,o,l,r,s,u,a,f,c){let d=t.length,h=l.length,m=d;const y={};for(;m--;)y[t[m].key]=m;const C=[],g=new Map,k=new Map,_=[];for(m=h;m--;){const P=c(o,l,m),v=n(P);let M=r.get(v);M?i&&_.push(()=>M.p(P,e)):(M=a(v,P),M.c()),g.set(v,C[m]=M),v in y&&k.set(v,Math.abs(m-y[v]))}const b=new Set,z=new Set;function A(P){X(P,1),P.m(s,f),r.set(P.key,P),f=P.first,h--}for(;d&&h;){const P=C[h-1],v=t[d-1],M=P.key,D=v.key;P===v?(f=P.first,d--,h--):g.has(D)?!r.has(M)||b.has(M)?A(P):z.has(D)?d--:k.get(M)>k.get(D)?(z.add(M),A(P)):(b.add(D),d--):(u(v,r),d--)}for(;d--;){const P=t[d];g.has(P.key)||u(P,r)}for(;h;)A(C[h-1]);return Oe(_),C}function yt(t,e){const n={},i={},o={$$scope:1};let l=t.length;for(;l--;){const r=t[l],s=e[l];if(s){for(const u in r)u in s||(i[u]=1);for(const u in s)o[u]||(n[u]=s[u],o[u]=1);t[l]=s}else for(const u in r)o[u]=1}for(const r in i)r in n||(n[r]=void 0);return n}function qt(t){return typeof t=="object"&&t!==null?t:{}}function te(t){t&&t.c()}function $(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),$n(()=>{const l=t.$$.on_mount.map(Vl).filter(Ne);t.$$.on_destroy?t.$$.on_destroy.push(...l):Oe(l),t.$$.on_mount=[]}),o.forEach($n)}function ee(t,e){const n=t.$$;n.fragment!==null&&(Ds(n.after_update),Oe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Xs(t,e){t.$$.dirty[0]===-1&&(Vt.push(t),Os(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ae(t,e,n,i,o,l,r=null,s=[-1]){const u=mn;cn(t);const a=t.$$={fragment:null,ctx:[],props:l,update:re,not_equal:o,bound:lo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:lo(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};r&&r(a.root);let f=!1;if(a.ctx=n?n(t,e.props||{},(c,d,...h)=>{const m=h.length?h[0]:d;return a.ctx&&o(a.ctx[c],a.ctx[c]=m)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](m),f&&Xs(t,c)),d}):[],a.update(),f=!0,Oe(a.before_update),a.fragment=i?i(a.ctx):!1,e.target){if(e.hydrate){const c=zs(e.target);a.fragment&&a.fragment.l(c),c.forEach(B)}else a.fragment&&a.fragment.c();e.intro&&X(t.$$.fragment),$(t,e.target,e.anchor),Bl()}cn(u)}class fe{constructor(){Et(this,"$$");Et(this,"$$set")}$destroy(){ee(this,1),this.$destroy=re}$on(e,n){if(!Ne(n))return re;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Ss(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ps="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ps);const Lt=[];function xe(t,e){return{subscribe:se(t,e).subscribe}}function se(t,e=re){let n;const i=new Set;function o(s){if(ue(t,s)&&(t=s,n)){const u=!Lt.length;for(const a of i)a[1](),Lt.push(a,t);if(u){for(let a=0;a<Lt.length;a+=2)Lt[a][0](Lt[a+1]);Lt.length=0}}}function l(s){o(s(t))}function r(s,u=re){const a=[s,u];return i.add(a),i.size===1&&(n=e(o,l)||re),s(t),()=>{i.delete(a),i.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:r}}function Gt(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return xe(n,(r,s)=>{let u=!1;const a=[];let f=0,c=re;const d=()=>{if(f)return;c();const m=e(i?a[0]:a,r,s);l?r(m):c=Ne(m)?m:re},h=o.map((m,y)=>fi(m,C=>{a[y]=C,f&=~(1<<y),u&&d()},()=>{f|=1<<y}));return u=!0,d(),function(){Oe(h),c(),u=!1}})}function Se(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Se(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Ys={value:()=>{}};function gi(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new qn(n)}function qn(t){this._=t}function Ls(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}qn.prototype=gi.prototype={constructor:qn,on:function(t,e){var n=this._,i=Ls(t+"",n),o,l=-1,r=i.length;if(arguments.length<2){for(;++l<r;)if((o=(t=i[l]).type)&&(o=Vs(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<r;)if(o=(t=i[l]).type)n[o]=uo(n[o],t.name,e);else if(e==null)for(o in n)n[o]=uo(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new qn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,l;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],i=0,o=l.length;i<o;++i)l[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,l=i.length;o<l;++o)i[o].value.apply(e,n)}};function Vs(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function uo(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Ys,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Xi="http://www.w3.org/1999/xhtml";const ao={svg:"http://www.w3.org/2000/svg",xhtml:Xi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ao.hasOwnProperty(e)?{space:ao[e],local:t}:t}function Ws(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Xi&&e.documentElement.namespaceURI===Xi?e.createElement(t):e.createElementNS(n,t)}}function Rs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Kl(t){var e=mi(t);return(e.local?Rs:Ws)(e)}function Bs(){}function Gi(t){return t==null?Bs:function(){return this.querySelector(t)}}function Ks(t){typeof t!="function"&&(t=Gi(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],r=l.length,s=i[o]=new Array(r),u,a,f=0;f<r;++f)(u=l[f])&&(a=t.call(u,u.__data__,f,l))&&("__data__"in u&&(a.__data__=u.__data__),s[f]=a);return new Je(i,this._parents)}function Fs(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Zs(){return[]}function Fl(t){return t==null?Zs:function(){return this.querySelectorAll(t)}}function Us(t){return function(){return Fs(t.apply(this,arguments))}}function qs(t){typeof t=="function"?t=Us(t):t=Fl(t);for(var e=this._groups,n=e.length,i=[],o=[],l=0;l<n;++l)for(var r=e[l],s=r.length,u,a=0;a<s;++a)(u=r[a])&&(i.push(t.call(u,u.__data__,a,r)),o.push(u));return new Je(i,o)}function Zl(t){return function(){return this.matches(t)}}function Ul(t){return function(e){return e.matches(t)}}var Gs=Array.prototype.find;function Js(t){return function(){return Gs.call(this.children,t)}}function Qs(){return this.firstElementChild}function js(t){return this.select(t==null?Qs:Js(typeof t=="function"?t:Ul(t)))}var xs=Array.prototype.filter;function $s(){return Array.from(this.children)}function eu(t){return function(){return xs.call(this.children,t)}}function tu(t){return this.selectAll(t==null?$s:eu(typeof t=="function"?t:Ul(t)))}function nu(t){typeof t!="function"&&(t=Zl(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],r=l.length,s=i[o]=[],u,a=0;a<r;++a)(u=l[a])&&t.call(u,u.__data__,a,l)&&s.push(u);return new Je(i,this._parents)}function ql(t){return new Array(t.length)}function iu(){return new Je(this._enter||this._groups.map(ql),this._parents)}function ei(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ei.prototype={constructor:ei,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ou(t){return function(){return t}}function lu(t,e,n,i,o,l){for(var r=0,s,u=e.length,a=l.length;r<a;++r)(s=e[r])?(s.__data__=l[r],i[r]=s):n[r]=new ei(t,l[r]);for(;r<u;++r)(s=e[r])&&(o[r]=s)}function ru(t,e,n,i,o,l,r){var s,u,a=new Map,f=e.length,c=l.length,d=new Array(f),h;for(s=0;s<f;++s)(u=e[s])&&(d[s]=h=r.call(u,u.__data__,s,e)+"",a.has(h)?o[s]=u:a.set(h,u));for(s=0;s<c;++s)h=r.call(t,l[s],s,l)+"",(u=a.get(h))?(i[s]=u,u.__data__=l[s],a.delete(h)):n[s]=new ei(t,l[s]);for(s=0;s<f;++s)(u=e[s])&&a.get(d[s])===u&&(o[s]=u)}function su(t){return t.__data__}function uu(t,e){if(!arguments.length)return Array.from(this,su);var n=e?ru:lu,i=this._parents,o=this._groups;typeof t!="function"&&(t=ou(t));for(var l=o.length,r=new Array(l),s=new Array(l),u=new Array(l),a=0;a<l;++a){var f=i[a],c=o[a],d=c.length,h=au(t.call(f,f&&f.__data__,a,i)),m=h.length,y=s[a]=new Array(m),C=r[a]=new Array(m),g=u[a]=new Array(d);n(f,c,y,C,g,h,e);for(var k=0,_=0,b,z;k<m;++k)if(b=y[k]){for(k>=_&&(_=k+1);!(z=C[_])&&++_<m;);b._next=z||null}}return r=new Je(r,i),r._enter=s,r._exit=u,r}function au(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function fu(){return new Je(this._exit||this._groups.map(ql),this._parents)}function cu(t,e,n){var i=this.enter(),o=this,l=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?l.remove():n(l),i&&o?i.merge(o).order():o}function du(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,l=i.length,r=Math.min(o,l),s=new Array(o),u=0;u<r;++u)for(var a=n[u],f=i[u],c=a.length,d=s[u]=new Array(c),h,m=0;m<c;++m)(h=a[m]||f[m])&&(d[m]=h);for(;u<o;++u)s[u]=n[u];return new Je(s,this._parents)}function hu(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,l=i[o],r;--o>=0;)(r=i[o])&&(l&&r.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(r,l),l=r);return this}function gu(t){t||(t=mu);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),l=0;l<i;++l){for(var r=n[l],s=r.length,u=o[l]=new Array(s),a,f=0;f<s;++f)(a=r[f])&&(u[f]=a);u.sort(e)}return new Je(o,this._parents).order()}function mu(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _u(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function yu(){return Array.from(this)}function bu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length;o<l;++o){var r=i[o];if(r)return r}return null}function wu(){let t=0;for(const e of this)++t;return t}function ku(){return!this.node()}function Su(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],l=0,r=o.length,s;l<r;++l)(s=o[l])&&t.call(s,s.__data__,l,o);return this}function Eu(t){return function(){this.removeAttribute(t)}}function Cu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vu(t,e){return function(){this.setAttribute(t,e)}}function zu(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Mu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Pu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Hu(t,e){var n=mi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Cu:Eu:typeof e=="function"?n.local?Pu:Mu:n.local?zu:vu)(n,e))}function Gl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Nu(t){return function(){this.style.removeProperty(t)}}function Au(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Tu(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ou(t,e,n){return arguments.length>1?this.each((e==null?Nu:typeof e=="function"?Tu:Au)(t,e,n??"")):Jt(this.node(),t)}function Jt(t,e){return t.style.getPropertyValue(e)||Gl(t).getComputedStyle(t,null).getPropertyValue(e)}function Iu(t){return function(){delete this[t]}}function Du(t,e){return function(){this[t]=e}}function Xu(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function pu(t,e){return arguments.length>1?this.each((e==null?Iu:typeof e=="function"?Xu:Du)(t,e)):this.node()[t]}function Jl(t){return t.trim().split(/^|\s+/)}function Ji(t){return t.classList||new Ql(t)}function Ql(t){this._node=t,this._names=Jl(t.getAttribute("class")||"")}Ql.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function jl(t,e){for(var n=Ji(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function xl(t,e){for(var n=Ji(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function Yu(t){return function(){jl(this,t)}}function Lu(t){return function(){xl(this,t)}}function Vu(t,e){return function(){(e.apply(this,arguments)?jl:xl)(this,t)}}function Wu(t,e){var n=Jl(t+"");if(arguments.length<2){for(var i=Ji(this.node()),o=-1,l=n.length;++o<l;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Vu:e?Yu:Lu)(n,e))}function Ru(){this.textContent=""}function Bu(t){return function(){this.textContent=t}}function Ku(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Fu(t){return arguments.length?this.each(t==null?Ru:(typeof t=="function"?Ku:Bu)(t)):this.node().textContent}function Zu(){this.innerHTML=""}function Uu(t){return function(){this.innerHTML=t}}function qu(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Gu(t){return arguments.length?this.each(t==null?Zu:(typeof t=="function"?qu:Uu)(t)):this.node().innerHTML}function Ju(){this.nextSibling&&this.parentNode.appendChild(this)}function Qu(){return this.each(Ju)}function ju(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xu(){return this.each(ju)}function $u(t){var e=typeof t=="function"?t:Kl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ea(){return null}function ta(t,e){var n=typeof t=="function"?t:Kl(t),i=e==null?ea:typeof e=="function"?e:Gi(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function na(){var t=this.parentNode;t&&t.removeChild(this)}function ia(){return this.each(na)}function oa(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function la(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ra(t){return this.select(t?la:oa)}function sa(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ua(t){return function(e){t.call(this,e,this.__data__)}}function aa(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function fa(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,l;n<o;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++i]=l;++i?e.length=i:delete this.__on}}}function ca(t,e,n){return function(){var i=this.__on,o,l=ua(e);if(i){for(var r=0,s=i.length;r<s;++r)if((o=i[r]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),o.value=e;return}}this.addEventListener(t.type,l,n),o={type:t.type,name:t.name,value:e,listener:l,options:n},i?i.push(o):this.__on=[o]}}function da(t,e,n){var i=aa(t+""),o,l=i.length,r;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,a=s.length,f;u<a;++u)for(o=0,f=s[u];o<l;++o)if((r=i[o]).type===f.type&&r.name===f.name)return f.value}return}for(s=e?ca:fa,o=0;o<l;++o)this.each(s(i[o],e,n));return this}function $l(t,e,n){var i=Gl(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function ha(t,e){return function(){return $l(this,t,e)}}function ga(t,e){return function(){return $l(this,t,e.apply(this,arguments))}}function ma(t,e){return this.each((typeof e=="function"?ga:ha)(t,e))}function*_a(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length,r;o<l;++o)(r=i[o])&&(yield r)}var er=[null];function Je(t,e){this._groups=t,this._parents=e}function Hn(){return new Je([[document.documentElement]],er)}function ya(){return this}Je.prototype=Hn.prototype={constructor:Je,select:Ks,selectAll:qs,selectChild:js,selectChildren:tu,filter:nu,data:uu,enter:iu,exit:fu,join:cu,merge:du,selection:ya,order:hu,sort:gu,call:_u,nodes:yu,node:bu,size:wu,empty:ku,each:Su,attr:Hu,style:Ou,property:pu,classed:Wu,text:Fu,html:Gu,raise:Qu,lower:xu,append:$u,insert:ta,remove:ia,clone:ra,datum:sa,on:da,dispatch:ma,[Symbol.iterator]:_a};function Ge(t){return typeof t=="string"?new Je([[document.querySelector(t)]],[document.documentElement]):new Je([[t]],er)}function ba(t){let e;for(;e=t.sourceEvent;)t=e;return t}function $e(t,e){if(t=ba(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const wa={passive:!1},bn={capture:!0,passive:!1};function vi(t){t.stopImmediatePropagation()}function Bt(t){t.preventDefault(),t.stopImmediatePropagation()}function tr(t){var e=t.document.documentElement,n=Ge(t).on("dragstart.drag",Bt,bn);"onselectstart"in e?n.on("selectstart.drag",Bt,bn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function nr(t,e){var n=t.document.documentElement,i=Ge(t).on("dragstart.drag",null);e&&(i.on("click.drag",Bt,bn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const pn=t=>()=>t;function pi(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:l,x:r,y:s,dx:u,dy:a,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:r,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:f}})}pi.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ka(t){return!t.ctrlKey&&!t.button}function Sa(){return this.parentNode}function Ea(t,e){return e??{x:t.x,y:t.y}}function Ca(){return navigator.maxTouchPoints||"ontouchstart"in this}function ir(){var t=ka,e=Sa,n=Ea,i=Ca,o={},l=gi("start","drag","end"),r=0,s,u,a,f,c=0;function d(b){b.on("mousedown.drag",h).filter(i).on("touchstart.drag",C).on("touchmove.drag",g,wa).on("touchend.drag touchcancel.drag",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,z){if(!(f||!t.call(this,b,z))){var A=_(this,e.call(this,b,z),b,z,"mouse");A&&(Ge(b.view).on("mousemove.drag",m,bn).on("mouseup.drag",y,bn),tr(b.view),vi(b),a=!1,s=b.clientX,u=b.clientY,A("start",b))}}function m(b){if(Bt(b),!a){var z=b.clientX-s,A=b.clientY-u;a=z*z+A*A>c}o.mouse("drag",b)}function y(b){Ge(b.view).on("mousemove.drag mouseup.drag",null),nr(b.view,a),Bt(b),o.mouse("end",b)}function C(b,z){if(t.call(this,b,z)){var A=b.changedTouches,P=e.call(this,b,z),v=A.length,M,D;for(M=0;M<v;++M)(D=_(this,P,b,z,A[M].identifier,A[M]))&&(vi(b),D("start",b,A[M]))}}function g(b){var z=b.changedTouches,A=z.length,P,v;for(P=0;P<A;++P)(v=o[z[P].identifier])&&(Bt(b),v("drag",b,z[P]))}function k(b){var z=b.changedTouches,A=z.length,P,v;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),P=0;P<A;++P)(v=o[z[P].identifier])&&(vi(b),v("end",b,z[P]))}function _(b,z,A,P,v,M){var D=l.copy(),S=$e(M||A,z),Y,I,E;if((E=n.call(b,new pi("beforestart",{sourceEvent:A,target:d,identifier:v,active:r,x:S[0],y:S[1],dx:0,dy:0,dispatch:D}),P))!=null)return Y=E.x-S[0]||0,I=E.y-S[1]||0,function T(N,L,p){var R=S,q;switch(N){case"start":o[v]=T,q=r++;break;case"end":delete o[v],--r;case"drag":S=$e(p||L,z),q=r;break}D.call(N,b,new pi(N,{sourceEvent:L,subject:E,target:d,identifier:v,active:q,x:S[0]+Y,y:S[1]+I,dx:S[0]-R[0],dy:S[1]-R[1],dispatch:D}),P)}}return d.filter=function(b){return arguments.length?(t=typeof b=="function"?b:pn(!!b),d):t},d.container=function(b){return arguments.length?(e=typeof b=="function"?b:pn(b),d):e},d.subject=function(b){return arguments.length?(n=typeof b=="function"?b:pn(b),d):n},d.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:pn(!!b),d):i},d.on=function(){var b=l.on.apply(l,arguments);return b===l?d:b},d.clickDistance=function(b){return arguments.length?(c=(b=+b)*b,d):Math.sqrt(c)},d}function Qi(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function or(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Nn(){}var wn=.7,ti=1/wn,Kt="\\s*([+-]?\\d+)\\s*",kn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",va=/^#([0-9a-f]{3,8})$/,za=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),Ma=new RegExp(`^rgb\\(${lt},${lt},${lt}\\)$`),Pa=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${kn}\\)$`),Ha=new RegExp(`^rgba\\(${lt},${lt},${lt},${kn}\\)$`),Na=new RegExp(`^hsl\\(${kn},${lt},${lt}\\)$`),Aa=new RegExp(`^hsla\\(${kn},${lt},${lt},${kn}\\)$`),fo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qi(Nn,Sn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:co,formatHex:co,formatHex8:Ta,formatHsl:Oa,formatRgb:ho,toString:ho});function co(){return this.rgb().formatHex()}function Ta(){return this.rgb().formatHex8()}function Oa(){return lr(this).formatHsl()}function ho(){return this.rgb().formatRgb()}function Sn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=va.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?go(e):n===3?new Ze(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=za.exec(t))?new Ze(e[1],e[2],e[3],1):(e=Ma.exec(t))?new Ze(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pa.exec(t))?Yn(e[1],e[2],e[3],e[4]):(e=Ha.exec(t))?Yn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Na.exec(t))?yo(e[1],e[2]/100,e[3]/100,1):(e=Aa.exec(t))?yo(e[1],e[2]/100,e[3]/100,e[4]):fo.hasOwnProperty(t)?go(fo[t]):t==="transparent"?new Ze(NaN,NaN,NaN,0):null}function go(t){return new Ze(t>>16&255,t>>8&255,t&255,1)}function Yn(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ze(t,e,n,i)}function Ia(t){return t instanceof Nn||(t=Sn(t)),t?(t=t.rgb(),new Ze(t.r,t.g,t.b,t.opacity)):new Ze}function Yi(t,e,n,i){return arguments.length===1?Ia(t):new Ze(t,e,n,i??1)}function Ze(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Qi(Ze,Yi,or(Nn,{brighter(t){return t=t==null?ti:Math.pow(ti,t),new Ze(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new Ze(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ze(At(this.r),At(this.g),At(this.b),ni(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mo,formatHex:mo,formatHex8:Da,formatRgb:_o,toString:_o}));function mo(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function Da(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function _o(){const t=ni(this.opacity);return`${t===1?"rgb(":"rgba("}${At(this.r)}, ${At(this.g)}, ${At(this.b)}${t===1?")":`, ${t})`}`}function ni(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function At(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=At(t),(t<16?"0":"")+t.toString(16)}function yo(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new et(t,e,n,i)}function lr(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);if(t instanceof Nn||(t=Sn(t)),!t)return new et;if(t instanceof et)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),l=Math.max(e,n,i),r=NaN,s=l-o,u=(l+o)/2;return s?(e===l?r=(n-i)/s+(n<i)*6:n===l?r=(i-e)/s+2:r=(e-n)/s+4,s/=u<.5?l+o:2-l-o,r*=60):s=u>0&&u<1?0:r,new et(r,s,u,t.opacity)}function Xa(t,e,n,i){return arguments.length===1?lr(t):new et(t,e,n,i??1)}function et(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Qi(et,Xa,or(Nn,{brighter(t){return t=t==null?ti:Math.pow(ti,t),new et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?wn:Math.pow(wn,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new Ze(zi(t>=240?t-240:t+120,o,i),zi(t,o,i),zi(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new et(bo(this.h),Ln(this.s),Ln(this.l),ni(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ni(this.opacity);return`${t===1?"hsl(":"hsla("}${bo(this.h)}, ${Ln(this.s)*100}%, ${Ln(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bo(t){return t=(t||0)%360,t<0?t+360:t}function Ln(t){return Math.max(0,Math.min(1,t||0))}function zi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const rr=t=>()=>t;function pa(t,e){return function(n){return t+n*e}}function Ya(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function La(t){return(t=+t)==1?sr:function(e,n){return n-e?Ya(e,n,t):rr(isNaN(e)?n:e)}}function sr(t,e){var n=e-t;return n?pa(t,n):rr(isNaN(t)?e:t)}const wo=function t(e){var n=La(e);function i(o,l){var r=n((o=Yi(o)).r,(l=Yi(l)).r),s=n(o.g,l.g),u=n(o.b,l.b),a=sr(o.opacity,l.opacity);return function(f){return o.r=r(f),o.g=s(f),o.b=u(f),o.opacity=a(f),o+""}}return i.gamma=t,i}(1);function zt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Li=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mi=new RegExp(Li.source,"g");function Va(t){return function(){return t}}function Wa(t){return function(e){return t(e)+""}}function Ra(t,e){var n=Li.lastIndex=Mi.lastIndex=0,i,o,l,r=-1,s=[],u=[];for(t=t+"",e=e+"";(i=Li.exec(t))&&(o=Mi.exec(e));)(l=o.index)>n&&(l=e.slice(n,l),s[r]?s[r]+=l:s[++r]=l),(i=i[0])===(o=o[0])?s[r]?s[r]+=o:s[++r]=o:(s[++r]=null,u.push({i:r,x:zt(i,o)})),n=Mi.lastIndex;return n<e.length&&(l=e.slice(n),s[r]?s[r]+=l:s[++r]=l),s.length<2?u[0]?Wa(u[0].x):Va(e):(e=u.length,function(a){for(var f=0,c;f<e;++f)s[(c=u[f]).i]=c.x(a);return s.join("")})}var ko=180/Math.PI,Vi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ur(t,e,n,i,o,l){var r,s,u;return(r=Math.sqrt(t*t+e*e))&&(t/=r,e/=r),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,u/=s),t*i<e*n&&(t=-t,e=-e,u=-u,r=-r),{translateX:o,translateY:l,rotate:Math.atan2(e,t)*ko,skewX:Math.atan(u)*ko,scaleX:r,scaleY:s}}var Vn;function Ba(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Vi:ur(e.a,e.b,e.c,e.d,e.e,e.f)}function Ka(t){return t==null||(Vn||(Vn=document.createElementNS("http://www.w3.org/2000/svg","g")),Vn.setAttribute("transform",t),!(t=Vn.transform.baseVal.consolidate()))?Vi:(t=t.matrix,ur(t.a,t.b,t.c,t.d,t.e,t.f))}function ar(t,e,n,i){function o(a){return a.length?a.pop()+" ":""}function l(a,f,c,d,h,m){if(a!==c||f!==d){var y=h.push("translate(",null,e,null,n);m.push({i:y-4,x:zt(a,c)},{i:y-2,x:zt(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function r(a,f,c,d){a!==f?(a-f>180?f+=360:f-a>180&&(a+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:zt(a,f)})):f&&c.push(o(c)+"rotate("+f+i)}function s(a,f,c,d){a!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:zt(a,f)}):f&&c.push(o(c)+"skewX("+f+i)}function u(a,f,c,d,h,m){if(a!==c||f!==d){var y=h.push(o(h)+"scale(",null,",",null,")");m.push({i:y-4,x:zt(a,c)},{i:y-2,x:zt(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(a,f){var c=[],d=[];return a=t(a),f=t(f),l(a.translateX,a.translateY,f.translateX,f.translateY,c,d),r(a.rotate,f.rotate,c,d),s(a.skewX,f.skewX,c,d),u(a.scaleX,a.scaleY,f.scaleX,f.scaleY,c,d),a=f=null,function(h){for(var m=-1,y=d.length,C;++m<y;)c[(C=d[m]).i]=C.x(h);return c.join("")}}}var Fa=ar(Ba,"px, ","px)","deg)"),Za=ar(Ka,", ",")",")"),Ua=1e-12;function So(t){return((t=Math.exp(t))+1/t)/2}function qa(t){return((t=Math.exp(t))-1/t)/2}function Ga(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ja=function t(e,n,i){function o(l,r){var s=l[0],u=l[1],a=l[2],f=r[0],c=r[1],d=r[2],h=f-s,m=c-u,y=h*h+m*m,C,g;if(y<Ua)g=Math.log(d/a)/e,C=function(P){return[s+P*h,u+P*m,a*Math.exp(e*P*g)]};else{var k=Math.sqrt(y),_=(d*d-a*a+i*y)/(2*a*n*k),b=(d*d-a*a-i*y)/(2*d*n*k),z=Math.log(Math.sqrt(_*_+1)-_),A=Math.log(Math.sqrt(b*b+1)-b);g=(A-z)/e,C=function(P){var v=P*g,M=So(z),D=a/(n*k)*(M*Ga(e*v+z)-qa(z));return[s+D*h,u+D*m,a*M/So(e*v+z)]}}return C.duration=g*1e3*e/Math.SQRT2,C}return o.rho=function(l){var r=Math.max(.001,+l),s=r*r,u=s*s;return t(r,s,u)},o}(Math.SQRT2,2,4);var Qt=0,un=0,rn=0,fr=1e3,ii,an,oi=0,Tt=0,_i=0,En=typeof performance=="object"&&performance.now?performance:Date,cr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ji(){return Tt||(cr(Qa),Tt=En.now()+_i)}function Qa(){Tt=0}function li(){this._call=this._time=this._next=null}li.prototype=dr.prototype={constructor:li,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ji():+n)+(e==null?0:+e),!this._next&&an!==this&&(an?an._next=this:ii=this,an=this),this._call=t,this._time=n,Wi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wi())}};function dr(t,e,n){var i=new li;return i.restart(t,e,n),i}function ja(){ji(),++Qt;for(var t=ii,e;t;)(e=Tt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Qt}function Eo(){Tt=(oi=En.now())+_i,Qt=un=0;try{ja()}finally{Qt=0,$a(),Tt=0}}function xa(){var t=En.now(),e=t-oi;e>fr&&(_i-=e,oi=t)}function $a(){for(var t,e=ii,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ii=n);an=t,Wi(i)}function Wi(t){if(!Qt){un&&(un=clearTimeout(un));var e=t-Tt;e>24?(t<1/0&&(un=setTimeout(Eo,t-En.now()-_i)),rn&&(rn=clearInterval(rn))):(rn||(oi=En.now(),rn=setInterval(xa,fr)),Qt=1,cr(Eo))}}function Co(t,e,n){var i=new li;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var ef=gi("start","end","cancel","interrupt"),tf=[],hr=0,vo=1,Ri=2,Gn=3,zo=4,Bi=5,Jn=6;function yi(t,e,n,i,o,l){var r=t.__transition;if(!r)t.__transition={};else if(n in r)return;nf(t,n,{name:e,index:i,group:o,on:ef,tween:tf,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:hr})}function xi(t,e){var n=tt(t,e);if(n.state>hr)throw new Error("too late; already scheduled");return n}function st(t,e){var n=tt(t,e);if(n.state>Gn)throw new Error("too late; already running");return n}function tt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function nf(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=dr(l,0,n.time);function l(a){n.state=vo,n.timer.restart(r,n.delay,n.time),n.delay<=a&&r(a-n.delay)}function r(a){var f,c,d,h;if(n.state!==vo)return u();for(f in i)if(h=i[f],h.name===n.name){if(h.state===Gn)return Co(r);h.state===zo?(h.state=Jn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=Jn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(Co(function(){n.state===Gn&&(n.state=zo,n.timer.restart(s,n.delay,n.time),s(a))}),n.state=Ri,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ri){for(n.state=Gn,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function s(a){for(var f=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=Bi,1),c=-1,d=o.length;++c<d;)o[c].call(t,f);n.state===Bi&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Jn,n.timer.stop(),delete i[e];for(var a in i)return;delete t.__transition}}function Qn(t,e){var n=t.__transition,i,o,l=!0,r;if(n){e=e==null?null:e+"";for(r in n){if((i=n[r]).name!==e){l=!1;continue}o=i.state>Ri&&i.state<Bi,i.state=Jn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[r]}l&&delete t.__transition}}function of(t){return this.each(function(){Qn(this,t)})}function lf(t,e){var n,i;return function(){var o=st(this,t),l=o.tween;if(l!==n){i=n=l;for(var r=0,s=i.length;r<s;++r)if(i[r].name===e){i=i.slice(),i.splice(r,1);break}}o.tween=i}}function rf(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var l=st(this,t),r=l.tween;if(r!==i){o=(i=r).slice();for(var s={name:e,value:n},u=0,a=o.length;u<a;++u)if(o[u].name===e){o[u]=s;break}u===a&&o.push(s)}l.tween=o}}function sf(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=tt(this.node(),n).tween,o=0,l=i.length,r;o<l;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((e==null?lf:rf)(n,t,e))}function $i(t,e,n){var i=t._id;return t.each(function(){var o=st(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return tt(o,i).value[e]}}function gr(t,e){var n;return(typeof e=="number"?zt:e instanceof Sn?wo:(n=Sn(e))?(e=n,wo):Ra)(t,e)}function uf(t){return function(){this.removeAttribute(t)}}function af(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ff(t,e,n){var i,o=n+"",l;return function(){var r=this.getAttribute(t);return r===o?null:r===i?l:l=e(i=r,n)}}function cf(t,e,n){var i,o=n+"",l;return function(){var r=this.getAttributeNS(t.space,t.local);return r===o?null:r===i?l:l=e(i=r,n)}}function df(t,e,n){var i,o,l;return function(){var r,s=n(this),u;return s==null?void this.removeAttribute(t):(r=this.getAttribute(t),u=s+"",r===u?null:r===i&&u===o?l:(o=u,l=e(i=r,s)))}}function hf(t,e,n){var i,o,l;return function(){var r,s=n(this),u;return s==null?void this.removeAttributeNS(t.space,t.local):(r=this.getAttributeNS(t.space,t.local),u=s+"",r===u?null:r===i&&u===o?l:(o=u,l=e(i=r,s)))}}function gf(t,e){var n=mi(t),i=n==="transform"?Za:gr;return this.attrTween(t,typeof e=="function"?(n.local?hf:df)(n,i,$i(this,"attr."+t,e)):e==null?(n.local?af:uf)(n):(n.local?cf:ff)(n,i,e))}function mf(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function _f(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function yf(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&_f(t,l)),n}return o._value=e,o}function bf(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&mf(t,l)),n}return o._value=e,o}function wf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=mi(t);return this.tween(n,(i.local?yf:bf)(i,e))}function kf(t,e){return function(){xi(this,t).delay=+e.apply(this,arguments)}}function Sf(t,e){return e=+e,function(){xi(this,t).delay=e}}function Ef(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?kf:Sf)(e,t)):tt(this.node(),e).delay}function Cf(t,e){return function(){st(this,t).duration=+e.apply(this,arguments)}}function vf(t,e){return e=+e,function(){st(this,t).duration=e}}function zf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Cf:vf)(e,t)):tt(this.node(),e).duration}function Mf(t,e){if(typeof e!="function")throw new Error;return function(){st(this,t).ease=e}}function Pf(t){var e=this._id;return arguments.length?this.each(Mf(e,t)):tt(this.node(),e).ease}function Hf(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;st(this,t).ease=n}}function Nf(t){if(typeof t!="function")throw new Error;return this.each(Hf(this._id,t))}function Af(t){typeof t!="function"&&(t=Zl(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],r=l.length,s=i[o]=[],u,a=0;a<r;++a)(u=l[a])&&t.call(u,u.__data__,a,l)&&s.push(u);return new bt(i,this._parents,this._name,this._id)}function Tf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,l=Math.min(i,o),r=new Array(i),s=0;s<l;++s)for(var u=e[s],a=n[s],f=u.length,c=r[s]=new Array(f),d,h=0;h<f;++h)(d=u[h]||a[h])&&(c[h]=d);for(;s<i;++s)r[s]=e[s];return new bt(r,this._parents,this._name,this._id)}function Of(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function If(t,e,n){var i,o,l=Of(e)?xi:st;return function(){var r=l(this,t),s=r.on;s!==i&&(o=(i=s).copy()).on(e,n),r.on=o}}function Df(t,e){var n=this._id;return arguments.length<2?tt(this.node(),n).on.on(t):this.each(If(n,t,e))}function Xf(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function pf(){return this.on("end.remove",Xf(this._id))}function Yf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Gi(t));for(var i=this._groups,o=i.length,l=new Array(o),r=0;r<o;++r)for(var s=i[r],u=s.length,a=l[r]=new Array(u),f,c,d=0;d<u;++d)(f=s[d])&&(c=t.call(f,f.__data__,d,s))&&("__data__"in f&&(c.__data__=f.__data__),a[d]=c,yi(a[d],e,n,d,a,tt(f,n)));return new bt(l,this._parents,e,n)}function Lf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Fl(t));for(var i=this._groups,o=i.length,l=[],r=[],s=0;s<o;++s)for(var u=i[s],a=u.length,f,c=0;c<a;++c)if(f=u[c]){for(var d=t.call(f,f.__data__,c,u),h,m=tt(f,n),y=0,C=d.length;y<C;++y)(h=d[y])&&yi(h,e,n,y,d,m);l.push(d),r.push(f)}return new bt(l,r,e,n)}var Vf=Hn.prototype.constructor;function Wf(){return new Vf(this._groups,this._parents)}function Rf(t,e){var n,i,o;return function(){var l=Jt(this,t),r=(this.style.removeProperty(t),Jt(this,t));return l===r?null:l===n&&r===i?o:o=e(n=l,i=r)}}function mr(t){return function(){this.style.removeProperty(t)}}function Bf(t,e,n){var i,o=n+"",l;return function(){var r=Jt(this,t);return r===o?null:r===i?l:l=e(i=r,n)}}function Kf(t,e,n){var i,o,l;return function(){var r=Jt(this,t),s=n(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(t),Jt(this,t))),r===u?null:r===i&&u===o?l:(o=u,l=e(i=r,s))}}function Ff(t,e){var n,i,o,l="style."+e,r="end."+l,s;return function(){var u=st(this,t),a=u.on,f=u.value[l]==null?s||(s=mr(e)):void 0;(a!==n||o!==f)&&(i=(n=a).copy()).on(r,o=f),u.on=i}}function Zf(t,e,n){var i=(t+="")=="transform"?Fa:gr;return e==null?this.styleTween(t,Rf(t,i)).on("end.style."+t,mr(t)):typeof e=="function"?this.styleTween(t,Kf(t,i,$i(this,"style."+t,e))).each(Ff(this._id,t)):this.styleTween(t,Bf(t,i,e),n).on("end.style."+t,null)}function Uf(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function qf(t,e,n){var i,o;function l(){var r=e.apply(this,arguments);return r!==o&&(i=(o=r)&&Uf(t,r,n)),i}return l._value=e,l}function Gf(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,qf(t,e,n??""))}function Jf(t){return function(){this.textContent=t}}function Qf(t){return function(){var e=t(this);this.textContent=e??""}}function jf(t){return this.tween("text",typeof t=="function"?Qf($i(this,"text",t)):Jf(t==null?"":t+""))}function xf(t){return function(e){this.textContent=t.call(this,e)}}function $f(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&xf(o)),e}return i._value=t,i}function ec(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,$f(t))}function tc(){for(var t=this._name,e=this._id,n=_r(),i=this._groups,o=i.length,l=0;l<o;++l)for(var r=i[l],s=r.length,u,a=0;a<s;++a)if(u=r[a]){var f=tt(u,e);yi(u,t,n,a,r,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new bt(i,this._parents,t,n)}function nc(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(l,r){var s={value:r},u={value:function(){--o===0&&l()}};n.each(function(){var a=st(this,i),f=a.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),a.on=e}),o===0&&l()})}var ic=0;function bt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function _r(){return++ic}var ct=Hn.prototype;bt.prototype={constructor:bt,select:Yf,selectAll:Lf,selectChild:ct.selectChild,selectChildren:ct.selectChildren,filter:Af,merge:Tf,selection:Wf,transition:tc,call:ct.call,nodes:ct.nodes,node:ct.node,size:ct.size,empty:ct.empty,each:ct.each,on:Df,attr:gf,attrTween:wf,style:Zf,styleTween:Gf,text:jf,textTween:ec,remove:pf,tween:sf,delay:Ef,duration:zf,ease:Pf,easeVarying:Nf,end:nc,[Symbol.iterator]:ct[Symbol.iterator]};function oc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var lc={time:null,delay:0,duration:250,ease:oc};function rc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function sc(t){var e,n;t instanceof bt?(e=t._id,t=t._name):(e=_r(),(n=lc).time=ji(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,l=0;l<o;++l)for(var r=i[l],s=r.length,u,a=0;a<s;++a)(u=r[a])&&yi(u,t,e,a,r,n||rc(u,e));return new bt(i,this._parents,t,e)}Hn.prototype.interrupt=of;Hn.prototype.transition=sc;const Wn=t=>()=>t;function uc(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function ht(t,e,n){this.k=t,this.x=e,this.y=n}ht.prototype={constructor:ht,scale:function(t){return t===1?this:new ht(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ht(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bi=new ht(1,0,0);yr.prototype=ht.prototype;function yr(t){for(;!t.__zoom;)if(!(t=t.parentNode))return bi;return t.__zoom}function Pi(t){t.stopImmediatePropagation()}function sn(t){t.preventDefault(),t.stopImmediatePropagation()}function ac(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function fc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Mo(){return this.__zoom||bi}function cc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function dc(){return navigator.maxTouchPoints||"ontouchstart"in this}function hc(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],l=t.invertY(e[0][1])-n[0][1],r=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),r>l?(l+r)/2:Math.min(0,l)||Math.max(0,r))}function br(){var t=ac,e=fc,n=hc,i=cc,o=dc,l=[0,1/0],r=[[-1/0,-1/0],[1/0,1/0]],s=250,u=Ja,a=gi("start","zoom","end"),f,c,d,h=500,m=150,y=0,C=10;function g(E){E.property("__zoom",Mo).on("wheel.zoom",v,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",S).on("touchmove.zoom",Y).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(E,T,N,L){var p=E.selection?E.selection():E;p.property("__zoom",Mo),E!==p?z(E,T,N,L):p.interrupt().each(function(){A(this,arguments).event(L).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},g.scaleBy=function(E,T,N,L){g.scaleTo(E,function(){var p=this.__zoom.k,R=typeof T=="function"?T.apply(this,arguments):T;return p*R},N,L)},g.scaleTo=function(E,T,N,L){g.transform(E,function(){var p=e.apply(this,arguments),R=this.__zoom,q=N==null?b(p):typeof N=="function"?N.apply(this,arguments):N,J=R.invert(q),V=typeof T=="function"?T.apply(this,arguments):T;return n(_(k(R,V),q,J),p,r)},N,L)},g.translateBy=function(E,T,N,L){g.transform(E,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof N=="function"?N.apply(this,arguments):N),e.apply(this,arguments),r)},null,L)},g.translateTo=function(E,T,N,L,p){g.transform(E,function(){var R=e.apply(this,arguments),q=this.__zoom,J=L==null?b(R):typeof L=="function"?L.apply(this,arguments):L;return n(bi.translate(J[0],J[1]).scale(q.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof N=="function"?-N.apply(this,arguments):-N),R,r)},L,p)};function k(E,T){return T=Math.max(l[0],Math.min(l[1],T)),T===E.k?E:new ht(T,E.x,E.y)}function _(E,T,N){var L=T[0]-N[0]*E.k,p=T[1]-N[1]*E.k;return L===E.x&&p===E.y?E:new ht(E.k,L,p)}function b(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function z(E,T,N,L){E.on("start.zoom",function(){A(this,arguments).event(L).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(L).end()}).tween("zoom",function(){var p=this,R=arguments,q=A(p,R).event(L),J=e.apply(p,R),V=N==null?b(J):typeof N=="function"?N.apply(p,R):N,ne=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),le=p.__zoom,ce=typeof T=="function"?T.apply(p,R):T,H=u(le.invert(V).concat(ne/le.k),ce.invert(V).concat(ne/ce.k));return function(j){if(j===1)j=ce;else{var ie=H(j),F=ne/ie[2];j=new ht(F,V[0]-ie[0]*F,V[1]-ie[1]*F)}q.zoom(null,j)}})}function A(E,T,N){return!N&&E.__zooming||new P(E,T)}function P(E,T){this.that=E,this.args=T,this.active=0,this.sourceEvent=null,this.extent=e.apply(E,T),this.taps=0}P.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,T){return this.mouse&&E!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var T=Ge(this.that).datum();a.call(E,this.that,new uc(E,{sourceEvent:this.sourceEvent,target:g,type:E,transform:this.that.__zoom,dispatch:a}),T)}};function v(E,...T){if(!t.apply(this,arguments))return;var N=A(this,T).event(E),L=this.__zoom,p=Math.max(l[0],Math.min(l[1],L.k*Math.pow(2,i.apply(this,arguments)))),R=$e(E);if(N.wheel)(N.mouse[0][0]!==R[0]||N.mouse[0][1]!==R[1])&&(N.mouse[1]=L.invert(N.mouse[0]=R)),clearTimeout(N.wheel);else{if(L.k===p)return;N.mouse=[R,L.invert(R)],Qn(this),N.start()}sn(E),N.wheel=setTimeout(q,m),N.zoom("mouse",n(_(k(L,p),N.mouse[0],N.mouse[1]),N.extent,r));function q(){N.wheel=null,N.end()}}function M(E,...T){if(d||!t.apply(this,arguments))return;var N=E.currentTarget,L=A(this,T,!0).event(E),p=Ge(E.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",ne,!0),R=$e(E,N),q=E.clientX,J=E.clientY;tr(E.view),Pi(E),L.mouse=[R,this.__zoom.invert(R)],Qn(this),L.start();function V(le){if(sn(le),!L.moved){var ce=le.clientX-q,H=le.clientY-J;L.moved=ce*ce+H*H>y}L.event(le).zoom("mouse",n(_(L.that.__zoom,L.mouse[0]=$e(le,N),L.mouse[1]),L.extent,r))}function ne(le){p.on("mousemove.zoom mouseup.zoom",null),nr(le.view,L.moved),sn(le),L.event(le).end()}}function D(E,...T){if(t.apply(this,arguments)){var N=this.__zoom,L=$e(E.changedTouches?E.changedTouches[0]:E,this),p=N.invert(L),R=N.k*(E.shiftKey?.5:2),q=n(_(k(N,R),L,p),e.apply(this,T),r);sn(E),s>0?Ge(this).transition().duration(s).call(z,q,L,E):Ge(this).call(g.transform,q,L,E)}}function S(E,...T){if(t.apply(this,arguments)){var N=E.touches,L=N.length,p=A(this,T,E.changedTouches.length===L).event(E),R,q,J,V;for(Pi(E),q=0;q<L;++q)J=N[q],V=$e(J,this),V=[V,this.__zoom.invert(V),J.identifier],p.touch0?!p.touch1&&p.touch0[2]!==V[2]&&(p.touch1=V,p.taps=0):(p.touch0=V,R=!0,p.taps=1+!!f);f&&(f=clearTimeout(f)),R&&(p.taps<2&&(c=V[0],f=setTimeout(function(){f=null},h)),Qn(this),p.start())}}function Y(E,...T){if(this.__zooming){var N=A(this,T).event(E),L=E.changedTouches,p=L.length,R,q,J,V;for(sn(E),R=0;R<p;++R)q=L[R],J=$e(q,this),N.touch0&&N.touch0[2]===q.identifier?N.touch0[0]=J:N.touch1&&N.touch1[2]===q.identifier&&(N.touch1[0]=J);if(q=N.that.__zoom,N.touch1){var ne=N.touch0[0],le=N.touch0[1],ce=N.touch1[0],H=N.touch1[1],j=(j=ce[0]-ne[0])*j+(j=ce[1]-ne[1])*j,ie=(ie=H[0]-le[0])*ie+(ie=H[1]-le[1])*ie;q=k(q,Math.sqrt(j/ie)),J=[(ne[0]+ce[0])/2,(ne[1]+ce[1])/2],V=[(le[0]+H[0])/2,(le[1]+H[1])/2]}else if(N.touch0)J=N.touch0[0],V=N.touch0[1];else return;N.zoom("touch",n(_(q,J,V),N.extent,r))}}function I(E,...T){if(this.__zooming){var N=A(this,T).event(E),L=E.changedTouches,p=L.length,R,q;for(Pi(E),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),R=0;R<p;++R)q=L[R],N.touch0&&N.touch0[2]===q.identifier?delete N.touch0:N.touch1&&N.touch1[2]===q.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(q=$e(q,this),Math.hypot(c[0]-q[0],c[1]-q[1])<C)){var J=Ge(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return g.wheelDelta=function(E){return arguments.length?(i=typeof E=="function"?E:Wn(+E),g):i},g.filter=function(E){return arguments.length?(t=typeof E=="function"?E:Wn(!!E),g):t},g.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:Wn(!!E),g):o},g.extent=function(E){return arguments.length?(e=typeof E=="function"?E:Wn([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),g):e},g.scaleExtent=function(E){return arguments.length?(l[0]=+E[0],l[1]=+E[1],g):[l[0],l[1]]},g.translateExtent=function(E){return arguments.length?(r[0][0]=+E[0][0],r[1][0]=+E[1][0],r[0][1]=+E[0][1],r[1][1]=+E[1][1],g):[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},g.constrain=function(E){return arguments.length?(n=E,g):n},g.duration=function(E){return arguments.length?(s=+E,g):s},g.interpolate=function(E){return arguments.length?(u=E,g):u},g.on=function(){var E=a.on.apply(a,arguments);return E===a?g:E},g.clickDistance=function(E){return arguments.length?(y=(E=+E)*E,g):Math.sqrt(y)},g.tapDistance=function(E){return arguments.length?(C=+E,g):C},g}const An={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Ae=Symbol.for("internals"),Po=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Mt;(function(t){t.Strict="strict",t.Loose="loose"})(Mt||(Mt={}));var rt;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(rt||(rt={}));var ri;(function(t){t.Partial="partial",t.Full="full"})(ri||(ri={}));var Ft;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Ft||(Ft={}));var jt;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(jt||(jt={}));var _e;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(_e||(_e={}));function gc(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function Ho(t,e,n){if(!n)return;const i=[];t.forEach((o,l)=>{e!=null&&e.has(l)||i.push(o)}),i.length&&n(i)}const mc=t=>"id"in t&&"source"in t&&"target"in t,_c=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),nn=(t,e=[0,0])=>{var s;if(!t)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const{width:n,height:i}=On(t),o=n*e[0],l=i*e[1],r={x:t.position.x-o,y:t.position.y-l};return{position:r,positionAbsolute:(s=t.computed)!=null&&s.positionAbsolute?{x:t.computed.positionAbsolute.x-o,y:t.computed.positionAbsolute.y-l}:r}},Tn=(t,e={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const l=nn(o,o.origin||e.nodeOrigin);return eo(i,si({...l[e.useRelativePosition?"position":"positionAbsolute"],...On(o)}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return to(n)},wr=(t,e,[n,i,o]=[0,0,1],l=!1,r=!1,s=[0,0])=>{const u={...wi(e,[n,i,o]),width:e.width/o,height:e.height/o};return t.reduce((f,c)=>{const{computed:d,selectable:h=!0,hidden:m=!1}=c,y=(d==null?void 0:d.width)??c.width??c.initialWidth??null,C=(d==null?void 0:d.height)??c.height??c.initialHeight??null;if(r&&!h||m)return f;const g=ui(u,Fi(c,s)),k=y===null||C===null,_=l&&g>0,b=(y??0)*(C??0);return(k||_||g>=b||c.dragging)&&f.push(c),f},[])},Ki=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function yc({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:l,nodeOrigin:r=[0,0]},s){const u=t.filter(a=>{var c,d,h;const f=((c=a.computed)==null?void 0:c.width)&&((d=a.computed)==null?void 0:d.height)&&((s==null?void 0:s.includeHiddenNodes)||!a.hidden);return(h=s==null?void 0:s.nodes)!=null&&h.length?f&&(s==null?void 0:s.nodes.some(m=>m.id===a.id)):f});if(u.length>0){const a=Tn(u,{nodeOrigin:r}),f=io(a,e,n,(s==null?void 0:s.minZoom)??o,(s==null?void 0:s.maxZoom)??l,(s==null?void 0:s.padding)??.1);return i.setViewport(f,{duration:s==null?void 0:s.duration}),!0}return!1}function bc(t,e){var n,i;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.computed)==null?void 0:n.width)??0),e[1][1]-(((i=t.computed)==null?void 0:i.height)??0)]]}function wc({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:l}){var d,h,m,y;const r=n.get(t),s=r.parentNode?n.get(r.parentNode):void 0,{x:u,y:a}=s?nn(s,s.origin||i).positionAbsolute:{x:0,y:0};let f=bc(r,r.extent||o);if(r.extent==="parent"&&!r.expandParent)if(!s)l==null||l("005",An.error005());else{const C=(d=r.computed)==null?void 0:d.width,g=(h=r.computed)==null?void 0:h.height,k=(m=s==null?void 0:s.computed)==null?void 0:m.width,_=(y=s==null?void 0:s.computed)==null?void 0:y.height;if(C&&g&&k&&_){const b=r.origin||i,z=u+C*b[0],A=a+g*b[1];f=[[z,A],[z+k-C,A+_-g]]}}else s&&Oo(r.extent)&&(f=[[r.extent[0][0]+u,r.extent[0][1]+a],[r.extent[1][0]+u,r.extent[1][1]+a]]);const c=Oo(f)?kc(e,f):e;return{position:{x:c.x-u,y:c.y-a},positionAbsolute:c}}async function kr({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const l=t.map(d=>d.id),r=[];for(const d of n){if(d.deletable===!1)continue;const h=l.includes(d.id),m=!h&&d.parentNode&&r.find(y=>y.id===d.parentNode);(h||m)&&r.push(d)}const s=e.map(d=>d.id),u=i.filter(d=>d.deletable!==!1),f=Ki(r,u);for(const d of u)s.includes(d.id)&&!f.find(m=>m.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:r};const c=await o({nodes:r,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:r}:{edges:[],nodes:[]}:c}const xt=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),kc=(t={x:0,y:0},e)=>({x:xt(t.x,e[0][0],e[1][0]),y:xt(t.y,e[0][1],e[1][1])}),No=(t,e,n)=>t<e?xt(Math.abs(t-e),1,50)/50:t>n?-xt(Math.abs(t-n),1,50)/50:0,Sr=(t,e)=>{const n=No(t.x,35,e.width-35)*20,i=No(t.y,35,e.height-35)*20;return[n,i]},eo=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),si=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),to=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Fi=(t,e=[0,0])=>{var i,o;const{positionAbsolute:n}=nn(t,t.origin||e);return{...n,width:((i=t.computed)==null?void 0:i.width)??t.width??0,height:((o=t.computed)==null?void 0:o.height)??t.height??0}},Ao=(t,e=[0,0])=>{var i,o;const{positionAbsolute:n}=nn(t,t.origin||e);return{...n,x2:n.x+(((i=t.computed)==null?void 0:i.width)??t.width??0),y2:n.y+(((o=t.computed)==null?void 0:o.height)??t.height??0)}},Sc=(t,e)=>to(eo(si(t),si(e))),ui=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},To=t=>fn(t.width)&&fn(t.height)&&fn(t.x)&&fn(t.y),fn=t=>!isNaN(t)&&isFinite(t),Ec=(t,e)=>{},Cc=({x:t,y:e,width:n,height:i,origin:o=[0,0]})=>!n||!i||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:e}:{x:t-n*o[0],y:e-i*o[1]},no=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),wi=({x:t,y:e},[n,i,o],l=!1,r=[1,1])=>{const s={x:(t-n)/o,y:(e-i)/o};return l?no(s,r):s},Er=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),io=(t,e,n,i,o,l)=>{const r=e/(t.width*(1+l)),s=n/(t.height*(1+l)),u=Math.min(r,s),a=xt(u,i,o),f=t.x+t.width/2,c=t.y+t.height/2,d=e/2-f*a,h=n/2-c*a;return{x:d,y:h,zoom:a}},ai=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Oo(t){return t!==void 0&&t!=="parent"}function On(t){var e,n;return{width:((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Cn(t){var e,n;return(((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function dn(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:l}=gt(t),r=wi({x:o,y:l},i),{x:s,y:u}=n?no(r,e):r;return{xSnapped:s,ySnapped:u,...r}}const Cr=t=>({width:t.offsetWidth,height:t.offsetHeight}),vc=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},zc=["INPUT","SELECT","TEXTAREA"];function Mc(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return zc.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const vr=t=>"clientX"in t,gt=(t,e)=>{var l,r;const n=vr(t),i=n?t.clientX:(l=t.touches)==null?void 0:l[0].clientX,o=n?t.clientY:(r=t.touches)==null?void 0:r[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Io=(t,e,n,i=[0,0])=>{const o=e.querySelectorAll(t);if(!o||!o.length)return null;const l=Array.from(o),r=e.getBoundingClientRect(),s={x:r.width*i[0],y:r.height*i[1]};return l.map(u=>{const a=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(a.left-r.left-s.x)/n,y:(a.top-r.top-s.y)/n,...Cr(u)}})};function Pc({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:r,targetControlY:s}){const u=t*.125+o*.375+r*.375+n*.125,a=e*.125+l*.375+s*.375+i*.125,f=Math.abs(u-t),c=Math.abs(a-e);return[u,a,f,c]}function Rn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Do({pos:t,x1:e,y1:n,x2:i,y2:o,c:l}){switch(t){case _e.Left:return[e-Rn(e-i,l),n];case _e.Right:return[e+Rn(i-e,l),n];case _e.Top:return[e,n-Rn(n-o,l)];case _e.Bottom:return[e,n+Rn(o-n,l)]}}function zr({sourceX:t,sourceY:e,sourcePosition:n=_e.Bottom,targetX:i,targetY:o,targetPosition:l=_e.Top,curvature:r=.25}){const[s,u]=Do({pos:n,x1:t,y1:e,x2:i,y2:o,c:r}),[a,f]=Do({pos:l,x1:i,y1:o,x2:t,y2:e,c:r}),[c,d,h,m]=Pc({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:a,targetControlY:f});return[`M${t},${e} C${s},${u} ${a},${f} ${i},${o}`,c,d,h,m]}function Mr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,l=n<t?n+o:n-o,r=Math.abs(i-e)/2,s=i<e?i+r:i-r;return[l,s,o,r]}function Hc({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){var s,u;if(!o)return i;const l=n||e.selected||t.selected,r=Math.max(((s=t[Ae])==null?void 0:s.z)||0,((u=e[Ae])==null?void 0:u.z)||0,1e3);return i+(l?r:0)}function Nc({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const l=eo(Ao(t),Ao(e));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const r={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return ui(r,to(l))>0}const Ac=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,Tc=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Oc=(t,e)=>{if(!t.source||!t.target)return e;let n;return mc(t)?n={...t}:n={...t,id:Ac(t)},Tc(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function Pr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,l,r,s]=Mr({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,l,r,s]}const Xo={[_e.Left]:{x:-1,y:0},[_e.Right]:{x:1,y:0},[_e.Top]:{x:0,y:-1},[_e.Bottom]:{x:0,y:1}},Ic=({source:t,sourcePosition:e=_e.Bottom,target:n})=>e===_e.Left||e===_e.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},po=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Dc({source:t,sourcePosition:e=_e.Bottom,target:n,targetPosition:i=_e.Top,center:o,offset:l}){const r=Xo[e],s=Xo[i],u={x:t.x+r.x*l,y:t.y+r.y*l},a={x:n.x+s.x*l,y:n.y+s.y*l},f=Ic({source:u,sourcePosition:e,target:a}),c=f.x!==0?"x":"y",d=f[c];let h=[],m,y;const C={x:0,y:0},g={x:0,y:0},[k,_,b,z]=Mr({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(r[c]*s[c]===-1){m=o.x??k,y=o.y??_;const P=[{x:m,y:u.y},{x:m,y:a.y}],v=[{x:u.x,y},{x:a.x,y}];r[c]===d?h=c==="x"?P:v:h=c==="x"?v:P}else{const P=[{x:u.x,y:a.y}],v=[{x:a.x,y:u.y}];if(c==="x"?h=r.x===d?v:P:h=r.y===d?P:v,e===i){const I=Math.abs(t[c]-n[c]);if(I<=l){const E=Math.min(l-1,l-I);r[c]===d?C[c]=(u[c]>t[c]?-1:1)*E:g[c]=(a[c]>n[c]?-1:1)*E}}if(e!==i){const I=c==="x"?"y":"x",E=r[c]===s[I],T=u[I]>a[I],N=u[I]<a[I];(r[c]===1&&(!E&&T||E&&N)||r[c]!==1&&(!E&&N||E&&T))&&(h=c==="x"?P:v)}const M={x:u.x+C.x,y:u.y+C.y},D={x:a.x+g.x,y:a.y+g.y},S=Math.max(Math.abs(M.x-h[0].x),Math.abs(D.x-h[0].x)),Y=Math.max(Math.abs(M.y-h[0].y),Math.abs(D.y-h[0].y));S>=Y?(m=(M.x+D.x)/2,y=h[0].y):(m=h[0].x,y=(M.y+D.y)/2)}return[[t,{x:u.x+C.x,y:u.y+C.y},...h,{x:a.x+g.x,y:a.y+g.y},n],m,y,b,z]}function Xc(t,e,n,i){const o=Math.min(po(t,e)/2,po(e,n)/2,i),{x:l,y:r}=e;if(t.x===l&&l===n.x||t.y===r&&r===n.y)return`L${l} ${r}`;if(t.y===r){const a=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${l+o*a},${r}Q ${l},${r} ${l},${r+o*f}`}const s=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${l},${r+o*u}Q ${l},${r} ${l+o*s},${r}`}function $t({sourceX:t,sourceY:e,sourcePosition:n=_e.Bottom,targetX:i,targetY:o,targetPosition:l=_e.Top,borderRadius:r=5,centerX:s,centerY:u,offset:a=20}){const[f,c,d,h,m]=Dc({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:l,center:{x:s,y:u},offset:a});return[f.reduce((C,g,k)=>{let _="";return k>0&&k<f.length-1?_=Xc(f[k-1],g,f[k+1],r):_=`${k===0?"M":"L"}${g.x} ${g.y}`,C+=_,C},""),c,d,h,m]}function Yo(t){var e,n,i;return!!((e=t==null?void 0:t[Ae])!=null&&e.handleBounds||(n=t==null?void 0:t.handles)!=null&&n.length)&&!!((i=t==null?void 0:t.computed)!=null&&i.width||t!=null&&t.width||t!=null&&t.initialWidth)}function pc(t){var h,m,y;const{sourceNode:e,targetNode:n}=t;if(!Yo(e)||!Yo(n))return null;const i=((h=e[Ae])==null?void 0:h.handleBounds)||Lo(e.handles),o=((m=n[Ae])==null?void 0:m.handleBounds)||Lo(n.handles),l=Wo((i==null?void 0:i.source)??[],t.sourceHandle),r=Wo(t.connectionMode===Mt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle),s=(l==null?void 0:l.position)||_e.Bottom,u=(r==null?void 0:r.position)||_e.Top;if(!l||!r)return(y=t.onError)==null||y.call(t,"008",An.error008(l?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const[a,f]=Vo(s,e,l),[c,d]=Vo(u,n,r);return{sourceX:a,sourceY:f,targetX:c,targetY:d,sourcePosition:s,targetPosition:u}}function Lo(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function Vo(t,e,n=null){var s,u,a,f;const i=((n==null?void 0:n.x)??0)+(((u=(s=e.computed)==null?void 0:s.positionAbsolute)==null?void 0:u.x)??0),o=((n==null?void 0:n.y)??0)+(((f=(a=e.computed)==null?void 0:a.positionAbsolute)==null?void 0:f.y)??0),{width:l,height:r}=n??On(e);switch(t){case _e.Top:return[i+l/2,o];case _e.Right:return[i+l,o+r/2];case _e.Bottom:return[i+l/2,o+r];case _e.Left:return[i,o+r/2]}}function Wo(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Zi(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function Yc(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const l=new Set;return t.reduce((r,s)=>([s.markerStart||i,s.markerEnd||o].forEach(u=>{if(u&&typeof u=="object"){const a=Zi(u,e);l.has(a)||(r.push({id:a,color:u.color||n,...u}),l.add(a))}}),r),[]).sort((r,s)=>r.id.localeCompare(s.id))}function Lc(t,e,n=[0,0],i){return t.map(o=>{var l,r,s,u,a,f;if(o.parentNode&&!e.has(o.parentNode))throw new Error(`Parent node ${o.parentNode} not found`);if(o.parentNode||i!=null&&i[o.id]){const c=o.parentNode?e.get(o.parentNode):null,{x:d,y:h,z:m}=Nr(o,t,e,{...o.position,z:((l=o[Ae])==null?void 0:l.z)??0},(c==null?void 0:c.origin)||n),y=d!==((s=(r=o.computed)==null?void 0:r.positionAbsolute)==null?void 0:s.x)||h!==((a=(u=o.computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y);o.computed.positionAbsolute=y?{x:d,y:h}:(f=o.computed)==null?void 0:f.positionAbsolute,o[Ae].z=m,i!=null&&i[o.id]&&(o[Ae].isParent=!0)}return o})}function Hr(t,e,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i=new Map(e);e.clear();const o={},l=n!=null&&n.elevateNodesOnSelect?1e3:0,r=t.map(u=>{var h,m,y;const a=i.get(u.id);if(u===((h=a==null?void 0:a[Ae])==null?void 0:h.userProvidedNode))return e.set(u.id,a),a;const f={...n.defaults,...u,computed:{positionAbsolute:u.position,width:(m=u.computed)==null?void 0:m.width,height:(y=u.computed)==null?void 0:y.height}},c=(fn(u.zIndex)?u.zIndex:0)+(u.selected?l:0),d=(u==null?void 0:u[Ae])||(a==null?void 0:a[Ae]);return f.parentNode&&(o[f.parentNode]=!0),Object.defineProperty(f,Ae,{enumerable:!1,value:{handleBounds:d==null?void 0:d.handleBounds,z:c,userProvidedNode:u}}),e.set(f.id,f),f});return Lc(r,e,n.nodeOrigin,o)}function Nr(t,e,n,i,o){var s,u;if(!t.parentNode)return i;const l=n.get(t.parentNode),{position:r}=nn(l,(l==null?void 0:l.origin)||o);return Nr(l,e,n,{x:(i.x??0)+r.x,y:(i.y??0)+r.y,z:(((s=l[Ae])==null?void 0:s.z)??0)>(i.z??0)?((u=l[Ae])==null?void 0:u.z)??0:i.z??0},l.origin||o)}function Vc(t,e,n,i,o,l){const r=i==null?void 0:i.querySelector(".xyflow__viewport");if(!r)return null;const s=window.getComputedStyle(r),{m22:u}=new window.DOMMatrixReadOnly(s.transform);return e.map(f=>{var d,h;const c=t.get(f.id);if(c){const m=Cr(c.nodeElement);if(!!(m.width&&m.height&&(((d=f.computed)==null?void 0:d.width)!==m.width||((h=f.computed)==null?void 0:h.height)!==m.height||c.forceUpdate))){l==null||l(f.id,m);const C={...f,computed:{...f.computed,...m},[Ae]:{...f[Ae],handleBounds:{source:Io(".source",c.nodeElement,u,f.origin||o),target:Io(".target",c.nodeElement,u,f.origin||o)}}};return n.set(f.id,C),C}}return f})}function Wc({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:l}){if(!e||!t.x&&!t.y)return!1;const r=e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,l]],i);return!!r&&(r.x!==n[0]||r.y!==n[1]||r.k!==n[2])}function Ar(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:l,sourceHandle:r=null,targetHandle:s=null}=i,u=`${o}-source-${r}`,a=`${l}-target-${s}`,f=t.get(u)||new Map,c=t.get(a)||new Map,d={edgeId:i.id,source:o,target:l,sourceHandle:r,targetHandle:s};e.set(i.id,i),t.set(u,f.set(`${l}-${s}`,d)),t.set(a,c.set(`${o}-${r}`,d))}}function Hi(t){return(e,n,i)=>t==null?void 0:t(e,i)}function Tr(t,e){if(!t.parentNode)return!1;const n=e.find(i=>i.id===i.parentNode);return n?n.selected?!0:Tr(n,e):!1}function Ro(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function Rc(t,e,n,i){return t.filter(o=>(o.selected||o.id===i)&&(!o.parentNode||!Tr(o,t))&&(o.draggable||e&&typeof o.draggable>"u")).map(o=>{var l,r,s,u,a,f,c;return{id:o.id,position:o.position||{x:0,y:0},distance:{x:n.x-(((r=(l=o.computed)==null?void 0:l.positionAbsolute)==null?void 0:r.x)??0),y:n.y-(((u=(s=o.computed)==null?void 0:s.positionAbsolute)==null?void 0:u.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,origin:o.origin,expandParent:o.expandParent,computed:{positionAbsolute:((a=o.computed)==null?void 0:a.positionAbsolute)||{x:0,y:0},width:((f=o.computed)==null?void 0:f.width)||0,height:((c=o.computed)==null?void 0:c.height)||0}}})}function Ni({nodeId:t,dragItems:e,nodeLookup:n}){const i=e.map(o=>({...n.get(o.id),position:o.position,computed:{...o.computed,positionAbsolute:o.computed.positionAbsolute}}));return[t?i.find(o=>o.id===t):i[0],i]}function Bc({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let l={x:null,y:null},r=0,s=[],u=!1,a={x:0,y:0},f=null,c=!1,d=null;function h({noDragClassName:y,handleSelector:C,domNode:g,isSelectable:k,nodeId:_}){d=Ge(g);function b({x:v,y:M},D){const{nodeLookup:S,nodeExtent:Y,snapGrid:I,snapToGrid:E,nodeOrigin:T,onNodeDrag:N,onSelectionDrag:L,onError:p,updateNodePositions:R}=e();l={x:v,y:M};let q=!1,J={x:0,y:0,x2:0,y2:0};if(s.length>1&&Y){const V=Tn(s,{nodeOrigin:T});J=si(V)}if(s=s.map(V=>{var j,ie;let ne={x:v-V.distance.x,y:M-V.distance.y};E&&(ne=no(ne,I));const le=[[Y[0][0],Y[0][1]],[Y[1][0],Y[1][1]]];s.length>1&&Y&&!V.extent&&(le[0][0]=V.computed.positionAbsolute.x-J.x+Y[0][0],le[1][0]=V.computed.positionAbsolute.x+(((j=V.computed)==null?void 0:j.width)??0)-J.x2+Y[1][0],le[0][1]=V.computed.positionAbsolute.y-J.y+Y[0][1],le[1][1]=V.computed.positionAbsolute.y+(((ie=V.computed)==null?void 0:ie.height)??0)-J.y2+Y[1][1]);const{position:ce,positionAbsolute:H}=wc({nodeId:V.id,nextPosition:ne,nodeLookup:S,nodeExtent:le,nodeOrigin:T,onError:p});return q=q||V.position.x!==ce.x||V.position.y!==ce.y,V.position=ce,V.computed.positionAbsolute=H,V}),!!q&&(R(s,!0),D&&(i||N||!_&&L))){const[V,ne]=Ni({nodeId:_,dragItems:s,nodeLookup:S});i==null||i(D,s,V,ne),N==null||N(D,V,ne),_||Hi(L)(D,V,ne)}}function z(){if(!f)return;const[v,M]=Sr(a,f);if(v!==0||M!==0){const{transform:D,panBy:S}=e();l.x=(l.x??0)-v/D[2],l.y=(l.y??0)-M/D[2],S({x:v,y:M})&&b(l,null)}r=requestAnimationFrame(z)}function A(v){var J;const{nodes:M,nodeLookup:D,multiSelectionActive:S,nodesDraggable:Y,transform:I,snapGrid:E,snapToGrid:T,selectNodesOnDrag:N,onNodeDragStart:L,onSelectionDragStart:p,unselectNodesAndEdges:R}=e();c=!0,(!N||!k)&&!S&&_&&((J=D.get(_))!=null&&J.selected||R()),k&&N&&_&&(t==null||t(_));const q=dn(v.sourceEvent,{transform:I,snapGrid:E,snapToGrid:T});if(l=q,s=Rc(M,Y,q,_),s.length>0&&(n||L||!_&&p)){const[V,ne]=Ni({nodeId:_,dragItems:s,nodeLookup:D});n==null||n(v.sourceEvent,s,V,ne),L==null||L(v.sourceEvent,V,ne),_||Hi(p)(v.sourceEvent,V,ne)}}const P=ir().on("start",v=>{const{domNode:M,nodeDragThreshold:D,transform:S,snapGrid:Y,snapToGrid:I}=e();D===0&&A(v),l=dn(v.sourceEvent,{transform:S,snapGrid:Y,snapToGrid:I}),f=(M==null?void 0:M.getBoundingClientRect())||null,a=gt(v.sourceEvent,f)}).on("drag",v=>{const{autoPanOnNodeDrag:M,transform:D,snapGrid:S,snapToGrid:Y,nodeDragThreshold:I}=e(),E=dn(v.sourceEvent,{transform:D,snapGrid:S,snapToGrid:Y});if(!u&&M&&c&&(u=!0,z()),!c){const T=E.xSnapped-(l.x??0),N=E.ySnapped-(l.y??0);Math.sqrt(T*T+N*N)>I&&A(v)}(l.x!==E.xSnapped||l.y!==E.ySnapped)&&s&&c&&(a=gt(v.sourceEvent,f),b(E,v.sourceEvent))}).on("end",v=>{if(c&&(u=!1,c=!1,cancelAnimationFrame(r),s.length>0)){const{nodeLookup:M,updateNodePositions:D,onNodeDragStop:S,onSelectionDragStop:Y}=e();if(D(s,!1),o||S||!_&&Y){const[I,E]=Ni({nodeId:_,dragItems:s,nodeLookup:M});o==null||o(v.sourceEvent,s,I,E),S==null||S(v.sourceEvent,I,E),_||Hi(Y)(v.sourceEvent,I,E)}}}).filter(v=>{const M=v.target;return!v.button&&(!y||!Ro(M,`.${y}`,g))&&(!C||Ro(M,C,g))});d.call(P)}function m(){d==null||d.on(".drag",null)}return{update:h,destroy:m}}function Bo(t,e,n,i){return(e[n]||[]).reduce((o,l)=>{var r,s,u,a;return`${t.id}-${l.id}-${n}`!==i&&o.push({id:l.id||null,type:n,nodeId:t.id,x:(((s=(r=t.computed)==null?void 0:r.positionAbsolute)==null?void 0:s.x)??0)+l.x+l.width/2,y:(((a=(u=t.computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y)??0)+l.y+l.height/2}),o},[])}function Kc(t,e,n){let i=[],o=1/0;for(const l of n){const r=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2));r<=e&&(r<o?i=[l]:r===o&&i.push(l),o=r)}return i.length?i.length===1?i[0]:i.find(l=>l.type==="target")||i[0]:null}function Fc({nodes:t,nodeId:e,handleId:n,handleType:i}){return t.reduce((o,l)=>{if(l[Ae]){const{handleBounds:r}=l[Ae];let s=[],u=[];r&&(s=Bo(l,r,"source",`${e}-${n}-${i}`),u=Bo(l,r,"target",`${e}-${n}-${i}`)),o.push(...s,...u)}return o},[])}function Or(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Zc(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}const Ir=()=>!0;let Bn=null;function Uc(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:l,isTarget:r,domNode:s,nodes:u,lib:a,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:h,onConnectStart:m,onConnect:y,onConnectEnd:C,isValidConnection:g=Ir,onEdgeUpdateEnd:k,updateConnection:_,getTransform:b,getConnectionStartHandle:z}){const A=vc(t.target);let P=0,v;const{x:M,y:D}=gt(t),S=A==null?void 0:A.elementFromPoint(M,D),Y=Or(l,S),I=s==null?void 0:s.getBoundingClientRect();if(!I||!Y)return;let E=gt(t,I),T=!1,N=null,L=!1,p=null;const R=Fc({nodes:u,nodeId:o,handleId:i,handleType:Y});function q(){if(!f||!I)return;const[ne,le]=Sr(E,I);d({x:ne,y:le}),P=requestAnimationFrame(q)}Bn={nodeId:o,handleId:i,type:Y},_({connectionPosition:E,connectionStatus:null,connectionStartHandle:Bn,connectionEndHandle:null}),m==null||m(t,{nodeId:o,handleId:i,handleType:Y});function J(ne){z()||V(ne);const le=b();E=gt(ne,I),v=Kc(wi(E,le,!1,[1,1]),n,R),T||(q(),T=!0);const ce=Dr(ne,{handle:v,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:r?"target":"source",isValidConnection:g,doc:A,lib:a,flowId:c});p=ce.handleDomNode,N=ce.connection,L=ce.isValid,_({connectionStartHandle:Bn,connectionPosition:v&&L?Er({x:v.x,y:v.y},le):E,connectionStatus:Zc(!!v,L),connectionEndHandle:ce.endHandle})}function V(ne){(v||p)&&N&&L&&(y==null||y(N)),C==null||C(ne),l&&(k==null||k(ne)),h(),cancelAnimationFrame(P),T=!1,L=!1,N=null,p=null,Bn=null,A.removeEventListener("mousemove",J),A.removeEventListener("mouseup",V),A.removeEventListener("touchmove",J),A.removeEventListener("touchend",V)}A.addEventListener("mousemove",J),A.addEventListener("mouseup",V),A.addEventListener("touchmove",J),A.addEventListener("touchend",V)}function Dr(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:l,doc:r,lib:s,flowId:u,isValidConnection:a=Ir}){const f=l==="target",c=e?r.querySelector(`.${s}-flow__handle[data-id="${u}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:d,y:h}=gt(t),m=r.elementFromPoint(d,h),y=m!=null&&m.classList.contains(`${s}-flow__handle`)?m:c,C={handleDomNode:y,isValid:!1,connection:null,endHandle:null};if(y){const g=Or(void 0,y),k=y.getAttribute("data-nodeid"),_=y.getAttribute("data-handleid"),b=y.classList.contains("connectable"),z=y.classList.contains("connectableend");if(!k)return C;const A={source:f?k:i,sourceHandle:f?_:o,target:f?i:k,targetHandle:f?o:_};C.connection=A,b&&z&&(n===Mt.Strict?f&&g==="source"||!f&&g==="target":k!==i||_!==o)&&(C.endHandle={nodeId:k,handleId:_,type:g},C.isValid=a(A))}return C}const qc={onPointerDown:Uc,isValid:Dr};function Gc({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=Ge(t);function l({translateExtent:s,width:u,height:a,zoomStep:f=10,pannable:c=!0,zoomable:d=!0,inversePan:h=!1}){const m=g=>{const k=n();if(g.sourceEvent.type!=="wheel"||!e)return;const _=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*f,b=k[2]*Math.pow(2,_);e.scaleTo(b)},y=g=>{const k=n();if(g.sourceEvent.type!=="mousemove"||!e)return;const _=i()*Math.max(k[2],Math.log(k[2]))*(h?-1:1),b={x:k[0]-g.sourceEvent.movementX*_,y:k[1]-g.sourceEvent.movementY*_},z=[[0,0],[u,a]];e.setViewportConstrained({x:b.x,y:b.y,zoom:k[2]},z,s)},C=br().on("zoom",c?y:null).on("zoom.wheel",d?m:null);o.call(C,{})}function r(){o.on("zoom",null)}return{update:l,destroy:r,pointer:$e}}const Jc=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ki=t=>({x:t.x,y:t.y,zoom:t.k}),Ai=({x:t,y:e,zoom:n})=>bi.translate(t,e).scale(n),Wt=(t,e)=>t.target.closest(`.${e}`),Xr=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Ti=(t,e=0)=>typeof e=="number"&&e>0?t.transition().duration(e):t,pr=t=>{const e=t.ctrlKey&&ai()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Qc({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:l,zoomOnPinch:r,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:a}){return f=>{if(Wt(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1,d=ai();if(f.ctrlKey&&r&&d){const g=$e(f),k=pr(f),_=c*Math.pow(2,k);i.scaleTo(n,_,g,f);return}const h=f.deltaMode===1?20:1;let m=o===rt.Vertical?0:f.deltaX*h,y=o===rt.Horizontal?0:f.deltaY*h;!d&&f.shiftKey&&o!==rt.Vertical&&(m=f.deltaY*h,y=0),i.translateBy(n,-(m/c)*l,-(y/c)*l,{internal:!0});const C=ki(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,s==null||s(f,C)),t.isPanScrolling&&(u==null||u(f,C),t.panScrollTimeout=setTimeout(()=>{a==null||a(f,C),t.isPanScrolling=!1},150))}}function jc({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e||Wt(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function xc({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var l,r,s;if((l=i.sourceEvent)!=null&&l.internal)return;const o=ki(i.transform);t.mouseButton=((r=i.sourceEvent)==null?void 0:r.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((s=i.sourceEvent)==null?void 0:s.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function $c({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return l=>{var r,s;t.usedRightMouseButton=!!(n&&Xr(e,t.mouseButton??0)),(r=l.sourceEvent)!=null&&r.sync||i([l.transform.x,l.transform.y,l.transform.k]),o&&!((s=l.sourceEvent)!=null&&s.internal)&&(o==null||o(l.sourceEvent,ki(l.transform)))}}function ed({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:l}){return r=>{var s;if(!((s=r.sourceEvent)!=null&&s.internal)&&(t.isZoomingOrPanning=!1,l&&Xr(e,t.mouseButton??0)&&!t.usedRightMouseButton&&r.sourceEvent&&l(r.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&Jc(t.prevViewport,r.transform))){const u=ki(r.transform);t.prevViewport=u,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(r.sourceEvent,u)},n?150:0)}}}function td({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:l,userSelectionActive:r,noWheelClassName:s,noPanClassName:u,lib:a}){return f=>{const c=t||e,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Wt(f,`${a}-flow__node`)||Wt(f,`${a}-flow__edge`)))return!0;if(!i&&!c&&!o&&!l&&!n||r||!l&&f.type==="dblclick"||Wt(f,s)&&f.type==="wheel"||Wt(f,u)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel"||!c&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&(f.type==="mousedown"||f.type==="touchstart"))return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function nd({domNode:t,minZoom:e,maxZoom:n,translateExtent:i,viewport:o,onPanZoom:l,onPanZoomStart:r,onPanZoomEnd:s,onTransformChange:u,onDraggingChange:a}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=t.getBoundingClientRect(),d=br().scaleExtent([e,n]).translateExtent(i),h=Ge(t).call(d);k({x:o.x,y:o.y,zoom:xt(o.zoom,e,n)},[[0,0],[c.width,c.height]],i);const m=h.on("wheel.zoom");d.wheelDelta(pr);function y(D,S){h&&(d==null||d.transform(Ti(h,S==null?void 0:S.duration),D))}function C({noWheelClassName:D,noPanClassName:S,onPaneContextMenu:Y,userSelectionActive:I,panOnScroll:E,panOnDrag:T,panOnScrollMode:N,panOnScrollSpeed:L,preventScrolling:p,zoomOnPinch:R,zoomOnScroll:q,zoomOnDoubleClick:J,zoomActivationKeyPressed:V,lib:ne}){I&&!f.isZoomingOrPanning&&g();const ce=E&&!V&&!I?Qc({zoomPanValues:f,noWheelClassName:D,d3Selection:h,d3Zoom:d,panOnScrollMode:N,panOnScrollSpeed:L,zoomOnPinch:R,onPanZoomStart:r,onPanZoom:l,onPanZoomEnd:s}):jc({noWheelClassName:D,preventScrolling:p,d3ZoomHandler:m});if(h.on("wheel.zoom",ce,{passive:!1}),!I){const j=xc({zoomPanValues:f,onDraggingChange:a,onPanZoomStart:r});d.on("start",j);const ie=$c({zoomPanValues:f,panOnDrag:T,onPaneContextMenu:!!Y,onPanZoom:l,onTransformChange:u});d.on("zoom",ie);const F=ed({zoomPanValues:f,panOnDrag:T,panOnScroll:E,onPaneContextMenu:Y,onPanZoomEnd:s,onDraggingChange:a});d.on("end",F)}const H=td({zoomActivationKeyPressed:V,panOnDrag:T,zoomOnScroll:q,panOnScroll:E,zoomOnDoubleClick:J,zoomOnPinch:R,userSelectionActive:I,noPanClassName:S,noWheelClassName:D,lib:ne});d.filter(H)}function g(){d.on("zoom",null)}function k(D,S,Y){const I=Ai(D),E=d==null?void 0:d.constrain()(I,S,Y);return E&&y(E),E}function _(D,S){const Y=Ai(D);return y(Y,S),Y}function b(D){if(h){const S=Ai(D),Y=h.property("__zoom");(Y.k!==D.zoom||Y.x!==D.x||Y.y!==D.y)&&(d==null||d.transform(h,S,null,{sync:!0}))}}function z(){const D=h?yr(h.node()):{x:0,y:0,k:1};return{x:D.x,y:D.y,zoom:D.k}}function A(D,S){h&&(d==null||d.scaleTo(Ti(h,S==null?void 0:S.duration),D))}function P(D,S){h&&(d==null||d.scaleBy(Ti(h,S==null?void 0:S.duration),D))}function v(D){d==null||d.scaleExtent(D)}function M(D){d==null||d.translateExtent(D)}return{update:C,destroy:g,setViewport:_,setViewportConstrained:k,getViewport:z,scaleTo:A,scaleBy:P,setScaleExtent:v,setTranslateExtent:M,syncViewport:b}}var hn;(function(t){t.Line="line",t.Handle="handle"})(hn||(hn={}));function id({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:o,affectsY:l}){const r=t-e,s=n-i,u=[r>0?1:r<0?-1:0,s>0?1:s<0?-1:0];return r&&o&&(u[0]=u[0]*-1),s&&l&&(u[1]=u[1]*-1),u}function od(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:o}}function Ct(t,e){return Math.max(0,e-t)}function vt(t,e){return Math.max(0,t-e)}function Kn(t,e,n){return Math.max(0,e-t,t-n)}function Ko(t,e){return t?!e:e}function ld(t,e,n,i,o,l,r,s){let{affectsX:u,affectsY:a}=e;const{isHorizontal:f,isVertical:c}=e,d=f&&c,{xSnapped:h,ySnapped:m}=n,{minWidth:y,maxWidth:C,minHeight:g,maxHeight:k}=i,{x:_,y:b,width:z,height:A,aspectRatio:P}=t;let v=Math.floor(f?h-t.pointerX:0),M=Math.floor(c?m-t.pointerY:0);const D=z+(u?-v:v),S=A+(a?-M:M),Y=-l[0]*z,I=-l[1]*A;let E=Kn(D,y,C),T=Kn(S,g,k);if(r){let p=0,R=0;u&&v<0?p=Ct(_+v+Y,r[0][0]):!u&&v>0&&(p=vt(_+D+Y,r[1][0])),a&&M<0?R=Ct(b+M+I,r[0][1]):!a&&M>0&&(R=vt(b+S+I,r[1][1])),E=Math.max(E,p),T=Math.max(T,R)}if(s){let p=0,R=0;u&&v>0?p=vt(_+v,s[0][0]):!u&&v<0&&(p=Ct(_+D,s[1][0])),a&&M>0?R=vt(b+M,s[0][1]):!a&&M<0&&(R=Ct(b+S,s[1][1])),E=Math.max(E,p),T=Math.max(T,R)}if(o){if(f){const p=Kn(D/P,g,k)*P;if(E=Math.max(E,p),r){let R=0;!u&&!a||u&&!a&&d?R=vt(b+I+D/P,r[1][1])*P:R=Ct(b+I+(u?v:-v)/P,r[0][1])*P,E=Math.max(E,R)}if(s){let R=0;!u&&!a||u&&!a&&d?R=Ct(b+D/P,s[1][1])*P:R=vt(b+(u?v:-v)/P,s[0][1])*P,E=Math.max(E,R)}}if(c){const p=Kn(S*P,y,C)/P;if(T=Math.max(T,p),r){let R=0;!u&&!a||a&&!u&&d?R=vt(_+S*P+Y,r[1][0])/P:R=Ct(_+(a?M:-M)*P+Y,r[0][0])/P,T=Math.max(T,R)}if(s){let R=0;!u&&!a||a&&!u&&d?R=Ct(_+S*P,s[1][0])/P:R=vt(_+(a?M:-M)*P,s[0][0])/P,T=Math.max(T,R)}}}M=M+(M<0?T:-T),v=v+(v<0?E:-E),o&&(d?D>S*P?M=(Ko(u,a)?-v:v)/P:v=(Ko(u,a)?-M:M)*P:f?(M=v/P,a=u):(v=M*P,u=a));const N=u?_+v:_,L=a?b+M:b;return{width:z+(u?-v:v),height:A+(a?-M:M),x:l[0]*v*(u?-1:1)+N,y:l[1]*M*(a?-1:1)+L}}const Yr={width:0,height:0,x:0,y:0},rd={...Yr,pointerX:0,pointerY:0,aspectRatio:1},sd={x:0,y:0,width:0,height:0,isXPosChange:!1,isYPosChange:!1,isWidthChange:!1,isHeightChange:!1};function ud(t){return[[0,0],[t.computed.width,t.computed.height]]}function ad(t,e,n){const i=e.position.x+t.position.x,o=e.position.y+t.position.y,l=t.computed.width??0,r=t.computed.height??0,s=n[0]*l,u=n[1]*r;return[[i-s,o-u],[i+l-s,o+r-u]]}function fd({domNode:t,nodeId:e,getStoreItems:n,onChange:i}){const o=Ge(t);function l({controlPosition:s,boundaries:u,keepAspectRatio:a,onResizeStart:f,onResize:c,onResizeEnd:d,shouldResize:h}){let m={...Yr},y={...rd};const C=od(s);let g,k=[],_,b,z;const A=ir().on("start",P=>{var I,E;const{nodeLookup:v,transform:M,snapGrid:D,snapToGrid:S,nodeOrigin:Y}=n();if(g=v.get(e),g){const{xSnapped:T,ySnapped:N}=dn(P.sourceEvent,{transform:M,snapGrid:D,snapToGrid:S});m={width:((I=g.computed)==null?void 0:I.width)??0,height:((E=g.computed)==null?void 0:E.height)??0,x:g.position.x??0,y:g.position.y??0},y={...m,pointerX:T,pointerY:N,aspectRatio:m.width/m.height},_=void 0,(g.extent==="parent"||g.expandParent)&&(_=v.get(g.parentNode),_&&g.extent==="parent"&&(b=ud(_))),k=[],z=void 0;for(const[L,p]of v)if(p.parentNode===e&&(k.push({id:L,position:{...p.position},extent:p.extent}),p.extent==="parent"||p.expandParent)){const R=ad(p,g,p.origin??Y);z?z=[[Math.min(R[0][0],z[0][0]),Math.min(R[0][1],z[0][1])],[Math.max(R[1][0],z[1][0]),Math.max(R[1][1],z[1][1])]]:z=R}f==null||f(P,{...m})}}).on("drag",P=>{const{transform:v,snapGrid:M,snapToGrid:D,nodeOrigin:S}=n(),Y=dn(P.sourceEvent,{transform:v,snapGrid:M,snapToGrid:D}),I=[];if(g){const{x:E,y:T,width:N,height:L}=m,p={...sd},R=g.origin??S,{width:q,height:J,x:V,y:ne}=ld(y,C,Y,u,a,R,b,z),le=q!==N,ce=J!==L,H=V!==E&&le,j=ne!==T&&ce;if((H||j||R[0]===1||R[1]==1)&&(p.isXPosChange=H,p.isYPosChange=j,p.x=H?V:E,p.y=j?ne:T,m.x=p.x,m.y=p.y,_&&g.expandParent&&(p.x<0&&(m.x=0,y.x=y.x-p.x),p.y<0&&(m.y=0,y.y=y.y-p.y)),k.length>0)){const ke=V-E,Pe=ne-T;for(const Ce of k)Ce.position={x:Ce.position.x-ke+R[0]*(q-N),y:Ce.position.y-Pe+R[1]*(J-L)},I.push(Ce)}if((le||ce)&&(p.isWidthChange=le,p.isHeightChange=ce,p.width=q,p.height=J,m.width=p.width,m.height=p.height),!p.isXPosChange&&!p.isYPosChange&&!le&&!ce)return;const ie=id({width:m.width,prevWidth:N,height:m.height,prevHeight:L,affectsX:C.affectsX,affectsY:C.affectsY}),F={...m,direction:ie};if((h==null?void 0:h(P,F))===!1)return;c==null||c(P,F),i(p,I)}}).on("end",P=>{d==null||d(P,{...m})});o.call(A)}function r(){o.on(".drag",null)}return{update:l,destroy:r}}function cd(t){let e,n,i,o,l,r;const s=t[43].default,u=Xe(s,t,t[42],null);return{c(){e=we("div"),u&&u.c(),w(e,"data-handleid",t[15]),w(e,"data-nodeid",t[13]),w(e,"data-handlepos",t[3]),w(e,"data-id",n=t[11]+"-"+t[13]+"-"+(t[1]||null)+"-"+t[2]),w(e,"class",i=Se(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),w(e,"style",t[4]),w(e,"role","button"),w(e,"tabindex","-1"),he(e,"valid",t[7]),he(e,"connectingto",t[6]),he(e,"connectingfrom",t[9]),he(e,"source",!t[12]),he(e,"target",t[12]),he(e,"connectablestart",t[0]),he(e,"connectableend",t[0]),he(e,"connectable",t[0]),he(e,"connectionindicator",t[0]&&(!t[10]||t[8]))},m(a,f){K(a,e,f),u&&u.m(e,null),o=!0,l||(r=[be(e,"mousedown",t[32]),be(e,"touchstart",t[32])],l=!0)},p(a,f){u&&u.p&&(!o||f[1]&2048)&&Ye(u,s,a,a[42],o?pe(s,a[42],f,null):Le(a[42]),null),(!o||f[0]&8)&&w(e,"data-handlepos",a[3]),(!o||f[0]&2054&&n!==(n=a[11]+"-"+a[13]+"-"+(a[1]||null)+"-"+a[2]))&&w(e,"data-id",n),(!o||f[0]&40&&i!==(i=Se(["svelte-flow__handle",`svelte-flow__handle-${a[3]}`,"nodrag","nopan",a[3],a[5]])))&&w(e,"class",i),(!o||f[0]&16)&&w(e,"style",a[4]),(!o||f[0]&168)&&he(e,"valid",a[7]),(!o||f[0]&104)&&he(e,"connectingto",a[6]),(!o||f[0]&552)&&he(e,"connectingfrom",a[9]),(!o||f[0]&4136)&&he(e,"source",!a[12]),(!o||f[0]&4136)&&he(e,"target",a[12]),(!o||f[0]&41)&&he(e,"connectablestart",a[0]),(!o||f[0]&41)&&he(e,"connectableend",a[0]),(!o||f[0]&41)&&he(e,"connectable",a[0]),(!o||f[0]&1321)&&he(e,"connectionindicator",a[0]&&(!a[10]||a[8]))},i(a){o||(X(u,a),o=!0)},o(a){W(u,a),o=!1},d(a){a&&B(e),u&&u.d(a),l=!1,Oe(r)}}}function dd(t,e,n){let i,o,l,r,s,u,a,f,c,d,h,m,y,C,g,k,_,b,z,A,P,v,{$$slots:M={},$$scope:D}=e,{id:S=void 0}=e,{type:Y="source"}=e,{position:I=_e.Top}=e,{style:E=void 0}=e,{isConnectable:T=void 0}=e,{onconnect:N=void 0}=e,{ondisconnect:L=void 0}=e,{class:p=void 0}=e;const R=Y==="target",q=yn("svelteflow__node_id"),J=yn("svelteflow__node_connectable");Q(t,J,x=>n(41,v=x));const V=S||null,ne=Me(),{connectionMode:le,domNode:ce,nodes:H,connectionRadius:j,viewport:ie,isValidConnection:F,lib:Z,addEdge:ke,onedgecreate:Pe,panBy:Ce,cancelConnection:We,updateConnection:He,autoPanOnConnect:ut,edges:at,connectionLookup:nt,onconnect:it,onconnectstart:oe,onconnectend:wt,flowId:kt,connection:Pt}=ne;Q(t,le,x=>n(38,a=x)),Q(t,ce,x=>n(53,A=x)),Q(t,H,x=>n(52,z=x)),Q(t,j,x=>n(54,P=x)),Q(t,ie,x=>n(44,d=x)),Q(t,F,x=>n(49,g=x)),Q(t,Z,x=>n(51,b=x)),Q(t,Pe,x=>n(48,C=x)),Q(t,ut,x=>n(50,_=x)),Q(t,at,x=>n(40,c=x)),Q(t,nt,x=>n(39,f=x)),Q(t,it,x=>n(47,y=x)),Q(t,oe,x=>n(46,m=x)),Q(t,wt,x=>n(45,h=x)),Q(t,kt,x=>n(11,k=x)),Q(t,Pt,x=>n(37,u=x));function G(x){const ft=vr(x);(ft&&x.button===0||!ft)&&qc.onPointerDown(x,{handleId:V,nodeId:q,isTarget:R,connectionRadius:P,domNode:A,nodes:z,connectionMode:a,lib:b,autoPanOnConnect:_,flowId:k,isValidConnection:g,updateConnection:He,cancelConnection:We,panBy:Ce,onConnect:Fe=>{const qe=C?C(Fe):Fe;qe&&(ke(qe),y==null||y(Fe))},onConnectStart:(Fe,qe)=>{m==null||m(Fe,{nodeId:qe.nodeId,handleId:qe.handleId,handleType:qe.handleType})},onConnectEnd:Fe=>{h==null||h(Fe)},getTransform:()=>[d.x,d.y,d.zoom],getConnectionStartHandle:()=>u.startHandle})}let Qe=null,Re;return t.$$set=x=>{"id"in x&&n(1,S=x.id),"type"in x&&n(2,Y=x.type),"position"in x&&n(3,I=x.position),"style"in x&&n(4,E=x.style),"isConnectable"in x&&n(0,T=x.isConnectable),"onconnect"in x&&n(33,N=x.onconnect),"ondisconnect"in x&&n(34,L=x.ondisconnect),"class"in x&&n(5,p=x.class),"$$scope"in x&&n(42,D=x.$$scope)},t.$$.update=()=>{var x,ft,Fe,qe,Ot,It,St,Dt,on;if(t.$$.dirty[0]&1|t.$$.dirty[1]&1024&&n(0,T=T!==void 0?T:v),t.$$.dirty[0]&6|t.$$.dirty[1]&780&&(N||L)&&n(36,Re=f.get(`${q}-${Y}-${S||null}`)),t.$$.dirty[1]&60){if(Qe&&!gc(Re,Qe)){const ln=Re??new Map;Ho(Qe,ln,L),Ho(ln,Qe,N)}n(35,Qe=Re??new Map)}t.$$.dirty[1]&64&&n(10,i=!!u.startHandle),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(9,o=((x=u.startHandle)==null?void 0:x.nodeId)===q&&((ft=u.startHandle)==null?void 0:ft.type)===Y&&((Fe=u.startHandle)==null?void 0:Fe.handleId)===V),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(6,l=((qe=u.endHandle)==null?void 0:qe.nodeId)===q&&((Ot=u.endHandle)==null?void 0:Ot.type)===Y&&((It=u.endHandle)==null?void 0:It.handleId)===V),t.$$.dirty[0]&4|t.$$.dirty[1]&192&&n(8,r=a===Mt.Strict?((St=u.startHandle)==null?void 0:St.type)!==Y:q!==((Dt=u.startHandle)==null?void 0:Dt.nodeId)||V!==((on=u.startHandle)==null?void 0:on.handleId)),t.$$.dirty[0]&64|t.$$.dirty[1]&64&&n(7,s=l&&u.status==="valid")},[T,S,Y,I,E,p,l,s,r,o,i,k,R,q,J,V,le,ce,H,j,ie,F,Z,Pe,ut,at,nt,it,oe,wt,kt,Pt,G,N,L,Qe,Re,u,a,f,c,v,D,M]}class hd extends fe{constructor(e){super(),ae(this,e,dd,cd,ue,{id:1,type:2,position:3,style:4,isConnectable:0,onconnect:33,ondisconnect:34,class:5},null,[-1,-1])}}const vn=hd;function gd(t){var u;let e,n,i=((u=t[0])==null?void 0:u.label)+"",o,l,r,s;return e=new vn({props:{type:"target",position:t[1]}}),r=new vn({props:{type:"source",position:t[2]}}),{c(){te(e.$$.fragment),n=ge(),o=je(i),l=ge(),te(r.$$.fragment)},m(a,f){$(e,a,f),K(a,n,f),K(a,o,f),K(a,l,f),$(r,a,f),s=!0},p(a,[f]){var h;const c={};f&2&&(c.position=a[1]),e.$set(c),(!s||f&1)&&i!==(i=((h=a[0])==null?void 0:h.label)+"")&&en(o,i);const d={};f&4&&(d.position=a[2]),r.$set(d)},i(a){s||(X(e.$$.fragment,a),X(r.$$.fragment,a),s=!0)},o(a){W(e.$$.fragment,a),W(r.$$.fragment,a),s=!1},d(a){a&&(B(n),B(o),B(l)),ee(e,a),ee(r,a)}}}function md(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:o=_e.Top}=e,{sourcePosition:l=_e.Bottom}=e,{id:r=""}=e,{width:s=void 0}=e,{height:u=void 0}=e,{selected:a=void 0}=e,{type:f=void 0}=e,{dragging:c=!1}=e,{dragHandle:d=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:y}=e,{zIndex:C}=e;return t.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"sourcePosition"in g&&n(2,l=g.sourcePosition),"id"in g&&n(3,r=g.id),"width"in g&&n(4,s=g.width),"height"in g&&n(5,u=g.height),"selected"in g&&n(6,a=g.selected),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,c=g.dragging),"dragHandle"in g&&n(9,d=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,y=g.isConnectable),"zIndex"in g&&n(13,C=g.zIndex)},[i,o,l,r,s,u,a,f,c,d,h,m,y,C]}class _d extends fe{constructor(e){super(),ae(this,e,md,gd,ue,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Lr=_d;function yd(t){var r;let e=((r=t[0])==null?void 0:r.label)+"",n,i,o,l;return o=new vn({props:{type:"source",position:t[1]}}),{c(){n=je(e),i=ge(),te(o.$$.fragment)},m(s,u){K(s,n,u),K(s,i,u),$(o,s,u),l=!0},p(s,[u]){var f;(!l||u&1)&&e!==(e=((f=s[0])==null?void 0:f.label)+"")&&en(n,e);const a={};u&2&&(a.position=s[1]),o.$set(a)},i(s){l||(X(o.$$.fragment,s),l=!0)},o(s){W(o.$$.fragment,s),l=!1},d(s){s&&(B(n),B(i)),ee(o,s)}}}function bd(t,e,n){let{data:i={label:"Node"}}=e,{sourcePosition:o=_e.Bottom}=e,{id:l=""}=e,{width:r=void 0}=e,{height:s=void 0}=e,{selected:u=void 0}=e,{targetPosition:a=void 0}=e,{type:f=void 0}=e,{dragging:c=!1}=e,{dragHandle:d=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:y}=e,{zIndex:C}=e;return t.$$set=g=>{"data"in g&&n(0,i=g.data),"sourcePosition"in g&&n(1,o=g.sourcePosition),"id"in g&&n(2,l=g.id),"width"in g&&n(3,r=g.width),"height"in g&&n(4,s=g.height),"selected"in g&&n(5,u=g.selected),"targetPosition"in g&&n(6,a=g.targetPosition),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,c=g.dragging),"dragHandle"in g&&n(9,d=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,y=g.isConnectable),"zIndex"in g&&n(13,C=g.zIndex)},[i,o,l,r,s,u,a,f,c,d,h,m,y,C]}class wd extends fe{constructor(e){super(),ae(this,e,bd,yd,ue,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const kd=wd;function Sd(t){var r;let e=((r=t[0])==null?void 0:r.label)+"",n,i,o,l;return o=new vn({props:{type:"target",position:t[1]}}),{c(){n=je(e),i=ge(),te(o.$$.fragment)},m(s,u){K(s,n,u),K(s,i,u),$(o,s,u),l=!0},p(s,[u]){var f;(!l||u&1)&&e!==(e=((f=s[0])==null?void 0:f.label)+"")&&en(n,e);const a={};u&2&&(a.position=s[1]),o.$set(a)},i(s){l||(X(o.$$.fragment,s),l=!0)},o(s){W(o.$$.fragment,s),l=!1},d(s){s&&(B(n),B(i)),ee(o,s)}}}function Ed(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:o=_e.Top}=e,{id:l=""}=e,{width:r=void 0}=e,{height:s=void 0}=e,{selected:u=void 0}=e,{sourcePosition:a=void 0}=e,{type:f=void 0}=e,{dragging:c=!1}=e,{dragHandle:d=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:y}=e,{zIndex:C}=e;return t.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"id"in g&&n(2,l=g.id),"width"in g&&n(3,r=g.width),"height"in g&&n(4,s=g.height),"selected"in g&&n(5,u=g.selected),"sourcePosition"in g&&n(6,a=g.sourcePosition),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,c=g.dragging),"dragHandle"in g&&n(9,d=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,y=g.isConnectable),"zIndex"in g&&n(13,C=g.zIndex)},[i,o,l,r,s,u,a,f,c,d,h,m,y,C]}class Cd extends fe{constructor(e){super(),ae(this,e,Ed,Sd,ue,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const vd=Cd;function zd(t,e,n){let{id:i=""}=e,{width:o=void 0}=e,{height:l=void 0}=e,{data:r={}}=e,{selected:s=void 0}=e,{sourcePosition:u=void 0}=e,{targetPosition:a=void 0}=e,{type:f=void 0}=e,{dragging:c=!1}=e,{dragHandle:d=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:y}=e,{zIndex:C}=e;return t.$$set=g=>{"id"in g&&n(0,i=g.id),"width"in g&&n(1,o=g.width),"height"in g&&n(2,l=g.height),"data"in g&&n(3,r=g.data),"selected"in g&&n(4,s=g.selected),"sourcePosition"in g&&n(5,u=g.sourcePosition),"targetPosition"in g&&n(6,a=g.targetPosition),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,c=g.dragging),"dragHandle"in g&&n(9,d=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,y=g.isConnectable),"zIndex"in g&&n(13,C=g.zIndex)},[i,o,l,r,s,u,a,f,c,d,h,m,y,C]}class Md extends fe{constructor(e){super(),ae(this,e,zd,null,ue,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Pd=Md;function Fo(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Hd(t,{target:e,domNode:n}){return Fo(t,n,e),{async update({target:i,domNode:o}){Fo(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Nd(t){let e,n,i,o,l;const r=t[3].default,s=Xe(r,t,t[2],null);return{c(){e=we("div"),s&&s.c()},m(u,a){K(u,e,a),s&&s.m(e,null),i=!0,o||(l=Ke(n=Hd.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(u,[a]){s&&s.p&&(!i||a&4)&&Ye(s,r,u,u[2],i?pe(r,u[2],a,null):Le(u[2]),null),n&&Ne(n.update)&&a&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:u[0]})},i(u){i||(X(s,u),i=!0)},o(u){W(s,u),i=!1},d(u){u&&B(e),s&&s.d(u),o=!1,l()}}}function Ad(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{domNode:r}=Me();return Q(t,r,s=>n(0,i=s)),t.$$set=s=>{"$$scope"in s&&n(2,l=s.$$scope)},[i,r,l,o]}class Td extends fe{constructor(e){super(),ae(this,e,Ad,Nd,ue,{})}}function Vr(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:l,elementsSelectable:r}=Me();return s=>{const u=U(t).get(s);if(!u){console.warn("012",An.error012(s));return}(u.selectable||U(r)&&typeof u.selectable>"u")&&(e.set(null),n.set(null),u.selected?u.selected&&U(i)&&l({nodes:[],edges:[u]}):o([s]))}}function Od(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,l,r;const s=t[5].default,u=Xe(s,t,t[7],null);return{c(){e=we("div"),u&&u.c(),w(e,"class","svelte-flow__edge-label"),w(e,"style",n="pointer-events: all;"+t[0]),w(e,"role","button"),w(e,"tabindex","-1"),de(e,"transform",i)},m(a,f){K(a,e,f),u&&u.m(e,null),o=!0,l||(r=[be(e,"keyup",Dd),be(e,"click",t[6])],l=!0)},p(a,f){u&&u.p&&(!o||f&128)&&Ye(u,s,a,a[7],o?pe(s,a[7],f,null):Le(a[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+a[0]))&&w(e,"style",n);const c=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${a[1]}px,${a[2]}px)`)||c)&&de(e,"transform",i)},i(a){o||(X(u,a),o=!0)},o(a){W(u,a),o=!1},d(a){a&&B(e),u&&u.d(a),l=!1,Oe(r)}}}function Id(t){let e,n;return e=new Td({props:{$$slots:{default:[Od]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&135&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}const Dd=()=>{};function Xd(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:l=void 0}=e,{x:r=void 0}=e,{y:s=void 0}=e;const u=Vr(),a=yn("svelteflow__edge_id"),f=()=>{a&&u(a)};return t.$$set=c=>{"style"in c&&n(0,l=c.style),"x"in c&&n(1,r=c.x),"y"in c&&n(2,s=c.y),"$$scope"in c&&n(7,o=c.$$scope)},[l,r,s,u,a,i,f,o]}class pd extends fe{constructor(e){super(),ae(this,e,Xd,Id,ue,{style:0,x:1,y:2})}}const Yd=pd;function Ld(t){let e;return{c(){e=me("path"),w(e,"d",t[1]),w(e,"stroke-opacity",0),w(e,"stroke-width",t[10]),w(e,"fill","none"),w(e,"class","svelte-flow__edge-interaction")},m(n,i){K(n,e,i)},p(n,i){i&2&&w(e,"d",n[1])},d(n){n&&B(e)}}}function Zo(t){let e,n;return e=new Yd({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[Vd]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&8&&(l.x=i[3]),o&16&&(l.y=i[4]),o&32&&(l.style=i[5]),o&4100&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Vd(t){let e;return{c(){e=je(t[2])},m(n,i){K(n,e,i)},p(n,i){i&4&&en(e,n[2])},d(n){n&&B(e)}}}function Wd(t){let e,n,i,o,l,r,s=t[10]&&Ld(t),u=t[2]&&Zo(t);return{c(){e=me("path"),i=ge(),s&&s.c(),o=ge(),u&&u.c(),l=Ie(),w(e,"id",t[0]),w(e,"d",t[1]),w(e,"class",n=Se(["svelte-flow__edge-path",t[9]])),w(e,"marker-start",t[6]),w(e,"marker-end",t[7]),w(e,"fill","none"),w(e,"style",t[8])},m(a,f){K(a,e,f),K(a,i,f),s&&s.m(a,f),K(a,o,f),u&&u.m(a,f),K(a,l,f),r=!0},p(a,[f]){(!r||f&1)&&w(e,"id",a[0]),(!r||f&2)&&w(e,"d",a[1]),(!r||f&512&&n!==(n=Se(["svelte-flow__edge-path",a[9]])))&&w(e,"class",n),(!r||f&64)&&w(e,"marker-start",a[6]),(!r||f&128)&&w(e,"marker-end",a[7]),(!r||f&256)&&w(e,"style",a[8]),a[10]&&s.p(a,f),a[2]?u?(u.p(a,f),f&4&&X(u,1)):(u=Zo(a),u.c(),X(u,1),u.m(l.parentNode,l)):u&&(ve(),W(u,1,1,()=>{u=null}),ze())},i(a){r||(X(u),r=!0)},o(a){W(u),r=!1},d(a){a&&(B(e),B(i),B(o),B(l)),s&&s.d(a),u&&u.d(a)}}}function Rd(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:l=void 0}=e,{labelX:r=void 0}=e,{labelY:s=void 0}=e,{labelStyle:u=void 0}=e,{markerStart:a=void 0}=e,{markerEnd:f=void 0}=e,{style:c=void 0}=e,{interactionWidth:d=20}=e,{class:h=void 0}=e,m=d===void 0?20:d;return t.$$set=y=>{"id"in y&&n(0,i=y.id),"path"in y&&n(1,o=y.path),"label"in y&&n(2,l=y.label),"labelX"in y&&n(3,r=y.labelX),"labelY"in y&&n(4,s=y.labelY),"labelStyle"in y&&n(5,u=y.labelStyle),"markerStart"in y&&n(6,a=y.markerStart),"markerEnd"in y&&n(7,f=y.markerEnd),"style"in y&&n(8,c=y.style),"interactionWidth"in y&&n(11,d=y.interactionWidth),"class"in y&&n(9,h=y.class)},[i,o,l,r,s,u,a,f,c,h,m,d]}class Bd extends fe{constructor(e){super(),ae(this,e,Rd,Wd,ue,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const In=Bd;function Kd(t){let e,n;return e=new In({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Fd(t,e,n){let i,o,l,{id:r=""}=e,{source:s=""}=e,{target:u=""}=e,{type:a="default"}=e,{animated:f=void 0}=e,{selected:c=void 0}=e,{label:d=void 0}=e,{labelStyle:h=void 0}=e,{data:m=void 0}=e,{style:y=void 0}=e,{markerStart:C=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:k=void 0}=e,{sourceX:_}=e,{sourceY:b}=e,{sourcePosition:z}=e,{sourceHandleId:A=void 0}=e,{targetX:P}=e,{targetY:v}=e,{targetPosition:M}=e,{targetHandleId:D=void 0}=e;return t.$$set=S=>{"id"in S&&n(9,r=S.id),"source"in S&&n(10,s=S.source),"target"in S&&n(11,u=S.target),"type"in S&&n(12,a=S.type),"animated"in S&&n(13,f=S.animated),"selected"in S&&n(14,c=S.selected),"label"in S&&n(0,d=S.label),"labelStyle"in S&&n(1,h=S.labelStyle),"data"in S&&n(15,m=S.data),"style"in S&&n(2,y=S.style),"markerStart"in S&&n(3,C=S.markerStart),"markerEnd"in S&&n(4,g=S.markerEnd),"interactionWidth"in S&&n(5,k=S.interactionWidth),"sourceX"in S&&n(16,_=S.sourceX),"sourceY"in S&&n(17,b=S.sourceY),"sourcePosition"in S&&n(18,z=S.sourcePosition),"sourceHandleId"in S&&n(19,A=S.sourceHandleId),"targetX"in S&&n(20,P=S.targetX),"targetY"in S&&n(21,v=S.targetY),"targetPosition"in S&&n(22,M=S.targetPosition),"targetHandleId"in S&&n(23,D=S.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,o,l]=zr({sourceX:_,sourceY:b,targetX:P,targetY:v,sourcePosition:z,targetPosition:M}),i,(n(7,o),n(16,_),n(17,b),n(20,P),n(21,v),n(18,z),n(22,M)),(n(6,l),n(16,_),n(17,b),n(20,P),n(21,v),n(18,z),n(22,M)))},[d,h,y,C,g,k,l,o,i,r,s,u,a,f,c,m,_,b,z,A,P,v,M,D]}class Zd extends fe{constructor(e){super(),ae(this,e,Fd,Kd,ue,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const Wr=Zd;function Ud(t){let e,n;return e=new In({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function qd(t,e,n){let i,o,l,{id:r=""}=e,{source:s=""}=e,{target:u=""}=e,{type:a="smoothstep"}=e,{animated:f=void 0}=e,{selected:c=void 0}=e,{label:d=void 0}=e,{labelStyle:h=void 0}=e,{data:m=void 0}=e,{style:y=void 0}=e,{markerStart:C=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:k=void 0}=e,{sourceX:_}=e,{sourceY:b}=e,{sourcePosition:z}=e,{sourceHandleId:A=void 0}=e,{targetX:P}=e,{targetY:v}=e,{targetPosition:M}=e,{targetHandleId:D=void 0}=e;return t.$$set=S=>{"id"in S&&n(9,r=S.id),"source"in S&&n(10,s=S.source),"target"in S&&n(11,u=S.target),"type"in S&&n(12,a=S.type),"animated"in S&&n(13,f=S.animated),"selected"in S&&n(14,c=S.selected),"label"in S&&n(0,d=S.label),"labelStyle"in S&&n(1,h=S.labelStyle),"data"in S&&n(15,m=S.data),"style"in S&&n(2,y=S.style),"markerStart"in S&&n(3,C=S.markerStart),"markerEnd"in S&&n(4,g=S.markerEnd),"interactionWidth"in S&&n(5,k=S.interactionWidth),"sourceX"in S&&n(16,_=S.sourceX),"sourceY"in S&&n(17,b=S.sourceY),"sourcePosition"in S&&n(18,z=S.sourcePosition),"sourceHandleId"in S&&n(19,A=S.sourceHandleId),"targetX"in S&&n(20,P=S.targetX),"targetY"in S&&n(21,v=S.targetY),"targetPosition"in S&&n(22,M=S.targetPosition),"targetHandleId"in S&&n(23,D=S.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,o,l]=$t({sourceX:_,sourceY:b,targetX:P,targetY:v,sourcePosition:z,targetPosition:M}),i,(n(7,o),n(16,_),n(17,b),n(20,P),n(21,v),n(18,z),n(22,M)),(n(6,l),n(16,_),n(17,b),n(20,P),n(21,v),n(18,z),n(22,M)))},[d,h,y,C,g,k,l,o,i,r,s,u,a,f,c,m,_,b,z,A,P,v,M,D]}class Gd extends fe{constructor(e){super(),ae(this,e,qd,Ud,ue,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const Jd=Gd;function Qd(t){let e,n;return e=new In({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function jd(t,e,n){let i,o,l,{id:r=""}=e,{source:s=""}=e,{target:u=""}=e,{type:a="straight"}=e,{animated:f=void 0}=e,{selected:c=void 0}=e,{label:d=void 0}=e,{labelStyle:h=void 0}=e,{data:m=void 0}=e,{style:y=void 0}=e,{markerStart:C=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:k=void 0}=e,{sourceX:_}=e,{sourceY:b}=e,{sourcePosition:z}=e,{sourceHandleId:A=void 0}=e,{targetX:P}=e,{targetY:v}=e,{targetPosition:M}=e,{targetHandleId:D=void 0}=e;return t.$$set=S=>{"id"in S&&n(9,r=S.id),"source"in S&&n(10,s=S.source),"target"in S&&n(11,u=S.target),"type"in S&&n(12,a=S.type),"animated"in S&&n(13,f=S.animated),"selected"in S&&n(14,c=S.selected),"label"in S&&n(0,d=S.label),"labelStyle"in S&&n(1,h=S.labelStyle),"data"in S&&n(15,m=S.data),"style"in S&&n(2,y=S.style),"markerStart"in S&&n(3,C=S.markerStart),"markerEnd"in S&&n(4,g=S.markerEnd),"interactionWidth"in S&&n(5,k=S.interactionWidth),"sourceX"in S&&n(16,_=S.sourceX),"sourceY"in S&&n(17,b=S.sourceY),"sourcePosition"in S&&n(18,z=S.sourcePosition),"sourceHandleId"in S&&n(19,A=S.sourceHandleId),"targetX"in S&&n(20,P=S.targetX),"targetY"in S&&n(21,v=S.targetY),"targetPosition"in S&&n(22,M=S.targetPosition),"targetHandleId"in S&&n(23,D=S.targetHandleId)},t.$$.update=()=>{t.$$.dirty&3342336&&n(8,[i,o,l]=Pr({sourceX:_,sourceY:b,targetX:P,targetY:v}),i,(n(7,o),n(16,_),n(17,b),n(20,P),n(21,v)),(n(6,l),n(16,_),n(17,b),n(20,P),n(21,v)))},[d,h,y,C,g,k,l,o,i,r,s,u,a,f,c,m,_,b,z,A,P,v,M,D]}class xd extends fe{constructor(e){super(),ae(this,e,jd,Qd,ue,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const $d=xd;function eh(t){let e,n;return e=new In({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function th(t,e,n){let i,o,l,{id:r=""}=e,{source:s=""}=e,{target:u=""}=e,{type:a="step"}=e,{animated:f=void 0}=e,{selected:c=void 0}=e,{label:d=void 0}=e,{data:h=void 0}=e,{labelStyle:m=void 0}=e,{style:y=void 0}=e,{markerStart:C=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:k=void 0}=e,{sourceX:_}=e,{sourceY:b}=e,{sourcePosition:z}=e,{sourceHandleId:A=void 0}=e,{targetX:P}=e,{targetY:v}=e,{targetPosition:M}=e,{targetHandleId:D=void 0}=e;return t.$$set=S=>{"id"in S&&n(9,r=S.id),"source"in S&&n(10,s=S.source),"target"in S&&n(11,u=S.target),"type"in S&&n(12,a=S.type),"animated"in S&&n(13,f=S.animated),"selected"in S&&n(14,c=S.selected),"label"in S&&n(0,d=S.label),"data"in S&&n(15,h=S.data),"labelStyle"in S&&n(1,m=S.labelStyle),"style"in S&&n(2,y=S.style),"markerStart"in S&&n(3,C=S.markerStart),"markerEnd"in S&&n(4,g=S.markerEnd),"interactionWidth"in S&&n(5,k=S.interactionWidth),"sourceX"in S&&n(16,_=S.sourceX),"sourceY"in S&&n(17,b=S.sourceY),"sourcePosition"in S&&n(18,z=S.sourcePosition),"sourceHandleId"in S&&n(19,A=S.sourceHandleId),"targetX"in S&&n(20,P=S.targetX),"targetY"in S&&n(21,v=S.targetY),"targetPosition"in S&&n(22,M=S.targetPosition),"targetHandleId"in S&&n(23,D=S.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,o,l]=$t({sourceX:_,sourceY:b,targetX:P,targetY:v,sourcePosition:z,targetPosition:M,borderRadius:0}),i,(n(7,o),n(16,_),n(17,b),n(20,P),n(21,v),n(18,z),n(22,M)),(n(6,l),n(16,_),n(17,b),n(20,P),n(21,v),n(18,z),n(22,M)))},[d,m,y,C,g,k,l,o,i,r,s,u,a,f,c,h,_,b,z,A,P,v,M,D]}class nh extends fe{constructor(e){super(),ae(this,e,th,eh,ue,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,data:15,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const ih=nh;function oh(t,e){const n=t.set,i=e.set,o=U(t),l=U(e);let s=o.length===0&&l.length>0?l:o;t.set(s);const u=a=>{const f=n(a);return s=f,i(s),f};t.set=e.set=u,t.update=e.update=a=>u(a(s))}function lh(t,e){const n=t.set,i=e.set;let o=U(e);t.set(o);const l=r=>{n(r),i(r),o=r};t.set=e.set=l,t.update=e.update=r=>l(r(o))}const rh=(t,e,n)=>{if(!n)return;const i=U(t),o=e.set,l=n.set;let r=n?U(n):{x:0,y:0,zoom:1};e.set(r),e.set=s=>(o(s),l(s),r=s,s),n.set=s=>(i==null||i.syncViewport(s),o(s),l(s),r=s,s),e.update=s=>{e.set(s(r))},n.update=s=>{n.set(s(r))}},sh=(t,e)=>{const{subscribe:n,set:i,update:o}=se([]);let l=t,r={},s=!0;const u=d=>(l=Hr(d,e,{elevateNodesOnSelect:s,defaults:r}),i(l),l),a=d=>u(d(l)),f=d=>{r=d},c=d=>{s=d.elevateNodesOnSelect??s};return u(l),{subscribe:n,set:u,update:a,setDefaultOptions:f,setOptions:c}},uh=(t,e,n,i)=>{const{subscribe:o,set:l,update:r}=se([]);let s=t,u=i||{};const a=d=>{const h=u?d.map(m=>({...u,...m})):d;Ar(e,n,h),s=h,l(s)},f=d=>a(d(s)),c=d=>{u=d};return a(s),{subscribe:o,set:a,update:f,setDefaultOptions:c}},Rr={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},ah={[_e.Left]:_e.Right,[_e.Right]:_e.Left,[_e.Top]:_e.Bottom,[_e.Bottom]:_e.Top};function fh(t,e){return Gt([e,t.connectionLineType,t.connectionMode,t.nodeLookup,t.viewport],([n,i,o,l,r])=>{var z,A,P,v,M,D,S,Y,I,E,T,N,L;if(!((z=n.connectionStartHandle)!=null&&z.nodeId))return Rr;const s=l.get((A=n.connectionStartHandle)==null?void 0:A.nodeId),u=(P=s==null?void 0:s[Ae])==null?void 0:P.handleBounds,a=(u==null?void 0:u[n.connectionStartHandle.type||"source"])||[],f=a||(u==null?void 0:u[((v=n==null?void 0:n.connectionStartHandle)==null?void 0:v.type)==="source"?"target":"source"]),c=o===Mt.Strict?a:f,d=(M=n.connectionStartHandle)!=null&&M.handleId?c==null?void 0:c.find(p=>{var R;return p.id===((R=n.connectionStartHandle)==null?void 0:R.handleId)}):c==null?void 0:c[0],h=d?d.x+d.width/2:(((D=s==null?void 0:s.computed)==null?void 0:D.width)??0)/2,m=d?d.y+d.height/2:((S=s==null?void 0:s.computed)==null?void 0:S.height)??0,y=(((I=(Y=s==null?void 0:s.computed)==null?void 0:Y.positionAbsolute)==null?void 0:I.x)??0)+h,C=(((T=(E=s==null?void 0:s.computed)==null?void 0:E.positionAbsolute)==null?void 0:T.y)??0)+m,g=d==null?void 0:d.position,k=g?ah[g]:void 0,_={sourceX:y,sourceY:C,sourcePosition:g,targetX:((((N=n.connectionPosition)==null?void 0:N.x)??0)-r.x)/r.zoom,targetY:((((L=n.connectionPosition)==null?void 0:L.y)??0)-r.y)/r.zoom,targetPosition:k};let b="";return i===Ft.Bezier?[b]=zr(_):i===Ft.Step?[b]=$t({..._,borderRadius:0}):i===Ft.SmoothStep?[b]=$t(_):[b]=Pr(_),{path:b,..._,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const Br={input:kd,output:vd,default:Lr,group:Pd},Kr={straight:$d,smoothstep:Jd,default:Wr,step:ih},ch=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o})=>{const l=new Map,r=Hr(t,l,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),s=new Map,u=new Map;Ar(s,u,e);let a={x:0,y:0,zoom:1};if(o&&n&&i){const f=r.filter(d=>d.width&&d.height||d.initialWidth&&d.initialHeight),c=Tn(f,{nodeOrigin:[0,0]});a=io(c,n,i,.5,2,.1)}return{flowId:se(null),nodes:sh(r,l),nodeLookup:xe(l),edgeLookup:xe(u),visibleNodes:xe([]),edges:uh(e,s,u),visibleEdges:xe([]),connectionLookup:xe(s),height:se(500),width:se(500),minZoom:se(.5),maxZoom:se(2),nodeOrigin:se([0,0]),nodeDragThreshold:se(1),nodeExtent:se(Po),translateExtent:se(Po),autoPanOnNodeDrag:se(!0),autoPanOnConnect:se(!0),fitViewOnInit:se(!1),fitViewOnInitDone:se(!1),fitViewOptions:se(void 0),panZoom:se(null),snapGrid:se(null),dragging:se(!1),selectionRect:se(null),selectionKeyPressed:se(!1),multiselectionKeyPressed:se(!1),deleteKeyPressed:se(!1),panActivationKeyPressed:se(!1),zoomActivationKeyPressed:se(!1),selectionRectMode:se(null),selectionMode:se(ri.Partial),nodeTypes:se(Br),edgeTypes:se(Kr),viewport:se(a),connectionMode:se(Mt.Strict),domNode:se(null),connection:xe(Rr),connectionLineType:se(Ft.Bezier),connectionRadius:se(20),isValidConnection:se(()=>!0),nodesDraggable:se(!0),nodesConnectable:se(!0),elementsSelectable:se(!0),selectNodesOnDrag:se(!0),markers:xe([]),defaultMarkerColor:se("#b1b1b7"),lib:xe("svelte"),onlyRenderVisibleElements:se(!1),onerror:se(Ec),ondelete:se(void 0),onedgecreate:se(void 0),onconnect:se(void 0),onconnectstart:se(void 0),onconnectend:se(void 0),onbeforedelete:se(void 0),nodesInitialized:se(!1),edgesInitialized:se(!1),viewportInitialized:se(!1),initialized:xe(!1)}};function dh(t){const e=Gt([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,l,r,s])=>o&&r&&s?n.filter(a=>{const f=i.get(a.source),c=i.get(a.target);return f&&c&&Nc({sourceNode:f,targetNode:c,width:r,height:s,transform:[l.x,l.y,l.zoom]})}):n);return Gt([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,l])=>n.reduce((s,u)=>{const a=i.get(u.source),f=i.get(u.target);if(!a||!f)return s;const c=pc({id:u.id,sourceNode:a,targetNode:f,sourceHandle:u.sourceHandle||null,targetHandle:u.targetHandle||null,connectionMode:o,onError:l});return c&&s.push({...u,zIndex:Hc({selected:u.selected,zIndex:u.zIndex,sourceNode:a,targetNode:f,elevateOnSelect:!1}),...c}),s},[]))}function hh(t){return Gt([t.nodes,t.onlyRenderVisibleElements,t.width,t.height,t.viewport],([e,n,i,o,l])=>{const r=[l.x,l.y,l.zoom];return n?wr(e,{x:0,y:0,width:i,height:o},r,!0):e})}const Si=Symbol();function Fr({nodes:t,edges:e,width:n,height:i,fitView:o}){const l=ch({nodes:t,edges:e,width:n,height:i,fitView:o});function r(I){l.nodeTypes.set({...Br,...I})}function s(I){l.edgeTypes.set({...Kr,...I})}function u(I){const E=U(l.edges);l.edges.set(Oc(I,E))}const a=(I,E=!1)=>{const T=U(l.nodeLookup);I.forEach(N=>{var p;const L=T.get(N.id);L&&(L.position=N.position,L.dragging=E,L.computed={...L.computed,positionAbsolute:(p=N.computed)==null?void 0:p.positionAbsolute})}),l.nodes.set(U(l.nodes))};function f(I){const E=Vc(I,U(l.nodes),U(l.nodeLookup),U(l.domNode),U(l.nodeOrigin));if(E){if(!U(l.fitViewOnInitDone)&&U(l.fitViewOnInit)){const T=U(l.fitViewOptions),N=c(E,{...T,nodes:(T==null?void 0:T.nodes)||E});l.fitViewOnInitDone.set(N)}l.nodes.set(E),U(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function c(I,E){const T=U(l.panZoom);return T?yc({nodes:I,width:U(l.width),height:U(l.height),minZoom:U(l.minZoom),maxZoom:U(l.maxZoom),panZoom:T,nodeOrigin:U(l.nodeOrigin)},E):!1}function d(I,E){const T=U(l.panZoom);T&&T.scaleBy(I,E)}function h(I){d(1.2,I)}function m(I){d(1/1.2,I)}function y(I){const E=U(l.panZoom);E&&(E.setScaleExtent([I,U(l.maxZoom)]),l.minZoom.set(I))}function C(I){const E=U(l.panZoom);E&&(E.setScaleExtent([U(l.minZoom),I]),l.maxZoom.set(I))}function g(I){const E=U(l.panZoom);E&&(E.setTranslateExtent(I),l.translateExtent.set(I))}function k(I){let E=!1;return I.forEach(T=>{T.selected&&(T.selected=!1,E=!0)}),E}function _(I){k((I==null?void 0:I.nodes)||U(l.nodes))&&l.nodes.set(U(l.nodes)),k((I==null?void 0:I.edges)||U(l.edges))&&l.edges.set(U(l.edges))}l.deleteKeyPressed.subscribe(async I=>{var E;if(I){const T=U(l.nodes),N=U(l.edges),L=T.filter(J=>J.selected),p=N.filter(J=>J.selected),{nodes:R,edges:q}=await kr({nodesToRemove:L,edgesToRemove:p,nodes:T,edges:N,onBeforeDelete:U(l.onbeforedelete)});(R.length||q.length)&&(l.nodes.update(J=>J.filter(V=>!R.some(ne=>ne.id===V.id))),l.edges.update(J=>J.filter(V=>!q.some(ne=>ne.id===V.id))),(E=U(l.ondelete))==null||E({nodes:R,edges:q}))}});function b(I){const E=U(l.multiselectionKeyPressed);l.nodes.update(T=>T.map(N=>{const L=I.includes(N.id),p=E&&N.selected||L;return N.selected=p,N})),E||l.edges.update(T=>T.map(N=>(N.selected=!1,N)))}function z(I){const E=U(l.multiselectionKeyPressed);l.edges.update(T=>T.map(N=>{const L=I.includes(N.id),p=E&&N.selected||L;return N.selected=p,N})),E||l.nodes.update(T=>T.map(N=>(N.selected=!1,N)))}function A(I){var T;const E=(T=U(l.nodes))==null?void 0:T.find(N=>N.id===I);if(!E){console.warn("012",An.error012(I));return}l.selectionRect.set(null),l.selectionRectMode.set(null),E.selected?E.selected&&U(l.multiselectionKeyPressed)&&_({nodes:[E],edges:[]}):b([I])}function P(I){const E=U(l.viewport);return Wc({delta:I,panZoom:U(l.panZoom),transform:[E.x,E.y,E.zoom],translateExtent:U(l.translateExtent),width:U(l.width),height:U(l.height)})}const v={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},M=se(v),D=I=>{M.set(I)};function S(){D(v)}function Y(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),l.nodes.set([]),l.edges.set([]),_(),S()}return{...l,connection:fh(l,M),visibleEdges:dh(l),visibleNodes:hh(l),markers:Gt([l.edges,l.defaultMarkerColor,l.flowId],([I,E,T])=>Yc(I,{defaultColor:E,id:T})),initialized:(()=>{let I=!1;const E=U(l.nodes).length,T=U(l.edges).length;return Gt([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([N,L,p])=>I||(E===0?I=p:T===0?I=p&&N:I=p&&N&&L,I))})(),syncNodeStores:I=>oh(l.nodes,I),syncEdgeStores:I=>lh(l.edges,I),syncViewport:I=>rh(l.panZoom,l.viewport,I),setNodeTypes:r,setEdgeTypes:s,addEdge:u,updateNodePositions:a,updateNodeDimensions:f,zoomIn:h,zoomOut:m,fitView:I=>c(U(l.nodes),I),setMinZoom:y,setMaxZoom:C,setTranslateExtent:g,unselectNodesAndEdges:_,addSelectedNodes:b,addSelectedEdges:z,handleNodeSelection:A,panBy:P,updateConnection:D,cancelConnection:S,reset:Y}}function Me(){const t=yn(Si);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function gh({nodes:t,edges:e,width:n,height:i,fitView:o}){const l=Fr({nodes:t,edges:e,width:n,height:i,fitView:o});return _n(Si,{getStore:()=>l}),l}function mh(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:l,viewport:r,dragging:s,translateExtent:u}=e,a=nd({domNode:t,minZoom:i,maxZoom:o,translateExtent:u,viewport:l,onTransformChange:c=>r.set({x:c[0],y:c[1],zoom:c[2]}),onDraggingChange:s.set}),f=a.getViewport();return r.set(f),n.set(a),a.update(e),{update(c){a.update(c)}}}function _h(t){let e,n,i,o,l;const r=t[33].default,s=Xe(r,t,t[32],null);return{c(){e=we("div"),s&&s.c(),w(e,"class","svelte-flow__zoom svelte-4xkw84")},m(u,a){K(u,e,a),s&&s.m(e,null),i=!0,o||(l=Ke(n=mh.call(null,e,{viewport:t[17],minZoom:t[11],maxZoom:t[12],initialViewport:t[10],dragging:t[22],panZoom:t[18],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[8],panOnDrag:t[9],panOnScrollSpeed:.5,panOnScrollMode:t[3]||rt.Free,zoomActivationKeyPressed:t[13],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:t[14],translateExtent:t[15],lib:t[16]})),o=!0)},p(u,a){s&&s.p&&(!i||a[1]&2)&&Ye(s,r,u,u[32],i?pe(r,u[32],a,null):Le(u[32]),null),n&&Ne(n.update)&&a[0]&131071&&n.update.call(null,{viewport:u[17],minZoom:u[11],maxZoom:u[12],initialViewport:u[10],dragging:u[22],panZoom:u[18],onPanZoomStart:u[0],onPanZoom:u[1],onPanZoomEnd:u[2],zoomOnScroll:u[5],zoomOnDoubleClick:u[6],zoomOnPinch:u[7],panOnScroll:u[8],panOnDrag:u[9],panOnScrollSpeed:.5,panOnScrollMode:u[3]||rt.Free,zoomActivationKeyPressed:u[13],preventScrolling:typeof u[4]=="boolean"?u[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:u[14],translateExtent:u[15],lib:u[16]})},i(u){i||(X(s,u),i=!0)},o(u){W(s,u),i=!1},d(u){u&&B(e),s&&s.d(u),o=!1,l()}}}function yh(t,e,n){let i,o,l,r,s,u,a,f,c,d,h,{$$slots:m={},$$scope:y}=e,{initialViewport:C}=e,{onMoveStart:g=void 0}=e,{onMove:k=void 0}=e,{onMoveEnd:_=void 0}=e,{panOnScrollMode:b}=e,{preventScrolling:z}=e,{zoomOnScroll:A}=e,{zoomOnDoubleClick:P}=e,{zoomOnPinch:v}=e,{panOnDrag:M}=e,{panOnScroll:D}=e;const{viewport:S,panZoom:Y,selectionKeyPressed:I,minZoom:E,maxZoom:T,dragging:N,translateExtent:L,lib:p,panActivationKeyPressed:R,zoomActivationKeyPressed:q,viewportInitialized:J}=Me();return Q(t,I,V=>n(14,c=V)),Q(t,E,V=>n(11,u=V)),Q(t,T,V=>n(12,a=V)),Q(t,L,V=>n(15,d=V)),Q(t,p,V=>n(16,h=V)),Q(t,R,V=>n(31,s=V)),Q(t,q,V=>n(13,f=V)),Q(t,J,V=>n(34,r=V)),Pn(()=>{jn(J,r=!0,r)}),t.$$set=V=>{"initialViewport"in V&&n(28,C=V.initialViewport),"onMoveStart"in V&&n(0,g=V.onMoveStart),"onMove"in V&&n(1,k=V.onMove),"onMoveEnd"in V&&n(2,_=V.onMoveEnd),"panOnScrollMode"in V&&n(3,b=V.panOnScrollMode),"preventScrolling"in V&&n(4,z=V.preventScrolling),"zoomOnScroll"in V&&n(5,A=V.zoomOnScroll),"zoomOnDoubleClick"in V&&n(6,P=V.zoomOnDoubleClick),"zoomOnPinch"in V&&n(7,v=V.zoomOnPinch),"panOnDrag"in V&&n(29,M=V.panOnDrag),"panOnScroll"in V&&n(30,D=V.panOnScroll),"$$scope"in V&&n(32,y=V.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&268435456&&n(10,i=C||{x:0,y:0,zoom:1}),t.$$.dirty[0]&536870912|t.$$.dirty[1]&1&&n(9,o=s||M),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(8,l=s||D)},[g,k,_,b,z,A,P,v,l,o,i,u,a,f,c,d,h,S,Y,I,E,T,N,L,p,R,q,J,C,M,D,s,y,m]}class bh extends fe{constructor(e){super(),ae(this,e,yh,_h,ue,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}const wh=bh;function kh(t){let e,n,i,o;const l=t[29].default,r=Xe(l,t,t[28],null);return{c(){e=we("div"),r&&r.c(),w(e,"class","svelte-flow__pane svelte-1esy7hx"),he(e,"draggable",t[0]),he(e,"dragging",t[4]),he(e,"selection",t[1])},m(s,u){K(s,e,u),r&&r.m(e,null),t[30](e),n=!0,i||(o=[be(e,"click",function(){Ne(t[3]?void 0:Fn(t[15],t[2]))&&(t[3]?void 0:Fn(t[15],t[2])).apply(this,arguments)}),be(e,"mousedown",function(){Ne(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),be(e,"mousemove",function(){Ne(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),be(e,"mouseup",function(){Ne(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),be(e,"mouseleave",function(){Ne(t[3]?t[19]:void 0)&&(t[3]?t[19]:void 0).apply(this,arguments)}),be(e,"contextmenu",function(){Ne(Fn(t[20],t[2]))&&Fn(t[20],t[2]).apply(this,arguments)})],i=!0)},p(s,u){t=s,r&&r.p&&(!n||u[0]&268435456)&&Ye(r,l,t,t[28],n?pe(l,t[28],u,null):Le(t[28]),null),(!n||u[0]&1)&&he(e,"draggable",t[0]),(!n||u[0]&16)&&he(e,"dragging",t[4]),(!n||u[0]&2)&&he(e,"selection",t[1])},i(s){n||(X(r,s),n=!0)},o(s){W(r,s),n=!1},d(s){s&&B(e),r&&r.d(s),t[30](null),i=!1,Oe(o)}}}function Fn(t,e){return n=>{n.target===e&&(t==null||t(n))}}function Uo(t){return e=>{const n=t.includes(e.id);return e.selected!==n?{...e,selected:n}:e}}function Sh(t,e,n){let i,o,l,r,s,u,a,f,c,d,h,m,y,{$$slots:C={},$$scope:g}=e,{panOnDrag:k=void 0}=e,{selectionOnDrag:_=void 0}=e;const b=ci(),{nodes:z,edges:A,viewport:P,dragging:v,elementsSelectable:M,selectionRect:D,selectionRectMode:S,selectionKeyPressed:Y,selectionMode:I,panActivationKeyPressed:E,unselectNodesAndEdges:T}=Me();Q(t,z,H=>n(36,f=H)),Q(t,A,H=>n(33,s=H)),Q(t,P,H=>n(35,a=H)),Q(t,v,H=>n(4,y=H)),Q(t,M,H=>n(25,d=H)),Q(t,D,H=>n(24,c=H)),Q(t,S,H=>n(23,r=H)),Q(t,Y,H=>n(26,h=H)),Q(t,I,H=>n(34,u=H)),Q(t,E,H=>n(27,m=H));let N,L=null,p=[];function R(H){b("paneclick",{event:H}),T(),S.set(null)}function q(H){if(L=N.getBoundingClientRect(),!M||!o||H.button!==0||H.target!==N||!L)return;const{x:j,y:ie}=gt(H,L);T(),D.set({width:0,height:0,startX:j,startY:ie,x:j,y:ie})}function J(H){if(!o||!L||!c)return;const j=gt(H,L),ie=c.startX??0,F=c.startY??0,Z={...c,x:j.x<ie?j.x:ie,y:j.y<F?j.y:F,width:Math.abs(j.x-ie),height:Math.abs(j.y-F)},ke=p.map(He=>He.id),Pe=Ki(p,s).map(He=>He.id);p=wr(f,Z,[a.x,a.y,a.zoom],u===ri.Partial,!0);const Ce=Ki(p,s).map(He=>He.id),We=p.map(He=>He.id);(ke.length!==We.length||We.some(He=>!ke.includes(He)))&&z.update(He=>He.map(Uo(We))),(Pe.length!==Ce.length||Ce.some(He=>!Pe.includes(He)))&&A.update(He=>He.map(Uo(Ce))),S.set("user"),D.set(Z)}function V(H){H.button===0&&(!o&&r==="user"&&H.target===N&&(R==null||R(H)),D.set(null),p.length>0&&S.set("nodes"))}const ne=()=>{r==="user"&&S.set(p.length>0?"nodes":null),D.set(null)},le=H=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){H.preventDefault();return}b("panecontextmenu",{event:H})};function ce(H){_t[H?"unshift":"push"](()=>{N=H,n(2,N)})}return t.$$set=H=>{"panOnDrag"in H&&n(0,k=H.panOnDrag),"selectionOnDrag"in H&&n(21,_=H.selectionOnDrag),"$$scope"in H&&n(28,g=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217729&&n(22,i=m||k),t.$$.dirty[0]&90177536&&n(1,o=h||c||_&&i!==!0),t.$$.dirty[0]&41943042&&n(3,l=d&&(o||r==="user"))},[k,o,N,l,y,z,A,P,v,M,D,S,Y,I,E,R,q,J,V,ne,le,_,i,r,c,d,h,m,g,C,ce]}class Eh extends fe{constructor(e){super(),ae(this,e,Sh,kh,ue,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}const Ch=Eh;function vh(t){let e,n;const i=t[3].default,o=Xe(i,t,t[2],null);return{c(){e=we("div"),o&&o.c(),w(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),de(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(l,r){K(l,e,r),o&&o.m(e,null),n=!0},p(l,[r]){o&&o.p&&(!n||r&4)&&Ye(o,i,l,l[2],n?pe(i,l[2],r,null):Le(l[2]),null),(!n||r&1)&&de(e,"transform","translate("+l[0].x+"px, "+l[0].y+"px) scale("+l[0].zoom+")")},i(l){n||(X(o,l),n=!0)},o(l){W(o,l),n=!1},d(l){l&&B(e),o&&o.d(l)}}}function zh(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{viewport:r}=Me();return Q(t,r,s=>n(0,i=s)),t.$$set=s=>{"$$scope"in s&&n(2,l=s.$$scope)},[i,r,l,o]}class Mh extends fe{constructor(e){super(),ae(this,e,zh,vh,ue,{})}}function Zr(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:r}=e,s=Bc({onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:r,getStoreItems:()=>{const a=U(n.snapGrid),f=U(n.viewport);return{nodes:U(n.nodes),nodeLookup:U(n.nodeLookup),edges:U(n.edges),nodeExtent:U(n.nodeExtent),snapGrid:a||[0,0],snapToGrid:!!a,nodeOrigin:[0,0],multiSelectionActive:U(n.multiselectionKeyPressed),domNode:U(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:U(n.autoPanOnNodeDrag),nodesDraggable:U(n.nodesDraggable),selectNodesOnDrag:U(n.selectNodesOnDrag),nodeDragThreshold:U(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function u(a,f){if(f.disabled){s.destroy();return}s.update({domNode:a,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable})}return u(t,e),{update(a){u(t,a)},destroy(){s.destroy()}}}function Ph({width:t,height:e,initialWidth:n,initialHeight:i,computedWidth:o,computedHeight:l}){if(o===void 0&&l===void 0){const r=t??n,s=e??i;return{width:r?`width:${r}px;`:"",height:s?`height:${s}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function qo(t){let e,n,i,o,l,r=`translate(${t[13]}px, ${t[14]}px)`,s,u,a;var f=t[26];function c(d,h){return{props:{data:d[2],id:d[1],selected:d[3],sourcePosition:d[15],targetPosition:d[16],zIndex:d[17],dragging:d[8],dragHandle:d[20],type:d[24],isConnectable:d[27],positionAbsoluteX:d[11],positionAbsoluteY:d[12],width:d[18],height:d[19]}}}return f&&(n=xn(f,c(t))),{c(){e=we("div"),n&&te(n.$$.fragment),w(e,"data-id",t[1]),w(e,"class",i=Se(["svelte-flow__node",`svelte-flow__node-${t[24]}`,t[22]])),w(e,"style",o=(t[9]??"")+";"+t[25].width+t[25].height),he(e,"dragging",t[8]),he(e,"selected",t[3]),he(e,"draggable",t[4]),he(e,"connectable",t[6]),he(e,"selectable",t[5]),he(e,"nopan",t[4]),he(e,"parent",t[10]),de(e,"z-index",t[17]),de(e,"transform",r),de(e,"visibility",t[21]?"visible":"hidden")},m(d,h){K(d,e,h),n&&$(n,e,null),t[49](e),s=!0,u||(a=[Ke(l=Zr.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[20],noDragClass:"nodrag",onNodeMouseDown:t[30],onDrag:t[46],onDragStart:t[47],onDragStop:t[48],store:t[28]})),be(e,"click",t[33]),be(e,"mouseenter",t[50]),be(e,"mouseleave",t[51]),be(e,"mousemove",t[52]),be(e,"contextmenu",t[53])],u=!0)},p(d,h){if(h[0]&67108864&&f!==(f=d[26])){if(n){ve();const y=n;W(y.$$.fragment,1,0,()=>{ee(y,1)}),ze()}f?(n=xn(f,c(d)),te(n.$$.fragment),X(n.$$.fragment,1),$(n,e,null)):n=null}else if(f){const y={};h[0]&4&&(y.data=d[2]),h[0]&2&&(y.id=d[1]),h[0]&8&&(y.selected=d[3]),h[0]&32768&&(y.sourcePosition=d[15]),h[0]&65536&&(y.targetPosition=d[16]),h[0]&131072&&(y.zIndex=d[17]),h[0]&256&&(y.dragging=d[8]),h[0]&1048576&&(y.dragHandle=d[20]),h[0]&16777216&&(y.type=d[24]),h[0]&134217728&&(y.isConnectable=d[27]),h[0]&2048&&(y.positionAbsoluteX=d[11]),h[0]&4096&&(y.positionAbsoluteY=d[12]),h[0]&262144&&(y.width=d[18]),h[0]&524288&&(y.height=d[19]),n.$set(y)}(!s||h[0]&2)&&w(e,"data-id",d[1]),(!s||h[0]&20971520&&i!==(i=Se(["svelte-flow__node",`svelte-flow__node-${d[24]}`,d[22]])))&&w(e,"class",i),(!s||h[0]&33554944&&o!==(o=(d[9]??"")+";"+d[25].width+d[25].height))&&w(e,"style",o),l&&Ne(l.update)&&h[0]&1048610&&l.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[20],noDragClass:"nodrag",onNodeMouseDown:d[30],onDrag:d[46],onDragStart:d[47],onDragStop:d[48],store:d[28]}),(!s||h[0]&20971776)&&he(e,"dragging",d[8]),(!s||h[0]&20971528)&&he(e,"selected",d[3]),(!s||h[0]&20971536)&&he(e,"draggable",d[4]),(!s||h[0]&20971584)&&he(e,"connectable",d[6]),(!s||h[0]&20971552)&&he(e,"selectable",d[5]),(!s||h[0]&20971536)&&he(e,"nopan",d[4]),(!s||h[0]&20972544)&&he(e,"parent",d[10]);const m=h[0]&33554944;(h[0]&33686016||m)&&de(e,"z-index",d[17]),(h[0]&33579520&&r!==(r=`translate(${d[13]}px, ${d[14]}px)`)||m)&&de(e,"transform",r),(h[0]&35652096||m)&&de(e,"visibility",d[21]?"visible":"hidden")},i(d){s||(n&&X(n.$$.fragment,d),s=!0)},o(d){n&&W(n.$$.fragment,d),s=!1},d(d){d&&B(e),n&&ee(n),t[49](null),u=!1,Oe(a)}}}function Hh(t){let e,n,i=!t[7]&&qo(t);return{c(){i&&i.c(),e=Ie()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,l){o[7]?i&&(ve(),W(i,1,1,()=>{i=null}),ze()):i?(i.p(o,l),l[0]&128&&X(i,1)):(i=qo(o),i.c(),X(i,1),i.m(e.parentNode,e))},i(o){n||(X(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function Nh(t,e,n){let i,o,l,r,s,u,{node:a}=e,{id:f}=e,{data:c={}}=e,{selected:d=!1}=e,{draggable:h=void 0}=e,{selectable:m=void 0}=e,{connectable:y=!0}=e,{hidden:C=!1}=e,{dragging:g=!1}=e,{resizeObserver:k=null}=e,{style:_=void 0}=e,{type:b="default"}=e,{isParent:z=!1}=e,{positionX:A}=e,{positionY:P}=e,{positionOriginX:v}=e,{positionOriginY:M}=e,{sourcePosition:D=void 0}=e,{targetPosition:S=void 0}=e,{zIndex:Y}=e,{computedWidth:I=void 0}=e,{computedHeight:E=void 0}=e,{initialWidth:T=void 0}=e,{initialHeight:N=void 0}=e,{width:L=void 0}=e,{height:p=void 0}=e,{dragHandle:R=void 0}=e,{initialized:q=!1}=e,{class:J=""}=e;const V=Me(),{nodeTypes:ne,nodeDragThreshold:le,selectNodesOnDrag:ce,handleNodeSelection:H,updateNodeDimensions:j}=V;Q(t,ne,G=>n(45,s=G));let ie,F=null;const Z=Gr(),ke=se(y);Q(t,ke,G=>n(27,u=G));let Pe,Ce,We;_n("svelteflow__node_id",f),_n("svelteflow__node_connectable",ke),qi(()=>{F&&(k==null||k.unobserve(F))});function He(G){m&&(!U(ce)||!h||U(le)>0)&&H(f),Z("nodeclick",{node:a,event:G})}const ut=(G,Qe,Re,x)=>{Z("nodedrag",{event:G,targetNode:Re,nodes:x})},at=(G,Qe,Re,x)=>{Z("nodedragstart",{event:G,targetNode:Re,nodes:x})},nt=(G,Qe,Re,x)=>{Z("nodedragstop",{event:G,targetNode:Re,nodes:x})};function it(G){_t[G?"unshift":"push"](()=>{ie=G,n(23,ie)})}const oe=G=>Z("nodemouseenter",{node:a,event:G}),wt=G=>Z("nodemouseleave",{node:a,event:G}),kt=G=>Z("nodemousemove",{node:a,event:G}),Pt=G=>Z("nodecontextmenu",{node:a,event:G});return t.$$set=G=>{"node"in G&&n(0,a=G.node),"id"in G&&n(1,f=G.id),"data"in G&&n(2,c=G.data),"selected"in G&&n(3,d=G.selected),"draggable"in G&&n(4,h=G.draggable),"selectable"in G&&n(5,m=G.selectable),"connectable"in G&&n(6,y=G.connectable),"hidden"in G&&n(7,C=G.hidden),"dragging"in G&&n(8,g=G.dragging),"resizeObserver"in G&&n(34,k=G.resizeObserver),"style"in G&&n(9,_=G.style),"type"in G&&n(35,b=G.type),"isParent"in G&&n(10,z=G.isParent),"positionX"in G&&n(11,A=G.positionX),"positionY"in G&&n(12,P=G.positionY),"positionOriginX"in G&&n(13,v=G.positionOriginX),"positionOriginY"in G&&n(14,M=G.positionOriginY),"sourcePosition"in G&&n(15,D=G.sourcePosition),"targetPosition"in G&&n(16,S=G.targetPosition),"zIndex"in G&&n(17,Y=G.zIndex),"computedWidth"in G&&n(36,I=G.computedWidth),"computedHeight"in G&&n(37,E=G.computedHeight),"initialWidth"in G&&n(38,T=G.initialWidth),"initialHeight"in G&&n(39,N=G.initialHeight),"width"in G&&n(18,L=G.width),"height"in G&&n(19,p=G.height),"dragHandle"in G&&n(20,R=G.dragHandle),"initialized"in G&&n(21,q=G.initialized),"class"in G&&n(22,J=G.class)},t.$$.update=()=>{t.$$.dirty[1]&16&&n(24,i=b||"default"),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(44,o=!!s[i]),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(26,l=s[i]||Lr),t.$$.dirty[1]&8208&&(o||console.warn("003",An.error003(b))),t.$$.dirty[0]&786432|t.$$.dirty[1]&480&&n(25,r=Ph({width:L,height:p,initialWidth:T,initialHeight:N,computedWidth:I,computedHeight:E})),t.$$.dirty[0]&64&&ke.set(!!y),t.$$.dirty[0]&25264130|t.$$.dirty[1]&7168&&((Pe&&i!==Pe||Ce&&D!==Ce||We&&S!==We)&&requestAnimationFrame(()=>j(new Map([[f,{id:f,nodeElement:ie,forceUpdate:!0}]]))),n(41,Pe=i),n(42,Ce=D),n(43,We=S)),t.$$.dirty[0]&8388608|t.$$.dirty[1]&520&&k&&ie!==F&&(F&&k.unobserve(F),ie&&k.observe(ie),n(40,F=ie))},[a,f,c,d,h,m,y,C,g,_,z,A,P,v,M,D,S,Y,L,p,R,q,J,ie,i,r,l,u,V,ne,H,Z,ke,He,k,b,I,E,T,N,F,Pe,Ce,We,o,s,ut,at,nt,it,oe,wt,kt,Pt]}class Ah extends fe{constructor(e){super(),ae(this,e,Nh,Hh,Wl,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:34,style:9,type:35,isParent:10,positionX:11,positionY:12,positionOriginX:13,positionOriginY:14,sourcePosition:15,targetPosition:16,zIndex:17,computedWidth:36,computedHeight:37,initialWidth:38,initialHeight:39,width:18,height:19,dragHandle:20,initialized:21,class:22},null,[-1,-1])}}const Th=Ah,{Map:Oh}=Cs;function Go(t,e,n){var r,s,u,a;const i=t.slice();i[18]=e[n];const o=On(i[18]);i[19]=o;const l=Cc({x:((s=(r=i[18].computed)==null?void 0:r.positionAbsolute)==null?void 0:s.x)??0,y:((a=(u=i[18].computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y)??0,...i[19],origin:i[18].origin});return i[20]=l,i}function Jo(t,e){var l,r,s,u,a,f,c,d;let n,i,o;return i=new Th({props:{node:e[18],id:e[18].id,data:e[18].data,selected:!!e[18].selected,hidden:!!e[18].hidden,draggable:!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u"),selectable:!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u"),connectable:!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u"),positionX:((r=(l=e[18].computed)==null?void 0:l.positionAbsolute)==null?void 0:r.x)??0,positionY:((u=(s=e[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:u.y)??0,positionOriginX:e[20].x??0,positionOriginY:e[20].y??0,isParent:!!((a=e[18][Ae])!=null&&a.isParent),style:e[18].style,class:e[18].class,type:e[18].type??"default",sourcePosition:e[18].sourcePosition,targetPosition:e[18].targetPosition,dragging:e[18].dragging,zIndex:((f=e[18][Ae])==null?void 0:f.z)??0,dragHandle:e[18].dragHandle,initialized:Cn(e[18]),width:e[18].width,height:e[18].height,initialWidth:e[18].initialWidth,initialHeight:e[18].initialHeight,computedWidth:(c=e[18].computed)==null?void 0:c.width,computedHeight:(d=e[18].computed)==null?void 0:d.height,resizeObserver:e[8]}}),i.$on("nodeclick",e[9]),i.$on("nodemouseenter",e[10]),i.$on("nodemousemove",e[11]),i.$on("nodemouseleave",e[12]),i.$on("nodedrag",e[13]),i.$on("nodedragstart",e[14]),i.$on("nodedragstop",e[15]),i.$on("nodecontextmenu",e[16]),{key:t,first:null,c(){n=Ie(),te(i.$$.fragment),this.first=n},m(h,m){K(h,n,m),$(i,h,m),o=!0},p(h,m){var C,g,k,_,b,z,A,P;e=h;const y={};m&1&&(y.node=e[18]),m&1&&(y.id=e[18].id),m&1&&(y.data=e[18].data),m&1&&(y.selected=!!e[18].selected),m&1&&(y.hidden=!!e[18].hidden),m&3&&(y.draggable=!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u")),m&5&&(y.selectable=!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u")),m&9&&(y.connectable=!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u")),m&1&&(y.positionX=((g=(C=e[18].computed)==null?void 0:C.positionAbsolute)==null?void 0:g.x)??0),m&1&&(y.positionY=((_=(k=e[18].computed)==null?void 0:k.positionAbsolute)==null?void 0:_.y)??0),m&1&&(y.positionOriginX=e[20].x??0),m&1&&(y.positionOriginY=e[20].y??0),m&1&&(y.isParent=!!((b=e[18][Ae])!=null&&b.isParent)),m&1&&(y.style=e[18].style),m&1&&(y.class=e[18].class),m&1&&(y.type=e[18].type??"default"),m&1&&(y.sourcePosition=e[18].sourcePosition),m&1&&(y.targetPosition=e[18].targetPosition),m&1&&(y.dragging=e[18].dragging),m&1&&(y.zIndex=((z=e[18][Ae])==null?void 0:z.z)??0),m&1&&(y.dragHandle=e[18].dragHandle),m&1&&(y.initialized=Cn(e[18])),m&1&&(y.width=e[18].width),m&1&&(y.height=e[18].height),m&1&&(y.initialWidth=e[18].initialWidth),m&1&&(y.initialHeight=e[18].initialHeight),m&1&&(y.computedWidth=(A=e[18].computed)==null?void 0:A.width),m&1&&(y.computedHeight=(P=e[18].computed)==null?void 0:P.height),i.$set(y)},i(h){o||(X(i.$$.fragment,h),o=!0)},o(h){W(i.$$.fragment,h),o=!1},d(h){h&&B(n),ee(i,h)}}}function Ih(t){let e,n=[],i=new Oh,o,l=De(t[0]);const r=s=>s[18].id;for(let s=0;s<l.length;s+=1){let u=Go(t,l,s),a=r(u);i.set(a,n[s]=Jo(a,u))}return{c(){e=we("div");for(let s=0;s<n.length;s+=1)n[s].c();w(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(s,u){K(s,e,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);o=!0},p(s,[u]){u&271&&(l=De(s[0]),ve(),n=hi(n,u,r,1,s,l,i,e,di,Jo,null,Go),ze())},i(s){if(!o){for(let u=0;u<l.length;u+=1)X(n[u]);o=!0}},o(s){for(let u=0;u<n.length;u+=1)W(n[u]);o=!1},d(s){s&&B(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function Dh(t,e,n){let i,o,l,r;const{visibleNodes:s,nodesDraggable:u,nodesConnectable:a,elementsSelectable:f,updateNodeDimensions:c}=Me();Q(t,s,z=>n(0,i=z)),Q(t,u,z=>n(1,o=z)),Q(t,a,z=>n(3,r=z)),Q(t,f,z=>n(2,l=z));const d=typeof ResizeObserver>"u"?null:new ResizeObserver(z=>{const A=new Map;z.forEach(P=>{const v=P.target.getAttribute("data-id");A.set(v,{id:v,nodeElement:P.target,forceUpdate:!0})}),c(A)});qi(()=>{d==null||d.disconnect()});function h(z){Ee.call(this,t,z)}function m(z){Ee.call(this,t,z)}function y(z){Ee.call(this,t,z)}function C(z){Ee.call(this,t,z)}function g(z){Ee.call(this,t,z)}function k(z){Ee.call(this,t,z)}function _(z){Ee.call(this,t,z)}function b(z){Ee.call(this,t,z)}return[i,o,l,r,s,u,a,f,d,h,m,y,C,g,k,_,b]}class Xh extends fe{constructor(e){super(),ae(this,e,Dh,Ih,ue,{})}}function Qo(t){let e,n,i,o,l,r,s,u;var a=t[26];function f(c,d){return{props:{id:c[0],source:c[1],target:c[2],sourceX:c[13],sourceY:c[14],targetX:c[15],targetY:c[16],sourcePosition:c[17],targetPosition:c[18],animated:c[6],selected:c[7],label:c[9],labelStyle:c[10],data:c[3],style:c[4],interactionWidth:c[20],type:c[22],sourceHandleId:c[11],targetHandleId:c[12],markerStart:c[25],markerEnd:c[24]}}}return a&&(i=xn(a,f(t))),{c(){e=me("svg"),n=me("g"),i&&te(i.$$.fragment),w(n,"class",o=Se(["svelte-flow__edge",t[21]])),w(n,"data-id",t[0]),w(n,"aria-label",l=t[19]===null?void 0:t[19]?t[19]:`Edge from ${t[1]} to ${t[2]}`),w(n,"role","img"),he(n,"animated",t[6]),he(n,"selected",t[7]),he(n,"selectable",t[23]),de(e,"z-index",t[5])},m(c,d){K(c,e,d),ye(e,n),i&&$(i,n,null),r=!0,s||(u=[be(n,"click",t[31]),be(n,"contextmenu",t[32])],s=!0)},p(c,d){if(d[0]&67108864&&a!==(a=c[26])){if(i){ve();const h=i;W(h.$$.fragment,1,0,()=>{ee(h,1)}),ze()}a?(i=xn(a,f(c)),te(i.$$.fragment),X(i.$$.fragment,1),$(i,n,null)):i=null}else if(a){const h={};d[0]&1&&(h.id=c[0]),d[0]&2&&(h.source=c[1]),d[0]&4&&(h.target=c[2]),d[0]&8192&&(h.sourceX=c[13]),d[0]&16384&&(h.sourceY=c[14]),d[0]&32768&&(h.targetX=c[15]),d[0]&65536&&(h.targetY=c[16]),d[0]&131072&&(h.sourcePosition=c[17]),d[0]&262144&&(h.targetPosition=c[18]),d[0]&64&&(h.animated=c[6]),d[0]&128&&(h.selected=c[7]),d[0]&512&&(h.label=c[9]),d[0]&1024&&(h.labelStyle=c[10]),d[0]&8&&(h.data=c[3]),d[0]&16&&(h.style=c[4]),d[0]&1048576&&(h.interactionWidth=c[20]),d[0]&4194304&&(h.type=c[22]),d[0]&2048&&(h.sourceHandleId=c[11]),d[0]&4096&&(h.targetHandleId=c[12]),d[0]&33554432&&(h.markerStart=c[25]),d[0]&16777216&&(h.markerEnd=c[24]),i.$set(h)}(!r||d[0]&2097152&&o!==(o=Se(["svelte-flow__edge",c[21]])))&&w(n,"class",o),(!r||d[0]&1)&&w(n,"data-id",c[0]),(!r||d[0]&524294&&l!==(l=c[19]===null?void 0:c[19]?c[19]:`Edge from ${c[1]} to ${c[2]}`))&&w(n,"aria-label",l),(!r||d[0]&2097216)&&he(n,"animated",c[6]),(!r||d[0]&2097280)&&he(n,"selected",c[7]),(!r||d[0]&10485760)&&he(n,"selectable",c[23]),d[0]&32&&de(e,"z-index",c[5])},i(c){r||(i&&X(i.$$.fragment,c),r=!0)},o(c){i&&W(i.$$.fragment,c),r=!1},d(c){c&&B(e),i&&ee(i),s=!1,Oe(u)}}}function ph(t){let e,n,i=!t[8]&&Qo(t);return{c(){i&&i.c(),e=Ie()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,l){o[8]?i&&(ve(),W(i,1,1,()=>{i=null}),ze()):i?(i.p(o,l),l[0]&256&&X(i,1)):(i=Qo(o),i.c(),X(i,1),i.m(e.parentNode,e))},i(o){n||(X(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function Yh(t,e,n){let i,o,l,r,s,u,a,f,c,{id:d}=e,{type:h="default"}=e,{source:m=""}=e,{target:y=""}=e,{data:C={}}=e,{style:g=void 0}=e,{zIndex:k=void 0}=e,{animated:_=!1}=e,{selected:b=!1}=e,{selectable:z=void 0}=e,{hidden:A=!1}=e,{label:P=void 0}=e,{labelStyle:v=void 0}=e,{markerStart:M=void 0}=e,{markerEnd:D=void 0}=e,{sourceHandle:S=void 0}=e,{targetHandle:Y=void 0}=e,{sourceX:I}=e,{sourceY:E}=e,{targetX:T}=e,{targetY:N}=e,{sourcePosition:L}=e,{targetPosition:p}=e,{ariaLabel:R=void 0}=e,{interactionWidth:q=void 0}=e,{class:J=""}=e;_n("svelteflow__edge_id",d);const{edgeLookup:V,edgeTypes:ne,flowId:le,elementsSelectable:ce}=Me();Q(t,V,Z=>n(40,u=Z)),Q(t,ne,Z=>n(39,c=Z)),Q(t,le,Z=>n(38,f=Z)),Q(t,ce,Z=>n(37,a=Z));const H=ci(),j=Vr();function ie(Z){const ke=u.get(d);ke&&(j(d),H("edgeclick",{event:Z,edge:ke}))}function F(Z){const ke=u.get(d);ke&&H("edgecontextmenu",{event:Z,edge:ke})}return t.$$set=Z=>{"id"in Z&&n(0,d=Z.id),"type"in Z&&n(33,h=Z.type),"source"in Z&&n(1,m=Z.source),"target"in Z&&n(2,y=Z.target),"data"in Z&&n(3,C=Z.data),"style"in Z&&n(4,g=Z.style),"zIndex"in Z&&n(5,k=Z.zIndex),"animated"in Z&&n(6,_=Z.animated),"selected"in Z&&n(7,b=Z.selected),"selectable"in Z&&n(34,z=Z.selectable),"hidden"in Z&&n(8,A=Z.hidden),"label"in Z&&n(9,P=Z.label),"labelStyle"in Z&&n(10,v=Z.labelStyle),"markerStart"in Z&&n(35,M=Z.markerStart),"markerEnd"in Z&&n(36,D=Z.markerEnd),"sourceHandle"in Z&&n(11,S=Z.sourceHandle),"targetHandle"in Z&&n(12,Y=Z.targetHandle),"sourceX"in Z&&n(13,I=Z.sourceX),"sourceY"in Z&&n(14,E=Z.sourceY),"targetX"in Z&&n(15,T=Z.targetX),"targetY"in Z&&n(16,N=Z.targetY),"sourcePosition"in Z&&n(17,L=Z.sourcePosition),"targetPosition"in Z&&n(18,p=Z.targetPosition),"ariaLabel"in Z&&n(19,R=Z.ariaLabel),"interactionWidth"in Z&&n(20,q=Z.interactionWidth),"class"in Z&&n(21,J=Z.class)},t.$$.update=()=>{t.$$.dirty[1]&4&&n(22,i=h||"default"),t.$$.dirty[0]&4194304|t.$$.dirty[1]&256&&n(26,o=c[i]||Wr),t.$$.dirty[1]&144&&n(25,l=M?`url(#${Zi(M,f)})`:void 0),t.$$.dirty[1]&160&&n(24,r=D?`url(#${Zi(D,f)})`:void 0),t.$$.dirty[1]&72&&n(23,s=z||a&&typeof z>"u")},[d,m,y,C,g,k,_,b,A,P,v,S,Y,I,E,T,N,L,p,R,q,J,i,s,r,l,o,V,ne,le,ce,ie,F,h,z,M,D,a,f,c]}class Lh extends fe{constructor(e){super(),ae(this,e,Yh,ph,Wl,{id:0,type:33,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:34,hidden:8,label:9,labelStyle:10,markerStart:35,markerEnd:36,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}const Vh=Lh;function Wh(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return Pn(()=>(i==null||i(),o)),t.$$set=l=>{"onMount"in l&&n(0,i=l.onMount),"onDestroy"in l&&n(1,o=l.onDestroy)},[i,o]}class Rh extends fe{constructor(e){super(),ae(this,e,Wh,null,ue,{onMount:0,onDestroy:1})}}const Bh=Rh;function jo(t,e,n){const i=t.slice();return i[2]=e[n],i}function xo(t,e){let n,i,o;const l=[e[2]];let r={};for(let s=0;s<l.length;s+=1)r=Ve(r,l[s]);return i=new Qh({props:r}),{key:t,first:null,c(){n=Ie(),te(i.$$.fragment),this.first=n},m(s,u){K(s,n,u),$(i,s,u),o=!0},p(s,u){e=s;const a=u&1?yt(l,[qt(e[2])]):{};i.$set(a)},i(s){o||(X(i.$$.fragment,s),o=!0)},o(s){W(i.$$.fragment,s),o=!1},d(s){s&&B(n),ee(i,s)}}}function Kh(t){let e,n=[],i=new Map,o,l=De(t[0]);const r=s=>s[2].id;for(let s=0;s<l.length;s+=1){let u=jo(t,l,s),a=r(u);i.set(a,n[s]=xo(a,u))}return{c(){e=me("defs");for(let s=0;s<n.length;s+=1)n[s].c()},m(s,u){K(s,e,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);o=!0},p(s,[u]){u&1&&(l=De(s[0]),ve(),n=hi(n,u,r,1,s,l,i,e,di,xo,null,jo),ze())},i(s){if(!o){for(let u=0;u<l.length;u+=1)X(n[u]);o=!0}},o(s){for(let u=0;u<n.length;u+=1)W(n[u]);o=!1},d(s){s&&B(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function Fh(t,e,n){let i;const{markers:o}=Me();return Q(t,o,l=>n(0,i=l)),[i,o]}class Zh extends fe{constructor(e){super(),ae(this,e,Fh,Kh,ue,{})}}function Uh(t){let e;return{c(){e=me("polyline"),w(e,"stroke",t[6]),w(e,"stroke-linecap","round"),w(e,"stroke-linejoin","round"),w(e,"stroke-width",t[7]),w(e,"fill",t[6]),w(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){K(n,e,i)},p(n,i){i&64&&w(e,"stroke",n[6]),i&128&&w(e,"stroke-width",n[7]),i&64&&w(e,"fill",n[6])},d(n){n&&B(e)}}}function qh(t){let e;return{c(){e=me("polyline"),w(e,"stroke",t[6]),w(e,"stroke-linecap","round"),w(e,"stroke-linejoin","round"),w(e,"stroke-width",t[7]),w(e,"fill","none"),w(e,"points","-5,-4 0,0 -5,4")},m(n,i){K(n,e,i)},p(n,i){i&64&&w(e,"stroke",n[6]),i&128&&w(e,"stroke-width",n[7])},d(n){n&&B(e)}}}function Gh(t){let e,n,i;function o(s,u){if(s[1]===jt.Arrow)return qh;if(s[1]===jt.ArrowClosed)return Uh}let l=o(t),r=l&&l(t);return{c(){e=me("marker"),r&&r.c(),w(e,"class","svelte-flow__arrowhead"),w(e,"id",t[0]),w(e,"markerWidth",n=`${t[2]}`),w(e,"markerHeight",i=`${t[3]}`),w(e,"viewBox","-10 -10 20 20"),w(e,"markerUnits",t[4]),w(e,"orient",t[5]),w(e,"refX","0"),w(e,"refY","0")},m(s,u){K(s,e,u),r&&r.m(e,null)},p(s,[u]){l===(l=o(s))&&r?r.p(s,u):(r&&r.d(1),r=l&&l(s),r&&(r.c(),r.m(e,null))),u&1&&w(e,"id",s[0]),u&4&&n!==(n=`${s[2]}`)&&w(e,"markerWidth",n),u&8&&i!==(i=`${s[3]}`)&&w(e,"markerHeight",i),u&16&&w(e,"markerUnits",s[4]),u&32&&w(e,"orient",s[5])},i:re,o:re,d(s){s&&B(e),r&&r.d()}}}function Jh(t,e,n){let{id:i}=e,{type:o}=e,{width:l=12.5}=e,{height:r=12.5}=e,{markerUnits:s="strokeWidth"}=e,{orient:u="auto-start-reverse"}=e,{color:a=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=c=>{"id"in c&&n(0,i=c.id),"type"in c&&n(1,o=c.type),"width"in c&&n(2,l=c.width),"height"in c&&n(3,r=c.height),"markerUnits"in c&&n(4,s=c.markerUnits),"orient"in c&&n(5,u=c.orient),"color"in c&&n(6,a=c.color),"strokeWidth"in c&&n(7,f=c.strokeWidth)},[i,o,l,r,s,u,a,f]}class Qh extends fe{constructor(e){super(),ae(this,e,Jh,Gh,ue,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function $o(t,e,n){const i=t.slice();return i[10]=e[n],i}function el(t,e){let n,i,o;return i=new Vh({props:{id:e[10].id,source:e[10].source,target:e[10].target,data:e[10].data,style:e[10].style,animated:e[10].animated,selected:e[10].selected,selectable:e[10].selectable,hidden:e[10].hidden,label:e[10].label,labelStyle:e[10].labelStyle,markerStart:e[10].markerStart,markerEnd:e[10].markerEnd,sourceHandle:e[10].sourceHandle,targetHandle:e[10].targetHandle,sourceX:e[10].sourceX,sourceY:e[10].sourceY,targetX:e[10].targetX,targetY:e[10].targetY,sourcePosition:e[10].sourcePosition,targetPosition:e[10].targetPosition,ariaLabel:e[10].ariaLabel,interactionWidth:e[10].interactionWidth,class:e[10].class,type:e[10].type||"default",zIndex:e[10].zIndex}}),i.$on("edgeclick",e[5]),i.$on("edgecontextmenu",e[6]),{key:t,first:null,c(){n=Ie(),te(i.$$.fragment),this.first=n},m(l,r){K(l,n,r),$(i,l,r),o=!0},p(l,r){e=l;const s={};r&1&&(s.id=e[10].id),r&1&&(s.source=e[10].source),r&1&&(s.target=e[10].target),r&1&&(s.data=e[10].data),r&1&&(s.style=e[10].style),r&1&&(s.animated=e[10].animated),r&1&&(s.selected=e[10].selected),r&1&&(s.selectable=e[10].selectable),r&1&&(s.hidden=e[10].hidden),r&1&&(s.label=e[10].label),r&1&&(s.labelStyle=e[10].labelStyle),r&1&&(s.markerStart=e[10].markerStart),r&1&&(s.markerEnd=e[10].markerEnd),r&1&&(s.sourceHandle=e[10].sourceHandle),r&1&&(s.targetHandle=e[10].targetHandle),r&1&&(s.sourceX=e[10].sourceX),r&1&&(s.sourceY=e[10].sourceY),r&1&&(s.targetX=e[10].targetX),r&1&&(s.targetY=e[10].targetY),r&1&&(s.sourcePosition=e[10].sourcePosition),r&1&&(s.targetPosition=e[10].targetPosition),r&1&&(s.ariaLabel=e[10].ariaLabel),r&1&&(s.interactionWidth=e[10].interactionWidth),r&1&&(s.class=e[10].class),r&1&&(s.type=e[10].type||"default"),r&1&&(s.zIndex=e[10].zIndex),i.$set(s)},i(l){o||(X(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(n),ee(i,l)}}}function tl(t){let e,n;return e=new Bh({props:{onMount:t[7],onDestroy:t[8]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&2&&(l.onMount=i[7]),o&2&&(l.onDestroy=i[8]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function jh(t){let e,n,i,o,l=[],r=new Map,s,u;i=new Zh({});let a=De(t[0]);const f=d=>d[10].id;for(let d=0;d<a.length;d+=1){let h=$o(t,a,d),m=f(h);r.set(m,l[d]=el(m,h))}let c=t[0].length>0&&tl(t);return{c(){e=we("div"),n=me("svg"),te(i.$$.fragment),o=ge();for(let d=0;d<l.length;d+=1)l[d].c();s=ge(),c&&c.c(),w(n,"class","svelte-flow__marker"),w(e,"class","svelte-flow__edges")},m(d,h){K(d,e,h),ye(e,n),$(i,n,null),ye(e,o);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);ye(e,s),c&&c.m(e,null),u=!0},p(d,[h]){h&1&&(a=De(d[0]),ve(),l=hi(l,h,f,1,d,a,r,e,di,el,s,$o),ze()),d[0].length>0?c?(c.p(d,h),h&1&&X(c,1)):(c=tl(d),c.c(),X(c,1),c.m(e,null)):c&&(ve(),W(c,1,1,()=>{c=null}),ze())},i(d){if(!u){X(i.$$.fragment,d);for(let h=0;h<a.length;h+=1)X(l[h]);X(c),u=!0}},o(d){W(i.$$.fragment,d);for(let h=0;h<l.length;h+=1)W(l[h]);W(c),u=!1},d(d){d&&B(e),ee(i);for(let h=0;h<l.length;h+=1)l[h].d();c&&c.d()}}}function xh(t,e,n){let i,o,{defaultEdgeOptions:l}=e;const{visibleEdges:r,edgesInitialized:s,edges:{setDefaultOptions:u}}=Me();Q(t,r,h=>n(0,i=h)),Q(t,s,h=>n(1,o=h)),Pn(()=>{l&&u(l)});function a(h){Ee.call(this,t,h)}function f(h){Ee.call(this,t,h)}const c=()=>{jn(s,o=!0,o)},d=()=>{jn(s,o=!1,o)};return t.$$set=h=>{"defaultEdgeOptions"in h&&n(4,l=h.defaultEdgeOptions)},[i,o,r,s,l,a,f,c,d]}class $h extends fe{constructor(e){super(),ae(this,e,xh,jh,ue,{defaultEdgeOptions:4})}}const eg=$h;function nl(t){let e;return{c(){e=we("div"),w(e,"class","svelte-flow__selection svelte-1iugwpu"),de(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),de(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),de(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){K(n,e,i)},p(n,i){i&4&&de(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&de(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&de(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&B(e)}}}function tg(t){let e,n=t[4]&&nl(t);return{c(){n&&n.c(),e=Ie()},m(i,o){n&&n.m(i,o),K(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=nl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:re,o:re,d(i){i&&B(e),n&&n.d(i)}}}function ng(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:l=0}=e,{height:r=0}=e,{isVisible:s=!0}=e;return t.$$set=u=>{"x"in u&&n(0,i=u.x),"y"in u&&n(1,o=u.y),"width"in u&&n(2,l=u.width),"height"in u&&n(3,r=u.height),"isVisible"in u&&n(4,s=u.isVisible)},[i,o,l,r,s]}class ig extends fe{constructor(e){super(),ae(this,e,ng,tg,ue,{x:0,y:1,width:2,height:3,isVisible:4})}}const Ur=ig;function og(t){var i,o,l,r;let e,n;return e=new Ur({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(l=t[0])==null?void 0:l.x,y:(r=t[0])==null?void 0:r.y}}),{c(){te(e.$$.fragment)},m(s,u){$(e,s,u),n=!0},p(s,[u]){var f,c,d,h;const a={};u&3&&(a.isVisible=!!(s[0]&&s[1]==="user")),u&1&&(a.width=(f=s[0])==null?void 0:f.width),u&1&&(a.height=(c=s[0])==null?void 0:c.height),u&1&&(a.x=(d=s[0])==null?void 0:d.x),u&1&&(a.y=(h=s[0])==null?void 0:h.y),e.$set(a)},i(s){n||(X(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){ee(e,s)}}}function lg(t,e,n){let i,o;const{selectionRect:l,selectionRectMode:r}=Me();return Q(t,l,s=>n(0,i=s)),Q(t,r,s=>n(1,o=s)),[i,o,l,r]}class rg extends fe{constructor(e){super(),ae(this,e,lg,og,ue,{})}}function il(t){let e,n,i,o,l;return n=new Ur({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=we("div"),te(n.$$.fragment),w(e,"class","selection-wrapper nopan svelte-5pxri"),de(e,"width",t[1].width+"px"),de(e,"height",t[1].height+"px"),de(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),w(e,"role","button"),w(e,"tabindex","-1")},m(r,s){K(r,e,s),$(n,e,null),i=!0,o||(l=[Ke(Zr.call(null,e,{disabled:!1,store:t[3],onDrag:t[10],onDragStart:t[11],onDragStop:t[12]})),be(e,"contextmenu",t[7]),be(e,"click",t[8]),be(e,"keyup",ug)],o=!0)},p(r,s){(!i||s&2)&&de(e,"width",r[1].width+"px"),(!i||s&2)&&de(e,"height",r[1].height+"px"),(!i||s&2)&&de(e,"transform","translate("+r[1].x+"px, "+r[1].y+"px)")},i(r){i||(X(n.$$.fragment,r),i=!0)},o(r){W(n.$$.fragment,r),i=!1},d(r){r&&B(e),ee(n),o=!1,Oe(l)}}}function sg(t){let e,n,i=t[0]&&t[2]==="nodes"&&il(t);return{c(){i&&i.c(),e=Ie()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,[l]){o[0]&&o[2]==="nodes"?i?(i.p(o,l),l&5&&X(i,1)):(i=il(o),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(ve(),W(i,1,1,()=>{i=null}),ze())},i(o){n||(X(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}const ug=()=>{};function ag(t,e,n){let i,o,l,r;const s=Me(),{selectionRectMode:u,nodes:a}=s;Q(t,u,g=>n(2,r=g)),Q(t,a,g=>n(9,l=g));const f=ci(),c=Gr();function d(g){f("selectioncontextmenu",{nodes:i,event:g})}function h(g){f("selectionclick",{nodes:i,event:g})}const m=(g,k,_,b)=>{c("nodedrag",{event:g,targetNode:null,nodes:b})},y=(g,k,_,b)=>{c("nodedragstart",{event:g,targetNode:null,nodes:b})},C=(g,k,_,b)=>{c("nodedragstop",{event:g,targetNode:null,nodes:b})};return t.$$.update=()=>{t.$$.dirty&512&&n(0,i=l.filter(g=>g.selected)),t.$$.dirty&1&&n(1,o=Tn(i))},[i,o,r,s,u,a,c,d,h,l,m,y,C]}class fg extends fe{constructor(e){super(),ae(this,e,ag,sg,ue,{})}}function ot(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function l(r){const s=Array.isArray(i)?i:[i],u={alt:r.altKey,ctrl:r.ctrlKey,shift:r.shiftKey,meta:r.metaKey};for(const a of s){const f={modifier:[],preventDefault:!1,enabled:!0,...a},{modifier:c,key:d,callback:h,preventDefault:m,enabled:y}=f;if(y){if(c.length&&!(Array.isArray(c)?c:[c]).map(k=>typeof k=="string"?[k]:k).some(k=>k.every(_=>u[_])))continue;if(r.key===d){m&&r.preventDefault();const C={node:t,trigger:f,originalEvent:r};t.dispatchEvent(new CustomEvent("shortcut",{detail:C})),h==null||h(C)}}}}return n&&t.addEventListener(o,l),{update:r=>{const{enabled:s=!0,type:u="keydown"}=r;n&&(!s||o!==u)?t.removeEventListener(o,l):!n&&s&&t.addEventListener(u,l),n=s,o=u,i=r.trigger},destroy:()=>{t.removeEventListener(o,l)}}}function cg(t){let e,n,i,o,l,r,s,u,a,f,c,d;return{c:re,m(h,m){c||(d=[Ke(e=ot.call(null,window,{trigger:Te(t[0],t[11]),type:"keydown"})),Ke(n=ot.call(null,window,{trigger:Te(t[0],t[12]),type:"keyup"})),Ke(i=ot.call(null,window,{trigger:Te(t[1],t[13]),type:"keydown"})),Ke(o=ot.call(null,window,{trigger:Te(t[1],t[14]),type:"keyup"})),Ke(l=ot.call(null,window,{trigger:Te(t[2],t[15]),type:"keydown"})),Ke(r=ot.call(null,window,{trigger:Te(t[2],t[16]),type:"keyup"})),Ke(s=ot.call(null,window,{trigger:Te(t[3],t[17]),type:"keydown"})),Ke(u=ot.call(null,window,{trigger:Te(t[3],t[18]),type:"keyup"})),Ke(a=ot.call(null,window,{trigger:Te(t[4],t[19]),type:"keydown"})),Ke(f=ot.call(null,window,{trigger:Te(t[4],t[20]),type:"keyup"})),be(window,"blur",t[10]),be(window,"contextmenu",t[10])],c=!0)},p(h,[m]){e&&Ne(e.update)&&m&1&&e.update.call(null,{trigger:Te(h[0],h[11]),type:"keydown"}),n&&Ne(n.update)&&m&1&&n.update.call(null,{trigger:Te(h[0],h[12]),type:"keyup"}),i&&Ne(i.update)&&m&2&&i.update.call(null,{trigger:Te(h[1],h[13]),type:"keydown"}),o&&Ne(o.update)&&m&2&&o.update.call(null,{trigger:Te(h[1],h[14]),type:"keyup"}),l&&Ne(l.update)&&m&4&&l.update.call(null,{trigger:Te(h[2],h[15]),type:"keydown"}),r&&Ne(r.update)&&m&4&&r.update.call(null,{trigger:Te(h[2],h[16]),type:"keyup"}),s&&Ne(s.update)&&m&8&&s.update.call(null,{trigger:Te(h[3],h[17]),type:"keydown"}),u&&Ne(u.update)&&m&8&&u.update.call(null,{trigger:Te(h[3],h[18]),type:"keyup"}),a&&Ne(a.update)&&m&16&&a.update.call(null,{trigger:Te(h[4],h[19]),type:"keydown"}),f&&Ne(f.update)&&m&16&&f.update.call(null,{trigger:Te(h[4],h[20]),type:"keyup"})},i:re,o:re,d(h){c=!1,Oe(d)}}}function qr(t){return t!==null&&typeof t=="object"}function dg(t){return qr(t)?t.modifier||[]:[]}function hg(t){return t==null?"":qr(t)?t.key:t}function Te(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=hg(i);return{key:o,modifier:dg(i),enabled:o!==null,callback:e}})}function gg(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=ai()?"Meta":"Control"}=e,{deleteKey:l="Backspace"}=e,{panActivationKey:r=" "}=e,{zoomActivationKey:s=ai()?"Meta":"Control"}=e;const{selectionKeyPressed:u,multiselectionKeyPressed:a,deleteKeyPressed:f,panActivationKeyPressed:c,zoomActivationKeyPressed:d,selectionRect:h}=Me();function m(){h.set(null),u.set(!1),a.set(!1),f.set(!1),c.set(!1),d.set(!1)}const y=()=>u.set(!0),C=()=>u.set(!1),g=()=>a.set(!0),k=()=>a.set(!1),_=M=>{!(M.originalEvent.ctrlKey||M.originalEvent.metaKey||M.originalEvent.shiftKey)&&!Mc(M.originalEvent)&&f.set(!0)},b=()=>f.set(!1),z=()=>c.set(!0),A=()=>c.set(!1),P=()=>d.set(!0),v=()=>d.set(!1);return t.$$set=M=>{"selectionKey"in M&&n(0,i=M.selectionKey),"multiSelectionKey"in M&&n(1,o=M.multiSelectionKey),"deleteKey"in M&&n(2,l=M.deleteKey),"panActivationKey"in M&&n(3,r=M.panActivationKey),"zoomActivationKey"in M&&n(4,s=M.zoomActivationKey)},[i,o,l,r,s,u,a,f,c,d,m,y,C,g,k,_,b,z,A,P,v]}class mg extends fe{constructor(e){super(),ae(this,e,gg,cg,ue,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const _g=mg,yg=t=>({}),ol=t=>({});function ll(t){let e,n,i,o;const l=t[10].connectionLine,r=Xe(l,t,t[9],ol);let s=!t[2]&&rl(t);return{c(){e=me("svg"),n=me("g"),r&&r.c(),s&&s.c(),w(n,"class",i=Se(["svelte-flow__connection",t[3].status])),w(e,"width",t[4]),w(e,"height",t[5]),w(e,"class","svelte-flow__connectionline"),w(e,"style",t[0])},m(u,a){K(u,e,a),ye(e,n),r&&r.m(n,null),s&&s.m(n,null),o=!0},p(u,a){r&&r.p&&(!o||a&512)&&Ye(r,l,u,u[9],o?pe(l,u[9],a,yg):Le(u[9]),ol),u[2]?s&&(s.d(1),s=null):s?s.p(u,a):(s=rl(u),s.c(),s.m(n,null)),(!o||a&8&&i!==(i=Se(["svelte-flow__connection",u[3].status])))&&w(n,"class",i),(!o||a&16)&&w(e,"width",u[4]),(!o||a&32)&&w(e,"height",u[5]),(!o||a&1)&&w(e,"style",u[0])},i(u){o||(X(r,u),o=!0)},o(u){W(r,u),o=!1},d(u){u&&B(e),r&&r.d(u),s&&s.d()}}}function rl(t){let e,n;return{c(){e=me("path"),w(e,"d",n=t[3].path),w(e,"style",t[1]),w(e,"fill","none"),w(e,"class","svelte-flow__connection-path")},m(i,o){K(i,e,o)},p(i,o){o&8&&n!==(n=i[3].path)&&w(e,"d",n),o&2&&w(e,"style",i[1])},d(i){i&&B(e)}}}function bg(t){let e,n,i=t[3].path&&ll(t);return{c(){i&&i.c(),e=Ie()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,[l]){o[3].path?i?(i.p(o,l),l&8&&X(i,1)):(i=ll(o),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(ve(),W(i,1,1,()=>{i=null}),ze())},i(o){n||(X(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function wg(t,e,n){let i,o,l,{$$slots:r={},$$scope:s}=e,{containerStyle:u=""}=e,{style:a=""}=e,{isCustomComponent:f=!1}=e;const{width:c,height:d,connection:h}=Me();return Q(t,c,m=>n(4,o=m)),Q(t,d,m=>n(5,l=m)),Q(t,h,m=>n(3,i=m)),t.$$set=m=>{"containerStyle"in m&&n(0,u=m.containerStyle),"style"in m&&n(1,a=m.style),"isCustomComponent"in m&&n(2,f=m.isCustomComponent),"$$scope"in m&&n(9,s=m.$$scope)},[u,a,f,i,o,l,c,d,h,s,r]}let kg=class extends fe{constructor(e){super(),ae(this,e,wg,bg,ue,{containerStyle:0,style:1,isCustomComponent:2})}};const Sg=kg;function Eg(t){let e,n,i;const o=t[6].default,l=Xe(o,t,t[5],null);let r=[{class:n=Se(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[3]],s={};for(let u=0;u<r.length;u+=1)s=Ve(s,r[u]);return{c(){e=we("div"),l&&l.c(),Ut(e,s)},m(u,a){K(u,e,a),l&&l.m(e,null),i=!0},p(u,[a]){l&&l.p&&(!i||a&32)&&Ye(l,o,u,u[5],i?pe(o,u[5],a,null):Le(u[5]),null),Ut(e,s=yt(r,[(!i||a&6&&n!==(n=Se(["svelte-flow__panel",u[1],...u[2]])))&&{class:n},(!i||a&1)&&{style:u[0]},a&8&&u[3]]))},i(u){i||(X(l,u),i=!0)},o(u){W(l,u),i=!1},d(u){u&&B(e),l&&l.d(u)}}}function Cg(t,e,n){let i;const o=["position","style","class"];let l=Zt(e,o),{$$slots:r={},$$scope:s}=e,{position:u="top-right"}=e,{style:a=void 0}=e,{class:f=void 0}=e;return t.$$set=c=>{e=Ve(Ve({},e),Ui(c)),n(3,l=Zt(e,o)),"position"in c&&n(4,u=c.position),"style"in c&&n(0,a=c.style),"class"in c&&n(1,f=c.class),"$$scope"in c&&n(5,s=c.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(2,i=`${u}`.split("-"))},[a,f,i,l,u,s,r]}class zn extends fe{constructor(e){super(),ae(this,e,Cg,Eg,ue,{position:4,style:0,class:1})}}function sl(t){let e,n;return e=new zn({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[vg]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&2&&(l.position=i[1]),o&4&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function vg(t){let e;return{c(){e=we("a"),e.textContent="Svelte Flow",w(e,"href","https://svelteflow.dev"),w(e,"target","_blank"),w(e,"rel","noopener noreferrer"),w(e,"aria-label","Svelte Flow attribution")},m(n,i){K(n,e,i)},p:re,d(n){n&&B(e)}}}function zg(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&sl(t);return{c(){i&&i.c(),e=Ie()},m(l,r){i&&i.m(l,r),K(l,e,r),n=!0},p(l,[r]){var s;(s=l[0])!=null&&s.hideAttribution?i&&(ve(),W(i,1,1,()=>{i=null}),ze()):i?(i.p(l,r),r&1&&X(i,1)):(i=sl(l),i.c(),X(i,1),i.m(e.parentNode,e))},i(l){n||(X(i),n=!0)},o(l){W(i),n=!1},d(l){l&&B(e),i&&i.d(l)}}}function Mg(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=l=>{"proOptions"in l&&n(0,i=l.proOptions),"position"in l&&n(1,o=l.position)},[i,o]}class Pg extends fe{constructor(e){super(),ae(this,e,Mg,zg,ue,{proOptions:0,position:1})}}const Hg=Pg;function ul(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:l}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),l!==void 0&&t.setTranslateExtent(l)}const Ng=t=>Object.keys(t);function Ag(t,e){Ng(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function Tg(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Og(t="light"){return xe("light",n=>{if(t!=="system"){n(t);return}const i=Tg(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Ig=t=>({}),al=t=>({slot:"connectionLine"});function Dg(t){let e;const n=t[70].connectionLine,i=Xe(n,t,t[92],al);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l[2]&1073741824)&&Ye(i,n,o,o[92],e?pe(n,o[92],l,Ig):Le(o[92]),al)},i(o){e||(X(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Xg(t){let e,n,i,o,l,r,s,u,a,f,c,d;return e=new eg({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[73]),e.$on("edgecontextmenu",t[74]),i=new Sg({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[31].connectionLine,$$slots:{connectionLine:[Dg]},$$scope:{ctx:t}}}),a=new Xh({}),a.$on("nodeclick",t[75]),a.$on("nodemouseenter",t[76]),a.$on("nodemousemove",t[77]),a.$on("nodemouseleave",t[78]),a.$on("nodedragstart",t[79]),a.$on("nodedrag",t[80]),a.$on("nodedragstop",t[81]),a.$on("nodecontextmenu",t[82]),c=new fg({}),c.$on("selectionclick",t[83]),c.$on("selectioncontextmenu",t[84]),c.$on("nodedragstart",t[85]),c.$on("nodedrag",t[86]),c.$on("nodedragstop",t[87]),{c(){te(e.$$.fragment),n=ge(),te(i.$$.fragment),o=ge(),l=we("div"),r=ge(),s=we("div"),u=ge(),te(a.$$.fragment),f=ge(),te(c.$$.fragment),w(l,"class","svelte-flow__edgelabel-renderer"),w(s,"class","svelte-flow__viewport-portal")},m(h,m){$(e,h,m),K(h,n,m),$(i,h,m),K(h,o,m),K(h,l,m),K(h,r,m),K(h,s,m),K(h,u,m),$(a,h,m),K(h,f,m),$(c,h,m),d=!0},p(h,m){const y={};m[0]&2097152&&(y.defaultEdgeOptions=h[21]),e.$set(y);const C={};m[0]&128&&(C.containerStyle=h[7]),m[0]&64&&(C.style=h[6]),m[1]&1&&(C.isCustomComponent=h[31].connectionLine),m[2]&1073741824&&(C.$$scope={dirty:m,ctx:h}),i.$set(C)},i(h){d||(X(e.$$.fragment,h),X(i.$$.fragment,h),X(a.$$.fragment,h),X(c.$$.fragment,h),d=!0)},o(h){W(e.$$.fragment,h),W(i.$$.fragment,h),W(a.$$.fragment,h),W(c.$$.fragment,h),d=!1},d(h){h&&(B(n),B(o),B(l),B(r),B(s),B(u),B(f)),ee(e,h),ee(i,h),ee(a,h),ee(c,h)}}}function pg(t){let e,n,i,o;return e=new Mh({props:{$$slots:{default:[Xg]},$$scope:{ctx:t}}}),i=new rg({}),{c(){te(e.$$.fragment),n=ge(),te(i.$$.fragment)},m(l,r){$(e,l,r),K(l,n,r),$(i,l,r),o=!0},p(l,r){const s={};r[0]&2097344|r[1]&1|r[2]&1073741824&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){o||(X(e.$$.fragment,l),X(i.$$.fragment,l),o=!0)},o(l){W(e.$$.fragment,l),W(i.$$.fragment,l),o=!1},d(l){l&&B(n),ee(e,l),ee(i,l)}}}function Yg(t){let e,n;return e=new Ch({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[pg]},$$scope:{ctx:t}}}),e.$on("paneclick",t[88]),e.$on("panecontextmenu",t[89]),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o[0]&131072&&(l.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(l.selectionOnDrag=i[18]),o[0]&2097344|o[1]&1|o[2]&1073741824&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Lg(t){let e,n,i,o,l,r,s,u,a,f,c,d;n=new _g({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new wh({props:{initialViewport:t[0],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?rt.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],$$slots:{default:[Yg]},$$scope:{ctx:t}}}),r=new Hg({props:{proOptions:t[20],position:t[19]}});const h=t[70].default,m=Xe(h,t,t[92],null);let y=[{style:t[22]},{class:u=Se(["svelte-flow",t[23],t[28]])},{"data-testid":"svelte-flow__wrapper"},t[30],{role:"application"}],C={};for(let g=0;g<y.length;g+=1)C=Ve(C,y[g]);return{c(){e=we("div"),te(n.$$.fragment),i=ge(),te(o.$$.fragment),l=ge(),te(r.$$.fragment),s=ge(),m&&m.c(),Ut(e,C),$n(()=>t[91].call(e)),he(e,"svelte-12wlba6",!0)},m(g,k){K(g,e,k),$(n,e,null),ye(e,i),$(o,e,null),ye(e,l),$(r,e,null),ye(e,s),m&&m.m(e,null),t[90](e),a=Ps(e,t[91].bind(e)),f=!0,c||(d=[be(e,"dragover",t[71]),be(e,"drop",t[72])],c=!0)},p(g,k){const _={};k[0]&2&&(_.selectionKey=g[1]),k[0]&32&&(_.deleteKey=g[5]),k[0]&4&&(_.panActivationKey=g[2]),k[0]&8&&(_.multiSelectionKey=g[3]),k[0]&16&&(_.zoomActivationKey=g[4]),n.$set(_);const b={};k[0]&1&&(b.initialViewport=g[0]),k[0]&256&&(b.onMoveStart=g[8]),k[0]&512&&(b.onMove=g[9]),k[0]&1024&&(b.onMoveEnd=g[10]),k[0]&2048&&(b.panOnScrollMode=g[11]===void 0?rt.Free:g[11]),k[0]&4096&&(b.preventScrolling=g[12]===void 0?!0:g[12]),k[0]&8192&&(b.zoomOnScroll=g[13]===void 0?!0:g[13]),k[0]&16384&&(b.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),k[0]&32768&&(b.zoomOnPinch=g[15]===void 0?!0:g[15]),k[0]&65536&&(b.panOnScroll=g[16]===void 0?!1:g[16]),k[0]&131072&&(b.panOnDrag=g[17]===void 0?!0:g[17]),k[0]&2490560|k[1]&1|k[2]&1073741824&&(b.$$scope={dirty:k,ctx:g}),o.$set(b);const z={};k[0]&1048576&&(z.proOptions=g[20]),k[0]&524288&&(z.position=g[19]),r.$set(z),m&&m.p&&(!f||k[2]&1073741824)&&Ye(m,h,g,g[92],f?pe(h,g[92],k,null):Le(g[92]),null),Ut(e,C=yt(y,[(!f||k[0]&4194304)&&{style:g[22]},(!f||k[0]&276824064&&u!==(u=Se(["svelte-flow",g[23],g[28]])))&&{class:u},{"data-testid":"svelte-flow__wrapper"},k[0]&1073741824&&g[30],{role:"application"}])),he(e,"svelte-12wlba6",!0)},i(g){f||(X(n.$$.fragment,g),X(o.$$.fragment,g),X(r.$$.fragment,g),X(m,g),f=!0)},o(g){W(n.$$.fragment,g),W(o.$$.fragment,g),W(r.$$.fragment,g),W(m,g),f=!1},d(g){g&&B(e),ee(n),ee(o),ee(r),m&&m.d(g),t[90](null),a(),c=!1,Oe(d)}}}function Vg(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let l=Zt(e,o),r,s,u=re,a=()=>(u(),u=fi(i,O=>n(28,s=O)),i);t.$$.on_destroy.push(()=>u());let{$$slots:f={},$$scope:c}=e;const d=Es(f);let{id:h="1"}=e,{nodes:m}=e,{edges:y}=e,{fitView:C=void 0}=e,{fitViewOptions:g=void 0}=e,{minZoom:k=void 0}=e,{maxZoom:_=void 0}=e,{initialViewport:b={x:0,y:0,zoom:1}}=e,{viewport:z=void 0}=e,{nodeTypes:A=void 0}=e,{edgeTypes:P=void 0}=e,{selectionKey:v=void 0}=e,{selectionMode:M=void 0}=e,{panActivationKey:D=void 0}=e,{multiSelectionKey:S=void 0}=e,{zoomActivationKey:Y=void 0}=e,{nodesDraggable:I=void 0}=e,{nodesConnectable:E=void 0}=e,{nodeDragThreshold:T=void 0}=e,{elementsSelectable:N=void 0}=e,{snapGrid:L=void 0}=e,{deleteKey:p=void 0}=e,{connectionRadius:R=void 0}=e,{connectionLineType:q=void 0}=e,{connectionMode:J=Mt.Strict}=e,{connectionLineStyle:V=""}=e,{connectionLineContainerStyle:ne=""}=e,{onMoveStart:le=void 0}=e,{onMove:ce=void 0}=e,{onMoveEnd:H=void 0}=e,{isValidConnection:j=void 0}=e,{translateExtent:ie=void 0}=e,{onlyRenderVisibleElements:F=void 0}=e,{panOnScrollMode:Z=rt.Free}=e,{preventScrolling:ke=!0}=e,{zoomOnScroll:Pe=!0}=e,{zoomOnDoubleClick:Ce=!0}=e,{zoomOnPinch:We=!0}=e,{panOnScroll:He=!1}=e,{panOnDrag:ut=!0}=e,{selectionOnDrag:at=void 0}=e,{autoPanOnConnect:nt=!0}=e,{autoPanOnNodeDrag:it=!0}=e,{onerror:oe=void 0}=e,{ondelete:wt=void 0}=e,{onedgecreate:kt=void 0}=e,{attributionPosition:Pt=void 0}=e,{proOptions:G=void 0}=e,{defaultEdgeOptions:Qe=void 0}=e,{width:Re=void 0}=e,{height:x=void 0}=e,{colorMode:ft="light"}=e,{onconnect:Fe=void 0}=e,{onconnectstart:qe=void 0}=e,{onconnectend:Ot=void 0}=e,{onbeforedelete:It=void 0}=e,{oninit:St=void 0}=e,{defaultMarkerColor:Dt="#b1b1b7"}=e,{style:on=void 0}=e,{class:ln=void 0}=e,Dn,Xt,pt;const Be=As(Si)?Me():gh({nodes:U(m),edges:U(y),width:Re,height:x,fitView:C});Pn(()=>(Be.width.set(Xt),Be.height.set(pt),Be.domNode.set(Dn),Be.syncNodeStores(m),Be.syncEdgeStores(y),Be.syncViewport(z),C!==void 0&&Be.fitViewOnInit.set(C),g&&Be.fitViewOptions.set(g),ul(Be,{nodeTypes:A,edgeTypes:P,minZoom:k,maxZoom:_,translateExtent:ie}),()=>{Be.reset()}));const{initialized:oo}=Be;Q(t,oo,O=>n(69,r=O));let Ei=!1;function xr(O){Ee.call(this,t,O)}function $r(O){Ee.call(this,t,O)}function es(O){Ee.call(this,t,O)}function ts(O){Ee.call(this,t,O)}function ns(O){Ee.call(this,t,O)}function is(O){Ee.call(this,t,O)}function os(O){Ee.call(this,t,O)}function ls(O){Ee.call(this,t,O)}function rs(O){Ee.call(this,t,O)}function ss(O){Ee.call(this,t,O)}function us(O){Ee.call(this,t,O)}function as(O){Ee.call(this,t,O)}function fs(O){Ee.call(this,t,O)}function cs(O){Ee.call(this,t,O)}function ds(O){Ee.call(this,t,O)}function hs(O){Ee.call(this,t,O)}function gs(O){Ee.call(this,t,O)}function ms(O){Ee.call(this,t,O)}function _s(O){Ee.call(this,t,O)}function ys(O){_t[O?"unshift":"push"](()=>{Dn=O,n(26,Dn)})}function bs(){Xt=this.clientWidth,pt=this.clientHeight,n(24,Xt),n(25,pt)}return t.$$set=O=>{e=Ve(Ve({},e),Ui(O)),n(30,l=Zt(e,o)),"id"in O&&n(32,h=O.id),"nodes"in O&&n(33,m=O.nodes),"edges"in O&&n(34,y=O.edges),"fitView"in O&&n(35,C=O.fitView),"fitViewOptions"in O&&n(36,g=O.fitViewOptions),"minZoom"in O&&n(37,k=O.minZoom),"maxZoom"in O&&n(38,_=O.maxZoom),"initialViewport"in O&&n(0,b=O.initialViewport),"viewport"in O&&n(39,z=O.viewport),"nodeTypes"in O&&n(40,A=O.nodeTypes),"edgeTypes"in O&&n(41,P=O.edgeTypes),"selectionKey"in O&&n(1,v=O.selectionKey),"selectionMode"in O&&n(42,M=O.selectionMode),"panActivationKey"in O&&n(2,D=O.panActivationKey),"multiSelectionKey"in O&&n(3,S=O.multiSelectionKey),"zoomActivationKey"in O&&n(4,Y=O.zoomActivationKey),"nodesDraggable"in O&&n(43,I=O.nodesDraggable),"nodesConnectable"in O&&n(44,E=O.nodesConnectable),"nodeDragThreshold"in O&&n(45,T=O.nodeDragThreshold),"elementsSelectable"in O&&n(46,N=O.elementsSelectable),"snapGrid"in O&&n(47,L=O.snapGrid),"deleteKey"in O&&n(5,p=O.deleteKey),"connectionRadius"in O&&n(48,R=O.connectionRadius),"connectionLineType"in O&&n(49,q=O.connectionLineType),"connectionMode"in O&&n(50,J=O.connectionMode),"connectionLineStyle"in O&&n(6,V=O.connectionLineStyle),"connectionLineContainerStyle"in O&&n(7,ne=O.connectionLineContainerStyle),"onMoveStart"in O&&n(8,le=O.onMoveStart),"onMove"in O&&n(9,ce=O.onMove),"onMoveEnd"in O&&n(10,H=O.onMoveEnd),"isValidConnection"in O&&n(51,j=O.isValidConnection),"translateExtent"in O&&n(52,ie=O.translateExtent),"onlyRenderVisibleElements"in O&&n(53,F=O.onlyRenderVisibleElements),"panOnScrollMode"in O&&n(11,Z=O.panOnScrollMode),"preventScrolling"in O&&n(12,ke=O.preventScrolling),"zoomOnScroll"in O&&n(13,Pe=O.zoomOnScroll),"zoomOnDoubleClick"in O&&n(14,Ce=O.zoomOnDoubleClick),"zoomOnPinch"in O&&n(15,We=O.zoomOnPinch),"panOnScroll"in O&&n(16,He=O.panOnScroll),"panOnDrag"in O&&n(17,ut=O.panOnDrag),"selectionOnDrag"in O&&n(18,at=O.selectionOnDrag),"autoPanOnConnect"in O&&n(54,nt=O.autoPanOnConnect),"autoPanOnNodeDrag"in O&&n(55,it=O.autoPanOnNodeDrag),"onerror"in O&&n(56,oe=O.onerror),"ondelete"in O&&n(57,wt=O.ondelete),"onedgecreate"in O&&n(58,kt=O.onedgecreate),"attributionPosition"in O&&n(19,Pt=O.attributionPosition),"proOptions"in O&&n(20,G=O.proOptions),"defaultEdgeOptions"in O&&n(21,Qe=O.defaultEdgeOptions),"width"in O&&n(59,Re=O.width),"height"in O&&n(60,x=O.height),"colorMode"in O&&n(61,ft=O.colorMode),"onconnect"in O&&n(62,Fe=O.onconnect),"onconnectstart"in O&&n(63,qe=O.onconnectstart),"onconnectend"in O&&n(64,Ot=O.onconnectend),"onbeforedelete"in O&&n(65,It=O.onbeforedelete),"oninit"in O&&n(66,St=O.oninit),"defaultMarkerColor"in O&&n(67,Dt=O.defaultMarkerColor),"style"in O&&n(22,on=O.style),"class"in O&&n(23,ln=O.class),"$$scope"in O&&n(92,c=O.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&50331648&&Xt!==void 0&&pt!==void 0&&(Be.width.set(Xt),Be.height.set(pt)),t.$$.dirty[2]&208&&!Ei&&r&&(St==null||St(),n(68,Ei=!0)),t.$$.dirty[1]&266336258|t.$$.dirty[2]&47&&Ag(Be,{flowId:h,connectionLineType:q,connectionRadius:R,selectionMode:M,snapGrid:L,defaultMarkerColor:Dt,nodesDraggable:I,nodesConnectable:E,elementsSelectable:N,onlyRenderVisibleElements:F,isValidConnection:j,autoPanOnConnect:nt,autoPanOnNodeDrag:it,onerror:oe,ondelete:wt,onedgecreate:kt,connectionMode:J,nodeDragThreshold:T,onconnect:Fe,onconnectstart:qe,onconnectend:Ot,onbeforedelete:It}),t.$$.dirty[1]&2098880&&ul(Be,{nodeTypes:A,edgeTypes:P,minZoom:k,maxZoom:_,translateExtent:ie}),t.$$.dirty[1]&1073741824&&a(n(27,i=Og(ft)))},[b,v,D,S,Y,p,V,ne,le,ce,H,Z,ke,Pe,Ce,We,He,ut,at,Pt,G,Qe,on,ln,Xt,pt,Dn,i,s,oo,l,d,h,m,y,C,g,k,_,z,A,P,M,I,E,T,N,L,R,q,J,j,ie,F,nt,it,oe,wt,kt,Re,x,ft,Fe,qe,Ot,It,St,Dt,Ei,r,f,xr,$r,es,ts,ns,is,os,ls,rs,ss,us,as,fs,cs,ds,hs,gs,ms,_s,ys,bs,c]}class Wg extends fe{constructor(e){super(),ae(this,e,Vg,Lg,ue,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1,-1])}}const Rg=Wg;function Bg(t){let e;const n=t[6].default,i=Xe(n,t,t[5],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,[l]){i&&i.p&&(!e||l&32)&&Ye(i,n,o,o[5],e?pe(n,o[5],l,null):Le(o[5]),null)},i(o){e||(X(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Kg(t,e,n){let{$$slots:i={},$$scope:o}=e,{initialNodes:l=void 0}=e,{initialEdges:r=void 0}=e,{initialWidth:s=void 0}=e,{initialHeight:u=void 0}=e,{fitView:a=void 0}=e;const f=Fr({nodes:l,edges:r,width:s,height:u,fitView:a});return _n(Si,{getStore:()=>f}),qi(()=>{f.reset()}),t.$$set=c=>{"initialNodes"in c&&n(0,l=c.initialNodes),"initialEdges"in c&&n(1,r=c.initialEdges),"initialWidth"in c&&n(2,s=c.initialWidth),"initialHeight"in c&&n(3,u=c.initialHeight),"fitView"in c&&n(4,a=c.fitView),"$$scope"in c&&n(5,o=c.$$scope)},[l,r,s,u,a,o,i]}class Fg extends fe{constructor(e){super(),ae(this,e,Kg,Bg,ue,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4})}}const Zg=t=>({}),fl=t=>({class:"button-svg"});function Ug(t){let e,n,i,o,l;const r=t[8].default,s=Xe(r,t,t[7],fl);let u=[{type:"button"},{class:n=Se(["svelte-flow__controls-button",t[0]])},t[6]],a={};for(let f=0;f<u.length;f+=1)a=Ve(a,u[f]);return{c(){e=we("button"),s&&s.c(),Ut(e,a),de(e,"--xy-controls-button-background-color-props",t[1]),de(e,"--xy-controls-button-background-color-hover-props",t[2]),de(e,"--xy-controls-button-color-props",t[3]),de(e,"--xy-controls-button-color-hover-props",t[4]),de(e,"--xy-controls-button-border-color-props",t[5])},m(f,c){K(f,e,c),s&&s.m(e,null),e.autofocus&&e.focus(),i=!0,o||(l=be(e,"click",t[9]),o=!0)},p(f,[c]){s&&s.p&&(!i||c&128)&&Ye(s,r,f,f[7],i?pe(r,f[7],c,Zg):Le(f[7]),fl),Ut(e,a=yt(u,[{type:"button"},(!i||c&1&&n!==(n=Se(["svelte-flow__controls-button",f[0]])))&&{class:n},c&64&&f[6]])),de(e,"--xy-controls-button-background-color-props",f[1]),de(e,"--xy-controls-button-background-color-hover-props",f[2]),de(e,"--xy-controls-button-color-props",f[3]),de(e,"--xy-controls-button-color-hover-props",f[4]),de(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(X(s,f),i=!0)},o(f){W(s,f),i=!1},d(f){f&&B(e),s&&s.d(f),o=!1,l()}}}function qg(t,e,n){const i=["class"];let o=Zt(e,i),{$$slots:l={},$$scope:r}=e,{class:s=void 0}=e,u,a,f,c,d;function h(m){Ee.call(this,t,m)}return t.$$set=m=>{e=Ve(Ve({},e),Ui(m)),n(6,o=Zt(e,i)),"class"in m&&n(0,s=m.class),"$$scope"in m&&n(7,r=m.$$scope)},[s,u,a,f,c,d,o,r,l,h]}class Mn extends fe{constructor(e){super(),ae(this,e,qg,Ug,ue,{class:0})}}function Gg(t){let e,n;return{c(){e=me("svg"),n=me("path"),w(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 32 32")},m(i,o){K(i,e,o),ye(e,n)},p:re,i:re,o:re,d(i){i&&B(e)}}}class Jg extends fe{constructor(e){super(),ae(this,e,null,Gg,ue,{})}}function Qg(t){let e,n;return{c(){e=me("svg"),n=me("path"),w(n,"d","M0 0h32v4.2H0z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 32 5")},m(i,o){K(i,e,o),ye(e,n)},p:re,i:re,o:re,d(i){i&&B(e)}}}class jg extends fe{constructor(e){super(),ae(this,e,null,Qg,ue,{})}}function xg(t){let e,n;return{c(){e=me("svg"),n=me("path"),w(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 32 30")},m(i,o){K(i,e,o),ye(e,n)},p:re,i:re,o:re,d(i){i&&B(e)}}}class $g extends fe{constructor(e){super(),ae(this,e,null,xg,ue,{})}}function e1(t){let e,n;return{c(){e=me("svg"),n=me("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 25 32")},m(i,o){K(i,e,o),ye(e,n)},p:re,i:re,o:re,d(i){i&&B(e)}}}class t1 extends fe{constructor(e){super(),ae(this,e,null,e1,ue,{})}}function n1(t){let e,n;return{c(){e=me("svg"),n=me("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 25 32")},m(i,o){K(i,e,o),ye(e,n)},p:re,i:re,o:re,d(i){i&&B(e)}}}class i1 extends fe{constructor(e){super(),ae(this,e,null,n1,ue,{})}}const o1=t=>({}),cl=t=>({}),l1=t=>({}),dl=t=>({});function hl(t){let e,n,i,o;const l=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let r={$$slots:{default:[r1]},$$scope:{ctx:t}};for(let a=0;a<l.length;a+=1)r=Ve(r,l[a]);e=new Mn({props:r}),e.$on("click",t[18]);const s=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let u={$$slots:{default:[s1]},$$scope:{ctx:t}};for(let a=0;a<s.length;a+=1)u=Ve(u,s[a]);return i=new Mn({props:u}),i.$on("click",t[19]),{c(){te(e.$$.fragment),n=ge(),te(i.$$.fragment)},m(a,f){$(e,a,f),K(a,n,f),$(i,a,f),o=!0},p(a,f){const c=f[0]&131584?yt(l,[l[0],l[1],l[2],f[0]&512&&{disabled:a[9]},f[0]&131072&&qt(a[17])]):{};f[1]&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f[0]&132096?yt(s,[s[0],s[1],s[2],f[0]&1024&&{disabled:a[10]},f[0]&131072&&qt(a[17])]):{};f[1]&16&&(d.$$scope={dirty:f,ctx:a}),i.$set(d)},i(a){o||(X(e.$$.fragment,a),X(i.$$.fragment,a),o=!0)},o(a){W(e.$$.fragment,a),W(i.$$.fragment,a),o=!1},d(a){a&&B(n),ee(e,a),ee(i,a)}}}function r1(t){let e,n;return e=new Jg({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function s1(t){let e,n;return e=new jg({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function gl(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[u1]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=Ve(o,i[l]);return e=new Mn({props:o}),e.$on("click",t[20]),{c(){te(e.$$.fragment)},m(l,r){$(e,l,r),n=!0},p(l,r){const s=r[0]&131072?yt(i,[i[0],i[1],i[2],qt(l[17])]):{};r[1]&16&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){n||(X(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function u1(t){let e,n;return e=new $g({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function ml(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[c1]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=Ve(o,i[l]);return e=new Mn({props:o}),e.$on("click",t[21]),{c(){te(e.$$.fragment)},m(l,r){$(e,l,r),n=!0},p(l,r){const s=r[0]&131072?yt(i,[i[0],i[1],i[2],qt(l[17])]):{};r[0]&256|r[1]&16&&(s.$$scope={dirty:r,ctx:l}),e.$set(s)},i(l){n||(X(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function a1(t){let e,n;return e=new t1({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function f1(t){let e,n;return e=new i1({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function c1(t){let e,n,i,o;const l=[f1,a1],r=[];function s(u,a){return u[8]?0:1}return e=s(t),n=r[e]=l[e](t),{c(){n.c(),i=Ie()},m(u,a){r[e].m(u,a),K(u,i,a),o=!0},p(u,a){let f=e;e=s(u),e!==f&&(ve(),W(r[f],1,1,()=>{r[f]=null}),ze(),n=r[e],n||(n=r[e]=l[e](u),n.c()),X(n,1),n.m(i.parentNode,i))},i(u){o||(X(n),o=!0)},o(u){W(n),o=!1},d(u){u&&B(i),r[e].d(u)}}}function d1(t){let e,n,i,o,l,r;const s=t[34].before,u=Xe(s,t,t[35],dl);let a=t[1]&&hl(t),f=t[2]&&gl(t),c=t[3]&&ml(t);const d=t[34].default,h=Xe(d,t,t[35],null),m=t[34].after,y=Xe(m,t,t[35],cl);return{c(){u&&u.c(),e=ge(),a&&a.c(),n=ge(),f&&f.c(),i=ge(),c&&c.c(),o=ge(),h&&h.c(),l=ge(),y&&y.c()},m(C,g){u&&u.m(C,g),K(C,e,g),a&&a.m(C,g),K(C,n,g),f&&f.m(C,g),K(C,i,g),c&&c.m(C,g),K(C,o,g),h&&h.m(C,g),K(C,l,g),y&&y.m(C,g),r=!0},p(C,g){u&&u.p&&(!r||g[1]&16)&&Ye(u,s,C,C[35],r?pe(s,C[35],g,l1):Le(C[35]),dl),C[1]?a?(a.p(C,g),g[0]&2&&X(a,1)):(a=hl(C),a.c(),X(a,1),a.m(n.parentNode,n)):a&&(ve(),W(a,1,1,()=>{a=null}),ze()),C[2]?f?(f.p(C,g),g[0]&4&&X(f,1)):(f=gl(C),f.c(),X(f,1),f.m(i.parentNode,i)):f&&(ve(),W(f,1,1,()=>{f=null}),ze()),C[3]?c?(c.p(C,g),g[0]&8&&X(c,1)):(c=ml(C),c.c(),X(c,1),c.m(o.parentNode,o)):c&&(ve(),W(c,1,1,()=>{c=null}),ze()),h&&h.p&&(!r||g[1]&16)&&Ye(h,d,C,C[35],r?pe(d,C[35],g,null):Le(C[35]),null),y&&y.p&&(!r||g[1]&16)&&Ye(y,m,C,C[35],r?pe(m,C[35],g,o1):Le(C[35]),cl)},i(C){r||(X(u,C),X(a),X(f),X(c),X(h,C),X(y,C),r=!0)},o(C){W(u,C),W(a),W(f),W(c),W(h,C),W(y,C),r=!1},d(C){C&&(B(e),B(n),B(i),B(o),B(l)),u&&u.d(C),a&&a.d(C),f&&f.d(C),c&&c.d(C),h&&h.d(C),y&&y.d(C)}}}function h1(t){let e,n;return e=new zn({props:{class:Se(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[d1]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o[0]&192&&(l.class=Se(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(l.position=i[0]),o[0]&16&&(l["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(l.style=i[5]),o[0]&1806|o[1]&16&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function g1(t,e,n){let i,o,l,r,s,u,a,f,c,d,{$$slots:h={},$$scope:m}=e,{position:y="bottom-left"}=e,{showZoom:C=!0}=e,{showFitView:g=!0}=e,{showLock:k=!0}=e,{buttonBgColor:_=void 0}=e,{buttonBgColorHover:b=void 0}=e,{buttonColor:z=void 0}=e,{buttonColorHover:A=void 0}=e,{buttonBorderColor:P=void 0}=e,{ariaLabel:v=void 0}=e,{style:M=void 0}=e,{orientation:D="vertical"}=e,{class:S=""}=e;const{zoomIn:Y,zoomOut:I,fitView:E,viewport:T,minZoom:N,maxZoom:L,nodesDraggable:p,nodesConnectable:R,elementsSelectable:q}=Me();Q(t,T,H=>n(29,u=H)),Q(t,N,H=>n(30,a=H)),Q(t,L,H=>n(28,s=H)),Q(t,p,H=>n(33,d=H)),Q(t,R,H=>n(32,c=H)),Q(t,q,H=>n(31,f=H));const J={bgColor:_,bgColorHover:b,color:z,colorHover:A,borderColor:P},V=()=>{Y()},ne=()=>{I()},le=()=>{E()},ce=()=>{n(8,i=!i),p.set(i),R.set(i),q.set(i)};return t.$$set=H=>{"position"in H&&n(0,y=H.position),"showZoom"in H&&n(1,C=H.showZoom),"showFitView"in H&&n(2,g=H.showFitView),"showLock"in H&&n(3,k=H.showLock),"buttonBgColor"in H&&n(22,_=H.buttonBgColor),"buttonBgColorHover"in H&&n(23,b=H.buttonBgColorHover),"buttonColor"in H&&n(24,z=H.buttonColor),"buttonColorHover"in H&&n(25,A=H.buttonColorHover),"buttonBorderColor"in H&&n(26,P=H.buttonBorderColor),"ariaLabel"in H&&n(4,v=H.ariaLabel),"style"in H&&n(5,M=H.style),"orientation"in H&&n(27,D=H.orientation),"class"in H&&n(6,S=H.class),"$$scope"in H&&n(35,m=H.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&7&&n(8,i=d||c||f),t.$$.dirty[0]&1610612736&&n(10,o=u.zoom<=a),t.$$.dirty[0]&805306368&&n(9,l=u.zoom>=s),t.$$.dirty[0]&134217728&&n(7,r=D==="horizontal"?"horizontal":"vertical")},[y,C,g,k,v,M,S,r,i,l,o,T,N,L,p,R,q,J,V,ne,le,ce,_,b,z,A,P,D,s,u,a,f,c,d,h,m]}class m1 extends fe{constructor(e){super(),ae(this,e,g1,h1,ue,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,class:6},null,[-1,-1])}}var mt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(mt||(mt={}));function _1(t){let e,n;return{c(){e=me("circle"),w(e,"cx",t[0]),w(e,"cy",t[0]),w(e,"r",t[0]),w(e,"class",n=Se(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){K(i,e,o)},p(i,[o]){o&1&&w(e,"cx",i[0]),o&1&&w(e,"cy",i[0]),o&1&&w(e,"r",i[0]),o&2&&n!==(n=Se(["svelte-flow__background-pattern","dots",i[1]]))&&w(e,"class",n)},i:re,o:re,d(i){i&&B(e)}}}function y1(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=l=>{"radius"in l&&n(0,i=l.radius),"class"in l&&n(1,o=l.class)},[i,o]}class b1 extends fe{constructor(e){super(),ae(this,e,y1,_1,ue,{radius:0,class:1})}}const w1=b1;function k1(t){let e,n,i;return{c(){e=me("path"),w(e,"stroke-width",t[0]),w(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),w(e,"class",i=Se(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,l){K(o,e,l)},p(o,[l]){l&1&&w(e,"stroke-width",o[0]),l&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&w(e,"d",n),l&12&&i!==(i=Se(["svelte-flow__background-pattern",o[2],o[3]]))&&w(e,"class",i)},i:re,o:re,d(o){o&&B(e)}}}function S1(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:l=void 0}=e,{class:r=""}=e;return t.$$set=s=>{"lineWidth"in s&&n(0,i=s.lineWidth),"dimensions"in s&&n(1,o=s.dimensions),"variant"in s&&n(2,l=s.variant),"class"in s&&n(3,r=s.class)},[i,o,l,r]}class E1 extends fe{constructor(e){super(),ae(this,e,S1,k1,ue,{lineWidth:0,dimensions:1,variant:2,class:3})}}const C1=E1;function v1(t){let e,n;return e=new C1({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&64&&(l.dimensions=i[6]),o&1&&(l.variant=i[0]),o&2&&(l.lineWidth=i[1]),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function z1(t){let e,n;return e=new w1({props:{radius:t[7]/2,class:t[4]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&128&&(l.radius=i[7]/2),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function M1(t){let e,n,i,o,l,r,s,u,a,f,c,d,h;const m=[z1,v1],y=[];function C(g,k){return g[14]?0:1}return i=C(t),o=y[i]=m[i](t),{c(){e=me("svg"),n=me("pattern"),o.c(),f=me("rect"),w(n,"id",t[11]),w(n,"x",l=t[9].x%t[8][0]),w(n,"y",r=t[9].y%t[8][1]),w(n,"width",s=t[8][0]),w(n,"height",u=t[8][1]),w(n,"patternUnits","userSpaceOnUse"),w(n,"patternTransform",a=`translate(-${t[10][0]},-${t[10][1]})`),w(f,"x","0"),w(f,"y","0"),w(f,"width","100%"),w(f,"height","100%"),w(f,"fill",c=`url(#${t[11]})`),w(e,"class",d=ro(Se(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),w(e,"data-testid","svelte-flow__background"),de(e,"--xy-background-color-props",t[2]),de(e,"--xy-background-pattern-color-props",t[3])},m(g,k){K(g,e,k),ye(e,n),y[i].m(n,null),ye(e,f),h=!0},p(g,[k]){o.p(g,k),(!h||k&2048)&&w(n,"id",g[11]),(!h||k&768&&l!==(l=g[9].x%g[8][0]))&&w(n,"x",l),(!h||k&768&&r!==(r=g[9].y%g[8][1]))&&w(n,"y",r),(!h||k&256&&s!==(s=g[8][0]))&&w(n,"width",s),(!h||k&256&&u!==(u=g[8][1]))&&w(n,"height",u),(!h||k&1024&&a!==(a=`translate(-${g[10][0]},-${g[10][1]})`))&&w(n,"patternTransform",a),(!h||k&2048&&c!==(c=`url(#${g[11]})`))&&w(f,"fill",c),(!h||k&32&&d!==(d=ro(Se(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&w(e,"class",d),k&4&&de(e,"--xy-background-color-props",g[2]),k&8&&de(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(X(o),h=!0)},o(g){W(o),h=!1},d(g){g&&B(e),y[i].d()}}}const P1={[mt.Dots]:1,[mt.Lines]:1,[mt.Cross]:6};function H1(t,e,n){let i,o,l,r,s,u,a,{id:f=void 0}=e,{variant:c=mt.Dots}=e,{gap:d=20}=e,{size:h=1}=e,{lineWidth:m=1}=e,{bgColor:y=void 0}=e,{patternColor:C=void 0}=e,{patternClass:g=void 0}=e,{class:k=""}=e;const{viewport:_,flowId:b}=Me();Q(t,_,M=>n(9,u=M)),Q(t,b,M=>n(18,a=M));const z=h||P1[c],A=c===mt.Dots,P=c===mt.Cross,v=Array.isArray(d)?d:[d,d];return t.$$set=M=>{"id"in M&&n(15,f=M.id),"variant"in M&&n(0,c=M.variant),"gap"in M&&n(16,d=M.gap),"size"in M&&n(17,h=M.size),"lineWidth"in M&&n(1,m=M.lineWidth),"bgColor"in M&&n(2,y=M.bgColor),"patternColor"in M&&n(3,C=M.patternColor),"patternClass"in M&&n(4,g=M.patternClass),"class"in M&&n(5,k=M.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${a}-${f||""}`),t.$$.dirty&512&&n(8,o=[v[0]*u.zoom||1,v[1]*u.zoom||1]),t.$$.dirty&512&&n(7,l=z*u.zoom),t.$$.dirty&384&&n(6,r=P?[l,l]:o),t.$$.dirty&192&&n(10,s=A?[l/2,l/2]:[r[0]/2,r[1]/2])},[c,m,y,C,g,k,r,l,o,u,s,i,_,b,A,f,d,h,a]}class N1 extends fe{constructor(e){super(),ae(this,e,H1,M1,ue,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const A1=N1;function T1(t){let e,n,i;return{c(){e=me("rect"),w(e,"class",n=Se(["svelte-flow__minimap-node",t[10]])),w(e,"x",t[0]),w(e,"y",t[1]),w(e,"rx",t[4]),w(e,"ry",t[4]),w(e,"width",t[2]),w(e,"height",t[3]),w(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),w(e,"shape-rendering",t[6]),he(e,"selected",t[9])},m(o,l){K(o,e,l)},p(o,[l]){l&1024&&n!==(n=Se(["svelte-flow__minimap-node",o[10]]))&&w(e,"class",n),l&1&&w(e,"x",o[0]),l&2&&w(e,"y",o[1]),l&16&&w(e,"rx",o[4]),l&16&&w(e,"ry",o[4]),l&4&&w(e,"width",o[2]),l&8&&w(e,"height",o[3]),l&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&w(e,"style",i),l&64&&w(e,"shape-rendering",o[6]),l&1536&&he(e,"selected",o[9])},i:re,o:re,d(o){o&&B(e)}}}function O1(t,e,n){let{x:i}=e,{y:o}=e,{width:l=0}=e,{height:r=0}=e,{borderRadius:s=5}=e,{color:u=void 0}=e,{shapeRendering:a}=e,{strokeColor:f=void 0}=e,{strokeWidth:c=2}=e,{selected:d=!1}=e,{class:h=""}=e;return t.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,l=m.width),"height"in m&&n(3,r=m.height),"borderRadius"in m&&n(4,s=m.borderRadius),"color"in m&&n(5,u=m.color),"shapeRendering"in m&&n(6,a=m.shapeRendering),"strokeColor"in m&&n(7,f=m.strokeColor),"strokeWidth"in m&&n(8,c=m.strokeWidth),"selected"in m&&n(9,d=m.selected),"class"in m&&n(10,h=m.class)},[i,o,l,r,s,u,a,f,c,d,h]}class I1 extends fe{constructor(e){super(),ae(this,e,O1,T1,ue,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function D1(t,e){const n=Gc({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=U(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function _l(t,e,n){const i=t.slice();return i[53]=e[n],i}function Oi(t){const e=t.slice(),n=nn(e[53]).positionAbsolute;e[56]=n;const i=On(e[53]);return e[57]=i,e}function yl(t){let e,n,i=[],o=new Map,l,r,s,u,a,f,c,d=t[1]&&bl(t),h=De(t[19]);const m=y=>y[53].id;for(let y=0;y<h.length;y+=1){let C=_l(t,h,y),g=m(C);o.set(g,i[y]=kl(g,C))}return{c(){e=me("svg"),d&&d.c(),n=Ie();for(let y=0;y<i.length;y+=1)i[y].c();l=me("path"),w(l,"class","svelte-flow__minimap-mask"),w(l,"d",r="M"+(t[25]-t[15])+","+(t[24]-t[15])+"h"+(t[23]+t[15]*2)+"v"+(t[22]+t[15]*2)+"h"+(-t[23]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),w(l,"fill-rule","evenodd"),w(l,"pointer-events","none"),w(e,"width",t[17]),w(e,"height",t[16]),w(e,"viewBox",s=t[25]+" "+t[24]+" "+t[23]+" "+t[22]),w(e,"class","svelte-flow__minimap-svg"),w(e,"role","img"),w(e,"aria-labelledby",t[39]),de(e,"--xy-minimap-mask-background-color-props",t[5]),de(e,"--xy-minimap-mask-stroke-color-props",t[6]),de(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(y,C){K(y,e,C),d&&d.m(e,null),ye(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);ye(e,l),a=!0,f||(c=Ke(u=D1.call(null,e,{panZoom:t[26],viewport:t[29],getViewScale:t[40],translateExtent:t[27],width:t[21],height:t[20],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(y,C){y[1]?d?d.p(y,C):(d=bl(y),d.c(),d.m(e,n)):d&&(d.d(1),d=null),C[0]&524300|C[1]&240&&(h=De(y[19]),ve(),i=hi(i,C,m,1,y,h,o,e,di,kl,l,_l),ze()),(!a||C[0]&63209472&&r!==(r="M"+(y[25]-y[15])+","+(y[24]-y[15])+"h"+(y[23]+y[15]*2)+"v"+(y[22]+y[15]*2)+"h"+(-y[23]-y[15]*2)+`z
      M`+y[18].x+","+y[18].y+"h"+y[18].width+"v"+y[18].height+"h"+-y[18].width+"z"))&&w(l,"d",r),(!a||C[0]&131072)&&w(e,"width",y[17]),(!a||C[0]&65536)&&w(e,"height",y[16]),(!a||C[0]&62914560&&s!==(s=y[25]+" "+y[24]+" "+y[23]+" "+y[22]))&&w(e,"viewBox",s),u&&Ne(u.update)&&C[0]&204476160&&u.update.call(null,{panZoom:y[26],viewport:y[29],getViewScale:y[40],translateExtent:y[27],width:y[21],height:y[20],inversePan:y[10],zoomStep:y[11],pannable:y[8],zoomable:y[9]}),C[0]&32&&de(e,"--xy-minimap-mask-background-color-props",y[5]),C[0]&64&&de(e,"--xy-minimap-mask-stroke-color-props",y[6]),C[0]&16512&&de(e,"--xy-minimap-mask-stroke-width-props",y[7]?y[7]*y[14]:void 0)},i(y){if(!a){for(let C=0;C<h.length;C+=1)X(i[C]);a=!0}},o(y){for(let C=0;C<i.length;C+=1)W(i[C]);a=!1},d(y){y&&B(e),d&&d.d();for(let C=0;C<i.length;C+=1)i[C].d();f=!1,c()}}}function bl(t){let e,n;return{c(){e=me("title"),n=je(t[1]),w(e,"id",t[39])},m(i,o){K(i,e,o),ye(e,n)},p(i,o){o[0]&2&&en(n,i[1])},d(i){i&&B(e)}}}function wl(t){var l;let e,n;const i=[{x:t[56].x},{y:t[56].y},t[57],{selected:t[53].selected},{color:(l=t[35])==null?void 0:l.call(t,t[53])},{borderRadius:t[2]},{strokeColor:t[36](t[53])},{strokeWidth:t[3]},{shapeRendering:t[38]},{class:t[37](t[53])}];let o={};for(let r=0;r<i.length;r+=1)o=Ve(o,i[r]);return e=new I1({props:o}),{c(){te(e.$$.fragment)},m(r,s){$(e,r,s),n=!0},p(r,s){var a;const u=s[0]&524300|s[1]&240?yt(i,[s[0]&524288&&{x:r[56].x},s[0]&524288&&{y:r[56].y},s[0]&524288&&qt(r[57]),s[0]&524288&&{selected:r[53].selected},s[0]&524288|s[1]&16&&{color:(a=r[35])==null?void 0:a.call(r,r[53])},s[0]&4&&{borderRadius:r[2]},s[0]&524288|s[1]&32&&{strokeColor:r[36](r[53])},s[0]&8&&{strokeWidth:r[3]},s[1]&128&&{shapeRendering:r[38]},s[0]&524288|s[1]&64&&{class:r[37](r[53])}]):{};e.$set(u)},i(r){n||(X(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function kl(t,e){let n,i=Cn(e[53]),o,l,r=i&&wl(Oi(e));return{key:t,first:null,c(){n=Ie(),r&&r.c(),o=Ie(),this.first=n},m(s,u){K(s,n,u),r&&r.m(s,u),K(s,o,u),l=!0},p(s,u){e=s,u[0]&524288&&(i=Cn(e[53])),i?r?(r.p(Oi(e),u),u[0]&524288&&X(r,1)):(r=wl(Oi(e)),r.c(),X(r,1),r.m(o.parentNode,o)):r&&(ve(),W(r,1,1,()=>{r=null}),ze())},i(s){l||(X(r),l=!0)},o(s){W(r),l=!1},d(s){s&&(B(n),B(o)),r&&r.d(s)}}}function X1(t){let e,n,i=t[26]&&yl(t);return{c(){i&&i.c(),e=Ie()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,l){o[26]?i?(i.p(o,l),l[0]&67108864&&X(i,1)):(i=yl(o),i.c(),X(i,1),i.m(e.parentNode,e)):i&&(ve(),W(i,1,1,()=>{i=null}),ze())},i(o){n||(X(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function p1(t){let e,n;return e=new zn({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:Se(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[X1]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.position=i[0]),o[0]&4112&&(l.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(l.class=Se(["svelte-flow__minimap",i[13]])),o[0]&268423150|o[1]&134217728&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}const Ii=t=>t instanceof Function?t:()=>t,Y1=200,L1=150;function V1(t,e,n){let i,o,l,r,s,u,a,f,c,d,h,m,y,C,g,k,_,b,z,A,P,{position:v="bottom-right"}=e,{ariaLabel:M="Mini map"}=e,{nodeStrokeColor:D="transparent"}=e,{nodeColor:S=void 0}=e,{nodeClass:Y=""}=e,{nodeBorderRadius:I=5}=e,{nodeStrokeWidth:E=2}=e,{bgColor:T=void 0}=e,{maskColor:N=void 0}=e,{maskStrokeColor:L=void 0}=e,{maskStrokeWidth:p=void 0}=e,{width:R=void 0}=e,{height:q=void 0}=e,{pannable:J=!0}=e,{zoomable:V=!0}=e,{inversePan:ne=void 0}=e,{zoomStep:le=void 0}=e,{style:ce=""}=e,{class:H=""}=e;const{nodes:j,viewport:ie,width:F,height:Z,flowId:ke,panZoom:Pe,translateExtent:Ce}=Me();Q(t,j,oe=>n(19,g=oe)),Q(t,ie,oe=>n(51,k=oe)),Q(t,F,oe=>n(21,b=oe)),Q(t,Z,oe=>n(20,_=oe)),Q(t,ke,oe=>n(52,z=oe)),Q(t,Pe,oe=>n(26,A=oe)),Q(t,Ce,oe=>n(27,P=oe));const We=S===void 0?void 0:Ii(S),He=Ii(D),ut=Ii(Y),at=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",nt=`svelte-flow__minimap-desc-${z}`,it=()=>a;return t.$$set=oe=>{"position"in oe&&n(0,v=oe.position),"ariaLabel"in oe&&n(1,M=oe.ariaLabel),"nodeStrokeColor"in oe&&n(41,D=oe.nodeStrokeColor),"nodeColor"in oe&&n(42,S=oe.nodeColor),"nodeClass"in oe&&n(43,Y=oe.nodeClass),"nodeBorderRadius"in oe&&n(2,I=oe.nodeBorderRadius),"nodeStrokeWidth"in oe&&n(3,E=oe.nodeStrokeWidth),"bgColor"in oe&&n(4,T=oe.bgColor),"maskColor"in oe&&n(5,N=oe.maskColor),"maskStrokeColor"in oe&&n(6,L=oe.maskStrokeColor),"maskStrokeWidth"in oe&&n(7,p=oe.maskStrokeWidth),"width"in oe&&n(44,R=oe.width),"height"in oe&&n(45,q=oe.height),"pannable"in oe&&n(8,J=oe.pannable),"zoomable"in oe&&n(9,V=oe.zoomable),"inversePan"in oe&&n(10,ne=oe.inversePan),"zoomStep"in oe&&n(11,le=oe.zoomStep),"style"in oe&&n(12,ce=oe.style),"class"in oe&&n(13,H=oe.class)},t.$$.update=()=>{t.$$.dirty[0]&3145728|t.$$.dirty[1]&1048576&&n(18,i={x:-k.x/k.zoom,y:-k.y/k.zoom,width:b/k.zoom,height:_/k.zoom}),t.$$.dirty[0]&786432&&n(48,o=g.length>0?Sc(Tn(g),i):i),t.$$.dirty[1]&8192&&n(17,l=R??Y1),t.$$.dirty[1]&16384&&n(16,r=q??L1),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(50,s=o.width/l),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(49,u=o.height/r),t.$$.dirty[1]&786432&&n(14,a=Math.max(s,u)),t.$$.dirty[0]&147456&&n(47,f=a*l),t.$$.dirty[0]&81920&&n(46,c=a*r),t.$$.dirty[0]&16384&&n(15,d=5*a),t.$$.dirty[0]&32768|t.$$.dirty[1]&196608&&n(25,h=o.x-(f-o.width)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&163840&&n(24,m=o.y-(c-o.height)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&65536&&n(23,y=f+d*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&32768&&n(22,C=c+d*2)},[v,M,I,E,T,N,L,p,J,V,ne,le,ce,H,a,d,r,l,i,g,_,b,C,y,m,h,A,P,j,ie,F,Z,ke,Pe,Ce,We,He,ut,at,nt,it,D,S,Y,R,q,c,f,o,u,s,k]}class W1 extends fe{constructor(e){super(),ae(this,e,V1,p1,ue,{position:0,ariaLabel:1,nodeStrokeColor:41,nodeColor:42,nodeClass:43,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:44,height:45,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function R1(t){let e,n,i;const o=t[33].default,l=Xe(o,t,t[32],null);return{c(){e=we("div"),l&&l.c(),w(e,"class",n=Se(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),w(e,"style",t[3])},m(r,s){K(r,e,s),l&&l.m(e,null),t[34](e),i=!0},p(r,s){l&&l.p&&(!i||s[1]&2)&&Ye(l,o,r,r[32],i?pe(o,r[32],s,null):Le(r[32]),null),(!i||s[0]&19&&n!==(n=Se(["svelte-flow__resize-control","nodrag",...r[4],r[0],r[1]])))&&w(e,"class",n),(!i||s[0]&8)&&w(e,"style",r[3])},i(r){i||(X(l,r),i=!0)},o(r){W(l,r),i=!1},d(r){r&&B(e),l&&l.d(r),t[34](null)}}}function B1(t,e,n){let i,o,l,r,s,u,a,f,c,d,h,m,y,C,g,k,{$$slots:_={},$$scope:b}=e,{nodeId:z=void 0}=e,{position:A=void 0}=e,{variant:P=hn.Handle}=e,{color:v=void 0}=e,{minWidth:M=10}=e,{minHeight:D=10}=e,{maxWidth:S=Number.MAX_VALUE}=e,{maxHeight:Y=Number.MAX_VALUE}=e,{keepAspectRatio:I=!1}=e,{shouldResize:E=void 0}=e,{onResizeStart:T=void 0}=e,{onResize:N=void 0}=e,{onResizeEnd:L=void 0}=e,{style:p=""}=e,{class:R=""}=e;const{nodeLookup:q,snapGrid:J,viewport:V,nodes:ne,nodeOrigin:le}=Me();Q(t,q,F=>n(37,y=F)),Q(t,J,F=>n(39,g=F)),Q(t,V,F=>n(40,k=F)),Q(t,ne,F=>n(36,m=F)),Q(t,le,F=>n(38,C=F));const ce=yn("svelteflow__node_id");let H,j=null;Pn(()=>(H&&n(23,j=fd({domNode:H,nodeId:s,getStoreItems:()=>({nodeLookup:y,transform:[k.x,k.y,k.zoom],snapGrid:g??void 0,snapToGrid:!!g,nodeOrigin:C}),onChange:(F,Z)=>{const ke=y.get(s);if(ke){ke.height=F.isHeightChange?F.height:ke.height,ke.width=F.isWidthChange?F.width:ke.width,ke.position=F.isXPosChange||F.isYPosChange?{x:F.x,y:F.y}:ke.position;for(const Pe of Z){const Ce=y.get(Pe.id);Ce&&(Ce.position=Pe.position)}ne.set(m)}}})),()=>{j==null||j.destroy()}));function ie(F){_t[F?"unshift":"push"](()=>{H=F,n(2,H)})}return t.$$set=F=>{"nodeId"in F&&n(10,z=F.nodeId),"position"in F&&n(11,A=F.position),"variant"in F&&n(0,P=F.variant),"color"in F&&n(12,v=F.color),"minWidth"in F&&n(13,M=F.minWidth),"minHeight"in F&&n(14,D=F.minHeight),"maxWidth"in F&&n(15,S=F.maxWidth),"maxHeight"in F&&n(16,Y=F.maxHeight),"keepAspectRatio"in F&&n(17,I=F.keepAspectRatio),"shouldResize"in F&&n(18,E=F.shouldResize),"onResizeStart"in F&&n(19,T=F.onResizeStart),"onResize"in F&&n(20,N=F.onResize),"onResizeEnd"in F&&n(21,L=F.onResizeEnd),"style"in F&&n(22,p=F.style),"class"in F&&n(1,R=F.class),"$$scope"in F&&n(32,b=F.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&n(27,i=M??10),t.$$.dirty[0]&16384&&n(26,o=D??10),t.$$.dirty[0]&32768&&n(25,l=S??Number.MAX_VALUE),t.$$.dirty[0]&65536&&n(24,r=Y??Number.MAX_VALUE),t.$$.dirty[0]&1024&&(s=typeof z=="string"?z:ce),t.$$.dirty[0]&1&&n(31,u=P===hn.Line?"right":"bottom-right"),t.$$.dirty[0]&2048|t.$$.dirty[1]&1&&n(28,a=A??u),t.$$.dirty[0]&268435456&&n(4,f=a.split("-")),t.$$.dirty[0]&1&&n(30,c=P===hn.Line?"border-color":"background-color"),t.$$.dirty[0]&4194304&&n(29,d=p??""),t.$$.dirty[0]&1610616832&&n(3,h=v?`${d} ${c}: ${v};`:d),t.$$.dirty[0]&532545536&&(j==null||j.update({controlPosition:a,boundaries:{minWidth:i,minHeight:o,maxWidth:l,maxHeight:r},keepAspectRatio:!!I,onResizeStart:T,onResize:N,onResizeEnd:L,shouldResize:E}))},[P,R,H,h,f,q,J,V,ne,le,z,A,v,M,D,S,Y,I,E,T,N,L,p,j,r,l,o,i,a,d,c,u,b,_,ie]}class K1 extends fe{constructor(e){super(),ae(this,e,B1,R1,ue,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}const Sl=t=>_c(t),Gr=()=>ci();function F1(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:o,viewport:l,width:r,height:s,minZoom:u,maxZoom:a,panZoom:f,nodes:c,edges:d,domNode:h,nodeLookup:m,edgeLookup:y}=Me(),C=k=>{const _=Sl(k)&&Cn(k)?k:U(m).get(k.id);return _?Fi(_):null},g=(k,_,b={replace:!1})=>{c.update(z=>z.map(A=>{if(A.id===k){const P=typeof _=="function"?_(A):_;return b.replace&&Sl(P)?P:{...A,...P}}return A}))};return{zoomIn:t,zoomOut:e,getNode:k=>U(m).get(k),getNodes:k=>k===void 0?U(c):El(U(m),k),getEdge:k=>U(y).get(k),getEdges:k=>k===void 0?U(d):El(U(y),k),setZoom:(k,_)=>{var b;(b=U(f))==null||b.scaleTo(k,{duration:_==null?void 0:_.duration})},getZoom:()=>U(l).zoom,setViewport:(k,_)=>{var z;const b=U(l);(z=U(f))==null||z.setViewport({x:k.x??b.x,y:k.y??b.y,zoom:k.zoom??b.zoom},{duration:_==null?void 0:_.duration})},getViewport:()=>U(l),setCenter:(k,_,b)=>{var A;const z=typeof(b==null?void 0:b.zoom)<"u"?b.zoom:U(a);(A=U(f))==null||A.setViewport({x:U(r)/2-k*z,y:U(s)/2-_*z,zoom:z},{duration:b==null?void 0:b.duration})},fitView:n,fitBounds:(k,_)=>{var z;const b=io(k,U(r),U(s),U(u),U(a),(_==null?void 0:_.padding)??.1);(z=U(f))==null||z.setViewport(b,{duration:_==null?void 0:_.duration})},getIntersectingNodes:(k,_=!0,b)=>{const z=To(k),A=z?k:C(k);return A?(b||U(c)).filter(P=>{var S;if(!z&&(P.id===k.id||!((S=P.computed)!=null&&S.positionAbsolute)))return!1;const v=Fi(P),M=ui(v,A);return _&&M>0||M>=A.width*A.height}):[]},isNodeIntersecting:(k,_,b=!0)=>{const A=To(k)?k:C(k);if(!A)return!1;const P=ui(A,_);return b&&P>0||P>=A.width*A.height},deleteElements:async({nodes:k=[],edges:_=[]})=>{const{nodes:b,edges:z}=await kr({nodesToRemove:k,edgesToRemove:_,nodes:U(c),edges:U(d),onBeforeDelete:U(i)});return b&&c.update(A=>A.filter(P=>!b.some(({id:v})=>v===P.id))),z&&d.update(A=>A.filter(P=>!z.some(({id:v})=>v===P.id))),{deletedNodes:b,deletedEdges:z}},screenToFlowPosition:(k,_={snapToGrid:!0})=>{const b=U(h);if(!b)return k;const z=_.snapToGrid?U(o):!1,{x:A,y:P,zoom:v}=U(l),{x:M,y:D}=b.getBoundingClientRect(),S={x:k.x-M,y:k.y-D};return wi(S,[A,P,v],z!==null,z||[1,1])},flowToScreenPosition:k=>{const _=U(h);if(!_)return k;const{x:b,y:z,zoom:A}=U(l),{x:P,y:v}=_.getBoundingClientRect(),M=Er(k,[b,z,A]);return{x:M.x+P,y:M.y+v}},toObject:()=>({nodes:U(c).map(k=>({...k,position:{...k.position},data:{...k.data}})),edges:U(d).map(k=>({...k})),viewport:{...U(l)}}),updateNode:g,updateNodeData:(k,_,b)=>{g(k,z=>{const A=typeof _=="function"?_(z):_;return b!=null&&b.replace?{...z,data:A}:{...z,data:{...z.data,...A}}})},viewport:l}}function El(t,e){const n=[];for(const i of e){const o=t.get(i);o&&n.push(o)}return n}function Z1(){const{domNode:t,updateNodeDimensions:e}=Me();return i=>{const o=Array.isArray(i)?i:[i],l=new Map;o.forEach(r=>{var u;const s=(u=U(t))==null?void 0:u.querySelector(`.svelte-flow__node[data-id="${r}"]`);s&&l.set(r,{id:r,nodeElement:s,forceUpdate:!0})}),requestAnimationFrame(()=>e(l))}}function U1(){const{connection:t}=Me();return t}function q1(){const{nodes:t}=Me();return t}function Jr(){const{edges:t}=Me();return t}function G1(t){let e,n,i,o,l,r,s,u;return{c(){e=we("p"),e.textContent="Drag to the canvas!",n=ge(),i=we("div"),o=we("div"),o.textContent="node",l=ge(),r=we("div"),r.textContent="group",w(e,"class","svelte-1bj5q5r"),w(o,"draggable",!0),w(o,"class","svelte-1bj5q5r"),w(r,"draggable",!0),w(r,"class","svelte-1bj5q5r"),w(i,"class","nodes svelte-1bj5q5r")},m(a,f){K(a,e,f),K(a,n,f),K(a,i,f),ye(i,o),ye(i,l),ye(i,r),s||(u=[be(o,"dragstart",t[1]),be(r,"dragstart",t[2])],s=!0)},p:re,i:re,o:re,d(a){a&&(B(e),B(n),B(i)),s=!1,Oe(u)}}}function J1(t){const e=(o,l)=>{if(!o.dataTransfer)return null;o.dataTransfer.setData("application/patchcanvasnode",l),o.dataTransfer.effectAllowed="move"};return[e,o=>e(o,JSON.stringify({inputs:[],outputs:[]})),o=>e(o,JSON.stringify({group:!0}))]}class Q1 extends fe{constructor(e){super(),ae(this,e,J1,G1,ue,{})}}const Cl=["dante","dmx","sdi","ethernet","audio","midi","osc","power"],Ue={dante:["red",1],dmx:["dodgerblue",2],sdi:["limegreen",3],ethernet:["gold",4],audio:["orange",5],midi:["hotpink",6],osc:["magenta",7],power:["var(--font-colour)",8]};function j1(t,e){let n=Cl.indexOf(t),i=Cl.indexOf(e);return Math.sign(n-i)}const x1='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 103.38" fill="currentColor" style="enable-background:new 0 0 122.88 103.38" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"/></g></svg>';function vl(t,e,n){const i=t.slice();return i[15]=e[n][0],i[16]=e[n][1],i}function zl(t){let e,n=t[15]+"",i,o,l,r;function s(){return t[10](t[15])}function u(){return t[11](t[15])}function a(...f){return t[12](t[15],...f)}return{c(){e=we("div"),i=je(n),o=ge(),de(e,"--connection",t[16][0]),w(e,"draggable",!0),w(e,"class","svelte-1nhkcvz")},m(f,c){K(f,e,c),ye(e,i),ye(e,o),l||(r=[be(e,"mouseenter",s),be(e,"mouseleave",u),be(e,"dragstart",a)],l=!0)},p(f,c){t=f},d(f){f&&B(e),l=!1,Oe(r)}}}function $1(t){let e,n,i,o,l,r,s,u,a,f=De(t[2]),c=[];for(let d=0;d<f.length;d+=1)c[d]=zl(vl(t,f,d));return{c(){e=we("div"),n=new Ns(!1),i=je(" erase"),o=ge(),l=we("div"),r=ge(),s=we("div");for(let d=0;d<c.length;d+=1)c[d].c();n.a=i,w(e,"class","eraser svelte-1nhkcvz"),w(e,"draggable",!0),w(l,"id","coverup"),w(s,"class","connections svelte-1nhkcvz")},m(d,h){K(d,e,h),n.m(x1,e),ye(e,i),t[8](e),K(d,o,h),K(d,l,h),K(d,r,h),K(d,s,h);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(s,null);u||(a=[be(e,"dragstart",t[9]),be(e,"dragend",t[7])],u=!0)},p(d,[h]){if(h&60){f=De(d[2]);let m;for(m=0;m<f.length;m+=1){const y=vl(d,f,m);c[m]?c[m].p(y,h):(c[m]=zl(y),c[m].c(),c[m].m(s,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=f.length}},i:re,o:re,d(d){d&&(B(e),B(o),B(l),B(r),B(s)),t[8](null),gn(c,d),u=!1,Oe(a)}}}function e0(t,e,n){let i;const o=Jr();Q(t,o,k=>n(14,i=k));const l=Object.entries(Ue);function r(k){for(let _ of i)_.sourceHandle===k?_.class+="highlight":_.class+="fade-out";o.set(i);for(let _ of document.querySelectorAll(".svelte-flow__handle"))_.getAttribute("data-handleid")===k?_.classList.add("highlight"):_.classList.add("fade-out")}function s(k){var _,b;k=k;for(let z of i)z.sourceHandle===k?z.class=(_=z.class)==null?void 0:_.replace("highlight",""):z.class=(b=z.class)==null?void 0:b.replace("fade-out","");o.set(i);for(let z of document.querySelectorAll(".svelte-flow__handle"))z.getAttribute("data-handleid")===k?z.classList.remove("highlight"):z.classList.remove("fade-out")}const u=(k,_)=>{if(!k.dataTransfer)return null;k.dataTransfer.setData(`patchcanvasconnection/${_}`,""),k.dataTransfer.effectAllowed="move"};let a,f;const c=k=>{var _;if(!k.dataTransfer)return null;k.dataTransfer.setData("application/patchcanvaseraser",""),k.dataTransfer.effectAllowed="move",f=a.cloneNode(!0),f.classList.add("dragging"),f.style.position="absolute",f.style.top="0",f.style.right="0",f.style.zIndex="-1",document.body.appendChild(f),(_=k.dataTransfer)==null||_.setDragImage(f,0,0)},d=()=>{f.remove()};function h(k){_t[k?"unshift":"push"](()=>{a=k,n(0,a)})}return[a,o,l,r,s,u,c,d,h,k=>c(k),k=>r(k),k=>s(k),(k,_)=>u(_,k)]}class t0 extends fe{constructor(e){super(),ae(this,e,e0,$1,ue,{})}}function n0(t){let e,n,i,o,l,r,s;return o=new Q1({}),r=new t0({}),{c(){e=we("aside"),n=we("h1"),n.textContent="PatchCanvas",i=ge(),te(o.$$.fragment),l=ge(),te(r.$$.fragment),w(n,"class","svelte-5ndvm3"),w(e,"class","svelte-5ndvm3")},m(u,a){K(u,e,a),ye(e,n),ye(e,i),$(o,e,null),ye(e,l),$(r,e,null),s=!0},p:re,i(u){s||(X(o.$$.fragment,u),X(r.$$.fragment,u),s=!0)},o(u){W(o.$$.fragment,u),W(r.$$.fragment,u),s=!1},d(u){u&&B(e),ee(o),ee(r)}}}class i0 extends fe{constructor(e){super(),ae(this,e,null,n0,ue,{})}}function o0(t){let e,n;return e=new In({props:{path:t[6],labelX:t[5],labelY:t[4],markerStart:t[2],markerEnd:t[0],style:t[1],class:t[3]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&64&&(l.path=i[6]),o&32&&(l.labelX=i[5]),o&16&&(l.labelY=i[4]),o&4&&(l.markerStart=i[2]),o&1&&(l.markerEnd=i[0]),o&2&&(l.style=i[1]),o&8&&(l.class=i[3]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function l0(t,e,n){let i,o,l,{id:r}=e,{type:s}=e,{source:u}=e,{sourceX:a}=e,{sourceY:f}=e,{sourcePosition:c}=e,{sourceHandleId:d=""}=e,{target:h}=e,{targetX:m}=e,{targetY:y}=e,{targetPosition:C}=e,{targetHandleId:g=""}=e,{markerStart:k=void 0}=e,{markerEnd:_=void 0}=e,{animated:b=!1}=e,{selected:z=!1}=e,{label:A=""}=e,{labelStyle:P=""}=e,{data:v=void 0}=e,{interactionWidth:M=void 0}=e,{style:D=""}=e,{edgeClass:S=""}=e;return Jr(),t.$$set=Y=>{"id"in Y&&n(7,r=Y.id),"type"in Y&&n(8,s=Y.type),"source"in Y&&n(9,u=Y.source),"sourceX"in Y&&n(10,a=Y.sourceX),"sourceY"in Y&&n(11,f=Y.sourceY),"sourcePosition"in Y&&n(12,c=Y.sourcePosition),"sourceHandleId"in Y&&n(13,d=Y.sourceHandleId),"target"in Y&&n(14,h=Y.target),"targetX"in Y&&n(15,m=Y.targetX),"targetY"in Y&&n(16,y=Y.targetY),"targetPosition"in Y&&n(17,C=Y.targetPosition),"targetHandleId"in Y&&n(18,g=Y.targetHandleId),"markerStart"in Y&&n(2,k=Y.markerStart),"markerEnd"in Y&&n(0,_=Y.markerEnd),"animated"in Y&&n(19,b=Y.animated),"selected"in Y&&n(20,z=Y.selected),"label"in Y&&n(21,A=Y.label),"labelStyle"in Y&&n(22,P=Y.labelStyle),"data"in Y&&n(23,v=Y.data),"interactionWidth"in Y&&n(24,M=Y.interactionWidth),"style"in Y&&n(1,D=Y.style),"edgeClass"in Y&&n(3,S=Y.edgeClass)},t.$$.update=()=>{if(t.$$.dirty&236544&&n(6,[i,o,l]=$t({sourceX:a,sourceY:f,sourcePosition:c,targetX:m,targetY:y,targetPosition:C}),i,(n(5,o),n(10,a),n(11,f),n(12,c),n(15,m),n(16,y),n(17,C)),(n(4,l),n(10,a),n(11,f),n(12,c),n(15,m),n(16,y),n(17,C))),t.$$.dirty&8192){let Y=Ue[d??""][0];n(1,D=`stroke: ${Y};`),n(0,_=`url(#${d})`)}},[_,D,k,S,l,o,i,r,s,u,a,f,c,d,h,m,y,C,g,b,z,A,P,v,M]}class r0 extends fe{constructor(e){super(),ae(this,e,l0,o0,ue,{id:7,type:8,source:9,sourceX:10,sourceY:11,sourcePosition:12,sourceHandleId:13,target:14,targetX:15,targetY:16,targetPosition:17,targetHandleId:18,markerStart:2,markerEnd:0,animated:19,selected:20,label:21,labelStyle:22,data:23,interactionWidth:24,style:1,edgeClass:3})}}const s0=`<svg fill="currentColor" viewBox="4 2 8 12" xmlns="http://www.w3.org/2000/svg"\r
	><path\r
		fill-rule="evenodd"\r
		d="M7.375 3.67c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm0 8.66c0-.646-.56-1.17-1.25-1.17s-1.25.524-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17zm-1.25-5.5c.69 0 1.25.525 1.25 1.17 0 .645-.56 1.17-1.25 1.17S4.875 8.645 4.875 8c0-.645.56-1.17 1.25-1.17zm5-3.16c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm-1.25 7.49c.69 0 1.25.524 1.25 1.17 0 .645-.56 1.17-1.25 1.17s-1.25-.525-1.25-1.17c0-.646.56-1.17 1.25-1.17zM11.125 8c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17z"\r
	/></svg\r
>\r
`;function u0(t){let e,n;return e=new vn({props:{id:t[0],type:t[1]==="input"?"target":"source",position:t[1]==="input"?_e.Top:_e.Bottom,style:t[2]+`background: ${Ue[t[0]][0]};
		left: calc( ${t[1]==="input"?"":"12px + "} (${Ue[t[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`,isConnectable:!0}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&1&&(l.id=i[0]),o&2&&(l.type=i[1]==="input"?"target":"source"),o&2&&(l.position=i[1]==="input"?_e.Top:_e.Bottom),o&7&&(l.style=i[2]+`background: ${Ue[i[0]][0]};
		left: calc( ${i[1]==="input"?"":"12px + "} (${Ue[i[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function a0(t,e,n){let{id:i}=e,{io:o}=e,{style:l=""}=e,{drop:r}=e;return addEventListener("drop",r),t.$$set=s=>{"id"in s&&n(0,i=s.id),"io"in s&&n(1,o=s.io),"style"in s&&n(2,l=s.style),"drop"in s&&n(3,r=s.drop)},[i,o,l,r]}class Qr extends fe{constructor(e){super(),ae(this,e,a0,u0,ue,{id:0,io:1,style:2,drop:3})}}function Ml(t,e,n){const i=t.slice();return i[39]=e[n],i[41]=n,i}function Pl(t,e,n){const i=t.slice();return i[39]=e[n],i[41]=n,i}function Hl(t){let e,n,i,o,l,r,s;return{c(){e=we("div"),n=ge(),i=we("div"),o=ge(),l=we("div"),w(e,"class","drop-target inputs svelte-zmau3w"),w(i,"class","drop-target outputs svelte-zmau3w"),w(l,"class","hover svelte-zmau3w")},m(u,a){K(u,e,a),t[24](e),K(u,n,a),K(u,i,a),t[28](i),K(u,o,a),K(u,l,a),r||(s=[be(e,"dragenter",t[25]),be(e,"dragleave",t[26]),be(e,"drop",t[27]),be(i,"dragenter",t[29]),be(i,"dragleave",t[30]),be(i,"drop",t[31])],r=!0)},p:re,d(u){u&&(B(e),B(n),B(i),B(o),B(l)),t[24](null),t[28](null),r=!1,Oe(s)}}}function Nl(t){let e,n;return e=new K1({props:{minWidth:200,minHeight:105,style:"background: transparent; border: none;",$$slots:{default:[f0]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function f0(t){let e,n,i,o,l,r;return{c(){e=me("svg"),n=me("path"),i=me("polyline"),o=me("line"),l=me("polyline"),r=me("line"),w(n,"stroke","none"),w(n,"d","M0 0h24v24H0z"),w(n,"fill","none"),w(i,"points","16 20 20 20 20 16"),w(o,"x1","14"),w(o,"y1","14"),w(o,"x2","20"),w(o,"y2","20"),w(l,"points","8 4 4 4 4 8"),w(r,"x1","4"),w(r,"y1","4"),w(r,"x2","10"),w(r,"y2","10"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"width","15"),w(e,"height","15"),w(e,"viewBox","0 0 24 24"),w(e,"stroke-width","2"),w(e,"stroke","var(--font-colour)"),w(e,"fill","none"),w(e,"stroke-linecap","round"),w(e,"stroke-linejoin","round"),de(e,"position","absolute"),de(e,"right","0.5em"),de(e,"bottom","0.5em")},m(s,u){K(s,e,u),ye(e,n),ye(e,i),ye(e,o),ye(e,l),ye(e,r)},p:re,d(s){s&&B(e)}}}function Al(t){let e,n;return e=new Qr({props:{id:t[39],io:"input",drop:t[7]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.id=i[39]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Tl(t){let e,n,i=De(t[0].inputs),o=[];for(let r=0;r<i.length;r+=1)o[r]=Al(Pl(t,i,r));const l=r=>W(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=Ie()},m(r,s){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(r,s);K(r,e,s),n=!0},p(r,s){if(s[0]&129){i=De(r[0].inputs);let u;for(u=0;u<i.length;u+=1){const a=Pl(r,i,u);o[u]?(o[u].p(a,s),X(o[u],1)):(o[u]=Al(a),o[u].c(),X(o[u],1),o[u].m(e.parentNode,e))}for(ve(),u=i.length;u<o.length;u+=1)l(u);ze()}},i(r){if(!n){for(let s=0;s<i.length;s+=1)X(o[s]);n=!0}},o(r){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)W(o[s]);n=!1},d(r){r&&B(e),gn(o,r)}}}function Ol(t){let e,n;return e=new Qr({props:{id:t[39],io:"output",drop:t[7]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.id=i[39]),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Il(t){let e,n,i=De(t[0].outputs),o=[];for(let r=0;r<i.length;r+=1)o[r]=Ol(Ml(t,i,r));const l=r=>W(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=Ie()},m(r,s){for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(r,s);K(r,e,s),n=!0},p(r,s){if(s[0]&129){i=De(r[0].outputs);let u;for(u=0;u<i.length;u+=1){const a=Ml(r,i,u);o[u]?(o[u].p(a,s),X(o[u],1)):(o[u]=Ol(a),o[u].c(),X(o[u],1),o[u].m(e.parentNode,e))}for(ve(),u=i.length;u<o.length;u+=1)l(u);ze()}},i(r){if(!n){for(let s=0;s<i.length;s+=1)X(o[s]);n=!0}},o(r){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)W(o[s]);n=!1},d(r){r&&B(e),gn(o,r)}}}function c0(t){let e,n,i,o,l=t[0].label+"",r,s,u,a,f,c,d,h=t[0].inputs,m,y=t[0].outputs,C,g,k,_,b=!t[0].group&&Hl(t),z=t[0].group&&Nl(t),A=Tl(t),P=Il(t);return{c(){b&&b.c(),e=ge(),n=we("div"),i=we("span"),o=ge(),r=je(l),s=ge(),u=we("button"),u.textContent="✎",a=ge(),f=we("button"),f.textContent="❌",c=ge(),z&&z.c(),d=ge(),A.c(),m=ge(),P.c(),C=Ie(),w(i,"class","drag-handle drag-dots svelte-zmau3w"),w(u,"class","reverse svelte-zmau3w"),w(f,"class","svelte-zmau3w"),w(n,"class","label svelte-zmau3w")},m(v,M){b&&b.m(v,M),K(v,e,M),K(v,n,M),ye(n,i),i.innerHTML=s0,ye(n,o),ye(n,r),ye(n,s),ye(n,u),ye(n,a),ye(n,f),K(v,c,M),z&&z.m(v,M),K(v,d,M),A.m(v,M),K(v,m,M),P.m(v,M),K(v,C,M),g=!0,k||(_=[be(u,"click",t[32]),be(f,"click",t[33])],k=!0)},p(v,M){v[0].group?b&&(b.d(1),b=null):b?b.p(v,M):(b=Hl(v),b.c(),b.m(e.parentNode,e)),(!g||M[0]&1)&&l!==(l=v[0].label+"")&&en(r,l),v[0].group?z?M[0]&1&&X(z,1):(z=Nl(v),z.c(),X(z,1),z.m(d.parentNode,d)):z&&(ve(),W(z,1,1,()=>{z=null}),ze()),M[0]&1&&ue(h,h=v[0].inputs)?(ve(),W(A,1,1,re),ze(),A=Tl(v),A.c(),X(A,1),A.m(m.parentNode,m)):A.p(v,M),M[0]&1&&ue(y,y=v[0].outputs)?(ve(),W(P,1,1,re),ze(),P=Il(v),P.c(),X(P,1),P.m(C.parentNode,C)):P.p(v,M)},i(v){g||(X(z),X(A),X(P),g=!0)},o(v){W(z),W(A),W(P),g=!1},d(v){v&&(B(e),B(n),B(c),B(d),B(m),B(C)),b&&b.d(v),z&&z.d(v),A.d(v),P.d(v),k=!1,Oe(_)}}}function Zn(t,e){return!t.includes(e)}function d0(t,e,n){let i;const o=q1();Q(t,o,H=>n(34,i=H));let{id:l}=e,{data:r}=e,{dragHandle:s=void 0}=e,{type:u}=e,{isConnectable:a}=e,{selected:f=void 0}=e,{zIndex:c}=e,{positionAbsoluteX:d}=e,{positionAbsoluteY:h}=e,{width:m=void 0}=e,{height:y=void 0}=e,{dragging:C=!1}=e,{sourcePosition:g=void 0}=e,{targetPosition:k=void 0}=e,_=r,b,z;const A=(H,j,ie)=>{if(H.preventDefault(),H.stopPropagation(),!H.dataTransfer)return null;if(H.dataTransfer.types[0].includes("patchcanvasconnection/")){const F=H.dataTransfer.types[0].replace("patchcanvasconnection/","");let Z=!1;switch(j){case"input":Z=Zn(_.inputs,F);break;case"output":Z=Zn(_.outputs,F);break}Z?(E([...j==="input"?_.inputs:_.outputs,F],ie),ie.style.backgroundColor="green",H.dataTransfer.dropEffect="move"):(ie.style.backgroundColor="red",ie.style.backgroundImage="",H.dataTransfer.dropEffect="none")}},P=(H,j)=>{H.preventDefault(),j.style.backgroundColor="",j===b?E(_.inputs,b):E(_.outputs,z)},v=(H,j,ie)=>{if(H.preventDefault(),!H.dataTransfer)return null;if(H.dataTransfer.types[0].includes("patchcanvasconnection/")){const F=H.dataTransfer.types[0].replace("patchcanvasconnection/","");let Z=!1;switch(j){case"input":Z=Zn(_.inputs,F);break;case"output":Z=Zn(_.outputs,F);break}Z&&S(F,j),ie.style.backgroundColor="",E(j==="input"?_.inputs:_.outputs,ie)}},M=H=>{var j,ie,F;if(H.preventDefault(),!H.dataTransfer)return null;if(H.dataTransfer.types[0]==="application/patchcanvaseraser"){if(((j=H.target.attributes.getNamedItem("data-nodeid"))==null?void 0:j.value)!==l)return null;let Z=(ie=H.target.attributes.getNamedItem("data-handleid"))==null?void 0:ie.value,ke=((F=H.target.attributes.getNamedItem("data-handlepos"))==null?void 0:F.value)==="top"?"input":"output";T(Z,ke),E(ke==="input"?_.inputs:_.outputs,ke==="input"?b:z)}},D=Z1();function S(H,j){switch(j){case"input":_.inputs.push(H);break;case"output":_.outputs.push(H);break}n(0,_),D(l)}function Y(){let H=prompt(`Rename '${_.label}' to:`,_.label);H!==null&&n(0,_.label=H,_)}function I(){window.confirm(`Actually delete ${_.label}?`)&&jn(o,i=i.filter(j=>j.id!=l),i)}function E(H,j){if(j==null){setTimeout(E,0,H,j);return}let ie=[...H];ie.sort(j1);let F=[];F.push("transparent 2%");for(const Z in Ue){let ke="transparent";ie.includes(Z)&&(ke=Ue[Z][0]);let Pe=Ue[Z][1];j===z&&(Pe+=.75);let Ce=Pe*16/150*100;ke+=` ${Ce}%`,F.push(ke)}F.push("transparent"),j.style.backgroundImage=`linear-gradient(to right, ${F.join(", ")})`}setTimeout(()=>{E(_.inputs,b),E(_.outputs,z)},0);function T(H,j){switch(j){case"input":n(0,_.inputs=_.inputs.filter(ie=>ie!==H),_);break;case"output":n(0,_.outputs=_.outputs.filter(ie=>ie!==H),_);break}n(0,_),D(l)}function N(H){_t[H?"unshift":"push"](()=>{b=H,n(1,b)})}const L=H=>A(H,"input",b),p=H=>P(H,b),R=H=>v(H,"input",b);function q(H){_t[H?"unshift":"push"](()=>{z=H,n(2,z)})}const J=H=>A(H,"output",z),V=H=>P(H,z),ne=H=>v(H,"output",z),le=()=>Y(),ce=()=>I();return t.$$set=H=>{"id"in H&&n(10,l=H.id),"data"in H&&n(11,r=H.data),"dragHandle"in H&&n(12,s=H.dragHandle),"type"in H&&n(13,u=H.type),"isConnectable"in H&&n(14,a=H.isConnectable),"selected"in H&&n(15,f=H.selected),"zIndex"in H&&n(16,c=H.zIndex),"positionAbsoluteX"in H&&n(17,d=H.positionAbsoluteX),"positionAbsoluteY"in H&&n(18,h=H.positionAbsoluteY),"width"in H&&n(19,m=H.width),"height"in H&&n(20,y=H.height),"dragging"in H&&n(21,C=H.dragging),"sourcePosition"in H&&n(22,g=H.sourcePosition),"targetPosition"in H&&n(23,k=H.targetPosition)},[_,b,z,o,A,P,v,M,Y,I,l,r,s,u,a,f,c,d,h,m,y,C,g,k,N,L,p,R,q,J,V,ne,le,ce]}class h0 extends fe{constructor(e){super(),ae(this,e,d0,c0,ue,{id:10,data:11,dragHandle:12,type:13,isConnectable:14,selected:15,zIndex:16,positionAbsoluteX:17,positionAbsoluteY:18,width:19,height:20,dragging:21,sourcePosition:22,targetPosition:23},null,[-1,-1])}}function Dl(t){let e,n,i,o;function l(u,a){var f,c;if(((f=u[0].startHandle)==null?void 0:f.type)=="target")return m0;if(((c=u[0].startHandle)==null?void 0:c.type)=="source")return g0}let r=l(t),s=r&&r(t);return{c(){s&&s.c(),e=ge(),n=me("circle"),w(n,"cx",i=t[0].targetX),w(n,"cy",o=t[0].targetY),w(n,"fill","var(--font-colour)"),w(n,"r",3),w(n,"stroke",Ue[t[3]][0]??"var(--font-colour)"),w(n,"stroke-width",1.5)},m(u,a){s&&s.m(u,a),K(u,e,a),K(u,n,a)},p(u,a){r===(r=l(u))&&s?s.p(u,a):(s&&s.d(1),s=r&&r(u),s&&(s.c(),s.m(e.parentNode,e))),a&1&&i!==(i=u[0].targetX)&&w(n,"cx",i),a&1&&o!==(o=u[0].targetY)&&w(n,"cy",o)},d(u){u&&(B(e),B(n)),s&&s.d(u)}}}function g0(t){let e,n;return{c(){var i;e=me("path"),w(e,"fill","none"),w(e,"stroke-width",1.5),w(e,"class","animated"),w(e,"stroke",Ue[t[3]][0]??"var(--font-colour)"),w(e,"d",t[1]),w(e,"marker-end",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,o){K(i,e,o)},p(i,o){var l;o&2&&w(e,"d",i[1]),o&1&&n!==(n="url(#"+((l=i[0].startHandle)==null?void 0:l.handleId)+"line)")&&w(e,"marker-end",n)},d(i){i&&B(e)}}}function m0(t){let e,n;return{c(){var i;e=me("path"),w(e,"fill","none"),w(e,"stroke-width",1.5),w(e,"class","animated"),w(e,"stroke",Ue[t[3]][0]??"var(--font-colour)"),w(e,"d",t[1]),w(e,"marker-start",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,o){K(i,e,o)},p(i,o){var l;o&2&&w(e,"d",i[1]),o&1&&n!==(n="url(#"+((l=i[0].startHandle)==null?void 0:l.handleId)+"line)")&&w(e,"marker-start",n)},d(i){i&&B(e)}}}function _0(t){let e,n=t[0].path&&Dl(t);return{c(){n&&n.c(),e=Ie()},m(i,o){n&&n.m(i,o),K(i,e,o)},p(i,[o]){i[0].path?n?n.p(i,o):(n=Dl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:re,o:re,d(i){i&&B(e),n&&n.d(i)}}}function y0(t,e,n){var s;let i;const o=U1();Q(t,o,u=>n(0,i=u));let l="",r=((s=i.startHandle)==null?void 0:s.handleId)??"";return t.$$.update=()=>{if(t.$$.dirty&1){let{sourceX:u,sourceY:a,sourcePosition:f,targetX:c,targetY:d,targetPosition:h}=i;n(1,[l]=$t({sourceX:u??0,sourceY:a??0,sourcePosition:f??_e.Bottom,targetX:c??0,targetY:d??0,targetPosition:h??_e.Top}),l)}},[i,l,o,r]}class b0 extends fe{constructor(e){super(),ae(this,e,y0,_0,ue,{})}}function w0(t){let e,n,i,o,l,r,s;return{c(){e=me("svg"),n=me("defs"),i=me("marker"),o=me("polyline"),w(o,"stroke",t[0]),w(o,"stroke-linecap","round"),w(o,"stroke-linejoin","round"),w(o,"stroke-width",t[6]),w(o,"fill",t[0]),w(o,"points","-5,-4 0,0 -5,4 -5,-4"),w(i,"class","svelte-flow__arrowhead"),w(i,"id",t[1]),w(i,"markerWidth",l=`${t[2]}`),w(i,"markerHeight",r=`${t[3]}`),w(i,"viewBox","-10 -10 20 20"),w(i,"markerUnits",t[4]),w(i,"orient",t[5]),w(i,"refX",s=t[1].includes("line")?"4":"0"),w(i,"refY","0"),w(e,"class","svelte-1wqugfi")},m(u,a){K(u,e,a),ye(e,n),ye(n,i),ye(i,o)},p(u,[a]){a&1&&w(o,"stroke",u[0]),a&64&&w(o,"stroke-width",u[6]),a&1&&w(o,"fill",u[0]),a&2&&w(i,"id",u[1]),a&4&&l!==(l=`${u[2]}`)&&w(i,"markerWidth",l),a&8&&r!==(r=`${u[3]}`)&&w(i,"markerHeight",r),a&16&&w(i,"markerUnits",u[4]),a&32&&w(i,"orient",u[5]),a&2&&s!==(s=u[1].includes("line")?"4":"0")&&w(i,"refX",s)},i:re,o:re,d(u){u&&B(e)}}}function k0(t,e,n){let{id:i}=e,{type:o}=e,{width:l=12.5}=e,{height:r=12.5}=e,{markerUnits:s="strokeWidth"}=e,{orient:u="auto-start-reverse"}=e,{color:a=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=c=>{"id"in c&&n(1,i=c.id),"type"in c&&n(7,o=c.type),"width"in c&&n(2,l=c.width),"height"in c&&n(3,r=c.height),"markerUnits"in c&&n(4,s=c.markerUnits),"orient"in c&&n(5,u=c.orient),"color"in c&&n(0,a=c.color),"strokeWidth"in c&&n(6,f=c.strokeWidth)},t.$$.update=()=>{t.$$.dirty&2&&n(0,a=Ue[i.replace("line","")??""][0])},[a,i,l,r,s,u,f,o]}class jr extends fe{constructor(e){super(),ae(this,e,k0,w0,ue,{id:1,type:7,width:2,height:3,markerUnits:4,orient:5,color:0,strokeWidth:6})}}const dt=[{id:crypto.randomUUID().toString(),data:{label:"Group",inputs:[],outputs:[],group:!0},class:"group",dragHandle:".drag-dots",position:{x:200,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Patch",connection:"",inputs:[],outputs:["ethernet","sdi","audio","power"],group:!1},position:{x:0,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Canvas",inputs:["dante","dmx","ethernet","sdi","audio","midi","osc","power"],outputs:["dante","dmx","ethernet","sdi","audio","midi","osc"]},dragHandle:".drag-dots",position:{x:0,y:100}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Subnode",connection:"",inputs:["dante","power"],outputs:["dante"],group:!1},dragHandle:".drag-dots",position:{x:225,y:50}}],S0=[{id:crypto.randomUUID().toString(),type:"connection",class:"",source:dt[1].id,sourceHandle:"ethernet",target:dt[2].id,targetHandle:"ethernet"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:dt[1].id,sourceHandle:"sdi",target:dt[2].id,targetHandle:"sdi"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:dt[1].id,sourceHandle:"audio",target:dt[2].id,targetHandle:"audio"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:dt[1].id,sourceHandle:"power",target:dt[2].id,targetHandle:"power"}];function Xl(t,e,n){const i=t.slice();return i[16]=e[n][0],i[17]=e[n][1],i}function pl(t,e,n){const i=t.slice();return i[16]=e[n][0],i[17]=e[n][1],i}function Yl(t){let e,n;return e=new jr({props:{id:t[16],type:jt.ArrowClosed}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p:re,i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Ll(t){let e,n;return e=new jr({props:{id:t[16]+"line",type:jt.ArrowClosed}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p:re,i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function E0(t){let e;return{c(){e=je("🌙")},m(n,i){K(n,e,i)},d(n){n&&B(e)}}}function C0(t){let e,n;return e=new Mn({props:{$$slots:{default:[E0]},$$scope:{ctx:t}}}),e.$on("click",t[10]),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&4194304&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function v0(t){let e,n,i;return{c(){e=we("a"),e.textContent="GitHub",n=we("br"),i=je("© 2024 Craig Anderson"),w(e,"href","https://github.com/theonlytechnohead/patchcanvas")},m(o,l){K(o,e,l),K(o,n,l),K(o,i,l)},p:re,d(o){o&&(B(e),B(n),B(i))}}}function z0(t){let e,n;return e=new i0({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function M0(t){let e,n,i,o,l,r,s,u,a,f,c,d,h=De(t[1]),m=[];for(let _=0;_<h.length;_+=1)m[_]=Yl(pl(t,h,_));const y=_=>W(m[_],1,1,()=>{m[_]=null});let C=De(t[1]),g=[];for(let _=0;_<C.length;_+=1)g[_]=Ll(Xl(t,C,_));const k=_=>W(g[_],1,1,()=>{g[_]=null});return i=new A1({props:{variant:mt.Dots}}),l=new W1({props:{position:"top-right",pannable:!1,zoomable:!1,width:visualViewport!=null&&visualViewport.width?(visualViewport==null?void 0:visualViewport.width)/10:void 0,height:visualViewport!=null&&visualViewport.height?(visualViewport==null?void 0:visualViewport.height)/10:void 0}}),s=new m1({props:{position:"bottom-right",showFitView:!1,showLock:!1,$$slots:{default:[C0]},$$scope:{ctx:t}}}),a=new zn({props:{position:"bottom-left",$$slots:{default:[v0]},$$scope:{ctx:t}}}),c=new zn({props:{position:"top-left",$$slots:{default:[z0]},$$scope:{ctx:t}}}),{c(){for(let _=0;_<m.length;_+=1)m[_].c();e=ge();for(let _=0;_<g.length;_+=1)g[_].c();n=ge(),te(i.$$.fragment),o=ge(),te(l.$$.fragment),r=ge(),te(s.$$.fragment),u=ge(),te(a.$$.fragment),f=ge(),te(c.$$.fragment)},m(_,b){for(let z=0;z<m.length;z+=1)m[z]&&m[z].m(_,b);K(_,e,b);for(let z=0;z<g.length;z+=1)g[z]&&g[z].m(_,b);K(_,n,b),$(i,_,b),K(_,o,b),$(l,_,b),K(_,r,b),$(s,_,b),K(_,u,b),$(a,_,b),K(_,f,b),$(c,_,b),d=!0},p(_,b){if(b&2){h=De(_[1]);let v;for(v=0;v<h.length;v+=1){const M=pl(_,h,v);m[v]?(m[v].p(M,b),X(m[v],1)):(m[v]=Yl(M),m[v].c(),X(m[v],1),m[v].m(e.parentNode,e))}for(ve(),v=h.length;v<m.length;v+=1)y(v);ze()}if(b&2){C=De(_[1]);let v;for(v=0;v<C.length;v+=1){const M=Xl(_,C,v);g[v]?(g[v].p(M,b),X(g[v],1)):(g[v]=Ll(M),g[v].c(),X(g[v],1),g[v].m(n.parentNode,n))}for(ve(),v=C.length;v<g.length;v+=1)k(v);ze()}const z={};b&4194305&&(z.$$scope={dirty:b,ctx:_}),s.$set(z);const A={};b&4194304&&(A.$$scope={dirty:b,ctx:_}),a.$set(A);const P={};b&4194304&&(P.$$scope={dirty:b,ctx:_}),c.$set(P)},i(_){if(!d){for(let b=0;b<h.length;b+=1)X(m[b]);for(let b=0;b<C.length;b+=1)X(g[b]);X(i.$$.fragment,_),X(l.$$.fragment,_),X(s.$$.fragment,_),X(a.$$.fragment,_),X(c.$$.fragment,_),d=!0}},o(_){m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)W(m[b]);g=g.filter(Boolean);for(let b=0;b<g.length;b+=1)W(g[b]);W(i.$$.fragment,_),W(l.$$.fragment,_),W(s.$$.fragment,_),W(a.$$.fragment,_),W(c.$$.fragment,_),d=!1},d(_){_&&(B(e),B(n),B(o),B(r),B(u),B(f)),gn(m,_),gn(g,_),ee(i,_),ee(l,_),ee(s,_),ee(a,_),ee(c,_)}}}function P0(t){let e,n;return e=new b0({props:{slot:"connectionLine"}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p:re,i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function H0(t){let e,n;return e=new Rg({props:{nodes:t[4],nodeTypes:t[2],edges:t[5],edgeTypes:t[3],defaultEdgeOptions:t[6],isValidConnection:N0,snapGrid:[25,25],colorMode:t[0],fitView:!0,fitViewOptions:t[7],minZoom:.75,maxZoom:10,onlyRenderVisibleElements:!0,attributionPosition:"top-right",deleteKey:"Delete",$$slots:{connectionLine:[P0],default:[M0]},$$scope:{ctx:t}}}),e.$on("dragover",t[8]),e.$on("drop",t[9]),e.$on("nodeclick",t[11]),e.$on("edgeclick",t[12]),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&1&&(l.colorMode=i[0]),o&4194305&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function N0(t){return t.sourceHandle===t.targetHandle}function A0(t,e,n){let i;const o=Object.entries(Ue);let l;const r={default:h0},s={connection:r0},u=se(dt);Q(t,u,_=>n(13,i=_));const a=se(S0),f={animated:!1,type:"connection",class:""},c={padding:1,duration:1e3},{screenToFlowPosition:d}=F1(),h=_=>{if(_.preventDefault(),_.dataTransfer){const b=document.elementFromPoint(_.clientX,_.clientY);let z="";_.dataTransfer.types[0]==="application/patchcanvasnode"?z=".svelte-flow__pane, .svelte-flow__edge, .svelte-flow__node.group":_.dataTransfer.types[0].includes("patchcanvasconnection/")?z=".drop-target":_.dataTransfer.types[0]==="application/patchcanvaseraser"&&(z=".svelte-flow__handle"),b!=null&&b.matches(z)?_.dataTransfer.dropEffect="move":_.dataTransfer.dropEffect="none"}},m=_=>{if(_.preventDefault(),!_.dataTransfer)return null;if(_.dataTransfer.types[0]==="application/patchcanvasnode"){const b=JSON.parse(_.dataTransfer.getData("application/patchcanvasnode"));y(b,_.clientX,_.clientY)}};function y(_,b,z){const A=d({x:b,y:z}),P={id:crypto.randomUUID().toString(),type:"default",position:A,connectable:!_.group,data:{label:"Unnamed "+(_.group?"group":"node"),group:_.group??!1,inputs:_.inputs??[],outputs:_.outputs??[]},class:_.group?"group":void 0,dragHandle:".drag-dots",origin:[.5,0]};i.push(P),i.sort((v,M)=>v.data.group?M.data.group?0:-1:M.data.group?1:0),u.set(i)}const C=()=>{var _;l==="dark"?n(0,l="light"):n(0,l="dark"),document.documentElement.setAttribute("data-theme",l),(_=document.querySelector('meta[name="color-scheme"]'))==null||_.setAttribute("content",l)},g=_=>console.log("on node click",_.detail.node),k=_=>console.log("on edge click: ",_.detail.edge);return n(0,l=document.documentElement.getAttribute("data-theme")??"dark"),[l,o,r,s,u,a,f,c,h,m,C,g,k]}class T0 extends fe{constructor(e){super(),ae(this,e,A0,H0,ue,{})}}function O0(t){let e,n;return e=new T0({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(X(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function I0(t){let e,n,i,o;return i=new Fg({props:{$$slots:{default:[O0]},$$scope:{ctx:t}}}),{c(){e=we("main"),n=we("div"),te(i.$$.fragment),de(n,"height","100%")},m(l,r){K(l,e,r),ye(e,n),$(i,n,null),o=!0},p(l,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:l}),i.$set(s)},i(l){o||(X(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(e),ee(i)}}}class D0 extends fe{constructor(e){super(),ae(this,e,null,I0,ue,{})}}new D0({target:document.body});
