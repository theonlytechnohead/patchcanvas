var Xw=Object.defineProperty;var Yw=(t,e,n)=>e in t?Xw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vi=(t,e,n)=>(Yw(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Me(){}function Ft(t,e){for(const n in e)t[n]=e[n];return t}function ah(t){return t()}function Ic(){return Object.create(null)}function vt(t){t.forEach(ah)}function ht(t){return typeof t=="function"}function Oe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ch(t,e){return t!=t?e==e:t!==e}function Fw(t){return Object.keys(t).length===0}function zl(t,...e){if(t==null){for(const r of e)r(void 0);return Me}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ue(t){let e;return zl(t,n=>e=n)(),e}function de(t,e,n){t.$$.on_destroy.push(zl(e,n))}function Wt(t,e,n,r){if(t){const l=dh(t,e,n,r);return t[0](l)}}function dh(t,e,n,r){return t[1]&&r?Ft(n.ctx.slice(),t[1](r(e))):n.ctx}function Bt(t,e,n,r){if(t[2]&&r){const l=t[2](r(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const u=[],s=Math.max(e.dirty.length,l.length);for(let f=0;f<s;f+=1)u[f]=e.dirty[f]|l[f];return u}return e.dirty|l}return e.dirty}function Xt(t,e,n,r,l,u){if(l){const s=dh(e,n,r,u);t.p(s,l)}}function Yt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function xs(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ar(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function Vw(t){const e={};for(const n in t)e[n]=!0;return e}function Oc(t){return t??""}function Nn(t,e,n){return t.set(n),e}function xt(t){return t&&ht(t.destroy)?t.destroy:Me}const Kw=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ce(t,e){t.appendChild(e)}function ne(t,e,n){t.insertBefore(e,n||null)}function ee(t){t.parentNode&&t.parentNode.removeChild(t)}function Os(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Ne(t){return document.createElement(t)}function Xe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function qt(t){return document.createTextNode(t)}function He(){return qt(" ")}function bt(){return qt("")}function De(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function M(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Uw=["width","height"];function cr(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)e[r]==null?t.removeAttribute(r):r==="style"?t.style.cssText=e[r]:r==="__value"?t.value=t[r]=e[r]:n[r]&&n[r].set&&Uw.indexOf(r)===-1?t[r]=e[r]:M(t,r,e[r])}function xw(t){return Array.from(t.childNodes)}function Xi(t,e){e=""+e,t.data!==e&&(t.data=e)}function We(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let rl;function Gw(){if(rl===void 0){rl=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{rl=!0}}return rl}function qw(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=Ne("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const l=Gw();let u;return l?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",u=De(window,"message",s=>{s.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{u=De(r.contentWindow,"resize",e),e()}),Ce(t,r),()=>{(l||u&&r.contentWindow)&&u(),ee(r)}}function Be(t,e,n){t.classList.toggle(e,!!n)}function Zw(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}class Jw{constructor(e=!1){vi(this,"is_svg",!1);vi(this,"e");vi(this,"n");vi(this,"t");vi(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,r=null){this.e||(this.is_svg?this.e=Xe(n.nodeName):this.e=Ne(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)ne(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(ee)}}function pl(t,e){return new t(e)}let Zr;function xr(t){Zr=t}function vr(){if(!Zr)throw new Error("Function called outside component initialization");return Zr}function lo(t){vr().$$.on_mount.push(t)}function Gs(t){vr().$$.on_destroy.push(t)}function Ll(){const t=vr();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const u=Zw(e,n,{cancelable:r});return l.slice().forEach(s=>{s.call(t,u)}),!u.defaultPrevented}return!0}}function Jr(t,e){return vr().$$.context.set(t,e),e}function Qr(t){return vr().$$.context.get(t)}function Qw(t){return vr().$$.context.has(t)}function tt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(r=>r.call(this,e))}const rr=[],Vn=[];let lr=[];const Nc=[],jw=Promise.resolve();let Ns=!1;function $w(){Ns||(Ns=!0,jw.then(hh))}function Sl(t){lr.push(t)}const ws=new Set;let nr=0;function hh(){if(nr!==0)return;const t=Zr;do{try{for(;nr<rr.length;){const e=rr[nr];nr++,xr(e),eb(e.$$)}}catch(e){throw rr.length=0,nr=0,e}for(xr(null),rr.length=0,nr=0;Vn.length;)Vn.pop()();for(let e=0;e<lr.length;e+=1){const n=lr[e];ws.has(n)||(ws.add(n),n())}lr.length=0}while(rr.length);for(;Nc.length;)Nc.pop()();Ns=!1,ws.clear(),xr(t)}function eb(t){if(t.fragment!==null){t.update(),vt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Sl)}}function tb(t){const e=[],n=[];lr.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),lr=e}const ml=new Set;let zi;function ft(){zi={r:0,c:[],p:zi}}function at(){zi.r||vt(zi.c),zi=zi.p}function J(t,e){t&&t.i&&(ml.delete(t),t.i(e))}function $(t,e,n,r){if(t&&t.o){if(ml.has(t))return;ml.add(t),zi.c.push(()=>{ml.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function kt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Di(t,e){$(t,1,1,()=>{e.delete(t.key)})}function Wi(t,e,n,r,l,u,s,f,a,d,h,g){let _=t.length,y=u.length,b=_;const p={};for(;b--;)p[t[b].key]=b;const A=[],w=new Map,O=new Map,E=[];for(b=y;b--;){const I=g(l,u,b),H=n(I);let L=s.get(H);L?r&&E.push(()=>L.p(I,e)):(L=d(H,I),L.c()),w.set(H,A[b]=L),H in p&&O.set(H,Math.abs(b-p[H]))}const S=new Set,N=new Set;function Y(I){J(I,1),I.m(f,h),s.set(I.key,I),h=I.first,y--}for(;_&&y;){const I=A[y-1],H=t[_-1],L=I.key,x=H.key;I===H?(h=I.first,_--,y--):w.has(x)?!s.has(L)||S.has(L)?Y(I):N.has(x)?_--:O.get(L)>O.get(x)?(N.add(L),Y(I)):(S.add(x),_--):(a(H,s),_--)}for(;_--;){const I=t[_];w.has(I.key)||a(I,s)}for(;y;)Y(A[y-1]);return vt(E),A}function li(t,e){const n={},r={},l={$$scope:1};let u=t.length;for(;u--;){const s=t[u],f=e[u];if(f){for(const a in s)a in f||(r[a]=1);for(const a in f)l[a]||(n[a]=f[a],l[a]=1);t[u]=f}else for(const a in s)l[a]=1}for(const s in r)s in n||(n[s]=void 0);return n}function dr(t){return typeof t=="object"&&t!==null?t:{}}function be(t){t&&t.c()}function ye(t,e,n){const{fragment:r,after_update:l}=t.$$;r&&r.m(e,n),Sl(()=>{const u=t.$$.on_mount.map(ah).filter(ht);t.$$.on_destroy?t.$$.on_destroy.push(...u):vt(u),t.$$.on_mount=[]}),l.forEach(Sl)}function we(t,e){const n=t.$$;n.fragment!==null&&(tb(n.after_update),vt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nb(t,e){t.$$.dirty[0]===-1&&(rr.push(t),$w(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Te(t,e,n,r,l,u,s=null,f=[-1]){const a=Zr;xr(t);const d=t.$$={fragment:null,ctx:[],props:u,update:Me,not_equal:l,bound:Ic(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ic(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};s&&s(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},(g,_,...y)=>{const b=y.length?y[0]:_;return d.ctx&&l(d.ctx[g],d.ctx[g]=b)&&(!d.skip_bound&&d.bound[g]&&d.bound[g](b),h&&nb(t,g)),_}):[],d.update(),h=!0,vt(d.before_update),d.fragment=r?r(d.ctx):!1,e.target){if(e.hydrate){const g=xw(e.target);d.fragment&&d.fragment.l(g),g.forEach(ee)}else d.fragment&&d.fragment.c();e.intro&&J(t.$$.fragment),ye(t,e.target,e.anchor),hh()}xr(a)}class Ie{constructor(){vi(this,"$$");vi(this,"$$set")}$destroy(){we(this,1),this.$destroy=Me}$on(e,n){if(!ht(n))return Me;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Fw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ib="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ib);const ir=[];function Mn(t,e){return{subscribe:Ae(t,e).subscribe}}function Ae(t,e=Me){let n;const r=new Set;function l(f){if(Oe(t,f)&&(t=f,n)){const a=!ir.length;for(const d of r)d[1](),ir.push(d,t);if(a){for(let d=0;d<ir.length;d+=2)ir[d][0](ir[d+1]);ir.length=0}}}function u(f){l(f(t))}function s(f,a=Me){const d=[f,a];return r.add(d),r.size===1&&(n=e(l,u)||Me),f(t),()=>{r.delete(d),r.size===0&&n&&(n(),n=null)}}return{set:l,update:u,subscribe:s}}function hr(t,e,n){const r=!Array.isArray(t),l=r?[t]:t;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const u=e.length<2;return Mn(n,(s,f)=>{let a=!1;const d=[];let h=0,g=Me;const _=()=>{if(h)return;g();const b=e(r?d[0]:d,s,f);u?s(b):g=ht(b)?b:Me},y=l.map((b,p)=>zl(b,A=>{d[p]=A,h&=~(1<<p),a&&_()},()=>{h|=1<<p}));return a=!0,_(),function(){vt(y),g(),a=!1}})}function je(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=je(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var rb={value:()=>{}};function Rl(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _l(n)}function _l(t){this._=t}function ob(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",l=n.indexOf(".");if(l>=0&&(r=n.slice(l+1),n=n.slice(0,l)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_l.prototype=Rl.prototype={constructor:_l,on:function(t,e){var n=this._,r=ob(t+"",n),l,u=-1,s=r.length;if(arguments.length<2){for(;++u<s;)if((l=(t=r[u]).type)&&(l=lb(n[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++u<s;)if(l=(t=r[u]).type)n[l]=Hc(n[l],t.name,e);else if(e==null)for(l in n)n[l]=Hc(n[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _l(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var n=new Array(l),r=0,l,u;r<l;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(u=this._[t],r=0,l=u.length;r<l;++r)u[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],l=0,u=r.length;l<u;++l)r[l].value.apply(e,n)}};function lb(t,e){for(var n=0,r=t.length,l;n<r;++n)if((l=t[n]).name===e)return l.value}function Hc(t,e,n){for(var r=0,l=t.length;r<l;++r)if(t[r].name===e){t[r]=rb,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Hs="http://www.w3.org/1999/xhtml";const zc={svg:"http://www.w3.org/2000/svg",xhtml:Hs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dl(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),zc.hasOwnProperty(e)?{space:zc[e],local:t}:t}function ub(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Hs&&e.documentElement.namespaceURI===Hs?e.createElement(t):e.createElementNS(n,t)}}function sb(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gh(t){var e=Dl(t);return(e.local?sb:ub)(e)}function fb(){}function qs(t){return t==null?fb:function(){return this.querySelector(t)}}function ab(t){typeof t!="function"&&(t=qs(t));for(var e=this._groups,n=e.length,r=new Array(n),l=0;l<n;++l)for(var u=e[l],s=u.length,f=r[l]=new Array(s),a,d,h=0;h<s;++h)(a=u[h])&&(d=t.call(a,a.__data__,h,u))&&("__data__"in a&&(d.__data__=a.__data__),f[h]=d);return new an(r,this._parents)}function cb(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function db(){return[]}function mh(t){return t==null?db:function(){return this.querySelectorAll(t)}}function hb(t){return function(){return cb(t.apply(this,arguments))}}function gb(t){typeof t=="function"?t=hb(t):t=mh(t);for(var e=this._groups,n=e.length,r=[],l=[],u=0;u<n;++u)for(var s=e[u],f=s.length,a,d=0;d<f;++d)(a=s[d])&&(r.push(t.call(a,a.__data__,d,s)),l.push(a));return new an(r,l)}function _h(t){return function(){return this.matches(t)}}function yh(t){return function(e){return e.matches(t)}}var mb=Array.prototype.find;function _b(t){return function(){return mb.call(this.children,t)}}function yb(){return this.firstElementChild}function wb(t){return this.select(t==null?yb:_b(typeof t=="function"?t:yh(t)))}var bb=Array.prototype.filter;function vb(){return Array.from(this.children)}function pb(t){return function(){return bb.call(this.children,t)}}function Sb(t){return this.selectAll(t==null?vb:pb(typeof t=="function"?t:yh(t)))}function kb(t){typeof t!="function"&&(t=_h(t));for(var e=this._groups,n=e.length,r=new Array(n),l=0;l<n;++l)for(var u=e[l],s=u.length,f=r[l]=[],a,d=0;d<s;++d)(a=u[d])&&t.call(a,a.__data__,d,u)&&f.push(a);return new an(r,this._parents)}function wh(t){return new Array(t.length)}function Eb(){return new an(this._enter||this._groups.map(wh),this._parents)}function kl(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}kl.prototype={constructor:kl,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Cb(t){return function(){return t}}function Ab(t,e,n,r,l,u){for(var s=0,f,a=e.length,d=u.length;s<d;++s)(f=e[s])?(f.__data__=u[s],r[s]=f):n[s]=new kl(t,u[s]);for(;s<a;++s)(f=e[s])&&(l[s]=f)}function Mb(t,e,n,r,l,u,s){var f,a,d=new Map,h=e.length,g=u.length,_=new Array(h),y;for(f=0;f<h;++f)(a=e[f])&&(_[f]=y=s.call(a,a.__data__,f,e)+"",d.has(y)?l[f]=a:d.set(y,a));for(f=0;f<g;++f)y=s.call(t,u[f],f,u)+"",(a=d.get(y))?(r[f]=a,a.__data__=u[f],d.delete(y)):n[f]=new kl(t,u[f]);for(f=0;f<h;++f)(a=e[f])&&d.get(_[f])===a&&(l[f]=a)}function Pb(t){return t.__data__}function Tb(t,e){if(!arguments.length)return Array.from(this,Pb);var n=e?Mb:Ab,r=this._parents,l=this._groups;typeof t!="function"&&(t=Cb(t));for(var u=l.length,s=new Array(u),f=new Array(u),a=new Array(u),d=0;d<u;++d){var h=r[d],g=l[d],_=g.length,y=Ib(t.call(h,h&&h.__data__,d,r)),b=y.length,p=f[d]=new Array(b),A=s[d]=new Array(b),w=a[d]=new Array(_);n(h,g,p,A,w,y,e);for(var O=0,E=0,S,N;O<b;++O)if(S=p[O]){for(O>=E&&(E=O+1);!(N=A[E])&&++E<b;);S._next=N||null}}return s=new an(s,r),s._enter=f,s._exit=a,s}function Ib(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ob(){return new an(this._exit||this._groups.map(wh),this._parents)}function Nb(t,e,n){var r=this.enter(),l=this,u=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),n==null?u.remove():n(u),r&&l?r.merge(l).order():l}function Hb(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,l=n.length,u=r.length,s=Math.min(l,u),f=new Array(l),a=0;a<s;++a)for(var d=n[a],h=r[a],g=d.length,_=f[a]=new Array(g),y,b=0;b<g;++b)(y=d[b]||h[b])&&(_[b]=y);for(;a<l;++a)f[a]=n[a];return new an(f,this._parents)}function zb(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],l=r.length-1,u=r[l],s;--l>=0;)(s=r[l])&&(u&&s.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(s,u),u=s);return this}function Lb(t){t||(t=Rb);function e(g,_){return g&&_?t(g.__data__,_.__data__):!g-!_}for(var n=this._groups,r=n.length,l=new Array(r),u=0;u<r;++u){for(var s=n[u],f=s.length,a=l[u]=new Array(f),d,h=0;h<f;++h)(d=s[h])&&(a[h]=d);a.sort(e)}return new an(l,this._parents).order()}function Rb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Db(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Wb(){return Array.from(this)}function Bb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],l=0,u=r.length;l<u;++l){var s=r[l];if(s)return s}return null}function Xb(){let t=0;for(const e of this)++t;return t}function Yb(){return!this.node()}function Fb(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var l=e[n],u=0,s=l.length,f;u<s;++u)(f=l[u])&&t.call(f,f.__data__,u,l);return this}function Vb(t){return function(){this.removeAttribute(t)}}function Kb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ub(t,e){return function(){this.setAttribute(t,e)}}function xb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Gb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function qb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Zb(t,e){var n=Dl(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Kb:Vb:typeof e=="function"?n.local?qb:Gb:n.local?xb:Ub)(n,e))}function bh(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Jb(t){return function(){this.style.removeProperty(t)}}function Qb(t,e,n){return function(){this.style.setProperty(t,e,n)}}function jb(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function $b(t,e,n){return arguments.length>1?this.each((e==null?Jb:typeof e=="function"?jb:Qb)(t,e,n??"")):gr(this.node(),t)}function gr(t,e){return t.style.getPropertyValue(e)||bh(t).getComputedStyle(t,null).getPropertyValue(e)}function e3(t){return function(){delete this[t]}}function t3(t,e){return function(){this[t]=e}}function n3(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function i3(t,e){return arguments.length>1?this.each((e==null?e3:typeof e=="function"?n3:t3)(t,e)):this.node()[t]}function vh(t){return t.trim().split(/^|\s+/)}function Zs(t){return t.classList||new ph(t)}function ph(t){this._node=t,this._names=vh(t.getAttribute("class")||"")}ph.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Sh(t,e){for(var n=Zs(t),r=-1,l=e.length;++r<l;)n.add(e[r])}function kh(t,e){for(var n=Zs(t),r=-1,l=e.length;++r<l;)n.remove(e[r])}function r3(t){return function(){Sh(this,t)}}function o3(t){return function(){kh(this,t)}}function l3(t,e){return function(){(e.apply(this,arguments)?Sh:kh)(this,t)}}function u3(t,e){var n=vh(t+"");if(arguments.length<2){for(var r=Zs(this.node()),l=-1,u=n.length;++l<u;)if(!r.contains(n[l]))return!1;return!0}return this.each((typeof e=="function"?l3:e?r3:o3)(n,e))}function s3(){this.textContent=""}function f3(t){return function(){this.textContent=t}}function a3(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function c3(t){return arguments.length?this.each(t==null?s3:(typeof t=="function"?a3:f3)(t)):this.node().textContent}function d3(){this.innerHTML=""}function h3(t){return function(){this.innerHTML=t}}function g3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function m3(t){return arguments.length?this.each(t==null?d3:(typeof t=="function"?g3:h3)(t)):this.node().innerHTML}function _3(){this.nextSibling&&this.parentNode.appendChild(this)}function y3(){return this.each(_3)}function w3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function b3(){return this.each(w3)}function v3(t){var e=typeof t=="function"?t:gh(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function p3(){return null}function S3(t,e){var n=typeof t=="function"?t:gh(t),r=e==null?p3:typeof e=="function"?e:qs(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function k3(){var t=this.parentNode;t&&t.removeChild(this)}function E3(){return this.each(k3)}function C3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function A3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function M3(t){return this.select(t?A3:C3)}function P3(t){return arguments.length?this.property("__data__",t):this.node().__data__}function T3(t){return function(e){t.call(this,e,this.__data__)}}function I3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function O3(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,l=e.length,u;n<l;++n)u=e[n],(!t.type||u.type===t.type)&&u.name===t.name?this.removeEventListener(u.type,u.listener,u.options):e[++r]=u;++r?e.length=r:delete this.__on}}}function N3(t,e,n){return function(){var r=this.__on,l,u=T3(e);if(r){for(var s=0,f=r.length;s<f;++s)if((l=r[s]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=u,l.options=n),l.value=e;return}}this.addEventListener(t.type,u,n),l={type:t.type,name:t.name,value:e,listener:u,options:n},r?r.push(l):this.__on=[l]}}function H3(t,e,n){var r=I3(t+""),l,u=r.length,s;if(arguments.length<2){var f=this.node().__on;if(f){for(var a=0,d=f.length,h;a<d;++a)for(l=0,h=f[a];l<u;++l)if((s=r[l]).type===h.type&&s.name===h.name)return h.value}return}for(f=e?N3:O3,l=0;l<u;++l)this.each(f(r[l],e,n));return this}function Eh(t,e,n){var r=bh(t),l=r.CustomEvent;typeof l=="function"?l=new l(e,n):(l=r.document.createEvent("Event"),n?(l.initEvent(e,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function z3(t,e){return function(){return Eh(this,t,e)}}function L3(t,e){return function(){return Eh(this,t,e.apply(this,arguments))}}function R3(t,e){return this.each((typeof e=="function"?L3:z3)(t,e))}function*D3(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],l=0,u=r.length,s;l<u;++l)(s=r[l])&&(yield s)}var Ch=[null];function an(t,e){this._groups=t,this._parents=e}function uo(){return new an([[document.documentElement]],Ch)}function W3(){return this}an.prototype=uo.prototype={constructor:an,select:ab,selectAll:gb,selectChild:wb,selectChildren:Sb,filter:kb,data:Tb,enter:Eb,exit:Ob,join:Nb,merge:Hb,selection:W3,order:zb,sort:Lb,call:Db,nodes:Wb,node:Bb,size:Xb,empty:Yb,each:Fb,attr:Zb,style:$b,property:i3,classed:u3,text:c3,html:m3,raise:y3,lower:b3,append:v3,insert:S3,remove:E3,clone:M3,datum:P3,on:H3,dispatch:R3,[Symbol.iterator]:D3};function fn(t){return typeof t=="string"?new an([[document.querySelector(t)]],[document.documentElement]):new an([[t]],Ch)}function B3(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Tn(t,e){if(t=B3(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}const X3={passive:!1},jr={capture:!0,passive:!1};function bs(t){t.stopImmediatePropagation()}function ur(t){t.preventDefault(),t.stopImmediatePropagation()}function Ah(t){var e=t.document.documentElement,n=fn(t).on("dragstart.drag",ur,jr);"onselectstart"in e?n.on("selectstart.drag",ur,jr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Mh(t,e){var n=t.document.documentElement,r=fn(t).on("dragstart.drag",null);e&&(r.on("click.drag",ur,jr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ol=t=>()=>t;function zs(t,{sourceEvent:e,subject:n,target:r,identifier:l,active:u,x:s,y:f,dx:a,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}zs.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Y3(t){return!t.ctrlKey&&!t.button}function F3(){return this.parentNode}function V3(t,e){return e??{x:t.x,y:t.y}}function K3(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ph(){var t=Y3,e=F3,n=V3,r=K3,l={},u=Rl("start","drag","end"),s=0,f,a,d,h,g=0;function _(S){S.on("mousedown.drag",y).filter(r).on("touchstart.drag",A).on("touchmove.drag",w,X3).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(S,N){if(!(h||!t.call(this,S,N))){var Y=E(this,e.call(this,S,N),S,N,"mouse");Y&&(fn(S.view).on("mousemove.drag",b,jr).on("mouseup.drag",p,jr),Ah(S.view),bs(S),d=!1,f=S.clientX,a=S.clientY,Y("start",S))}}function b(S){if(ur(S),!d){var N=S.clientX-f,Y=S.clientY-a;d=N*N+Y*Y>g}l.mouse("drag",S)}function p(S){fn(S.view).on("mousemove.drag mouseup.drag",null),Mh(S.view,d),ur(S),l.mouse("end",S)}function A(S,N){if(t.call(this,S,N)){var Y=S.changedTouches,I=e.call(this,S,N),H=Y.length,L,x;for(L=0;L<H;++L)(x=E(this,I,S,N,Y[L].identifier,Y[L]))&&(bs(S),x("start",S,Y[L]))}}function w(S){var N=S.changedTouches,Y=N.length,I,H;for(I=0;I<Y;++I)(H=l[N[I].identifier])&&(ur(S),H("drag",S,N[I]))}function O(S){var N=S.changedTouches,Y=N.length,I,H;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),I=0;I<Y;++I)(H=l[N[I].identifier])&&(bs(S),H("end",S,N[I]))}function E(S,N,Y,I,H,L){var x=u.copy(),T=Tn(L||Y,N),B,W,P;if((P=n.call(S,new zs("beforestart",{sourceEvent:Y,target:_,identifier:H,active:s,x:T[0],y:T[1],dx:0,dy:0,dispatch:x}),I))!=null)return B=P.x-T[0]||0,W=P.y-T[1]||0,function K(X,q,G){var j=T,fe;switch(X){case"start":l[H]=K,fe=s++;break;case"end":delete l[H],--s;case"drag":T=Tn(G||q,N),fe=s;break}x.call(X,S,new zs(X,{sourceEvent:q,subject:P,target:_,identifier:H,active:fe,x:T[0]+B,y:T[1]+W,dx:T[0]-j[0],dy:T[1]-j[1],dispatch:x}),I)}}return _.filter=function(S){return arguments.length?(t=typeof S=="function"?S:ol(!!S),_):t},_.container=function(S){return arguments.length?(e=typeof S=="function"?S:ol(S),_):e},_.subject=function(S){return arguments.length?(n=typeof S=="function"?S:ol(S),_):n},_.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:ol(!!S),_):r},_.on=function(){var S=u.on.apply(u,arguments);return S===u?_:S},_.clickDistance=function(S){return arguments.length?(g=(S=+S)*S,_):Math.sqrt(g)},_}function Js(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Th(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function so(){}var $r=.7,El=1/$r,sr="\\s*([+-]?\\d+)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U3=/^#([0-9a-f]{3,8})$/,x3=new RegExp(`^rgb\\(${sr},${sr},${sr}\\)$`),G3=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),q3=new RegExp(`^rgba\\(${sr},${sr},${sr},${eo}\\)$`),Z3=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${eo}\\)$`),J3=new RegExp(`^hsl\\(${eo},${Yn},${Yn}\\)$`),Q3=new RegExp(`^hsla\\(${eo},${Yn},${Yn},${eo}\\)$`),Lc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Js(so,to,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Rc,formatHex:Rc,formatHex8:j3,formatHsl:$3,formatRgb:Dc,toString:Dc});function Rc(){return this.rgb().formatHex()}function j3(){return this.rgb().formatHex8()}function $3(){return Ih(this).formatHsl()}function Dc(){return this.rgb().formatRgb()}function to(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=U3.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Wc(e):n===3?new en(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ll(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ll(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=x3.exec(t))?new en(e[1],e[2],e[3],1):(e=G3.exec(t))?new en(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=q3.exec(t))?ll(e[1],e[2],e[3],e[4]):(e=Z3.exec(t))?ll(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=J3.exec(t))?Yc(e[1],e[2]/100,e[3]/100,1):(e=Q3.exec(t))?Yc(e[1],e[2]/100,e[3]/100,e[4]):Lc.hasOwnProperty(t)?Wc(Lc[t]):t==="transparent"?new en(NaN,NaN,NaN,0):null}function Wc(t){return new en(t>>16&255,t>>8&255,t&255,1)}function ll(t,e,n,r){return r<=0&&(t=e=n=NaN),new en(t,e,n,r)}function ev(t){return t instanceof so||(t=to(t)),t?(t=t.rgb(),new en(t.r,t.g,t.b,t.opacity)):new en}function Ls(t,e,n,r){return arguments.length===1?ev(t):new en(t,e,n,r??1)}function en(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Js(en,Ls,Th(so,{brighter(t){return t=t==null?El:Math.pow(El,t),new en(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?$r:Math.pow($r,t),new en(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new en(Ri(this.r),Ri(this.g),Ri(this.b),Cl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bc,formatHex:Bc,formatHex8:tv,formatRgb:Xc,toString:Xc}));function Bc(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}`}function tv(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}${Li((isNaN(this.opacity)?1:this.opacity)*255)}`}function Xc(){const t=Cl(this.opacity);return`${t===1?"rgb(":"rgba("}${Ri(this.r)}, ${Ri(this.g)}, ${Ri(this.b)}${t===1?")":`, ${t})`}`}function Cl(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ri(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Li(t){return t=Ri(t),(t<16?"0":"")+t.toString(16)}function Yc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new In(t,e,n,r)}function Ih(t){if(t instanceof In)return new In(t.h,t.s,t.l,t.opacity);if(t instanceof so||(t=to(t)),!t)return new In;if(t instanceof In)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,l=Math.min(e,n,r),u=Math.max(e,n,r),s=NaN,f=u-l,a=(u+l)/2;return f?(e===u?s=(n-r)/f+(n<r)*6:n===u?s=(r-e)/f+2:s=(e-n)/f+4,f/=a<.5?u+l:2-u-l,s*=60):f=a>0&&a<1?0:s,new In(s,f,a,t.opacity)}function nv(t,e,n,r){return arguments.length===1?Ih(t):new In(t,e,n,r??1)}function In(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Js(In,nv,Th(so,{brighter(t){return t=t==null?El:Math.pow(El,t),new In(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?$r:Math.pow($r,t),new In(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,l=2*n-r;return new en(vs(t>=240?t-240:t+120,l,r),vs(t,l,r),vs(t<120?t+240:t-120,l,r),this.opacity)},clamp(){return new In(Fc(this.h),ul(this.s),ul(this.l),Cl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Cl(this.opacity);return`${t===1?"hsl(":"hsla("}${Fc(this.h)}, ${ul(this.s)*100}%, ${ul(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fc(t){return t=(t||0)%360,t<0?t+360:t}function ul(t){return Math.max(0,Math.min(1,t||0))}function vs(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Oh=t=>()=>t;function iv(t,e){return function(n){return t+n*e}}function rv(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ov(t){return(t=+t)==1?Nh:function(e,n){return n-e?rv(e,n,t):Oh(isNaN(e)?n:e)}}function Nh(t,e){var n=e-t;return n?iv(t,n):Oh(isNaN(t)?e:t)}const Vc=function t(e){var n=ov(e);function r(l,u){var s=n((l=Ls(l)).r,(u=Ls(u)).r),f=n(l.g,u.g),a=n(l.b,u.b),d=Nh(l.opacity,u.opacity);return function(h){return l.r=s(h),l.g=f(h),l.b=a(h),l.opacity=d(h),l+""}}return r.gamma=t,r}(1);function ki(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Rs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ps=new RegExp(Rs.source,"g");function lv(t){return function(){return t}}function uv(t){return function(e){return t(e)+""}}function sv(t,e){var n=Rs.lastIndex=ps.lastIndex=0,r,l,u,s=-1,f=[],a=[];for(t=t+"",e=e+"";(r=Rs.exec(t))&&(l=ps.exec(e));)(u=l.index)>n&&(u=e.slice(n,u),f[s]?f[s]+=u:f[++s]=u),(r=r[0])===(l=l[0])?f[s]?f[s]+=l:f[++s]=l:(f[++s]=null,a.push({i:s,x:ki(r,l)})),n=ps.lastIndex;return n<e.length&&(u=e.slice(n),f[s]?f[s]+=u:f[++s]=u),f.length<2?a[0]?uv(a[0].x):lv(e):(e=a.length,function(d){for(var h=0,g;h<e;++h)f[(g=a[h]).i]=g.x(d);return f.join("")})}var Kc=180/Math.PI,Ds={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hh(t,e,n,r,l,u){var s,f,a;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(a=t*n+e*r)&&(n-=t*a,r-=e*a),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,a/=f),t*r<e*n&&(t=-t,e=-e,a=-a,s=-s),{translateX:l,translateY:u,rotate:Math.atan2(e,t)*Kc,skewX:Math.atan(a)*Kc,scaleX:s,scaleY:f}}var sl;function fv(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ds:Hh(e.a,e.b,e.c,e.d,e.e,e.f)}function av(t){return t==null||(sl||(sl=document.createElementNS("http://www.w3.org/2000/svg","g")),sl.setAttribute("transform",t),!(t=sl.transform.baseVal.consolidate()))?Ds:(t=t.matrix,Hh(t.a,t.b,t.c,t.d,t.e,t.f))}function zh(t,e,n,r){function l(d){return d.length?d.pop()+" ":""}function u(d,h,g,_,y,b){if(d!==g||h!==_){var p=y.push("translate(",null,e,null,n);b.push({i:p-4,x:ki(d,g)},{i:p-2,x:ki(h,_)})}else(g||_)&&y.push("translate("+g+e+_+n)}function s(d,h,g,_){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),_.push({i:g.push(l(g)+"rotate(",null,r)-2,x:ki(d,h)})):h&&g.push(l(g)+"rotate("+h+r)}function f(d,h,g,_){d!==h?_.push({i:g.push(l(g)+"skewX(",null,r)-2,x:ki(d,h)}):h&&g.push(l(g)+"skewX("+h+r)}function a(d,h,g,_,y,b){if(d!==g||h!==_){var p=y.push(l(y)+"scale(",null,",",null,")");b.push({i:p-4,x:ki(d,g)},{i:p-2,x:ki(h,_)})}else(g!==1||_!==1)&&y.push(l(y)+"scale("+g+","+_+")")}return function(d,h){var g=[],_=[];return d=t(d),h=t(h),u(d.translateX,d.translateY,h.translateX,h.translateY,g,_),s(d.rotate,h.rotate,g,_),f(d.skewX,h.skewX,g,_),a(d.scaleX,d.scaleY,h.scaleX,h.scaleY,g,_),d=h=null,function(y){for(var b=-1,p=_.length,A;++b<p;)g[(A=_[b]).i]=A.x(y);return g.join("")}}}var cv=zh(fv,"px, ","px)","deg)"),dv=zh(av,", ",")",")"),hv=1e-12;function Uc(t){return((t=Math.exp(t))+1/t)/2}function gv(t){return((t=Math.exp(t))-1/t)/2}function mv(t){return((t=Math.exp(2*t))-1)/(t+1)}const _v=function t(e,n,r){function l(u,s){var f=u[0],a=u[1],d=u[2],h=s[0],g=s[1],_=s[2],y=h-f,b=g-a,p=y*y+b*b,A,w;if(p<hv)w=Math.log(_/d)/e,A=function(I){return[f+I*y,a+I*b,d*Math.exp(e*I*w)]};else{var O=Math.sqrt(p),E=(_*_-d*d+r*p)/(2*d*n*O),S=(_*_-d*d-r*p)/(2*_*n*O),N=Math.log(Math.sqrt(E*E+1)-E),Y=Math.log(Math.sqrt(S*S+1)-S);w=(Y-N)/e,A=function(I){var H=I*w,L=Uc(N),x=d/(n*O)*(L*mv(e*H+N)-gv(N));return[f+x*y,a+x*b,d*L/Uc(e*H+N)]}}return A.duration=w*1e3*e/Math.SQRT2,A}return l.rho=function(u){var s=Math.max(.001,+u),f=s*s,a=f*f;return t(s,f,a)},l}(Math.SQRT2,2,4);var mr=0,Vr=0,Xr=0,Lh=1e3,Al,Kr,Ml=0,Bi=0,Wl=0,no=typeof performance=="object"&&performance.now?performance:Date,Rh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qs(){return Bi||(Rh(yv),Bi=no.now()+Wl)}function yv(){Bi=0}function Pl(){this._call=this._time=this._next=null}Pl.prototype=Dh.prototype={constructor:Pl,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Qs():+n)+(e==null?0:+e),!this._next&&Kr!==this&&(Kr?Kr._next=this:Al=this,Kr=this),this._call=t,this._time=n,Ws()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ws())}};function Dh(t,e,n){var r=new Pl;return r.restart(t,e,n),r}function wv(){Qs(),++mr;for(var t=Al,e;t;)(e=Bi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mr}function xc(){Bi=(Ml=no.now())+Wl,mr=Vr=0;try{wv()}finally{mr=0,vv(),Bi=0}}function bv(){var t=no.now(),e=t-Ml;e>Lh&&(Wl-=e,Ml=t)}function vv(){for(var t,e=Al,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Al=n);Kr=t,Ws(r)}function Ws(t){if(!mr){Vr&&(Vr=clearTimeout(Vr));var e=t-Bi;e>24?(t<1/0&&(Vr=setTimeout(xc,t-no.now()-Wl)),Xr&&(Xr=clearInterval(Xr))):(Xr||(Ml=no.now(),Xr=setInterval(bv,Lh)),mr=1,Rh(xc))}}function Gc(t,e,n){var r=new Pl;return e=e==null?0:+e,r.restart(l=>{r.stop(),t(l+e)},e,n),r}var pv=Rl("start","end","cancel","interrupt"),Sv=[],Wh=0,qc=1,Bs=2,yl=3,Zc=4,Xs=5,wl=6;function Bl(t,e,n,r,l,u){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;kv(t,n,{name:e,index:r,group:l,on:pv,tween:Sv,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:Wh})}function js(t,e){var n=Hn(t,e);if(n.state>Wh)throw new Error("too late; already scheduled");return n}function Kn(t,e){var n=Hn(t,e);if(n.state>yl)throw new Error("too late; already running");return n}function Hn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function kv(t,e,n){var r=t.__transition,l;r[e]=n,n.timer=Dh(u,0,n.time);function u(d){n.state=qc,n.timer.restart(s,n.delay,n.time),n.delay<=d&&s(d-n.delay)}function s(d){var h,g,_,y;if(n.state!==qc)return a();for(h in r)if(y=r[h],y.name===n.name){if(y.state===yl)return Gc(s);y.state===Zc?(y.state=wl,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete r[h]):+h<e&&(y.state=wl,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete r[h])}if(Gc(function(){n.state===yl&&(n.state=Zc,n.timer.restart(f,n.delay,n.time),f(d))}),n.state=Bs,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Bs){for(n.state=yl,l=new Array(_=n.tween.length),h=0,g=-1;h<_;++h)(y=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(l[++g]=y);l.length=g+1}}function f(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(a),n.state=Xs,1),g=-1,_=l.length;++g<_;)l[g].call(t,h);n.state===Xs&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=wl,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function bl(t,e){var n=t.__transition,r,l,u=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){u=!1;continue}l=r.state>Bs&&r.state<Xs,r.state=wl,r.timer.stop(),r.on.call(l?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}u&&delete t.__transition}}function Ev(t){return this.each(function(){bl(this,t)})}function Cv(t,e){var n,r;return function(){var l=Kn(this,t),u=l.tween;if(u!==n){r=n=u;for(var s=0,f=r.length;s<f;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}l.tween=r}}function Av(t,e,n){var r,l;if(typeof n!="function")throw new Error;return function(){var u=Kn(this,t),s=u.tween;if(s!==r){l=(r=s).slice();for(var f={name:e,value:n},a=0,d=l.length;a<d;++a)if(l[a].name===e){l[a]=f;break}a===d&&l.push(f)}u.tween=l}}function Mv(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Hn(this.node(),n).tween,l=0,u=r.length,s;l<u;++l)if((s=r[l]).name===t)return s.value;return null}return this.each((e==null?Cv:Av)(n,t,e))}function $s(t,e,n){var r=t._id;return t.each(function(){var l=Kn(this,r);(l.value||(l.value={}))[e]=n.apply(this,arguments)}),function(l){return Hn(l,r).value[e]}}function Bh(t,e){var n;return(typeof e=="number"?ki:e instanceof to?Vc:(n=to(e))?(e=n,Vc):sv)(t,e)}function Pv(t){return function(){this.removeAttribute(t)}}function Tv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Iv(t,e,n){var r,l=n+"",u;return function(){var s=this.getAttribute(t);return s===l?null:s===r?u:u=e(r=s,n)}}function Ov(t,e,n){var r,l=n+"",u;return function(){var s=this.getAttributeNS(t.space,t.local);return s===l?null:s===r?u:u=e(r=s,n)}}function Nv(t,e,n){var r,l,u;return function(){var s,f=n(this),a;return f==null?void this.removeAttribute(t):(s=this.getAttribute(t),a=f+"",s===a?null:s===r&&a===l?u:(l=a,u=e(r=s,f)))}}function Hv(t,e,n){var r,l,u;return function(){var s,f=n(this),a;return f==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),a=f+"",s===a?null:s===r&&a===l?u:(l=a,u=e(r=s,f)))}}function zv(t,e){var n=Dl(t),r=n==="transform"?dv:Bh;return this.attrTween(t,typeof e=="function"?(n.local?Hv:Nv)(n,r,$s(this,"attr."+t,e)):e==null?(n.local?Tv:Pv)(n):(n.local?Ov:Iv)(n,r,e))}function Lv(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Rv(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Dv(t,e){var n,r;function l(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&Rv(t,u)),n}return l._value=e,l}function Wv(t,e){var n,r;function l(){var u=e.apply(this,arguments);return u!==r&&(n=(r=u)&&Lv(t,u)),n}return l._value=e,l}function Bv(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Dl(t);return this.tween(n,(r.local?Dv:Wv)(r,e))}function Xv(t,e){return function(){js(this,t).delay=+e.apply(this,arguments)}}function Yv(t,e){return e=+e,function(){js(this,t).delay=e}}function Fv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Xv:Yv)(e,t)):Hn(this.node(),e).delay}function Vv(t,e){return function(){Kn(this,t).duration=+e.apply(this,arguments)}}function Kv(t,e){return e=+e,function(){Kn(this,t).duration=e}}function Uv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Vv:Kv)(e,t)):Hn(this.node(),e).duration}function xv(t,e){if(typeof e!="function")throw new Error;return function(){Kn(this,t).ease=e}}function Gv(t){var e=this._id;return arguments.length?this.each(xv(e,t)):Hn(this.node(),e).ease}function qv(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Kn(this,t).ease=n}}function Zv(t){if(typeof t!="function")throw new Error;return this.each(qv(this._id,t))}function Jv(t){typeof t!="function"&&(t=_h(t));for(var e=this._groups,n=e.length,r=new Array(n),l=0;l<n;++l)for(var u=e[l],s=u.length,f=r[l]=[],a,d=0;d<s;++d)(a=u[d])&&t.call(a,a.__data__,d,u)&&f.push(a);return new ui(r,this._parents,this._name,this._id)}function Qv(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,l=n.length,u=Math.min(r,l),s=new Array(r),f=0;f<u;++f)for(var a=e[f],d=n[f],h=a.length,g=s[f]=new Array(h),_,y=0;y<h;++y)(_=a[y]||d[y])&&(g[y]=_);for(;f<r;++f)s[f]=e[f];return new ui(s,this._parents,this._name,this._id)}function jv(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function $v(t,e,n){var r,l,u=jv(e)?js:Kn;return function(){var s=u(this,t),f=s.on;f!==r&&(l=(r=f).copy()).on(e,n),s.on=l}}function e5(t,e){var n=this._id;return arguments.length<2?Hn(this.node(),n).on.on(t):this.each($v(n,t,e))}function t5(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function n5(){return this.on("end.remove",t5(this._id))}function i5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qs(t));for(var r=this._groups,l=r.length,u=new Array(l),s=0;s<l;++s)for(var f=r[s],a=f.length,d=u[s]=new Array(a),h,g,_=0;_<a;++_)(h=f[_])&&(g=t.call(h,h.__data__,_,f))&&("__data__"in h&&(g.__data__=h.__data__),d[_]=g,Bl(d[_],e,n,_,d,Hn(h,n)));return new ui(u,this._parents,e,n)}function r5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mh(t));for(var r=this._groups,l=r.length,u=[],s=[],f=0;f<l;++f)for(var a=r[f],d=a.length,h,g=0;g<d;++g)if(h=a[g]){for(var _=t.call(h,h.__data__,g,a),y,b=Hn(h,n),p=0,A=_.length;p<A;++p)(y=_[p])&&Bl(y,e,n,p,_,b);u.push(_),s.push(h)}return new ui(u,s,e,n)}var o5=uo.prototype.constructor;function l5(){return new o5(this._groups,this._parents)}function u5(t,e){var n,r,l;return function(){var u=gr(this,t),s=(this.style.removeProperty(t),gr(this,t));return u===s?null:u===n&&s===r?l:l=e(n=u,r=s)}}function Xh(t){return function(){this.style.removeProperty(t)}}function s5(t,e,n){var r,l=n+"",u;return function(){var s=gr(this,t);return s===l?null:s===r?u:u=e(r=s,n)}}function f5(t,e,n){var r,l,u;return function(){var s=gr(this,t),f=n(this),a=f+"";return f==null&&(a=f=(this.style.removeProperty(t),gr(this,t))),s===a?null:s===r&&a===l?u:(l=a,u=e(r=s,f))}}function a5(t,e){var n,r,l,u="style."+e,s="end."+u,f;return function(){var a=Kn(this,t),d=a.on,h=a.value[u]==null?f||(f=Xh(e)):void 0;(d!==n||l!==h)&&(r=(n=d).copy()).on(s,l=h),a.on=r}}function c5(t,e,n){var r=(t+="")=="transform"?cv:Bh;return e==null?this.styleTween(t,u5(t,r)).on("end.style."+t,Xh(t)):typeof e=="function"?this.styleTween(t,f5(t,r,$s(this,"style."+t,e))).each(a5(this._id,t)):this.styleTween(t,s5(t,r,e),n).on("end.style."+t,null)}function d5(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function h5(t,e,n){var r,l;function u(){var s=e.apply(this,arguments);return s!==l&&(r=(l=s)&&d5(t,s,n)),r}return u._value=e,u}function g5(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,h5(t,e,n??""))}function m5(t){return function(){this.textContent=t}}function _5(t){return function(){var e=t(this);this.textContent=e??""}}function y5(t){return this.tween("text",typeof t=="function"?_5($s(this,"text",t)):m5(t==null?"":t+""))}function w5(t){return function(e){this.textContent=t.call(this,e)}}function b5(t){var e,n;function r(){var l=t.apply(this,arguments);return l!==n&&(e=(n=l)&&w5(l)),e}return r._value=t,r}function v5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,b5(t))}function p5(){for(var t=this._name,e=this._id,n=Yh(),r=this._groups,l=r.length,u=0;u<l;++u)for(var s=r[u],f=s.length,a,d=0;d<f;++d)if(a=s[d]){var h=Hn(a,e);Bl(a,t,n,d,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ui(r,this._parents,t,n)}function S5(){var t,e,n=this,r=n._id,l=n.size();return new Promise(function(u,s){var f={value:s},a={value:function(){--l===0&&u()}};n.each(function(){var d=Kn(this,r),h=d.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(a)),d.on=e}),l===0&&u()})}var k5=0;function ui(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Yh(){return++k5}var ni=uo.prototype;ui.prototype={constructor:ui,select:i5,selectAll:r5,selectChild:ni.selectChild,selectChildren:ni.selectChildren,filter:Jv,merge:Qv,selection:l5,transition:p5,call:ni.call,nodes:ni.nodes,node:ni.node,size:ni.size,empty:ni.empty,each:ni.each,on:e5,attr:zv,attrTween:Bv,style:c5,styleTween:g5,text:y5,textTween:v5,remove:n5,tween:Mv,delay:Fv,duration:Uv,ease:Gv,easeVarying:Zv,end:S5,[Symbol.iterator]:ni[Symbol.iterator]};function E5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var C5={time:null,delay:0,duration:250,ease:E5};function A5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function M5(t){var e,n;t instanceof ui?(e=t._id,t=t._name):(e=Yh(),(n=C5).time=Qs(),t=t==null?null:t+"");for(var r=this._groups,l=r.length,u=0;u<l;++u)for(var s=r[u],f=s.length,a,d=0;d<f;++d)(a=s[d])&&Bl(a,t,e,d,s,n||A5(a,e));return new ui(r,this._parents,t,e)}uo.prototype.interrupt=Ev;uo.prototype.transition=M5;const fl=t=>()=>t;function P5(t,{sourceEvent:e,target:n,transform:r,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:l}})}function ii(t,e,n){this.k=t,this.x=e,this.y=n}ii.prototype={constructor:ii,scale:function(t){return t===1?this:new ii(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ii(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xl=new ii(1,0,0);Fh.prototype=ii.prototype;function Fh(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Xl;return t.__zoom}function Ss(t){t.stopImmediatePropagation()}function Yr(t){t.preventDefault(),t.stopImmediatePropagation()}function T5(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function I5(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Jc(){return this.__zoom||Xl}function O5(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function N5(){return navigator.maxTouchPoints||"ontouchstart"in this}function H5(t,e,n){var r=t.invertX(e[0][0])-n[0][0],l=t.invertX(e[1][0])-n[1][0],u=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(l>r?(r+l)/2:Math.min(0,r)||Math.max(0,l),s>u?(u+s)/2:Math.min(0,u)||Math.max(0,s))}function Vh(){var t=T5,e=I5,n=H5,r=O5,l=N5,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],f=250,a=_v,d=Rl("start","zoom","end"),h,g,_,y=500,b=150,p=0,A=10;function w(P){P.property("__zoom",Jc).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",x).filter(l).on("touchstart.zoom",T).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(P,K,X,q){var G=P.selection?P.selection():P;G.property("__zoom",Jc),P!==G?N(P,K,X,q):G.interrupt().each(function(){Y(this,arguments).event(q).start().zoom(null,typeof K=="function"?K.apply(this,arguments):K).end()})},w.scaleBy=function(P,K,X,q){w.scaleTo(P,function(){var G=this.__zoom.k,j=typeof K=="function"?K.apply(this,arguments):K;return G*j},X,q)},w.scaleTo=function(P,K,X,q){w.transform(P,function(){var G=e.apply(this,arguments),j=this.__zoom,fe=X==null?S(G):typeof X=="function"?X.apply(this,arguments):X,ae=j.invert(fe),Q=typeof K=="function"?K.apply(this,arguments):K;return n(E(O(j,Q),fe,ae),G,s)},X,q)},w.translateBy=function(P,K,X,q){w.transform(P,function(){return n(this.__zoom.translate(typeof K=="function"?K.apply(this,arguments):K,typeof X=="function"?X.apply(this,arguments):X),e.apply(this,arguments),s)},null,q)},w.translateTo=function(P,K,X,q,G){w.transform(P,function(){var j=e.apply(this,arguments),fe=this.__zoom,ae=q==null?S(j):typeof q=="function"?q.apply(this,arguments):q;return n(Xl.translate(ae[0],ae[1]).scale(fe.k).translate(typeof K=="function"?-K.apply(this,arguments):-K,typeof X=="function"?-X.apply(this,arguments):-X),j,s)},q,G)};function O(P,K){return K=Math.max(u[0],Math.min(u[1],K)),K===P.k?P:new ii(K,P.x,P.y)}function E(P,K,X){var q=K[0]-X[0]*P.k,G=K[1]-X[1]*P.k;return q===P.x&&G===P.y?P:new ii(P.k,q,G)}function S(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function N(P,K,X,q){P.on("start.zoom",function(){Y(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).event(q).end()}).tween("zoom",function(){var G=this,j=arguments,fe=Y(G,j).event(q),ae=e.apply(G,j),Q=X==null?S(ae):typeof X=="function"?X.apply(G,j):X,ve=Math.max(ae[1][0]-ae[0][0],ae[1][1]-ae[0][1]),ke=G.__zoom,Pe=typeof K=="function"?K.apply(G,j):K,R=a(ke.invert(Q).concat(ve/ke.k),Pe.invert(Q).concat(ve/Pe.k));return function(he){if(he===1)he=Pe;else{var _e=R(he),oe=ve/_e[2];he=new ii(oe,Q[0]-_e[0]*oe,Q[1]-_e[1]*oe)}fe.zoom(null,he)}})}function Y(P,K,X){return!X&&P.__zooming||new I(P,K)}function I(P,K){this.that=P,this.args=K,this.active=0,this.sourceEvent=null,this.extent=e.apply(P,K),this.taps=0}I.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,K){return this.mouse&&P!=="mouse"&&(this.mouse[1]=K.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=K.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=K.invert(this.touch1[0])),this.that.__zoom=K,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var K=fn(this.that).datum();d.call(P,this.that,new P5(P,{sourceEvent:this.sourceEvent,target:w,type:P,transform:this.that.__zoom,dispatch:d}),K)}};function H(P,...K){if(!t.apply(this,arguments))return;var X=Y(this,K).event(P),q=this.__zoom,G=Math.max(u[0],Math.min(u[1],q.k*Math.pow(2,r.apply(this,arguments)))),j=Tn(P);if(X.wheel)(X.mouse[0][0]!==j[0]||X.mouse[0][1]!==j[1])&&(X.mouse[1]=q.invert(X.mouse[0]=j)),clearTimeout(X.wheel);else{if(q.k===G)return;X.mouse=[j,q.invert(j)],bl(this),X.start()}Yr(P),X.wheel=setTimeout(fe,b),X.zoom("mouse",n(E(O(q,G),X.mouse[0],X.mouse[1]),X.extent,s));function fe(){X.wheel=null,X.end()}}function L(P,...K){if(_||!t.apply(this,arguments))return;var X=P.currentTarget,q=Y(this,K,!0).event(P),G=fn(P.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",ve,!0),j=Tn(P,X),fe=P.clientX,ae=P.clientY;Ah(P.view),Ss(P),q.mouse=[j,this.__zoom.invert(j)],bl(this),q.start();function Q(ke){if(Yr(ke),!q.moved){var Pe=ke.clientX-fe,R=ke.clientY-ae;q.moved=Pe*Pe+R*R>p}q.event(ke).zoom("mouse",n(E(q.that.__zoom,q.mouse[0]=Tn(ke,X),q.mouse[1]),q.extent,s))}function ve(ke){G.on("mousemove.zoom mouseup.zoom",null),Mh(ke.view,q.moved),Yr(ke),q.event(ke).end()}}function x(P,...K){if(t.apply(this,arguments)){var X=this.__zoom,q=Tn(P.changedTouches?P.changedTouches[0]:P,this),G=X.invert(q),j=X.k*(P.shiftKey?.5:2),fe=n(E(O(X,j),q,G),e.apply(this,K),s);Yr(P),f>0?fn(this).transition().duration(f).call(N,fe,q,P):fn(this).call(w.transform,fe,q,P)}}function T(P,...K){if(t.apply(this,arguments)){var X=P.touches,q=X.length,G=Y(this,K,P.changedTouches.length===q).event(P),j,fe,ae,Q;for(Ss(P),fe=0;fe<q;++fe)ae=X[fe],Q=Tn(ae,this),Q=[Q,this.__zoom.invert(Q),ae.identifier],G.touch0?!G.touch1&&G.touch0[2]!==Q[2]&&(G.touch1=Q,G.taps=0):(G.touch0=Q,j=!0,G.taps=1+!!h);h&&(h=clearTimeout(h)),j&&(G.taps<2&&(g=Q[0],h=setTimeout(function(){h=null},y)),bl(this),G.start())}}function B(P,...K){if(this.__zooming){var X=Y(this,K).event(P),q=P.changedTouches,G=q.length,j,fe,ae,Q;for(Yr(P),j=0;j<G;++j)fe=q[j],ae=Tn(fe,this),X.touch0&&X.touch0[2]===fe.identifier?X.touch0[0]=ae:X.touch1&&X.touch1[2]===fe.identifier&&(X.touch1[0]=ae);if(fe=X.that.__zoom,X.touch1){var ve=X.touch0[0],ke=X.touch0[1],Pe=X.touch1[0],R=X.touch1[1],he=(he=Pe[0]-ve[0])*he+(he=Pe[1]-ve[1])*he,_e=(_e=R[0]-ke[0])*_e+(_e=R[1]-ke[1])*_e;fe=O(fe,Math.sqrt(he/_e)),ae=[(ve[0]+Pe[0])/2,(ve[1]+Pe[1])/2],Q=[(ke[0]+R[0])/2,(ke[1]+R[1])/2]}else if(X.touch0)ae=X.touch0[0],Q=X.touch0[1];else return;X.zoom("touch",n(E(fe,ae,Q),X.extent,s))}}function W(P,...K){if(this.__zooming){var X=Y(this,K).event(P),q=P.changedTouches,G=q.length,j,fe;for(Ss(P),_&&clearTimeout(_),_=setTimeout(function(){_=null},y),j=0;j<G;++j)fe=q[j],X.touch0&&X.touch0[2]===fe.identifier?delete X.touch0:X.touch1&&X.touch1[2]===fe.identifier&&delete X.touch1;if(X.touch1&&!X.touch0&&(X.touch0=X.touch1,delete X.touch1),X.touch0)X.touch0[1]=this.__zoom.invert(X.touch0[0]);else if(X.end(),X.taps===2&&(fe=Tn(fe,this),Math.hypot(g[0]-fe[0],g[1]-fe[1])<A)){var ae=fn(this).on("dblclick.zoom");ae&&ae.apply(this,arguments)}}}return w.wheelDelta=function(P){return arguments.length?(r=typeof P=="function"?P:fl(+P),w):r},w.filter=function(P){return arguments.length?(t=typeof P=="function"?P:fl(!!P),w):t},w.touchable=function(P){return arguments.length?(l=typeof P=="function"?P:fl(!!P),w):l},w.extent=function(P){return arguments.length?(e=typeof P=="function"?P:fl([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),w):e},w.scaleExtent=function(P){return arguments.length?(u[0]=+P[0],u[1]=+P[1],w):[u[0],u[1]]},w.translateExtent=function(P){return arguments.length?(s[0][0]=+P[0][0],s[1][0]=+P[1][0],s[0][1]=+P[0][1],s[1][1]=+P[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(P){return arguments.length?(n=P,w):n},w.duration=function(P){return arguments.length?(f=+P,w):f},w.interpolate=function(P){return arguments.length?(a=P,w):a},w.on=function(){var P=d.on.apply(d,arguments);return P===d?w:P},w.clickDistance=function(P){return arguments.length?(p=(P=+P)*P,w):Math.sqrt(p)},w.tapDistance=function(P){return arguments.length?(A=+P,w):A},w}const fo={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${n&&r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},mt=Symbol.for("internals"),Qc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ei;(function(t){t.Strict="strict",t.Loose="loose"})(Ei||(Ei={}));var Fn;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Fn||(Fn={}));var Tl;(function(t){t.Partial="partial",t.Full="full"})(Tl||(Tl={}));var fr;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(fr||(fr={}));var _r;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(_r||(_r={}));var Ve;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ve||(Ve={}));function z5(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function jc(t,e,n){if(!n)return;const r=[];t.forEach((l,u)=>{e!=null&&e.has(u)||r.push(l)}),r.length&&n(r)}const L5=t=>"id"in t&&"source"in t&&"target"in t,R5=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),pr=(t,e=[0,0])=>{var f;if(!t)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const{width:n,height:r}=co(t),l=n*e[0],u=r*e[1],s={x:t.position.x-l,y:t.position.y-u};return{position:s,positionAbsolute:(f=t.computed)!=null&&f.positionAbsolute?{x:t.computed.positionAbsolute.x-l,y:t.computed.positionAbsolute.y-u}:s}},ao=(t,e={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,l)=>{const u=pr(l,l.origin||e.nodeOrigin);return ef(r,Il({...u[e.useRelativePosition?"position":"positionAbsolute"],...co(l)}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return tf(n)},Kh=(t,e,[n,r,l]=[0,0,1],u=!1,s=!1,f=[0,0])=>{const a={...Yl(e,[n,r,l]),width:e.width/l,height:e.height/l};return t.reduce((h,g)=>{const{computed:_,selectable:y=!0,hidden:b=!1}=g,p=(_==null?void 0:_.width)??g.width??g.initialWidth??null,A=(_==null?void 0:_.height)??g.height??g.initialHeight??null;if(s&&!y||b)return h;const w=Ol(a,Fs(g,f)),O=p===null||A===null,E=u&&w>0,S=(p??0)*(A??0);return(O||E||w>=S||g.dragging)&&h.push(g),h},[])},Ys=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function D5({nodes:t,width:e,height:n,panZoom:r,minZoom:l,maxZoom:u,nodeOrigin:s=[0,0]},f){const a=t.filter(d=>{var g,_,y;const h=((g=d.computed)==null?void 0:g.width)&&((_=d.computed)==null?void 0:_.height)&&((f==null?void 0:f.includeHiddenNodes)||!d.hidden);return(y=f==null?void 0:f.nodes)!=null&&y.length?h&&(f==null?void 0:f.nodes.some(b=>b.id===d.id)):h});if(a.length>0){const d=ao(a,{nodeOrigin:s}),h=rf(d,e,n,(f==null?void 0:f.minZoom)??l,(f==null?void 0:f.maxZoom)??u,(f==null?void 0:f.padding)??.1);return r.setViewport(h,{duration:f==null?void 0:f.duration}),!0}return!1}function W5(t,e){var n,r;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.computed)==null?void 0:n.width)??0),e[1][1]-(((r=t.computed)==null?void 0:r.height)??0)]]}function B5({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:l,onError:u}){var _,y,b,p;const s=n.get(t),f=s.parentNode?n.get(s.parentNode):void 0,{x:a,y:d}=f?pr(f,f.origin||r).positionAbsolute:{x:0,y:0};let h=W5(s,s.extent||l);if(s.extent==="parent"&&!s.expandParent)if(!f)u==null||u("005",fo.error005());else{const A=(_=s.computed)==null?void 0:_.width,w=(y=s.computed)==null?void 0:y.height,O=(b=f==null?void 0:f.computed)==null?void 0:b.width,E=(p=f==null?void 0:f.computed)==null?void 0:p.height;if(A&&w&&O&&E){const S=s.origin||r,N=a+A*S[0],Y=d+w*S[1];h=[[N,Y],[N+O-A,Y+E-w]]}}else f&&nd(s.extent)&&(h=[[s.extent[0][0]+a,s.extent[0][1]+d],[s.extent[1][0]+a,s.extent[1][1]+d]]);const g=nd(h)?X5(e,h):e;return{position:{x:g.x-a,y:g.y-d},positionAbsolute:g}}async function Uh({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:l}){const u=t.map(_=>_.id),s=[];for(const _ of n){if(_.deletable===!1)continue;const y=u.includes(_.id),b=!y&&_.parentNode&&s.find(p=>p.id===_.parentNode);(y||b)&&s.push(_)}const f=e.map(_=>_.id),a=r.filter(_=>_.deletable!==!1),h=Ys(s,a);for(const _ of a)f.includes(_.id)&&!h.find(b=>b.id===_.id)&&h.push(_);if(!l)return{edges:h,nodes:s};const g=await l({nodes:s,edges:h});return typeof g=="boolean"?g?{edges:h,nodes:s}:{edges:[],nodes:[]}:g}const yr=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),X5=(t={x:0,y:0},e)=>({x:yr(t.x,e[0][0],e[1][0]),y:yr(t.y,e[0][1],e[1][1])}),$c=(t,e,n)=>t<e?yr(Math.abs(t-e),1,50)/50:t>n?-yr(Math.abs(t-n),1,50)/50:0,xh=(t,e)=>{const n=$c(t.x,35,e.width-35)*20,r=$c(t.y,35,e.height-35)*20;return[n,r]},ef=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Il=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),tf=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Fs=(t,e=[0,0])=>{var r,l;const{positionAbsolute:n}=pr(t,t.origin||e);return{...n,width:((r=t.computed)==null?void 0:r.width)??t.width??0,height:((l=t.computed)==null?void 0:l.height)??t.height??0}},ed=(t,e=[0,0])=>{var r,l;const{positionAbsolute:n}=pr(t,t.origin||e);return{...n,x2:n.x+(((r=t.computed)==null?void 0:r.width)??t.width??0),y2:n.y+(((l=t.computed)==null?void 0:l.height)??t.height??0)}},Y5=(t,e)=>tf(ef(Il(t),Il(e))),Ol=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},td=t=>Ur(t.width)&&Ur(t.height)&&Ur(t.x)&&Ur(t.y),Ur=t=>!isNaN(t)&&isFinite(t),F5=(t,e)=>{},V5=({x:t,y:e,width:n,height:r,origin:l=[0,0]})=>!n||!r||l[0]<0||l[1]<0||l[0]>1||l[1]>1?{x:t,y:e}:{x:t-n*l[0],y:e-r*l[1]},nf=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Yl=({x:t,y:e},[n,r,l],u=!1,s=[1,1])=>{const f={x:(t-n)/l,y:(e-r)/l};return u?nf(f,s):f},Gh=({x:t,y:e},[n,r,l])=>({x:t*l+n,y:e*l+r}),rf=(t,e,n,r,l,u)=>{const s=e/(t.width*(1+u)),f=n/(t.height*(1+u)),a=Math.min(s,f),d=yr(a,r,l),h=t.x+t.width/2,g=t.y+t.height/2,_=e/2-h*d,y=n/2-g*d;return{x:_,y,zoom:d}},Nl=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function nd(t){return t!==void 0&&t!=="parent"}function co(t){var e,n;return{width:((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight??0}}function io(t){var e,n;return(((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Gr(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r}){const{x:l,y:u}=ri(t),s=Yl({x:l,y:u},r),{x:f,y:a}=n?nf(s,e):s;return{xSnapped:f,ySnapped:a,...s}}const qh=t=>({width:t.offsetWidth,height:t.offsetHeight}),K5=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},U5=["INPUT","SELECT","TEXTAREA"];function x5(t){var r,l;const e=((l=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:l[0])||t.target;return U5.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const Zh=t=>"clientX"in t,ri=(t,e)=>{var u,s;const n=Zh(t),r=n?t.clientX:(u=t.touches)==null?void 0:u[0].clientX,l=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:l-((e==null?void 0:e.top)??0)}},id=(t,e,n,r=[0,0])=>{const l=e.querySelectorAll(t);if(!l||!l.length)return null;const u=Array.from(l),s=e.getBoundingClientRect(),f={x:s.width*r[0],y:s.height*r[1]};return u.map(a=>{const d=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(d.left-s.left-f.x)/n,y:(d.top-s.top-f.y)/n,...qh(a)}})};function G5({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:l,sourceControlY:u,targetControlX:s,targetControlY:f}){const a=t*.125+l*.375+s*.375+n*.125,d=e*.125+u*.375+f*.375+r*.125,h=Math.abs(a-t),g=Math.abs(d-e);return[a,d,h,g]}function al(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function rd({pos:t,x1:e,y1:n,x2:r,y2:l,c:u}){switch(t){case Ve.Left:return[e-al(e-r,u),n];case Ve.Right:return[e+al(r-e,u),n];case Ve.Top:return[e,n-al(n-l,u)];case Ve.Bottom:return[e,n+al(l-n,u)]}}function Jh({sourceX:t,sourceY:e,sourcePosition:n=Ve.Bottom,targetX:r,targetY:l,targetPosition:u=Ve.Top,curvature:s=.25}){const[f,a]=rd({pos:n,x1:t,y1:e,x2:r,y2:l,c:s}),[d,h]=rd({pos:u,x1:r,y1:l,x2:t,y2:e,c:s}),[g,_,y,b]=G5({sourceX:t,sourceY:e,targetX:r,targetY:l,sourceControlX:f,sourceControlY:a,targetControlX:d,targetControlY:h});return[`M${t},${e} C${f},${a} ${d},${h} ${r},${l}`,g,_,y,b]}function Qh({sourceX:t,sourceY:e,targetX:n,targetY:r}){const l=Math.abs(n-t)/2,u=n<t?n+l:n-l,s=Math.abs(r-e)/2,f=r<e?r+s:r-s;return[u,f,l,s]}function q5({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:l=!1}){var f,a;if(!l)return r;const u=n||e.selected||t.selected,s=Math.max(((f=t[mt])==null?void 0:f.z)||0,((a=e[mt])==null?void 0:a.z)||0,1e3);return r+(u?s:0)}function Z5({sourceNode:t,targetNode:e,width:n,height:r,transform:l}){const u=ef(ed(t),ed(e));u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const s={x:-l[0]/l[2],y:-l[1]/l[2],width:n/l[2],height:r/l[2]};return Ol(s,tf(u))>0}const J5=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,Q5=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),j5=(t,e)=>{if(!t.source||!t.target)return e;let n;return L5(t)?n={...t}:n={...t,id:J5(t)},Q5(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function jh({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[l,u,s,f]=Qh({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,l,u,s,f]}const od={[Ve.Left]:{x:-1,y:0},[Ve.Right]:{x:1,y:0},[Ve.Top]:{x:0,y:-1},[Ve.Bottom]:{x:0,y:1}},$5=({source:t,sourcePosition:e=Ve.Bottom,target:n})=>e===Ve.Left||e===Ve.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},ld=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function e4({source:t,sourcePosition:e=Ve.Bottom,target:n,targetPosition:r=Ve.Top,center:l,offset:u}){const s=od[e],f=od[r],a={x:t.x+s.x*u,y:t.y+s.y*u},d={x:n.x+f.x*u,y:n.y+f.y*u},h=$5({source:a,sourcePosition:e,target:d}),g=h.x!==0?"x":"y",_=h[g];let y=[],b,p;const A={x:0,y:0},w={x:0,y:0},[O,E,S,N]=Qh({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[g]*f[g]===-1){b=l.x??O,p=l.y??E;const I=[{x:b,y:a.y},{x:b,y:d.y}],H=[{x:a.x,y:p},{x:d.x,y:p}];s[g]===_?y=g==="x"?I:H:y=g==="x"?H:I}else{const I=[{x:a.x,y:d.y}],H=[{x:d.x,y:a.y}];if(g==="x"?y=s.x===_?H:I:y=s.y===_?I:H,e===r){const W=Math.abs(t[g]-n[g]);if(W<=u){const P=Math.min(u-1,u-W);s[g]===_?A[g]=(a[g]>t[g]?-1:1)*P:w[g]=(d[g]>n[g]?-1:1)*P}}if(e!==r){const W=g==="x"?"y":"x",P=s[g]===f[W],K=a[W]>d[W],X=a[W]<d[W];(s[g]===1&&(!P&&K||P&&X)||s[g]!==1&&(!P&&X||P&&K))&&(y=g==="x"?I:H)}const L={x:a.x+A.x,y:a.y+A.y},x={x:d.x+w.x,y:d.y+w.y},T=Math.max(Math.abs(L.x-y[0].x),Math.abs(x.x-y[0].x)),B=Math.max(Math.abs(L.y-y[0].y),Math.abs(x.y-y[0].y));T>=B?(b=(L.x+x.x)/2,p=y[0].y):(b=y[0].x,p=(L.y+x.y)/2)}return[[t,{x:a.x+A.x,y:a.y+A.y},...y,{x:d.x+w.x,y:d.y+w.y},n],b,p,S,N]}function t4(t,e,n,r){const l=Math.min(ld(t,e)/2,ld(e,n)/2,r),{x:u,y:s}=e;if(t.x===u&&u===n.x||t.y===s&&s===n.y)return`L${u} ${s}`;if(t.y===s){const d=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${u+l*d},${s}Q ${u},${s} ${u},${s+l*h}`}const f=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${u},${s+l*a}Q ${u},${s} ${u+l*f},${s}`}function wr({sourceX:t,sourceY:e,sourcePosition:n=Ve.Bottom,targetX:r,targetY:l,targetPosition:u=Ve.Top,borderRadius:s=5,centerX:f,centerY:a,offset:d=20}){const[h,g,_,y,b]=e4({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:l},targetPosition:u,center:{x:f,y:a},offset:d});return[h.reduce((A,w,O)=>{let E="";return O>0&&O<h.length-1?E=t4(h[O-1],w,h[O+1],s):E=`${O===0?"M":"L"}${w.x} ${w.y}`,A+=E,A},""),g,_,y,b]}function ud(t){var e,n,r;return!!((e=t==null?void 0:t[mt])!=null&&e.handleBounds||(n=t==null?void 0:t.handles)!=null&&n.length)&&!!((r=t==null?void 0:t.computed)!=null&&r.width||t!=null&&t.width||t!=null&&t.initialWidth)}function n4(t){var y,b,p;const{sourceNode:e,targetNode:n}=t;if(!ud(e)||!ud(n))return null;const r=((y=e[mt])==null?void 0:y.handleBounds)||sd(e.handles),l=((b=n[mt])==null?void 0:b.handleBounds)||sd(n.handles),u=ad((r==null?void 0:r.source)??[],t.sourceHandle),s=ad(t.connectionMode===Ei.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),t.targetHandle),f=(u==null?void 0:u.position)||Ve.Bottom,a=(s==null?void 0:s.position)||Ve.Top;if(!u||!s)return(p=t.onError)==null||p.call(t,"008",fo.error008(u?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const[d,h]=fd(f,e,u),[g,_]=fd(a,n,s);return{sourceX:d,sourceY:h,targetX:g,targetY:_,sourcePosition:f,targetPosition:a}}function sd(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function fd(t,e,n=null){var f,a,d,h;const r=((n==null?void 0:n.x)??0)+(((a=(f=e.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.x)??0),l=((n==null?void 0:n.y)??0)+(((h=(d=e.computed)==null?void 0:d.positionAbsolute)==null?void 0:h.y)??0),{width:u,height:s}=n??co(e);switch(t){case Ve.Top:return[r+u/2,l];case Ve.Right:return[r+u,l+s/2];case Ve.Bottom:return[r+u/2,l+s];case Ve.Left:return[r,l+s/2]}}function ad(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Vs(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function i4(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:l}){const u=new Set;return t.reduce((s,f)=>([f.markerStart||r,f.markerEnd||l].forEach(a=>{if(a&&typeof a=="object"){const d=Vs(a,e);u.has(d)||(s.push({id:d,color:a.color||n,...a}),u.add(d))}}),s),[]).sort((s,f)=>s.id.localeCompare(f.id))}function r4(t,e,n=[0,0],r){return t.map(l=>{var u,s,f,a,d,h;if(l.parentNode&&!e.has(l.parentNode))throw new Error(`Parent node ${l.parentNode} not found`);if(l.parentNode||r!=null&&r[l.id]){const g=l.parentNode?e.get(l.parentNode):null,{x:_,y,z:b}=e1(l,t,e,{...l.position,z:((u=l[mt])==null?void 0:u.z)??0},(g==null?void 0:g.origin)||n),p=_!==((f=(s=l.computed)==null?void 0:s.positionAbsolute)==null?void 0:f.x)||y!==((d=(a=l.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y);l.computed.positionAbsolute=p?{x:_,y}:(h=l.computed)==null?void 0:h.positionAbsolute,l[mt].z=b,r!=null&&r[l.id]&&(l[mt].isParent=!0)}return l})}function $h(t,e,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const r=new Map(e);e.clear();const l={},u=n!=null&&n.elevateNodesOnSelect?1e3:0,s=t.map(a=>{var y,b,p;const d=r.get(a.id);if(a===((y=d==null?void 0:d[mt])==null?void 0:y.userProvidedNode))return e.set(a.id,d),d;const h={...n.defaults,...a,computed:{positionAbsolute:a.position,width:(b=a.computed)==null?void 0:b.width,height:(p=a.computed)==null?void 0:p.height}},g=(Ur(a.zIndex)?a.zIndex:0)+(a.selected?u:0),_=(a==null?void 0:a[mt])||(d==null?void 0:d[mt]);return h.parentNode&&(l[h.parentNode]=!0),Object.defineProperty(h,mt,{enumerable:!1,value:{handleBounds:_==null?void 0:_.handleBounds,z:g,userProvidedNode:a}}),e.set(h.id,h),h});return r4(s,e,n.nodeOrigin,l)}function e1(t,e,n,r,l){var f,a;if(!t.parentNode)return r;const u=n.get(t.parentNode),{position:s}=pr(u,(u==null?void 0:u.origin)||l);return e1(u,e,n,{x:(r.x??0)+s.x,y:(r.y??0)+s.y,z:(((f=u[mt])==null?void 0:f.z)??0)>(r.z??0)?((a=u[mt])==null?void 0:a.z)??0:r.z??0},u.origin||l)}function o4(t,e,n,r,l,u){const s=r==null?void 0:r.querySelector(".xyflow__viewport");if(!s)return null;const f=window.getComputedStyle(s),{m22:a}=new window.DOMMatrixReadOnly(f.transform);return e.map(h=>{var _,y;const g=t.get(h.id);if(g){const b=qh(g.nodeElement);if(!!(b.width&&b.height&&(((_=h.computed)==null?void 0:_.width)!==b.width||((y=h.computed)==null?void 0:y.height)!==b.height||g.forceUpdate))){u==null||u(h.id,b);const A={...h,computed:{...h.computed,...b},[mt]:{...h[mt],handleBounds:{source:id(".source",g.nodeElement,a,h.origin||l),target:id(".target",g.nodeElement,a,h.origin||l)}}};return n.set(h.id,A),A}}return h})}function l4({delta:t,panZoom:e,transform:n,translateExtent:r,width:l,height:u}){if(!e||!t.x&&!t.y)return!1;const s=e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[l,u]],r);return!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2])}function t1(t,e,n){t.clear(),e.clear();for(const r of n){const{source:l,target:u,sourceHandle:s=null,targetHandle:f=null}=r,a=`${l}-source-${s}`,d=`${u}-target-${f}`,h=t.get(a)||new Map,g=t.get(d)||new Map,_={edgeId:r.id,source:l,target:u,sourceHandle:s,targetHandle:f};e.set(r.id,r),t.set(a,h.set(`${u}-${f}`,_)),t.set(d,g.set(`${l}-${s}`,_))}}function ks(t){return(e,n,r)=>t==null?void 0:t(e,r)}function n1(t,e){if(!t.parentNode)return!1;const n=e.find(r=>r.id===r.parentNode);return n?n.selected?!0:n1(n,e):!1}function cd(t,e,n){let r=t;do{if(r!=null&&r.matches(e))return!0;if(r===n)return!1;r=r.parentElement}while(r);return!1}function u4(t,e,n,r){return t.filter(l=>(l.selected||l.id===r)&&(!l.parentNode||!n1(l,t))&&(l.draggable||e&&typeof l.draggable>"u")).map(l=>{var u,s,f,a,d,h,g;return{id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-(((s=(u=l.computed)==null?void 0:u.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((a=(f=l.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:l.extent,parentNode:l.parentNode,origin:l.origin,expandParent:l.expandParent,computed:{positionAbsolute:((d=l.computed)==null?void 0:d.positionAbsolute)||{x:0,y:0},width:((h=l.computed)==null?void 0:h.width)||0,height:((g=l.computed)==null?void 0:g.height)||0}}})}function Es({nodeId:t,dragItems:e,nodeLookup:n}){const r=e.map(l=>({...n.get(l.id),position:l.position,computed:{...l.computed,positionAbsolute:l.computed.positionAbsolute}}));return[t?r.find(l=>l.id===t):r[0],r]}function s4({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:l}){let u={x:null,y:null},s=0,f=[],a=!1,d={x:0,y:0},h=null,g=!1,_=null;function y({noDragClassName:p,handleSelector:A,domNode:w,isSelectable:O,nodeId:E}){_=fn(w);function S({x:H,y:L},x){const{nodeLookup:T,nodeExtent:B,snapGrid:W,snapToGrid:P,nodeOrigin:K,onNodeDrag:X,onSelectionDrag:q,onError:G,updateNodePositions:j}=e();u={x:H,y:L};let fe=!1,ae={x:0,y:0,x2:0,y2:0};if(f.length>1&&B){const Q=ao(f,{nodeOrigin:K});ae=Il(Q)}if(f=f.map(Q=>{var he,_e;let ve={x:H-Q.distance.x,y:L-Q.distance.y};P&&(ve=nf(ve,W));const ke=[[B[0][0],B[0][1]],[B[1][0],B[1][1]]];f.length>1&&B&&!Q.extent&&(ke[0][0]=Q.computed.positionAbsolute.x-ae.x+B[0][0],ke[1][0]=Q.computed.positionAbsolute.x+(((he=Q.computed)==null?void 0:he.width)??0)-ae.x2+B[1][0],ke[0][1]=Q.computed.positionAbsolute.y-ae.y+B[0][1],ke[1][1]=Q.computed.positionAbsolute.y+(((_e=Q.computed)==null?void 0:_e.height)??0)-ae.y2+B[1][1]);const{position:Pe,positionAbsolute:R}=B5({nodeId:Q.id,nextPosition:ve,nodeLookup:T,nodeExtent:ke,nodeOrigin:K,onError:G});return fe=fe||Q.position.x!==Pe.x||Q.position.y!==Pe.y,Q.position=Pe,Q.computed.positionAbsolute=R,Q}),!!fe&&(j(f,!0),x&&(r||X||!E&&q))){const[Q,ve]=Es({nodeId:E,dragItems:f,nodeLookup:T});r==null||r(x,f,Q,ve),X==null||X(x,Q,ve),E||ks(q)(x,Q,ve)}}function N(){if(!h)return;const[H,L]=xh(d,h);if(H!==0||L!==0){const{transform:x,panBy:T}=e();u.x=(u.x??0)-H/x[2],u.y=(u.y??0)-L/x[2],T({x:H,y:L})&&S(u,null)}s=requestAnimationFrame(N)}function Y(H){var ae;const{nodes:L,nodeLookup:x,multiSelectionActive:T,nodesDraggable:B,transform:W,snapGrid:P,snapToGrid:K,selectNodesOnDrag:X,onNodeDragStart:q,onSelectionDragStart:G,unselectNodesAndEdges:j}=e();g=!0,(!X||!O)&&!T&&E&&((ae=x.get(E))!=null&&ae.selected||j()),O&&X&&E&&(t==null||t(E));const fe=Gr(H.sourceEvent,{transform:W,snapGrid:P,snapToGrid:K});if(u=fe,f=u4(L,B,fe,E),f.length>0&&(n||q||!E&&G)){const[Q,ve]=Es({nodeId:E,dragItems:f,nodeLookup:x});n==null||n(H.sourceEvent,f,Q,ve),q==null||q(H.sourceEvent,Q,ve),E||ks(G)(H.sourceEvent,Q,ve)}}const I=Ph().on("start",H=>{const{domNode:L,nodeDragThreshold:x,transform:T,snapGrid:B,snapToGrid:W}=e();x===0&&Y(H),u=Gr(H.sourceEvent,{transform:T,snapGrid:B,snapToGrid:W}),h=(L==null?void 0:L.getBoundingClientRect())||null,d=ri(H.sourceEvent,h)}).on("drag",H=>{const{autoPanOnNodeDrag:L,transform:x,snapGrid:T,snapToGrid:B,nodeDragThreshold:W}=e(),P=Gr(H.sourceEvent,{transform:x,snapGrid:T,snapToGrid:B});if(!a&&L&&g&&(a=!0,N()),!g){const K=P.xSnapped-(u.x??0),X=P.ySnapped-(u.y??0);Math.sqrt(K*K+X*X)>W&&Y(H)}(u.x!==P.xSnapped||u.y!==P.ySnapped)&&f&&g&&(d=ri(H.sourceEvent,h),S(P,H.sourceEvent))}).on("end",H=>{if(g&&(a=!1,g=!1,cancelAnimationFrame(s),f.length>0)){const{nodeLookup:L,updateNodePositions:x,onNodeDragStop:T,onSelectionDragStop:B}=e();if(x(f,!1),l||T||!E&&B){const[W,P]=Es({nodeId:E,dragItems:f,nodeLookup:L});l==null||l(H.sourceEvent,f,W,P),T==null||T(H.sourceEvent,W,P),E||ks(B)(H.sourceEvent,W,P)}}}).filter(H=>{const L=H.target;return!H.button&&(!p||!cd(L,`.${p}`,w))&&(!A||cd(L,A,w))});_.call(I)}function b(){_==null||_.on(".drag",null)}return{update:y,destroy:b}}function dd(t,e,n,r){return(e[n]||[]).reduce((l,u)=>{var s,f,a,d;return`${t.id}-${u.id}-${n}`!==r&&l.push({id:u.id||null,type:n,nodeId:t.id,x:(((f=(s=t.computed)==null?void 0:s.positionAbsolute)==null?void 0:f.x)??0)+u.x+u.width/2,y:(((d=(a=t.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0)+u.y+u.height/2}),l},[])}function f4(t,e,n){let r=[],l=1/0;for(const u of n){const s=Math.sqrt(Math.pow(u.x-t.x,2)+Math.pow(u.y-t.y,2));s<=e&&(s<l?r=[u]:s===l&&r.push(u),l=s)}return r.length?r.length===1?r[0]:r.find(u=>u.type==="target")||r[0]:null}function a4({nodes:t,nodeId:e,handleId:n,handleType:r}){return t.reduce((l,u)=>{if(u[mt]){const{handleBounds:s}=u[mt];let f=[],a=[];s&&(f=dd(u,s,"source",`${e}-${n}-${r}`),a=dd(u,s,"target",`${e}-${n}-${r}`)),l.push(...f,...a)}return l},[])}function i1(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function c4(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}const r1=()=>!0;let cl=null;function d4(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:l,edgeUpdaterType:u,isTarget:s,domNode:f,nodes:a,lib:d,autoPanOnConnect:h,flowId:g,panBy:_,cancelConnection:y,onConnectStart:b,onConnect:p,onConnectEnd:A,isValidConnection:w=r1,onEdgeUpdateEnd:O,updateConnection:E,getTransform:S,getConnectionStartHandle:N}){const Y=K5(t.target);let I=0,H;const{x:L,y:x}=ri(t),T=Y==null?void 0:Y.elementFromPoint(L,x),B=i1(u,T),W=f==null?void 0:f.getBoundingClientRect();if(!W||!B)return;let P=ri(t,W),K=!1,X=null,q=!1,G=null;const j=a4({nodes:a,nodeId:l,handleId:r,handleType:B});function fe(){if(!h||!W)return;const[ve,ke]=xh(P,W);_({x:ve,y:ke}),I=requestAnimationFrame(fe)}cl={nodeId:l,handleId:r,type:B},E({connectionPosition:P,connectionStatus:null,connectionStartHandle:cl,connectionEndHandle:null}),b==null||b(t,{nodeId:l,handleId:r,handleType:B});function ae(ve){N()||Q(ve);const ke=S();P=ri(ve,W),H=f4(Yl(P,ke,!1,[1,1]),n,j),K||(fe(),K=!0);const Pe=o1(ve,{handle:H,connectionMode:e,fromNodeId:l,fromHandleId:r,fromType:s?"target":"source",isValidConnection:w,doc:Y,lib:d,flowId:g});G=Pe.handleDomNode,X=Pe.connection,q=Pe.isValid,E({connectionStartHandle:cl,connectionPosition:H&&q?Gh({x:H.x,y:H.y},ke):P,connectionStatus:c4(!!H,q),connectionEndHandle:Pe.endHandle})}function Q(ve){(H||G)&&X&&q&&(p==null||p(X)),A==null||A(ve),u&&(O==null||O(ve)),y(),cancelAnimationFrame(I),K=!1,q=!1,X=null,G=null,cl=null,Y.removeEventListener("mousemove",ae),Y.removeEventListener("mouseup",Q),Y.removeEventListener("touchmove",ae),Y.removeEventListener("touchend",Q)}Y.addEventListener("mousemove",ae),Y.addEventListener("mouseup",Q),Y.addEventListener("touchmove",ae),Y.addEventListener("touchend",Q)}function o1(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:l,fromType:u,doc:s,lib:f,flowId:a,isValidConnection:d=r1}){const h=u==="target",g=e?s.querySelector(`.${f}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:_,y}=ri(t),b=s.elementFromPoint(_,y),p=b!=null&&b.classList.contains(`${f}-flow__handle`)?b:g,A={handleDomNode:p,isValid:!1,connection:null,endHandle:null};if(p){const w=i1(void 0,p),O=p.getAttribute("data-nodeid"),E=p.getAttribute("data-handleid"),S=p.classList.contains("connectable"),N=p.classList.contains("connectableend");if(!O)return A;const Y={source:h?O:r,sourceHandle:h?E:l,target:h?r:O,targetHandle:h?l:E};A.connection=Y,S&&N&&(n===Ei.Strict?h&&w==="source"||!h&&w==="target":O!==r||E!==l)&&(A.endHandle={nodeId:O,handleId:E,type:w},A.isValid=d(Y))}return A}const h4={onPointerDown:d4,isValid:o1};function g4({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const l=fn(t);function u({translateExtent:f,width:a,height:d,zoomStep:h=10,pannable:g=!0,zoomable:_=!0,inversePan:y=!1}){const b=w=>{const O=n();if(w.sourceEvent.type!=="wheel"||!e)return;const E=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*h,S=O[2]*Math.pow(2,E);e.scaleTo(S)},p=w=>{const O=n();if(w.sourceEvent.type!=="mousemove"||!e)return;const E=r()*Math.max(O[2],Math.log(O[2]))*(y?-1:1),S={x:O[0]-w.sourceEvent.movementX*E,y:O[1]-w.sourceEvent.movementY*E},N=[[0,0],[a,d]];e.setViewportConstrained({x:S.x,y:S.y,zoom:O[2]},N,f)},A=Vh().on("zoom",g?p:null).on("zoom.wheel",_?b:null);l.call(A,{})}function s(){l.on("zoom",null)}return{update:u,destroy:s,pointer:Tn}}const m4=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Fl=t=>({x:t.x,y:t.y,zoom:t.k}),Cs=({x:t,y:e,zoom:n})=>Xl.translate(t,e).scale(n),or=(t,e)=>t.target.closest(`.${e}`),l1=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),As=(t,e=0)=>typeof e=="number"&&e>0?t.transition().duration(e):t,u1=t=>{const e=t.ctrlKey&&Nl()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function _4({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:l,panOnScrollSpeed:u,zoomOnPinch:s,onPanZoomStart:f,onPanZoom:a,onPanZoomEnd:d}){return h=>{if(or(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const g=n.property("__zoom").k||1,_=Nl();if(h.ctrlKey&&s&&_){const w=Tn(h),O=u1(h),E=g*Math.pow(2,O);r.scaleTo(n,E,w,h);return}const y=h.deltaMode===1?20:1;let b=l===Fn.Vertical?0:h.deltaX*y,p=l===Fn.Horizontal?0:h.deltaY*y;!_&&h.shiftKey&&l!==Fn.Vertical&&(b=h.deltaY*y,p=0),r.translateBy(n,-(b/g)*u,-(p/g)*u,{internal:!0});const A=Fl(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,f==null||f(h,A)),t.isPanScrolling&&(a==null||a(h,A),t.panScrollTimeout=setTimeout(()=>{d==null||d(h,A),t.isPanScrolling=!1},150))}}function y4({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,l){if(!e||or(r,t))return null;r.preventDefault(),n.call(this,r,l)}}function w4({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var u,s,f;if((u=r.sourceEvent)!=null&&u.internal)return;const l=Fl(r.transform);t.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=l,((f=r.sourceEvent)==null?void 0:f.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,l))}}function b4({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:l}){return u=>{var s,f;t.usedRightMouseButton=!!(n&&l1(e,t.mouseButton??0)),(s=u.sourceEvent)!=null&&s.sync||r([u.transform.x,u.transform.y,u.transform.k]),l&&!((f=u.sourceEvent)!=null&&f.internal)&&(l==null||l(u.sourceEvent,Fl(u.transform)))}}function v4({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:l,onPaneContextMenu:u}){return s=>{var f;if(!((f=s.sourceEvent)!=null&&f.internal)&&(t.isZoomingOrPanning=!1,u&&l1(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&u(s.sourceEvent),t.usedRightMouseButton=!1,r(!1),l&&m4(t.prevViewport,s.transform))){const a=Fl(s.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{l==null||l(s.sourceEvent,a)},n?150:0)}}}function p4({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:l,zoomOnDoubleClick:u,userSelectionActive:s,noWheelClassName:f,noPanClassName:a,lib:d}){return h=>{const g=t||e,_=n&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(or(h,`${d}-flow__node`)||or(h,`${d}-flow__edge`)))return!0;if(!r&&!g&&!l&&!u&&!n||s||!u&&h.type==="dblclick"||or(h,f)&&h.type==="wheel"||or(h,a)&&(h.type!=="wheel"||l&&h.type==="wheel"&&!t)||!n&&h.ctrlKey&&h.type==="wheel"||!g&&!l&&!_&&h.type==="wheel"||!r&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(r)&&!r.includes(h.button)&&(h.type==="mousedown"||h.type==="touchstart"))return!1;const y=Array.isArray(r)&&r.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function S4({domNode:t,minZoom:e,maxZoom:n,translateExtent:r,viewport:l,onPanZoom:u,onPanZoomStart:s,onPanZoomEnd:f,onTransformChange:a,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=t.getBoundingClientRect(),_=Vh().scaleExtent([e,n]).translateExtent(r),y=fn(t).call(_);O({x:l.x,y:l.y,zoom:yr(l.zoom,e,n)},[[0,0],[g.width,g.height]],r);const b=y.on("wheel.zoom");_.wheelDelta(u1);function p(x,T){y&&(_==null||_.transform(As(y,T==null?void 0:T.duration),x))}function A({noWheelClassName:x,noPanClassName:T,onPaneContextMenu:B,userSelectionActive:W,panOnScroll:P,panOnDrag:K,panOnScrollMode:X,panOnScrollSpeed:q,preventScrolling:G,zoomOnPinch:j,zoomOnScroll:fe,zoomOnDoubleClick:ae,zoomActivationKeyPressed:Q,lib:ve}){W&&!h.isZoomingOrPanning&&w();const Pe=P&&!Q&&!W?_4({zoomPanValues:h,noWheelClassName:x,d3Selection:y,d3Zoom:_,panOnScrollMode:X,panOnScrollSpeed:q,zoomOnPinch:j,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:f}):y4({noWheelClassName:x,preventScrolling:G,d3ZoomHandler:b});if(y.on("wheel.zoom",Pe,{passive:!1}),!W){const he=w4({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:s});_.on("start",he);const _e=b4({zoomPanValues:h,panOnDrag:K,onPaneContextMenu:!!B,onPanZoom:u,onTransformChange:a});_.on("zoom",_e);const oe=v4({zoomPanValues:h,panOnDrag:K,panOnScroll:P,onPaneContextMenu:B,onPanZoomEnd:f,onDraggingChange:d});_.on("end",oe)}const R=p4({zoomActivationKeyPressed:Q,panOnDrag:K,zoomOnScroll:fe,panOnScroll:P,zoomOnDoubleClick:ae,zoomOnPinch:j,userSelectionActive:W,noPanClassName:T,noWheelClassName:x,lib:ve});_.filter(R)}function w(){_.on("zoom",null)}function O(x,T,B){const W=Cs(x),P=_==null?void 0:_.constrain()(W,T,B);return P&&p(P),P}function E(x,T){const B=Cs(x);return p(B,T),B}function S(x){if(y){const T=Cs(x),B=y.property("__zoom");(B.k!==x.zoom||B.x!==x.x||B.y!==x.y)&&(_==null||_.transform(y,T,null,{sync:!0}))}}function N(){const x=y?Fh(y.node()):{x:0,y:0,k:1};return{x:x.x,y:x.y,zoom:x.k}}function Y(x,T){y&&(_==null||_.scaleTo(As(y,T==null?void 0:T.duration),x))}function I(x,T){y&&(_==null||_.scaleBy(As(y,T==null?void 0:T.duration),x))}function H(x){_==null||_.scaleExtent(x)}function L(x){_==null||_.translateExtent(x)}return{update:A,destroy:w,setViewport:E,setViewportConstrained:O,getViewport:N,scaleTo:Y,scaleBy:I,setScaleExtent:H,setTranslateExtent:L,syncViewport:S}}var qr;(function(t){t.Line="line",t.Handle="handle"})(qr||(qr={}));function k4({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:l,affectsY:u}){const s=t-e,f=n-r,a=[s>0?1:s<0?-1:0,f>0?1:f<0?-1:0];return s&&l&&(a[0]=a[0]*-1),f&&u&&(a[1]=a[1]*-1),a}function E4(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),l=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:l}}function pi(t,e){return Math.max(0,e-t)}function Si(t,e){return Math.max(0,t-e)}function dl(t,e,n){return Math.max(0,e-t,t-n)}function hd(t,e){return t?!e:e}function C4(t,e,n,r,l,u,s,f){let{affectsX:a,affectsY:d}=e;const{isHorizontal:h,isVertical:g}=e,_=h&&g,{xSnapped:y,ySnapped:b}=n,{minWidth:p,maxWidth:A,minHeight:w,maxHeight:O}=r,{x:E,y:S,width:N,height:Y,aspectRatio:I}=t;let H=Math.floor(h?y-t.pointerX:0),L=Math.floor(g?b-t.pointerY:0);const x=N+(a?-H:H),T=Y+(d?-L:L),B=-u[0]*N,W=-u[1]*Y;let P=dl(x,p,A),K=dl(T,w,O);if(s){let G=0,j=0;a&&H<0?G=pi(E+H+B,s[0][0]):!a&&H>0&&(G=Si(E+x+B,s[1][0])),d&&L<0?j=pi(S+L+W,s[0][1]):!d&&L>0&&(j=Si(S+T+W,s[1][1])),P=Math.max(P,G),K=Math.max(K,j)}if(f){let G=0,j=0;a&&H>0?G=Si(E+H,f[0][0]):!a&&H<0&&(G=pi(E+x,f[1][0])),d&&L>0?j=Si(S+L,f[0][1]):!d&&L<0&&(j=pi(S+T,f[1][1])),P=Math.max(P,G),K=Math.max(K,j)}if(l){if(h){const G=dl(x/I,w,O)*I;if(P=Math.max(P,G),s){let j=0;!a&&!d||a&&!d&&_?j=Si(S+W+x/I,s[1][1])*I:j=pi(S+W+(a?H:-H)/I,s[0][1])*I,P=Math.max(P,j)}if(f){let j=0;!a&&!d||a&&!d&&_?j=pi(S+x/I,f[1][1])*I:j=Si(S+(a?H:-H)/I,f[0][1])*I,P=Math.max(P,j)}}if(g){const G=dl(T*I,p,A)/I;if(K=Math.max(K,G),s){let j=0;!a&&!d||d&&!a&&_?j=Si(E+T*I+B,s[1][0])/I:j=pi(E+(d?L:-L)*I+B,s[0][0])/I,K=Math.max(K,j)}if(f){let j=0;!a&&!d||d&&!a&&_?j=pi(E+T*I,f[1][0])/I:j=Si(E+(d?L:-L)*I,f[0][0])/I,K=Math.max(K,j)}}}L=L+(L<0?K:-K),H=H+(H<0?P:-P),l&&(_?x>T*I?L=(hd(a,d)?-H:H)/I:H=(hd(a,d)?-L:L)*I:h?(L=H/I,d=a):(H=L*I,a=d));const X=a?E+H:E,q=d?S+L:S;return{width:N+(a?-H:H),height:Y+(d?-L:L),x:u[0]*H*(a?-1:1)+X,y:u[1]*L*(d?-1:1)+q}}const s1={width:0,height:0,x:0,y:0},A4={...s1,pointerX:0,pointerY:0,aspectRatio:1},M4={x:0,y:0,width:0,height:0,isXPosChange:!1,isYPosChange:!1,isWidthChange:!1,isHeightChange:!1};function P4(t){return[[0,0],[t.computed.width,t.computed.height]]}function T4(t,e,n){const r=e.position.x+t.position.x,l=e.position.y+t.position.y,u=t.computed.width??0,s=t.computed.height??0,f=n[0]*u,a=n[1]*s;return[[r-f,l-a],[r+u-f,l+s-a]]}function I4({domNode:t,nodeId:e,getStoreItems:n,onChange:r}){const l=fn(t);function u({controlPosition:f,boundaries:a,keepAspectRatio:d,onResizeStart:h,onResize:g,onResizeEnd:_,shouldResize:y}){let b={...s1},p={...A4};const A=E4(f);let w,O=[],E,S,N;const Y=Ph().on("start",I=>{var W,P;const{nodeLookup:H,transform:L,snapGrid:x,snapToGrid:T,nodeOrigin:B}=n();if(w=H.get(e),w){const{xSnapped:K,ySnapped:X}=Gr(I.sourceEvent,{transform:L,snapGrid:x,snapToGrid:T});b={width:((W=w.computed)==null?void 0:W.width)??0,height:((P=w.computed)==null?void 0:P.height)??0,x:w.position.x??0,y:w.position.y??0},p={...b,pointerX:K,pointerY:X,aspectRatio:b.width/b.height},E=void 0,(w.extent==="parent"||w.expandParent)&&(E=H.get(w.parentNode),E&&w.extent==="parent"&&(S=P4(E))),O=[],N=void 0;for(const[q,G]of H)if(G.parentNode===e&&(O.push({id:q,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const j=T4(G,w,G.origin??B);N?N=[[Math.min(j[0][0],N[0][0]),Math.min(j[0][1],N[0][1])],[Math.max(j[1][0],N[1][0]),Math.max(j[1][1],N[1][1])]]:N=j}h==null||h(I,{...b})}}).on("drag",I=>{const{transform:H,snapGrid:L,snapToGrid:x,nodeOrigin:T}=n(),B=Gr(I.sourceEvent,{transform:H,snapGrid:L,snapToGrid:x}),W=[];if(w){const{x:P,y:K,width:X,height:q}=b,G={...M4},j=w.origin??T,{width:fe,height:ae,x:Q,y:ve}=C4(p,A,B,a,d,j,S,N),ke=fe!==X,Pe=ae!==q,R=Q!==P&&ke,he=ve!==K&&Pe;if((R||he||j[0]===1||j[1]==1)&&(G.isXPosChange=R,G.isYPosChange=he,G.x=R?Q:P,G.y=he?ve:K,b.x=G.x,b.y=G.y,E&&w.expandParent&&(G.x<0&&(b.x=0,p.x=p.x-G.x),G.y<0&&(b.y=0,p.y=p.y-G.y)),O.length>0)){const Ye=Q-P,nt=ve-K;for(const it of O)it.position={x:it.position.x-Ye+j[0]*(fe-X),y:it.position.y-nt+j[1]*(ae-q)},W.push(it)}if((ke||Pe)&&(G.isWidthChange=ke,G.isHeightChange=Pe,G.width=fe,G.height=ae,b.width=G.width,b.height=G.height),!G.isXPosChange&&!G.isYPosChange&&!ke&&!Pe)return;const _e=k4({width:b.width,prevWidth:X,height:b.height,prevHeight:q,affectsX:A.affectsX,affectsY:A.affectsY}),oe={...b,direction:_e};if((y==null?void 0:y(I,oe))===!1)return;g==null||g(I,oe),r(G,W)}}).on("end",I=>{_==null||_(I,{...b})});l.call(Y)}function s(){l.on(".drag",null)}return{update:u,destroy:s}}function O4(t){let e,n,r,l,u,s;const f=t[43].default,a=Wt(f,t,t[42],null);return{c(){e=Ne("div"),a&&a.c(),M(e,"data-handleid",t[15]),M(e,"data-nodeid",t[13]),M(e,"data-handlepos",t[3]),M(e,"data-id",n=t[11]+"-"+t[13]+"-"+(t[1]||null)+"-"+t[2]),M(e,"class",r=je(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),M(e,"style",t[4]),M(e,"role","button"),M(e,"tabindex","-1"),Be(e,"valid",t[7]),Be(e,"connectingto",t[6]),Be(e,"connectingfrom",t[9]),Be(e,"source",!t[12]),Be(e,"target",t[12]),Be(e,"connectablestart",t[0]),Be(e,"connectableend",t[0]),Be(e,"connectable",t[0]),Be(e,"connectionindicator",t[0]&&(!t[10]||t[8]))},m(d,h){ne(d,e,h),a&&a.m(e,null),l=!0,u||(s=[De(e,"mousedown",t[32]),De(e,"touchstart",t[32])],u=!0)},p(d,h){a&&a.p&&(!l||h[1]&2048)&&Xt(a,f,d,d[42],l?Bt(f,d[42],h,null):Yt(d[42]),null),(!l||h[0]&8)&&M(e,"data-handlepos",d[3]),(!l||h[0]&2054&&n!==(n=d[11]+"-"+d[13]+"-"+(d[1]||null)+"-"+d[2]))&&M(e,"data-id",n),(!l||h[0]&40&&r!==(r=je(["svelte-flow__handle",`svelte-flow__handle-${d[3]}`,"nodrag","nopan",d[3],d[5]])))&&M(e,"class",r),(!l||h[0]&16)&&M(e,"style",d[4]),(!l||h[0]&168)&&Be(e,"valid",d[7]),(!l||h[0]&104)&&Be(e,"connectingto",d[6]),(!l||h[0]&552)&&Be(e,"connectingfrom",d[9]),(!l||h[0]&4136)&&Be(e,"source",!d[12]),(!l||h[0]&4136)&&Be(e,"target",d[12]),(!l||h[0]&41)&&Be(e,"connectablestart",d[0]),(!l||h[0]&41)&&Be(e,"connectableend",d[0]),(!l||h[0]&41)&&Be(e,"connectable",d[0]),(!l||h[0]&1321)&&Be(e,"connectionindicator",d[0]&&(!d[10]||d[8]))},i(d){l||(J(a,d),l=!0)},o(d){$(a,d),l=!1},d(d){d&&ee(e),a&&a.d(d),u=!1,vt(s)}}}function N4(t,e,n){let r,l,u,s,f,a,d,h,g,_,y,b,p,A,w,O,E,S,N,Y,I,H,{$$slots:L={},$$scope:x}=e,{id:T=void 0}=e,{type:B="source"}=e,{position:W=Ve.Top}=e,{style:P=void 0}=e,{isConnectable:K=void 0}=e,{onconnect:X=void 0}=e,{ondisconnect:q=void 0}=e,{class:G=void 0}=e;const j=B==="target",fe=Qr("svelteflow__node_id"),ae=Qr("svelteflow__node_connectable");de(t,ae,ge=>n(41,H=ge));const Q=T||null,ve=ct(),{connectionMode:ke,domNode:Pe,nodes:R,connectionRadius:he,viewport:_e,isValidConnection:oe,lib:le,addEdge:Ye,onedgecreate:nt,panBy:it,cancelConnection:ot,updateConnection:$e,autoPanOnConnect:Sn,edges:Et,connectionLookup:tn,onconnect:cn,onconnectstart:pe,onconnectend:pt,flowId:Zt,connection:dn}=ve;de(t,ke,ge=>n(38,d=ge)),de(t,Pe,ge=>n(53,Y=ge)),de(t,R,ge=>n(52,N=ge)),de(t,he,ge=>n(54,I=ge)),de(t,_e,ge=>n(44,_=ge)),de(t,oe,ge=>n(49,w=ge)),de(t,le,ge=>n(51,S=ge)),de(t,nt,ge=>n(48,A=ge)),de(t,Sn,ge=>n(50,E=ge)),de(t,Et,ge=>n(40,g=ge)),de(t,tn,ge=>n(39,h=ge)),de(t,cn,ge=>n(47,p=ge)),de(t,pe,ge=>n(46,b=ge)),de(t,pt,ge=>n(45,y=ge)),de(t,Zt,ge=>n(11,O=ge)),de(t,dn,ge=>n(37,a=ge));function ce(ge){const Lt=Zh(ge);(Lt&&ge.button===0||!Lt)&&h4.onPointerDown(ge,{handleId:Q,nodeId:fe,isTarget:j,connectionRadius:I,domNode:Y,nodes:N,connectionMode:d,lib:S,autoPanOnConnect:E,flowId:O,isValidConnection:w,updateConnection:$e,cancelConnection:ot,panBy:it,onConnect:Pt=>{const Ot=A?A(Pt):Pt;Ot&&(Ye(Ot),p==null||p(Pt))},onConnectStart:(Pt,Ot)=>{b==null||b(Pt,{nodeId:Ot.nodeId,handleId:Ot.handleId,handleType:Ot.handleType})},onConnectEnd:Pt=>{y==null||y(Pt)},getTransform:()=>[_.x,_.y,_.zoom],getConnectionStartHandle:()=>a.startHandle})}let Mt=null,It;return t.$$set=ge=>{"id"in ge&&n(1,T=ge.id),"type"in ge&&n(2,B=ge.type),"position"in ge&&n(3,W=ge.position),"style"in ge&&n(4,P=ge.style),"isConnectable"in ge&&n(0,K=ge.isConnectable),"onconnect"in ge&&n(33,X=ge.onconnect),"ondisconnect"in ge&&n(34,q=ge.ondisconnect),"class"in ge&&n(5,G=ge.class),"$$scope"in ge&&n(42,x=ge.$$scope)},t.$$.update=()=>{var ge,Lt,Pt,Ot,zn,Ln,hn,Rn,Un;if(t.$$.dirty[0]&1|t.$$.dirty[1]&1024&&n(0,K=K!==void 0?K:H),t.$$.dirty[0]&6|t.$$.dirty[1]&780&&(X||q)&&n(36,It=h.get(`${fe}-${B}-${T||null}`)),t.$$.dirty[1]&60){if(Mt&&!z5(It,Mt)){const xn=It??new Map;jc(Mt,xn,q),jc(xn,Mt,X)}n(35,Mt=It??new Map)}t.$$.dirty[1]&64&&n(10,r=!!a.startHandle),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(9,l=((ge=a.startHandle)==null?void 0:ge.nodeId)===fe&&((Lt=a.startHandle)==null?void 0:Lt.type)===B&&((Pt=a.startHandle)==null?void 0:Pt.handleId)===Q),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(6,u=((Ot=a.endHandle)==null?void 0:Ot.nodeId)===fe&&((zn=a.endHandle)==null?void 0:zn.type)===B&&((Ln=a.endHandle)==null?void 0:Ln.handleId)===Q),t.$$.dirty[0]&4|t.$$.dirty[1]&192&&n(8,s=d===Ei.Strict?((hn=a.startHandle)==null?void 0:hn.type)!==B:fe!==((Rn=a.startHandle)==null?void 0:Rn.nodeId)||Q!==((Un=a.startHandle)==null?void 0:Un.handleId)),t.$$.dirty[0]&64|t.$$.dirty[1]&64&&n(7,f=u&&a.status==="valid")},[K,T,B,W,P,G,u,f,s,l,r,O,j,fe,ae,Q,ke,Pe,R,he,_e,oe,le,nt,Sn,Et,tn,cn,pe,pt,Zt,dn,ce,X,q,Mt,It,a,d,h,g,H,x,L]}class H4 extends Ie{constructor(e){super(),Te(this,e,N4,O4,Oe,{id:1,type:2,position:3,style:4,isConnectable:0,onconnect:33,ondisconnect:34,class:5},null,[-1,-1])}}const ro=H4;function z4(t){var a;let e,n,r=((a=t[0])==null?void 0:a.label)+"",l,u,s,f;return e=new ro({props:{type:"target",position:t[1]}}),s=new ro({props:{type:"source",position:t[2]}}),{c(){be(e.$$.fragment),n=He(),l=qt(r),u=He(),be(s.$$.fragment)},m(d,h){ye(e,d,h),ne(d,n,h),ne(d,l,h),ne(d,u,h),ye(s,d,h),f=!0},p(d,[h]){var y;const g={};h&2&&(g.position=d[1]),e.$set(g),(!f||h&1)&&r!==(r=((y=d[0])==null?void 0:y.label)+"")&&Xi(l,r);const _={};h&4&&(_.position=d[2]),s.$set(_)},i(d){f||(J(e.$$.fragment,d),J(s.$$.fragment,d),f=!0)},o(d){$(e.$$.fragment,d),$(s.$$.fragment,d),f=!1},d(d){d&&(ee(n),ee(l),ee(u)),we(e,d),we(s,d)}}}function L4(t,e,n){let{data:r={label:"Node"}}=e,{targetPosition:l=Ve.Top}=e,{sourcePosition:u=Ve.Bottom}=e,{id:s=""}=e,{width:f=void 0}=e,{height:a=void 0}=e,{selected:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:_=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:A}=e;return t.$$set=w=>{"data"in w&&n(0,r=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"sourcePosition"in w&&n(2,u=w.sourcePosition),"id"in w&&n(3,s=w.id),"width"in w&&n(4,f=w.width),"height"in w&&n(5,a=w.height),"selected"in w&&n(6,d=w.selected),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,_=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,A=w.zIndex)},[r,l,u,s,f,a,d,h,g,_,y,b,p,A]}class R4 extends Ie{constructor(e){super(),Te(this,e,L4,z4,Oe,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const f1=R4;function D4(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,r,l,u;return l=new ro({props:{type:"source",position:t[1]}}),{c(){n=qt(e),r=He(),be(l.$$.fragment)},m(f,a){ne(f,n,a),ne(f,r,a),ye(l,f,a),u=!0},p(f,[a]){var h;(!u||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&Xi(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){u||(J(l.$$.fragment,f),u=!0)},o(f){$(l.$$.fragment,f),u=!1},d(f){f&&(ee(n),ee(r)),we(l,f)}}}function W4(t,e,n){let{data:r={label:"Node"}}=e,{sourcePosition:l=Ve.Bottom}=e,{id:u=""}=e,{width:s=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:_=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:A}=e;return t.$$set=w=>{"data"in w&&n(0,r=w.data),"sourcePosition"in w&&n(1,l=w.sourcePosition),"id"in w&&n(2,u=w.id),"width"in w&&n(3,s=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,_=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,A=w.zIndex)},[r,l,u,s,f,a,d,h,g,_,y,b,p,A]}class B4 extends Ie{constructor(e){super(),Te(this,e,W4,D4,Oe,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const X4=B4;function Y4(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,r,l,u;return l=new ro({props:{type:"target",position:t[1]}}),{c(){n=qt(e),r=He(),be(l.$$.fragment)},m(f,a){ne(f,n,a),ne(f,r,a),ye(l,f,a),u=!0},p(f,[a]){var h;(!u||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&Xi(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){u||(J(l.$$.fragment,f),u=!0)},o(f){$(l.$$.fragment,f),u=!1},d(f){f&&(ee(n),ee(r)),we(l,f)}}}function F4(t,e,n){let{data:r={label:"Node"}}=e,{targetPosition:l=Ve.Top}=e,{id:u=""}=e,{width:s=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{sourcePosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:_=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:A}=e;return t.$$set=w=>{"data"in w&&n(0,r=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"id"in w&&n(2,u=w.id),"width"in w&&n(3,s=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"sourcePosition"in w&&n(6,d=w.sourcePosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,_=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,A=w.zIndex)},[r,l,u,s,f,a,d,h,g,_,y,b,p,A]}class V4 extends Ie{constructor(e){super(),Te(this,e,F4,Y4,Oe,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const K4=V4;function U4(t,e,n){let{id:r=""}=e,{width:l=void 0}=e,{height:u=void 0}=e,{data:s={}}=e,{selected:f=void 0}=e,{sourcePosition:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:_=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:A}=e;return t.$$set=w=>{"id"in w&&n(0,r=w.id),"width"in w&&n(1,l=w.width),"height"in w&&n(2,u=w.height),"data"in w&&n(3,s=w.data),"selected"in w&&n(4,f=w.selected),"sourcePosition"in w&&n(5,a=w.sourcePosition),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,_=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,A=w.zIndex)},[r,l,u,s,f,a,d,h,g,_,y,b,p,A]}class x4 extends Ie{constructor(e){super(),Te(this,e,U4,null,Oe,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const G4=x4;function gd(t,e,n){if(!e)return;const r=n?e.querySelector(n):e;r&&r.appendChild(t)}function q4(t,{target:e,domNode:n}){return gd(t,n,e),{async update({target:r,domNode:l}){gd(t,l,r)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Z4(t){let e,n,r,l,u;const s=t[3].default,f=Wt(s,t,t[2],null);return{c(){e=Ne("div"),f&&f.c()},m(a,d){ne(a,e,d),f&&f.m(e,null),r=!0,l||(u=xt(n=q4.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),l=!0)},p(a,[d]){f&&f.p&&(!r||d&4)&&Xt(f,s,a,a[2],r?Bt(s,a[2],d,null):Yt(a[2]),null),n&&ht(n.update)&&d&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){r||(J(f,a),r=!0)},o(a){$(f,a),r=!1},d(a){a&&ee(e),f&&f.d(a),l=!1,u()}}}function J4(t,e,n){let r,{$$slots:l={},$$scope:u}=e;const{domNode:s}=ct();return de(t,s,f=>n(0,r=f)),t.$$set=f=>{"$$scope"in f&&n(2,u=f.$$scope)},[r,s,u,l]}class Q4 extends Ie{constructor(e){super(),Te(this,e,J4,Z4,Oe,{})}}function a1(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:r,addSelectedEdges:l,unselectNodesAndEdges:u,elementsSelectable:s}=ct();return f=>{const a=ue(t).get(f);if(!a){console.warn("012",fo.error012(f));return}(a.selectable||ue(s)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&ue(r)&&u({nodes:[],edges:[a]}):l([f]))}}function j4(t){let e,n,r=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,l,u,s;const f=t[5].default,a=Wt(f,t,t[7],null);return{c(){e=Ne("div"),a&&a.c(),M(e,"class","svelte-flow__edge-label"),M(e,"style",n="pointer-events: all;"+t[0]),M(e,"role","button"),M(e,"tabindex","-1"),We(e,"transform",r)},m(d,h){ne(d,e,h),a&&a.m(e,null),l=!0,u||(s=[De(e,"keyup",ep),De(e,"click",t[6])],u=!0)},p(d,h){a&&a.p&&(!l||h&128)&&Xt(a,f,d,d[7],l?Bt(f,d[7],h,null):Yt(d[7]),null),(!l||h&1&&n!==(n="pointer-events: all;"+d[0]))&&M(e,"style",n);const g=h&1;(h&7&&r!==(r=`translate(-50%, -50%) translate(${d[1]}px,${d[2]}px)`)||g)&&We(e,"transform",r)},i(d){l||(J(a,d),l=!0)},o(d){$(a,d),l=!1},d(d){d&&ee(e),a&&a.d(d),u=!1,vt(s)}}}function $4(t){let e,n;return e=new Q4({props:{$$slots:{default:[j4]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&135&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}const ep=()=>{};function tp(t,e,n){let{$$slots:r={},$$scope:l}=e,{style:u=void 0}=e,{x:s=void 0}=e,{y:f=void 0}=e;const a=a1(),d=Qr("svelteflow__edge_id"),h=()=>{d&&a(d)};return t.$$set=g=>{"style"in g&&n(0,u=g.style),"x"in g&&n(1,s=g.x),"y"in g&&n(2,f=g.y),"$$scope"in g&&n(7,l=g.$$scope)},[u,s,f,a,d,r,h,l]}class np extends Ie{constructor(e){super(),Te(this,e,tp,$4,Oe,{style:0,x:1,y:2})}}const ip=np;function rp(t){let e;return{c(){e=Xe("path"),M(e,"d",t[1]),M(e,"stroke-opacity",0),M(e,"stroke-width",t[10]),M(e,"fill","none"),M(e,"class","svelte-flow__edge-interaction")},m(n,r){ne(n,e,r)},p(n,r){r&2&&M(e,"d",n[1])},d(n){n&&ee(e)}}}function md(t){let e,n;return e=new ip({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[op]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&8&&(u.x=r[3]),l&16&&(u.y=r[4]),l&32&&(u.style=r[5]),l&4100&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function op(t){let e;return{c(){e=qt(t[2])},m(n,r){ne(n,e,r)},p(n,r){r&4&&Xi(e,n[2])},d(n){n&&ee(e)}}}function lp(t){let e,n,r,l,u,s,f=t[10]&&rp(t),a=t[2]&&md(t);return{c(){e=Xe("path"),r=He(),f&&f.c(),l=He(),a&&a.c(),u=bt(),M(e,"id",t[0]),M(e,"d",t[1]),M(e,"class",n=je(["svelte-flow__edge-path",t[9]])),M(e,"marker-start",t[6]),M(e,"marker-end",t[7]),M(e,"fill","none"),M(e,"style",t[8])},m(d,h){ne(d,e,h),ne(d,r,h),f&&f.m(d,h),ne(d,l,h),a&&a.m(d,h),ne(d,u,h),s=!0},p(d,[h]){(!s||h&1)&&M(e,"id",d[0]),(!s||h&2)&&M(e,"d",d[1]),(!s||h&512&&n!==(n=je(["svelte-flow__edge-path",d[9]])))&&M(e,"class",n),(!s||h&64)&&M(e,"marker-start",d[6]),(!s||h&128)&&M(e,"marker-end",d[7]),(!s||h&256)&&M(e,"style",d[8]),d[10]&&f.p(d,h),d[2]?a?(a.p(d,h),h&4&&J(a,1)):(a=md(d),a.c(),J(a,1),a.m(u.parentNode,u)):a&&(ft(),$(a,1,1,()=>{a=null}),at())},i(d){s||(J(a),s=!0)},o(d){$(a),s=!1},d(d){d&&(ee(e),ee(r),ee(l),ee(u)),f&&f.d(d),a&&a.d(d)}}}function up(t,e,n){let{id:r=void 0}=e,{path:l}=e,{label:u=void 0}=e,{labelX:s=void 0}=e,{labelY:f=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:d=void 0}=e,{markerEnd:h=void 0}=e,{style:g=void 0}=e,{interactionWidth:_=20}=e,{class:y=void 0}=e,b=_===void 0?20:_;return t.$$set=p=>{"id"in p&&n(0,r=p.id),"path"in p&&n(1,l=p.path),"label"in p&&n(2,u=p.label),"labelX"in p&&n(3,s=p.labelX),"labelY"in p&&n(4,f=p.labelY),"labelStyle"in p&&n(5,a=p.labelStyle),"markerStart"in p&&n(6,d=p.markerStart),"markerEnd"in p&&n(7,h=p.markerEnd),"style"in p&&n(8,g=p.style),"interactionWidth"in p&&n(11,_=p.interactionWidth),"class"in p&&n(9,y=p.class)},[r,l,u,s,f,a,d,h,g,y,b,_]}class sp extends Ie{constructor(e){super(),Te(this,e,up,lp,Oe,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const ho=sp;function fp(t){let e,n;return e=new ho({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&256&&(u.path=r[8]),l&128&&(u.labelX=r[7]),l&64&&(u.labelY=r[6]),l&1&&(u.label=r[0]),l&2&&(u.labelStyle=r[1]),l&8&&(u.markerStart=r[3]),l&16&&(u.markerEnd=r[4]),l&32&&(u.interactionWidth=r[5]),l&4&&(u.style=r[2]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function ap(t,e,n){let r,l,u,{id:s=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="default"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:_=void 0}=e,{labelStyle:y=void 0}=e,{data:b=void 0}=e,{style:p=void 0}=e,{markerStart:A=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:O=void 0}=e,{sourceX:E}=e,{sourceY:S}=e,{sourcePosition:N}=e,{sourceHandleId:Y=void 0}=e,{targetX:I}=e,{targetY:H}=e,{targetPosition:L}=e,{targetHandleId:x=void 0}=e;return t.$$set=T=>{"id"in T&&n(9,s=T.id),"source"in T&&n(10,f=T.source),"target"in T&&n(11,a=T.target),"type"in T&&n(12,d=T.type),"animated"in T&&n(13,h=T.animated),"selected"in T&&n(14,g=T.selected),"label"in T&&n(0,_=T.label),"labelStyle"in T&&n(1,y=T.labelStyle),"data"in T&&n(15,b=T.data),"style"in T&&n(2,p=T.style),"markerStart"in T&&n(3,A=T.markerStart),"markerEnd"in T&&n(4,w=T.markerEnd),"interactionWidth"in T&&n(5,O=T.interactionWidth),"sourceX"in T&&n(16,E=T.sourceX),"sourceY"in T&&n(17,S=T.sourceY),"sourcePosition"in T&&n(18,N=T.sourcePosition),"sourceHandleId"in T&&n(19,Y=T.sourceHandleId),"targetX"in T&&n(20,I=T.targetX),"targetY"in T&&n(21,H=T.targetY),"targetPosition"in T&&n(22,L=T.targetPosition),"targetHandleId"in T&&n(23,x=T.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[r,l,u]=Jh({sourceX:E,sourceY:S,targetX:I,targetY:H,sourcePosition:N,targetPosition:L}),r,(n(7,l),n(16,E),n(17,S),n(20,I),n(21,H),n(18,N),n(22,L)),(n(6,u),n(16,E),n(17,S),n(20,I),n(21,H),n(18,N),n(22,L)))},[_,y,p,A,w,O,u,l,r,s,f,a,d,h,g,b,E,S,N,Y,I,H,L,x]}class cp extends Ie{constructor(e){super(),Te(this,e,ap,fp,Oe,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const c1=cp;function dp(t){let e,n;return e=new ho({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&256&&(u.path=r[8]),l&128&&(u.labelX=r[7]),l&64&&(u.labelY=r[6]),l&1&&(u.label=r[0]),l&2&&(u.labelStyle=r[1]),l&8&&(u.markerStart=r[3]),l&16&&(u.markerEnd=r[4]),l&32&&(u.interactionWidth=r[5]),l&4&&(u.style=r[2]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function hp(t,e,n){let r,l,u,{id:s=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="smoothstep"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:_=void 0}=e,{labelStyle:y=void 0}=e,{data:b=void 0}=e,{style:p=void 0}=e,{markerStart:A=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:O=void 0}=e,{sourceX:E}=e,{sourceY:S}=e,{sourcePosition:N}=e,{sourceHandleId:Y=void 0}=e,{targetX:I}=e,{targetY:H}=e,{targetPosition:L}=e,{targetHandleId:x=void 0}=e;return t.$$set=T=>{"id"in T&&n(9,s=T.id),"source"in T&&n(10,f=T.source),"target"in T&&n(11,a=T.target),"type"in T&&n(12,d=T.type),"animated"in T&&n(13,h=T.animated),"selected"in T&&n(14,g=T.selected),"label"in T&&n(0,_=T.label),"labelStyle"in T&&n(1,y=T.labelStyle),"data"in T&&n(15,b=T.data),"style"in T&&n(2,p=T.style),"markerStart"in T&&n(3,A=T.markerStart),"markerEnd"in T&&n(4,w=T.markerEnd),"interactionWidth"in T&&n(5,O=T.interactionWidth),"sourceX"in T&&n(16,E=T.sourceX),"sourceY"in T&&n(17,S=T.sourceY),"sourcePosition"in T&&n(18,N=T.sourcePosition),"sourceHandleId"in T&&n(19,Y=T.sourceHandleId),"targetX"in T&&n(20,I=T.targetX),"targetY"in T&&n(21,H=T.targetY),"targetPosition"in T&&n(22,L=T.targetPosition),"targetHandleId"in T&&n(23,x=T.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[r,l,u]=wr({sourceX:E,sourceY:S,targetX:I,targetY:H,sourcePosition:N,targetPosition:L}),r,(n(7,l),n(16,E),n(17,S),n(20,I),n(21,H),n(18,N),n(22,L)),(n(6,u),n(16,E),n(17,S),n(20,I),n(21,H),n(18,N),n(22,L)))},[_,y,p,A,w,O,u,l,r,s,f,a,d,h,g,b,E,S,N,Y,I,H,L,x]}class gp extends Ie{constructor(e){super(),Te(this,e,hp,dp,Oe,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const mp=gp;function _p(t){let e,n;return e=new ho({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&256&&(u.path=r[8]),l&128&&(u.labelX=r[7]),l&64&&(u.labelY=r[6]),l&1&&(u.label=r[0]),l&2&&(u.labelStyle=r[1]),l&8&&(u.markerStart=r[3]),l&16&&(u.markerEnd=r[4]),l&32&&(u.interactionWidth=r[5]),l&4&&(u.style=r[2]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function yp(t,e,n){let r,l,u,{id:s=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="straight"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:_=void 0}=e,{labelStyle:y=void 0}=e,{data:b=void 0}=e,{style:p=void 0}=e,{markerStart:A=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:O=void 0}=e,{sourceX:E}=e,{sourceY:S}=e,{sourcePosition:N}=e,{sourceHandleId:Y=void 0}=e,{targetX:I}=e,{targetY:H}=e,{targetPosition:L}=e,{targetHandleId:x=void 0}=e;return t.$$set=T=>{"id"in T&&n(9,s=T.id),"source"in T&&n(10,f=T.source),"target"in T&&n(11,a=T.target),"type"in T&&n(12,d=T.type),"animated"in T&&n(13,h=T.animated),"selected"in T&&n(14,g=T.selected),"label"in T&&n(0,_=T.label),"labelStyle"in T&&n(1,y=T.labelStyle),"data"in T&&n(15,b=T.data),"style"in T&&n(2,p=T.style),"markerStart"in T&&n(3,A=T.markerStart),"markerEnd"in T&&n(4,w=T.markerEnd),"interactionWidth"in T&&n(5,O=T.interactionWidth),"sourceX"in T&&n(16,E=T.sourceX),"sourceY"in T&&n(17,S=T.sourceY),"sourcePosition"in T&&n(18,N=T.sourcePosition),"sourceHandleId"in T&&n(19,Y=T.sourceHandleId),"targetX"in T&&n(20,I=T.targetX),"targetY"in T&&n(21,H=T.targetY),"targetPosition"in T&&n(22,L=T.targetPosition),"targetHandleId"in T&&n(23,x=T.targetHandleId)},t.$$.update=()=>{t.$$.dirty&3342336&&n(8,[r,l,u]=jh({sourceX:E,sourceY:S,targetX:I,targetY:H}),r,(n(7,l),n(16,E),n(17,S),n(20,I),n(21,H)),(n(6,u),n(16,E),n(17,S),n(20,I),n(21,H)))},[_,y,p,A,w,O,u,l,r,s,f,a,d,h,g,b,E,S,N,Y,I,H,L,x]}class wp extends Ie{constructor(e){super(),Te(this,e,yp,_p,Oe,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const bp=wp;function vp(t){let e,n;return e=new ho({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&256&&(u.path=r[8]),l&128&&(u.labelX=r[7]),l&64&&(u.labelY=r[6]),l&1&&(u.label=r[0]),l&2&&(u.labelStyle=r[1]),l&8&&(u.markerStart=r[3]),l&16&&(u.markerEnd=r[4]),l&32&&(u.interactionWidth=r[5]),l&4&&(u.style=r[2]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function pp(t,e,n){let r,l,u,{id:s=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="step"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:_=void 0}=e,{data:y=void 0}=e,{labelStyle:b=void 0}=e,{style:p=void 0}=e,{markerStart:A=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:O=void 0}=e,{sourceX:E}=e,{sourceY:S}=e,{sourcePosition:N}=e,{sourceHandleId:Y=void 0}=e,{targetX:I}=e,{targetY:H}=e,{targetPosition:L}=e,{targetHandleId:x=void 0}=e;return t.$$set=T=>{"id"in T&&n(9,s=T.id),"source"in T&&n(10,f=T.source),"target"in T&&n(11,a=T.target),"type"in T&&n(12,d=T.type),"animated"in T&&n(13,h=T.animated),"selected"in T&&n(14,g=T.selected),"label"in T&&n(0,_=T.label),"data"in T&&n(15,y=T.data),"labelStyle"in T&&n(1,b=T.labelStyle),"style"in T&&n(2,p=T.style),"markerStart"in T&&n(3,A=T.markerStart),"markerEnd"in T&&n(4,w=T.markerEnd),"interactionWidth"in T&&n(5,O=T.interactionWidth),"sourceX"in T&&n(16,E=T.sourceX),"sourceY"in T&&n(17,S=T.sourceY),"sourcePosition"in T&&n(18,N=T.sourcePosition),"sourceHandleId"in T&&n(19,Y=T.sourceHandleId),"targetX"in T&&n(20,I=T.targetX),"targetY"in T&&n(21,H=T.targetY),"targetPosition"in T&&n(22,L=T.targetPosition),"targetHandleId"in T&&n(23,x=T.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[r,l,u]=wr({sourceX:E,sourceY:S,targetX:I,targetY:H,sourcePosition:N,targetPosition:L,borderRadius:0}),r,(n(7,l),n(16,E),n(17,S),n(20,I),n(21,H),n(18,N),n(22,L)),(n(6,u),n(16,E),n(17,S),n(20,I),n(21,H),n(18,N),n(22,L)))},[_,b,p,A,w,O,u,l,r,s,f,a,d,h,g,y,E,S,N,Y,I,H,L,x]}class Sp extends Ie{constructor(e){super(),Te(this,e,pp,vp,Oe,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,data:15,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const kp=Sp;function Ep(t,e){const n=t.set,r=e.set,l=ue(t),u=ue(e);let f=l.length===0&&u.length>0?u:l;t.set(f);const a=d=>{const h=n(d);return f=h,r(f),h};t.set=e.set=a,t.update=e.update=d=>a(d(f))}function Cp(t,e){const n=t.set,r=e.set;let l=ue(e);t.set(l);const u=s=>{n(s),r(s),l=s};t.set=e.set=u,t.update=e.update=s=>u(s(l))}const Ap=(t,e,n)=>{if(!n)return;const r=ue(t),l=e.set,u=n.set;let s=n?ue(n):{x:0,y:0,zoom:1};e.set(s),e.set=f=>(l(f),u(f),s=f,f),n.set=f=>(r==null||r.syncViewport(f),l(f),u(f),s=f,f),e.update=f=>{e.set(f(s))},n.update=f=>{n.set(f(s))}},Mp=(t,e)=>{const{subscribe:n,set:r,update:l}=Ae([]);let u=t,s={},f=!0;const a=_=>(u=$h(_,e,{elevateNodesOnSelect:f,defaults:s}),r(u),u),d=_=>a(_(u)),h=_=>{s=_},g=_=>{f=_.elevateNodesOnSelect??f};return a(u),{subscribe:n,set:a,update:d,setDefaultOptions:h,setOptions:g}},Pp=(t,e,n,r)=>{const{subscribe:l,set:u,update:s}=Ae([]);let f=t,a=r||{};const d=_=>{const y=a?_.map(b=>({...a,...b})):_;t1(e,n,y),f=y,u(f)},h=_=>d(_(f)),g=_=>{a=_};return d(f),{subscribe:l,set:d,update:h,setDefaultOptions:g}},d1={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},Tp={[Ve.Left]:Ve.Right,[Ve.Right]:Ve.Left,[Ve.Top]:Ve.Bottom,[Ve.Bottom]:Ve.Top};function Ip(t,e){return hr([e,t.connectionLineType,t.connectionMode,t.nodeLookup,t.viewport],([n,r,l,u,s])=>{var N,Y,I,H,L,x,T,B,W,P,K,X,q;if(!((N=n.connectionStartHandle)!=null&&N.nodeId))return d1;const f=u.get((Y=n.connectionStartHandle)==null?void 0:Y.nodeId),a=(I=f==null?void 0:f[mt])==null?void 0:I.handleBounds,d=(a==null?void 0:a[n.connectionStartHandle.type||"source"])||[],h=d||(a==null?void 0:a[((H=n==null?void 0:n.connectionStartHandle)==null?void 0:H.type)==="source"?"target":"source"]),g=l===Ei.Strict?d:h,_=(L=n.connectionStartHandle)!=null&&L.handleId?g==null?void 0:g.find(G=>{var j;return G.id===((j=n.connectionStartHandle)==null?void 0:j.handleId)}):g==null?void 0:g[0],y=_?_.x+_.width/2:(((x=f==null?void 0:f.computed)==null?void 0:x.width)??0)/2,b=_?_.y+_.height/2:((T=f==null?void 0:f.computed)==null?void 0:T.height)??0,p=(((W=(B=f==null?void 0:f.computed)==null?void 0:B.positionAbsolute)==null?void 0:W.x)??0)+y,A=(((K=(P=f==null?void 0:f.computed)==null?void 0:P.positionAbsolute)==null?void 0:K.y)??0)+b,w=_==null?void 0:_.position,O=w?Tp[w]:void 0,E={sourceX:p,sourceY:A,sourcePosition:w,targetX:((((X=n.connectionPosition)==null?void 0:X.x)??0)-s.x)/s.zoom,targetY:((((q=n.connectionPosition)==null?void 0:q.y)??0)-s.y)/s.zoom,targetPosition:O};let S="";return r===fr.Bezier?[S]=Jh(E):r===fr.Step?[S]=wr({...E,borderRadius:0}):r===fr.SmoothStep?[S]=wr(E):[S]=jh(E),{path:S,...E,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const h1={input:X4,output:K4,default:f1,group:G4},g1={straight:bp,smoothstep:mp,default:c1,step:kp},Op=({nodes:t=[],edges:e=[],width:n,height:r,fitView:l})=>{const u=new Map,s=$h(t,u,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),f=new Map,a=new Map;t1(f,a,e);let d={x:0,y:0,zoom:1};if(l&&n&&r){const h=s.filter(_=>_.width&&_.height||_.initialWidth&&_.initialHeight),g=ao(h,{nodeOrigin:[0,0]});d=rf(g,n,r,.5,2,.1)}return{flowId:Ae(null),nodes:Mp(s,u),nodeLookup:Mn(u),edgeLookup:Mn(a),visibleNodes:Mn([]),edges:Pp(e,f,a),visibleEdges:Mn([]),connectionLookup:Mn(f),height:Ae(500),width:Ae(500),minZoom:Ae(.5),maxZoom:Ae(2),nodeOrigin:Ae([0,0]),nodeDragThreshold:Ae(1),nodeExtent:Ae(Qc),translateExtent:Ae(Qc),autoPanOnNodeDrag:Ae(!0),autoPanOnConnect:Ae(!0),fitViewOnInit:Ae(!1),fitViewOnInitDone:Ae(!1),fitViewOptions:Ae(void 0),panZoom:Ae(null),snapGrid:Ae(null),dragging:Ae(!1),selectionRect:Ae(null),selectionKeyPressed:Ae(!1),multiselectionKeyPressed:Ae(!1),deleteKeyPressed:Ae(!1),panActivationKeyPressed:Ae(!1),zoomActivationKeyPressed:Ae(!1),selectionRectMode:Ae(null),selectionMode:Ae(Tl.Partial),nodeTypes:Ae(h1),edgeTypes:Ae(g1),viewport:Ae(d),connectionMode:Ae(Ei.Strict),domNode:Ae(null),connection:Mn(d1),connectionLineType:Ae(fr.Bezier),connectionRadius:Ae(20),isValidConnection:Ae(()=>!0),nodesDraggable:Ae(!0),nodesConnectable:Ae(!0),elementsSelectable:Ae(!0),selectNodesOnDrag:Ae(!0),markers:Mn([]),defaultMarkerColor:Ae("#b1b1b7"),lib:Mn("svelte"),onlyRenderVisibleElements:Ae(!1),onerror:Ae(F5),ondelete:Ae(void 0),onedgecreate:Ae(void 0),onconnect:Ae(void 0),onconnectstart:Ae(void 0),onconnectend:Ae(void 0),onbeforedelete:Ae(void 0),nodesInitialized:Ae(!1),edgesInitialized:Ae(!1),viewportInitialized:Ae(!1),initialized:Mn(!1)}};function Np(t){const e=hr([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,r,l,u,s,f])=>l&&s&&f?n.filter(d=>{const h=r.get(d.source),g=r.get(d.target);return h&&g&&Z5({sourceNode:h,targetNode:g,width:s,height:f,transform:[u.x,u.y,u.zoom]})}):n);return hr([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,r,l,u])=>n.reduce((f,a)=>{const d=r.get(a.source),h=r.get(a.target);if(!d||!h)return f;const g=n4({id:a.id,sourceNode:d,targetNode:h,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:l,onError:u});return g&&f.push({...a,zIndex:q5({selected:a.selected,zIndex:a.zIndex,sourceNode:d,targetNode:h,elevateOnSelect:!1}),...g}),f},[]))}function Hp(t){return hr([t.nodes,t.onlyRenderVisibleElements,t.width,t.height,t.viewport],([e,n,r,l,u])=>{const s=[u.x,u.y,u.zoom];return n?Kh(e,{x:0,y:0,width:r,height:l},s,!0):e})}const Vl=Symbol();function m1({nodes:t,edges:e,width:n,height:r,fitView:l}){const u=Op({nodes:t,edges:e,width:n,height:r,fitView:l});function s(W){u.nodeTypes.set({...h1,...W})}function f(W){u.edgeTypes.set({...g1,...W})}function a(W){const P=ue(u.edges);u.edges.set(j5(W,P))}const d=(W,P=!1)=>{const K=ue(u.nodeLookup);W.forEach(X=>{var G;const q=K.get(X.id);q&&(q.position=X.position,q.dragging=P,q.computed={...q.computed,positionAbsolute:(G=X.computed)==null?void 0:G.positionAbsolute})}),u.nodes.set(ue(u.nodes))};function h(W){const P=o4(W,ue(u.nodes),ue(u.nodeLookup),ue(u.domNode),ue(u.nodeOrigin));if(P){if(!ue(u.fitViewOnInitDone)&&ue(u.fitViewOnInit)){const K=ue(u.fitViewOptions),X=g(P,{...K,nodes:(K==null?void 0:K.nodes)||P});u.fitViewOnInitDone.set(X)}u.nodes.set(P),ue(u.nodesInitialized)||u.nodesInitialized.set(!0)}}function g(W,P){const K=ue(u.panZoom);return K?D5({nodes:W,width:ue(u.width),height:ue(u.height),minZoom:ue(u.minZoom),maxZoom:ue(u.maxZoom),panZoom:K,nodeOrigin:ue(u.nodeOrigin)},P):!1}function _(W,P){const K=ue(u.panZoom);K&&K.scaleBy(W,P)}function y(W){_(1.2,W)}function b(W){_(1/1.2,W)}function p(W){const P=ue(u.panZoom);P&&(P.setScaleExtent([W,ue(u.maxZoom)]),u.minZoom.set(W))}function A(W){const P=ue(u.panZoom);P&&(P.setScaleExtent([ue(u.minZoom),W]),u.maxZoom.set(W))}function w(W){const P=ue(u.panZoom);P&&(P.setTranslateExtent(W),u.translateExtent.set(W))}function O(W){let P=!1;return W.forEach(K=>{K.selected&&(K.selected=!1,P=!0)}),P}function E(W){O((W==null?void 0:W.nodes)||ue(u.nodes))&&u.nodes.set(ue(u.nodes)),O((W==null?void 0:W.edges)||ue(u.edges))&&u.edges.set(ue(u.edges))}u.deleteKeyPressed.subscribe(async W=>{var P;if(W){const K=ue(u.nodes),X=ue(u.edges),q=K.filter(ae=>ae.selected),G=X.filter(ae=>ae.selected),{nodes:j,edges:fe}=await Uh({nodesToRemove:q,edgesToRemove:G,nodes:K,edges:X,onBeforeDelete:ue(u.onbeforedelete)});(j.length||fe.length)&&(u.nodes.update(ae=>ae.filter(Q=>!j.some(ve=>ve.id===Q.id))),u.edges.update(ae=>ae.filter(Q=>!fe.some(ve=>ve.id===Q.id))),(P=ue(u.ondelete))==null||P({nodes:j,edges:fe}))}});function S(W){const P=ue(u.multiselectionKeyPressed);u.nodes.update(K=>K.map(X=>{const q=W.includes(X.id),G=P&&X.selected||q;return X.selected=G,X})),P||u.edges.update(K=>K.map(X=>(X.selected=!1,X)))}function N(W){const P=ue(u.multiselectionKeyPressed);u.edges.update(K=>K.map(X=>{const q=W.includes(X.id),G=P&&X.selected||q;return X.selected=G,X})),P||u.nodes.update(K=>K.map(X=>(X.selected=!1,X)))}function Y(W){var K;const P=(K=ue(u.nodes))==null?void 0:K.find(X=>X.id===W);if(!P){console.warn("012",fo.error012(W));return}u.selectionRect.set(null),u.selectionRectMode.set(null),P.selected?P.selected&&ue(u.multiselectionKeyPressed)&&E({nodes:[P],edges:[]}):S([W])}function I(W){const P=ue(u.viewport);return l4({delta:W,panZoom:ue(u.panZoom),transform:[P.x,P.y,P.zoom],translateExtent:ue(u.translateExtent),width:ue(u.width),height:ue(u.height)})}const H={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},L=Ae(H),x=W=>{L.set(W)};function T(){x(H)}function B(){u.fitViewOnInitDone.set(!1),u.selectionRect.set(null),u.selectionRectMode.set(null),u.snapGrid.set(null),u.isValidConnection.set(()=>!0),u.nodes.set([]),u.edges.set([]),E(),T()}return{...u,connection:Ip(u,L),visibleEdges:Np(u),visibleNodes:Hp(u),markers:hr([u.edges,u.defaultMarkerColor,u.flowId],([W,P,K])=>i4(W,{defaultColor:P,id:K})),initialized:(()=>{let W=!1;const P=ue(u.nodes).length,K=ue(u.edges).length;return hr([u.nodesInitialized,u.edgesInitialized,u.viewportInitialized],([X,q,G])=>W||(P===0?W=G:K===0?W=G&&X:W=G&&X&&q,W))})(),syncNodeStores:W=>Ep(u.nodes,W),syncEdgeStores:W=>Cp(u.edges,W),syncViewport:W=>Ap(u.panZoom,u.viewport,W),setNodeTypes:s,setEdgeTypes:f,addEdge:a,updateNodePositions:d,updateNodeDimensions:h,zoomIn:y,zoomOut:b,fitView:W=>g(ue(u.nodes),W),setMinZoom:p,setMaxZoom:A,setTranslateExtent:w,unselectNodesAndEdges:E,addSelectedNodes:S,addSelectedEdges:N,handleNodeSelection:Y,panBy:I,updateConnection:x,cancelConnection:T,reset:B}}function ct(){const t=Qr(Vl);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function zp({nodes:t,edges:e,width:n,height:r,fitView:l}){const u=m1({nodes:t,edges:e,width:n,height:r,fitView:l});return Jr(Vl,{getStore:()=>u}),u}function Lp(t,e){const{panZoom:n,minZoom:r,maxZoom:l,initialViewport:u,viewport:s,dragging:f,translateExtent:a}=e,d=S4({domNode:t,minZoom:r,maxZoom:l,translateExtent:a,viewport:u,onTransformChange:g=>s.set({x:g[0],y:g[1],zoom:g[2]}),onDraggingChange:f.set}),h=d.getViewport();return s.set(h),n.set(d),d.update(e),{update(g){d.update(g)}}}function Rp(t){let e,n,r,l,u;const s=t[33].default,f=Wt(s,t,t[32],null);return{c(){e=Ne("div"),f&&f.c(),M(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,d){ne(a,e,d),f&&f.m(e,null),r=!0,l||(u=xt(n=Lp.call(null,e,{viewport:t[17],minZoom:t[11],maxZoom:t[12],initialViewport:t[10],dragging:t[22],panZoom:t[18],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[8],panOnDrag:t[9],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Fn.Free,zoomActivationKeyPressed:t[13],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:t[14],translateExtent:t[15],lib:t[16]})),l=!0)},p(a,d){f&&f.p&&(!r||d[1]&2)&&Xt(f,s,a,a[32],r?Bt(s,a[32],d,null):Yt(a[32]),null),n&&ht(n.update)&&d[0]&131071&&n.update.call(null,{viewport:a[17],minZoom:a[11],maxZoom:a[12],initialViewport:a[10],dragging:a[22],panZoom:a[18],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[8],panOnDrag:a[9],panOnScrollSpeed:.5,panOnScrollMode:a[3]||Fn.Free,zoomActivationKeyPressed:a[13],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:a[14],translateExtent:a[15],lib:a[16]})},i(a){r||(J(f,a),r=!0)},o(a){$(f,a),r=!1},d(a){a&&ee(e),f&&f.d(a),l=!1,u()}}}function Dp(t,e,n){let r,l,u,s,f,a,d,h,g,_,y,{$$slots:b={},$$scope:p}=e,{initialViewport:A}=e,{onMoveStart:w=void 0}=e,{onMove:O=void 0}=e,{onMoveEnd:E=void 0}=e,{panOnScrollMode:S}=e,{preventScrolling:N}=e,{zoomOnScroll:Y}=e,{zoomOnDoubleClick:I}=e,{zoomOnPinch:H}=e,{panOnDrag:L}=e,{panOnScroll:x}=e;const{viewport:T,panZoom:B,selectionKeyPressed:W,minZoom:P,maxZoom:K,dragging:X,translateExtent:q,lib:G,panActivationKeyPressed:j,zoomActivationKeyPressed:fe,viewportInitialized:ae}=ct();return de(t,W,Q=>n(14,g=Q)),de(t,P,Q=>n(11,a=Q)),de(t,K,Q=>n(12,d=Q)),de(t,q,Q=>n(15,_=Q)),de(t,G,Q=>n(16,y=Q)),de(t,j,Q=>n(31,f=Q)),de(t,fe,Q=>n(13,h=Q)),de(t,ae,Q=>n(34,s=Q)),lo(()=>{Nn(ae,s=!0,s)}),t.$$set=Q=>{"initialViewport"in Q&&n(28,A=Q.initialViewport),"onMoveStart"in Q&&n(0,w=Q.onMoveStart),"onMove"in Q&&n(1,O=Q.onMove),"onMoveEnd"in Q&&n(2,E=Q.onMoveEnd),"panOnScrollMode"in Q&&n(3,S=Q.panOnScrollMode),"preventScrolling"in Q&&n(4,N=Q.preventScrolling),"zoomOnScroll"in Q&&n(5,Y=Q.zoomOnScroll),"zoomOnDoubleClick"in Q&&n(6,I=Q.zoomOnDoubleClick),"zoomOnPinch"in Q&&n(7,H=Q.zoomOnPinch),"panOnDrag"in Q&&n(29,L=Q.panOnDrag),"panOnScroll"in Q&&n(30,x=Q.panOnScroll),"$$scope"in Q&&n(32,p=Q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&268435456&&n(10,r=A||{x:0,y:0,zoom:1}),t.$$.dirty[0]&536870912|t.$$.dirty[1]&1&&n(9,l=f||L),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(8,u=f||x)},[w,O,E,S,N,Y,I,H,u,l,r,a,d,h,g,_,y,T,B,W,P,K,X,q,G,j,fe,ae,A,L,x,f,p,b]}class Wp extends Ie{constructor(e){super(),Te(this,e,Dp,Rp,Oe,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}const Bp=Wp;function Xp(t){let e,n,r,l;const u=t[29].default,s=Wt(u,t,t[28],null);return{c(){e=Ne("div"),s&&s.c(),M(e,"class","svelte-flow__pane svelte-1esy7hx"),Be(e,"draggable",t[0]),Be(e,"dragging",t[4]),Be(e,"selection",t[1])},m(f,a){ne(f,e,a),s&&s.m(e,null),t[30](e),n=!0,r||(l=[De(e,"click",function(){ht(t[3]?void 0:hl(t[15],t[2]))&&(t[3]?void 0:hl(t[15],t[2])).apply(this,arguments)}),De(e,"mousedown",function(){ht(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),De(e,"mousemove",function(){ht(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),De(e,"mouseup",function(){ht(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),De(e,"mouseleave",function(){ht(t[3]?t[19]:void 0)&&(t[3]?t[19]:void 0).apply(this,arguments)}),De(e,"contextmenu",function(){ht(hl(t[20],t[2]))&&hl(t[20],t[2]).apply(this,arguments)})],r=!0)},p(f,a){t=f,s&&s.p&&(!n||a[0]&268435456)&&Xt(s,u,t,t[28],n?Bt(u,t[28],a,null):Yt(t[28]),null),(!n||a[0]&1)&&Be(e,"draggable",t[0]),(!n||a[0]&16)&&Be(e,"dragging",t[4]),(!n||a[0]&2)&&Be(e,"selection",t[1])},i(f){n||(J(s,f),n=!0)},o(f){$(s,f),n=!1},d(f){f&&ee(e),s&&s.d(f),t[30](null),r=!1,vt(l)}}}function hl(t,e){return n=>{n.target===e&&(t==null||t(n))}}function _d(t){return e=>{const n=t.includes(e.id);return e.selected!==n?{...e,selected:n}:e}}function Yp(t,e,n){let r,l,u,s,f,a,d,h,g,_,y,b,p,{$$slots:A={},$$scope:w}=e,{panOnDrag:O=void 0}=e,{selectionOnDrag:E=void 0}=e;const S=Ll(),{nodes:N,edges:Y,viewport:I,dragging:H,elementsSelectable:L,selectionRect:x,selectionRectMode:T,selectionKeyPressed:B,selectionMode:W,panActivationKeyPressed:P,unselectNodesAndEdges:K}=ct();de(t,N,R=>n(36,h=R)),de(t,Y,R=>n(33,f=R)),de(t,I,R=>n(35,d=R)),de(t,H,R=>n(4,p=R)),de(t,L,R=>n(25,_=R)),de(t,x,R=>n(24,g=R)),de(t,T,R=>n(23,s=R)),de(t,B,R=>n(26,y=R)),de(t,W,R=>n(34,a=R)),de(t,P,R=>n(27,b=R));let X,q=null,G=[];function j(R){S("paneclick",{event:R}),K(),T.set(null)}function fe(R){if(q=X.getBoundingClientRect(),!L||!l||R.button!==0||R.target!==X||!q)return;const{x:he,y:_e}=ri(R,q);K(),x.set({width:0,height:0,startX:he,startY:_e,x:he,y:_e})}function ae(R){if(!l||!q||!g)return;const he=ri(R,q),_e=g.startX??0,oe=g.startY??0,le={...g,x:he.x<_e?he.x:_e,y:he.y<oe?he.y:oe,width:Math.abs(he.x-_e),height:Math.abs(he.y-oe)},Ye=G.map($e=>$e.id),nt=Ys(G,f).map($e=>$e.id);G=Kh(h,le,[d.x,d.y,d.zoom],a===Tl.Partial,!0);const it=Ys(G,f).map($e=>$e.id),ot=G.map($e=>$e.id);(Ye.length!==ot.length||ot.some($e=>!Ye.includes($e)))&&N.update($e=>$e.map(_d(ot))),(nt.length!==it.length||it.some($e=>!nt.includes($e)))&&Y.update($e=>$e.map(_d(it))),T.set("user"),x.set(le)}function Q(R){R.button===0&&(!l&&s==="user"&&R.target===X&&(j==null||j(R)),x.set(null),G.length>0&&T.set("nodes"))}const ve=()=>{s==="user"&&T.set(G.length>0?"nodes":null),x.set(null)},ke=R=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){R.preventDefault();return}S("panecontextmenu",{event:R})};function Pe(R){Vn[R?"unshift":"push"](()=>{X=R,n(2,X)})}return t.$$set=R=>{"panOnDrag"in R&&n(0,O=R.panOnDrag),"selectionOnDrag"in R&&n(21,E=R.selectionOnDrag),"$$scope"in R&&n(28,w=R.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217729&&n(22,r=b||O),t.$$.dirty[0]&90177536&&n(1,l=y||g||E&&r!==!0),t.$$.dirty[0]&41943042&&n(3,u=_&&(l||s==="user"))},[O,l,X,u,p,N,Y,I,H,L,x,T,B,W,P,j,fe,ae,Q,ve,ke,E,r,s,g,_,y,b,w,A,Pe]}class Fp extends Ie{constructor(e){super(),Te(this,e,Yp,Xp,Oe,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}const Vp=Fp;function Kp(t){let e,n;const r=t[3].default,l=Wt(r,t,t[2],null);return{c(){e=Ne("div"),l&&l.c(),M(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),We(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(u,s){ne(u,e,s),l&&l.m(e,null),n=!0},p(u,[s]){l&&l.p&&(!n||s&4)&&Xt(l,r,u,u[2],n?Bt(r,u[2],s,null):Yt(u[2]),null),(!n||s&1)&&We(e,"transform","translate("+u[0].x+"px, "+u[0].y+"px) scale("+u[0].zoom+")")},i(u){n||(J(l,u),n=!0)},o(u){$(l,u),n=!1},d(u){u&&ee(e),l&&l.d(u)}}}function Up(t,e,n){let r,{$$slots:l={},$$scope:u}=e;const{viewport:s}=ct();return de(t,s,f=>n(0,r=f)),t.$$set=f=>{"$$scope"in f&&n(2,u=f.$$scope)},[r,s,u,l]}class xp extends Ie{constructor(e){super(),Te(this,e,Up,Kp,Oe,{})}}function _1(t,e){const{store:n,onDrag:r,onDragStart:l,onDragStop:u,onNodeMouseDown:s}=e,f=s4({onDrag:r,onDragStart:l,onDragStop:u,onNodeMouseDown:s,getStoreItems:()=>{const d=ue(n.snapGrid),h=ue(n.viewport);return{nodes:ue(n.nodes),nodeLookup:ue(n.nodeLookup),edges:ue(n.edges),nodeExtent:ue(n.nodeExtent),snapGrid:d||[0,0],snapToGrid:!!d,nodeOrigin:[0,0],multiSelectionActive:ue(n.multiselectionKeyPressed),domNode:ue(n.domNode),transform:[h.x,h.y,h.zoom],autoPanOnNodeDrag:ue(n.autoPanOnNodeDrag),nodesDraggable:ue(n.nodesDraggable),selectNodesOnDrag:ue(n.selectNodesOnDrag),nodeDragThreshold:ue(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(d,h){if(h.disabled){f.destroy();return}f.update({domNode:d,noDragClassName:h.noDragClass,handleSelector:h.handleSelector,nodeId:h.nodeId,isSelectable:h.isSelectable})}return a(t,e),{update(d){a(t,d)},destroy(){f.destroy()}}}function Gp({width:t,height:e,initialWidth:n,initialHeight:r,computedWidth:l,computedHeight:u}){if(l===void 0&&u===void 0){const s=t??n,f=e??r;return{width:s?`width:${s}px;`:"",height:f?`height:${f}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function yd(t){let e,n,r,l,u,s=`translate(${t[13]}px, ${t[14]}px)`,f,a,d;var h=t[26];function g(_,y){return{props:{data:_[2],id:_[1],selected:_[3],sourcePosition:_[15],targetPosition:_[16],zIndex:_[17],dragging:_[8],dragHandle:_[20],type:_[24],isConnectable:_[27],positionAbsoluteX:_[11],positionAbsoluteY:_[12],width:_[18],height:_[19]}}}return h&&(n=pl(h,g(t))),{c(){e=Ne("div"),n&&be(n.$$.fragment),M(e,"data-id",t[1]),M(e,"class",r=je(["svelte-flow__node",`svelte-flow__node-${t[24]}`,t[22]])),M(e,"style",l=(t[9]??"")+";"+t[25].width+t[25].height),Be(e,"dragging",t[8]),Be(e,"selected",t[3]),Be(e,"draggable",t[4]),Be(e,"connectable",t[6]),Be(e,"selectable",t[5]),Be(e,"nopan",t[4]),Be(e,"parent",t[10]),We(e,"z-index",t[17]),We(e,"transform",s),We(e,"visibility",t[21]?"visible":"hidden")},m(_,y){ne(_,e,y),n&&ye(n,e,null),t[49](e),f=!0,a||(d=[xt(u=_1.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[20],noDragClass:"nodrag",onNodeMouseDown:t[30],onDrag:t[46],onDragStart:t[47],onDragStop:t[48],store:t[28]})),De(e,"click",t[33]),De(e,"mouseenter",t[50]),De(e,"mouseleave",t[51]),De(e,"mousemove",t[52]),De(e,"contextmenu",t[53])],a=!0)},p(_,y){if(y[0]&67108864&&h!==(h=_[26])){if(n){ft();const p=n;$(p.$$.fragment,1,0,()=>{we(p,1)}),at()}h?(n=pl(h,g(_)),be(n.$$.fragment),J(n.$$.fragment,1),ye(n,e,null)):n=null}else if(h){const p={};y[0]&4&&(p.data=_[2]),y[0]&2&&(p.id=_[1]),y[0]&8&&(p.selected=_[3]),y[0]&32768&&(p.sourcePosition=_[15]),y[0]&65536&&(p.targetPosition=_[16]),y[0]&131072&&(p.zIndex=_[17]),y[0]&256&&(p.dragging=_[8]),y[0]&1048576&&(p.dragHandle=_[20]),y[0]&16777216&&(p.type=_[24]),y[0]&134217728&&(p.isConnectable=_[27]),y[0]&2048&&(p.positionAbsoluteX=_[11]),y[0]&4096&&(p.positionAbsoluteY=_[12]),y[0]&262144&&(p.width=_[18]),y[0]&524288&&(p.height=_[19]),n.$set(p)}(!f||y[0]&2)&&M(e,"data-id",_[1]),(!f||y[0]&20971520&&r!==(r=je(["svelte-flow__node",`svelte-flow__node-${_[24]}`,_[22]])))&&M(e,"class",r),(!f||y[0]&33554944&&l!==(l=(_[9]??"")+";"+_[25].width+_[25].height))&&M(e,"style",l),u&&ht(u.update)&&y[0]&1048610&&u.update.call(null,{nodeId:_[1],isSelectable:_[5],disabled:!1,handleSelector:_[20],noDragClass:"nodrag",onNodeMouseDown:_[30],onDrag:_[46],onDragStart:_[47],onDragStop:_[48],store:_[28]}),(!f||y[0]&20971776)&&Be(e,"dragging",_[8]),(!f||y[0]&20971528)&&Be(e,"selected",_[3]),(!f||y[0]&20971536)&&Be(e,"draggable",_[4]),(!f||y[0]&20971584)&&Be(e,"connectable",_[6]),(!f||y[0]&20971552)&&Be(e,"selectable",_[5]),(!f||y[0]&20971536)&&Be(e,"nopan",_[4]),(!f||y[0]&20972544)&&Be(e,"parent",_[10]);const b=y[0]&33554944;(y[0]&33686016||b)&&We(e,"z-index",_[17]),(y[0]&33579520&&s!==(s=`translate(${_[13]}px, ${_[14]}px)`)||b)&&We(e,"transform",s),(y[0]&35652096||b)&&We(e,"visibility",_[21]?"visible":"hidden")},i(_){f||(n&&J(n.$$.fragment,_),f=!0)},o(_){n&&$(n.$$.fragment,_),f=!1},d(_){_&&ee(e),n&&we(n),t[49](null),a=!1,vt(d)}}}function qp(t){let e,n,r=!t[7]&&yd(t);return{c(){r&&r.c(),e=bt()},m(l,u){r&&r.m(l,u),ne(l,e,u),n=!0},p(l,u){l[7]?r&&(ft(),$(r,1,1,()=>{r=null}),at()):r?(r.p(l,u),u[0]&128&&J(r,1)):(r=yd(l),r.c(),J(r,1),r.m(e.parentNode,e))},i(l){n||(J(r),n=!0)},o(l){$(r),n=!1},d(l){l&&ee(e),r&&r.d(l)}}}function Zp(t,e,n){let r,l,u,s,f,a,{node:d}=e,{id:h}=e,{data:g={}}=e,{selected:_=!1}=e,{draggable:y=void 0}=e,{selectable:b=void 0}=e,{connectable:p=!0}=e,{hidden:A=!1}=e,{dragging:w=!1}=e,{resizeObserver:O=null}=e,{style:E=void 0}=e,{type:S="default"}=e,{isParent:N=!1}=e,{positionX:Y}=e,{positionY:I}=e,{positionOriginX:H}=e,{positionOriginY:L}=e,{sourcePosition:x=void 0}=e,{targetPosition:T=void 0}=e,{zIndex:B}=e,{computedWidth:W=void 0}=e,{computedHeight:P=void 0}=e,{initialWidth:K=void 0}=e,{initialHeight:X=void 0}=e,{width:q=void 0}=e,{height:G=void 0}=e,{dragHandle:j=void 0}=e,{initialized:fe=!1}=e,{class:ae=""}=e;const Q=ct(),{nodeTypes:ve,nodeDragThreshold:ke,selectNodesOnDrag:Pe,handleNodeSelection:R,updateNodeDimensions:he}=Q;de(t,ve,ce=>n(45,f=ce));let _e,oe=null;const le=b1(),Ye=Ae(p);de(t,Ye,ce=>n(27,a=ce));let nt,it,ot;Jr("svelteflow__node_id",h),Jr("svelteflow__node_connectable",Ye),Gs(()=>{oe&&(O==null||O.unobserve(oe))});function $e(ce){b&&(!ue(Pe)||!y||ue(ke)>0)&&R(h),le("nodeclick",{node:d,event:ce})}const Sn=(ce,Mt,It,ge)=>{le("nodedrag",{event:ce,targetNode:It,nodes:ge})},Et=(ce,Mt,It,ge)=>{le("nodedragstart",{event:ce,targetNode:It,nodes:ge})},tn=(ce,Mt,It,ge)=>{le("nodedragstop",{event:ce,targetNode:It,nodes:ge})};function cn(ce){Vn[ce?"unshift":"push"](()=>{_e=ce,n(23,_e)})}const pe=ce=>le("nodemouseenter",{node:d,event:ce}),pt=ce=>le("nodemouseleave",{node:d,event:ce}),Zt=ce=>le("nodemousemove",{node:d,event:ce}),dn=ce=>le("nodecontextmenu",{node:d,event:ce});return t.$$set=ce=>{"node"in ce&&n(0,d=ce.node),"id"in ce&&n(1,h=ce.id),"data"in ce&&n(2,g=ce.data),"selected"in ce&&n(3,_=ce.selected),"draggable"in ce&&n(4,y=ce.draggable),"selectable"in ce&&n(5,b=ce.selectable),"connectable"in ce&&n(6,p=ce.connectable),"hidden"in ce&&n(7,A=ce.hidden),"dragging"in ce&&n(8,w=ce.dragging),"resizeObserver"in ce&&n(34,O=ce.resizeObserver),"style"in ce&&n(9,E=ce.style),"type"in ce&&n(35,S=ce.type),"isParent"in ce&&n(10,N=ce.isParent),"positionX"in ce&&n(11,Y=ce.positionX),"positionY"in ce&&n(12,I=ce.positionY),"positionOriginX"in ce&&n(13,H=ce.positionOriginX),"positionOriginY"in ce&&n(14,L=ce.positionOriginY),"sourcePosition"in ce&&n(15,x=ce.sourcePosition),"targetPosition"in ce&&n(16,T=ce.targetPosition),"zIndex"in ce&&n(17,B=ce.zIndex),"computedWidth"in ce&&n(36,W=ce.computedWidth),"computedHeight"in ce&&n(37,P=ce.computedHeight),"initialWidth"in ce&&n(38,K=ce.initialWidth),"initialHeight"in ce&&n(39,X=ce.initialHeight),"width"in ce&&n(18,q=ce.width),"height"in ce&&n(19,G=ce.height),"dragHandle"in ce&&n(20,j=ce.dragHandle),"initialized"in ce&&n(21,fe=ce.initialized),"class"in ce&&n(22,ae=ce.class)},t.$$.update=()=>{t.$$.dirty[1]&16&&n(24,r=S||"default"),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(44,l=!!f[r]),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(26,u=f[r]||f1),t.$$.dirty[1]&8208&&(l||console.warn("003",fo.error003(S))),t.$$.dirty[0]&786432|t.$$.dirty[1]&480&&n(25,s=Gp({width:q,height:G,initialWidth:K,initialHeight:X,computedWidth:W,computedHeight:P})),t.$$.dirty[0]&64&&Ye.set(!!p),t.$$.dirty[0]&25264130|t.$$.dirty[1]&7168&&((nt&&r!==nt||it&&x!==it||ot&&T!==ot)&&requestAnimationFrame(()=>he(new Map([[h,{id:h,nodeElement:_e,forceUpdate:!0}]]))),n(41,nt=r),n(42,it=x),n(43,ot=T)),t.$$.dirty[0]&8388608|t.$$.dirty[1]&520&&O&&_e!==oe&&(oe&&O.unobserve(oe),_e&&O.observe(_e),n(40,oe=_e))},[d,h,g,_,y,b,p,A,w,E,N,Y,I,H,L,x,T,B,q,G,j,fe,ae,_e,r,s,u,a,Q,ve,R,le,Ye,$e,O,S,W,P,K,X,oe,nt,it,ot,l,f,Sn,Et,tn,cn,pe,pt,Zt,dn]}class Jp extends Ie{constructor(e){super(),Te(this,e,Zp,qp,ch,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:34,style:9,type:35,isParent:10,positionX:11,positionY:12,positionOriginX:13,positionOriginY:14,sourcePosition:15,targetPosition:16,zIndex:17,computedWidth:36,computedHeight:37,initialWidth:38,initialHeight:39,width:18,height:19,dragHandle:20,initialized:21,class:22},null,[-1,-1])}}const Qp=Jp,{Map:jp}=Kw;function wd(t,e,n){var s,f,a,d;const r=t.slice();r[18]=e[n];const l=co(r[18]);r[19]=l;const u=V5({x:((f=(s=r[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:f.x)??0,y:((d=(a=r[18].computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0,...r[19],origin:r[18].origin});return r[20]=u,r}function bd(t,e){var u,s,f,a,d,h,g,_;let n,r,l;return r=new Qp({props:{node:e[18],id:e[18].id,data:e[18].data,selected:!!e[18].selected,hidden:!!e[18].hidden,draggable:!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u"),selectable:!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u"),connectable:!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u"),positionX:((s=(u=e[18].computed)==null?void 0:u.positionAbsolute)==null?void 0:s.x)??0,positionY:((a=(f=e[18].computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0,positionOriginX:e[20].x??0,positionOriginY:e[20].y??0,isParent:!!((d=e[18][mt])!=null&&d.isParent),style:e[18].style,class:e[18].class,type:e[18].type??"default",sourcePosition:e[18].sourcePosition,targetPosition:e[18].targetPosition,dragging:e[18].dragging,zIndex:((h=e[18][mt])==null?void 0:h.z)??0,dragHandle:e[18].dragHandle,initialized:io(e[18]),width:e[18].width,height:e[18].height,initialWidth:e[18].initialWidth,initialHeight:e[18].initialHeight,computedWidth:(g=e[18].computed)==null?void 0:g.width,computedHeight:(_=e[18].computed)==null?void 0:_.height,resizeObserver:e[8]}}),r.$on("nodeclick",e[9]),r.$on("nodemouseenter",e[10]),r.$on("nodemousemove",e[11]),r.$on("nodemouseleave",e[12]),r.$on("nodedrag",e[13]),r.$on("nodedragstart",e[14]),r.$on("nodedragstop",e[15]),r.$on("nodecontextmenu",e[16]),{key:t,first:null,c(){n=bt(),be(r.$$.fragment),this.first=n},m(y,b){ne(y,n,b),ye(r,y,b),l=!0},p(y,b){var A,w,O,E,S,N,Y,I;e=y;const p={};b&1&&(p.node=e[18]),b&1&&(p.id=e[18].id),b&1&&(p.data=e[18].data),b&1&&(p.selected=!!e[18].selected),b&1&&(p.hidden=!!e[18].hidden),b&3&&(p.draggable=!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u")),b&5&&(p.selectable=!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u")),b&9&&(p.connectable=!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u")),b&1&&(p.positionX=((w=(A=e[18].computed)==null?void 0:A.positionAbsolute)==null?void 0:w.x)??0),b&1&&(p.positionY=((E=(O=e[18].computed)==null?void 0:O.positionAbsolute)==null?void 0:E.y)??0),b&1&&(p.positionOriginX=e[20].x??0),b&1&&(p.positionOriginY=e[20].y??0),b&1&&(p.isParent=!!((S=e[18][mt])!=null&&S.isParent)),b&1&&(p.style=e[18].style),b&1&&(p.class=e[18].class),b&1&&(p.type=e[18].type??"default"),b&1&&(p.sourcePosition=e[18].sourcePosition),b&1&&(p.targetPosition=e[18].targetPosition),b&1&&(p.dragging=e[18].dragging),b&1&&(p.zIndex=((N=e[18][mt])==null?void 0:N.z)??0),b&1&&(p.dragHandle=e[18].dragHandle),b&1&&(p.initialized=io(e[18])),b&1&&(p.width=e[18].width),b&1&&(p.height=e[18].height),b&1&&(p.initialWidth=e[18].initialWidth),b&1&&(p.initialHeight=e[18].initialHeight),b&1&&(p.computedWidth=(Y=e[18].computed)==null?void 0:Y.width),b&1&&(p.computedHeight=(I=e[18].computed)==null?void 0:I.height),r.$set(p)},i(y){l||(J(r.$$.fragment,y),l=!0)},o(y){$(r.$$.fragment,y),l=!1},d(y){y&&ee(n),we(r,y)}}}function $p(t){let e,n=[],r=new jp,l,u=kt(t[0]);const s=f=>f[18].id;for(let f=0;f<u.length;f+=1){let a=wd(t,u,f),d=s(a);r.set(d,n[f]=bd(d,a))}return{c(){e=Ne("div");for(let f=0;f<n.length;f+=1)n[f].c();M(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(f,a){ne(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&271&&(u=kt(f[0]),ft(),n=Wi(n,a,s,1,f,u,r,e,Di,bd,null,wd),at())},i(f){if(!l){for(let a=0;a<u.length;a+=1)J(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)$(n[a]);l=!1},d(f){f&&ee(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function e6(t,e,n){let r,l,u,s;const{visibleNodes:f,nodesDraggable:a,nodesConnectable:d,elementsSelectable:h,updateNodeDimensions:g}=ct();de(t,f,N=>n(0,r=N)),de(t,a,N=>n(1,l=N)),de(t,d,N=>n(3,s=N)),de(t,h,N=>n(2,u=N));const _=typeof ResizeObserver>"u"?null:new ResizeObserver(N=>{const Y=new Map;N.forEach(I=>{const H=I.target.getAttribute("data-id");Y.set(H,{id:H,nodeElement:I.target,forceUpdate:!0})}),g(Y)});Gs(()=>{_==null||_.disconnect()});function y(N){tt.call(this,t,N)}function b(N){tt.call(this,t,N)}function p(N){tt.call(this,t,N)}function A(N){tt.call(this,t,N)}function w(N){tt.call(this,t,N)}function O(N){tt.call(this,t,N)}function E(N){tt.call(this,t,N)}function S(N){tt.call(this,t,N)}return[r,l,u,s,f,a,d,h,_,y,b,p,A,w,O,E,S]}class t6 extends Ie{constructor(e){super(),Te(this,e,e6,$p,Oe,{})}}function vd(t){let e,n,r,l,u,s,f,a;var d=t[26];function h(g,_){return{props:{id:g[0],source:g[1],target:g[2],sourceX:g[13],sourceY:g[14],targetX:g[15],targetY:g[16],sourcePosition:g[17],targetPosition:g[18],animated:g[6],selected:g[7],label:g[9],labelStyle:g[10],data:g[3],style:g[4],interactionWidth:g[20],type:g[22],sourceHandleId:g[11],targetHandleId:g[12],markerStart:g[25],markerEnd:g[24]}}}return d&&(r=pl(d,h(t))),{c(){e=Xe("svg"),n=Xe("g"),r&&be(r.$$.fragment),M(n,"class",l=je(["svelte-flow__edge",t[21]])),M(n,"data-id",t[0]),M(n,"aria-label",u=t[19]===null?void 0:t[19]?t[19]:`Edge from ${t[1]} to ${t[2]}`),M(n,"role","img"),Be(n,"animated",t[6]),Be(n,"selected",t[7]),Be(n,"selectable",t[23]),We(e,"z-index",t[5])},m(g,_){ne(g,e,_),Ce(e,n),r&&ye(r,n,null),s=!0,f||(a=[De(n,"click",t[31]),De(n,"contextmenu",t[32])],f=!0)},p(g,_){if(_[0]&67108864&&d!==(d=g[26])){if(r){ft();const y=r;$(y.$$.fragment,1,0,()=>{we(y,1)}),at()}d?(r=pl(d,h(g)),be(r.$$.fragment),J(r.$$.fragment,1),ye(r,n,null)):r=null}else if(d){const y={};_[0]&1&&(y.id=g[0]),_[0]&2&&(y.source=g[1]),_[0]&4&&(y.target=g[2]),_[0]&8192&&(y.sourceX=g[13]),_[0]&16384&&(y.sourceY=g[14]),_[0]&32768&&(y.targetX=g[15]),_[0]&65536&&(y.targetY=g[16]),_[0]&131072&&(y.sourcePosition=g[17]),_[0]&262144&&(y.targetPosition=g[18]),_[0]&64&&(y.animated=g[6]),_[0]&128&&(y.selected=g[7]),_[0]&512&&(y.label=g[9]),_[0]&1024&&(y.labelStyle=g[10]),_[0]&8&&(y.data=g[3]),_[0]&16&&(y.style=g[4]),_[0]&1048576&&(y.interactionWidth=g[20]),_[0]&4194304&&(y.type=g[22]),_[0]&2048&&(y.sourceHandleId=g[11]),_[0]&4096&&(y.targetHandleId=g[12]),_[0]&33554432&&(y.markerStart=g[25]),_[0]&16777216&&(y.markerEnd=g[24]),r.$set(y)}(!s||_[0]&2097152&&l!==(l=je(["svelte-flow__edge",g[21]])))&&M(n,"class",l),(!s||_[0]&1)&&M(n,"data-id",g[0]),(!s||_[0]&524294&&u!==(u=g[19]===null?void 0:g[19]?g[19]:`Edge from ${g[1]} to ${g[2]}`))&&M(n,"aria-label",u),(!s||_[0]&2097216)&&Be(n,"animated",g[6]),(!s||_[0]&2097280)&&Be(n,"selected",g[7]),(!s||_[0]&10485760)&&Be(n,"selectable",g[23]),_[0]&32&&We(e,"z-index",g[5])},i(g){s||(r&&J(r.$$.fragment,g),s=!0)},o(g){r&&$(r.$$.fragment,g),s=!1},d(g){g&&ee(e),r&&we(r),f=!1,vt(a)}}}function n6(t){let e,n,r=!t[8]&&vd(t);return{c(){r&&r.c(),e=bt()},m(l,u){r&&r.m(l,u),ne(l,e,u),n=!0},p(l,u){l[8]?r&&(ft(),$(r,1,1,()=>{r=null}),at()):r?(r.p(l,u),u[0]&256&&J(r,1)):(r=vd(l),r.c(),J(r,1),r.m(e.parentNode,e))},i(l){n||(J(r),n=!0)},o(l){$(r),n=!1},d(l){l&&ee(e),r&&r.d(l)}}}function i6(t,e,n){let r,l,u,s,f,a,d,h,g,{id:_}=e,{type:y="default"}=e,{source:b=""}=e,{target:p=""}=e,{data:A={}}=e,{style:w=void 0}=e,{zIndex:O=void 0}=e,{animated:E=!1}=e,{selected:S=!1}=e,{selectable:N=void 0}=e,{hidden:Y=!1}=e,{label:I=void 0}=e,{labelStyle:H=void 0}=e,{markerStart:L=void 0}=e,{markerEnd:x=void 0}=e,{sourceHandle:T=void 0}=e,{targetHandle:B=void 0}=e,{sourceX:W}=e,{sourceY:P}=e,{targetX:K}=e,{targetY:X}=e,{sourcePosition:q}=e,{targetPosition:G}=e,{ariaLabel:j=void 0}=e,{interactionWidth:fe=void 0}=e,{class:ae=""}=e;Jr("svelteflow__edge_id",_);const{edgeLookup:Q,edgeTypes:ve,flowId:ke,elementsSelectable:Pe}=ct();de(t,Q,le=>n(40,a=le)),de(t,ve,le=>n(39,g=le)),de(t,ke,le=>n(38,h=le)),de(t,Pe,le=>n(37,d=le));const R=Ll(),he=a1();function _e(le){const Ye=a.get(_);Ye&&(he(_),R("edgeclick",{event:le,edge:Ye}))}function oe(le){const Ye=a.get(_);Ye&&R("edgecontextmenu",{event:le,edge:Ye})}return t.$$set=le=>{"id"in le&&n(0,_=le.id),"type"in le&&n(33,y=le.type),"source"in le&&n(1,b=le.source),"target"in le&&n(2,p=le.target),"data"in le&&n(3,A=le.data),"style"in le&&n(4,w=le.style),"zIndex"in le&&n(5,O=le.zIndex),"animated"in le&&n(6,E=le.animated),"selected"in le&&n(7,S=le.selected),"selectable"in le&&n(34,N=le.selectable),"hidden"in le&&n(8,Y=le.hidden),"label"in le&&n(9,I=le.label),"labelStyle"in le&&n(10,H=le.labelStyle),"markerStart"in le&&n(35,L=le.markerStart),"markerEnd"in le&&n(36,x=le.markerEnd),"sourceHandle"in le&&n(11,T=le.sourceHandle),"targetHandle"in le&&n(12,B=le.targetHandle),"sourceX"in le&&n(13,W=le.sourceX),"sourceY"in le&&n(14,P=le.sourceY),"targetX"in le&&n(15,K=le.targetX),"targetY"in le&&n(16,X=le.targetY),"sourcePosition"in le&&n(17,q=le.sourcePosition),"targetPosition"in le&&n(18,G=le.targetPosition),"ariaLabel"in le&&n(19,j=le.ariaLabel),"interactionWidth"in le&&n(20,fe=le.interactionWidth),"class"in le&&n(21,ae=le.class)},t.$$.update=()=>{t.$$.dirty[1]&4&&n(22,r=y||"default"),t.$$.dirty[0]&4194304|t.$$.dirty[1]&256&&n(26,l=g[r]||c1),t.$$.dirty[1]&144&&n(25,u=L?`url(#${Vs(L,h)})`:void 0),t.$$.dirty[1]&160&&n(24,s=x?`url(#${Vs(x,h)})`:void 0),t.$$.dirty[1]&72&&n(23,f=N||d&&typeof N>"u")},[_,b,p,A,w,O,E,S,Y,I,H,T,B,W,P,K,X,q,G,j,fe,ae,r,f,s,u,l,Q,ve,ke,Pe,_e,oe,y,N,L,x,d,h,g]}class r6 extends Ie{constructor(e){super(),Te(this,e,i6,n6,ch,{id:0,type:33,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:34,hidden:8,label:9,labelStyle:10,markerStart:35,markerEnd:36,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}const o6=r6;function l6(t,e,n){let{onMount:r=void 0}=e,{onDestroy:l=void 0}=e;return lo(()=>(r==null||r(),l)),t.$$set=u=>{"onMount"in u&&n(0,r=u.onMount),"onDestroy"in u&&n(1,l=u.onDestroy)},[r,l]}class u6 extends Ie{constructor(e){super(),Te(this,e,l6,null,Oe,{onMount:0,onDestroy:1})}}const s6=u6;function pd(t,e,n){const r=t.slice();return r[2]=e[n],r}function Sd(t,e){let n,r,l;const u=[e[2]];let s={};for(let f=0;f<u.length;f+=1)s=Ft(s,u[f]);return r=new _6({props:s}),{key:t,first:null,c(){n=bt(),be(r.$$.fragment),this.first=n},m(f,a){ne(f,n,a),ye(r,f,a),l=!0},p(f,a){e=f;const d=a&1?li(u,[dr(e[2])]):{};r.$set(d)},i(f){l||(J(r.$$.fragment,f),l=!0)},o(f){$(r.$$.fragment,f),l=!1},d(f){f&&ee(n),we(r,f)}}}function f6(t){let e,n=[],r=new Map,l,u=kt(t[0]);const s=f=>f[2].id;for(let f=0;f<u.length;f+=1){let a=pd(t,u,f),d=s(a);r.set(d,n[f]=Sd(d,a))}return{c(){e=Xe("defs");for(let f=0;f<n.length;f+=1)n[f].c()},m(f,a){ne(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&1&&(u=kt(f[0]),ft(),n=Wi(n,a,s,1,f,u,r,e,Di,Sd,null,pd),at())},i(f){if(!l){for(let a=0;a<u.length;a+=1)J(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)$(n[a]);l=!1},d(f){f&&ee(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function a6(t,e,n){let r;const{markers:l}=ct();return de(t,l,u=>n(0,r=u)),[r,l]}class c6 extends Ie{constructor(e){super(),Te(this,e,a6,f6,Oe,{})}}function d6(t){let e;return{c(){e=Xe("polyline"),M(e,"stroke",t[6]),M(e,"stroke-linecap","round"),M(e,"stroke-linejoin","round"),M(e,"stroke-width",t[7]),M(e,"fill",t[6]),M(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,r){ne(n,e,r)},p(n,r){r&64&&M(e,"stroke",n[6]),r&128&&M(e,"stroke-width",n[7]),r&64&&M(e,"fill",n[6])},d(n){n&&ee(e)}}}function h6(t){let e;return{c(){e=Xe("polyline"),M(e,"stroke",t[6]),M(e,"stroke-linecap","round"),M(e,"stroke-linejoin","round"),M(e,"stroke-width",t[7]),M(e,"fill","none"),M(e,"points","-5,-4 0,0 -5,4")},m(n,r){ne(n,e,r)},p(n,r){r&64&&M(e,"stroke",n[6]),r&128&&M(e,"stroke-width",n[7])},d(n){n&&ee(e)}}}function g6(t){let e,n,r;function l(f,a){if(f[1]===_r.Arrow)return h6;if(f[1]===_r.ArrowClosed)return d6}let u=l(t),s=u&&u(t);return{c(){e=Xe("marker"),s&&s.c(),M(e,"class","svelte-flow__arrowhead"),M(e,"id",t[0]),M(e,"markerWidth",n=`${t[2]}`),M(e,"markerHeight",r=`${t[3]}`),M(e,"viewBox","-10 -10 20 20"),M(e,"markerUnits",t[4]),M(e,"orient",t[5]),M(e,"refX","0"),M(e,"refY","0")},m(f,a){ne(f,e,a),s&&s.m(e,null)},p(f,[a]){u===(u=l(f))&&s?s.p(f,a):(s&&s.d(1),s=u&&u(f),s&&(s.c(),s.m(e,null))),a&1&&M(e,"id",f[0]),a&4&&n!==(n=`${f[2]}`)&&M(e,"markerWidth",n),a&8&&r!==(r=`${f[3]}`)&&M(e,"markerHeight",r),a&16&&M(e,"markerUnits",f[4]),a&32&&M(e,"orient",f[5])},i:Me,o:Me,d(f){f&&ee(e),s&&s.d()}}}function m6(t,e,n){let{id:r}=e,{type:l}=e,{width:u=12.5}=e,{height:s=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(0,r=g.id),"type"in g&&n(1,l=g.type),"width"in g&&n(2,u=g.width),"height"in g&&n(3,s=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(6,d=g.color),"strokeWidth"in g&&n(7,h=g.strokeWidth)},[r,l,u,s,f,a,d,h]}class _6 extends Ie{constructor(e){super(),Te(this,e,m6,g6,Oe,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function kd(t,e,n){const r=t.slice();return r[10]=e[n],r}function Ed(t,e){let n,r,l;return r=new o6({props:{id:e[10].id,source:e[10].source,target:e[10].target,data:e[10].data,style:e[10].style,animated:e[10].animated,selected:e[10].selected,selectable:e[10].selectable,hidden:e[10].hidden,label:e[10].label,labelStyle:e[10].labelStyle,markerStart:e[10].markerStart,markerEnd:e[10].markerEnd,sourceHandle:e[10].sourceHandle,targetHandle:e[10].targetHandle,sourceX:e[10].sourceX,sourceY:e[10].sourceY,targetX:e[10].targetX,targetY:e[10].targetY,sourcePosition:e[10].sourcePosition,targetPosition:e[10].targetPosition,ariaLabel:e[10].ariaLabel,interactionWidth:e[10].interactionWidth,class:e[10].class,type:e[10].type||"default",zIndex:e[10].zIndex}}),r.$on("edgeclick",e[5]),r.$on("edgecontextmenu",e[6]),{key:t,first:null,c(){n=bt(),be(r.$$.fragment),this.first=n},m(u,s){ne(u,n,s),ye(r,u,s),l=!0},p(u,s){e=u;const f={};s&1&&(f.id=e[10].id),s&1&&(f.source=e[10].source),s&1&&(f.target=e[10].target),s&1&&(f.data=e[10].data),s&1&&(f.style=e[10].style),s&1&&(f.animated=e[10].animated),s&1&&(f.selected=e[10].selected),s&1&&(f.selectable=e[10].selectable),s&1&&(f.hidden=e[10].hidden),s&1&&(f.label=e[10].label),s&1&&(f.labelStyle=e[10].labelStyle),s&1&&(f.markerStart=e[10].markerStart),s&1&&(f.markerEnd=e[10].markerEnd),s&1&&(f.sourceHandle=e[10].sourceHandle),s&1&&(f.targetHandle=e[10].targetHandle),s&1&&(f.sourceX=e[10].sourceX),s&1&&(f.sourceY=e[10].sourceY),s&1&&(f.targetX=e[10].targetX),s&1&&(f.targetY=e[10].targetY),s&1&&(f.sourcePosition=e[10].sourcePosition),s&1&&(f.targetPosition=e[10].targetPosition),s&1&&(f.ariaLabel=e[10].ariaLabel),s&1&&(f.interactionWidth=e[10].interactionWidth),s&1&&(f.class=e[10].class),s&1&&(f.type=e[10].type||"default"),s&1&&(f.zIndex=e[10].zIndex),r.$set(f)},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){$(r.$$.fragment,u),l=!1},d(u){u&&ee(n),we(r,u)}}}function Cd(t){let e,n;return e=new s6({props:{onMount:t[7],onDestroy:t[8]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&2&&(u.onMount=r[7]),l&2&&(u.onDestroy=r[8]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function y6(t){let e,n,r,l,u=[],s=new Map,f,a;r=new c6({});let d=kt(t[0]);const h=_=>_[10].id;for(let _=0;_<d.length;_+=1){let y=kd(t,d,_),b=h(y);s.set(b,u[_]=Ed(b,y))}let g=t[0].length>0&&Cd(t);return{c(){e=Ne("div"),n=Xe("svg"),be(r.$$.fragment),l=He();for(let _=0;_<u.length;_+=1)u[_].c();f=He(),g&&g.c(),M(n,"class","svelte-flow__marker"),M(e,"class","svelte-flow__edges")},m(_,y){ne(_,e,y),Ce(e,n),ye(r,n,null),Ce(e,l);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(e,null);Ce(e,f),g&&g.m(e,null),a=!0},p(_,[y]){y&1&&(d=kt(_[0]),ft(),u=Wi(u,y,h,1,_,d,s,e,Di,Ed,f,kd),at()),_[0].length>0?g?(g.p(_,y),y&1&&J(g,1)):(g=Cd(_),g.c(),J(g,1),g.m(e,null)):g&&(ft(),$(g,1,1,()=>{g=null}),at())},i(_){if(!a){J(r.$$.fragment,_);for(let y=0;y<d.length;y+=1)J(u[y]);J(g),a=!0}},o(_){$(r.$$.fragment,_);for(let y=0;y<u.length;y+=1)$(u[y]);$(g),a=!1},d(_){_&&ee(e),we(r);for(let y=0;y<u.length;y+=1)u[y].d();g&&g.d()}}}function w6(t,e,n){let r,l,{defaultEdgeOptions:u}=e;const{visibleEdges:s,edgesInitialized:f,edges:{setDefaultOptions:a}}=ct();de(t,s,y=>n(0,r=y)),de(t,f,y=>n(1,l=y)),lo(()=>{u&&a(u)});function d(y){tt.call(this,t,y)}function h(y){tt.call(this,t,y)}const g=()=>{Nn(f,l=!0,l)},_=()=>{Nn(f,l=!1,l)};return t.$$set=y=>{"defaultEdgeOptions"in y&&n(4,u=y.defaultEdgeOptions)},[r,l,s,f,u,d,h,g,_]}class b6 extends Ie{constructor(e){super(),Te(this,e,w6,y6,Oe,{defaultEdgeOptions:4})}}const v6=b6;function Ad(t){let e;return{c(){e=Ne("div"),M(e,"class","svelte-flow__selection svelte-1iugwpu"),We(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),We(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),We(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,r){ne(n,e,r)},p(n,r){r&4&&We(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),r&8&&We(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),r&3&&We(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&ee(e)}}}function p6(t){let e,n=t[4]&&Ad(t);return{c(){n&&n.c(),e=bt()},m(r,l){n&&n.m(r,l),ne(r,e,l)},p(r,[l]){r[4]?n?n.p(r,l):(n=Ad(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Me,o:Me,d(r){r&&ee(e),n&&n.d(r)}}}function S6(t,e,n){let{x:r=0}=e,{y:l=0}=e,{width:u=0}=e,{height:s=0}=e,{isVisible:f=!0}=e;return t.$$set=a=>{"x"in a&&n(0,r=a.x),"y"in a&&n(1,l=a.y),"width"in a&&n(2,u=a.width),"height"in a&&n(3,s=a.height),"isVisible"in a&&n(4,f=a.isVisible)},[r,l,u,s,f]}class k6 extends Ie{constructor(e){super(),Te(this,e,S6,p6,Oe,{x:0,y:1,width:2,height:3,isVisible:4})}}const y1=k6;function E6(t){var r,l,u,s;let e,n;return e=new y1({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(r=t[0])==null?void 0:r.width,height:(l=t[0])==null?void 0:l.height,x:(u=t[0])==null?void 0:u.x,y:(s=t[0])==null?void 0:s.y}}),{c(){be(e.$$.fragment)},m(f,a){ye(e,f,a),n=!0},p(f,[a]){var h,g,_,y;const d={};a&3&&(d.isVisible=!!(f[0]&&f[1]==="user")),a&1&&(d.width=(h=f[0])==null?void 0:h.width),a&1&&(d.height=(g=f[0])==null?void 0:g.height),a&1&&(d.x=(_=f[0])==null?void 0:_.x),a&1&&(d.y=(y=f[0])==null?void 0:y.y),e.$set(d)},i(f){n||(J(e.$$.fragment,f),n=!0)},o(f){$(e.$$.fragment,f),n=!1},d(f){we(e,f)}}}function C6(t,e,n){let r,l;const{selectionRect:u,selectionRectMode:s}=ct();return de(t,u,f=>n(0,r=f)),de(t,s,f=>n(1,l=f)),[r,l,u,s]}class A6 extends Ie{constructor(e){super(),Te(this,e,C6,E6,Oe,{})}}function Md(t){let e,n,r,l,u;return n=new y1({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Ne("div"),be(n.$$.fragment),M(e,"class","selection-wrapper nopan svelte-5pxri"),We(e,"width",t[1].width+"px"),We(e,"height",t[1].height+"px"),We(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),M(e,"role","button"),M(e,"tabindex","-1")},m(s,f){ne(s,e,f),ye(n,e,null),r=!0,l||(u=[xt(_1.call(null,e,{disabled:!1,store:t[3],onDrag:t[10],onDragStart:t[11],onDragStop:t[12]})),De(e,"contextmenu",t[7]),De(e,"click",t[8]),De(e,"keyup",P6)],l=!0)},p(s,f){(!r||f&2)&&We(e,"width",s[1].width+"px"),(!r||f&2)&&We(e,"height",s[1].height+"px"),(!r||f&2)&&We(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){r||(J(n.$$.fragment,s),r=!0)},o(s){$(n.$$.fragment,s),r=!1},d(s){s&&ee(e),we(n),l=!1,vt(u)}}}function M6(t){let e,n,r=t[0]&&t[2]==="nodes"&&Md(t);return{c(){r&&r.c(),e=bt()},m(l,u){r&&r.m(l,u),ne(l,e,u),n=!0},p(l,[u]){l[0]&&l[2]==="nodes"?r?(r.p(l,u),u&5&&J(r,1)):(r=Md(l),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(ft(),$(r,1,1,()=>{r=null}),at())},i(l){n||(J(r),n=!0)},o(l){$(r),n=!1},d(l){l&&ee(e),r&&r.d(l)}}}const P6=()=>{};function T6(t,e,n){let r,l,u,s;const f=ct(),{selectionRectMode:a,nodes:d}=f;de(t,a,w=>n(2,s=w)),de(t,d,w=>n(9,u=w));const h=Ll(),g=b1();function _(w){h("selectioncontextmenu",{nodes:r,event:w})}function y(w){h("selectionclick",{nodes:r,event:w})}const b=(w,O,E,S)=>{g("nodedrag",{event:w,targetNode:null,nodes:S})},p=(w,O,E,S)=>{g("nodedragstart",{event:w,targetNode:null,nodes:S})},A=(w,O,E,S)=>{g("nodedragstop",{event:w,targetNode:null,nodes:S})};return t.$$.update=()=>{t.$$.dirty&512&&n(0,r=u.filter(w=>w.selected)),t.$$.dirty&1&&n(1,l=ao(r))},[r,l,s,f,a,d,g,_,y,u,b,p,A]}class I6 extends Ie{constructor(e){super(),Te(this,e,T6,M6,Oe,{})}}function Xn(t,e){let{enabled:n=!0,trigger:r,type:l="keydown"}=e;function u(s){const f=Array.isArray(r)?r:[r],a={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const d of f){const h={modifier:[],preventDefault:!1,enabled:!0,...d},{modifier:g,key:_,callback:y,preventDefault:b,enabled:p}=h;if(p){if(g.length&&!(Array.isArray(g)?g:[g]).map(O=>typeof O=="string"?[O]:O).some(O=>O.every(E=>a[E])))continue;if(s.key===_){b&&s.preventDefault();const A={node:t,trigger:h,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:A})),y==null||y(A)}}}}return n&&t.addEventListener(l,u),{update:s=>{const{enabled:f=!0,type:a="keydown"}=s;n&&(!f||l!==a)?t.removeEventListener(l,u):!n&&f&&t.addEventListener(a,u),n=f,l=a,r=s.trigger},destroy:()=>{t.removeEventListener(l,u)}}}function O6(t){let e,n,r,l,u,s,f,a,d,h,g,_;return{c:Me,m(y,b){g||(_=[xt(e=Xn.call(null,window,{trigger:St(t[0],t[11]),type:"keydown"})),xt(n=Xn.call(null,window,{trigger:St(t[0],t[12]),type:"keyup"})),xt(r=Xn.call(null,window,{trigger:St(t[1],t[13]),type:"keydown"})),xt(l=Xn.call(null,window,{trigger:St(t[1],t[14]),type:"keyup"})),xt(u=Xn.call(null,window,{trigger:St(t[2],t[15]),type:"keydown"})),xt(s=Xn.call(null,window,{trigger:St(t[2],t[16]),type:"keyup"})),xt(f=Xn.call(null,window,{trigger:St(t[3],t[17]),type:"keydown"})),xt(a=Xn.call(null,window,{trigger:St(t[3],t[18]),type:"keyup"})),xt(d=Xn.call(null,window,{trigger:St(t[4],t[19]),type:"keydown"})),xt(h=Xn.call(null,window,{trigger:St(t[4],t[20]),type:"keyup"})),De(window,"blur",t[10]),De(window,"contextmenu",t[10])],g=!0)},p(y,[b]){e&&ht(e.update)&&b&1&&e.update.call(null,{trigger:St(y[0],y[11]),type:"keydown"}),n&&ht(n.update)&&b&1&&n.update.call(null,{trigger:St(y[0],y[12]),type:"keyup"}),r&&ht(r.update)&&b&2&&r.update.call(null,{trigger:St(y[1],y[13]),type:"keydown"}),l&&ht(l.update)&&b&2&&l.update.call(null,{trigger:St(y[1],y[14]),type:"keyup"}),u&&ht(u.update)&&b&4&&u.update.call(null,{trigger:St(y[2],y[15]),type:"keydown"}),s&&ht(s.update)&&b&4&&s.update.call(null,{trigger:St(y[2],y[16]),type:"keyup"}),f&&ht(f.update)&&b&8&&f.update.call(null,{trigger:St(y[3],y[17]),type:"keydown"}),a&&ht(a.update)&&b&8&&a.update.call(null,{trigger:St(y[3],y[18]),type:"keyup"}),d&&ht(d.update)&&b&16&&d.update.call(null,{trigger:St(y[4],y[19]),type:"keydown"}),h&&ht(h.update)&&b&16&&h.update.call(null,{trigger:St(y[4],y[20]),type:"keyup"})},i:Me,o:Me,d(y){g=!1,vt(_)}}}function w1(t){return t!==null&&typeof t=="object"}function N6(t){return w1(t)?t.modifier||[]:[]}function H6(t){return t==null?"":w1(t)?t.key:t}function St(t,e){return(Array.isArray(t)?t:[t]).map(r=>{const l=H6(r);return{key:l,modifier:N6(r),enabled:l!==null,callback:e}})}function z6(t,e,n){let{selectionKey:r="Shift"}=e,{multiSelectionKey:l=Nl()?"Meta":"Control"}=e,{deleteKey:u="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:f=Nl()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:d,deleteKeyPressed:h,panActivationKeyPressed:g,zoomActivationKeyPressed:_,selectionRect:y}=ct();function b(){y.set(null),a.set(!1),d.set(!1),h.set(!1),g.set(!1),_.set(!1)}const p=()=>a.set(!0),A=()=>a.set(!1),w=()=>d.set(!0),O=()=>d.set(!1),E=L=>{!(L.originalEvent.ctrlKey||L.originalEvent.metaKey||L.originalEvent.shiftKey)&&!x5(L.originalEvent)&&h.set(!0)},S=()=>h.set(!1),N=()=>g.set(!0),Y=()=>g.set(!1),I=()=>_.set(!0),H=()=>_.set(!1);return t.$$set=L=>{"selectionKey"in L&&n(0,r=L.selectionKey),"multiSelectionKey"in L&&n(1,l=L.multiSelectionKey),"deleteKey"in L&&n(2,u=L.deleteKey),"panActivationKey"in L&&n(3,s=L.panActivationKey),"zoomActivationKey"in L&&n(4,f=L.zoomActivationKey)},[r,l,u,s,f,a,d,h,g,_,b,p,A,w,O,E,S,N,Y,I,H]}class L6 extends Ie{constructor(e){super(),Te(this,e,z6,O6,Oe,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const R6=L6,D6=t=>({}),Pd=t=>({});function Td(t){let e,n,r,l;const u=t[10].connectionLine,s=Wt(u,t,t[9],Pd);let f=!t[2]&&Id(t);return{c(){e=Xe("svg"),n=Xe("g"),s&&s.c(),f&&f.c(),M(n,"class",r=je(["svelte-flow__connection",t[3].status])),M(e,"width",t[4]),M(e,"height",t[5]),M(e,"class","svelte-flow__connectionline"),M(e,"style",t[0])},m(a,d){ne(a,e,d),Ce(e,n),s&&s.m(n,null),f&&f.m(n,null),l=!0},p(a,d){s&&s.p&&(!l||d&512)&&Xt(s,u,a,a[9],l?Bt(u,a[9],d,D6):Yt(a[9]),Pd),a[2]?f&&(f.d(1),f=null):f?f.p(a,d):(f=Id(a),f.c(),f.m(n,null)),(!l||d&8&&r!==(r=je(["svelte-flow__connection",a[3].status])))&&M(n,"class",r),(!l||d&16)&&M(e,"width",a[4]),(!l||d&32)&&M(e,"height",a[5]),(!l||d&1)&&M(e,"style",a[0])},i(a){l||(J(s,a),l=!0)},o(a){$(s,a),l=!1},d(a){a&&ee(e),s&&s.d(a),f&&f.d()}}}function Id(t){let e,n;return{c(){e=Xe("path"),M(e,"d",n=t[3].path),M(e,"style",t[1]),M(e,"fill","none"),M(e,"class","svelte-flow__connection-path")},m(r,l){ne(r,e,l)},p(r,l){l&8&&n!==(n=r[3].path)&&M(e,"d",n),l&2&&M(e,"style",r[1])},d(r){r&&ee(e)}}}function W6(t){let e,n,r=t[3].path&&Td(t);return{c(){r&&r.c(),e=bt()},m(l,u){r&&r.m(l,u),ne(l,e,u),n=!0},p(l,[u]){l[3].path?r?(r.p(l,u),u&8&&J(r,1)):(r=Td(l),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(ft(),$(r,1,1,()=>{r=null}),at())},i(l){n||(J(r),n=!0)},o(l){$(r),n=!1},d(l){l&&ee(e),r&&r.d(l)}}}function B6(t,e,n){let r,l,u,{$$slots:s={},$$scope:f}=e,{containerStyle:a=""}=e,{style:d=""}=e,{isCustomComponent:h=!1}=e;const{width:g,height:_,connection:y}=ct();return de(t,g,b=>n(4,l=b)),de(t,_,b=>n(5,u=b)),de(t,y,b=>n(3,r=b)),t.$$set=b=>{"containerStyle"in b&&n(0,a=b.containerStyle),"style"in b&&n(1,d=b.style),"isCustomComponent"in b&&n(2,h=b.isCustomComponent),"$$scope"in b&&n(9,f=b.$$scope)},[a,d,h,r,l,u,g,_,y,f,s]}let X6=class extends Ie{constructor(e){super(),Te(this,e,B6,W6,Oe,{containerStyle:0,style:1,isCustomComponent:2})}};const Y6=X6;function F6(t){let e,n,r;const l=t[6].default,u=Wt(l,t,t[5],null);let s=[{class:n=je(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[3]],f={};for(let a=0;a<s.length;a+=1)f=Ft(f,s[a]);return{c(){e=Ne("div"),u&&u.c(),cr(e,f)},m(a,d){ne(a,e,d),u&&u.m(e,null),r=!0},p(a,[d]){u&&u.p&&(!r||d&32)&&Xt(u,l,a,a[5],r?Bt(l,a[5],d,null):Yt(a[5]),null),cr(e,f=li(s,[(!r||d&6&&n!==(n=je(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!r||d&1)&&{style:a[0]},d&8&&a[3]]))},i(a){r||(J(u,a),r=!0)},o(a){$(u,a),r=!1},d(a){a&&ee(e),u&&u.d(a)}}}function V6(t,e,n){let r;const l=["position","style","class"];let u=ar(e,l),{$$slots:s={},$$scope:f}=e,{position:a="top-right"}=e,{style:d=void 0}=e,{class:h=void 0}=e;return t.$$set=g=>{e=Ft(Ft({},e),xs(g)),n(3,u=ar(e,l)),"position"in g&&n(4,a=g.position),"style"in g&&n(0,d=g.style),"class"in g&&n(1,h=g.class),"$$scope"in g&&n(5,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(2,r=`${a}`.split("-"))},[d,h,r,u,a,f,s]}class oo extends Ie{constructor(e){super(),Te(this,e,V6,F6,Oe,{position:4,style:0,class:1})}}function Od(t){let e,n;return e=new oo({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[K6]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&2&&(u.position=r[1]),l&4&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function K6(t){let e;return{c(){e=Ne("a"),e.textContent="Svelte Flow",M(e,"href","https://svelteflow.dev"),M(e,"target","_blank"),M(e,"rel","noopener noreferrer"),M(e,"aria-label","Svelte Flow attribution")},m(n,r){ne(n,e,r)},p:Me,d(n){n&&ee(e)}}}function U6(t){var l;let e,n,r=!((l=t[0])!=null&&l.hideAttribution)&&Od(t);return{c(){r&&r.c(),e=bt()},m(u,s){r&&r.m(u,s),ne(u,e,s),n=!0},p(u,[s]){var f;(f=u[0])!=null&&f.hideAttribution?r&&(ft(),$(r,1,1,()=>{r=null}),at()):r?(r.p(u,s),s&1&&J(r,1)):(r=Od(u),r.c(),J(r,1),r.m(e.parentNode,e))},i(u){n||(J(r),n=!0)},o(u){$(r),n=!1},d(u){u&&ee(e),r&&r.d(u)}}}function x6(t,e,n){let{proOptions:r=void 0}=e,{position:l="bottom-right"}=e;return t.$$set=u=>{"proOptions"in u&&n(0,r=u.proOptions),"position"in u&&n(1,l=u.position)},[r,l]}class G6 extends Ie{constructor(e){super(),Te(this,e,x6,U6,Oe,{proOptions:0,position:1})}}const q6=G6;function Nd(t,{nodeTypes:e,edgeTypes:n,minZoom:r,maxZoom:l,translateExtent:u}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),r!==void 0&&t.setMinZoom(r),l!==void 0&&t.setMaxZoom(l),u!==void 0&&t.setTranslateExtent(u)}const Z6=t=>Object.keys(t);function J6(t,e){Z6(e).forEach(n=>{const r=e[n];r!==void 0&&t[n].set(r)})}function Q6(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function j6(t="light"){return Mn("light",n=>{if(t!=="system"){n(t);return}const r=Q6(),l=()=>n(r!=null&&r.matches?"dark":"light");return n(r!=null&&r.matches?"dark":"light"),r==null||r.addEventListener("change",l),()=>{r==null||r.removeEventListener("change",l)}})}const $6=t=>({}),Hd=t=>({slot:"connectionLine"});function e8(t){let e;const n=t[70].connectionLine,r=Wt(n,t,t[92],Hd);return{c(){r&&r.c()},m(l,u){r&&r.m(l,u),e=!0},p(l,u){r&&r.p&&(!e||u[2]&1073741824)&&Xt(r,n,l,l[92],e?Bt(n,l[92],u,$6):Yt(l[92]),Hd)},i(l){e||(J(r,l),e=!0)},o(l){$(r,l),e=!1},d(l){r&&r.d(l)}}}function t8(t){let e,n,r,l,u,s,f,a,d,h,g,_;return e=new v6({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[73]),e.$on("edgecontextmenu",t[74]),r=new Y6({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[31].connectionLine,$$slots:{connectionLine:[e8]},$$scope:{ctx:t}}}),d=new t6({}),d.$on("nodeclick",t[75]),d.$on("nodemouseenter",t[76]),d.$on("nodemousemove",t[77]),d.$on("nodemouseleave",t[78]),d.$on("nodedragstart",t[79]),d.$on("nodedrag",t[80]),d.$on("nodedragstop",t[81]),d.$on("nodecontextmenu",t[82]),g=new I6({}),g.$on("selectionclick",t[83]),g.$on("selectioncontextmenu",t[84]),g.$on("nodedragstart",t[85]),g.$on("nodedrag",t[86]),g.$on("nodedragstop",t[87]),{c(){be(e.$$.fragment),n=He(),be(r.$$.fragment),l=He(),u=Ne("div"),s=He(),f=Ne("div"),a=He(),be(d.$$.fragment),h=He(),be(g.$$.fragment),M(u,"class","svelte-flow__edgelabel-renderer"),M(f,"class","svelte-flow__viewport-portal")},m(y,b){ye(e,y,b),ne(y,n,b),ye(r,y,b),ne(y,l,b),ne(y,u,b),ne(y,s,b),ne(y,f,b),ne(y,a,b),ye(d,y,b),ne(y,h,b),ye(g,y,b),_=!0},p(y,b){const p={};b[0]&2097152&&(p.defaultEdgeOptions=y[21]),e.$set(p);const A={};b[0]&128&&(A.containerStyle=y[7]),b[0]&64&&(A.style=y[6]),b[1]&1&&(A.isCustomComponent=y[31].connectionLine),b[2]&1073741824&&(A.$$scope={dirty:b,ctx:y}),r.$set(A)},i(y){_||(J(e.$$.fragment,y),J(r.$$.fragment,y),J(d.$$.fragment,y),J(g.$$.fragment,y),_=!0)},o(y){$(e.$$.fragment,y),$(r.$$.fragment,y),$(d.$$.fragment,y),$(g.$$.fragment,y),_=!1},d(y){y&&(ee(n),ee(l),ee(u),ee(s),ee(f),ee(a),ee(h)),we(e,y),we(r,y),we(d,y),we(g,y)}}}function n8(t){let e,n,r,l;return e=new xp({props:{$$slots:{default:[t8]},$$scope:{ctx:t}}}),r=new A6({}),{c(){be(e.$$.fragment),n=He(),be(r.$$.fragment)},m(u,s){ye(e,u,s),ne(u,n,s),ye(r,u,s),l=!0},p(u,s){const f={};s[0]&2097344|s[1]&1|s[2]&1073741824&&(f.$$scope={dirty:s,ctx:u}),e.$set(f)},i(u){l||(J(e.$$.fragment,u),J(r.$$.fragment,u),l=!0)},o(u){$(e.$$.fragment,u),$(r.$$.fragment,u),l=!1},d(u){u&&ee(n),we(e,u),we(r,u)}}}function i8(t){let e,n;return e=new Vp({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[n8]},$$scope:{ctx:t}}}),e.$on("paneclick",t[88]),e.$on("panecontextmenu",t[89]),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l[0]&131072&&(u.panOnDrag=r[17]===void 0?!0:r[17]),l[0]&262144&&(u.selectionOnDrag=r[18]),l[0]&2097344|l[1]&1|l[2]&1073741824&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function r8(t){let e,n,r,l,u,s,f,a,d,h,g,_;n=new R6({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),l=new Bp({props:{initialViewport:t[0],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Fn.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],$$slots:{default:[i8]},$$scope:{ctx:t}}}),s=new q6({props:{proOptions:t[20],position:t[19]}});const y=t[70].default,b=Wt(y,t,t[92],null);let p=[{style:t[22]},{class:a=je(["svelte-flow",t[23],t[28]])},{"data-testid":"svelte-flow__wrapper"},t[30],{role:"application"}],A={};for(let w=0;w<p.length;w+=1)A=Ft(A,p[w]);return{c(){e=Ne("div"),be(n.$$.fragment),r=He(),be(l.$$.fragment),u=He(),be(s.$$.fragment),f=He(),b&&b.c(),cr(e,A),Sl(()=>t[91].call(e)),Be(e,"svelte-12wlba6",!0)},m(w,O){ne(w,e,O),ye(n,e,null),Ce(e,r),ye(l,e,null),Ce(e,u),ye(s,e,null),Ce(e,f),b&&b.m(e,null),t[90](e),d=qw(e,t[91].bind(e)),h=!0,g||(_=[De(e,"dragover",t[71]),De(e,"drop",t[72])],g=!0)},p(w,O){const E={};O[0]&2&&(E.selectionKey=w[1]),O[0]&32&&(E.deleteKey=w[5]),O[0]&4&&(E.panActivationKey=w[2]),O[0]&8&&(E.multiSelectionKey=w[3]),O[0]&16&&(E.zoomActivationKey=w[4]),n.$set(E);const S={};O[0]&1&&(S.initialViewport=w[0]),O[0]&256&&(S.onMoveStart=w[8]),O[0]&512&&(S.onMove=w[9]),O[0]&1024&&(S.onMoveEnd=w[10]),O[0]&2048&&(S.panOnScrollMode=w[11]===void 0?Fn.Free:w[11]),O[0]&4096&&(S.preventScrolling=w[12]===void 0?!0:w[12]),O[0]&8192&&(S.zoomOnScroll=w[13]===void 0?!0:w[13]),O[0]&16384&&(S.zoomOnDoubleClick=w[14]===void 0?!0:w[14]),O[0]&32768&&(S.zoomOnPinch=w[15]===void 0?!0:w[15]),O[0]&65536&&(S.panOnScroll=w[16]===void 0?!1:w[16]),O[0]&131072&&(S.panOnDrag=w[17]===void 0?!0:w[17]),O[0]&2490560|O[1]&1|O[2]&1073741824&&(S.$$scope={dirty:O,ctx:w}),l.$set(S);const N={};O[0]&1048576&&(N.proOptions=w[20]),O[0]&524288&&(N.position=w[19]),s.$set(N),b&&b.p&&(!h||O[2]&1073741824)&&Xt(b,y,w,w[92],h?Bt(y,w[92],O,null):Yt(w[92]),null),cr(e,A=li(p,[(!h||O[0]&4194304)&&{style:w[22]},(!h||O[0]&276824064&&a!==(a=je(["svelte-flow",w[23],w[28]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},O[0]&1073741824&&w[30],{role:"application"}])),Be(e,"svelte-12wlba6",!0)},i(w){h||(J(n.$$.fragment,w),J(l.$$.fragment,w),J(s.$$.fragment,w),J(b,w),h=!0)},o(w){$(n.$$.fragment,w),$(l.$$.fragment,w),$(s.$$.fragment,w),$(b,w),h=!1},d(w){w&&ee(e),we(n),we(l),we(s),b&&b.d(w),t[90](null),d(),g=!1,vt(_)}}}function o8(t,e,n){let r;const l=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let u=ar(e,l),s,f,a=Me,d=()=>(a(),a=zl(r,U=>n(28,f=U)),r);t.$$.on_destroy.push(()=>a());let{$$slots:h={},$$scope:g}=e;const _=Vw(h);let{id:y="1"}=e,{nodes:b}=e,{edges:p}=e,{fitView:A=void 0}=e,{fitViewOptions:w=void 0}=e,{minZoom:O=void 0}=e,{maxZoom:E=void 0}=e,{initialViewport:S={x:0,y:0,zoom:1}}=e,{viewport:N=void 0}=e,{nodeTypes:Y=void 0}=e,{edgeTypes:I=void 0}=e,{selectionKey:H=void 0}=e,{selectionMode:L=void 0}=e,{panActivationKey:x=void 0}=e,{multiSelectionKey:T=void 0}=e,{zoomActivationKey:B=void 0}=e,{nodesDraggable:W=void 0}=e,{nodesConnectable:P=void 0}=e,{nodeDragThreshold:K=void 0}=e,{elementsSelectable:X=void 0}=e,{snapGrid:q=void 0}=e,{deleteKey:G=void 0}=e,{connectionRadius:j=void 0}=e,{connectionLineType:fe=void 0}=e,{connectionMode:ae=Ei.Strict}=e,{connectionLineStyle:Q=""}=e,{connectionLineContainerStyle:ve=""}=e,{onMoveStart:ke=void 0}=e,{onMove:Pe=void 0}=e,{onMoveEnd:R=void 0}=e,{isValidConnection:he=void 0}=e,{translateExtent:_e=void 0}=e,{onlyRenderVisibleElements:oe=void 0}=e,{panOnScrollMode:le=Fn.Free}=e,{preventScrolling:Ye=!0}=e,{zoomOnScroll:nt=!0}=e,{zoomOnDoubleClick:it=!0}=e,{zoomOnPinch:ot=!0}=e,{panOnScroll:$e=!1}=e,{panOnDrag:Sn=!0}=e,{selectionOnDrag:Et=void 0}=e,{autoPanOnConnect:tn=!0}=e,{autoPanOnNodeDrag:cn=!0}=e,{onerror:pe=void 0}=e,{ondelete:pt=void 0}=e,{onedgecreate:Zt=void 0}=e,{attributionPosition:dn=void 0}=e,{proOptions:ce=void 0}=e,{defaultEdgeOptions:Mt=void 0}=e,{width:It=void 0}=e,{height:ge=void 0}=e,{colorMode:Lt="light"}=e,{onconnect:Pt=void 0}=e,{onconnectstart:Ot=void 0}=e,{onconnectend:zn=void 0}=e,{onbeforedelete:Ln=void 0}=e,{oninit:hn=void 0}=e,{defaultMarkerColor:Rn="#b1b1b7"}=e,{style:Un=void 0}=e,{class:xn=void 0}=e,si,fi,ai;const Nt=Qw(Vl)?ct():zp({nodes:ue(b),edges:ue(p),width:It,height:ge,fitView:A});lo(()=>(Nt.width.set(fi),Nt.height.set(ai),Nt.domNode.set(si),Nt.syncNodeStores(b),Nt.syncEdgeStores(p),Nt.syncViewport(N),A!==void 0&&Nt.fitViewOnInit.set(A),w&&Nt.fitViewOptions.set(w),Nd(Nt,{nodeTypes:Y,edgeTypes:I,minZoom:O,maxZoom:E,translateExtent:_e}),()=>{Nt.reset()}));const{initialized:Sr}=Nt;de(t,Sr,U=>n(69,s=U));let Yi=!1;function Ul(U){tt.call(this,t,U)}function xl(U){tt.call(this,t,U)}function Gl(U){tt.call(this,t,U)}function ql(U){tt.call(this,t,U)}function go(U){tt.call(this,t,U)}function Zl(U){tt.call(this,t,U)}function Jl(U){tt.call(this,t,U)}function Ql(U){tt.call(this,t,U)}function kr(U){tt.call(this,t,U)}function jl(U){tt.call(this,t,U)}function Er(U){tt.call(this,t,U)}function $l(U){tt.call(this,t,U)}function eu(U){tt.call(this,t,U)}function tu(U){tt.call(this,t,U)}function nu(U){tt.call(this,t,U)}function iu(U){tt.call(this,t,U)}function ru(U){tt.call(this,t,U)}function ou(U){tt.call(this,t,U)}function lu(U){tt.call(this,t,U)}function mo(U){Vn[U?"unshift":"push"](()=>{si=U,n(26,si)})}function uu(){fi=this.clientWidth,ai=this.clientHeight,n(24,fi),n(25,ai)}return t.$$set=U=>{e=Ft(Ft({},e),xs(U)),n(30,u=ar(e,l)),"id"in U&&n(32,y=U.id),"nodes"in U&&n(33,b=U.nodes),"edges"in U&&n(34,p=U.edges),"fitView"in U&&n(35,A=U.fitView),"fitViewOptions"in U&&n(36,w=U.fitViewOptions),"minZoom"in U&&n(37,O=U.minZoom),"maxZoom"in U&&n(38,E=U.maxZoom),"initialViewport"in U&&n(0,S=U.initialViewport),"viewport"in U&&n(39,N=U.viewport),"nodeTypes"in U&&n(40,Y=U.nodeTypes),"edgeTypes"in U&&n(41,I=U.edgeTypes),"selectionKey"in U&&n(1,H=U.selectionKey),"selectionMode"in U&&n(42,L=U.selectionMode),"panActivationKey"in U&&n(2,x=U.panActivationKey),"multiSelectionKey"in U&&n(3,T=U.multiSelectionKey),"zoomActivationKey"in U&&n(4,B=U.zoomActivationKey),"nodesDraggable"in U&&n(43,W=U.nodesDraggable),"nodesConnectable"in U&&n(44,P=U.nodesConnectable),"nodeDragThreshold"in U&&n(45,K=U.nodeDragThreshold),"elementsSelectable"in U&&n(46,X=U.elementsSelectable),"snapGrid"in U&&n(47,q=U.snapGrid),"deleteKey"in U&&n(5,G=U.deleteKey),"connectionRadius"in U&&n(48,j=U.connectionRadius),"connectionLineType"in U&&n(49,fe=U.connectionLineType),"connectionMode"in U&&n(50,ae=U.connectionMode),"connectionLineStyle"in U&&n(6,Q=U.connectionLineStyle),"connectionLineContainerStyle"in U&&n(7,ve=U.connectionLineContainerStyle),"onMoveStart"in U&&n(8,ke=U.onMoveStart),"onMove"in U&&n(9,Pe=U.onMove),"onMoveEnd"in U&&n(10,R=U.onMoveEnd),"isValidConnection"in U&&n(51,he=U.isValidConnection),"translateExtent"in U&&n(52,_e=U.translateExtent),"onlyRenderVisibleElements"in U&&n(53,oe=U.onlyRenderVisibleElements),"panOnScrollMode"in U&&n(11,le=U.panOnScrollMode),"preventScrolling"in U&&n(12,Ye=U.preventScrolling),"zoomOnScroll"in U&&n(13,nt=U.zoomOnScroll),"zoomOnDoubleClick"in U&&n(14,it=U.zoomOnDoubleClick),"zoomOnPinch"in U&&n(15,ot=U.zoomOnPinch),"panOnScroll"in U&&n(16,$e=U.panOnScroll),"panOnDrag"in U&&n(17,Sn=U.panOnDrag),"selectionOnDrag"in U&&n(18,Et=U.selectionOnDrag),"autoPanOnConnect"in U&&n(54,tn=U.autoPanOnConnect),"autoPanOnNodeDrag"in U&&n(55,cn=U.autoPanOnNodeDrag),"onerror"in U&&n(56,pe=U.onerror),"ondelete"in U&&n(57,pt=U.ondelete),"onedgecreate"in U&&n(58,Zt=U.onedgecreate),"attributionPosition"in U&&n(19,dn=U.attributionPosition),"proOptions"in U&&n(20,ce=U.proOptions),"defaultEdgeOptions"in U&&n(21,Mt=U.defaultEdgeOptions),"width"in U&&n(59,It=U.width),"height"in U&&n(60,ge=U.height),"colorMode"in U&&n(61,Lt=U.colorMode),"onconnect"in U&&n(62,Pt=U.onconnect),"onconnectstart"in U&&n(63,Ot=U.onconnectstart),"onconnectend"in U&&n(64,zn=U.onconnectend),"onbeforedelete"in U&&n(65,Ln=U.onbeforedelete),"oninit"in U&&n(66,hn=U.oninit),"defaultMarkerColor"in U&&n(67,Rn=U.defaultMarkerColor),"style"in U&&n(22,Un=U.style),"class"in U&&n(23,xn=U.class),"$$scope"in U&&n(92,g=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&50331648&&fi!==void 0&&ai!==void 0&&(Nt.width.set(fi),Nt.height.set(ai)),t.$$.dirty[2]&208&&!Yi&&s&&(hn==null||hn(),n(68,Yi=!0)),t.$$.dirty[1]&266336258|t.$$.dirty[2]&47&&J6(Nt,{flowId:y,connectionLineType:fe,connectionRadius:j,selectionMode:L,snapGrid:q,defaultMarkerColor:Rn,nodesDraggable:W,nodesConnectable:P,elementsSelectable:X,onlyRenderVisibleElements:oe,isValidConnection:he,autoPanOnConnect:tn,autoPanOnNodeDrag:cn,onerror:pe,ondelete:pt,onedgecreate:Zt,connectionMode:ae,nodeDragThreshold:K,onconnect:Pt,onconnectstart:Ot,onconnectend:zn,onbeforedelete:Ln}),t.$$.dirty[1]&2098880&&Nd(Nt,{nodeTypes:Y,edgeTypes:I,minZoom:O,maxZoom:E,translateExtent:_e}),t.$$.dirty[1]&1073741824&&d(n(27,r=j6(Lt)))},[S,H,x,T,B,G,Q,ve,ke,Pe,R,le,Ye,nt,it,ot,$e,Sn,Et,dn,ce,Mt,Un,xn,fi,ai,si,r,f,Sr,u,_,y,b,p,A,w,O,E,N,Y,I,L,W,P,K,X,q,j,fe,ae,he,_e,oe,tn,cn,pe,pt,Zt,It,ge,Lt,Pt,Ot,zn,Ln,hn,Rn,Yi,s,h,Ul,xl,Gl,ql,go,Zl,Jl,Ql,kr,jl,Er,$l,eu,tu,nu,iu,ru,ou,lu,mo,uu,g]}class l8 extends Ie{constructor(e){super(),Te(this,e,o8,r8,Oe,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1,-1])}}const u8=l8;function s8(t){let e;const n=t[6].default,r=Wt(n,t,t[5],null);return{c(){r&&r.c()},m(l,u){r&&r.m(l,u),e=!0},p(l,[u]){r&&r.p&&(!e||u&32)&&Xt(r,n,l,l[5],e?Bt(n,l[5],u,null):Yt(l[5]),null)},i(l){e||(J(r,l),e=!0)},o(l){$(r,l),e=!1},d(l){r&&r.d(l)}}}function f8(t,e,n){let{$$slots:r={},$$scope:l}=e,{initialNodes:u=void 0}=e,{initialEdges:s=void 0}=e,{initialWidth:f=void 0}=e,{initialHeight:a=void 0}=e,{fitView:d=void 0}=e;const h=m1({nodes:u,edges:s,width:f,height:a,fitView:d});return Jr(Vl,{getStore:()=>h}),Gs(()=>{h.reset()}),t.$$set=g=>{"initialNodes"in g&&n(0,u=g.initialNodes),"initialEdges"in g&&n(1,s=g.initialEdges),"initialWidth"in g&&n(2,f=g.initialWidth),"initialHeight"in g&&n(3,a=g.initialHeight),"fitView"in g&&n(4,d=g.fitView),"$$scope"in g&&n(5,l=g.$$scope)},[u,s,f,a,d,l,r]}class a8 extends Ie{constructor(e){super(),Te(this,e,f8,s8,Oe,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4})}}const c8=t=>({}),zd=t=>({class:"button-svg"});function d8(t){let e,n,r,l,u;const s=t[8].default,f=Wt(s,t,t[7],zd);let a=[{type:"button"},{class:n=je(["svelte-flow__controls-button",t[0]])},t[6]],d={};for(let h=0;h<a.length;h+=1)d=Ft(d,a[h]);return{c(){e=Ne("button"),f&&f.c(),cr(e,d),We(e,"--xy-controls-button-background-color-props",t[1]),We(e,"--xy-controls-button-background-color-hover-props",t[2]),We(e,"--xy-controls-button-color-props",t[3]),We(e,"--xy-controls-button-color-hover-props",t[4]),We(e,"--xy-controls-button-border-color-props",t[5])},m(h,g){ne(h,e,g),f&&f.m(e,null),e.autofocus&&e.focus(),r=!0,l||(u=De(e,"click",t[9]),l=!0)},p(h,[g]){f&&f.p&&(!r||g&128)&&Xt(f,s,h,h[7],r?Bt(s,h[7],g,c8):Yt(h[7]),zd),cr(e,d=li(a,[{type:"button"},(!r||g&1&&n!==(n=je(["svelte-flow__controls-button",h[0]])))&&{class:n},g&64&&h[6]])),We(e,"--xy-controls-button-background-color-props",h[1]),We(e,"--xy-controls-button-background-color-hover-props",h[2]),We(e,"--xy-controls-button-color-props",h[3]),We(e,"--xy-controls-button-color-hover-props",h[4]),We(e,"--xy-controls-button-border-color-props",h[5])},i(h){r||(J(f,h),r=!0)},o(h){$(f,h),r=!1},d(h){h&&ee(e),f&&f.d(h),l=!1,u()}}}function h8(t,e,n){const r=["class"];let l=ar(e,r),{$$slots:u={},$$scope:s}=e,{class:f=void 0}=e,a,d,h,g,_;function y(b){tt.call(this,t,b)}return t.$$set=b=>{e=Ft(Ft({},e),xs(b)),n(6,l=ar(e,r)),"class"in b&&n(0,f=b.class),"$$scope"in b&&n(7,s=b.$$scope)},[f,a,d,h,g,_,l,s,u,y]}class br extends Ie{constructor(e){super(),Te(this,e,h8,d8,Oe,{class:0})}}function g8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),M(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"viewBox","0 0 32 32")},m(r,l){ne(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&ee(e)}}}class m8 extends Ie{constructor(e){super(),Te(this,e,null,g8,Oe,{})}}function _8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),M(n,"d","M0 0h32v4.2H0z"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"viewBox","0 0 32 5")},m(r,l){ne(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&ee(e)}}}class y8 extends Ie{constructor(e){super(),Te(this,e,null,_8,Oe,{})}}function w8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),M(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"viewBox","0 0 32 30")},m(r,l){ne(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&ee(e)}}}class b8 extends Ie{constructor(e){super(),Te(this,e,null,w8,Oe,{})}}function v8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),M(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"viewBox","0 0 25 32")},m(r,l){ne(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&ee(e)}}}class p8 extends Ie{constructor(e){super(),Te(this,e,null,v8,Oe,{})}}function S8(t){let e,n;return{c(){e=Xe("svg"),n=Xe("path"),M(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"viewBox","0 0 25 32")},m(r,l){ne(r,e,l),Ce(e,n)},p:Me,i:Me,o:Me,d(r){r&&ee(e)}}}class k8 extends Ie{constructor(e){super(),Te(this,e,null,S8,Oe,{})}}const E8=t=>({}),Ld=t=>({}),C8=t=>({}),Rd=t=>({});function Dd(t){let e,n,r,l;const u=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[A8]},$$scope:{ctx:t}};for(let d=0;d<u.length;d+=1)s=Ft(s,u[d]);e=new br({props:s}),e.$on("click",t[18]);const f=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[M8]},$$scope:{ctx:t}};for(let d=0;d<f.length;d+=1)a=Ft(a,f[d]);return r=new br({props:a}),r.$on("click",t[19]),{c(){be(e.$$.fragment),n=He(),be(r.$$.fragment)},m(d,h){ye(e,d,h),ne(d,n,h),ye(r,d,h),l=!0},p(d,h){const g=h[0]&131584?li(u,[u[0],u[1],u[2],h[0]&512&&{disabled:d[9]},h[0]&131072&&dr(d[17])]):{};h[1]&16&&(g.$$scope={dirty:h,ctx:d}),e.$set(g);const _=h[0]&132096?li(f,[f[0],f[1],f[2],h[0]&1024&&{disabled:d[10]},h[0]&131072&&dr(d[17])]):{};h[1]&16&&(_.$$scope={dirty:h,ctx:d}),r.$set(_)},i(d){l||(J(e.$$.fragment,d),J(r.$$.fragment,d),l=!0)},o(d){$(e.$$.fragment,d),$(r.$$.fragment,d),l=!1},d(d){d&&ee(n),we(e,d),we(r,d)}}}function A8(t){let e,n;return e=new m8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function M8(t){let e,n;return e=new y8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function Wd(t){let e,n;const r=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let l={$$slots:{default:[P8]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)l=Ft(l,r[u]);return e=new br({props:l}),e.$on("click",t[20]),{c(){be(e.$$.fragment)},m(u,s){ye(e,u,s),n=!0},p(u,s){const f=s[0]&131072?li(r,[r[0],r[1],r[2],dr(u[17])]):{};s[1]&16&&(f.$$scope={dirty:s,ctx:u}),e.$set(f)},i(u){n||(J(e.$$.fragment,u),n=!0)},o(u){$(e.$$.fragment,u),n=!1},d(u){we(e,u)}}}function P8(t){let e,n;return e=new b8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function Bd(t){let e,n;const r=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let l={$$slots:{default:[O8]},$$scope:{ctx:t}};for(let u=0;u<r.length;u+=1)l=Ft(l,r[u]);return e=new br({props:l}),e.$on("click",t[21]),{c(){be(e.$$.fragment)},m(u,s){ye(e,u,s),n=!0},p(u,s){const f=s[0]&131072?li(r,[r[0],r[1],r[2],dr(u[17])]):{};s[0]&256|s[1]&16&&(f.$$scope={dirty:s,ctx:u}),e.$set(f)},i(u){n||(J(e.$$.fragment,u),n=!0)},o(u){$(e.$$.fragment,u),n=!1},d(u){we(e,u)}}}function T8(t){let e,n;return e=new p8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function I8(t){let e,n;return e=new k8({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function O8(t){let e,n,r,l;const u=[I8,T8],s=[];function f(a,d){return a[8]?0:1}return e=f(t),n=s[e]=u[e](t),{c(){n.c(),r=bt()},m(a,d){s[e].m(a,d),ne(a,r,d),l=!0},p(a,d){let h=e;e=f(a),e!==h&&(ft(),$(s[h],1,1,()=>{s[h]=null}),at(),n=s[e],n||(n=s[e]=u[e](a),n.c()),J(n,1),n.m(r.parentNode,r))},i(a){l||(J(n),l=!0)},o(a){$(n),l=!1},d(a){a&&ee(r),s[e].d(a)}}}function N8(t){let e,n,r,l,u,s;const f=t[34].before,a=Wt(f,t,t[35],Rd);let d=t[1]&&Dd(t),h=t[2]&&Wd(t),g=t[3]&&Bd(t);const _=t[34].default,y=Wt(_,t,t[35],null),b=t[34].after,p=Wt(b,t,t[35],Ld);return{c(){a&&a.c(),e=He(),d&&d.c(),n=He(),h&&h.c(),r=He(),g&&g.c(),l=He(),y&&y.c(),u=He(),p&&p.c()},m(A,w){a&&a.m(A,w),ne(A,e,w),d&&d.m(A,w),ne(A,n,w),h&&h.m(A,w),ne(A,r,w),g&&g.m(A,w),ne(A,l,w),y&&y.m(A,w),ne(A,u,w),p&&p.m(A,w),s=!0},p(A,w){a&&a.p&&(!s||w[1]&16)&&Xt(a,f,A,A[35],s?Bt(f,A[35],w,C8):Yt(A[35]),Rd),A[1]?d?(d.p(A,w),w[0]&2&&J(d,1)):(d=Dd(A),d.c(),J(d,1),d.m(n.parentNode,n)):d&&(ft(),$(d,1,1,()=>{d=null}),at()),A[2]?h?(h.p(A,w),w[0]&4&&J(h,1)):(h=Wd(A),h.c(),J(h,1),h.m(r.parentNode,r)):h&&(ft(),$(h,1,1,()=>{h=null}),at()),A[3]?g?(g.p(A,w),w[0]&8&&J(g,1)):(g=Bd(A),g.c(),J(g,1),g.m(l.parentNode,l)):g&&(ft(),$(g,1,1,()=>{g=null}),at()),y&&y.p&&(!s||w[1]&16)&&Xt(y,_,A,A[35],s?Bt(_,A[35],w,null):Yt(A[35]),null),p&&p.p&&(!s||w[1]&16)&&Xt(p,b,A,A[35],s?Bt(b,A[35],w,E8):Yt(A[35]),Ld)},i(A){s||(J(a,A),J(d),J(h),J(g),J(y,A),J(p,A),s=!0)},o(A){$(a,A),$(d),$(h),$(g),$(y,A),$(p,A),s=!1},d(A){A&&(ee(e),ee(n),ee(r),ee(l),ee(u)),a&&a.d(A),d&&d.d(A),h&&h.d(A),g&&g.d(A),y&&y.d(A),p&&p.d(A)}}}function H8(t){let e,n;return e=new oo({props:{class:je(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[N8]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l[0]&192&&(u.class=je(["svelte-flow__controls",r[7],r[6]])),l[0]&1&&(u.position=r[0]),l[0]&16&&(u["aria-label"]=r[4]??"Svelte Flow controls"),l[0]&32&&(u.style=r[5]),l[0]&1806|l[1]&16&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function z8(t,e,n){let r,l,u,s,f,a,d,h,g,_,{$$slots:y={},$$scope:b}=e,{position:p="bottom-left"}=e,{showZoom:A=!0}=e,{showFitView:w=!0}=e,{showLock:O=!0}=e,{buttonBgColor:E=void 0}=e,{buttonBgColorHover:S=void 0}=e,{buttonColor:N=void 0}=e,{buttonColorHover:Y=void 0}=e,{buttonBorderColor:I=void 0}=e,{ariaLabel:H=void 0}=e,{style:L=void 0}=e,{orientation:x="vertical"}=e,{class:T=""}=e;const{zoomIn:B,zoomOut:W,fitView:P,viewport:K,minZoom:X,maxZoom:q,nodesDraggable:G,nodesConnectable:j,elementsSelectable:fe}=ct();de(t,K,R=>n(29,a=R)),de(t,X,R=>n(30,d=R)),de(t,q,R=>n(28,f=R)),de(t,G,R=>n(33,_=R)),de(t,j,R=>n(32,g=R)),de(t,fe,R=>n(31,h=R));const ae={bgColor:E,bgColorHover:S,color:N,colorHover:Y,borderColor:I},Q=()=>{B()},ve=()=>{W()},ke=()=>{P()},Pe=()=>{n(8,r=!r),G.set(r),j.set(r),fe.set(r)};return t.$$set=R=>{"position"in R&&n(0,p=R.position),"showZoom"in R&&n(1,A=R.showZoom),"showFitView"in R&&n(2,w=R.showFitView),"showLock"in R&&n(3,O=R.showLock),"buttonBgColor"in R&&n(22,E=R.buttonBgColor),"buttonBgColorHover"in R&&n(23,S=R.buttonBgColorHover),"buttonColor"in R&&n(24,N=R.buttonColor),"buttonColorHover"in R&&n(25,Y=R.buttonColorHover),"buttonBorderColor"in R&&n(26,I=R.buttonBorderColor),"ariaLabel"in R&&n(4,H=R.ariaLabel),"style"in R&&n(5,L=R.style),"orientation"in R&&n(27,x=R.orientation),"class"in R&&n(6,T=R.class),"$$scope"in R&&n(35,b=R.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&7&&n(8,r=_||g||h),t.$$.dirty[0]&1610612736&&n(10,l=a.zoom<=d),t.$$.dirty[0]&805306368&&n(9,u=a.zoom>=f),t.$$.dirty[0]&134217728&&n(7,s=x==="horizontal"?"horizontal":"vertical")},[p,A,w,O,H,L,T,s,r,u,l,K,X,q,G,j,fe,ae,Q,ve,ke,Pe,E,S,N,Y,I,x,f,a,d,h,g,_,y,b]}class L8 extends Ie{constructor(e){super(),Te(this,e,z8,H8,Oe,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,class:6},null,[-1,-1])}}var oi;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(oi||(oi={}));function R8(t){let e,n;return{c(){e=Xe("circle"),M(e,"cx",t[0]),M(e,"cy",t[0]),M(e,"r",t[0]),M(e,"class",n=je(["svelte-flow__background-pattern","dots",t[1]]))},m(r,l){ne(r,e,l)},p(r,[l]){l&1&&M(e,"cx",r[0]),l&1&&M(e,"cy",r[0]),l&1&&M(e,"r",r[0]),l&2&&n!==(n=je(["svelte-flow__background-pattern","dots",r[1]]))&&M(e,"class",n)},i:Me,o:Me,d(r){r&&ee(e)}}}function D8(t,e,n){let{radius:r=5}=e,{class:l=""}=e;return t.$$set=u=>{"radius"in u&&n(0,r=u.radius),"class"in u&&n(1,l=u.class)},[r,l]}class W8 extends Ie{constructor(e){super(),Te(this,e,D8,R8,Oe,{radius:0,class:1})}}const B8=W8;function X8(t){let e,n,r;return{c(){e=Xe("path"),M(e,"stroke-width",t[0]),M(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),M(e,"class",r=je(["svelte-flow__background-pattern",t[2],t[3]]))},m(l,u){ne(l,e,u)},p(l,[u]){u&1&&M(e,"stroke-width",l[0]),u&2&&n!==(n=`M${l[1][0]/2} 0 V${l[1][1]} M0 ${l[1][1]/2} H${l[1][0]}`)&&M(e,"d",n),u&12&&r!==(r=je(["svelte-flow__background-pattern",l[2],l[3]]))&&M(e,"class",r)},i:Me,o:Me,d(l){l&&ee(e)}}}function Y8(t,e,n){let{lineWidth:r=1}=e,{dimensions:l}=e,{variant:u=void 0}=e,{class:s=""}=e;return t.$$set=f=>{"lineWidth"in f&&n(0,r=f.lineWidth),"dimensions"in f&&n(1,l=f.dimensions),"variant"in f&&n(2,u=f.variant),"class"in f&&n(3,s=f.class)},[r,l,u,s]}class F8 extends Ie{constructor(e){super(),Te(this,e,Y8,X8,Oe,{lineWidth:0,dimensions:1,variant:2,class:3})}}const V8=F8;function K8(t){let e,n;return e=new V8({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&64&&(u.dimensions=r[6]),l&1&&(u.variant=r[0]),l&2&&(u.lineWidth=r[1]),l&16&&(u.class=r[4]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function U8(t){let e,n;return e=new B8({props:{radius:t[7]/2,class:t[4]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l&128&&(u.radius=r[7]/2),l&16&&(u.class=r[4]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function x8(t){let e,n,r,l,u,s,f,a,d,h,g,_,y;const b=[U8,K8],p=[];function A(w,O){return w[14]?0:1}return r=A(t),l=p[r]=b[r](t),{c(){e=Xe("svg"),n=Xe("pattern"),l.c(),h=Xe("rect"),M(n,"id",t[11]),M(n,"x",u=t[9].x%t[8][0]),M(n,"y",s=t[9].y%t[8][1]),M(n,"width",f=t[8][0]),M(n,"height",a=t[8][1]),M(n,"patternUnits","userSpaceOnUse"),M(n,"patternTransform",d=`translate(-${t[10][0]},-${t[10][1]})`),M(h,"x","0"),M(h,"y","0"),M(h,"width","100%"),M(h,"height","100%"),M(h,"fill",g=`url(#${t[11]})`),M(e,"class",_=Oc(je(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),M(e,"data-testid","svelte-flow__background"),We(e,"--xy-background-color-props",t[2]),We(e,"--xy-background-pattern-color-props",t[3])},m(w,O){ne(w,e,O),Ce(e,n),p[r].m(n,null),Ce(e,h),y=!0},p(w,[O]){l.p(w,O),(!y||O&2048)&&M(n,"id",w[11]),(!y||O&768&&u!==(u=w[9].x%w[8][0]))&&M(n,"x",u),(!y||O&768&&s!==(s=w[9].y%w[8][1]))&&M(n,"y",s),(!y||O&256&&f!==(f=w[8][0]))&&M(n,"width",f),(!y||O&256&&a!==(a=w[8][1]))&&M(n,"height",a),(!y||O&1024&&d!==(d=`translate(-${w[10][0]},-${w[10][1]})`))&&M(n,"patternTransform",d),(!y||O&2048&&g!==(g=`url(#${w[11]})`))&&M(h,"fill",g),(!y||O&32&&_!==(_=Oc(je(["svelte-flow__background",w[5]]))+" svelte-1r7pe8d"))&&M(e,"class",_),O&4&&We(e,"--xy-background-color-props",w[2]),O&8&&We(e,"--xy-background-pattern-color-props",w[3])},i(w){y||(J(l),y=!0)},o(w){$(l),y=!1},d(w){w&&ee(e),p[r].d()}}}const G8={[oi.Dots]:1,[oi.Lines]:1,[oi.Cross]:6};function q8(t,e,n){let r,l,u,s,f,a,d,{id:h=void 0}=e,{variant:g=oi.Dots}=e,{gap:_=20}=e,{size:y=1}=e,{lineWidth:b=1}=e,{bgColor:p=void 0}=e,{patternColor:A=void 0}=e,{patternClass:w=void 0}=e,{class:O=""}=e;const{viewport:E,flowId:S}=ct();de(t,E,L=>n(9,a=L)),de(t,S,L=>n(18,d=L));const N=y||G8[g],Y=g===oi.Dots,I=g===oi.Cross,H=Array.isArray(_)?_:[_,_];return t.$$set=L=>{"id"in L&&n(15,h=L.id),"variant"in L&&n(0,g=L.variant),"gap"in L&&n(16,_=L.gap),"size"in L&&n(17,y=L.size),"lineWidth"in L&&n(1,b=L.lineWidth),"bgColor"in L&&n(2,p=L.bgColor),"patternColor"in L&&n(3,A=L.patternColor),"patternClass"in L&&n(4,w=L.patternClass),"class"in L&&n(5,O=L.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,r=`background-pattern-${d}-${h||""}`),t.$$.dirty&512&&n(8,l=[H[0]*a.zoom||1,H[1]*a.zoom||1]),t.$$.dirty&512&&n(7,u=N*a.zoom),t.$$.dirty&384&&n(6,s=I?[u,u]:l),t.$$.dirty&192&&n(10,f=Y?[u/2,u/2]:[s[0]/2,s[1]/2])},[g,b,p,A,w,O,s,u,l,a,f,r,E,S,Y,h,_,y,d]}class Z8 extends Ie{constructor(e){super(),Te(this,e,q8,x8,Oe,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const J8=Z8;function Q8(t){let e,n,r;return{c(){e=Xe("rect"),M(e,"class",n=je(["svelte-flow__minimap-node",t[10]])),M(e,"x",t[0]),M(e,"y",t[1]),M(e,"rx",t[4]),M(e,"ry",t[4]),M(e,"width",t[2]),M(e,"height",t[3]),M(e,"style",r=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),M(e,"shape-rendering",t[6]),Be(e,"selected",t[9])},m(l,u){ne(l,e,u)},p(l,[u]){u&1024&&n!==(n=je(["svelte-flow__minimap-node",l[10]]))&&M(e,"class",n),u&1&&M(e,"x",l[0]),u&2&&M(e,"y",l[1]),u&16&&M(e,"rx",l[4]),u&16&&M(e,"ry",l[4]),u&4&&M(e,"width",l[2]),u&8&&M(e,"height",l[3]),u&416&&r!==(r=`${l[5]?`fill: ${l[5]};`:""}${l[7]?`stroke: ${l[7]};`:""}${l[8]?`stroke-width: ${l[8]};`:""}`)&&M(e,"style",r),u&64&&M(e,"shape-rendering",l[6]),u&1536&&Be(e,"selected",l[9])},i:Me,o:Me,d(l){l&&ee(e)}}}function j8(t,e,n){let{x:r}=e,{y:l}=e,{width:u=0}=e,{height:s=0}=e,{borderRadius:f=5}=e,{color:a=void 0}=e,{shapeRendering:d}=e,{strokeColor:h=void 0}=e,{strokeWidth:g=2}=e,{selected:_=!1}=e,{class:y=""}=e;return t.$$set=b=>{"x"in b&&n(0,r=b.x),"y"in b&&n(1,l=b.y),"width"in b&&n(2,u=b.width),"height"in b&&n(3,s=b.height),"borderRadius"in b&&n(4,f=b.borderRadius),"color"in b&&n(5,a=b.color),"shapeRendering"in b&&n(6,d=b.shapeRendering),"strokeColor"in b&&n(7,h=b.strokeColor),"strokeWidth"in b&&n(8,g=b.strokeWidth),"selected"in b&&n(9,_=b.selected),"class"in b&&n(10,y=b.class)},[r,l,u,s,f,a,d,h,g,_,y]}class $8 extends Ie{constructor(e){super(),Te(this,e,j8,Q8,Oe,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function e7(t,e){const n=g4({domNode:t,panZoom:e.panZoom,getTransform:()=>{const l=ue(e.viewport);return[l.x,l.y,l.zoom]},getViewScale:e.getViewScale});function r(l){n.update({translateExtent:l.translateExtent,width:l.width,height:l.height,inversePan:l.inversePan,zoomStep:l.zoomStep,pannable:l.pannable,zoomable:l.zoomable})}return{update:r,destroy(){n.destroy()}}}function Xd(t,e,n){const r=t.slice();return r[53]=e[n],r}function Ms(t){const e=t.slice(),n=pr(e[53]).positionAbsolute;e[56]=n;const r=co(e[53]);return e[57]=r,e}function Yd(t){let e,n,r=[],l=new Map,u,s,f,a,d,h,g,_=t[1]&&Fd(t),y=kt(t[19]);const b=p=>p[53].id;for(let p=0;p<y.length;p+=1){let A=Xd(t,y,p),w=b(A);l.set(w,r[p]=Kd(w,A))}return{c(){e=Xe("svg"),_&&_.c(),n=bt();for(let p=0;p<r.length;p+=1)r[p].c();u=Xe("path"),M(u,"class","svelte-flow__minimap-mask"),M(u,"d",s="M"+(t[25]-t[15])+","+(t[24]-t[15])+"h"+(t[23]+t[15]*2)+"v"+(t[22]+t[15]*2)+"h"+(-t[23]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),M(u,"fill-rule","evenodd"),M(u,"pointer-events","none"),M(e,"width",t[17]),M(e,"height",t[16]),M(e,"viewBox",f=t[25]+" "+t[24]+" "+t[23]+" "+t[22]),M(e,"class","svelte-flow__minimap-svg"),M(e,"role","img"),M(e,"aria-labelledby",t[39]),We(e,"--xy-minimap-mask-background-color-props",t[5]),We(e,"--xy-minimap-mask-stroke-color-props",t[6]),We(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(p,A){ne(p,e,A),_&&_.m(e,null),Ce(e,n);for(let w=0;w<r.length;w+=1)r[w]&&r[w].m(e,null);Ce(e,u),d=!0,h||(g=xt(a=e7.call(null,e,{panZoom:t[26],viewport:t[29],getViewScale:t[40],translateExtent:t[27],width:t[21],height:t[20],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),h=!0)},p(p,A){p[1]?_?_.p(p,A):(_=Fd(p),_.c(),_.m(e,n)):_&&(_.d(1),_=null),A[0]&524300|A[1]&240&&(y=kt(p[19]),ft(),r=Wi(r,A,b,1,p,y,l,e,Di,Kd,u,Xd),at()),(!d||A[0]&63209472&&s!==(s="M"+(p[25]-p[15])+","+(p[24]-p[15])+"h"+(p[23]+p[15]*2)+"v"+(p[22]+p[15]*2)+"h"+(-p[23]-p[15]*2)+`z
      M`+p[18].x+","+p[18].y+"h"+p[18].width+"v"+p[18].height+"h"+-p[18].width+"z"))&&M(u,"d",s),(!d||A[0]&131072)&&M(e,"width",p[17]),(!d||A[0]&65536)&&M(e,"height",p[16]),(!d||A[0]&62914560&&f!==(f=p[25]+" "+p[24]+" "+p[23]+" "+p[22]))&&M(e,"viewBox",f),a&&ht(a.update)&&A[0]&204476160&&a.update.call(null,{panZoom:p[26],viewport:p[29],getViewScale:p[40],translateExtent:p[27],width:p[21],height:p[20],inversePan:p[10],zoomStep:p[11],pannable:p[8],zoomable:p[9]}),A[0]&32&&We(e,"--xy-minimap-mask-background-color-props",p[5]),A[0]&64&&We(e,"--xy-minimap-mask-stroke-color-props",p[6]),A[0]&16512&&We(e,"--xy-minimap-mask-stroke-width-props",p[7]?p[7]*p[14]:void 0)},i(p){if(!d){for(let A=0;A<y.length;A+=1)J(r[A]);d=!0}},o(p){for(let A=0;A<r.length;A+=1)$(r[A]);d=!1},d(p){p&&ee(e),_&&_.d();for(let A=0;A<r.length;A+=1)r[A].d();h=!1,g()}}}function Fd(t){let e,n;return{c(){e=Xe("title"),n=qt(t[1]),M(e,"id",t[39])},m(r,l){ne(r,e,l),Ce(e,n)},p(r,l){l[0]&2&&Xi(n,r[1])},d(r){r&&ee(e)}}}function Vd(t){var u;let e,n;const r=[{x:t[56].x},{y:t[56].y},t[57],{selected:t[53].selected},{color:(u=t[35])==null?void 0:u.call(t,t[53])},{borderRadius:t[2]},{strokeColor:t[36](t[53])},{strokeWidth:t[3]},{shapeRendering:t[38]},{class:t[37](t[53])}];let l={};for(let s=0;s<r.length;s+=1)l=Ft(l,r[s]);return e=new $8({props:l}),{c(){be(e.$$.fragment)},m(s,f){ye(e,s,f),n=!0},p(s,f){var d;const a=f[0]&524300|f[1]&240?li(r,[f[0]&524288&&{x:s[56].x},f[0]&524288&&{y:s[56].y},f[0]&524288&&dr(s[57]),f[0]&524288&&{selected:s[53].selected},f[0]&524288|f[1]&16&&{color:(d=s[35])==null?void 0:d.call(s,s[53])},f[0]&4&&{borderRadius:s[2]},f[0]&524288|f[1]&32&&{strokeColor:s[36](s[53])},f[0]&8&&{strokeWidth:s[3]},f[1]&128&&{shapeRendering:s[38]},f[0]&524288|f[1]&64&&{class:s[37](s[53])}]):{};e.$set(a)},i(s){n||(J(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){we(e,s)}}}function Kd(t,e){let n,r=io(e[53]),l,u,s=r&&Vd(Ms(e));return{key:t,first:null,c(){n=bt(),s&&s.c(),l=bt(),this.first=n},m(f,a){ne(f,n,a),s&&s.m(f,a),ne(f,l,a),u=!0},p(f,a){e=f,a[0]&524288&&(r=io(e[53])),r?s?(s.p(Ms(e),a),a[0]&524288&&J(s,1)):(s=Vd(Ms(e)),s.c(),J(s,1),s.m(l.parentNode,l)):s&&(ft(),$(s,1,1,()=>{s=null}),at())},i(f){u||(J(s),u=!0)},o(f){$(s),u=!1},d(f){f&&(ee(n),ee(l)),s&&s.d(f)}}}function t7(t){let e,n,r=t[26]&&Yd(t);return{c(){r&&r.c(),e=bt()},m(l,u){r&&r.m(l,u),ne(l,e,u),n=!0},p(l,u){l[26]?r?(r.p(l,u),u[0]&67108864&&J(r,1)):(r=Yd(l),r.c(),J(r,1),r.m(e.parentNode,e)):r&&(ft(),$(r,1,1,()=>{r=null}),at())},i(l){n||(J(r),n=!0)},o(l){$(r),n=!1},d(l){l&&ee(e),r&&r.d(l)}}}function n7(t){let e,n;return e=new oo({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:je(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[t7]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,l){const u={};l[0]&1&&(u.position=r[0]),l[0]&4112&&(u.style=r[12]+(r[4]?`;--xy-minimap-background-color-props:${r[4]}`:"")),l[0]&8192&&(u.class=je(["svelte-flow__minimap",r[13]])),l[0]&268423150|l[1]&134217728&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}const Ps=t=>t instanceof Function?t:()=>t,i7=200,r7=150;function o7(t,e,n){let r,l,u,s,f,a,d,h,g,_,y,b,p,A,w,O,E,S,N,Y,I,{position:H="bottom-right"}=e,{ariaLabel:L="Mini map"}=e,{nodeStrokeColor:x="transparent"}=e,{nodeColor:T=void 0}=e,{nodeClass:B=""}=e,{nodeBorderRadius:W=5}=e,{nodeStrokeWidth:P=2}=e,{bgColor:K=void 0}=e,{maskColor:X=void 0}=e,{maskStrokeColor:q=void 0}=e,{maskStrokeWidth:G=void 0}=e,{width:j=void 0}=e,{height:fe=void 0}=e,{pannable:ae=!0}=e,{zoomable:Q=!0}=e,{inversePan:ve=void 0}=e,{zoomStep:ke=void 0}=e,{style:Pe=""}=e,{class:R=""}=e;const{nodes:he,viewport:_e,width:oe,height:le,flowId:Ye,panZoom:nt,translateExtent:it}=ct();de(t,he,pe=>n(19,w=pe)),de(t,_e,pe=>n(51,O=pe)),de(t,oe,pe=>n(21,S=pe)),de(t,le,pe=>n(20,E=pe)),de(t,Ye,pe=>n(52,N=pe)),de(t,nt,pe=>n(26,Y=pe)),de(t,it,pe=>n(27,I=pe));const ot=T===void 0?void 0:Ps(T),$e=Ps(x),Sn=Ps(B),Et=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",tn=`svelte-flow__minimap-desc-${N}`,cn=()=>d;return t.$$set=pe=>{"position"in pe&&n(0,H=pe.position),"ariaLabel"in pe&&n(1,L=pe.ariaLabel),"nodeStrokeColor"in pe&&n(41,x=pe.nodeStrokeColor),"nodeColor"in pe&&n(42,T=pe.nodeColor),"nodeClass"in pe&&n(43,B=pe.nodeClass),"nodeBorderRadius"in pe&&n(2,W=pe.nodeBorderRadius),"nodeStrokeWidth"in pe&&n(3,P=pe.nodeStrokeWidth),"bgColor"in pe&&n(4,K=pe.bgColor),"maskColor"in pe&&n(5,X=pe.maskColor),"maskStrokeColor"in pe&&n(6,q=pe.maskStrokeColor),"maskStrokeWidth"in pe&&n(7,G=pe.maskStrokeWidth),"width"in pe&&n(44,j=pe.width),"height"in pe&&n(45,fe=pe.height),"pannable"in pe&&n(8,ae=pe.pannable),"zoomable"in pe&&n(9,Q=pe.zoomable),"inversePan"in pe&&n(10,ve=pe.inversePan),"zoomStep"in pe&&n(11,ke=pe.zoomStep),"style"in pe&&n(12,Pe=pe.style),"class"in pe&&n(13,R=pe.class)},t.$$.update=()=>{t.$$.dirty[0]&3145728|t.$$.dirty[1]&1048576&&n(18,r={x:-O.x/O.zoom,y:-O.y/O.zoom,width:S/O.zoom,height:E/O.zoom}),t.$$.dirty[0]&786432&&n(48,l=w.length>0?Y5(ao(w),r):r),t.$$.dirty[1]&8192&&n(17,u=j??i7),t.$$.dirty[1]&16384&&n(16,s=fe??r7),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(50,f=l.width/u),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(49,a=l.height/s),t.$$.dirty[1]&786432&&n(14,d=Math.max(f,a)),t.$$.dirty[0]&147456&&n(47,h=d*u),t.$$.dirty[0]&81920&&n(46,g=d*s),t.$$.dirty[0]&16384&&n(15,_=5*d),t.$$.dirty[0]&32768|t.$$.dirty[1]&196608&&n(25,y=l.x-(h-l.width)/2-_),t.$$.dirty[0]&32768|t.$$.dirty[1]&163840&&n(24,b=l.y-(g-l.height)/2-_),t.$$.dirty[0]&32768|t.$$.dirty[1]&65536&&n(23,p=h+_*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&32768&&n(22,A=g+_*2)},[H,L,W,P,K,X,q,G,ae,Q,ve,ke,Pe,R,d,_,s,u,r,w,E,S,A,p,b,y,Y,I,he,_e,oe,le,Ye,nt,it,ot,$e,Sn,Et,tn,cn,x,T,B,j,fe,g,h,l,a,f,O]}class l7 extends Ie{constructor(e){super(),Te(this,e,o7,n7,Oe,{position:0,ariaLabel:1,nodeStrokeColor:41,nodeColor:42,nodeClass:43,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:44,height:45,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function u7(t){let e,n,r;const l=t[33].default,u=Wt(l,t,t[32],null);return{c(){e=Ne("div"),u&&u.c(),M(e,"class",n=je(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),M(e,"style",t[3])},m(s,f){ne(s,e,f),u&&u.m(e,null),t[34](e),r=!0},p(s,f){u&&u.p&&(!r||f[1]&2)&&Xt(u,l,s,s[32],r?Bt(l,s[32],f,null):Yt(s[32]),null),(!r||f[0]&19&&n!==(n=je(["svelte-flow__resize-control","nodrag",...s[4],s[0],s[1]])))&&M(e,"class",n),(!r||f[0]&8)&&M(e,"style",s[3])},i(s){r||(J(u,s),r=!0)},o(s){$(u,s),r=!1},d(s){s&&ee(e),u&&u.d(s),t[34](null)}}}function s7(t,e,n){let r,l,u,s,f,a,d,h,g,_,y,b,p,A,w,O,{$$slots:E={},$$scope:S}=e,{nodeId:N=void 0}=e,{position:Y=void 0}=e,{variant:I=qr.Handle}=e,{color:H=void 0}=e,{minWidth:L=10}=e,{minHeight:x=10}=e,{maxWidth:T=Number.MAX_VALUE}=e,{maxHeight:B=Number.MAX_VALUE}=e,{keepAspectRatio:W=!1}=e,{shouldResize:P=void 0}=e,{onResizeStart:K=void 0}=e,{onResize:X=void 0}=e,{onResizeEnd:q=void 0}=e,{style:G=""}=e,{class:j=""}=e;const{nodeLookup:fe,snapGrid:ae,viewport:Q,nodes:ve,nodeOrigin:ke}=ct();de(t,fe,oe=>n(37,p=oe)),de(t,ae,oe=>n(39,w=oe)),de(t,Q,oe=>n(40,O=oe)),de(t,ve,oe=>n(36,b=oe)),de(t,ke,oe=>n(38,A=oe));const Pe=Qr("svelteflow__node_id");let R,he=null;lo(()=>(R&&n(23,he=I4({domNode:R,nodeId:f,getStoreItems:()=>({nodeLookup:p,transform:[O.x,O.y,O.zoom],snapGrid:w??void 0,snapToGrid:!!w,nodeOrigin:A}),onChange:(oe,le)=>{const Ye=p.get(f);if(Ye){Ye.height=oe.isHeightChange?oe.height:Ye.height,Ye.width=oe.isWidthChange?oe.width:Ye.width,Ye.position=oe.isXPosChange||oe.isYPosChange?{x:oe.x,y:oe.y}:Ye.position;for(const nt of le){const it=p.get(nt.id);it&&(it.position=nt.position)}ve.set(b)}}})),()=>{he==null||he.destroy()}));function _e(oe){Vn[oe?"unshift":"push"](()=>{R=oe,n(2,R)})}return t.$$set=oe=>{"nodeId"in oe&&n(10,N=oe.nodeId),"position"in oe&&n(11,Y=oe.position),"variant"in oe&&n(0,I=oe.variant),"color"in oe&&n(12,H=oe.color),"minWidth"in oe&&n(13,L=oe.minWidth),"minHeight"in oe&&n(14,x=oe.minHeight),"maxWidth"in oe&&n(15,T=oe.maxWidth),"maxHeight"in oe&&n(16,B=oe.maxHeight),"keepAspectRatio"in oe&&n(17,W=oe.keepAspectRatio),"shouldResize"in oe&&n(18,P=oe.shouldResize),"onResizeStart"in oe&&n(19,K=oe.onResizeStart),"onResize"in oe&&n(20,X=oe.onResize),"onResizeEnd"in oe&&n(21,q=oe.onResizeEnd),"style"in oe&&n(22,G=oe.style),"class"in oe&&n(1,j=oe.class),"$$scope"in oe&&n(32,S=oe.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&n(27,r=L??10),t.$$.dirty[0]&16384&&n(26,l=x??10),t.$$.dirty[0]&32768&&n(25,u=T??Number.MAX_VALUE),t.$$.dirty[0]&65536&&n(24,s=B??Number.MAX_VALUE),t.$$.dirty[0]&1024&&(f=typeof N=="string"?N:Pe),t.$$.dirty[0]&1&&n(31,a=I===qr.Line?"right":"bottom-right"),t.$$.dirty[0]&2048|t.$$.dirty[1]&1&&n(28,d=Y??a),t.$$.dirty[0]&268435456&&n(4,h=d.split("-")),t.$$.dirty[0]&1&&n(30,g=I===qr.Line?"border-color":"background-color"),t.$$.dirty[0]&4194304&&n(29,_=G??""),t.$$.dirty[0]&1610616832&&n(3,y=H?`${_} ${g}: ${H};`:_),t.$$.dirty[0]&532545536&&(he==null||he.update({controlPosition:d,boundaries:{minWidth:r,minHeight:l,maxWidth:u,maxHeight:s},keepAspectRatio:!!W,onResizeStart:K,onResize:X,onResizeEnd:q,shouldResize:P}))},[I,j,R,y,h,fe,ae,Q,ve,ke,N,Y,H,L,x,T,B,W,P,K,X,q,G,he,s,u,l,r,d,_,g,a,S,E,_e]}class f7 extends Ie{constructor(e){super(),Te(this,e,s7,u7,Oe,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}const Ud=t=>R5(t),b1=()=>Ll();function a7(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:r,snapGrid:l,viewport:u,width:s,height:f,minZoom:a,maxZoom:d,panZoom:h,nodes:g,edges:_,domNode:y,nodeLookup:b,edgeLookup:p}=ct(),A=O=>{const E=Ud(O)&&io(O)?O:ue(b).get(O.id);return E?Fs(E):null},w=(O,E,S={replace:!1})=>{g.update(N=>N.map(Y=>{if(Y.id===O){const I=typeof E=="function"?E(Y):E;return S.replace&&Ud(I)?I:{...Y,...I}}return Y}))};return{zoomIn:t,zoomOut:e,getNode:O=>ue(b).get(O),getNodes:O=>O===void 0?ue(g):xd(ue(b),O),getEdge:O=>ue(p).get(O),getEdges:O=>O===void 0?ue(_):xd(ue(p),O),setZoom:(O,E)=>{var S;(S=ue(h))==null||S.scaleTo(O,{duration:E==null?void 0:E.duration})},getZoom:()=>ue(u).zoom,setViewport:(O,E)=>{var N;const S=ue(u);(N=ue(h))==null||N.setViewport({x:O.x??S.x,y:O.y??S.y,zoom:O.zoom??S.zoom},{duration:E==null?void 0:E.duration})},getViewport:()=>ue(u),setCenter:(O,E,S)=>{var Y;const N=typeof(S==null?void 0:S.zoom)<"u"?S.zoom:ue(d);(Y=ue(h))==null||Y.setViewport({x:ue(s)/2-O*N,y:ue(f)/2-E*N,zoom:N},{duration:S==null?void 0:S.duration})},fitView:n,fitBounds:(O,E)=>{var N;const S=rf(O,ue(s),ue(f),ue(a),ue(d),(E==null?void 0:E.padding)??.1);(N=ue(h))==null||N.setViewport(S,{duration:E==null?void 0:E.duration})},getIntersectingNodes:(O,E=!0,S)=>{const N=td(O),Y=N?O:A(O);return Y?(S||ue(g)).filter(I=>{var T;if(!N&&(I.id===O.id||!((T=I.computed)!=null&&T.positionAbsolute)))return!1;const H=Fs(I),L=Ol(H,Y);return E&&L>0||L>=Y.width*Y.height}):[]},isNodeIntersecting:(O,E,S=!0)=>{const Y=td(O)?O:A(O);if(!Y)return!1;const I=Ol(Y,E);return S&&I>0||I>=Y.width*Y.height},deleteElements:async({nodes:O=[],edges:E=[]})=>{const{nodes:S,edges:N}=await Uh({nodesToRemove:O,edgesToRemove:E,nodes:ue(g),edges:ue(_),onBeforeDelete:ue(r)});return S&&g.update(Y=>Y.filter(I=>!S.some(({id:H})=>H===I.id))),N&&_.update(Y=>Y.filter(I=>!N.some(({id:H})=>H===I.id))),{deletedNodes:S,deletedEdges:N}},screenToFlowPosition:(O,E={snapToGrid:!0})=>{const S=ue(y);if(!S)return O;const N=E.snapToGrid?ue(l):!1,{x:Y,y:I,zoom:H}=ue(u),{x:L,y:x}=S.getBoundingClientRect(),T={x:O.x-L,y:O.y-x};return Yl(T,[Y,I,H],N!==null,N||[1,1])},flowToScreenPosition:O=>{const E=ue(y);if(!E)return O;const{x:S,y:N,zoom:Y}=ue(u),{x:I,y:H}=E.getBoundingClientRect(),L=Gh(O,[S,N,Y]);return{x:L.x+I,y:L.y+H}},toObject:()=>({nodes:ue(g).map(O=>({...O,position:{...O.position},data:{...O.data}})),edges:ue(_).map(O=>({...O})),viewport:{...ue(u)}}),updateNode:w,updateNodeData:(O,E,S)=>{w(O,N=>{const Y=typeof E=="function"?E(N):E;return S!=null&&S.replace?{...N,data:Y}:{...N,data:{...N.data,...Y}}})},viewport:u}}function xd(t,e){const n=[];for(const r of e){const l=t.get(r);l&&n.push(l)}return n}function c7(){const{domNode:t,updateNodeDimensions:e}=ct();return r=>{const l=Array.isArray(r)?r:[r],u=new Map;l.forEach(s=>{var a;const f=(a=ue(t))==null?void 0:a.querySelector(`.svelte-flow__node[data-id="${s}"]`);f&&u.set(s,{id:s,nodeElement:f,forceUpdate:!0})}),requestAnimationFrame(()=>e(u))}}function d7(){const{connection:t}=ct();return t}function h7(){const{nodes:t}=ct();return t}function v1(){const{edges:t}=ct();return t}var Ts={local:{},session:{}};function g7(t){return t==="local"?localStorage:sessionStorage}function p1(t,e,n){var r,l,u,s;const f=(r=n==null?void 0:n.serializer)!=null?r:JSON,a=(l=n==null?void 0:n.storage)!=null?l:"local",d=(u=n==null?void 0:n.syncTabs)!=null?u:!0,h=(s=n==null?void 0:n.onError)!=null?s:p=>console.error(`Error when writing value from persisted store "${t}" to ${a}`,p),g=typeof window<"u"&&typeof document<"u",_=g?g7(a):null;function y(p,A){try{_==null||_.setItem(p,f.stringify(A))}catch(w){h(w)}}function b(){const p=_==null?void 0:_.getItem(t);return p?f.parse(p):e}if(!Ts[a][t]){const p=b(),A=Ae(p,E=>{if(g&&a=="local"&&d){const S=N=>{N.key===t&&E(N.newValue?f.parse(N.newValue):null)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)}}),{subscribe:w,set:O}=A;Ts[a][t]={set(E){O(E),y(t,E)},update(E){return A.update(S=>{const N=E(S);return y(t,N),N})},subscribe:w}}return Ts[a][t]}const Pn=[{id:crypto.randomUUID().toString(),type:"default",data:{label:"Patch",connection:"",inputs:[],outputs:["ethernet","sdi","audio","power"],group:!1},position:{x:0,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Canvas",inputs:["dante","dmx","ethernet","sdi","audio","midi","osc","power"],outputs:["dante","dmx","ethernet","sdi","audio","midi","osc"]},dragHandle:".drag-dots",position:{x:0,y:100}}],Ks=[{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Pn[0].id,sourceHandle:"ethernet",target:Pn[1].id,targetHandle:"ethernet"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Pn[0].id,sourceHandle:"sdi",target:Pn[1].id,targetHandle:"sdi"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Pn[0].id,sourceHandle:"audio",target:Pn[1].id,targetHandle:"audio"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Pn[0].id,sourceHandle:"power",target:Pn[1].id,targetHandle:"power"}],m7=1,vl=1,_7={version:m7,theme:"dark"},Is=p1("preferences",_7),S1={version:vl,uniqueFlow:[{}],title:"PatchCanvas",nodes:Pn,edges:Ks},On=p1("save",S1);function y7(t){let e,n,r,l,u,s,f,a;return{c(){e=Ne("p"),e.textContent="Drag to the canvas!",n=He(),r=Ne("div"),l=Ne("div"),l.textContent="node",u=He(),s=Ne("div"),s.textContent="group",M(e,"class","svelte-6g6phf"),M(l,"draggable",!0),M(l,"class","svelte-6g6phf"),M(s,"draggable",!0),M(s,"class","svelte-6g6phf"),M(r,"class","nodes svelte-6g6phf")},m(d,h){ne(d,e,h),ne(d,n,h),ne(d,r,h),Ce(r,l),Ce(r,u),Ce(r,s),f||(a=[De(l,"dragstart",t[1]),De(s,"dragstart",t[2])],f=!0)},p:Me,i:Me,o:Me,d(d){d&&(ee(e),ee(n),ee(r)),f=!1,vt(a)}}}function w7(t){const e=(l,u)=>{if(!l.dataTransfer)return null;l.dataTransfer.setData("application/patchcanvasnode",u),l.dataTransfer.effectAllowed="move"};return[e,l=>e(l,JSON.stringify({inputs:[],outputs:[]})),l=>e(l,JSON.stringify({group:!0}))]}class b7 extends Ie{constructor(e){super(),Te(this,e,w7,y7,Oe,{})}}const v7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-audio-input-xlr"
	viewBox="0 -5 24 34"
	fill="currentColor"
	><path
		d="M12 4C16.41 4 20 7.59 20 12S16.41 20 12 20 4 16.41 4 12 7.59 4 12 4M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M13.5 16.5C13.5 15.67 12.83 15 12 15S10.5 15.67 10.5 16.5C10.5 17.33 11.17 18 12 18S13.5 17.33 13.5 16.5M9 12C9 11.17 8.33 10.5 7.5 10.5S6 11.17 6 12 6.67 13.5 7.5 13.5 9 12.83 9 12M18 12C18 11.17 17.33 10.5 16.5 10.5C15.67 10.5 15 11.17 15 12S15.67 13.5 16.5 13.5C17.33 13.5 18 12.83 18 12Z"
	/></svg
>
`,p7=`<svg
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	viewBox="350 -15 800 600"
	preserveAspectRatio="xMidYMid meet"
>
	<g
		transform="translate(0,576) scale(0.1,-0.1)"
		fill="currentColor"
		stroke="none"
	>
		<path
			d="M7125 4624 c-16 -2 -73 -9 -125 -15 -675 -76 -1339 -406 -1816 -902
-532 -551 -804 -1238 -804 -2029 l0 -78 214 0 213 0 6 203 c10 340 66 595 197
898 183 423 517 812 925 1079 141 92 417 228 570 280 295 101 591 150 908 150
l127 0 0 210 0 210 -192 -1 c-106 -1 -206 -4 -223 -5z"
		/>
		<path
			d="M7260 3773 c-786 -55 -1456 -474 -1795 -1125 -145 -279 -211 -536
-222 -870 l-6 -178 861 0 862 0 0 225 0 225 -631 0 -632 0 7 40 c12 73 67 233
116 335 189 392 539 697 976 848 92 32 272 77 309 77 13 0 15 -99 15 -875 l0
-875 210 0 210 0 0 1090 0 1090 -117 -2 c-65 -1 -138 -3 -163 -5z"
		/>
		<path
			d="M4380 1130 l0 -130 215 0 215 0 0 130 0 130 -215 0 -215 0 0 -130z"
		/>
		<path
			d="M5240 1130 l0 -130 1155 0 1155 0 0 130 0 130 -1155 0 -1155 0 0
-130z"
		/>
	</g>
</svg>
`,S7=`<svg fill="currentColor" viewBox="-2 -5 24 34" xmlns="http://www.w3.org/2000/svg"
	><title>lightbulb</title><path
		d="M12,2A7,7,0,0,0,8,14.74V17a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V14.74A7,7,0,0,0,12,2ZM9,21a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V20H9Z"
	/></svg
>
`,k7=`<svg
	viewBox="1 -3 24 28"
	id="Layer_1"
	data-name="Layer 1"
	xmlns="http://www.w3.org/2000/svg"
	><defs
		><style>
			.cls-1 {
				fill: none;
				stroke: currentColor;
				stroke-miterlimit: 10;
				stroke-width: 1.91px;
			}
		</style></defs
	><polygon
		class="cls-1"
		points="5.32 6.27 5.32 13.91 7.23 13.91 7.23 15.82 10.09 15.82 10.09 17.73 13.91 17.73 13.91 15.82 16.77 15.82 16.77 13.91 18.68 13.91 18.68 6.27 5.32 6.27"
	/><line class="cls-1" x1="8.18" y1="9.14" x2="8.18" y2="6.27" /><line
		class="cls-1"
		x1="12"
		y1="9.14"
		x2="12"
		y2="6.27"
	/><line class="cls-1" x1="15.82" y1="9.14" x2="15.82" y2="6.27" /></svg
>
`,E7=`<svg
	viewBox="0 -5 24 34"
	xmlns="http://www.w3.org/2000/svg"
	fill="currentColor"
	><path
		d="m12 2a10 10 0 0 1 10 10 10 10 0 0 1 -10 10 10 10 0 0 1 -10-10 10 10 0 0 1 10-10m8.18 10c0-3.82-2.63-7.04-6.18-7.93v1.93h-4v-1.93c-3.55.89-6.18 4.11-6.18 7.93a8.18 8.18 0 0 0 8.18 8.18 8.18 8.18 0 0 0 8.18-8.18m-13.18-1.36a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36c-.75 0-1.36-.61-1.36-1.36s.61-1.36 1.36-1.36m10 0a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36m-8.64 3.63a1.37 1.37 0 0 1 1.37 1.37c0 .75-.61 1.36-1.37 1.36a1.36 1.36 0 0 1 -1.36-1.36c0-.76.61-1.37 1.36-1.37m7.28 0c.75 0 1.36.61 1.36 1.37a1.36 1.36 0 0 1 -1.36 1.36c-.76 0-1.37-.61-1.37-1.36a1.37 1.37 0 0 1 1.37-1.37m-3.64 1.37a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36z"
	/></svg
>
`,C7=`<svg
  viewBox="-25 -128 512 750"
  xmlns="http://www.w3.org/2000/svg"
  fill="currentColor"
>
  <polygon
    points="385.128 118.178 359.868 137.822 451.732 255.944 359.813 374.18 385.076 393.82 492.268 255.94 385.128 118.178"
  />
  <polygon
    points="119.814 118.177 12.621 255.993 119.759 393.819 145.022 374.181 53.156 255.999 145.074 137.823 119.814 118.177"
  />
  <rect
    width="32"
    height="32"
    x="160"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="240"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="320"
    y="240"
  />
</svg>
`,A7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-power-plug-outline"
	viewBox="1 -4 24 30"
	fill="currentColor"
	><path
		d="M16 7V3H14V7H10V3H8V7C7 7 6 8 6 9V14.5L9.5 18V21H14.5V18L18 14.5V9C18 8 17 7 16 7M16 13.67L13.09 16.59L12.67 17H11.33L10.92 16.59L8 13.67V9.09C8 9.06 8.06 9 8.09 9H15.92C15.95 9 16 9.06 16 9.09V13.67Z"
	/></svg
>
`,M7=`<svg viewBox="-6 -16 54 80" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\r
  <title>output</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none" />\r
    </g>\r
    <g id="Layer_6" data-name="Layer 6">\r
      <g>\r
        <path\r
          d="M45.4,22.6l-7.9-8a2.1,2.1,0,0,0-2.7-.2,1.9,1.9,0,0,0-.2,3L39.2,22H16a2,2,0,0,0,0,4H39.2l-4.6,4.6a1.9,1.9,0,0,0,.2,3,2.1,2.1,0,0,0,2.7-.2l7.9-8A1.9,1.9,0,0,0,45.4,22.6Z"\r
        />\r
        <path\r
          d="M28,42H24A18,18,0,0,1,24,6h4a2,2,0,0,0,1.4-.6A2,2,0,0,0,30,4a2.4,2.4,0,0,0-.2-.9A2,2,0,0,0,28,2H23.8a22,22,0,0,0,.1,44H28a2,2,0,0,0,1.4-.6l.4-.5A2.4,2.4,0,0,0,30,44,2,2,0,0,0,28,42Z"\r
        />\r
      </g>\r
    </g>\r
  </g>\r
</svg>\r
`,Gd=["dante","dmx","sdi","ethernet","audio","midi","osc","power"],Gt={dante:["red",1,p7],dmx:["dodgerblue",2,S7],sdi:["limegreen",3,M7],ethernet:["gold",4,k7],audio:["orange",5,v7],midi:["hotpink",6,E7],osc:["magenta",7,C7],power:["var(--font-colour)",8,A7]};function P7(t,e){let n=Gd.indexOf(t),r=Gd.indexOf(e);return Math.sign(n-r)}const T7='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 103.38" fill="currentColor" style="enable-background:new 0 0 122.88 103.38" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"/></g></svg>';function qd(t,e,n){const r=t.slice();return r[17]=e[n][0],r[18]=e[n][1],r}function Zd(t){let e,n,r=t[18][2]+"",l,u=t[17]+"",s,f,a,d;function h(){return t[10](t[17])}function g(){return t[11](t[17])}function _(...y){return t[12](t[17],...y)}return{c(){e=Ne("div"),n=Ne("div"),l=He(),s=qt(u),f=He(),M(n,"class","icon"),M(e,"class","connection svelte-1p0ysxd"),We(e,"--connection",t[18][0]),M(e,"draggable",!0)},m(y,b){ne(y,e,b),Ce(e,n),n.innerHTML=r,Ce(e,l),Ce(e,s),Ce(e,f),a||(d=[De(e,"mouseenter",h),De(e,"mouseleave",g),De(e,"dragstart",_),De(e,"dragend",t[9])],a=!0)},p(y,b){t=y},d(y){y&&ee(e),a=!1,vt(d)}}}function I7(t){let e,n,r,l,u,s,f,a,d,h=kt(t[2]),g=[];for(let _=0;_<h.length;_+=1)g[_]=Zd(qd(t,h,_));return{c(){e=Ne("p"),e.textContent="Connections",n=He(),r=Ne("div");for(let _=0;_<g.length;_+=1)g[_].c();l=He(),u=Ne("div"),s=new Jw(!1),f=qt(" erase"),M(e,"class","svelte-1p0ysxd"),M(r,"class","connections svelte-1p0ysxd"),s.a=f,M(u,"class","eraser svelte-1p0ysxd"),M(u,"draggable",!0)},m(_,y){ne(_,e,y),ne(_,n,y),ne(_,r,y);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(r,null);ne(_,l,y),ne(_,u,y),s.m(T7,u),Ce(u,f),t[13](u),a||(d=[De(u,"mouseenter",t[3]),De(u,"mouseleave",t[4]),De(u,"dragstart",t[14]),De(u,"dragend",t[9])],a=!0)},p(_,[y]){if(y&740){h=kt(_[2]);let b;for(b=0;b<h.length;b+=1){const p=qd(_,h,b);g[b]?g[b].p(p,y):(g[b]=Zd(p),g[b].c(),g[b].m(r,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=h.length}},i:Me,o:Me,d(_){_&&(ee(e),ee(n),ee(r),ee(l),ee(u)),Os(g,_),t[13](null),a=!1,vt(d)}}}function O7(t,e,n){let r;const l=v1();de(t,l,S=>n(16,r=S));const u=Object.entries(Gt);function s(){for(let S of r)S.class+="fade-out";l.set(r);for(let S of document.querySelectorAll(".svelte-flow__node .label"))S.classList.add("fade-out");for(let S of document.querySelectorAll(".svelte-flow__handle"))S.classList.add("highlight")}function f(){var S;for(let N of r)N.class=(S=N.class)==null?void 0:S.replace("fade-out","");l.set(r);for(let N of document.querySelectorAll(".svelte-flow__node .label"))N.classList.remove("fade-out");for(let N of document.querySelectorAll(".svelte-flow__handle"))N.classList.remove("highlight")}function a(S){for(let N of r)N.sourceHandle===S?N.class+="highlight":N.class+="fade-out";l.set(r);for(let N of document.querySelectorAll(".svelte-flow__handle"))N.getAttribute("data-handleid")===S?N.classList.add("highlight"):N.classList.add("fade-out")}function d(S){var N,Y;S=S;for(let I of r)I.sourceHandle===S?I.class=(N=I.class)==null?void 0:N.replace("highlight",""):I.class=(Y=I.class)==null?void 0:Y.replace("fade-out","");l.set(r);for(let I of document.querySelectorAll(".svelte-flow__handle"))I.getAttribute("data-handleid")===S?I.classList.remove("highlight"):I.classList.remove("fade-out")}let h;const g=(S,N)=>{if(!S.dataTransfer)return null;S.dataTransfer.setData(`patchcanvasconnection/${N}`,""),S.dataTransfer.effectAllowed="move",h=S.target.cloneNode(!0),h.classList.add("dragging"),h.style.position="absolute",h.style.top="0",h.style.right="0",h.style.zIndex="-1",h.style.setProperty("--connection",Gt[N][0]),document.body.appendChild(h),S.dataTransfer.setDragImage(h,-16,0)};let _;const y=S=>{if(!S.dataTransfer)return null;S.dataTransfer.setData("application/patchcanvaseraser",""),S.dataTransfer.effectAllowed="move",h=_.cloneNode(!0),h.classList.add("dragging"),h.style.position="absolute",h.style.top="0",h.style.right="0",h.style.zIndex="-1",document.body.appendChild(h),S.dataTransfer.setDragImage(h,-16,0)},b=()=>{h.remove()},p=S=>a(S),A=S=>d(S),w=(S,N)=>g(N,S);function O(S){Vn[S?"unshift":"push"](()=>{_=S,n(0,_)})}return[_,l,u,s,f,a,d,g,y,b,p,A,w,O,S=>y(S)]}class N7 extends Ie{constructor(e){super(),Te(this,e,O7,I7,Oe,{})}}var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function H7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});function k1(t,e){var n=document.createElement("a");n.href=e,n.download=t,n.click()}Kl.downloadUrl=k1;function E1(t,e){var n=URL.createObjectURL(e);k1(t,n),URL.revokeObjectURL(n)}Kl.downloadBlob=E1;function z7(t,e){E1(t,new Blob([e],{type:"octet/stream"}))}var L7=Kl.downloadText=z7;function R7(t){let e,n,r=t[1].title+"",l,u,s,f,a,d,h,g,_,y,b,p,A,w;return{c(){e=Ne("div"),n=Ne("h1"),l=qt(r),u=He(),s=Ne("button"),s.textContent="Rename",f=He(),a=Ne("div"),d=Ne("button"),d.textContent="New",h=He(),g=Ne("button"),_=qt(`Import
		`),y=Ne("input"),b=He(),p=Ne("button"),p.textContent="Export",M(e,"class","title svelte-kjx2hd"),M(y,"type","file"),M(y,"accept",".patch"),M(a,"class","buttons svelte-kjx2hd")},m(O,E){ne(O,e,E),Ce(e,n),Ce(n,l),Ce(e,u),Ce(e,s),ne(O,f,E),ne(O,a,E),Ce(a,d),Ce(a,h),Ce(a,g),Ce(g,_),Ce(g,y),Ce(a,b),Ce(a,p),A||(w=[De(s,"click",t[3]),De(d,"click",C1),De(y,"change",t[6]),De(y,"change",t[2]),De(p,"click",t[4])],A=!0)},p(O,[E]){E&2&&r!==(r=O[1].title+"")&&Xi(l,r)},i:Me,o:Me,d(O){O&&(ee(e),ee(f),ee(a)),A=!1,vt(w)}}}function D7(t,e,n){let r;de(t,On,h=>n(1,r=h));let l;function u(){if(!l[0])return;let h=new FileReader;h.readAsText(l[0]),h.onload=g=>{var y;let _=JSON.parse((y=g.target)==null?void 0:y.result);s(_)}}function s(h){Nn(On,r=h,r),Nn(On,r.uniqueFlow=[{}],r)}function f(){let h=prompt(void 0,r.title);h!==null&&Nn(On,r.title=h,r)}function a(){let h=JSON.stringify(ue(On));L7(r.title+".patch",h)}function d(){l=this.files,n(0,l)}return[l,r,u,f,a,s,d]}class W7 extends Ie{constructor(e){super(),Te(this,e,D7,R7,Oe,{load:5})}get load(){return this.$$.ctx[5]}}function B7(t){let e,n,r,l,u,s,f,a,d,h,g={};return r=new W7({props:g}),t[0](r),s=new b7({}),d=new N7({}),{c(){e=Ne("aside"),n=Ne("div"),be(r.$$.fragment),l=He(),u=Ne("div"),be(s.$$.fragment),f=He(),a=Ne("div"),be(d.$$.fragment),M(a,"class","rotate svelte-29yh0d"),M(e,"class","svelte-29yh0d")},m(_,y){ne(_,e,y),Ce(e,n),ye(r,n,null),Ce(e,l),Ce(e,u),ye(s,u,null),Ce(e,f),Ce(e,a),ye(d,a,null),h=!0},p(_,[y]){const b={};r.$set(b)},i(_){h||(J(r.$$.fragment,_),J(s.$$.fragment,_),J(d.$$.fragment,_),h=!0)},o(_){$(r.$$.fragment,_),$(s.$$.fragment,_),$(d.$$.fragment,_),h=!1},d(_){_&&ee(e),t[0](null),we(r),we(s),we(d)}}}let Us;const C1=function(){Us&&Us.load(S1)};function X7(t,e,n){function r(l){Vn[l?"unshift":"push"](()=>{Us=l})}return[r]}class Y7 extends Ie{constructor(e){super(),Te(this,e,X7,B7,Oe,{})}}function F7(t){let e,n;return e=new ho({props:{path:t[6],labelX:t[5],labelY:t[4],markerStart:t[2],markerEnd:t[0],style:t[1],class:t[3]}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&64&&(u.path=r[6]),l&32&&(u.labelX=r[5]),l&16&&(u.labelY=r[4]),l&4&&(u.markerStart=r[2]),l&1&&(u.markerEnd=r[0]),l&2&&(u.style=r[1]),l&8&&(u.class=r[3]),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function V7(t,e,n){let r,l,u,{id:s}=e,{type:f}=e,{source:a}=e,{sourceX:d}=e,{sourceY:h}=e,{sourcePosition:g}=e,{sourceHandleId:_=""}=e,{target:y}=e,{targetX:b}=e,{targetY:p}=e,{targetPosition:A}=e,{targetHandleId:w=""}=e,{markerStart:O=void 0}=e,{markerEnd:E=void 0}=e,{animated:S=!1}=e,{selected:N=!1}=e,{label:Y=""}=e,{labelStyle:I=""}=e,{data:H=void 0}=e,{interactionWidth:L=void 0}=e,{style:x=""}=e,{edgeClass:T=""}=e;return v1(),t.$$set=B=>{"id"in B&&n(7,s=B.id),"type"in B&&n(8,f=B.type),"source"in B&&n(9,a=B.source),"sourceX"in B&&n(10,d=B.sourceX),"sourceY"in B&&n(11,h=B.sourceY),"sourcePosition"in B&&n(12,g=B.sourcePosition),"sourceHandleId"in B&&n(13,_=B.sourceHandleId),"target"in B&&n(14,y=B.target),"targetX"in B&&n(15,b=B.targetX),"targetY"in B&&n(16,p=B.targetY),"targetPosition"in B&&n(17,A=B.targetPosition),"targetHandleId"in B&&n(18,w=B.targetHandleId),"markerStart"in B&&n(2,O=B.markerStart),"markerEnd"in B&&n(0,E=B.markerEnd),"animated"in B&&n(19,S=B.animated),"selected"in B&&n(20,N=B.selected),"label"in B&&n(21,Y=B.label),"labelStyle"in B&&n(22,I=B.labelStyle),"data"in B&&n(23,H=B.data),"interactionWidth"in B&&n(24,L=B.interactionWidth),"style"in B&&n(1,x=B.style),"edgeClass"in B&&n(3,T=B.edgeClass)},t.$$.update=()=>{if(t.$$.dirty&236544&&n(6,[r,l,u]=wr({sourceX:d,sourceY:h,sourcePosition:g,targetX:b,targetY:p,targetPosition:A}),r,(n(5,l),n(10,d),n(11,h),n(12,g),n(15,b),n(16,p),n(17,A)),(n(4,u),n(10,d),n(11,h),n(12,g),n(15,b),n(16,p),n(17,A))),t.$$.dirty&8192){let B=Gt[_??""][0];n(1,x=`stroke: ${B};`),n(0,E=`url(#${_})`)}},[E,x,O,T,u,l,r,s,f,a,d,h,g,_,y,b,p,A,w,S,N,Y,I,H,L]}class K7 extends Ie{constructor(e){super(),Te(this,e,V7,F7,Oe,{id:7,type:8,source:9,sourceX:10,sourceY:11,sourcePosition:12,sourceHandleId:13,target:14,targetX:15,targetY:16,targetPosition:17,targetHandleId:18,markerStart:2,markerEnd:0,animated:19,selected:20,label:21,labelStyle:22,data:23,interactionWidth:24,style:1,edgeClass:3})}}const U7=`<svg fill="currentColor" viewBox="4 2 8 12" xmlns="http://www.w3.org/2000/svg"\r
	><path\r
		fill-rule="evenodd"\r
		d="M7.375 3.67c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm0 8.66c0-.646-.56-1.17-1.25-1.17s-1.25.524-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17zm-1.25-5.5c.69 0 1.25.525 1.25 1.17 0 .645-.56 1.17-1.25 1.17S4.875 8.645 4.875 8c0-.645.56-1.17 1.25-1.17zm5-3.16c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm-1.25 7.49c.69 0 1.25.524 1.25 1.17 0 .645-.56 1.17-1.25 1.17s-1.25-.525-1.25-1.17c0-.646.56-1.17 1.25-1.17zM11.125 8c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17z"\r
	/></svg\r
>\r
`;function x7(t){let e,n;return e=new ro({props:{id:t[0],type:t[1]==="input"?"target":"source",position:t[1]==="input"?Ve.Top:Ve.Bottom,style:t[2]+`background: ${Gt[t[0]][0]};
		left: calc( ${t[1]==="input"?"":"12px + "} (${Gt[t[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`,isConnectable:!0}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&1&&(u.id=r[0]),l&2&&(u.type=r[1]==="input"?"target":"source"),l&2&&(u.position=r[1]==="input"?Ve.Top:Ve.Bottom),l&7&&(u.style=r[2]+`background: ${Gt[r[0]][0]};
		left: calc( ${r[1]==="input"?"":"12px + "} (${Gt[r[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function G7(t,e,n){let{id:r}=e,{io:l}=e,{style:u=""}=e,{drop:s}=e;return addEventListener("drop",s),t.$$set=f=>{"id"in f&&n(0,r=f.id),"io"in f&&n(1,l=f.io),"style"in f&&n(2,u=f.style),"drop"in f&&n(3,s=f.drop)},[r,l,u,s]}class A1 extends Ie{constructor(e){super(),Te(this,e,G7,x7,Oe,{id:0,io:1,style:2,drop:3})}}function Jd(t,e,n){const r=t.slice();return r[39]=e[n],r}function Qd(t,e,n){const r=t.slice();return r[39]=e[n],r}function jd(t){let e,n,r,l,u,s,f;return{c(){e=Ne("div"),n=He(),r=Ne("div"),l=He(),u=Ne("div"),M(e,"class","drop-target inputs svelte-zmau3w"),M(r,"class","drop-target outputs svelte-zmau3w"),M(u,"class","hover svelte-zmau3w")},m(a,d){ne(a,e,d),t[24](e),ne(a,n,d),ne(a,r,d),t[28](r),ne(a,l,d),ne(a,u,d),s||(f=[De(e,"dragenter",t[25]),De(e,"dragleave",t[26]),De(e,"drop",t[27]),De(r,"dragenter",t[29]),De(r,"dragleave",t[30]),De(r,"drop",t[31])],s=!0)},p:Me,d(a){a&&(ee(e),ee(n),ee(r),ee(l),ee(u)),t[24](null),t[28](null),s=!1,vt(f)}}}function $d(t){let e,n;return e=new f7({props:{minWidth:200,minHeight:105,style:"background: transparent; border: none;",$$slots:{default:[q7]},$$scope:{ctx:t}}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function q7(t){let e,n,r,l,u,s;return{c(){e=Xe("svg"),n=Xe("path"),r=Xe("polyline"),l=Xe("line"),u=Xe("polyline"),s=Xe("line"),M(n,"stroke","none"),M(n,"d","M0 0h24v24H0z"),M(n,"fill","none"),M(r,"points","16 20 20 20 20 16"),M(l,"x1","14"),M(l,"y1","14"),M(l,"x2","20"),M(l,"y2","20"),M(u,"points","8 4 4 4 4 8"),M(s,"x1","4"),M(s,"y1","4"),M(s,"x2","10"),M(s,"y2","10"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"width","15"),M(e,"height","15"),M(e,"viewBox","0 0 24 24"),M(e,"stroke-width","2"),M(e,"stroke","var(--font-colour)"),M(e,"fill","none"),M(e,"stroke-linecap","round"),M(e,"stroke-linejoin","round"),We(e,"position","absolute"),We(e,"right","0.5em"),We(e,"bottom","0.5em")},m(f,a){ne(f,e,a),Ce(e,n),Ce(e,r),Ce(e,l),Ce(e,u),Ce(e,s)},p:Me,d(f){f&&ee(e)}}}function eh(t,e){let n,r,l;return r=new A1({props:{id:e[39],io:"input",drop:e[7]}}),{key:t,first:null,c(){n=bt(),be(r.$$.fragment),this.first=n},m(u,s){ne(u,n,s),ye(r,u,s),l=!0},p(u,s){e=u;const f={};s[0]&1&&(f.id=e[39]),r.$set(f)},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){$(r.$$.fragment,u),l=!1},d(u){u&&ee(n),we(r,u)}}}function th(t,e){let n,r,l;return r=new A1({props:{id:e[39],io:"output",drop:e[7]}}),{key:t,first:null,c(){n=bt(),be(r.$$.fragment),this.first=n},m(u,s){ne(u,n,s),ye(r,u,s),l=!0},p(u,s){e=u;const f={};s[0]&1&&(f.id=e[39]),r.$set(f)},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){$(r.$$.fragment,u),l=!1},d(u){u&&ee(n),we(r,u)}}}function Z7(t){let e,n,r,l,u=t[0].label+"",s,f,a,d,h,g,_,y=[],b=new Map,p,A=[],w=new Map,O,E,S,N,Y=!t[0].group&&jd(t),I=t[0].group&&$d(t),H=kt(t[0].inputs);const L=B=>B[39];for(let B=0;B<H.length;B+=1){let W=Qd(t,H,B),P=L(W);b.set(P,y[B]=eh(P,W))}let x=kt(t[0].outputs);const T=B=>B[39];for(let B=0;B<x.length;B+=1){let W=Jd(t,x,B),P=T(W);w.set(P,A[B]=th(P,W))}return{c(){Y&&Y.c(),e=He(),n=Ne("div"),r=Ne("span"),l=He(),s=qt(u),f=He(),a=Ne("button"),a.textContent="✎",d=He(),h=Ne("button"),h.textContent="❌",g=He(),I&&I.c(),_=He();for(let B=0;B<y.length;B+=1)y[B].c();p=He();for(let B=0;B<A.length;B+=1)A[B].c();O=bt(),M(r,"class","drag-handle drag-dots svelte-zmau3w"),M(a,"class","reverse svelte-zmau3w"),M(h,"class","svelte-zmau3w"),M(n,"class","label svelte-zmau3w")},m(B,W){Y&&Y.m(B,W),ne(B,e,W),ne(B,n,W),Ce(n,r),r.innerHTML=U7,Ce(n,l),Ce(n,s),Ce(n,f),Ce(n,a),Ce(n,d),Ce(n,h),ne(B,g,W),I&&I.m(B,W),ne(B,_,W);for(let P=0;P<y.length;P+=1)y[P]&&y[P].m(B,W);ne(B,p,W);for(let P=0;P<A.length;P+=1)A[P]&&A[P].m(B,W);ne(B,O,W),E=!0,S||(N=[De(a,"click",t[32]),De(h,"click",t[33])],S=!0)},p(B,W){B[0].group?Y&&(Y.d(1),Y=null):Y?Y.p(B,W):(Y=jd(B),Y.c(),Y.m(e.parentNode,e)),(!E||W[0]&1)&&u!==(u=B[0].label+"")&&Xi(s,u),B[0].group?I?W[0]&1&&J(I,1):(I=$d(B),I.c(),J(I,1),I.m(_.parentNode,_)):I&&(ft(),$(I,1,1,()=>{I=null}),at()),W[0]&129&&(H=kt(B[0].inputs),ft(),y=Wi(y,W,L,1,B,H,b,p.parentNode,Di,eh,p,Qd),at()),W[0]&129&&(x=kt(B[0].outputs),ft(),A=Wi(A,W,T,1,B,x,w,O.parentNode,Di,th,O,Jd),at())},i(B){if(!E){J(I);for(let W=0;W<H.length;W+=1)J(y[W]);for(let W=0;W<x.length;W+=1)J(A[W]);E=!0}},o(B){$(I);for(let W=0;W<y.length;W+=1)$(y[W]);for(let W=0;W<A.length;W+=1)$(A[W]);E=!1},d(B){B&&(ee(e),ee(n),ee(g),ee(_),ee(p),ee(O)),Y&&Y.d(B),I&&I.d(B);for(let W=0;W<y.length;W+=1)y[W].d(B);for(let W=0;W<A.length;W+=1)A[W].d(B);S=!1,vt(N)}}}function gl(t,e){return!t.includes(e)}function J7(t,e,n){let r;const l=h7();de(t,l,R=>n(34,r=R));let{id:u}=e,{data:s}=e,{dragHandle:f=void 0}=e,{type:a}=e,{isConnectable:d}=e,{selected:h=void 0}=e,{zIndex:g}=e,{positionAbsoluteX:_}=e,{positionAbsoluteY:y}=e,{width:b=void 0}=e,{height:p=void 0}=e,{dragging:A=!1}=e,{sourcePosition:w=void 0}=e,{targetPosition:O=void 0}=e,E=s,S,N;const Y=(R,he,_e)=>{if(R.preventDefault(),R.stopPropagation(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasconnection/")){const oe=R.dataTransfer.types[0].replace("patchcanvasconnection/","");let le=!1;switch(he){case"input":le=gl(E.inputs,oe);break;case"output":le=gl(E.outputs,oe);break}le?(P([...he==="input"?E.inputs:E.outputs,oe],_e),_e.style.backgroundColor="green",R.dataTransfer.dropEffect="move"):(_e.style.backgroundColor="red",_e.style.backgroundImage="",R.dataTransfer.dropEffect="none")}},I=(R,he)=>{R.preventDefault(),he.style.backgroundColor="",he===S?P(E.inputs,S):P(E.outputs,N)},H=(R,he,_e)=>{if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasconnection/")){const oe=R.dataTransfer.types[0].replace("patchcanvasconnection/","");let le=!1;switch(he){case"input":le=gl(E.inputs,oe);break;case"output":le=gl(E.outputs,oe);break}le&&T(oe,he),_e.style.backgroundColor="",P(he==="input"?E.inputs:E.outputs,_e)}},L=R=>{var he,_e,oe;if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0]==="application/patchcanvaseraser"){if(((he=R.target.attributes.getNamedItem("data-nodeid"))==null?void 0:he.value)!==u)return null;let le=(_e=R.target.attributes.getNamedItem("data-handleid"))==null?void 0:_e.value,Ye=((oe=R.target.attributes.getNamedItem("data-handlepos"))==null?void 0:oe.value)==="top"?"input":"output";K(le,Ye),P(Ye==="input"?E.inputs:E.outputs,Ye==="input"?S:N)}},x=c7();function T(R,he){switch(he){case"input":E.inputs.push(R);break;case"output":E.outputs.push(R);break}n(0,E),x(u)}function B(){let R=prompt(`Rename '${E.label}' to:`,E.label);R!==null&&n(0,E.label=R,E)}function W(){window.confirm(`Actually delete ${E.label}?`)&&Nn(l,r=r.filter(he=>he.id!=u),r)}function P(R,he){if(he==null){setTimeout(P,0,R,he);return}let _e=[...R];_e.sort(P7);let oe=[];oe.push("transparent 2%");for(const le in Gt){let Ye="transparent";_e.includes(le)&&(Ye=Gt[le][0]);let nt=Gt[le][1];he===N&&(nt+=.75);let it=nt*16/150*100;Ye+=` ${it}%`,oe.push(Ye)}oe.push("transparent"),he.style.backgroundImage=`linear-gradient(to right, ${oe.join(", ")})`}setTimeout(()=>{P(E.inputs,S),P(E.outputs,N)},0);function K(R,he){switch(he){case"input":n(0,E.inputs=E.inputs.filter(_e=>_e!==R),E);break;case"output":n(0,E.outputs=E.outputs.filter(_e=>_e!==R),E);break}n(0,E),x(u)}function X(R){Vn[R?"unshift":"push"](()=>{S=R,n(1,S)})}const q=R=>Y(R,"input",S),G=R=>I(R,S),j=R=>H(R,"input",S);function fe(R){Vn[R?"unshift":"push"](()=>{N=R,n(2,N)})}const ae=R=>Y(R,"output",N),Q=R=>I(R,N),ve=R=>H(R,"output",N),ke=()=>B(),Pe=()=>W();return t.$$set=R=>{"id"in R&&n(10,u=R.id),"data"in R&&n(11,s=R.data),"dragHandle"in R&&n(12,f=R.dragHandle),"type"in R&&n(13,a=R.type),"isConnectable"in R&&n(14,d=R.isConnectable),"selected"in R&&n(15,h=R.selected),"zIndex"in R&&n(16,g=R.zIndex),"positionAbsoluteX"in R&&n(17,_=R.positionAbsoluteX),"positionAbsoluteY"in R&&n(18,y=R.positionAbsoluteY),"width"in R&&n(19,b=R.width),"height"in R&&n(20,p=R.height),"dragging"in R&&n(21,A=R.dragging),"sourcePosition"in R&&n(22,w=R.sourcePosition),"targetPosition"in R&&n(23,O=R.targetPosition)},[E,S,N,l,Y,I,H,L,B,W,u,s,f,a,d,h,g,_,y,b,p,A,w,O,X,q,G,j,fe,ae,Q,ve,ke,Pe]}class Q7 extends Ie{constructor(e){super(),Te(this,e,J7,Z7,Oe,{id:10,data:11,dragHandle:12,type:13,isConnectable:14,selected:15,zIndex:16,positionAbsoluteX:17,positionAbsoluteY:18,width:19,height:20,dragging:21,sourcePosition:22,targetPosition:23},null,[-1,-1])}}function nh(t){let e,n,r,l;function u(a,d){var h,g;if(((h=a[0].startHandle)==null?void 0:h.type)=="target")return $7;if(((g=a[0].startHandle)==null?void 0:g.type)=="source")return j7}let s=u(t),f=s&&s(t);return{c(){f&&f.c(),e=He(),n=Xe("circle"),M(n,"cx",r=t[0].targetX),M(n,"cy",l=t[0].targetY),M(n,"fill","var(--font-colour)"),M(n,"r",3),M(n,"stroke",Gt[t[3]][0]??"var(--font-colour)"),M(n,"stroke-width",1.5)},m(a,d){f&&f.m(a,d),ne(a,e,d),ne(a,n,d)},p(a,d){s===(s=u(a))&&f?f.p(a,d):(f&&f.d(1),f=s&&s(a),f&&(f.c(),f.m(e.parentNode,e))),d&1&&r!==(r=a[0].targetX)&&M(n,"cx",r),d&1&&l!==(l=a[0].targetY)&&M(n,"cy",l)},d(a){a&&(ee(e),ee(n)),f&&f.d(a)}}}function j7(t){let e,n;return{c(){var r;e=Xe("path"),M(e,"fill","none"),M(e,"stroke-width",1.5),M(e,"class","animated"),M(e,"stroke",Gt[t[3]][0]??"var(--font-colour)"),M(e,"d",t[1]),M(e,"marker-end",n="url(#"+((r=t[0].startHandle)==null?void 0:r.handleId)+"line)")},m(r,l){ne(r,e,l)},p(r,l){var u;l&2&&M(e,"d",r[1]),l&1&&n!==(n="url(#"+((u=r[0].startHandle)==null?void 0:u.handleId)+"line)")&&M(e,"marker-end",n)},d(r){r&&ee(e)}}}function $7(t){let e,n;return{c(){var r;e=Xe("path"),M(e,"fill","none"),M(e,"stroke-width",1.5),M(e,"class","animated"),M(e,"stroke",Gt[t[3]][0]??"var(--font-colour)"),M(e,"d",t[1]),M(e,"marker-start",n="url(#"+((r=t[0].startHandle)==null?void 0:r.handleId)+"line)")},m(r,l){ne(r,e,l)},p(r,l){var u;l&2&&M(e,"d",r[1]),l&1&&n!==(n="url(#"+((u=r[0].startHandle)==null?void 0:u.handleId)+"line)")&&M(e,"marker-start",n)},d(r){r&&ee(e)}}}function eS(t){let e,n=t[0].path&&nh(t);return{c(){n&&n.c(),e=bt()},m(r,l){n&&n.m(r,l),ne(r,e,l)},p(r,[l]){r[0].path?n?n.p(r,l):(n=nh(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Me,o:Me,d(r){r&&ee(e),n&&n.d(r)}}}function tS(t,e,n){var f;let r;const l=d7();de(t,l,a=>n(0,r=a));let u="",s=((f=r.startHandle)==null?void 0:f.handleId)??"";return t.$$.update=()=>{if(t.$$.dirty&1){let{sourceX:a,sourceY:d,sourcePosition:h,targetX:g,targetY:_,targetPosition:y}=r;n(1,[u]=wr({sourceX:a??0,sourceY:d??0,sourcePosition:h??Ve.Bottom,targetX:g??0,targetY:_??0,targetPosition:y??Ve.Top}),u)}},[r,u,l,s]}class nS extends Ie{constructor(e){super(),Te(this,e,tS,eS,Oe,{})}}function iS(t){let e,n,r,l,u,s,f;return{c(){e=Xe("svg"),n=Xe("defs"),r=Xe("marker"),l=Xe("polyline"),M(l,"stroke",t[0]),M(l,"stroke-linecap","round"),M(l,"stroke-linejoin","round"),M(l,"stroke-width",t[6]),M(l,"fill",t[0]),M(l,"points","-5,-4 0,0 -5,4 -5,-4"),M(r,"class","svelte-flow__arrowhead"),M(r,"id",t[1]),M(r,"markerWidth",u=`${t[2]}`),M(r,"markerHeight",s=`${t[3]}`),M(r,"viewBox","-10 -10 20 20"),M(r,"markerUnits",t[4]),M(r,"orient",t[5]),M(r,"refX",f=t[1].includes("line")?"4":"0"),M(r,"refY","0"),M(e,"class","svelte-1wqugfi")},m(a,d){ne(a,e,d),Ce(e,n),Ce(n,r),Ce(r,l)},p(a,[d]){d&1&&M(l,"stroke",a[0]),d&64&&M(l,"stroke-width",a[6]),d&1&&M(l,"fill",a[0]),d&2&&M(r,"id",a[1]),d&4&&u!==(u=`${a[2]}`)&&M(r,"markerWidth",u),d&8&&s!==(s=`${a[3]}`)&&M(r,"markerHeight",s),d&16&&M(r,"markerUnits",a[4]),d&32&&M(r,"orient",a[5]),d&2&&f!==(f=a[1].includes("line")?"4":"0")&&M(r,"refX",f)},i:Me,o:Me,d(a){a&&ee(e)}}}function rS(t,e,n){let{id:r}=e,{type:l}=e,{width:u=12.5}=e,{height:s=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(1,r=g.id),"type"in g&&n(7,l=g.type),"width"in g&&n(2,u=g.width),"height"in g&&n(3,s=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(0,d=g.color),"strokeWidth"in g&&n(6,h=g.strokeWidth)},t.$$.update=()=>{t.$$.dirty&2&&n(0,d=Gt[r.replace("line","")??""][0])},[d,r,u,s,f,a,h,l]}class M1 extends Ie{constructor(e){super(),Te(this,e,rS,iS,Oe,{id:1,type:7,width:2,height:3,markerUnits:4,orient:5,color:0,strokeWidth:6})}}var Hl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Hl.exports;(function(t,e){(function(){var n,r="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",f="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,_=2,y=4,b=1,p=2,A=1,w=2,O=4,E=8,S=16,N=32,Y=64,I=128,H=256,L=512,x=30,T="...",B=800,W=16,P=1,K=2,X=3,q=1/0,G=9007199254740991,j=17976931348623157e292,fe=NaN,ae=4294967295,Q=ae-1,ve=ae>>>1,ke=[["ary",I],["bind",A],["bindKey",w],["curry",E],["curryRight",S],["flip",L],["partial",N],["partialRight",Y],["rearg",H]],Pe="[object Arguments]",R="[object Array]",he="[object AsyncFunction]",_e="[object Boolean]",oe="[object Date]",le="[object DOMException]",Ye="[object Error]",nt="[object Function]",it="[object GeneratorFunction]",ot="[object Map]",$e="[object Number]",Sn="[object Null]",Et="[object Object]",tn="[object Promise]",cn="[object Proxy]",pe="[object RegExp]",pt="[object Set]",Zt="[object String]",dn="[object Symbol]",ce="[object Undefined]",Mt="[object WeakMap]",It="[object WeakSet]",ge="[object ArrayBuffer]",Lt="[object DataView]",Pt="[object Float32Array]",Ot="[object Float64Array]",zn="[object Int8Array]",Ln="[object Int16Array]",hn="[object Int32Array]",Rn="[object Uint8Array]",Un="[object Uint8ClampedArray]",xn="[object Uint16Array]",si="[object Uint32Array]",fi=/\b__p \+= '';/g,ai=/\b(__p \+=) '' \+/g,Nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sr=/&(?:amp|lt|gt|quot|#39);/g,Yi=/[&<>"']/g,Ul=RegExp(Sr.source),xl=RegExp(Yi.source),Gl=/<%-([\s\S]+?)%>/g,ql=/<%([\s\S]+?)%>/g,go=/<%=([\s\S]+?)%>/g,Zl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jl=/^\w*$/,Ql=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kr=/[\\^$.*+?()[\]{}|]/g,jl=RegExp(kr.source),Er=/^\s+/,$l=/\s/,eu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,tu=/\{\n\/\* \[wrapped with (.+)\] \*/,nu=/,? & /,iu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ru=/[()=,{}\[\]\/\s]/,ou=/\\(\\)?/g,lu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mo=/\w*$/,uu=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,P1=/^\[object .+?Constructor\]$/,T1=/^0o[0-7]+$/i,I1=/^(?:0|[1-9]\d*)$/,O1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_o=/($^)/,N1=/['\n\r\u2028\u2029\\]/g,yo="\\ud800-\\udfff",H1="\\u0300-\\u036f",z1="\\ufe20-\\ufe2f",L1="\\u20d0-\\u20ff",of=H1+z1+L1,lf="\\u2700-\\u27bf",uf="a-z\\xdf-\\xf6\\xf8-\\xff",R1="\\xac\\xb1\\xd7\\xf7",D1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",W1="\\u2000-\\u206f",B1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sf="A-Z\\xc0-\\xd6\\xd8-\\xde",ff="\\ufe0e\\ufe0f",af=R1+D1+W1+B1,su="['’]",X1="["+yo+"]",cf="["+af+"]",wo="["+of+"]",df="\\d+",Y1="["+lf+"]",hf="["+uf+"]",gf="[^"+yo+af+df+lf+uf+sf+"]",fu="\\ud83c[\\udffb-\\udfff]",F1="(?:"+wo+"|"+fu+")",mf="[^"+yo+"]",au="(?:\\ud83c[\\udde6-\\uddff]){2}",cu="[\\ud800-\\udbff][\\udc00-\\udfff]",Fi="["+sf+"]",_f="\\u200d",yf="(?:"+hf+"|"+gf+")",V1="(?:"+Fi+"|"+gf+")",wf="(?:"+su+"(?:d|ll|m|re|s|t|ve))?",bf="(?:"+su+"(?:D|LL|M|RE|S|T|VE))?",vf=F1+"?",pf="["+ff+"]?",K1="(?:"+_f+"(?:"+[mf,au,cu].join("|")+")"+pf+vf+")*",U1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",x1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Sf=pf+vf+K1,G1="(?:"+[Y1,au,cu].join("|")+")"+Sf,q1="(?:"+[mf+wo+"?",wo,au,cu,X1].join("|")+")",Z1=RegExp(su,"g"),J1=RegExp(wo,"g"),du=RegExp(fu+"(?="+fu+")|"+q1+Sf,"g"),Q1=RegExp([Fi+"?"+hf+"+"+wf+"(?="+[cf,Fi,"$"].join("|")+")",V1+"+"+bf+"(?="+[cf,Fi+yf,"$"].join("|")+")",Fi+"?"+yf+"+"+wf,Fi+"+"+bf,x1,U1,df,G1].join("|"),"g"),j1=RegExp("["+_f+yo+of+ff+"]"),$1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tg=-1,st={};st[Pt]=st[Ot]=st[zn]=st[Ln]=st[hn]=st[Rn]=st[Un]=st[xn]=st[si]=!0,st[Pe]=st[R]=st[ge]=st[_e]=st[Lt]=st[oe]=st[Ye]=st[nt]=st[ot]=st[$e]=st[Et]=st[pe]=st[pt]=st[Zt]=st[Mt]=!1;var ut={};ut[Pe]=ut[R]=ut[ge]=ut[Lt]=ut[_e]=ut[oe]=ut[Pt]=ut[Ot]=ut[zn]=ut[Ln]=ut[hn]=ut[ot]=ut[$e]=ut[Et]=ut[pe]=ut[pt]=ut[Zt]=ut[dn]=ut[Rn]=ut[Un]=ut[xn]=ut[si]=!0,ut[Ye]=ut[nt]=ut[Mt]=!1;var ng={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},ig={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},og={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lg=parseFloat,ug=parseInt,kf=typeof Fr=="object"&&Fr&&Fr.Object===Object&&Fr,sg=typeof self=="object"&&self&&self.Object===Object&&self,Ht=kf||sg||Function("return this")(),hu=e&&!e.nodeType&&e,Ci=hu&&!0&&t&&!t.nodeType&&t,Ef=Ci&&Ci.exports===hu,gu=Ef&&kf.process,gn=function(){try{var F=Ci&&Ci.require&&Ci.require("util").types;return F||gu&&gu.binding&&gu.binding("util")}catch{}}(),Cf=gn&&gn.isArrayBuffer,Af=gn&&gn.isDate,Mf=gn&&gn.isMap,Pf=gn&&gn.isRegExp,Tf=gn&&gn.isSet,If=gn&&gn.isTypedArray;function nn(F,te,Z){switch(Z.length){case 0:return F.call(te);case 1:return F.call(te,Z[0]);case 2:return F.call(te,Z[0],Z[1]);case 3:return F.call(te,Z[0],Z[1],Z[2])}return F.apply(te,Z)}function fg(F,te,Z,Se){for(var Fe=-1,Qe=F==null?0:F.length;++Fe<Qe;){var Ct=F[Fe];te(Se,Ct,Z(Ct),F)}return Se}function mn(F,te){for(var Z=-1,Se=F==null?0:F.length;++Z<Se&&te(F[Z],Z,F)!==!1;);return F}function ag(F,te){for(var Z=F==null?0:F.length;Z--&&te(F[Z],Z,F)!==!1;);return F}function Of(F,te){for(var Z=-1,Se=F==null?0:F.length;++Z<Se;)if(!te(F[Z],Z,F))return!1;return!0}function ci(F,te){for(var Z=-1,Se=F==null?0:F.length,Fe=0,Qe=[];++Z<Se;){var Ct=F[Z];te(Ct,Z,F)&&(Qe[Fe++]=Ct)}return Qe}function bo(F,te){var Z=F==null?0:F.length;return!!Z&&Vi(F,te,0)>-1}function mu(F,te,Z){for(var Se=-1,Fe=F==null?0:F.length;++Se<Fe;)if(Z(te,F[Se]))return!0;return!1}function dt(F,te){for(var Z=-1,Se=F==null?0:F.length,Fe=Array(Se);++Z<Se;)Fe[Z]=te(F[Z],Z,F);return Fe}function di(F,te){for(var Z=-1,Se=te.length,Fe=F.length;++Z<Se;)F[Fe+Z]=te[Z];return F}function _u(F,te,Z,Se){var Fe=-1,Qe=F==null?0:F.length;for(Se&&Qe&&(Z=F[++Fe]);++Fe<Qe;)Z=te(Z,F[Fe],Fe,F);return Z}function cg(F,te,Z,Se){var Fe=F==null?0:F.length;for(Se&&Fe&&(Z=F[--Fe]);Fe--;)Z=te(Z,F[Fe],Fe,F);return Z}function yu(F,te){for(var Z=-1,Se=F==null?0:F.length;++Z<Se;)if(te(F[Z],Z,F))return!0;return!1}var dg=wu("length");function hg(F){return F.split("")}function gg(F){return F.match(iu)||[]}function Nf(F,te,Z){var Se;return Z(F,function(Fe,Qe,Ct){if(te(Fe,Qe,Ct))return Se=Qe,!1}),Se}function vo(F,te,Z,Se){for(var Fe=F.length,Qe=Z+(Se?1:-1);Se?Qe--:++Qe<Fe;)if(te(F[Qe],Qe,F))return Qe;return-1}function Vi(F,te,Z){return te===te?Ag(F,te,Z):vo(F,Hf,Z)}function mg(F,te,Z,Se){for(var Fe=Z-1,Qe=F.length;++Fe<Qe;)if(Se(F[Fe],te))return Fe;return-1}function Hf(F){return F!==F}function zf(F,te){var Z=F==null?0:F.length;return Z?vu(F,te)/Z:fe}function wu(F){return function(te){return te==null?n:te[F]}}function bu(F){return function(te){return F==null?n:F[te]}}function Lf(F,te,Z,Se,Fe){return Fe(F,function(Qe,Ct,lt){Z=Se?(Se=!1,Qe):te(Z,Qe,Ct,lt)}),Z}function _g(F,te){var Z=F.length;for(F.sort(te);Z--;)F[Z]=F[Z].value;return F}function vu(F,te){for(var Z,Se=-1,Fe=F.length;++Se<Fe;){var Qe=te(F[Se]);Qe!==n&&(Z=Z===n?Qe:Z+Qe)}return Z}function pu(F,te){for(var Z=-1,Se=Array(F);++Z<F;)Se[Z]=te(Z);return Se}function yg(F,te){return dt(te,function(Z){return[Z,F[Z]]})}function Rf(F){return F&&F.slice(0,Xf(F)+1).replace(Er,"")}function rn(F){return function(te){return F(te)}}function Su(F,te){return dt(te,function(Z){return F[Z]})}function Cr(F,te){return F.has(te)}function Df(F,te){for(var Z=-1,Se=F.length;++Z<Se&&Vi(te,F[Z],0)>-1;);return Z}function Wf(F,te){for(var Z=F.length;Z--&&Vi(te,F[Z],0)>-1;);return Z}function wg(F,te){for(var Z=F.length,Se=0;Z--;)F[Z]===te&&++Se;return Se}var bg=bu(ng),vg=bu(ig);function pg(F){return"\\"+og[F]}function Sg(F,te){return F==null?n:F[te]}function Ki(F){return j1.test(F)}function kg(F){return $1.test(F)}function Eg(F){for(var te,Z=[];!(te=F.next()).done;)Z.push(te.value);return Z}function ku(F){var te=-1,Z=Array(F.size);return F.forEach(function(Se,Fe){Z[++te]=[Fe,Se]}),Z}function Bf(F,te){return function(Z){return F(te(Z))}}function hi(F,te){for(var Z=-1,Se=F.length,Fe=0,Qe=[];++Z<Se;){var Ct=F[Z];(Ct===te||Ct===h)&&(F[Z]=h,Qe[Fe++]=Z)}return Qe}function po(F){var te=-1,Z=Array(F.size);return F.forEach(function(Se){Z[++te]=Se}),Z}function Cg(F){var te=-1,Z=Array(F.size);return F.forEach(function(Se){Z[++te]=[Se,Se]}),Z}function Ag(F,te,Z){for(var Se=Z-1,Fe=F.length;++Se<Fe;)if(F[Se]===te)return Se;return-1}function Mg(F,te,Z){for(var Se=Z+1;Se--;)if(F[Se]===te)return Se;return Se}function Ui(F){return Ki(F)?Tg(F):dg(F)}function kn(F){return Ki(F)?Ig(F):hg(F)}function Xf(F){for(var te=F.length;te--&&$l.test(F.charAt(te)););return te}var Pg=bu(rg);function Tg(F){for(var te=du.lastIndex=0;du.test(F);)++te;return te}function Ig(F){return F.match(du)||[]}function Og(F){return F.match(Q1)||[]}var Ng=function F(te){te=te==null?Ht:xi.defaults(Ht.Object(),te,xi.pick(Ht,eg));var Z=te.Array,Se=te.Date,Fe=te.Error,Qe=te.Function,Ct=te.Math,lt=te.Object,Eu=te.RegExp,Hg=te.String,_n=te.TypeError,So=Z.prototype,zg=Qe.prototype,Gi=lt.prototype,ko=te["__core-js_shared__"],Eo=zg.toString,rt=Gi.hasOwnProperty,Lg=0,Yf=function(){var i=/[^.]+$/.exec(ko&&ko.keys&&ko.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Co=Gi.toString,Rg=Eo.call(lt),Dg=Ht._,Wg=Eu("^"+Eo.call(rt).replace(kr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ao=Ef?te.Buffer:n,gi=te.Symbol,Mo=te.Uint8Array,Ff=Ao?Ao.allocUnsafe:n,Po=Bf(lt.getPrototypeOf,lt),Vf=lt.create,Kf=Gi.propertyIsEnumerable,To=So.splice,Uf=gi?gi.isConcatSpreadable:n,Ar=gi?gi.iterator:n,Ai=gi?gi.toStringTag:n,Io=function(){try{var i=Oi(lt,"defineProperty");return i({},"",{}),i}catch{}}(),Bg=te.clearTimeout!==Ht.clearTimeout&&te.clearTimeout,Xg=Se&&Se.now!==Ht.Date.now&&Se.now,Yg=te.setTimeout!==Ht.setTimeout&&te.setTimeout,Oo=Ct.ceil,No=Ct.floor,Cu=lt.getOwnPropertySymbols,Fg=Ao?Ao.isBuffer:n,xf=te.isFinite,Vg=So.join,Kg=Bf(lt.keys,lt),At=Ct.max,Rt=Ct.min,Ug=Se.now,xg=te.parseInt,Gf=Ct.random,Gg=So.reverse,Au=Oi(te,"DataView"),Mr=Oi(te,"Map"),Mu=Oi(te,"Promise"),qi=Oi(te,"Set"),Pr=Oi(te,"WeakMap"),Tr=Oi(lt,"create"),Ho=Pr&&new Pr,Zi={},qg=Ni(Au),Zg=Ni(Mr),Jg=Ni(Mu),Qg=Ni(qi),jg=Ni(Pr),zo=gi?gi.prototype:n,Ir=zo?zo.valueOf:n,qf=zo?zo.toString:n;function k(i){if(_t(i)&&!Ke(i)&&!(i instanceof Ze)){if(i instanceof yn)return i;if(rt.call(i,"__wrapped__"))return Za(i)}return new yn(i)}var Ji=function(){function i(){}return function(o){if(!gt(o))return{};if(Vf)return Vf(o);i.prototype=o;var c=new i;return i.prototype=n,c}}();function Lo(){}function yn(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}k.templateSettings={escape:Gl,evaluate:ql,interpolate:go,variable:"",imports:{_:k}},k.prototype=Lo.prototype,k.prototype.constructor=k,yn.prototype=Ji(Lo.prototype),yn.prototype.constructor=yn;function Ze(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ae,this.__views__=[]}function $g(){var i=new Ze(this.__wrapped__);return i.__actions__=Jt(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Jt(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Jt(this.__views__),i}function e0(){if(this.__filtered__){var i=new Ze(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function t0(){var i=this.__wrapped__.value(),o=this.__dir__,c=Ke(i),m=o<0,v=c?i.length:0,C=hm(0,v,this.__views__),z=C.start,D=C.end,V=D-z,ie=m?D:z-1,re=this.__iteratees__,se=re.length,me=0,Ee=Rt(V,this.__takeCount__);if(!c||!m&&v==V&&Ee==V)return wa(i,this.__actions__);var Le=[];e:for(;V--&&me<Ee;){ie+=o;for(var xe=-1,Re=i[ie];++xe<se;){var qe=re[xe],Je=qe.iteratee,un=qe.type,Ut=Je(Re);if(un==K)Re=Ut;else if(!Ut){if(un==P)continue e;break e}}Le[me++]=Re}return Le}Ze.prototype=Ji(Lo.prototype),Ze.prototype.constructor=Ze;function Mi(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var m=i[o];this.set(m[0],m[1])}}function n0(){this.__data__=Tr?Tr(null):{},this.size=0}function i0(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function r0(i){var o=this.__data__;if(Tr){var c=o[i];return c===a?n:c}return rt.call(o,i)?o[i]:n}function o0(i){var o=this.__data__;return Tr?o[i]!==n:rt.call(o,i)}function l0(i,o){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=Tr&&o===n?a:o,this}Mi.prototype.clear=n0,Mi.prototype.delete=i0,Mi.prototype.get=r0,Mi.prototype.has=o0,Mi.prototype.set=l0;function Gn(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var m=i[o];this.set(m[0],m[1])}}function u0(){this.__data__=[],this.size=0}function s0(i){var o=this.__data__,c=Ro(o,i);if(c<0)return!1;var m=o.length-1;return c==m?o.pop():To.call(o,c,1),--this.size,!0}function f0(i){var o=this.__data__,c=Ro(o,i);return c<0?n:o[c][1]}function a0(i){return Ro(this.__data__,i)>-1}function c0(i,o){var c=this.__data__,m=Ro(c,i);return m<0?(++this.size,c.push([i,o])):c[m][1]=o,this}Gn.prototype.clear=u0,Gn.prototype.delete=s0,Gn.prototype.get=f0,Gn.prototype.has=a0,Gn.prototype.set=c0;function qn(i){var o=-1,c=i==null?0:i.length;for(this.clear();++o<c;){var m=i[o];this.set(m[0],m[1])}}function d0(){this.size=0,this.__data__={hash:new Mi,map:new(Mr||Gn),string:new Mi}}function h0(i){var o=qo(this,i).delete(i);return this.size-=o?1:0,o}function g0(i){return qo(this,i).get(i)}function m0(i){return qo(this,i).has(i)}function _0(i,o){var c=qo(this,i),m=c.size;return c.set(i,o),this.size+=c.size==m?0:1,this}qn.prototype.clear=d0,qn.prototype.delete=h0,qn.prototype.get=g0,qn.prototype.has=m0,qn.prototype.set=_0;function Pi(i){var o=-1,c=i==null?0:i.length;for(this.__data__=new qn;++o<c;)this.add(i[o])}function y0(i){return this.__data__.set(i,a),this}function w0(i){return this.__data__.has(i)}Pi.prototype.add=Pi.prototype.push=y0,Pi.prototype.has=w0;function En(i){var o=this.__data__=new Gn(i);this.size=o.size}function b0(){this.__data__=new Gn,this.size=0}function v0(i){var o=this.__data__,c=o.delete(i);return this.size=o.size,c}function p0(i){return this.__data__.get(i)}function S0(i){return this.__data__.has(i)}function k0(i,o){var c=this.__data__;if(c instanceof Gn){var m=c.__data__;if(!Mr||m.length<l-1)return m.push([i,o]),this.size=++c.size,this;c=this.__data__=new qn(m)}return c.set(i,o),this.size=c.size,this}En.prototype.clear=b0,En.prototype.delete=v0,En.prototype.get=p0,En.prototype.has=S0,En.prototype.set=k0;function Zf(i,o){var c=Ke(i),m=!c&&Hi(i),v=!c&&!m&&bi(i),C=!c&&!m&&!v&&er(i),z=c||m||v||C,D=z?pu(i.length,Hg):[],V=D.length;for(var ie in i)(o||rt.call(i,ie))&&!(z&&(ie=="length"||v&&(ie=="offset"||ie=="parent")||C&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||jn(ie,V)))&&D.push(ie);return D}function Jf(i){var o=i.length;return o?i[Wu(0,o-1)]:n}function E0(i,o){return Zo(Jt(i),Ti(o,0,i.length))}function C0(i){return Zo(Jt(i))}function Pu(i,o,c){(c!==n&&!Cn(i[o],c)||c===n&&!(o in i))&&Zn(i,o,c)}function Or(i,o,c){var m=i[o];(!(rt.call(i,o)&&Cn(m,c))||c===n&&!(o in i))&&Zn(i,o,c)}function Ro(i,o){for(var c=i.length;c--;)if(Cn(i[c][0],o))return c;return-1}function A0(i,o,c,m){return mi(i,function(v,C,z){o(m,v,c(v),z)}),m}function Qf(i,o){return i&&Wn(o,Tt(o),i)}function M0(i,o){return i&&Wn(o,jt(o),i)}function Zn(i,o,c){o=="__proto__"&&Io?Io(i,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[o]=c}function Tu(i,o){for(var c=-1,m=o.length,v=Z(m),C=i==null;++c<m;)v[c]=C?n:fs(i,o[c]);return v}function Ti(i,o,c){return i===i&&(c!==n&&(i=i<=c?i:c),o!==n&&(i=i>=o?i:o)),i}function wn(i,o,c,m,v,C){var z,D=o&g,V=o&_,ie=o&y;if(c&&(z=v?c(i,m,v,C):c(i)),z!==n)return z;if(!gt(i))return i;var re=Ke(i);if(re){if(z=mm(i),!D)return Jt(i,z)}else{var se=Dt(i),me=se==nt||se==it;if(bi(i))return pa(i,D);if(se==Et||se==Pe||me&&!v){if(z=V||me?{}:Xa(i),!D)return V?rm(i,M0(z,i)):im(i,Qf(z,i))}else{if(!ut[se])return v?i:{};z=_m(i,se,D)}}C||(C=new En);var Ee=C.get(i);if(Ee)return Ee;C.set(i,z),mc(i)?i.forEach(function(Re){z.add(wn(Re,o,c,Re,i,C))}):hc(i)&&i.forEach(function(Re,qe){z.set(qe,wn(Re,o,c,qe,i,C))});var Le=ie?V?Zu:qu:V?jt:Tt,xe=re?n:Le(i);return mn(xe||i,function(Re,qe){xe&&(qe=Re,Re=i[qe]),Or(z,qe,wn(Re,o,c,qe,i,C))}),z}function P0(i){var o=Tt(i);return function(c){return jf(c,i,o)}}function jf(i,o,c){var m=c.length;if(i==null)return!m;for(i=lt(i);m--;){var v=c[m],C=o[v],z=i[v];if(z===n&&!(v in i)||!C(z))return!1}return!0}function $f(i,o,c){if(typeof i!="function")throw new _n(s);return Wr(function(){i.apply(n,c)},o)}function Nr(i,o,c,m){var v=-1,C=bo,z=!0,D=i.length,V=[],ie=o.length;if(!D)return V;c&&(o=dt(o,rn(c))),m?(C=mu,z=!1):o.length>=l&&(C=Cr,z=!1,o=new Pi(o));e:for(;++v<D;){var re=i[v],se=c==null?re:c(re);if(re=m||re!==0?re:0,z&&se===se){for(var me=ie;me--;)if(o[me]===se)continue e;V.push(re)}else C(o,se,m)||V.push(re)}return V}var mi=Aa(Dn),ea=Aa(Ou,!0);function T0(i,o){var c=!0;return mi(i,function(m,v,C){return c=!!o(m,v,C),c}),c}function Do(i,o,c){for(var m=-1,v=i.length;++m<v;){var C=i[m],z=o(C);if(z!=null&&(D===n?z===z&&!ln(z):c(z,D)))var D=z,V=C}return V}function I0(i,o,c,m){var v=i.length;for(c=Ue(c),c<0&&(c=-c>v?0:v+c),m=m===n||m>v?v:Ue(m),m<0&&(m+=v),m=c>m?0:yc(m);c<m;)i[c++]=o;return i}function ta(i,o){var c=[];return mi(i,function(m,v,C){o(m,v,C)&&c.push(m)}),c}function zt(i,o,c,m,v){var C=-1,z=i.length;for(c||(c=wm),v||(v=[]);++C<z;){var D=i[C];o>0&&c(D)?o>1?zt(D,o-1,c,m,v):di(v,D):m||(v[v.length]=D)}return v}var Iu=Ma(),na=Ma(!0);function Dn(i,o){return i&&Iu(i,o,Tt)}function Ou(i,o){return i&&na(i,o,Tt)}function Wo(i,o){return ci(o,function(c){return $n(i[c])})}function Ii(i,o){o=yi(o,i);for(var c=0,m=o.length;i!=null&&c<m;)i=i[Bn(o[c++])];return c&&c==m?i:n}function ia(i,o,c){var m=o(i);return Ke(i)?m:di(m,c(i))}function Vt(i){return i==null?i===n?ce:Sn:Ai&&Ai in lt(i)?dm(i):Cm(i)}function Nu(i,o){return i>o}function O0(i,o){return i!=null&&rt.call(i,o)}function N0(i,o){return i!=null&&o in lt(i)}function H0(i,o,c){return i>=Rt(o,c)&&i<At(o,c)}function Hu(i,o,c){for(var m=c?mu:bo,v=i[0].length,C=i.length,z=C,D=Z(C),V=1/0,ie=[];z--;){var re=i[z];z&&o&&(re=dt(re,rn(o))),V=Rt(re.length,V),D[z]=!c&&(o||v>=120&&re.length>=120)?new Pi(z&&re):n}re=i[0];var se=-1,me=D[0];e:for(;++se<v&&ie.length<V;){var Ee=re[se],Le=o?o(Ee):Ee;if(Ee=c||Ee!==0?Ee:0,!(me?Cr(me,Le):m(ie,Le,c))){for(z=C;--z;){var xe=D[z];if(!(xe?Cr(xe,Le):m(i[z],Le,c)))continue e}me&&me.push(Le),ie.push(Ee)}}return ie}function z0(i,o,c,m){return Dn(i,function(v,C,z){o(m,c(v),C,z)}),m}function Hr(i,o,c){o=yi(o,i),i=Ka(i,o);var m=i==null?i:i[Bn(vn(o))];return m==null?n:nn(m,i,c)}function ra(i){return _t(i)&&Vt(i)==Pe}function L0(i){return _t(i)&&Vt(i)==ge}function R0(i){return _t(i)&&Vt(i)==oe}function zr(i,o,c,m,v){return i===o?!0:i==null||o==null||!_t(i)&&!_t(o)?i!==i&&o!==o:D0(i,o,c,m,zr,v)}function D0(i,o,c,m,v,C){var z=Ke(i),D=Ke(o),V=z?R:Dt(i),ie=D?R:Dt(o);V=V==Pe?Et:V,ie=ie==Pe?Et:ie;var re=V==Et,se=ie==Et,me=V==ie;if(me&&bi(i)){if(!bi(o))return!1;z=!0,re=!1}if(me&&!re)return C||(C=new En),z||er(i)?Da(i,o,c,m,v,C):am(i,o,V,c,m,v,C);if(!(c&b)){var Ee=re&&rt.call(i,"__wrapped__"),Le=se&&rt.call(o,"__wrapped__");if(Ee||Le){var xe=Ee?i.value():i,Re=Le?o.value():o;return C||(C=new En),v(xe,Re,c,m,C)}}return me?(C||(C=new En),cm(i,o,c,m,v,C)):!1}function W0(i){return _t(i)&&Dt(i)==ot}function zu(i,o,c,m){var v=c.length,C=v,z=!m;if(i==null)return!C;for(i=lt(i);v--;){var D=c[v];if(z&&D[2]?D[1]!==i[D[0]]:!(D[0]in i))return!1}for(;++v<C;){D=c[v];var V=D[0],ie=i[V],re=D[1];if(z&&D[2]){if(ie===n&&!(V in i))return!1}else{var se=new En;if(m)var me=m(ie,re,V,i,o,se);if(!(me===n?zr(re,ie,b|p,m,se):me))return!1}}return!0}function oa(i){if(!gt(i)||vm(i))return!1;var o=$n(i)?Wg:P1;return o.test(Ni(i))}function B0(i){return _t(i)&&Vt(i)==pe}function X0(i){return _t(i)&&Dt(i)==pt}function Y0(i){return _t(i)&&tl(i.length)&&!!st[Vt(i)]}function la(i){return typeof i=="function"?i:i==null?$t:typeof i=="object"?Ke(i)?fa(i[0],i[1]):sa(i):Pc(i)}function Lu(i){if(!Dr(i))return Kg(i);var o=[];for(var c in lt(i))rt.call(i,c)&&c!="constructor"&&o.push(c);return o}function F0(i){if(!gt(i))return Em(i);var o=Dr(i),c=[];for(var m in i)m=="constructor"&&(o||!rt.call(i,m))||c.push(m);return c}function Ru(i,o){return i<o}function ua(i,o){var c=-1,m=Qt(i)?Z(i.length):[];return mi(i,function(v,C,z){m[++c]=o(v,C,z)}),m}function sa(i){var o=Qu(i);return o.length==1&&o[0][2]?Fa(o[0][0],o[0][1]):function(c){return c===i||zu(c,i,o)}}function fa(i,o){return $u(i)&&Ya(o)?Fa(Bn(i),o):function(c){var m=fs(c,i);return m===n&&m===o?as(c,i):zr(o,m,b|p)}}function Bo(i,o,c,m,v){i!==o&&Iu(o,function(C,z){if(v||(v=new En),gt(C))V0(i,o,z,c,Bo,m,v);else{var D=m?m(ts(i,z),C,z+"",i,o,v):n;D===n&&(D=C),Pu(i,z,D)}},jt)}function V0(i,o,c,m,v,C,z){var D=ts(i,c),V=ts(o,c),ie=z.get(V);if(ie){Pu(i,c,ie);return}var re=C?C(D,V,c+"",i,o,z):n,se=re===n;if(se){var me=Ke(V),Ee=!me&&bi(V),Le=!me&&!Ee&&er(V);re=V,me||Ee||Le?Ke(D)?re=D:yt(D)?re=Jt(D):Ee?(se=!1,re=pa(V,!0)):Le?(se=!1,re=Sa(V,!0)):re=[]:Br(V)||Hi(V)?(re=D,Hi(D)?re=wc(D):(!gt(D)||$n(D))&&(re=Xa(V))):se=!1}se&&(z.set(V,re),v(re,V,m,C,z),z.delete(V)),Pu(i,c,re)}function aa(i,o){var c=i.length;if(c)return o+=o<0?c:0,jn(o,c)?i[o]:n}function ca(i,o,c){o.length?o=dt(o,function(C){return Ke(C)?function(z){return Ii(z,C.length===1?C[0]:C)}:C}):o=[$t];var m=-1;o=dt(o,rn(ze()));var v=ua(i,function(C,z,D){var V=dt(o,function(ie){return ie(C)});return{criteria:V,index:++m,value:C}});return _g(v,function(C,z){return nm(C,z,c)})}function K0(i,o){return da(i,o,function(c,m){return as(i,m)})}function da(i,o,c){for(var m=-1,v=o.length,C={};++m<v;){var z=o[m],D=Ii(i,z);c(D,z)&&Lr(C,yi(z,i),D)}return C}function U0(i){return function(o){return Ii(o,i)}}function Du(i,o,c,m){var v=m?mg:Vi,C=-1,z=o.length,D=i;for(i===o&&(o=Jt(o)),c&&(D=dt(i,rn(c)));++C<z;)for(var V=0,ie=o[C],re=c?c(ie):ie;(V=v(D,re,V,m))>-1;)D!==i&&To.call(D,V,1),To.call(i,V,1);return i}function ha(i,o){for(var c=i?o.length:0,m=c-1;c--;){var v=o[c];if(c==m||v!==C){var C=v;jn(v)?To.call(i,v,1):Yu(i,v)}}return i}function Wu(i,o){return i+No(Gf()*(o-i+1))}function x0(i,o,c,m){for(var v=-1,C=At(Oo((o-i)/(c||1)),0),z=Z(C);C--;)z[m?C:++v]=i,i+=c;return z}function Bu(i,o){var c="";if(!i||o<1||o>G)return c;do o%2&&(c+=i),o=No(o/2),o&&(i+=i);while(o);return c}function Ge(i,o){return ns(Va(i,o,$t),i+"")}function G0(i){return Jf(tr(i))}function q0(i,o){var c=tr(i);return Zo(c,Ti(o,0,c.length))}function Lr(i,o,c,m){if(!gt(i))return i;o=yi(o,i);for(var v=-1,C=o.length,z=C-1,D=i;D!=null&&++v<C;){var V=Bn(o[v]),ie=c;if(V==="__proto__"||V==="constructor"||V==="prototype")return i;if(v!=z){var re=D[V];ie=m?m(re,V,D):n,ie===n&&(ie=gt(re)?re:jn(o[v+1])?[]:{})}Or(D,V,ie),D=D[V]}return i}var ga=Ho?function(i,o){return Ho.set(i,o),i}:$t,Z0=Io?function(i,o){return Io(i,"toString",{configurable:!0,enumerable:!1,value:ds(o),writable:!0})}:$t;function J0(i){return Zo(tr(i))}function bn(i,o,c){var m=-1,v=i.length;o<0&&(o=-o>v?0:v+o),c=c>v?v:c,c<0&&(c+=v),v=o>c?0:c-o>>>0,o>>>=0;for(var C=Z(v);++m<v;)C[m]=i[m+o];return C}function Q0(i,o){var c;return mi(i,function(m,v,C){return c=o(m,v,C),!c}),!!c}function Xo(i,o,c){var m=0,v=i==null?m:i.length;if(typeof o=="number"&&o===o&&v<=ve){for(;m<v;){var C=m+v>>>1,z=i[C];z!==null&&!ln(z)&&(c?z<=o:z<o)?m=C+1:v=C}return v}return Xu(i,o,$t,c)}function Xu(i,o,c,m){var v=0,C=i==null?0:i.length;if(C===0)return 0;o=c(o);for(var z=o!==o,D=o===null,V=ln(o),ie=o===n;v<C;){var re=No((v+C)/2),se=c(i[re]),me=se!==n,Ee=se===null,Le=se===se,xe=ln(se);if(z)var Re=m||Le;else ie?Re=Le&&(m||me):D?Re=Le&&me&&(m||!Ee):V?Re=Le&&me&&!Ee&&(m||!xe):Ee||xe?Re=!1:Re=m?se<=o:se<o;Re?v=re+1:C=re}return Rt(C,Q)}function ma(i,o){for(var c=-1,m=i.length,v=0,C=[];++c<m;){var z=i[c],D=o?o(z):z;if(!c||!Cn(D,V)){var V=D;C[v++]=z===0?0:z}}return C}function _a(i){return typeof i=="number"?i:ln(i)?fe:+i}function on(i){if(typeof i=="string")return i;if(Ke(i))return dt(i,on)+"";if(ln(i))return qf?qf.call(i):"";var o=i+"";return o=="0"&&1/i==-q?"-0":o}function _i(i,o,c){var m=-1,v=bo,C=i.length,z=!0,D=[],V=D;if(c)z=!1,v=mu;else if(C>=l){var ie=o?null:sm(i);if(ie)return po(ie);z=!1,v=Cr,V=new Pi}else V=o?[]:D;e:for(;++m<C;){var re=i[m],se=o?o(re):re;if(re=c||re!==0?re:0,z&&se===se){for(var me=V.length;me--;)if(V[me]===se)continue e;o&&V.push(se),D.push(re)}else v(V,se,c)||(V!==D&&V.push(se),D.push(re))}return D}function Yu(i,o){return o=yi(o,i),i=Ka(i,o),i==null||delete i[Bn(vn(o))]}function ya(i,o,c,m){return Lr(i,o,c(Ii(i,o)),m)}function Yo(i,o,c,m){for(var v=i.length,C=m?v:-1;(m?C--:++C<v)&&o(i[C],C,i););return c?bn(i,m?0:C,m?C+1:v):bn(i,m?C+1:0,m?v:C)}function wa(i,o){var c=i;return c instanceof Ze&&(c=c.value()),_u(o,function(m,v){return v.func.apply(v.thisArg,di([m],v.args))},c)}function Fu(i,o,c){var m=i.length;if(m<2)return m?_i(i[0]):[];for(var v=-1,C=Z(m);++v<m;)for(var z=i[v],D=-1;++D<m;)D!=v&&(C[v]=Nr(C[v]||z,i[D],o,c));return _i(zt(C,1),o,c)}function ba(i,o,c){for(var m=-1,v=i.length,C=o.length,z={};++m<v;){var D=m<C?o[m]:n;c(z,i[m],D)}return z}function Vu(i){return yt(i)?i:[]}function Ku(i){return typeof i=="function"?i:$t}function yi(i,o){return Ke(i)?i:$u(i,o)?[i]:qa(et(i))}var j0=Ge;function wi(i,o,c){var m=i.length;return c=c===n?m:c,!o&&c>=m?i:bn(i,o,c)}var va=Bg||function(i){return Ht.clearTimeout(i)};function pa(i,o){if(o)return i.slice();var c=i.length,m=Ff?Ff(c):new i.constructor(c);return i.copy(m),m}function Uu(i){var o=new i.constructor(i.byteLength);return new Mo(o).set(new Mo(i)),o}function $0(i,o){var c=o?Uu(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function em(i){var o=new i.constructor(i.source,mo.exec(i));return o.lastIndex=i.lastIndex,o}function tm(i){return Ir?lt(Ir.call(i)):{}}function Sa(i,o){var c=o?Uu(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function ka(i,o){if(i!==o){var c=i!==n,m=i===null,v=i===i,C=ln(i),z=o!==n,D=o===null,V=o===o,ie=ln(o);if(!D&&!ie&&!C&&i>o||C&&z&&V&&!D&&!ie||m&&z&&V||!c&&V||!v)return 1;if(!m&&!C&&!ie&&i<o||ie&&c&&v&&!m&&!C||D&&c&&v||!z&&v||!V)return-1}return 0}function nm(i,o,c){for(var m=-1,v=i.criteria,C=o.criteria,z=v.length,D=c.length;++m<z;){var V=ka(v[m],C[m]);if(V){if(m>=D)return V;var ie=c[m];return V*(ie=="desc"?-1:1)}}return i.index-o.index}function Ea(i,o,c,m){for(var v=-1,C=i.length,z=c.length,D=-1,V=o.length,ie=At(C-z,0),re=Z(V+ie),se=!m;++D<V;)re[D]=o[D];for(;++v<z;)(se||v<C)&&(re[c[v]]=i[v]);for(;ie--;)re[D++]=i[v++];return re}function Ca(i,o,c,m){for(var v=-1,C=i.length,z=-1,D=c.length,V=-1,ie=o.length,re=At(C-D,0),se=Z(re+ie),me=!m;++v<re;)se[v]=i[v];for(var Ee=v;++V<ie;)se[Ee+V]=o[V];for(;++z<D;)(me||v<C)&&(se[Ee+c[z]]=i[v++]);return se}function Jt(i,o){var c=-1,m=i.length;for(o||(o=Z(m));++c<m;)o[c]=i[c];return o}function Wn(i,o,c,m){var v=!c;c||(c={});for(var C=-1,z=o.length;++C<z;){var D=o[C],V=m?m(c[D],i[D],D,c,i):n;V===n&&(V=i[D]),v?Zn(c,D,V):Or(c,D,V)}return c}function im(i,o){return Wn(i,ju(i),o)}function rm(i,o){return Wn(i,Wa(i),o)}function Fo(i,o){return function(c,m){var v=Ke(c)?fg:A0,C=o?o():{};return v(c,i,ze(m,2),C)}}function Qi(i){return Ge(function(o,c){var m=-1,v=c.length,C=v>1?c[v-1]:n,z=v>2?c[2]:n;for(C=i.length>3&&typeof C=="function"?(v--,C):n,z&&Kt(c[0],c[1],z)&&(C=v<3?n:C,v=1),o=lt(o);++m<v;){var D=c[m];D&&i(o,D,m,C)}return o})}function Aa(i,o){return function(c,m){if(c==null)return c;if(!Qt(c))return i(c,m);for(var v=c.length,C=o?v:-1,z=lt(c);(o?C--:++C<v)&&m(z[C],C,z)!==!1;);return c}}function Ma(i){return function(o,c,m){for(var v=-1,C=lt(o),z=m(o),D=z.length;D--;){var V=z[i?D:++v];if(c(C[V],V,C)===!1)break}return o}}function om(i,o,c){var m=o&A,v=Rr(i);function C(){var z=this&&this!==Ht&&this instanceof C?v:i;return z.apply(m?c:this,arguments)}return C}function Pa(i){return function(o){o=et(o);var c=Ki(o)?kn(o):n,m=c?c[0]:o.charAt(0),v=c?wi(c,1).join(""):o.slice(1);return m[i]()+v}}function ji(i){return function(o){return _u(Ac(Cc(o).replace(Z1,"")),i,"")}}function Rr(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Ji(i.prototype),m=i.apply(c,o);return gt(m)?m:c}}function lm(i,o,c){var m=Rr(i);function v(){for(var C=arguments.length,z=Z(C),D=C,V=$i(v);D--;)z[D]=arguments[D];var ie=C<3&&z[0]!==V&&z[C-1]!==V?[]:hi(z,V);if(C-=ie.length,C<c)return Ha(i,o,Vo,v.placeholder,n,z,ie,n,n,c-C);var re=this&&this!==Ht&&this instanceof v?m:i;return nn(re,this,z)}return v}function Ta(i){return function(o,c,m){var v=lt(o);if(!Qt(o)){var C=ze(c,3);o=Tt(o),c=function(D){return C(v[D],D,v)}}var z=i(o,c,m);return z>-1?v[C?o[z]:z]:n}}function Ia(i){return Qn(function(o){var c=o.length,m=c,v=yn.prototype.thru;for(i&&o.reverse();m--;){var C=o[m];if(typeof C!="function")throw new _n(s);if(v&&!z&&Go(C)=="wrapper")var z=new yn([],!0)}for(m=z?m:c;++m<c;){C=o[m];var D=Go(C),V=D=="wrapper"?Ju(C):n;V&&es(V[0])&&V[1]==(I|E|N|H)&&!V[4].length&&V[9]==1?z=z[Go(V[0])].apply(z,V[3]):z=C.length==1&&es(C)?z[D]():z.thru(C)}return function(){var ie=arguments,re=ie[0];if(z&&ie.length==1&&Ke(re))return z.plant(re).value();for(var se=0,me=c?o[se].apply(this,ie):re;++se<c;)me=o[se].call(this,me);return me}})}function Vo(i,o,c,m,v,C,z,D,V,ie){var re=o&I,se=o&A,me=o&w,Ee=o&(E|S),Le=o&L,xe=me?n:Rr(i);function Re(){for(var qe=arguments.length,Je=Z(qe),un=qe;un--;)Je[un]=arguments[un];if(Ee)var Ut=$i(Re),sn=wg(Je,Ut);if(m&&(Je=Ea(Je,m,v,Ee)),C&&(Je=Ca(Je,C,z,Ee)),qe-=sn,Ee&&qe<ie){var wt=hi(Je,Ut);return Ha(i,o,Vo,Re.placeholder,c,Je,wt,D,V,ie-qe)}var An=se?c:this,ti=me?An[i]:i;return qe=Je.length,D?Je=Am(Je,D):Le&&qe>1&&Je.reverse(),re&&V<qe&&(Je.length=V),this&&this!==Ht&&this instanceof Re&&(ti=xe||Rr(ti)),ti.apply(An,Je)}return Re}function Oa(i,o){return function(c,m){return z0(c,i,o(m),{})}}function Ko(i,o){return function(c,m){var v;if(c===n&&m===n)return o;if(c!==n&&(v=c),m!==n){if(v===n)return m;typeof c=="string"||typeof m=="string"?(c=on(c),m=on(m)):(c=_a(c),m=_a(m)),v=i(c,m)}return v}}function xu(i){return Qn(function(o){return o=dt(o,rn(ze())),Ge(function(c){var m=this;return i(o,function(v){return nn(v,m,c)})})})}function Uo(i,o){o=o===n?" ":on(o);var c=o.length;if(c<2)return c?Bu(o,i):o;var m=Bu(o,Oo(i/Ui(o)));return Ki(o)?wi(kn(m),0,i).join(""):m.slice(0,i)}function um(i,o,c,m){var v=o&A,C=Rr(i);function z(){for(var D=-1,V=arguments.length,ie=-1,re=m.length,se=Z(re+V),me=this&&this!==Ht&&this instanceof z?C:i;++ie<re;)se[ie]=m[ie];for(;V--;)se[ie++]=arguments[++D];return nn(me,v?c:this,se)}return z}function Na(i){return function(o,c,m){return m&&typeof m!="number"&&Kt(o,c,m)&&(c=m=n),o=ei(o),c===n?(c=o,o=0):c=ei(c),m=m===n?o<c?1:-1:ei(m),x0(o,c,m,i)}}function xo(i){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=pn(o),c=pn(c)),i(o,c)}}function Ha(i,o,c,m,v,C,z,D,V,ie){var re=o&E,se=re?z:n,me=re?n:z,Ee=re?C:n,Le=re?n:C;o|=re?N:Y,o&=~(re?Y:N),o&O||(o&=~(A|w));var xe=[i,o,v,Ee,se,Le,me,D,V,ie],Re=c.apply(n,xe);return es(i)&&Ua(Re,xe),Re.placeholder=m,xa(Re,i,o)}function Gu(i){var o=Ct[i];return function(c,m){if(c=pn(c),m=m==null?0:Rt(Ue(m),292),m&&xf(c)){var v=(et(c)+"e").split("e"),C=o(v[0]+"e"+(+v[1]+m));return v=(et(C)+"e").split("e"),+(v[0]+"e"+(+v[1]-m))}return o(c)}}var sm=qi&&1/po(new qi([,-0]))[1]==q?function(i){return new qi(i)}:ms;function za(i){return function(o){var c=Dt(o);return c==ot?ku(o):c==pt?Cg(o):yg(o,i(o))}}function Jn(i,o,c,m,v,C,z,D){var V=o&w;if(!V&&typeof i!="function")throw new _n(s);var ie=m?m.length:0;if(ie||(o&=~(N|Y),m=v=n),z=z===n?z:At(Ue(z),0),D=D===n?D:Ue(D),ie-=v?v.length:0,o&Y){var re=m,se=v;m=v=n}var me=V?n:Ju(i),Ee=[i,o,c,m,v,re,se,C,z,D];if(me&&km(Ee,me),i=Ee[0],o=Ee[1],c=Ee[2],m=Ee[3],v=Ee[4],D=Ee[9]=Ee[9]===n?V?0:i.length:At(Ee[9]-ie,0),!D&&o&(E|S)&&(o&=~(E|S)),!o||o==A)var Le=om(i,o,c);else o==E||o==S?Le=lm(i,o,D):(o==N||o==(A|N))&&!v.length?Le=um(i,o,c,m):Le=Vo.apply(n,Ee);var xe=me?ga:Ua;return xa(xe(Le,Ee),i,o)}function La(i,o,c,m){return i===n||Cn(i,Gi[c])&&!rt.call(m,c)?o:i}function Ra(i,o,c,m,v,C){return gt(i)&&gt(o)&&(C.set(o,i),Bo(i,o,n,Ra,C),C.delete(o)),i}function fm(i){return Br(i)?n:i}function Da(i,o,c,m,v,C){var z=c&b,D=i.length,V=o.length;if(D!=V&&!(z&&V>D))return!1;var ie=C.get(i),re=C.get(o);if(ie&&re)return ie==o&&re==i;var se=-1,me=!0,Ee=c&p?new Pi:n;for(C.set(i,o),C.set(o,i);++se<D;){var Le=i[se],xe=o[se];if(m)var Re=z?m(xe,Le,se,o,i,C):m(Le,xe,se,i,o,C);if(Re!==n){if(Re)continue;me=!1;break}if(Ee){if(!yu(o,function(qe,Je){if(!Cr(Ee,Je)&&(Le===qe||v(Le,qe,c,m,C)))return Ee.push(Je)})){me=!1;break}}else if(!(Le===xe||v(Le,xe,c,m,C))){me=!1;break}}return C.delete(i),C.delete(o),me}function am(i,o,c,m,v,C,z){switch(c){case Lt:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case ge:return!(i.byteLength!=o.byteLength||!C(new Mo(i),new Mo(o)));case _e:case oe:case $e:return Cn(+i,+o);case Ye:return i.name==o.name&&i.message==o.message;case pe:case Zt:return i==o+"";case ot:var D=ku;case pt:var V=m&b;if(D||(D=po),i.size!=o.size&&!V)return!1;var ie=z.get(i);if(ie)return ie==o;m|=p,z.set(i,o);var re=Da(D(i),D(o),m,v,C,z);return z.delete(i),re;case dn:if(Ir)return Ir.call(i)==Ir.call(o)}return!1}function cm(i,o,c,m,v,C){var z=c&b,D=qu(i),V=D.length,ie=qu(o),re=ie.length;if(V!=re&&!z)return!1;for(var se=V;se--;){var me=D[se];if(!(z?me in o:rt.call(o,me)))return!1}var Ee=C.get(i),Le=C.get(o);if(Ee&&Le)return Ee==o&&Le==i;var xe=!0;C.set(i,o),C.set(o,i);for(var Re=z;++se<V;){me=D[se];var qe=i[me],Je=o[me];if(m)var un=z?m(Je,qe,me,o,i,C):m(qe,Je,me,i,o,C);if(!(un===n?qe===Je||v(qe,Je,c,m,C):un)){xe=!1;break}Re||(Re=me=="constructor")}if(xe&&!Re){var Ut=i.constructor,sn=o.constructor;Ut!=sn&&"constructor"in i&&"constructor"in o&&!(typeof Ut=="function"&&Ut instanceof Ut&&typeof sn=="function"&&sn instanceof sn)&&(xe=!1)}return C.delete(i),C.delete(o),xe}function Qn(i){return ns(Va(i,n,ja),i+"")}function qu(i){return ia(i,Tt,ju)}function Zu(i){return ia(i,jt,Wa)}var Ju=Ho?function(i){return Ho.get(i)}:ms;function Go(i){for(var o=i.name+"",c=Zi[o],m=rt.call(Zi,o)?c.length:0;m--;){var v=c[m],C=v.func;if(C==null||C==i)return v.name}return o}function $i(i){var o=rt.call(k,"placeholder")?k:i;return o.placeholder}function ze(){var i=k.iteratee||hs;return i=i===hs?la:i,arguments.length?i(arguments[0],arguments[1]):i}function qo(i,o){var c=i.__data__;return bm(o)?c[typeof o=="string"?"string":"hash"]:c.map}function Qu(i){for(var o=Tt(i),c=o.length;c--;){var m=o[c],v=i[m];o[c]=[m,v,Ya(v)]}return o}function Oi(i,o){var c=Sg(i,o);return oa(c)?c:n}function dm(i){var o=rt.call(i,Ai),c=i[Ai];try{i[Ai]=n;var m=!0}catch{}var v=Co.call(i);return m&&(o?i[Ai]=c:delete i[Ai]),v}var ju=Cu?function(i){return i==null?[]:(i=lt(i),ci(Cu(i),function(o){return Kf.call(i,o)}))}:_s,Wa=Cu?function(i){for(var o=[];i;)di(o,ju(i)),i=Po(i);return o}:_s,Dt=Vt;(Au&&Dt(new Au(new ArrayBuffer(1)))!=Lt||Mr&&Dt(new Mr)!=ot||Mu&&Dt(Mu.resolve())!=tn||qi&&Dt(new qi)!=pt||Pr&&Dt(new Pr)!=Mt)&&(Dt=function(i){var o=Vt(i),c=o==Et?i.constructor:n,m=c?Ni(c):"";if(m)switch(m){case qg:return Lt;case Zg:return ot;case Jg:return tn;case Qg:return pt;case jg:return Mt}return o});function hm(i,o,c){for(var m=-1,v=c.length;++m<v;){var C=c[m],z=C.size;switch(C.type){case"drop":i+=z;break;case"dropRight":o-=z;break;case"take":o=Rt(o,i+z);break;case"takeRight":i=At(i,o-z);break}}return{start:i,end:o}}function gm(i){var o=i.match(tu);return o?o[1].split(nu):[]}function Ba(i,o,c){o=yi(o,i);for(var m=-1,v=o.length,C=!1;++m<v;){var z=Bn(o[m]);if(!(C=i!=null&&c(i,z)))break;i=i[z]}return C||++m!=v?C:(v=i==null?0:i.length,!!v&&tl(v)&&jn(z,v)&&(Ke(i)||Hi(i)))}function mm(i){var o=i.length,c=new i.constructor(o);return o&&typeof i[0]=="string"&&rt.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function Xa(i){return typeof i.constructor=="function"&&!Dr(i)?Ji(Po(i)):{}}function _m(i,o,c){var m=i.constructor;switch(o){case ge:return Uu(i);case _e:case oe:return new m(+i);case Lt:return $0(i,c);case Pt:case Ot:case zn:case Ln:case hn:case Rn:case Un:case xn:case si:return Sa(i,c);case ot:return new m;case $e:case Zt:return new m(i);case pe:return em(i);case pt:return new m;case dn:return tm(i)}}function ym(i,o){var c=o.length;if(!c)return i;var m=c-1;return o[m]=(c>1?"& ":"")+o[m],o=o.join(c>2?", ":" "),i.replace(eu,`{
/* [wrapped with `+o+`] */
`)}function wm(i){return Ke(i)||Hi(i)||!!(Uf&&i&&i[Uf])}function jn(i,o){var c=typeof i;return o=o??G,!!o&&(c=="number"||c!="symbol"&&I1.test(i))&&i>-1&&i%1==0&&i<o}function Kt(i,o,c){if(!gt(c))return!1;var m=typeof o;return(m=="number"?Qt(c)&&jn(o,c.length):m=="string"&&o in c)?Cn(c[o],i):!1}function $u(i,o){if(Ke(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||ln(i)?!0:Jl.test(i)||!Zl.test(i)||o!=null&&i in lt(o)}function bm(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function es(i){var o=Go(i),c=k[o];if(typeof c!="function"||!(o in Ze.prototype))return!1;if(i===c)return!0;var m=Ju(c);return!!m&&i===m[0]}function vm(i){return!!Yf&&Yf in i}var pm=ko?$n:ys;function Dr(i){var o=i&&i.constructor,c=typeof o=="function"&&o.prototype||Gi;return i===c}function Ya(i){return i===i&&!gt(i)}function Fa(i,o){return function(c){return c==null?!1:c[i]===o&&(o!==n||i in lt(c))}}function Sm(i){var o=$o(i,function(m){return c.size===d&&c.clear(),m}),c=o.cache;return o}function km(i,o){var c=i[1],m=o[1],v=c|m,C=v<(A|w|I),z=m==I&&c==E||m==I&&c==H&&i[7].length<=o[8]||m==(I|H)&&o[7].length<=o[8]&&c==E;if(!(C||z))return i;m&A&&(i[2]=o[2],v|=c&A?0:O);var D=o[3];if(D){var V=i[3];i[3]=V?Ea(V,D,o[4]):D,i[4]=V?hi(i[3],h):o[4]}return D=o[5],D&&(V=i[5],i[5]=V?Ca(V,D,o[6]):D,i[6]=V?hi(i[5],h):o[6]),D=o[7],D&&(i[7]=D),m&I&&(i[8]=i[8]==null?o[8]:Rt(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=v,i}function Em(i){var o=[];if(i!=null)for(var c in lt(i))o.push(c);return o}function Cm(i){return Co.call(i)}function Va(i,o,c){return o=At(o===n?i.length-1:o,0),function(){for(var m=arguments,v=-1,C=At(m.length-o,0),z=Z(C);++v<C;)z[v]=m[o+v];v=-1;for(var D=Z(o+1);++v<o;)D[v]=m[v];return D[o]=c(z),nn(i,this,D)}}function Ka(i,o){return o.length<2?i:Ii(i,bn(o,0,-1))}function Am(i,o){for(var c=i.length,m=Rt(o.length,c),v=Jt(i);m--;){var C=o[m];i[m]=jn(C,c)?v[C]:n}return i}function ts(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var Ua=Ga(ga),Wr=Yg||function(i,o){return Ht.setTimeout(i,o)},ns=Ga(Z0);function xa(i,o,c){var m=o+"";return ns(i,ym(m,Mm(gm(m),c)))}function Ga(i){var o=0,c=0;return function(){var m=Ug(),v=W-(m-c);if(c=m,v>0){if(++o>=B)return arguments[0]}else o=0;return i.apply(n,arguments)}}function Zo(i,o){var c=-1,m=i.length,v=m-1;for(o=o===n?m:o;++c<o;){var C=Wu(c,v),z=i[C];i[C]=i[c],i[c]=z}return i.length=o,i}var qa=Sm(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(Ql,function(c,m,v,C){o.push(v?C.replace(ou,"$1"):m||c)}),o});function Bn(i){if(typeof i=="string"||ln(i))return i;var o=i+"";return o=="0"&&1/i==-q?"-0":o}function Ni(i){if(i!=null){try{return Eo.call(i)}catch{}try{return i+""}catch{}}return""}function Mm(i,o){return mn(ke,function(c){var m="_."+c[0];o&c[1]&&!bo(i,m)&&i.push(m)}),i.sort()}function Za(i){if(i instanceof Ze)return i.clone();var o=new yn(i.__wrapped__,i.__chain__);return o.__actions__=Jt(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function Pm(i,o,c){(c?Kt(i,o,c):o===n)?o=1:o=At(Ue(o),0);var m=i==null?0:i.length;if(!m||o<1)return[];for(var v=0,C=0,z=Z(Oo(m/o));v<m;)z[C++]=bn(i,v,v+=o);return z}function Tm(i){for(var o=-1,c=i==null?0:i.length,m=0,v=[];++o<c;){var C=i[o];C&&(v[m++]=C)}return v}function Im(){var i=arguments.length;if(!i)return[];for(var o=Z(i-1),c=arguments[0],m=i;m--;)o[m-1]=arguments[m];return di(Ke(c)?Jt(c):[c],zt(o,1))}var Om=Ge(function(i,o){return yt(i)?Nr(i,zt(o,1,yt,!0)):[]}),Nm=Ge(function(i,o){var c=vn(o);return yt(c)&&(c=n),yt(i)?Nr(i,zt(o,1,yt,!0),ze(c,2)):[]}),Hm=Ge(function(i,o){var c=vn(o);return yt(c)&&(c=n),yt(i)?Nr(i,zt(o,1,yt,!0),n,c):[]});function zm(i,o,c){var m=i==null?0:i.length;return m?(o=c||o===n?1:Ue(o),bn(i,o<0?0:o,m)):[]}function Lm(i,o,c){var m=i==null?0:i.length;return m?(o=c||o===n?1:Ue(o),o=m-o,bn(i,0,o<0?0:o)):[]}function Rm(i,o){return i&&i.length?Yo(i,ze(o,3),!0,!0):[]}function Dm(i,o){return i&&i.length?Yo(i,ze(o,3),!0):[]}function Wm(i,o,c,m){var v=i==null?0:i.length;return v?(c&&typeof c!="number"&&Kt(i,o,c)&&(c=0,m=v),I0(i,o,c,m)):[]}function Ja(i,o,c){var m=i==null?0:i.length;if(!m)return-1;var v=c==null?0:Ue(c);return v<0&&(v=At(m+v,0)),vo(i,ze(o,3),v)}function Qa(i,o,c){var m=i==null?0:i.length;if(!m)return-1;var v=m-1;return c!==n&&(v=Ue(c),v=c<0?At(m+v,0):Rt(v,m-1)),vo(i,ze(o,3),v,!0)}function ja(i){var o=i==null?0:i.length;return o?zt(i,1):[]}function Bm(i){var o=i==null?0:i.length;return o?zt(i,q):[]}function Xm(i,o){var c=i==null?0:i.length;return c?(o=o===n?1:Ue(o),zt(i,o)):[]}function Ym(i){for(var o=-1,c=i==null?0:i.length,m={};++o<c;){var v=i[o];m[v[0]]=v[1]}return m}function $a(i){return i&&i.length?i[0]:n}function Fm(i,o,c){var m=i==null?0:i.length;if(!m)return-1;var v=c==null?0:Ue(c);return v<0&&(v=At(m+v,0)),Vi(i,o,v)}function Vm(i){var o=i==null?0:i.length;return o?bn(i,0,-1):[]}var Km=Ge(function(i){var o=dt(i,Vu);return o.length&&o[0]===i[0]?Hu(o):[]}),Um=Ge(function(i){var o=vn(i),c=dt(i,Vu);return o===vn(c)?o=n:c.pop(),c.length&&c[0]===i[0]?Hu(c,ze(o,2)):[]}),xm=Ge(function(i){var o=vn(i),c=dt(i,Vu);return o=typeof o=="function"?o:n,o&&c.pop(),c.length&&c[0]===i[0]?Hu(c,n,o):[]});function Gm(i,o){return i==null?"":Vg.call(i,o)}function vn(i){var o=i==null?0:i.length;return o?i[o-1]:n}function qm(i,o,c){var m=i==null?0:i.length;if(!m)return-1;var v=m;return c!==n&&(v=Ue(c),v=v<0?At(m+v,0):Rt(v,m-1)),o===o?Mg(i,o,v):vo(i,Hf,v,!0)}function Zm(i,o){return i&&i.length?aa(i,Ue(o)):n}var Jm=Ge(ec);function ec(i,o){return i&&i.length&&o&&o.length?Du(i,o):i}function Qm(i,o,c){return i&&i.length&&o&&o.length?Du(i,o,ze(c,2)):i}function jm(i,o,c){return i&&i.length&&o&&o.length?Du(i,o,n,c):i}var $m=Qn(function(i,o){var c=i==null?0:i.length,m=Tu(i,o);return ha(i,dt(o,function(v){return jn(v,c)?+v:v}).sort(ka)),m});function e_(i,o){var c=[];if(!(i&&i.length))return c;var m=-1,v=[],C=i.length;for(o=ze(o,3);++m<C;){var z=i[m];o(z,m,i)&&(c.push(z),v.push(m))}return ha(i,v),c}function is(i){return i==null?i:Gg.call(i)}function t_(i,o,c){var m=i==null?0:i.length;return m?(c&&typeof c!="number"&&Kt(i,o,c)?(o=0,c=m):(o=o==null?0:Ue(o),c=c===n?m:Ue(c)),bn(i,o,c)):[]}function n_(i,o){return Xo(i,o)}function i_(i,o,c){return Xu(i,o,ze(c,2))}function r_(i,o){var c=i==null?0:i.length;if(c){var m=Xo(i,o);if(m<c&&Cn(i[m],o))return m}return-1}function o_(i,o){return Xo(i,o,!0)}function l_(i,o,c){return Xu(i,o,ze(c,2),!0)}function u_(i,o){var c=i==null?0:i.length;if(c){var m=Xo(i,o,!0)-1;if(Cn(i[m],o))return m}return-1}function s_(i){return i&&i.length?ma(i):[]}function f_(i,o){return i&&i.length?ma(i,ze(o,2)):[]}function a_(i){var o=i==null?0:i.length;return o?bn(i,1,o):[]}function c_(i,o,c){return i&&i.length?(o=c||o===n?1:Ue(o),bn(i,0,o<0?0:o)):[]}function d_(i,o,c){var m=i==null?0:i.length;return m?(o=c||o===n?1:Ue(o),o=m-o,bn(i,o<0?0:o,m)):[]}function h_(i,o){return i&&i.length?Yo(i,ze(o,3),!1,!0):[]}function g_(i,o){return i&&i.length?Yo(i,ze(o,3)):[]}var m_=Ge(function(i){return _i(zt(i,1,yt,!0))}),__=Ge(function(i){var o=vn(i);return yt(o)&&(o=n),_i(zt(i,1,yt,!0),ze(o,2))}),y_=Ge(function(i){var o=vn(i);return o=typeof o=="function"?o:n,_i(zt(i,1,yt,!0),n,o)});function w_(i){return i&&i.length?_i(i):[]}function b_(i,o){return i&&i.length?_i(i,ze(o,2)):[]}function v_(i,o){return o=typeof o=="function"?o:n,i&&i.length?_i(i,n,o):[]}function rs(i){if(!(i&&i.length))return[];var o=0;return i=ci(i,function(c){if(yt(c))return o=At(c.length,o),!0}),pu(o,function(c){return dt(i,wu(c))})}function tc(i,o){if(!(i&&i.length))return[];var c=rs(i);return o==null?c:dt(c,function(m){return nn(o,n,m)})}var p_=Ge(function(i,o){return yt(i)?Nr(i,o):[]}),S_=Ge(function(i){return Fu(ci(i,yt))}),k_=Ge(function(i){var o=vn(i);return yt(o)&&(o=n),Fu(ci(i,yt),ze(o,2))}),E_=Ge(function(i){var o=vn(i);return o=typeof o=="function"?o:n,Fu(ci(i,yt),n,o)}),C_=Ge(rs);function A_(i,o){return ba(i||[],o||[],Or)}function M_(i,o){return ba(i||[],o||[],Lr)}var P_=Ge(function(i){var o=i.length,c=o>1?i[o-1]:n;return c=typeof c=="function"?(i.pop(),c):n,tc(i,c)});function nc(i){var o=k(i);return o.__chain__=!0,o}function T_(i,o){return o(i),i}function Jo(i,o){return o(i)}var I_=Qn(function(i){var o=i.length,c=o?i[0]:0,m=this.__wrapped__,v=function(C){return Tu(C,i)};return o>1||this.__actions__.length||!(m instanceof Ze)||!jn(c)?this.thru(v):(m=m.slice(c,+c+(o?1:0)),m.__actions__.push({func:Jo,args:[v],thisArg:n}),new yn(m,this.__chain__).thru(function(C){return o&&!C.length&&C.push(n),C}))});function O_(){return nc(this)}function N_(){return new yn(this.value(),this.__chain__)}function H_(){this.__values__===n&&(this.__values__=_c(this.value()));var i=this.__index__>=this.__values__.length,o=i?n:this.__values__[this.__index__++];return{done:i,value:o}}function z_(){return this}function L_(i){for(var o,c=this;c instanceof Lo;){var m=Za(c);m.__index__=0,m.__values__=n,o?v.__wrapped__=m:o=m;var v=m;c=c.__wrapped__}return v.__wrapped__=i,o}function R_(){var i=this.__wrapped__;if(i instanceof Ze){var o=i;return this.__actions__.length&&(o=new Ze(this)),o=o.reverse(),o.__actions__.push({func:Jo,args:[is],thisArg:n}),new yn(o,this.__chain__)}return this.thru(is)}function D_(){return wa(this.__wrapped__,this.__actions__)}var W_=Fo(function(i,o,c){rt.call(i,c)?++i[c]:Zn(i,c,1)});function B_(i,o,c){var m=Ke(i)?Of:T0;return c&&Kt(i,o,c)&&(o=n),m(i,ze(o,3))}function X_(i,o){var c=Ke(i)?ci:ta;return c(i,ze(o,3))}var Y_=Ta(Ja),F_=Ta(Qa);function V_(i,o){return zt(Qo(i,o),1)}function K_(i,o){return zt(Qo(i,o),q)}function U_(i,o,c){return c=c===n?1:Ue(c),zt(Qo(i,o),c)}function ic(i,o){var c=Ke(i)?mn:mi;return c(i,ze(o,3))}function rc(i,o){var c=Ke(i)?ag:ea;return c(i,ze(o,3))}var x_=Fo(function(i,o,c){rt.call(i,c)?i[c].push(o):Zn(i,c,[o])});function G_(i,o,c,m){i=Qt(i)?i:tr(i),c=c&&!m?Ue(c):0;var v=i.length;return c<0&&(c=At(v+c,0)),nl(i)?c<=v&&i.indexOf(o,c)>-1:!!v&&Vi(i,o,c)>-1}var q_=Ge(function(i,o,c){var m=-1,v=typeof o=="function",C=Qt(i)?Z(i.length):[];return mi(i,function(z){C[++m]=v?nn(o,z,c):Hr(z,o,c)}),C}),Z_=Fo(function(i,o,c){Zn(i,c,o)});function Qo(i,o){var c=Ke(i)?dt:ua;return c(i,ze(o,3))}function J_(i,o,c,m){return i==null?[]:(Ke(o)||(o=o==null?[]:[o]),c=m?n:c,Ke(c)||(c=c==null?[]:[c]),ca(i,o,c))}var Q_=Fo(function(i,o,c){i[c?0:1].push(o)},function(){return[[],[]]});function j_(i,o,c){var m=Ke(i)?_u:Lf,v=arguments.length<3;return m(i,ze(o,4),c,v,mi)}function $_(i,o,c){var m=Ke(i)?cg:Lf,v=arguments.length<3;return m(i,ze(o,4),c,v,ea)}function e2(i,o){var c=Ke(i)?ci:ta;return c(i,el(ze(o,3)))}function t2(i){var o=Ke(i)?Jf:G0;return o(i)}function n2(i,o,c){(c?Kt(i,o,c):o===n)?o=1:o=Ue(o);var m=Ke(i)?E0:q0;return m(i,o)}function i2(i){var o=Ke(i)?C0:J0;return o(i)}function r2(i){if(i==null)return 0;if(Qt(i))return nl(i)?Ui(i):i.length;var o=Dt(i);return o==ot||o==pt?i.size:Lu(i).length}function o2(i,o,c){var m=Ke(i)?yu:Q0;return c&&Kt(i,o,c)&&(o=n),m(i,ze(o,3))}var l2=Ge(function(i,o){if(i==null)return[];var c=o.length;return c>1&&Kt(i,o[0],o[1])?o=[]:c>2&&Kt(o[0],o[1],o[2])&&(o=[o[0]]),ca(i,zt(o,1),[])}),jo=Xg||function(){return Ht.Date.now()};function u2(i,o){if(typeof o!="function")throw new _n(s);return i=Ue(i),function(){if(--i<1)return o.apply(this,arguments)}}function oc(i,o,c){return o=c?n:o,o=i&&o==null?i.length:o,Jn(i,I,n,n,n,n,o)}function lc(i,o){var c;if(typeof o!="function")throw new _n(s);return i=Ue(i),function(){return--i>0&&(c=o.apply(this,arguments)),i<=1&&(o=n),c}}var os=Ge(function(i,o,c){var m=A;if(c.length){var v=hi(c,$i(os));m|=N}return Jn(i,m,o,c,v)}),uc=Ge(function(i,o,c){var m=A|w;if(c.length){var v=hi(c,$i(uc));m|=N}return Jn(o,m,i,c,v)});function sc(i,o,c){o=c?n:o;var m=Jn(i,E,n,n,n,n,n,o);return m.placeholder=sc.placeholder,m}function fc(i,o,c){o=c?n:o;var m=Jn(i,S,n,n,n,n,n,o);return m.placeholder=fc.placeholder,m}function ac(i,o,c){var m,v,C,z,D,V,ie=0,re=!1,se=!1,me=!0;if(typeof i!="function")throw new _n(s);o=pn(o)||0,gt(c)&&(re=!!c.leading,se="maxWait"in c,C=se?At(pn(c.maxWait)||0,o):C,me="trailing"in c?!!c.trailing:me);function Ee(wt){var An=m,ti=v;return m=v=n,ie=wt,z=i.apply(ti,An),z}function Le(wt){return ie=wt,D=Wr(qe,o),re?Ee(wt):z}function xe(wt){var An=wt-V,ti=wt-ie,Tc=o-An;return se?Rt(Tc,C-ti):Tc}function Re(wt){var An=wt-V,ti=wt-ie;return V===n||An>=o||An<0||se&&ti>=C}function qe(){var wt=jo();if(Re(wt))return Je(wt);D=Wr(qe,xe(wt))}function Je(wt){return D=n,me&&m?Ee(wt):(m=v=n,z)}function un(){D!==n&&va(D),ie=0,m=V=v=D=n}function Ut(){return D===n?z:Je(jo())}function sn(){var wt=jo(),An=Re(wt);if(m=arguments,v=this,V=wt,An){if(D===n)return Le(V);if(se)return va(D),D=Wr(qe,o),Ee(V)}return D===n&&(D=Wr(qe,o)),z}return sn.cancel=un,sn.flush=Ut,sn}var s2=Ge(function(i,o){return $f(i,1,o)}),f2=Ge(function(i,o,c){return $f(i,pn(o)||0,c)});function a2(i){return Jn(i,L)}function $o(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new _n(s);var c=function(){var m=arguments,v=o?o.apply(this,m):m[0],C=c.cache;if(C.has(v))return C.get(v);var z=i.apply(this,m);return c.cache=C.set(v,z)||C,z};return c.cache=new($o.Cache||qn),c}$o.Cache=qn;function el(i){if(typeof i!="function")throw new _n(s);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function c2(i){return lc(2,i)}var d2=j0(function(i,o){o=o.length==1&&Ke(o[0])?dt(o[0],rn(ze())):dt(zt(o,1),rn(ze()));var c=o.length;return Ge(function(m){for(var v=-1,C=Rt(m.length,c);++v<C;)m[v]=o[v].call(this,m[v]);return nn(i,this,m)})}),ls=Ge(function(i,o){var c=hi(o,$i(ls));return Jn(i,N,n,o,c)}),cc=Ge(function(i,o){var c=hi(o,$i(cc));return Jn(i,Y,n,o,c)}),h2=Qn(function(i,o){return Jn(i,H,n,n,n,o)});function g2(i,o){if(typeof i!="function")throw new _n(s);return o=o===n?o:Ue(o),Ge(i,o)}function m2(i,o){if(typeof i!="function")throw new _n(s);return o=o==null?0:At(Ue(o),0),Ge(function(c){var m=c[o],v=wi(c,0,o);return m&&di(v,m),nn(i,this,v)})}function _2(i,o,c){var m=!0,v=!0;if(typeof i!="function")throw new _n(s);return gt(c)&&(m="leading"in c?!!c.leading:m,v="trailing"in c?!!c.trailing:v),ac(i,o,{leading:m,maxWait:o,trailing:v})}function y2(i){return oc(i,1)}function w2(i,o){return ls(Ku(o),i)}function b2(){if(!arguments.length)return[];var i=arguments[0];return Ke(i)?i:[i]}function v2(i){return wn(i,y)}function p2(i,o){return o=typeof o=="function"?o:n,wn(i,y,o)}function S2(i){return wn(i,g|y)}function k2(i,o){return o=typeof o=="function"?o:n,wn(i,g|y,o)}function E2(i,o){return o==null||jf(i,o,Tt(o))}function Cn(i,o){return i===o||i!==i&&o!==o}var C2=xo(Nu),A2=xo(function(i,o){return i>=o}),Hi=ra(function(){return arguments}())?ra:function(i){return _t(i)&&rt.call(i,"callee")&&!Kf.call(i,"callee")},Ke=Z.isArray,M2=Cf?rn(Cf):L0;function Qt(i){return i!=null&&tl(i.length)&&!$n(i)}function yt(i){return _t(i)&&Qt(i)}function P2(i){return i===!0||i===!1||_t(i)&&Vt(i)==_e}var bi=Fg||ys,T2=Af?rn(Af):R0;function I2(i){return _t(i)&&i.nodeType===1&&!Br(i)}function O2(i){if(i==null)return!0;if(Qt(i)&&(Ke(i)||typeof i=="string"||typeof i.splice=="function"||bi(i)||er(i)||Hi(i)))return!i.length;var o=Dt(i);if(o==ot||o==pt)return!i.size;if(Dr(i))return!Lu(i).length;for(var c in i)if(rt.call(i,c))return!1;return!0}function N2(i,o){return zr(i,o)}function H2(i,o,c){c=typeof c=="function"?c:n;var m=c?c(i,o):n;return m===n?zr(i,o,n,c):!!m}function us(i){if(!_t(i))return!1;var o=Vt(i);return o==Ye||o==le||typeof i.message=="string"&&typeof i.name=="string"&&!Br(i)}function z2(i){return typeof i=="number"&&xf(i)}function $n(i){if(!gt(i))return!1;var o=Vt(i);return o==nt||o==it||o==he||o==cn}function dc(i){return typeof i=="number"&&i==Ue(i)}function tl(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=G}function gt(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function _t(i){return i!=null&&typeof i=="object"}var hc=Mf?rn(Mf):W0;function L2(i,o){return i===o||zu(i,o,Qu(o))}function R2(i,o,c){return c=typeof c=="function"?c:n,zu(i,o,Qu(o),c)}function D2(i){return gc(i)&&i!=+i}function W2(i){if(pm(i))throw new Fe(u);return oa(i)}function B2(i){return i===null}function X2(i){return i==null}function gc(i){return typeof i=="number"||_t(i)&&Vt(i)==$e}function Br(i){if(!_t(i)||Vt(i)!=Et)return!1;var o=Po(i);if(o===null)return!0;var c=rt.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Eo.call(c)==Rg}var ss=Pf?rn(Pf):B0;function Y2(i){return dc(i)&&i>=-G&&i<=G}var mc=Tf?rn(Tf):X0;function nl(i){return typeof i=="string"||!Ke(i)&&_t(i)&&Vt(i)==Zt}function ln(i){return typeof i=="symbol"||_t(i)&&Vt(i)==dn}var er=If?rn(If):Y0;function F2(i){return i===n}function V2(i){return _t(i)&&Dt(i)==Mt}function K2(i){return _t(i)&&Vt(i)==It}var U2=xo(Ru),x2=xo(function(i,o){return i<=o});function _c(i){if(!i)return[];if(Qt(i))return nl(i)?kn(i):Jt(i);if(Ar&&i[Ar])return Eg(i[Ar]());var o=Dt(i),c=o==ot?ku:o==pt?po:tr;return c(i)}function ei(i){if(!i)return i===0?i:0;if(i=pn(i),i===q||i===-q){var o=i<0?-1:1;return o*j}return i===i?i:0}function Ue(i){var o=ei(i),c=o%1;return o===o?c?o-c:o:0}function yc(i){return i?Ti(Ue(i),0,ae):0}function pn(i){if(typeof i=="number")return i;if(ln(i))return fe;if(gt(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=gt(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=Rf(i);var c=U.test(i);return c||T1.test(i)?ug(i.slice(2),c?2:8):uu.test(i)?fe:+i}function wc(i){return Wn(i,jt(i))}function G2(i){return i?Ti(Ue(i),-G,G):i===0?i:0}function et(i){return i==null?"":on(i)}var q2=Qi(function(i,o){if(Dr(o)||Qt(o)){Wn(o,Tt(o),i);return}for(var c in o)rt.call(o,c)&&Or(i,c,o[c])}),bc=Qi(function(i,o){Wn(o,jt(o),i)}),il=Qi(function(i,o,c,m){Wn(o,jt(o),i,m)}),Z2=Qi(function(i,o,c,m){Wn(o,Tt(o),i,m)}),J2=Qn(Tu);function Q2(i,o){var c=Ji(i);return o==null?c:Qf(c,o)}var j2=Ge(function(i,o){i=lt(i);var c=-1,m=o.length,v=m>2?o[2]:n;for(v&&Kt(o[0],o[1],v)&&(m=1);++c<m;)for(var C=o[c],z=jt(C),D=-1,V=z.length;++D<V;){var ie=z[D],re=i[ie];(re===n||Cn(re,Gi[ie])&&!rt.call(i,ie))&&(i[ie]=C[ie])}return i}),$2=Ge(function(i){return i.push(n,Ra),nn(vc,n,i)});function ey(i,o){return Nf(i,ze(o,3),Dn)}function ty(i,o){return Nf(i,ze(o,3),Ou)}function ny(i,o){return i==null?i:Iu(i,ze(o,3),jt)}function iy(i,o){return i==null?i:na(i,ze(o,3),jt)}function ry(i,o){return i&&Dn(i,ze(o,3))}function oy(i,o){return i&&Ou(i,ze(o,3))}function ly(i){return i==null?[]:Wo(i,Tt(i))}function uy(i){return i==null?[]:Wo(i,jt(i))}function fs(i,o,c){var m=i==null?n:Ii(i,o);return m===n?c:m}function sy(i,o){return i!=null&&Ba(i,o,O0)}function as(i,o){return i!=null&&Ba(i,o,N0)}var fy=Oa(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=Co.call(o)),i[o]=c},ds($t)),ay=Oa(function(i,o,c){o!=null&&typeof o.toString!="function"&&(o=Co.call(o)),rt.call(i,o)?i[o].push(c):i[o]=[c]},ze),cy=Ge(Hr);function Tt(i){return Qt(i)?Zf(i):Lu(i)}function jt(i){return Qt(i)?Zf(i,!0):F0(i)}function dy(i,o){var c={};return o=ze(o,3),Dn(i,function(m,v,C){Zn(c,o(m,v,C),m)}),c}function hy(i,o){var c={};return o=ze(o,3),Dn(i,function(m,v,C){Zn(c,v,o(m,v,C))}),c}var gy=Qi(function(i,o,c){Bo(i,o,c)}),vc=Qi(function(i,o,c,m){Bo(i,o,c,m)}),my=Qn(function(i,o){var c={};if(i==null)return c;var m=!1;o=dt(o,function(C){return C=yi(C,i),m||(m=C.length>1),C}),Wn(i,Zu(i),c),m&&(c=wn(c,g|_|y,fm));for(var v=o.length;v--;)Yu(c,o[v]);return c});function _y(i,o){return pc(i,el(ze(o)))}var yy=Qn(function(i,o){return i==null?{}:K0(i,o)});function pc(i,o){if(i==null)return{};var c=dt(Zu(i),function(m){return[m]});return o=ze(o),da(i,c,function(m,v){return o(m,v[0])})}function wy(i,o,c){o=yi(o,i);var m=-1,v=o.length;for(v||(v=1,i=n);++m<v;){var C=i==null?n:i[Bn(o[m])];C===n&&(m=v,C=c),i=$n(C)?C.call(i):C}return i}function by(i,o,c){return i==null?i:Lr(i,o,c)}function vy(i,o,c,m){return m=typeof m=="function"?m:n,i==null?i:Lr(i,o,c,m)}var Sc=za(Tt),kc=za(jt);function py(i,o,c){var m=Ke(i),v=m||bi(i)||er(i);if(o=ze(o,4),c==null){var C=i&&i.constructor;v?c=m?new C:[]:gt(i)?c=$n(C)?Ji(Po(i)):{}:c={}}return(v?mn:Dn)(i,function(z,D,V){return o(c,z,D,V)}),c}function Sy(i,o){return i==null?!0:Yu(i,o)}function ky(i,o,c){return i==null?i:ya(i,o,Ku(c))}function Ey(i,o,c,m){return m=typeof m=="function"?m:n,i==null?i:ya(i,o,Ku(c),m)}function tr(i){return i==null?[]:Su(i,Tt(i))}function Cy(i){return i==null?[]:Su(i,jt(i))}function Ay(i,o,c){return c===n&&(c=o,o=n),c!==n&&(c=pn(c),c=c===c?c:0),o!==n&&(o=pn(o),o=o===o?o:0),Ti(pn(i),o,c)}function My(i,o,c){return o=ei(o),c===n?(c=o,o=0):c=ei(c),i=pn(i),H0(i,o,c)}function Py(i,o,c){if(c&&typeof c!="boolean"&&Kt(i,o,c)&&(o=c=n),c===n&&(typeof o=="boolean"?(c=o,o=n):typeof i=="boolean"&&(c=i,i=n)),i===n&&o===n?(i=0,o=1):(i=ei(i),o===n?(o=i,i=0):o=ei(o)),i>o){var m=i;i=o,o=m}if(c||i%1||o%1){var v=Gf();return Rt(i+v*(o-i+lg("1e-"+((v+"").length-1))),o)}return Wu(i,o)}var Ty=ji(function(i,o,c){return o=o.toLowerCase(),i+(c?Ec(o):o)});function Ec(i){return cs(et(i).toLowerCase())}function Cc(i){return i=et(i),i&&i.replace(O1,bg).replace(J1,"")}function Iy(i,o,c){i=et(i),o=on(o);var m=i.length;c=c===n?m:Ti(Ue(c),0,m);var v=c;return c-=o.length,c>=0&&i.slice(c,v)==o}function Oy(i){return i=et(i),i&&xl.test(i)?i.replace(Yi,vg):i}function Ny(i){return i=et(i),i&&jl.test(i)?i.replace(kr,"\\$&"):i}var Hy=ji(function(i,o,c){return i+(c?"-":"")+o.toLowerCase()}),zy=ji(function(i,o,c){return i+(c?" ":"")+o.toLowerCase()}),Ly=Pa("toLowerCase");function Ry(i,o,c){i=et(i),o=Ue(o);var m=o?Ui(i):0;if(!o||m>=o)return i;var v=(o-m)/2;return Uo(No(v),c)+i+Uo(Oo(v),c)}function Dy(i,o,c){i=et(i),o=Ue(o);var m=o?Ui(i):0;return o&&m<o?i+Uo(o-m,c):i}function Wy(i,o,c){i=et(i),o=Ue(o);var m=o?Ui(i):0;return o&&m<o?Uo(o-m,c)+i:i}function By(i,o,c){return c||o==null?o=0:o&&(o=+o),xg(et(i).replace(Er,""),o||0)}function Xy(i,o,c){return(c?Kt(i,o,c):o===n)?o=1:o=Ue(o),Bu(et(i),o)}function Yy(){var i=arguments,o=et(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var Fy=ji(function(i,o,c){return i+(c?"_":"")+o.toLowerCase()});function Vy(i,o,c){return c&&typeof c!="number"&&Kt(i,o,c)&&(o=c=n),c=c===n?ae:c>>>0,c?(i=et(i),i&&(typeof o=="string"||o!=null&&!ss(o))&&(o=on(o),!o&&Ki(i))?wi(kn(i),0,c):i.split(o,c)):[]}var Ky=ji(function(i,o,c){return i+(c?" ":"")+cs(o)});function Uy(i,o,c){return i=et(i),c=c==null?0:Ti(Ue(c),0,i.length),o=on(o),i.slice(c,c+o.length)==o}function xy(i,o,c){var m=k.templateSettings;c&&Kt(i,o,c)&&(o=n),i=et(i),o=il({},o,m,La);var v=il({},o.imports,m.imports,La),C=Tt(v),z=Su(v,C),D,V,ie=0,re=o.interpolate||_o,se="__p += '",me=Eu((o.escape||_o).source+"|"+re.source+"|"+(re===go?lu:_o).source+"|"+(o.evaluate||_o).source+"|$","g"),Ee="//# sourceURL="+(rt.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++tg+"]")+`
`;i.replace(me,function(Re,qe,Je,un,Ut,sn){return Je||(Je=un),se+=i.slice(ie,sn).replace(N1,pg),qe&&(D=!0,se+=`' +
__e(`+qe+`) +
'`),Ut&&(V=!0,se+=`';
`+Ut+`;
__p += '`),Je&&(se+=`' +
((__t = (`+Je+`)) == null ? '' : __t) +
'`),ie=sn+Re.length,Re}),se+=`';
`;var Le=rt.call(o,"variable")&&o.variable;if(!Le)se=`with (obj) {
`+se+`
}
`;else if(ru.test(Le))throw new Fe(f);se=(V?se.replace(fi,""):se).replace(ai,"$1").replace(Nt,"$1;"),se="function("+(Le||"obj")+`) {
`+(Le?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(D?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+se+`return __p
}`;var xe=Mc(function(){return Qe(C,Ee+"return "+se).apply(n,z)});if(xe.source=se,us(xe))throw xe;return xe}function Gy(i){return et(i).toLowerCase()}function qy(i){return et(i).toUpperCase()}function Zy(i,o,c){if(i=et(i),i&&(c||o===n))return Rf(i);if(!i||!(o=on(o)))return i;var m=kn(i),v=kn(o),C=Df(m,v),z=Wf(m,v)+1;return wi(m,C,z).join("")}function Jy(i,o,c){if(i=et(i),i&&(c||o===n))return i.slice(0,Xf(i)+1);if(!i||!(o=on(o)))return i;var m=kn(i),v=Wf(m,kn(o))+1;return wi(m,0,v).join("")}function Qy(i,o,c){if(i=et(i),i&&(c||o===n))return i.replace(Er,"");if(!i||!(o=on(o)))return i;var m=kn(i),v=Df(m,kn(o));return wi(m,v).join("")}function jy(i,o){var c=x,m=T;if(gt(o)){var v="separator"in o?o.separator:v;c="length"in o?Ue(o.length):c,m="omission"in o?on(o.omission):m}i=et(i);var C=i.length;if(Ki(i)){var z=kn(i);C=z.length}if(c>=C)return i;var D=c-Ui(m);if(D<1)return m;var V=z?wi(z,0,D).join(""):i.slice(0,D);if(v===n)return V+m;if(z&&(D+=V.length-D),ss(v)){if(i.slice(D).search(v)){var ie,re=V;for(v.global||(v=Eu(v.source,et(mo.exec(v))+"g")),v.lastIndex=0;ie=v.exec(re);)var se=ie.index;V=V.slice(0,se===n?D:se)}}else if(i.indexOf(on(v),D)!=D){var me=V.lastIndexOf(v);me>-1&&(V=V.slice(0,me))}return V+m}function $y(i){return i=et(i),i&&Ul.test(i)?i.replace(Sr,Pg):i}var ew=ji(function(i,o,c){return i+(c?" ":"")+o.toUpperCase()}),cs=Pa("toUpperCase");function Ac(i,o,c){return i=et(i),o=c?n:o,o===n?kg(i)?Og(i):gg(i):i.match(o)||[]}var Mc=Ge(function(i,o){try{return nn(i,n,o)}catch(c){return us(c)?c:new Fe(c)}}),tw=Qn(function(i,o){return mn(o,function(c){c=Bn(c),Zn(i,c,os(i[c],i))}),i});function nw(i){var o=i==null?0:i.length,c=ze();return i=o?dt(i,function(m){if(typeof m[1]!="function")throw new _n(s);return[c(m[0]),m[1]]}):[],Ge(function(m){for(var v=-1;++v<o;){var C=i[v];if(nn(C[0],this,m))return nn(C[1],this,m)}})}function iw(i){return P0(wn(i,g))}function ds(i){return function(){return i}}function rw(i,o){return i==null||i!==i?o:i}var ow=Ia(),lw=Ia(!0);function $t(i){return i}function hs(i){return la(typeof i=="function"?i:wn(i,g))}function uw(i){return sa(wn(i,g))}function sw(i,o){return fa(i,wn(o,g))}var fw=Ge(function(i,o){return function(c){return Hr(c,i,o)}}),aw=Ge(function(i,o){return function(c){return Hr(i,c,o)}});function gs(i,o,c){var m=Tt(o),v=Wo(o,m);c==null&&!(gt(o)&&(v.length||!m.length))&&(c=o,o=i,i=this,v=Wo(o,Tt(o)));var C=!(gt(c)&&"chain"in c)||!!c.chain,z=$n(i);return mn(v,function(D){var V=o[D];i[D]=V,z&&(i.prototype[D]=function(){var ie=this.__chain__;if(C||ie){var re=i(this.__wrapped__),se=re.__actions__=Jt(this.__actions__);return se.push({func:V,args:arguments,thisArg:i}),re.__chain__=ie,re}return V.apply(i,di([this.value()],arguments))})}),i}function cw(){return Ht._===this&&(Ht._=Dg),this}function ms(){}function dw(i){return i=Ue(i),Ge(function(o){return aa(o,i)})}var hw=xu(dt),gw=xu(Of),mw=xu(yu);function Pc(i){return $u(i)?wu(Bn(i)):U0(i)}function _w(i){return function(o){return i==null?n:Ii(i,o)}}var yw=Na(),ww=Na(!0);function _s(){return[]}function ys(){return!1}function bw(){return{}}function vw(){return""}function pw(){return!0}function Sw(i,o){if(i=Ue(i),i<1||i>G)return[];var c=ae,m=Rt(i,ae);o=ze(o),i-=ae;for(var v=pu(m,o);++c<i;)o(c);return v}function kw(i){return Ke(i)?dt(i,Bn):ln(i)?[i]:Jt(qa(et(i)))}function Ew(i){var o=++Lg;return et(i)+o}var Cw=Ko(function(i,o){return i+o},0),Aw=Gu("ceil"),Mw=Ko(function(i,o){return i/o},1),Pw=Gu("floor");function Tw(i){return i&&i.length?Do(i,$t,Nu):n}function Iw(i,o){return i&&i.length?Do(i,ze(o,2),Nu):n}function Ow(i){return zf(i,$t)}function Nw(i,o){return zf(i,ze(o,2))}function Hw(i){return i&&i.length?Do(i,$t,Ru):n}function zw(i,o){return i&&i.length?Do(i,ze(o,2),Ru):n}var Lw=Ko(function(i,o){return i*o},1),Rw=Gu("round"),Dw=Ko(function(i,o){return i-o},0);function Ww(i){return i&&i.length?vu(i,$t):0}function Bw(i,o){return i&&i.length?vu(i,ze(o,2)):0}return k.after=u2,k.ary=oc,k.assign=q2,k.assignIn=bc,k.assignInWith=il,k.assignWith=Z2,k.at=J2,k.before=lc,k.bind=os,k.bindAll=tw,k.bindKey=uc,k.castArray=b2,k.chain=nc,k.chunk=Pm,k.compact=Tm,k.concat=Im,k.cond=nw,k.conforms=iw,k.constant=ds,k.countBy=W_,k.create=Q2,k.curry=sc,k.curryRight=fc,k.debounce=ac,k.defaults=j2,k.defaultsDeep=$2,k.defer=s2,k.delay=f2,k.difference=Om,k.differenceBy=Nm,k.differenceWith=Hm,k.drop=zm,k.dropRight=Lm,k.dropRightWhile=Rm,k.dropWhile=Dm,k.fill=Wm,k.filter=X_,k.flatMap=V_,k.flatMapDeep=K_,k.flatMapDepth=U_,k.flatten=ja,k.flattenDeep=Bm,k.flattenDepth=Xm,k.flip=a2,k.flow=ow,k.flowRight=lw,k.fromPairs=Ym,k.functions=ly,k.functionsIn=uy,k.groupBy=x_,k.initial=Vm,k.intersection=Km,k.intersectionBy=Um,k.intersectionWith=xm,k.invert=fy,k.invertBy=ay,k.invokeMap=q_,k.iteratee=hs,k.keyBy=Z_,k.keys=Tt,k.keysIn=jt,k.map=Qo,k.mapKeys=dy,k.mapValues=hy,k.matches=uw,k.matchesProperty=sw,k.memoize=$o,k.merge=gy,k.mergeWith=vc,k.method=fw,k.methodOf=aw,k.mixin=gs,k.negate=el,k.nthArg=dw,k.omit=my,k.omitBy=_y,k.once=c2,k.orderBy=J_,k.over=hw,k.overArgs=d2,k.overEvery=gw,k.overSome=mw,k.partial=ls,k.partialRight=cc,k.partition=Q_,k.pick=yy,k.pickBy=pc,k.property=Pc,k.propertyOf=_w,k.pull=Jm,k.pullAll=ec,k.pullAllBy=Qm,k.pullAllWith=jm,k.pullAt=$m,k.range=yw,k.rangeRight=ww,k.rearg=h2,k.reject=e2,k.remove=e_,k.rest=g2,k.reverse=is,k.sampleSize=n2,k.set=by,k.setWith=vy,k.shuffle=i2,k.slice=t_,k.sortBy=l2,k.sortedUniq=s_,k.sortedUniqBy=f_,k.split=Vy,k.spread=m2,k.tail=a_,k.take=c_,k.takeRight=d_,k.takeRightWhile=h_,k.takeWhile=g_,k.tap=T_,k.throttle=_2,k.thru=Jo,k.toArray=_c,k.toPairs=Sc,k.toPairsIn=kc,k.toPath=kw,k.toPlainObject=wc,k.transform=py,k.unary=y2,k.union=m_,k.unionBy=__,k.unionWith=y_,k.uniq=w_,k.uniqBy=b_,k.uniqWith=v_,k.unset=Sy,k.unzip=rs,k.unzipWith=tc,k.update=ky,k.updateWith=Ey,k.values=tr,k.valuesIn=Cy,k.without=p_,k.words=Ac,k.wrap=w2,k.xor=S_,k.xorBy=k_,k.xorWith=E_,k.zip=C_,k.zipObject=A_,k.zipObjectDeep=M_,k.zipWith=P_,k.entries=Sc,k.entriesIn=kc,k.extend=bc,k.extendWith=il,gs(k,k),k.add=Cw,k.attempt=Mc,k.camelCase=Ty,k.capitalize=Ec,k.ceil=Aw,k.clamp=Ay,k.clone=v2,k.cloneDeep=S2,k.cloneDeepWith=k2,k.cloneWith=p2,k.conformsTo=E2,k.deburr=Cc,k.defaultTo=rw,k.divide=Mw,k.endsWith=Iy,k.eq=Cn,k.escape=Oy,k.escapeRegExp=Ny,k.every=B_,k.find=Y_,k.findIndex=Ja,k.findKey=ey,k.findLast=F_,k.findLastIndex=Qa,k.findLastKey=ty,k.floor=Pw,k.forEach=ic,k.forEachRight=rc,k.forIn=ny,k.forInRight=iy,k.forOwn=ry,k.forOwnRight=oy,k.get=fs,k.gt=C2,k.gte=A2,k.has=sy,k.hasIn=as,k.head=$a,k.identity=$t,k.includes=G_,k.indexOf=Fm,k.inRange=My,k.invoke=cy,k.isArguments=Hi,k.isArray=Ke,k.isArrayBuffer=M2,k.isArrayLike=Qt,k.isArrayLikeObject=yt,k.isBoolean=P2,k.isBuffer=bi,k.isDate=T2,k.isElement=I2,k.isEmpty=O2,k.isEqual=N2,k.isEqualWith=H2,k.isError=us,k.isFinite=z2,k.isFunction=$n,k.isInteger=dc,k.isLength=tl,k.isMap=hc,k.isMatch=L2,k.isMatchWith=R2,k.isNaN=D2,k.isNative=W2,k.isNil=X2,k.isNull=B2,k.isNumber=gc,k.isObject=gt,k.isObjectLike=_t,k.isPlainObject=Br,k.isRegExp=ss,k.isSafeInteger=Y2,k.isSet=mc,k.isString=nl,k.isSymbol=ln,k.isTypedArray=er,k.isUndefined=F2,k.isWeakMap=V2,k.isWeakSet=K2,k.join=Gm,k.kebabCase=Hy,k.last=vn,k.lastIndexOf=qm,k.lowerCase=zy,k.lowerFirst=Ly,k.lt=U2,k.lte=x2,k.max=Tw,k.maxBy=Iw,k.mean=Ow,k.meanBy=Nw,k.min=Hw,k.minBy=zw,k.stubArray=_s,k.stubFalse=ys,k.stubObject=bw,k.stubString=vw,k.stubTrue=pw,k.multiply=Lw,k.nth=Zm,k.noConflict=cw,k.noop=ms,k.now=jo,k.pad=Ry,k.padEnd=Dy,k.padStart=Wy,k.parseInt=By,k.random=Py,k.reduce=j_,k.reduceRight=$_,k.repeat=Xy,k.replace=Yy,k.result=wy,k.round=Rw,k.runInContext=F,k.sample=t2,k.size=r2,k.snakeCase=Fy,k.some=o2,k.sortedIndex=n_,k.sortedIndexBy=i_,k.sortedIndexOf=r_,k.sortedLastIndex=o_,k.sortedLastIndexBy=l_,k.sortedLastIndexOf=u_,k.startCase=Ky,k.startsWith=Uy,k.subtract=Dw,k.sum=Ww,k.sumBy=Bw,k.template=xy,k.times=Sw,k.toFinite=ei,k.toInteger=Ue,k.toLength=yc,k.toLower=Gy,k.toNumber=pn,k.toSafeInteger=G2,k.toString=et,k.toUpper=qy,k.trim=Zy,k.trimEnd=Jy,k.trimStart=Qy,k.truncate=jy,k.unescape=$y,k.uniqueId=Ew,k.upperCase=ew,k.upperFirst=cs,k.each=ic,k.eachRight=rc,k.first=$a,gs(k,function(){var i={};return Dn(k,function(o,c){rt.call(k.prototype,c)||(i[c]=o)}),i}(),{chain:!1}),k.VERSION=r,mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){k[i].placeholder=k}),mn(["drop","take"],function(i,o){Ze.prototype[i]=function(c){c=c===n?1:At(Ue(c),0);var m=this.__filtered__&&!o?new Ze(this):this.clone();return m.__filtered__?m.__takeCount__=Rt(c,m.__takeCount__):m.__views__.push({size:Rt(c,ae),type:i+(m.__dir__<0?"Right":"")}),m},Ze.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),mn(["filter","map","takeWhile"],function(i,o){var c=o+1,m=c==P||c==X;Ze.prototype[i]=function(v){var C=this.clone();return C.__iteratees__.push({iteratee:ze(v,3),type:c}),C.__filtered__=C.__filtered__||m,C}}),mn(["head","last"],function(i,o){var c="take"+(o?"Right":"");Ze.prototype[i]=function(){return this[c](1).value()[0]}}),mn(["initial","tail"],function(i,o){var c="drop"+(o?"":"Right");Ze.prototype[i]=function(){return this.__filtered__?new Ze(this):this[c](1)}}),Ze.prototype.compact=function(){return this.filter($t)},Ze.prototype.find=function(i){return this.filter(i).head()},Ze.prototype.findLast=function(i){return this.reverse().find(i)},Ze.prototype.invokeMap=Ge(function(i,o){return typeof i=="function"?new Ze(this):this.map(function(c){return Hr(c,i,o)})}),Ze.prototype.reject=function(i){return this.filter(el(ze(i)))},Ze.prototype.slice=function(i,o){i=Ue(i);var c=this;return c.__filtered__&&(i>0||o<0)?new Ze(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),o!==n&&(o=Ue(o),c=o<0?c.dropRight(-o):c.take(o-i)),c)},Ze.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Ze.prototype.toArray=function(){return this.take(ae)},Dn(Ze.prototype,function(i,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),m=/^(?:head|last)$/.test(o),v=k[m?"take"+(o=="last"?"Right":""):o],C=m||/^find/.test(o);v&&(k.prototype[o]=function(){var z=this.__wrapped__,D=m?[1]:arguments,V=z instanceof Ze,ie=D[0],re=V||Ke(z),se=function(qe){var Je=v.apply(k,di([qe],D));return m&&me?Je[0]:Je};re&&c&&typeof ie=="function"&&ie.length!=1&&(V=re=!1);var me=this.__chain__,Ee=!!this.__actions__.length,Le=C&&!me,xe=V&&!Ee;if(!C&&re){z=xe?z:new Ze(this);var Re=i.apply(z,D);return Re.__actions__.push({func:Jo,args:[se],thisArg:n}),new yn(Re,me)}return Le&&xe?i.apply(this,D):(Re=this.thru(se),Le?m?Re.value()[0]:Re.value():Re)})}),mn(["pop","push","shift","sort","splice","unshift"],function(i){var o=So[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",m=/^(?:pop|shift)$/.test(i);k.prototype[i]=function(){var v=arguments;if(m&&!this.__chain__){var C=this.value();return o.apply(Ke(C)?C:[],v)}return this[c](function(z){return o.apply(Ke(z)?z:[],v)})}}),Dn(Ze.prototype,function(i,o){var c=k[o];if(c){var m=c.name+"";rt.call(Zi,m)||(Zi[m]=[]),Zi[m].push({name:o,func:c})}}),Zi[Vo(n,w).name]=[{name:"wrapper",func:n}],Ze.prototype.clone=$g,Ze.prototype.reverse=e0,Ze.prototype.value=t0,k.prototype.at=I_,k.prototype.chain=O_,k.prototype.commit=N_,k.prototype.next=H_,k.prototype.plant=L_,k.prototype.reverse=R_,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=D_,k.prototype.first=k.prototype.head,Ar&&(k.prototype[Ar]=z_),k},xi=Ng();Ci?((Ci.exports=xi)._=xi,hu._=xi):Ht._=xi}).call(Fr)})(Hl,Hl.exports);var oS=Hl.exports;const ih=H7(oS);function rh(t,e,n){const r=t.slice();return r[19]=e[n][0],r[20]=e[n][1],r}function oh(t,e,n){const r=t.slice();return r[19]=e[n][0],r[20]=e[n][1],r}function lh(t){let e,n;return e=new M1({props:{id:t[19],type:_r.ArrowClosed}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p:Me,i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function uh(t){let e,n;return e=new M1({props:{id:t[19]+"line",type:_r.ArrowClosed}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p:Me,i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function lS(t){let e;return{c(){e=qt("⛶")},m(n,r){ne(n,e,r)},d(n){n&&ee(e)}}}function uS(t){let e;return{c(){e=qt("🌙")},m(n,r){ne(n,e,r)},d(n){n&&ee(e)}}}function sS(t){let e,n,r,l;return e=new br({props:{$$slots:{default:[lS]},$$scope:{ctx:t}}}),e.$on("click",t[12]),r=new br({props:{$$slots:{default:[uS]},$$scope:{ctx:t}}}),r.$on("click",t[13]),{c(){be(e.$$.fragment),n=He(),be(r.$$.fragment)},m(u,s){ye(e,u,s),ne(u,n,s),ye(r,u,s),l=!0},p(u,s){const f={};s&33554432&&(f.$$scope={dirty:s,ctx:u}),e.$set(f);const a={};s&33554432&&(a.$$scope={dirty:s,ctx:u}),r.$set(a)},i(u){l||(J(e.$$.fragment,u),J(r.$$.fragment,u),l=!0)},o(u){$(e.$$.fragment,u),$(r.$$.fragment,u),l=!1},d(u){u&&ee(n),we(e,u),we(r,u)}}}function fS(t){let e,n,r;return{c(){e=Ne("a"),e.textContent="GitHub",n=Ne("br"),r=qt("© 2024 Craig Anderson"),M(e,"href","https://github.com/theonlytechnohead/patchcanvas")},m(l,u){ne(l,e,u),ne(l,n,u),ne(l,r,u)},p:Me,d(l){l&&(ee(e),ee(n),ee(r))}}}function aS(t){let e,n;return e=new Y7({}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function cS(t){let e,n,r,l,u,s,f,a,d,h,g,_,y=kt(t[1]),b=[];for(let E=0;E<y.length;E+=1)b[E]=lh(oh(t,y,E));const p=E=>$(b[E],1,1,()=>{b[E]=null});let A=kt(t[1]),w=[];for(let E=0;E<A.length;E+=1)w[E]=uh(rh(t,A,E));const O=E=>$(w[E],1,1,()=>{w[E]=null});return r=new J8({props:{variant:oi.Dots}}),u=new l7({props:{position:"top-right",pannable:!1,zoomable:!1,width:visualViewport!=null&&visualViewport.width?(visualViewport==null?void 0:visualViewport.width)/10:void 0,height:visualViewport!=null&&visualViewport.height?(visualViewport==null?void 0:visualViewport.height)/10:void 0}}),f=new L8({props:{position:"bottom-right",showFitView:!1,showLock:!1,$$slots:{default:[sS]},$$scope:{ctx:t}}}),d=new oo({props:{position:"bottom-left",$$slots:{default:[fS]},$$scope:{ctx:t}}}),g=new oo({props:{position:"top-left",$$slots:{default:[aS]},$$scope:{ctx:t}}}),{c(){for(let E=0;E<b.length;E+=1)b[E].c();e=He();for(let E=0;E<w.length;E+=1)w[E].c();n=He(),be(r.$$.fragment),l=He(),be(u.$$.fragment),s=He(),be(f.$$.fragment),a=He(),be(d.$$.fragment),h=He(),be(g.$$.fragment)},m(E,S){for(let N=0;N<b.length;N+=1)b[N]&&b[N].m(E,S);ne(E,e,S);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(E,S);ne(E,n,S),ye(r,E,S),ne(E,l,S),ye(u,E,S),ne(E,s,S),ye(f,E,S),ne(E,a,S),ye(d,E,S),ne(E,h,S),ye(g,E,S),_=!0},p(E,S){if(S&2){y=kt(E[1]);let H;for(H=0;H<y.length;H+=1){const L=oh(E,y,H);b[H]?(b[H].p(L,S),J(b[H],1)):(b[H]=lh(L),b[H].c(),J(b[H],1),b[H].m(e.parentNode,e))}for(ft(),H=y.length;H<b.length;H+=1)p(H);at()}if(S&2){A=kt(E[1]);let H;for(H=0;H<A.length;H+=1){const L=rh(E,A,H);w[H]?(w[H].p(L,S),J(w[H],1)):(w[H]=uh(L),w[H].c(),J(w[H],1),w[H].m(n.parentNode,n))}for(ft(),H=A.length;H<w.length;H+=1)O(H);at()}const N={};S&33554433&&(N.$$scope={dirty:S,ctx:E}),f.$set(N);const Y={};S&33554432&&(Y.$$scope={dirty:S,ctx:E}),d.$set(Y);const I={};S&33554432&&(I.$$scope={dirty:S,ctx:E}),g.$set(I)},i(E){if(!_){for(let S=0;S<y.length;S+=1)J(b[S]);for(let S=0;S<A.length;S+=1)J(w[S]);J(r.$$.fragment,E),J(u.$$.fragment,E),J(f.$$.fragment,E),J(d.$$.fragment,E),J(g.$$.fragment,E),_=!0}},o(E){b=b.filter(Boolean);for(let S=0;S<b.length;S+=1)$(b[S]);w=w.filter(Boolean);for(let S=0;S<w.length;S+=1)$(w[S]);$(r.$$.fragment,E),$(u.$$.fragment,E),$(f.$$.fragment,E),$(d.$$.fragment,E),$(g.$$.fragment,E),_=!1},d(E){E&&(ee(e),ee(n),ee(l),ee(s),ee(a),ee(h)),Os(b,E),Os(w,E),we(r,E),we(u,E),we(f,E),we(d,E),we(g,E)}}}function dS(t){let e,n;return e=new nS({props:{slot:"connectionLine"}}),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p:Me,i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function hS(t){let e,n;return e=new u8({props:{nodes:t[4],nodeTypes:t[2],edges:t[5],edgeTypes:t[3],defaultEdgeOptions:t[6],isValidConnection:gS,snapGrid:[25,25],colorMode:t[0].theme,fitView:!0,fitViewOptions:t[7],minZoom:.75,maxZoom:10,onlyRenderVisibleElements:!0,attributionPosition:"top-right",deleteKey:"Delete",$$slots:{connectionLine:[dS],default:[cS]},$$scope:{ctx:t}}}),e.$on("dragover",t[8]),e.$on("drop",t[9]),e.$on("nodeclick",t[14]),e.$on("edgeclick",t[15]),{c(){be(e.$$.fragment)},m(r,l){ye(e,r,l),n=!0},p(r,[l]){const u={};l&1&&(u.colorMode=r[0].theme),l&33554433&&(u.$$scope={dirty:l,ctx:r}),e.$set(u)},i(r){n||(J(e.$$.fragment,r),n=!0)},o(r){$(e.$$.fragment,r),n=!1},d(r){we(e,r)}}}function gS(t){return t.sourceHandle===t.targetHandle}function mS(t){var e;document.fullscreenElement||(e=document.querySelector('[media="screen"]'))==null||e.setAttribute("media","print")}function _S(t,e,n){var Y;let r,l,u,s;de(t,On,I=>n(16,u=I)),de(t,Is,I=>n(0,s=I)),u.version!=vl?(console.log("Version mismatch: "+u.version+" != "+vl),u.nodes.length===Pn.length&&u.edges.length===Ks.length&&u.nodes.every((I,H,L)=>ih.isMatch(I,Pn[H]))&&u.edges.every((I,H,L)=>ih.isMatch(I,Ks[H]))?(console.log("Still default, updating without confirmation"),setTimeout(()=>{C1()},0)):(console.log("Edited, prompt for confirmation"),confirm(`Your patch is out of date
Do you want to update to the latest version?
(v${u.version} -> v${vl})`))):console.log("Using latest save version: "+u.version),document.documentElement.setAttribute("data-theme",s.theme),(Y=document.querySelector('meta[name="color-scheme"]'))==null||Y.setAttribute("content",s.theme);const f=Object.entries(Gt),a={default:Q7},d={connection:K7},h=Ae(JSON.parse(JSON.stringify(ue(On).nodes)));de(t,h,I=>n(10,r=I));const g=Ae(JSON.parse(JSON.stringify(ue(On).edges)));de(t,g,I=>n(11,l=I));const _={animated:!1,type:"connection",class:""},y={padding:1,duration:1e3},{screenToFlowPosition:b}=a7(),p=I=>{if(I.preventDefault(),I.dataTransfer){const H=document.elementFromPoint(I.clientX,I.clientY);let L="";I.dataTransfer.types[0]==="application/patchcanvasnode"?L=".svelte-flow__pane, .svelte-flow__edge, .svelte-flow__node.group":I.dataTransfer.types[0].includes("patchcanvasconnection/")?L=".drop-target":I.dataTransfer.types[0]==="application/patchcanvaseraser"&&(L=".svelte-flow__handle"),H!=null&&H.matches(L)?I.dataTransfer.dropEffect="move":I.dataTransfer.dropEffect="none"}},A=I=>{if(I.preventDefault(),!I.dataTransfer)return null;if(I.dataTransfer.types[0]==="application/patchcanvasnode"){const H=JSON.parse(I.dataTransfer.getData("application/patchcanvasnode"));w(H,I.clientX,I.clientY)}};function w(I,H,L){const x=b({x:H,y:L}),T={id:crypto.randomUUID().toString(),type:"default",position:x,connectable:!I.group,data:{label:"Unnamed "+(I.group?"group":"node"),group:I.group??!1,inputs:I.inputs??[],outputs:I.outputs??[]},class:I.group?"group":void 0,dragHandle:".drag-dots",origin:[.5,0]};r.push(T),r.sort((B,W)=>B.data.group?W.data.group?0:-1:W.data.group?1:0),h.set(r)}const O=function(){var I;(I=document.querySelector('[media="print"]'))==null||I.setAttribute("media","screen"),document.addEventListener("fullscreenchange",mS),document.documentElement.requestFullscreen()},E=()=>{var I;s.theme==="dark"?Nn(Is,s.theme="light",s):Nn(Is,s.theme="dark",s),document.documentElement.setAttribute("data-theme",s.theme),(I=document.querySelector('meta[name="color-scheme"]'))==null||I.setAttribute("content",s.theme)},S=I=>console.log("on node click",I.detail.node),N=I=>console.log("on edge click: ",I.detail.edge);return t.$$.update=()=>{t.$$.dirty&3072&&(Nn(On,u.nodes=r,u),Nn(On,u.edges=l,u))},[s,f,a,d,h,g,_,y,p,A,r,l,O,E,S,N]}class yS extends Ie{constructor(e){super(),Te(this,e,_S,hS,Oe,{})}}function sh(t,e,n){const r=t.slice();return r[1]=e[n],r}function fh(t,e){let n,r,l;return r=new yS({}),{key:t,first:null,c(){n=bt(),be(r.$$.fragment),this.first=n},m(u,s){ne(u,n,s),ye(r,u,s),l=!0},p(u,s){},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){$(r.$$.fragment,u),l=!1},d(u){u&&ee(n),we(r,u)}}}function wS(t){let e=[],n=new Map,r,l,u=kt(t[0].uniqueFlow);const s=f=>f[1];for(let f=0;f<u.length;f+=1){let a=sh(t,u,f),d=s(a);n.set(d,e[f]=fh(d))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();r=bt()},m(f,a){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(f,a);ne(f,r,a),l=!0},p(f,a){a&1&&(u=kt(f[0].uniqueFlow),ft(),e=Wi(e,a,s,0,f,u,n,r.parentNode,Di,fh,r,sh),at())},i(f){if(!l){for(let a=0;a<u.length;a+=1)J(e[a]);l=!0}},o(f){for(let a=0;a<e.length;a+=1)$(e[a]);l=!1},d(f){f&&ee(r);for(let a=0;a<e.length;a+=1)e[a].d(f)}}}function bS(t){let e,n,r,l;return r=new a8({props:{$$slots:{default:[wS]},$$scope:{ctx:t}}}),{c(){e=Ne("main"),n=Ne("div"),be(r.$$.fragment),We(n,"height","100%")},m(u,s){ne(u,e,s),Ce(e,n),ye(r,n,null),l=!0},p(u,[s]){const f={};s&17&&(f.$$scope={dirty:s,ctx:u}),r.$set(f)},i(u){l||(J(r.$$.fragment,u),l=!0)},o(u){$(r.$$.fragment,u),l=!1},d(u){u&&ee(e),we(r)}}}function vS(t,e,n){let r;return de(t,On,l=>n(0,r=l)),[r]}class pS extends Ie{constructor(e){super(),Te(this,e,vS,bS,Oe,{})}}new pS({target:document.body});
