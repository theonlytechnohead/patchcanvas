var As=Object.defineProperty;var Ts=(t,e,n)=>e in t?As(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Et=(t,e,n)=>(Ts(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function se(){}function Ve(t,e){for(const n in e)t[n]=e[n];return t}function ql(t){return t()}function co(){return Object.create(null)}function Oe(t){t.forEach(ql)}function Ne(t){return typeof t=="function"}function ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Zl(t,e){return t!=t?e==e:t!==e}function Os(t){return Object.keys(t).length===0}function di(t,...e){if(t==null){for(const i of e)i(void 0);return se}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function F(t){let e;return di(t,n=>e=n)(),e}function J(t,e,n){t.$$.on_destroy.push(di(e,n))}function De(t,e,n,i){if(t){const o=Ul(t,e,n,i);return t[0](o)}}function Ul(t,e,n,i){return t[1]&&i?Ve(n.ctx.slice(),t[1](i(e))):n.ctx}function Xe(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const l=[],s=Math.max(e.dirty.length,o.length);for(let r=0;r<s;r+=1)l[r]=e.dirty[r]|o[r];return l}return e.dirty|o}return e.dirty}function Le(t,e,n,i,o,l){if(o){const s=Ul(e,n,i,l);t.p(s,o)}}function Ye(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function xi(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Qt(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function ps(t){const e={};for(const n in t)e[n]=!0;return e}function ho(t){return t??""}function nt(t,e,n){return t.set(n),e}function Ke(t){return t&&Ne(t.destroy)?t.destroy:se}const Is=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ue(t,e){t.appendChild(e)}function K(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode&&t.parentNode.removeChild(t)}function Li(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _e(t){return document.createElement(t)}function be(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function qe(t){return document.createTextNode(t)}function de(){return qe(" ")}function Te(){return qe("")}function he(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function w(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Ds=["width","height"];function jt(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Ds.indexOf(i)===-1?t[i]=e[i]:w(t,i,e[i])}function Xs(t){return Array.from(t.childNodes)}function Xt(t,e){e=""+e,t.data!==e&&(t.data=e)}function me(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let Yn;function Ls(){if(Yn===void 0){Yn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Yn=!0}}return Yn}function Ys(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=_e("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=Ls();let l;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=he(window,"message",s=>{s.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{l=he(i.contentWindow,"resize",e),e()}),ue(t,i),()=>{(o||l&&i.contentWindow)&&l(),B(i)}}function ye(t,e,n){t.classList.toggle(e,!!n)}function Vs(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class Rs{constructor(e=!1){Et(this,"is_svg",!1);Et(this,"e");Et(this,"n");Et(this,"t");Et(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=be(n.nodeName):this.e=_e(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)K(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(B)}}function ei(t,e){return new t(e)}let wn;function _n(t){wn=t}function sn(){if(!wn)throw new Error("Function called outside component initialization");return wn}function An(t){sn().$$.on_mount.push(t)}function $i(t){sn().$$.on_destroy.push(t)}function hi(){const t=sn();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=Vs(e,n,{cancelable:i});return o.slice().forEach(s=>{s.call(t,l)}),!l.defaultPrevented}return!0}}function kn(t,e){return sn().$$.context.set(t,e),e}function Sn(t){return sn().$$.context.get(t)}function Ws(t){return sn().$$.context.has(t)}function ve(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const Ft=[],at=[];let Zt=[];const go=[],Bs=Promise.resolve();let Yi=!1;function Ks(){Yi||(Yi=!0,Bs.then(Gl))}function ti(t){Zt.push(t)}const Ei=new Set;let Bt=0;function Gl(){if(Bt!==0)return;const t=wn;do{try{for(;Bt<Ft.length;){const e=Ft[Bt];Bt++,_n(e),Fs(e.$$)}}catch(e){throw Ft.length=0,Bt=0,e}for(_n(null),Ft.length=0,Bt=0;at.length;)at.pop()();for(let e=0;e<Zt.length;e+=1){const n=Zt[e];Ei.has(n)||(Ei.add(n),n())}Zt.length=0}while(Ft.length);for(;go.length;)go.pop()();Yi=!1,Ei.clear(),_n(t)}function Fs(t){if(t.fragment!==null){t.update(),Oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ti)}}function qs(t){const e=[],n=[];Zt.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Zt=e}const Jn=new Set;let At;function Ee(){At={r:0,c:[],p:At}}function Me(){At.r||Oe(At.c),At=At.p}function L(t,e){t&&t.i&&(Jn.delete(t),t.i(e))}function W(t,e,n,i){if(t&&t.o){if(Jn.has(t))return;Jn.add(t),At.c.push(()=>{Jn.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function Ie(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function pt(t,e){W(t,1,1,()=>{e.delete(t.key)})}function It(t,e,n,i,o,l,s,r,u,a,f,c){let d=t.length,h=l.length,m=d;const _={};for(;m--;)_[t[m].key]=m;const v=[],g=new Map,C=new Map,b=[];for(m=h;m--;){const E=c(o,l,m),z=n(E);let P=s.get(z);P?i&&b.push(()=>P.p(E,e)):(P=a(z,E),P.c()),g.set(z,v[m]=P),z in _&&C.set(z,Math.abs(m-_[z]))}const y=new Set,M=new Set;function O(E){L(E,1),E.m(r,f),s.set(E.key,E),f=E.first,h--}for(;d&&h;){const E=v[h-1],z=t[d-1],P=E.key,D=z.key;E===z?(f=E.first,d--,h--):g.has(D)?!s.has(P)||y.has(P)?O(E):M.has(D)?d--:C.get(P)>C.get(D)?(M.add(P),O(E)):(y.add(D),d--):(u(z,s),d--)}for(;d--;){const E=t[d];g.has(E.key)||u(E,s)}for(;h;)O(v[h-1]);return Oe(b),v}function wt(t,e){const n={},i={},o={$$scope:1};let l=t.length;for(;l--;){const s=t[l],r=e[l];if(r){for(const u in s)u in r||(i[u]=1);for(const u in r)o[u]||(n[u]=r[u],o[u]=1);t[l]=r}else for(const u in s)o[u]=1}for(const s in i)s in n||(n[s]=void 0);return n}function xt(t){return typeof t=="object"&&t!==null?t:{}}function te(t){t&&t.c()}function $(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),ti(()=>{const l=t.$$.on_mount.map(ql).filter(Ne);t.$$.on_destroy?t.$$.on_destroy.push(...l):Oe(l),t.$$.on_mount=[]}),o.forEach(ti)}function ee(t,e){const n=t.$$;n.fragment!==null&&(qs(n.after_update),Oe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Zs(t,e){t.$$.dirty[0]===-1&&(Ft.push(t),Ks(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ae(t,e,n,i,o,l,s=null,r=[-1]){const u=wn;_n(t);const a=t.$$={fragment:null,ctx:[],props:l,update:se,not_equal:o,bound:co(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:co(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};s&&s(a.root);let f=!1;if(a.ctx=n?n(t,e.props||{},(c,d,...h)=>{const m=h.length?h[0]:d;return a.ctx&&o(a.ctx[c],a.ctx[c]=m)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](m),f&&Zs(t,c)),d}):[],a.update(),f=!0,Oe(a.before_update),a.fragment=i?i(a.ctx):!1,e.target){if(e.hydrate){const c=Xs(e.target);a.fragment&&a.fragment.l(c),c.forEach(B)}else a.fragment&&a.fragment.c();e.intro&&L(t.$$.fragment),$(t,e.target,e.anchor),Gl()}_n(u)}class fe{constructor(){Et(this,"$$");Et(this,"$$set")}$destroy(){ee(this,1),this.$destroy=se}$on(e,n){if(!Ne(n))return se;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Os(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Us="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Us);const Kt=[];function xe(t,e){return{subscribe:re(t,e).subscribe}}function re(t,e=se){let n;const i=new Set;function o(r){if(ce(t,r)&&(t=r,n)){const u=!Kt.length;for(const a of i)a[1](),Kt.push(a,t);if(u){for(let a=0;a<Kt.length;a+=2)Kt[a][0](Kt[a+1]);Kt.length=0}}}function l(r){o(r(t))}function s(r,u=se){const a=[r,u];return i.add(a),i.size===1&&(n=e(o,l)||se),r(t),()=>{i.delete(a),i.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:s}}function $t(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=e.length<2;return xe(n,(s,r)=>{let u=!1;const a=[];let f=0,c=se;const d=()=>{if(f)return;c();const m=e(i?a[0]:a,s,r);l?s(m):c=Ne(m)?m:se},h=o.map((m,_)=>di(m,v=>{a[_]=v,f&=~(1<<_),u&&d()},()=>{f|=1<<_}));return u=!0,d(),function(){Oe(h),c(),u=!1}})}function Se(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=Se(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var Gs={value:()=>{}};function gi(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Qn(n)}function Qn(t){this._=t}function Js(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Qn.prototype=gi.prototype={constructor:Qn,on:function(t,e){var n=this._,i=Js(t+"",n),o,l=-1,s=i.length;if(arguments.length<2){for(;++l<s;)if((o=(t=i[l]).type)&&(o=Qs(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<s;)if(o=(t=i[l]).type)n[o]=mo(n[o],t.name,e);else if(e==null)for(o in n)n[o]=mo(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Qn(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,l;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],i=0,o=l.length;i<o;++i)l[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,l=i.length;o<l;++o)i[o].value.apply(e,n)}};function Qs(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function mo(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Gs,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Vi="http://www.w3.org/1999/xhtml";const _o={svg:"http://www.w3.org/2000/svg",xhtml:Vi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mi(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_o.hasOwnProperty(e)?{space:_o[e],local:t}:t}function js(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Vi&&e.documentElement.namespaceURI===Vi?e.createElement(t):e.createElementNS(n,t)}}function xs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Jl(t){var e=mi(t);return(e.local?xs:js)(e)}function $s(){}function eo(t){return t==null?$s:function(){return this.querySelector(t)}}function eu(t){typeof t!="function"&&(t=eo(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],s=l.length,r=i[o]=new Array(s),u,a,f=0;f<s;++f)(u=l[f])&&(a=t.call(u,u.__data__,f,l))&&("__data__"in u&&(a.__data__=u.__data__),r[f]=a);return new Qe(i,this._parents)}function tu(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function nu(){return[]}function Ql(t){return t==null?nu:function(){return this.querySelectorAll(t)}}function iu(t){return function(){return tu(t.apply(this,arguments))}}function ou(t){typeof t=="function"?t=iu(t):t=Ql(t);for(var e=this._groups,n=e.length,i=[],o=[],l=0;l<n;++l)for(var s=e[l],r=s.length,u,a=0;a<r;++a)(u=s[a])&&(i.push(t.call(u,u.__data__,a,s)),o.push(u));return new Qe(i,o)}function jl(t){return function(){return this.matches(t)}}function xl(t){return function(e){return e.matches(t)}}var lu=Array.prototype.find;function ru(t){return function(){return lu.call(this.children,t)}}function su(){return this.firstElementChild}function uu(t){return this.select(t==null?su:ru(typeof t=="function"?t:xl(t)))}var au=Array.prototype.filter;function fu(){return Array.from(this.children)}function cu(t){return function(){return au.call(this.children,t)}}function du(t){return this.selectAll(t==null?fu:cu(typeof t=="function"?t:xl(t)))}function hu(t){typeof t!="function"&&(t=jl(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],s=l.length,r=i[o]=[],u,a=0;a<s;++a)(u=l[a])&&t.call(u,u.__data__,a,l)&&r.push(u);return new Qe(i,this._parents)}function $l(t){return new Array(t.length)}function gu(){return new Qe(this._enter||this._groups.map($l),this._parents)}function ni(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ni.prototype={constructor:ni,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function mu(t){return function(){return t}}function _u(t,e,n,i,o,l){for(var s=0,r,u=e.length,a=l.length;s<a;++s)(r=e[s])?(r.__data__=l[s],i[s]=r):n[s]=new ni(t,l[s]);for(;s<u;++s)(r=e[s])&&(o[s]=r)}function yu(t,e,n,i,o,l,s){var r,u,a=new Map,f=e.length,c=l.length,d=new Array(f),h;for(r=0;r<f;++r)(u=e[r])&&(d[r]=h=s.call(u,u.__data__,r,e)+"",a.has(h)?o[r]=u:a.set(h,u));for(r=0;r<c;++r)h=s.call(t,l[r],r,l)+"",(u=a.get(h))?(i[r]=u,u.__data__=l[r],a.delete(h)):n[r]=new ni(t,l[r]);for(r=0;r<f;++r)(u=e[r])&&a.get(d[r])===u&&(o[r]=u)}function bu(t){return t.__data__}function wu(t,e){if(!arguments.length)return Array.from(this,bu);var n=e?yu:_u,i=this._parents,o=this._groups;typeof t!="function"&&(t=mu(t));for(var l=o.length,s=new Array(l),r=new Array(l),u=new Array(l),a=0;a<l;++a){var f=i[a],c=o[a],d=c.length,h=ku(t.call(f,f&&f.__data__,a,i)),m=h.length,_=r[a]=new Array(m),v=s[a]=new Array(m),g=u[a]=new Array(d);n(f,c,_,v,g,h,e);for(var C=0,b=0,y,M;C<m;++C)if(y=_[C]){for(C>=b&&(b=C+1);!(M=v[b])&&++b<m;);y._next=M||null}}return s=new Qe(s,i),s._enter=r,s._exit=u,s}function ku(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Su(){return new Qe(this._exit||this._groups.map($l),this._parents)}function vu(t,e,n){var i=this.enter(),o=this,l=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?l.remove():n(l),i&&o?i.merge(o).order():o}function Cu(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,l=i.length,s=Math.min(o,l),r=new Array(o),u=0;u<s;++u)for(var a=n[u],f=i[u],c=a.length,d=r[u]=new Array(c),h,m=0;m<c;++m)(h=a[m]||f[m])&&(d[m]=h);for(;u<o;++u)r[u]=n[u];return new Qe(r,this._parents)}function Eu(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,l=i[o],s;--o>=0;)(s=i[o])&&(l&&s.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(s,l),l=s);return this}function Mu(t){t||(t=zu);function e(c,d){return c&&d?t(c.__data__,d.__data__):!c-!d}for(var n=this._groups,i=n.length,o=new Array(i),l=0;l<i;++l){for(var s=n[l],r=s.length,u=o[l]=new Array(r),a,f=0;f<r;++f)(a=s[f])&&(u[f]=a);u.sort(e)}return new Qe(o,this._parents).order()}function zu(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pu(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Hu(){return Array.from(this)}function Nu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length;o<l;++o){var s=i[o];if(s)return s}return null}function Au(){let t=0;for(const e of this)++t;return t}function Tu(){return!this.node()}function Ou(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],l=0,s=o.length,r;l<s;++l)(r=o[l])&&t.call(r,r.__data__,l,o);return this}function pu(t){return function(){this.removeAttribute(t)}}function Iu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Du(t,e){return function(){this.setAttribute(t,e)}}function Xu(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Yu(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Vu(t,e){var n=mi(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Iu:pu:typeof e=="function"?n.local?Yu:Lu:n.local?Xu:Du)(n,e))}function er(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ru(t){return function(){this.style.removeProperty(t)}}function Wu(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Bu(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Ku(t,e,n){return arguments.length>1?this.each((e==null?Ru:typeof e=="function"?Bu:Wu)(t,e,n??"")):en(this.node(),t)}function en(t,e){return t.style.getPropertyValue(e)||er(t).getComputedStyle(t,null).getPropertyValue(e)}function Fu(t){return function(){delete this[t]}}function qu(t,e){return function(){this[t]=e}}function Zu(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Uu(t,e){return arguments.length>1?this.each((e==null?Fu:typeof e=="function"?Zu:qu)(t,e)):this.node()[t]}function tr(t){return t.trim().split(/^|\s+/)}function to(t){return t.classList||new nr(t)}function nr(t){this._node=t,this._names=tr(t.getAttribute("class")||"")}nr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ir(t,e){for(var n=to(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function or(t,e){for(var n=to(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function Gu(t){return function(){ir(this,t)}}function Ju(t){return function(){or(this,t)}}function Qu(t,e){return function(){(e.apply(this,arguments)?ir:or)(this,t)}}function ju(t,e){var n=tr(t+"");if(arguments.length<2){for(var i=to(this.node()),o=-1,l=n.length;++o<l;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?Qu:e?Gu:Ju)(n,e))}function xu(){this.textContent=""}function $u(t){return function(){this.textContent=t}}function ea(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ta(t){return arguments.length?this.each(t==null?xu:(typeof t=="function"?ea:$u)(t)):this.node().textContent}function na(){this.innerHTML=""}function ia(t){return function(){this.innerHTML=t}}function oa(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function la(t){return arguments.length?this.each(t==null?na:(typeof t=="function"?oa:ia)(t)):this.node().innerHTML}function ra(){this.nextSibling&&this.parentNode.appendChild(this)}function sa(){return this.each(ra)}function ua(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function aa(){return this.each(ua)}function fa(t){var e=typeof t=="function"?t:Jl(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ca(){return null}function da(t,e){var n=typeof t=="function"?t:Jl(t),i=e==null?ca:typeof e=="function"?e:eo(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function ha(){var t=this.parentNode;t&&t.removeChild(this)}function ga(){return this.each(ha)}function ma(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _a(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ya(t){return this.select(t?_a:ma)}function ba(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wa(t){return function(e){t.call(this,e,this.__data__)}}function ka(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Sa(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,l;n<o;++n)l=e[n],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++i]=l;++i?e.length=i:delete this.__on}}}function va(t,e,n){return function(){var i=this.__on,o,l=wa(e);if(i){for(var s=0,r=i.length;s<r;++s)if((o=i[s]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),o.value=e;return}}this.addEventListener(t.type,l,n),o={type:t.type,name:t.name,value:e,listener:l,options:n},i?i.push(o):this.__on=[o]}}function Ca(t,e,n){var i=ka(t+""),o,l=i.length,s;if(arguments.length<2){var r=this.node().__on;if(r){for(var u=0,a=r.length,f;u<a;++u)for(o=0,f=r[u];o<l;++o)if((s=i[o]).type===f.type&&s.name===f.name)return f.value}return}for(r=e?va:Sa,o=0;o<l;++o)this.each(r(i[o],e,n));return this}function lr(t,e,n){var i=er(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Ea(t,e){return function(){return lr(this,t,e)}}function Ma(t,e){return function(){return lr(this,t,e.apply(this,arguments))}}function za(t,e){return this.each((typeof e=="function"?Ma:Ea)(t,e))}function*Pa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,l=i.length,s;o<l;++o)(s=i[o])&&(yield s)}var rr=[null];function Qe(t,e){this._groups=t,this._parents=e}function Tn(){return new Qe([[document.documentElement]],rr)}function Ha(){return this}Qe.prototype=Tn.prototype={constructor:Qe,select:eu,selectAll:ou,selectChild:uu,selectChildren:du,filter:hu,data:wu,enter:gu,exit:Su,join:vu,merge:Cu,selection:Ha,order:Eu,sort:Mu,call:Pu,nodes:Hu,node:Nu,size:Au,empty:Tu,each:Ou,attr:Vu,style:Ku,property:Uu,classed:ju,text:ta,html:la,raise:sa,lower:aa,append:fa,insert:da,remove:ga,clone:ya,datum:ba,on:Ca,dispatch:za,[Symbol.iterator]:Pa};function Je(t){return typeof t=="string"?new Qe([[document.querySelector(t)]],[document.documentElement]):new Qe([[t]],rr)}function Na(t){let e;for(;e=t.sourceEvent;)t=e;return t}function $e(t,e){if(t=Na(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Aa={passive:!1},vn={capture:!0,passive:!1};function Mi(t){t.stopImmediatePropagation()}function Ut(t){t.preventDefault(),t.stopImmediatePropagation()}function sr(t){var e=t.document.documentElement,n=Je(t).on("dragstart.drag",Ut,vn);"onselectstart"in e?n.on("selectstart.drag",Ut,vn):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ur(t,e){var n=t.document.documentElement,i=Je(t).on("dragstart.drag",null);e&&(i.on("click.drag",Ut,vn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Vn=t=>()=>t;function Ri(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:l,x:s,y:r,dx:u,dy:a,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:f}})}Ri.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Ta(t){return!t.ctrlKey&&!t.button}function Oa(){return this.parentNode}function pa(t,e){return e??{x:t.x,y:t.y}}function Ia(){return navigator.maxTouchPoints||"ontouchstart"in this}function ar(){var t=Ta,e=Oa,n=pa,i=Ia,o={},l=gi("start","drag","end"),s=0,r,u,a,f,c=0;function d(y){y.on("mousedown.drag",h).filter(i).on("touchstart.drag",v).on("touchmove.drag",g,Aa).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(y,M){if(!(f||!t.call(this,y,M))){var O=b(this,e.call(this,y,M),y,M,"mouse");O&&(Je(y.view).on("mousemove.drag",m,vn).on("mouseup.drag",_,vn),sr(y.view),Mi(y),a=!1,r=y.clientX,u=y.clientY,O("start",y))}}function m(y){if(Ut(y),!a){var M=y.clientX-r,O=y.clientY-u;a=M*M+O*O>c}o.mouse("drag",y)}function _(y){Je(y.view).on("mousemove.drag mouseup.drag",null),ur(y.view,a),Ut(y),o.mouse("end",y)}function v(y,M){if(t.call(this,y,M)){var O=y.changedTouches,E=e.call(this,y,M),z=O.length,P,D;for(P=0;P<z;++P)(D=b(this,E,y,M,O[P].identifier,O[P]))&&(Mi(y),D("start",y,O[P]))}}function g(y){var M=y.changedTouches,O=M.length,E,z;for(E=0;E<O;++E)(z=o[M[E].identifier])&&(Ut(y),z("drag",y,M[E]))}function C(y){var M=y.changedTouches,O=M.length,E,z;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),E=0;E<O;++E)(z=o[M[E].identifier])&&(Mi(y),z("end",y,M[E]))}function b(y,M,O,E,z,P){var D=l.copy(),k=$e(P||O,M),A,N,S;if((S=n.call(y,new Ri("beforestart",{sourceEvent:O,target:d,identifier:z,active:s,x:k[0],y:k[1],dx:0,dy:0,dispatch:D}),E))!=null)return A=S.x-k[0]||0,N=S.y-k[1]||0,function p(T,Y,X){var R=k,U;switch(T){case"start":o[z]=p,U=s++;break;case"end":delete o[z],--s;case"drag":k=$e(X||Y,M),U=s;break}D.call(T,y,new Ri(T,{sourceEvent:Y,subject:S,target:d,identifier:z,active:U,x:k[0]+A,y:k[1]+N,dx:k[0]-R[0],dy:k[1]-R[1],dispatch:D}),E)}}return d.filter=function(y){return arguments.length?(t=typeof y=="function"?y:Vn(!!y),d):t},d.container=function(y){return arguments.length?(e=typeof y=="function"?y:Vn(y),d):e},d.subject=function(y){return arguments.length?(n=typeof y=="function"?y:Vn(y),d):n},d.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:Vn(!!y),d):i},d.on=function(){var y=l.on.apply(l,arguments);return y===l?d:y},d.clickDistance=function(y){return arguments.length?(c=(y=+y)*y,d):Math.sqrt(c)},d}function no(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function fr(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function On(){}var Cn=.7,ii=1/Cn,Gt="\\s*([+-]?\\d+)\\s*",En="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Da=/^#([0-9a-f]{3,8})$/,Xa=new RegExp(`^rgb\\(${Gt},${Gt},${Gt}\\)$`),La=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),Ya=new RegExp(`^rgba\\(${Gt},${Gt},${Gt},${En}\\)$`),Va=new RegExp(`^rgba\\(${st},${st},${st},${En}\\)$`),Ra=new RegExp(`^hsl\\(${En},${st},${st}\\)$`),Wa=new RegExp(`^hsla\\(${En},${st},${st},${En}\\)$`),yo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};no(On,Mn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bo,formatHex:bo,formatHex8:Ba,formatHsl:Ka,formatRgb:wo,toString:wo});function bo(){return this.rgb().formatHex()}function Ba(){return this.rgb().formatHex8()}function Ka(){return cr(this).formatHsl()}function wo(){return this.rgb().formatRgb()}function Mn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Da.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ko(e):n===3?new Ue(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Rn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Rn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Xa.exec(t))?new Ue(e[1],e[2],e[3],1):(e=La.exec(t))?new Ue(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ya.exec(t))?Rn(e[1],e[2],e[3],e[4]):(e=Va.exec(t))?Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ra.exec(t))?Co(e[1],e[2]/100,e[3]/100,1):(e=Wa.exec(t))?Co(e[1],e[2]/100,e[3]/100,e[4]):yo.hasOwnProperty(t)?ko(yo[t]):t==="transparent"?new Ue(NaN,NaN,NaN,0):null}function ko(t){return new Ue(t>>16&255,t>>8&255,t&255,1)}function Rn(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ue(t,e,n,i)}function Fa(t){return t instanceof On||(t=Mn(t)),t?(t=t.rgb(),new Ue(t.r,t.g,t.b,t.opacity)):new Ue}function Wi(t,e,n,i){return arguments.length===1?Fa(t):new Ue(t,e,n,i??1)}function Ue(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}no(Ue,Wi,fr(On,{brighter(t){return t=t==null?ii:Math.pow(ii,t),new Ue(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cn:Math.pow(Cn,t),new Ue(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ue(Ot(this.r),Ot(this.g),Ot(this.b),oi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:So,formatHex:So,formatHex8:qa,formatRgb:vo,toString:vo}));function So(){return`#${Tt(this.r)}${Tt(this.g)}${Tt(this.b)}`}function qa(){return`#${Tt(this.r)}${Tt(this.g)}${Tt(this.b)}${Tt((isNaN(this.opacity)?1:this.opacity)*255)}`}function vo(){const t=oi(this.opacity);return`${t===1?"rgb(":"rgba("}${Ot(this.r)}, ${Ot(this.g)}, ${Ot(this.b)}${t===1?")":`, ${t})`}`}function oi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ot(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Tt(t){return t=Ot(t),(t<16?"0":"")+t.toString(16)}function Co(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new et(t,e,n,i)}function cr(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);if(t instanceof On||(t=Mn(t)),!t)return new et;if(t instanceof et)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),l=Math.max(e,n,i),s=NaN,r=l-o,u=(l+o)/2;return r?(e===l?s=(n-i)/r+(n<i)*6:n===l?s=(i-e)/r+2:s=(e-n)/r+4,r/=u<.5?l+o:2-l-o,s*=60):r=u>0&&u<1?0:s,new et(s,r,u,t.opacity)}function Za(t,e,n,i){return arguments.length===1?cr(t):new et(t,e,n,i??1)}function et(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}no(et,Za,fr(On,{brighter(t){return t=t==null?ii:Math.pow(ii,t),new et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cn:Math.pow(Cn,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new Ue(zi(t>=240?t-240:t+120,o,i),zi(t,o,i),zi(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new et(Eo(this.h),Wn(this.s),Wn(this.l),oi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=oi(this.opacity);return`${t===1?"hsl(":"hsla("}${Eo(this.h)}, ${Wn(this.s)*100}%, ${Wn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Eo(t){return t=(t||0)%360,t<0?t+360:t}function Wn(t){return Math.max(0,Math.min(1,t||0))}function zi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dr=t=>()=>t;function Ua(t,e){return function(n){return t+n*e}}function Ga(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Ja(t){return(t=+t)==1?hr:function(e,n){return n-e?Ga(e,n,t):dr(isNaN(e)?n:e)}}function hr(t,e){var n=e-t;return n?Ua(t,n):dr(isNaN(t)?e:t)}const Mo=function t(e){var n=Ja(e);function i(o,l){var s=n((o=Wi(o)).r,(l=Wi(l)).r),r=n(o.g,l.g),u=n(o.b,l.b),a=hr(o.opacity,l.opacity);return function(f){return o.r=s(f),o.g=r(f),o.b=u(f),o.opacity=a(f),o+""}}return i.gamma=t,i}(1);function Pt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Bi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Pi=new RegExp(Bi.source,"g");function Qa(t){return function(){return t}}function ja(t){return function(e){return t(e)+""}}function xa(t,e){var n=Bi.lastIndex=Pi.lastIndex=0,i,o,l,s=-1,r=[],u=[];for(t=t+"",e=e+"";(i=Bi.exec(t))&&(o=Pi.exec(e));)(l=o.index)>n&&(l=e.slice(n,l),r[s]?r[s]+=l:r[++s]=l),(i=i[0])===(o=o[0])?r[s]?r[s]+=o:r[++s]=o:(r[++s]=null,u.push({i:s,x:Pt(i,o)})),n=Pi.lastIndex;return n<e.length&&(l=e.slice(n),r[s]?r[s]+=l:r[++s]=l),r.length<2?u[0]?ja(u[0].x):Qa(e):(e=u.length,function(a){for(var f=0,c;f<e;++f)r[(c=u[f]).i]=c.x(a);return r.join("")})}var zo=180/Math.PI,Ki={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gr(t,e,n,i,o,l){var s,r,u;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(u=t*n+e*i)&&(n-=t*u,i-=e*u),(r=Math.sqrt(n*n+i*i))&&(n/=r,i/=r,u/=r),t*i<e*n&&(t=-t,e=-e,u=-u,s=-s),{translateX:o,translateY:l,rotate:Math.atan2(e,t)*zo,skewX:Math.atan(u)*zo,scaleX:s,scaleY:r}}var Bn;function $a(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ki:gr(e.a,e.b,e.c,e.d,e.e,e.f)}function ef(t){return t==null||(Bn||(Bn=document.createElementNS("http://www.w3.org/2000/svg","g")),Bn.setAttribute("transform",t),!(t=Bn.transform.baseVal.consolidate()))?Ki:(t=t.matrix,gr(t.a,t.b,t.c,t.d,t.e,t.f))}function mr(t,e,n,i){function o(a){return a.length?a.pop()+" ":""}function l(a,f,c,d,h,m){if(a!==c||f!==d){var _=h.push("translate(",null,e,null,n);m.push({i:_-4,x:Pt(a,c)},{i:_-2,x:Pt(f,d)})}else(c||d)&&h.push("translate("+c+e+d+n)}function s(a,f,c,d){a!==f?(a-f>180?f+=360:f-a>180&&(a+=360),d.push({i:c.push(o(c)+"rotate(",null,i)-2,x:Pt(a,f)})):f&&c.push(o(c)+"rotate("+f+i)}function r(a,f,c,d){a!==f?d.push({i:c.push(o(c)+"skewX(",null,i)-2,x:Pt(a,f)}):f&&c.push(o(c)+"skewX("+f+i)}function u(a,f,c,d,h,m){if(a!==c||f!==d){var _=h.push(o(h)+"scale(",null,",",null,")");m.push({i:_-4,x:Pt(a,c)},{i:_-2,x:Pt(f,d)})}else(c!==1||d!==1)&&h.push(o(h)+"scale("+c+","+d+")")}return function(a,f){var c=[],d=[];return a=t(a),f=t(f),l(a.translateX,a.translateY,f.translateX,f.translateY,c,d),s(a.rotate,f.rotate,c,d),r(a.skewX,f.skewX,c,d),u(a.scaleX,a.scaleY,f.scaleX,f.scaleY,c,d),a=f=null,function(h){for(var m=-1,_=d.length,v;++m<_;)c[(v=d[m]).i]=v.x(h);return c.join("")}}}var tf=mr($a,"px, ","px)","deg)"),nf=mr(ef,", ",")",")"),of=1e-12;function Po(t){return((t=Math.exp(t))+1/t)/2}function lf(t){return((t=Math.exp(t))-1/t)/2}function rf(t){return((t=Math.exp(2*t))-1)/(t+1)}const sf=function t(e,n,i){function o(l,s){var r=l[0],u=l[1],a=l[2],f=s[0],c=s[1],d=s[2],h=f-r,m=c-u,_=h*h+m*m,v,g;if(_<of)g=Math.log(d/a)/e,v=function(E){return[r+E*h,u+E*m,a*Math.exp(e*E*g)]};else{var C=Math.sqrt(_),b=(d*d-a*a+i*_)/(2*a*n*C),y=(d*d-a*a-i*_)/(2*d*n*C),M=Math.log(Math.sqrt(b*b+1)-b),O=Math.log(Math.sqrt(y*y+1)-y);g=(O-M)/e,v=function(E){var z=E*g,P=Po(M),D=a/(n*C)*(P*rf(e*z+M)-lf(M));return[r+D*h,u+D*m,a*P/Po(e*z+M)]}}return v.duration=g*1e3*e/Math.SQRT2,v}return o.rho=function(l){var s=Math.max(.001,+l),r=s*s,u=r*r;return t(s,r,u)},o}(Math.SQRT2,2,4);var tn=0,hn=0,cn=0,_r=1e3,li,gn,ri=0,Dt=0,_i=0,zn=typeof performance=="object"&&performance.now?performance:Date,yr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function io(){return Dt||(yr(uf),Dt=zn.now()+_i)}function uf(){Dt=0}function si(){this._call=this._time=this._next=null}si.prototype=br.prototype={constructor:si,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?io():+n)+(e==null?0:+e),!this._next&&gn!==this&&(gn?gn._next=this:li=this,gn=this),this._call=t,this._time=n,Fi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fi())}};function br(t,e,n){var i=new si;return i.restart(t,e,n),i}function af(){io(),++tn;for(var t=li,e;t;)(e=Dt-t._time)>=0&&t._call.call(void 0,e),t=t._next;--tn}function Ho(){Dt=(ri=zn.now())+_i,tn=hn=0;try{af()}finally{tn=0,cf(),Dt=0}}function ff(){var t=zn.now(),e=t-ri;e>_r&&(_i-=e,ri=t)}function cf(){for(var t,e=li,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:li=n);gn=t,Fi(i)}function Fi(t){if(!tn){hn&&(hn=clearTimeout(hn));var e=t-Dt;e>24?(t<1/0&&(hn=setTimeout(Ho,t-zn.now()-_i)),cn&&(cn=clearInterval(cn))):(cn||(ri=zn.now(),cn=setInterval(ff,_r)),tn=1,yr(Ho))}}function No(t,e,n){var i=new si;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var df=gi("start","end","cancel","interrupt"),hf=[],wr=0,Ao=1,qi=2,jn=3,To=4,Zi=5,xn=6;function yi(t,e,n,i,o,l){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;gf(t,n,{name:e,index:i,group:o,on:df,tween:hf,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:wr})}function oo(t,e){var n=it(t,e);if(n.state>wr)throw new Error("too late; already scheduled");return n}function ft(t,e){var n=it(t,e);if(n.state>jn)throw new Error("too late; already running");return n}function it(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function gf(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=br(l,0,n.time);function l(a){n.state=Ao,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var f,c,d,h;if(n.state!==Ao)return u();for(f in i)if(h=i[f],h.name===n.name){if(h.state===jn)return No(s);h.state===To?(h.state=xn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<e&&(h.state=xn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(No(function(){n.state===jn&&(n.state=To,n.timer.restart(r,n.delay,n.time),r(a))}),n.state=qi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===qi){for(n.state=jn,o=new Array(d=n.tween.length),f=0,c=-1;f<d;++f)(h=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(o[++c]=h);o.length=c+1}}function r(a){for(var f=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=Zi,1),c=-1,d=o.length;++c<d;)o[c].call(t,f);n.state===Zi&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=xn,n.timer.stop(),delete i[e];for(var a in i)return;delete t.__transition}}function $n(t,e){var n=t.__transition,i,o,l=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((i=n[s]).name!==e){l=!1;continue}o=i.state>qi&&i.state<Zi,i.state=xn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[s]}l&&delete t.__transition}}function mf(t){return this.each(function(){$n(this,t)})}function _f(t,e){var n,i;return function(){var o=ft(this,t),l=o.tween;if(l!==n){i=n=l;for(var s=0,r=i.length;s<r;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function yf(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var l=ft(this,t),s=l.tween;if(s!==i){o=(i=s).slice();for(var r={name:e,value:n},u=0,a=o.length;u<a;++u)if(o[u].name===e){o[u]=r;break}u===a&&o.push(r)}l.tween=o}}function bf(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=it(this.node(),n).tween,o=0,l=i.length,s;o<l;++o)if((s=i[o]).name===t)return s.value;return null}return this.each((e==null?_f:yf)(n,t,e))}function lo(t,e,n){var i=t._id;return t.each(function(){var o=ft(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return it(o,i).value[e]}}function kr(t,e){var n;return(typeof e=="number"?Pt:e instanceof Mn?Mo:(n=Mn(e))?(e=n,Mo):xa)(t,e)}function wf(t){return function(){this.removeAttribute(t)}}function kf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sf(t,e,n){var i,o=n+"",l;return function(){var s=this.getAttribute(t);return s===o?null:s===i?l:l=e(i=s,n)}}function vf(t,e,n){var i,o=n+"",l;return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?l:l=e(i=s,n)}}function Cf(t,e,n){var i,o,l;return function(){var s,r=n(this),u;return r==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=r+"",s===u?null:s===i&&u===o?l:(o=u,l=e(i=s,r)))}}function Ef(t,e,n){var i,o,l;return function(){var s,r=n(this),u;return r==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=r+"",s===u?null:s===i&&u===o?l:(o=u,l=e(i=s,r)))}}function Mf(t,e){var n=mi(t),i=n==="transform"?nf:kr;return this.attrTween(t,typeof e=="function"?(n.local?Ef:Cf)(n,i,lo(this,"attr."+t,e)):e==null?(n.local?kf:wf)(n):(n.local?vf:Sf)(n,i,e))}function zf(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Pf(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Hf(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&Pf(t,l)),n}return o._value=e,o}function Nf(t,e){var n,i;function o(){var l=e.apply(this,arguments);return l!==i&&(n=(i=l)&&zf(t,l)),n}return o._value=e,o}function Af(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=mi(t);return this.tween(n,(i.local?Hf:Nf)(i,e))}function Tf(t,e){return function(){oo(this,t).delay=+e.apply(this,arguments)}}function Of(t,e){return e=+e,function(){oo(this,t).delay=e}}function pf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Tf:Of)(e,t)):it(this.node(),e).delay}function If(t,e){return function(){ft(this,t).duration=+e.apply(this,arguments)}}function Df(t,e){return e=+e,function(){ft(this,t).duration=e}}function Xf(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?If:Df)(e,t)):it(this.node(),e).duration}function Lf(t,e){if(typeof e!="function")throw new Error;return function(){ft(this,t).ease=e}}function Yf(t){var e=this._id;return arguments.length?this.each(Lf(e,t)):it(this.node(),e).ease}function Vf(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ft(this,t).ease=n}}function Rf(t){if(typeof t!="function")throw new Error;return this.each(Vf(this._id,t))}function Wf(t){typeof t!="function"&&(t=jl(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var l=e[o],s=l.length,r=i[o]=[],u,a=0;a<s;++a)(u=l[a])&&t.call(u,u.__data__,a,l)&&r.push(u);return new kt(i,this._parents,this._name,this._id)}function Bf(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,l=Math.min(i,o),s=new Array(i),r=0;r<l;++r)for(var u=e[r],a=n[r],f=u.length,c=s[r]=new Array(f),d,h=0;h<f;++h)(d=u[h]||a[h])&&(c[h]=d);for(;r<i;++r)s[r]=e[r];return new kt(s,this._parents,this._name,this._id)}function Kf(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Ff(t,e,n){var i,o,l=Kf(e)?oo:ft;return function(){var s=l(this,t),r=s.on;r!==i&&(o=(i=r).copy()).on(e,n),s.on=o}}function qf(t,e){var n=this._id;return arguments.length<2?it(this.node(),n).on.on(t):this.each(Ff(n,t,e))}function Zf(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Uf(){return this.on("end.remove",Zf(this._id))}function Gf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=eo(t));for(var i=this._groups,o=i.length,l=new Array(o),s=0;s<o;++s)for(var r=i[s],u=r.length,a=l[s]=new Array(u),f,c,d=0;d<u;++d)(f=r[d])&&(c=t.call(f,f.__data__,d,r))&&("__data__"in f&&(c.__data__=f.__data__),a[d]=c,yi(a[d],e,n,d,a,it(f,n)));return new kt(l,this._parents,e,n)}function Jf(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ql(t));for(var i=this._groups,o=i.length,l=[],s=[],r=0;r<o;++r)for(var u=i[r],a=u.length,f,c=0;c<a;++c)if(f=u[c]){for(var d=t.call(f,f.__data__,c,u),h,m=it(f,n),_=0,v=d.length;_<v;++_)(h=d[_])&&yi(h,e,n,_,d,m);l.push(d),s.push(f)}return new kt(l,s,e,n)}var Qf=Tn.prototype.constructor;function jf(){return new Qf(this._groups,this._parents)}function xf(t,e){var n,i,o;return function(){var l=en(this,t),s=(this.style.removeProperty(t),en(this,t));return l===s?null:l===n&&s===i?o:o=e(n=l,i=s)}}function Sr(t){return function(){this.style.removeProperty(t)}}function $f(t,e,n){var i,o=n+"",l;return function(){var s=en(this,t);return s===o?null:s===i?l:l=e(i=s,n)}}function ec(t,e,n){var i,o,l;return function(){var s=en(this,t),r=n(this),u=r+"";return r==null&&(u=r=(this.style.removeProperty(t),en(this,t))),s===u?null:s===i&&u===o?l:(o=u,l=e(i=s,r))}}function tc(t,e){var n,i,o,l="style."+e,s="end."+l,r;return function(){var u=ft(this,t),a=u.on,f=u.value[l]==null?r||(r=Sr(e)):void 0;(a!==n||o!==f)&&(i=(n=a).copy()).on(s,o=f),u.on=i}}function nc(t,e,n){var i=(t+="")=="transform"?tf:kr;return e==null?this.styleTween(t,xf(t,i)).on("end.style."+t,Sr(t)):typeof e=="function"?this.styleTween(t,ec(t,i,lo(this,"style."+t,e))).each(tc(this._id,t)):this.styleTween(t,$f(t,i,e),n).on("end.style."+t,null)}function ic(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function oc(t,e,n){var i,o;function l(){var s=e.apply(this,arguments);return s!==o&&(i=(o=s)&&ic(t,s,n)),i}return l._value=e,l}function lc(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,oc(t,e,n??""))}function rc(t){return function(){this.textContent=t}}function sc(t){return function(){var e=t(this);this.textContent=e??""}}function uc(t){return this.tween("text",typeof t=="function"?sc(lo(this,"text",t)):rc(t==null?"":t+""))}function ac(t){return function(e){this.textContent=t.call(this,e)}}function fc(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&ac(o)),e}return i._value=t,i}function cc(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,fc(t))}function dc(){for(var t=this._name,e=this._id,n=vr(),i=this._groups,o=i.length,l=0;l<o;++l)for(var s=i[l],r=s.length,u,a=0;a<r;++a)if(u=s[a]){var f=it(u,e);yi(u,t,n,a,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new kt(i,this._parents,t,n)}function hc(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(l,s){var r={value:s},u={value:function(){--o===0&&l()}};n.each(function(){var a=ft(this,i),f=a.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(r),e._.interrupt.push(r),e._.end.push(u)),a.on=e}),o===0&&l()})}var gc=0;function kt(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function vr(){return++gc}var gt=Tn.prototype;kt.prototype={constructor:kt,select:Gf,selectAll:Jf,selectChild:gt.selectChild,selectChildren:gt.selectChildren,filter:Wf,merge:Bf,selection:jf,transition:dc,call:gt.call,nodes:gt.nodes,node:gt.node,size:gt.size,empty:gt.empty,each:gt.each,on:qf,attr:Mf,attrTween:Af,style:nc,styleTween:lc,text:uc,textTween:cc,remove:Uf,tween:bf,delay:pf,duration:Xf,ease:Yf,easeVarying:Rf,end:hc,[Symbol.iterator]:gt[Symbol.iterator]};function mc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var _c={time:null,delay:0,duration:250,ease:mc};function yc(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function bc(t){var e,n;t instanceof kt?(e=t._id,t=t._name):(e=vr(),(n=_c).time=io(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,l=0;l<o;++l)for(var s=i[l],r=s.length,u,a=0;a<r;++a)(u=s[a])&&yi(u,t,e,a,s,n||yc(u,e));return new kt(i,this._parents,t,e)}Tn.prototype.interrupt=mf;Tn.prototype.transition=bc;const Kn=t=>()=>t;function wc(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function _t(t,e,n){this.k=t,this.x=e,this.y=n}_t.prototype={constructor:_t,scale:function(t){return t===1?this:new _t(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new _t(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bi=new _t(1,0,0);Cr.prototype=_t.prototype;function Cr(t){for(;!t.__zoom;)if(!(t=t.parentNode))return bi;return t.__zoom}function Hi(t){t.stopImmediatePropagation()}function dn(t){t.preventDefault(),t.stopImmediatePropagation()}function kc(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Sc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Oo(){return this.__zoom||bi}function vc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Cc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ec(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],l=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>l?(l+s)/2:Math.min(0,l)||Math.max(0,s))}function Er(){var t=kc,e=Sc,n=Ec,i=vc,o=Cc,l=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],r=250,u=sf,a=gi("start","zoom","end"),f,c,d,h=500,m=150,_=0,v=10;function g(S){S.property("__zoom",Oo).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(S,p,T,Y){var X=S.selection?S.selection():S;X.property("__zoom",Oo),S!==X?M(S,p,T,Y):X.interrupt().each(function(){O(this,arguments).event(Y).start().zoom(null,typeof p=="function"?p.apply(this,arguments):p).end()})},g.scaleBy=function(S,p,T,Y){g.scaleTo(S,function(){var X=this.__zoom.k,R=typeof p=="function"?p.apply(this,arguments):p;return X*R},T,Y)},g.scaleTo=function(S,p,T,Y){g.transform(S,function(){var X=e.apply(this,arguments),R=this.__zoom,U=T==null?y(X):typeof T=="function"?T.apply(this,arguments):T,Q=R.invert(U),V=typeof p=="function"?p.apply(this,arguments):p;return n(b(C(R,V),U,Q),X,s)},T,Y)},g.translateBy=function(S,p,T,Y){g.transform(S,function(){return n(this.__zoom.translate(typeof p=="function"?p.apply(this,arguments):p,typeof T=="function"?T.apply(this,arguments):T),e.apply(this,arguments),s)},null,Y)},g.translateTo=function(S,p,T,Y,X){g.transform(S,function(){var R=e.apply(this,arguments),U=this.__zoom,Q=Y==null?y(R):typeof Y=="function"?Y.apply(this,arguments):Y;return n(bi.translate(Q[0],Q[1]).scale(U.k).translate(typeof p=="function"?-p.apply(this,arguments):-p,typeof T=="function"?-T.apply(this,arguments):-T),R,s)},Y,X)};function C(S,p){return p=Math.max(l[0],Math.min(l[1],p)),p===S.k?S:new _t(p,S.x,S.y)}function b(S,p,T){var Y=p[0]-T[0]*S.k,X=p[1]-T[1]*S.k;return Y===S.x&&X===S.y?S:new _t(S.k,Y,X)}function y(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function M(S,p,T,Y){S.on("start.zoom",function(){O(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(Y).end()}).tween("zoom",function(){var X=this,R=arguments,U=O(X,R).event(Y),Q=e.apply(X,R),V=T==null?y(Q):typeof T=="function"?T.apply(X,R):T,ne=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),le=X.__zoom,ge=typeof p=="function"?p.apply(X,R):p,H=u(le.invert(V).concat(ne/le.k),ge.invert(V).concat(ne/ge.k));return function(j){if(j===1)j=ge;else{var ie=H(j),q=ne/ie[2];j=new _t(q,V[0]-ie[0]*q,V[1]-ie[1]*q)}U.zoom(null,j)}})}function O(S,p,T){return!T&&S.__zooming||new E(S,p)}function E(S,p){this.that=S,this.args=p,this.active=0,this.sourceEvent=null,this.extent=e.apply(S,p),this.taps=0}E.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,p){return this.mouse&&S!=="mouse"&&(this.mouse[1]=p.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=p.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=p.invert(this.touch1[0])),this.that.__zoom=p,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var p=Je(this.that).datum();a.call(S,this.that,new wc(S,{sourceEvent:this.sourceEvent,target:g,type:S,transform:this.that.__zoom,dispatch:a}),p)}};function z(S,...p){if(!t.apply(this,arguments))return;var T=O(this,p).event(S),Y=this.__zoom,X=Math.max(l[0],Math.min(l[1],Y.k*Math.pow(2,i.apply(this,arguments)))),R=$e(S);if(T.wheel)(T.mouse[0][0]!==R[0]||T.mouse[0][1]!==R[1])&&(T.mouse[1]=Y.invert(T.mouse[0]=R)),clearTimeout(T.wheel);else{if(Y.k===X)return;T.mouse=[R,Y.invert(R)],$n(this),T.start()}dn(S),T.wheel=setTimeout(U,m),T.zoom("mouse",n(b(C(Y,X),T.mouse[0],T.mouse[1]),T.extent,s));function U(){T.wheel=null,T.end()}}function P(S,...p){if(d||!t.apply(this,arguments))return;var T=S.currentTarget,Y=O(this,p,!0).event(S),X=Je(S.view).on("mousemove.zoom",V,!0).on("mouseup.zoom",ne,!0),R=$e(S,T),U=S.clientX,Q=S.clientY;sr(S.view),Hi(S),Y.mouse=[R,this.__zoom.invert(R)],$n(this),Y.start();function V(le){if(dn(le),!Y.moved){var ge=le.clientX-U,H=le.clientY-Q;Y.moved=ge*ge+H*H>_}Y.event(le).zoom("mouse",n(b(Y.that.__zoom,Y.mouse[0]=$e(le,T),Y.mouse[1]),Y.extent,s))}function ne(le){X.on("mousemove.zoom mouseup.zoom",null),ur(le.view,Y.moved),dn(le),Y.event(le).end()}}function D(S,...p){if(t.apply(this,arguments)){var T=this.__zoom,Y=$e(S.changedTouches?S.changedTouches[0]:S,this),X=T.invert(Y),R=T.k*(S.shiftKey?.5:2),U=n(b(C(T,R),Y,X),e.apply(this,p),s);dn(S),r>0?Je(this).transition().duration(r).call(M,U,Y,S):Je(this).call(g.transform,U,Y,S)}}function k(S,...p){if(t.apply(this,arguments)){var T=S.touches,Y=T.length,X=O(this,p,S.changedTouches.length===Y).event(S),R,U,Q,V;for(Hi(S),U=0;U<Y;++U)Q=T[U],V=$e(Q,this),V=[V,this.__zoom.invert(V),Q.identifier],X.touch0?!X.touch1&&X.touch0[2]!==V[2]&&(X.touch1=V,X.taps=0):(X.touch0=V,R=!0,X.taps=1+!!f);f&&(f=clearTimeout(f)),R&&(X.taps<2&&(c=V[0],f=setTimeout(function(){f=null},h)),$n(this),X.start())}}function A(S,...p){if(this.__zooming){var T=O(this,p).event(S),Y=S.changedTouches,X=Y.length,R,U,Q,V;for(dn(S),R=0;R<X;++R)U=Y[R],Q=$e(U,this),T.touch0&&T.touch0[2]===U.identifier?T.touch0[0]=Q:T.touch1&&T.touch1[2]===U.identifier&&(T.touch1[0]=Q);if(U=T.that.__zoom,T.touch1){var ne=T.touch0[0],le=T.touch0[1],ge=T.touch1[0],H=T.touch1[1],j=(j=ge[0]-ne[0])*j+(j=ge[1]-ne[1])*j,ie=(ie=H[0]-le[0])*ie+(ie=H[1]-le[1])*ie;U=C(U,Math.sqrt(j/ie)),Q=[(ne[0]+ge[0])/2,(ne[1]+ge[1])/2],V=[(le[0]+H[0])/2,(le[1]+H[1])/2]}else if(T.touch0)Q=T.touch0[0],V=T.touch0[1];else return;T.zoom("touch",n(b(U,Q,V),T.extent,s))}}function N(S,...p){if(this.__zooming){var T=O(this,p).event(S),Y=S.changedTouches,X=Y.length,R,U;for(Hi(S),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),R=0;R<X;++R)U=Y[R],T.touch0&&T.touch0[2]===U.identifier?delete T.touch0:T.touch1&&T.touch1[2]===U.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(U=$e(U,this),Math.hypot(c[0]-U[0],c[1]-U[1])<v)){var Q=Je(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return g.wheelDelta=function(S){return arguments.length?(i=typeof S=="function"?S:Kn(+S),g):i},g.filter=function(S){return arguments.length?(t=typeof S=="function"?S:Kn(!!S),g):t},g.touchable=function(S){return arguments.length?(o=typeof S=="function"?S:Kn(!!S),g):o},g.extent=function(S){return arguments.length?(e=typeof S=="function"?S:Kn([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),g):e},g.scaleExtent=function(S){return arguments.length?(l[0]=+S[0],l[1]=+S[1],g):[l[0],l[1]]},g.translateExtent=function(S){return arguments.length?(s[0][0]=+S[0][0],s[1][0]=+S[1][0],s[0][1]=+S[0][1],s[1][1]=+S[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(S){return arguments.length?(n=S,g):n},g.duration=function(S){return arguments.length?(r=+S,g):r},g.interpolate=function(S){return arguments.length?(u=S,g):u},g.on=function(){var S=a.on.apply(a,arguments);return S===a?g:S},g.clickDistance=function(S){return arguments.length?(_=(S=+S)*S,g):Math.sqrt(_)},g.tapDistance=function(S){return arguments.length?(v=+S,g):v},g}const pn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Ae=Symbol.for("internals"),po=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ht;(function(t){t.Strict="strict",t.Loose="loose"})(Ht||(Ht={}));var ut;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(ut||(ut={}));var ui;(function(t){t.Partial="partial",t.Full="full"})(ui||(ui={}));var Jt;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Jt||(Jt={}));var nn;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(nn||(nn={}));var we;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(we||(we={}));function Mc(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function Io(t,e,n){if(!n)return;const i=[];t.forEach((o,l)=>{e!=null&&e.has(l)||i.push(o)}),i.length&&n(i)}const zc=t=>"id"in t&&"source"in t&&"target"in t,Pc=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),un=(t,e=[0,0])=>{var r;if(!t)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const{width:n,height:i}=Dn(t),o=n*e[0],l=i*e[1],s={x:t.position.x-o,y:t.position.y-l};return{position:s,positionAbsolute:(r=t.computed)!=null&&r.positionAbsolute?{x:t.computed.positionAbsolute.x-o,y:t.computed.positionAbsolute.y-l}:s}},In=(t,e={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const l=un(o,o.origin||e.nodeOrigin);return ro(i,ai({...l[e.useRelativePosition?"position":"positionAbsolute"],...Dn(o)}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return so(n)},Mr=(t,e,[n,i,o]=[0,0,1],l=!1,s=!1,r=[0,0])=>{const u={...wi(e,[n,i,o]),width:e.width/o,height:e.height/o};return t.reduce((f,c)=>{const{computed:d,selectable:h=!0,hidden:m=!1}=c,_=(d==null?void 0:d.width)??c.width??c.initialWidth??null,v=(d==null?void 0:d.height)??c.height??c.initialHeight??null;if(s&&!h||m)return f;const g=fi(u,Gi(c,r)),C=_===null||v===null,b=l&&g>0,y=(_??0)*(v??0);return(C||b||g>=y||c.dragging)&&f.push(c),f},[])},Ui=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Hc({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:l,nodeOrigin:s=[0,0]},r){const u=t.filter(a=>{var c,d,h;const f=((c=a.computed)==null?void 0:c.width)&&((d=a.computed)==null?void 0:d.height)&&((r==null?void 0:r.includeHiddenNodes)||!a.hidden);return(h=r==null?void 0:r.nodes)!=null&&h.length?f&&(r==null?void 0:r.nodes.some(m=>m.id===a.id)):f});if(u.length>0){const a=In(u,{nodeOrigin:s}),f=ao(a,e,n,(r==null?void 0:r.minZoom)??o,(r==null?void 0:r.maxZoom)??l,(r==null?void 0:r.padding)??.1);return i.setViewport(f,{duration:r==null?void 0:r.duration}),!0}return!1}function Nc(t,e){var n,i;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.computed)==null?void 0:n.width)??0),e[1][1]-(((i=t.computed)==null?void 0:i.height)??0)]]}function Ac({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:l}){var d,h,m,_;const s=n.get(t),r=s.parentNode?n.get(s.parentNode):void 0,{x:u,y:a}=r?un(r,r.origin||i).positionAbsolute:{x:0,y:0};let f=Nc(s,s.extent||o);if(s.extent==="parent"&&!s.expandParent)if(!r)l==null||l("005",pn.error005());else{const v=(d=s.computed)==null?void 0:d.width,g=(h=s.computed)==null?void 0:h.height,C=(m=r==null?void 0:r.computed)==null?void 0:m.width,b=(_=r==null?void 0:r.computed)==null?void 0:_.height;if(v&&g&&C&&b){const y=s.origin||i,M=u+v*y[0],O=a+g*y[1];f=[[M,O],[M+C-v,O+b-g]]}}else r&&Yo(s.extent)&&(f=[[s.extent[0][0]+u,s.extent[0][1]+a],[s.extent[1][0]+u,s.extent[1][1]+a]]);const c=Yo(f)?Tc(e,f):e;return{position:{x:c.x-u,y:c.y-a},positionAbsolute:c}}async function zr({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const l=t.map(d=>d.id),s=[];for(const d of n){if(d.deletable===!1)continue;const h=l.includes(d.id),m=!h&&d.parentNode&&s.find(_=>_.id===d.parentNode);(h||m)&&s.push(d)}const r=e.map(d=>d.id),u=i.filter(d=>d.deletable!==!1),f=Ui(s,u);for(const d of u)r.includes(d.id)&&!f.find(m=>m.id===d.id)&&f.push(d);if(!o)return{edges:f,nodes:s};const c=await o({nodes:s,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:s}:{edges:[],nodes:[]}:c}const on=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Tc=(t={x:0,y:0},e)=>({x:on(t.x,e[0][0],e[1][0]),y:on(t.y,e[0][1],e[1][1])}),Do=(t,e,n)=>t<e?on(Math.abs(t-e),1,50)/50:t>n?-on(Math.abs(t-n),1,50)/50:0,Pr=(t,e)=>{const n=Do(t.x,35,e.width-35)*20,i=Do(t.y,35,e.height-35)*20;return[n,i]},ro=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),ai=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),so=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Gi=(t,e=[0,0])=>{var i,o;const{positionAbsolute:n}=un(t,t.origin||e);return{...n,width:((i=t.computed)==null?void 0:i.width)??t.width??0,height:((o=t.computed)==null?void 0:o.height)??t.height??0}},Xo=(t,e=[0,0])=>{var i,o;const{positionAbsolute:n}=un(t,t.origin||e);return{...n,x2:n.x+(((i=t.computed)==null?void 0:i.width)??t.width??0),y2:n.y+(((o=t.computed)==null?void 0:o.height)??t.height??0)}},Oc=(t,e)=>so(ro(ai(t),ai(e))),fi=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Lo=t=>mn(t.width)&&mn(t.height)&&mn(t.x)&&mn(t.y),mn=t=>!isNaN(t)&&isFinite(t),pc=(t,e)=>{},Ic=({x:t,y:e,width:n,height:i,origin:o=[0,0]})=>!n||!i||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:e}:{x:t-n*o[0],y:e-i*o[1]},uo=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),wi=({x:t,y:e},[n,i,o],l=!1,s=[1,1])=>{const r={x:(t-n)/o,y:(e-i)/o};return l?uo(r,s):r},Hr=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),ao=(t,e,n,i,o,l)=>{const s=e/(t.width*(1+l)),r=n/(t.height*(1+l)),u=Math.min(s,r),a=on(u,i,o),f=t.x+t.width/2,c=t.y+t.height/2,d=e/2-f*a,h=n/2-c*a;return{x:d,y:h,zoom:a}},ci=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Yo(t){return t!==void 0&&t!=="parent"}function Dn(t){var e,n;return{width:((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Pn(t){var e,n;return(((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function yn(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:l}=yt(t),s=wi({x:o,y:l},i),{x:r,y:u}=n?uo(s,e):s;return{xSnapped:r,ySnapped:u,...s}}const Nr=t=>({width:t.offsetWidth,height:t.offsetHeight}),Dc=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Xc=["INPUT","SELECT","TEXTAREA"];function Lc(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return Xc.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const Ar=t=>"clientX"in t,yt=(t,e)=>{var l,s;const n=Ar(t),i=n?t.clientX:(l=t.touches)==null?void 0:l[0].clientX,o=n?t.clientY:(s=t.touches)==null?void 0:s[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Vo=(t,e,n,i=[0,0])=>{const o=e.querySelectorAll(t);if(!o||!o.length)return null;const l=Array.from(o),s=e.getBoundingClientRect(),r={x:s.width*i[0],y:s.height*i[1]};return l.map(u=>{const a=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(a.left-s.left-r.x)/n,y:(a.top-s.top-r.y)/n,...Nr(u)}})};function Yc({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:s,targetControlY:r}){const u=t*.125+o*.375+s*.375+n*.125,a=e*.125+l*.375+r*.375+i*.125,f=Math.abs(u-t),c=Math.abs(a-e);return[u,a,f,c]}function Fn(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Ro({pos:t,x1:e,y1:n,x2:i,y2:o,c:l}){switch(t){case we.Left:return[e-Fn(e-i,l),n];case we.Right:return[e+Fn(i-e,l),n];case we.Top:return[e,n-Fn(n-o,l)];case we.Bottom:return[e,n+Fn(o-n,l)]}}function Tr({sourceX:t,sourceY:e,sourcePosition:n=we.Bottom,targetX:i,targetY:o,targetPosition:l=we.Top,curvature:s=.25}){const[r,u]=Ro({pos:n,x1:t,y1:e,x2:i,y2:o,c:s}),[a,f]=Ro({pos:l,x1:i,y1:o,x2:t,y2:e,c:s}),[c,d,h,m]=Yc({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:r,sourceControlY:u,targetControlX:a,targetControlY:f});return[`M${t},${e} C${r},${u} ${a},${f} ${i},${o}`,c,d,h,m]}function Or({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,l=n<t?n+o:n-o,s=Math.abs(i-e)/2,r=i<e?i+s:i-s;return[l,r,o,s]}function Vc({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){var r,u;if(!o)return i;const l=n||e.selected||t.selected,s=Math.max(((r=t[Ae])==null?void 0:r.z)||0,((u=e[Ae])==null?void 0:u.z)||0,1e3);return i+(l?s:0)}function Rc({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const l=ro(Xo(t),Xo(e));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return fi(s,so(l))>0}const Wc=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,Bc=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Kc=(t,e)=>{if(!t.source||!t.target)return e;let n;return zc(t)?n={...t}:n={...t,id:Wc(t)},Bc(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function pr({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,l,s,r]=Or({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,l,s,r]}const Wo={[we.Left]:{x:-1,y:0},[we.Right]:{x:1,y:0},[we.Top]:{x:0,y:-1},[we.Bottom]:{x:0,y:1}},Fc=({source:t,sourcePosition:e=we.Bottom,target:n})=>e===we.Left||e===we.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Bo=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function qc({source:t,sourcePosition:e=we.Bottom,target:n,targetPosition:i=we.Top,center:o,offset:l}){const s=Wo[e],r=Wo[i],u={x:t.x+s.x*l,y:t.y+s.y*l},a={x:n.x+r.x*l,y:n.y+r.y*l},f=Fc({source:u,sourcePosition:e,target:a}),c=f.x!==0?"x":"y",d=f[c];let h=[],m,_;const v={x:0,y:0},g={x:0,y:0},[C,b,y,M]=Or({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(s[c]*r[c]===-1){m=o.x??C,_=o.y??b;const E=[{x:m,y:u.y},{x:m,y:a.y}],z=[{x:u.x,y:_},{x:a.x,y:_}];s[c]===d?h=c==="x"?E:z:h=c==="x"?z:E}else{const E=[{x:u.x,y:a.y}],z=[{x:a.x,y:u.y}];if(c==="x"?h=s.x===d?z:E:h=s.y===d?E:z,e===i){const N=Math.abs(t[c]-n[c]);if(N<=l){const S=Math.min(l-1,l-N);s[c]===d?v[c]=(u[c]>t[c]?-1:1)*S:g[c]=(a[c]>n[c]?-1:1)*S}}if(e!==i){const N=c==="x"?"y":"x",S=s[c]===r[N],p=u[N]>a[N],T=u[N]<a[N];(s[c]===1&&(!S&&p||S&&T)||s[c]!==1&&(!S&&T||S&&p))&&(h=c==="x"?E:z)}const P={x:u.x+v.x,y:u.y+v.y},D={x:a.x+g.x,y:a.y+g.y},k=Math.max(Math.abs(P.x-h[0].x),Math.abs(D.x-h[0].x)),A=Math.max(Math.abs(P.y-h[0].y),Math.abs(D.y-h[0].y));k>=A?(m=(P.x+D.x)/2,_=h[0].y):(m=h[0].x,_=(P.y+D.y)/2)}return[[t,{x:u.x+v.x,y:u.y+v.y},...h,{x:a.x+g.x,y:a.y+g.y},n],m,_,y,M]}function Zc(t,e,n,i){const o=Math.min(Bo(t,e)/2,Bo(e,n)/2,i),{x:l,y:s}=e;if(t.x===l&&l===n.x||t.y===s&&s===n.y)return`L${l} ${s}`;if(t.y===s){const a=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${l+o*a},${s}Q ${l},${s} ${l},${s+o*f}`}const r=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${l},${s+o*u}Q ${l},${s} ${l+o*r},${s}`}function ln({sourceX:t,sourceY:e,sourcePosition:n=we.Bottom,targetX:i,targetY:o,targetPosition:l=we.Top,borderRadius:s=5,centerX:r,centerY:u,offset:a=20}){const[f,c,d,h,m]=qc({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:l,center:{x:r,y:u},offset:a});return[f.reduce((v,g,C)=>{let b="";return C>0&&C<f.length-1?b=Zc(f[C-1],g,f[C+1],s):b=`${C===0?"M":"L"}${g.x} ${g.y}`,v+=b,v},""),c,d,h,m]}function Ko(t){var e,n,i;return!!((e=t==null?void 0:t[Ae])!=null&&e.handleBounds||(n=t==null?void 0:t.handles)!=null&&n.length)&&!!((i=t==null?void 0:t.computed)!=null&&i.width||t!=null&&t.width||t!=null&&t.initialWidth)}function Uc(t){var h,m,_;const{sourceNode:e,targetNode:n}=t;if(!Ko(e)||!Ko(n))return null;const i=((h=e[Ae])==null?void 0:h.handleBounds)||Fo(e.handles),o=((m=n[Ae])==null?void 0:m.handleBounds)||Fo(n.handles),l=Zo((i==null?void 0:i.source)??[],t.sourceHandle),s=Zo(t.connectionMode===Ht.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle),r=(l==null?void 0:l.position)||we.Bottom,u=(s==null?void 0:s.position)||we.Top;if(!l||!s)return(_=t.onError)==null||_.call(t,"008",pn.error008(l?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const[a,f]=qo(r,e,l),[c,d]=qo(u,n,s);return{sourceX:a,sourceY:f,targetX:c,targetY:d,sourcePosition:r,targetPosition:u}}function Fo(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function qo(t,e,n=null){var r,u,a,f;const i=((n==null?void 0:n.x)??0)+(((u=(r=e.computed)==null?void 0:r.positionAbsolute)==null?void 0:u.x)??0),o=((n==null?void 0:n.y)??0)+(((f=(a=e.computed)==null?void 0:a.positionAbsolute)==null?void 0:f.y)??0),{width:l,height:s}=n??Dn(e);switch(t){case we.Top:return[i+l/2,o];case we.Right:return[i+l,o+s/2];case we.Bottom:return[i+l/2,o+s];case we.Left:return[i,o+s/2]}}function Zo(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Ji(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function Gc(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const l=new Set;return t.reduce((s,r)=>([r.markerStart||i,r.markerEnd||o].forEach(u=>{if(u&&typeof u=="object"){const a=Ji(u,e);l.has(a)||(s.push({id:a,color:u.color||n,...u}),l.add(a))}}),s),[]).sort((s,r)=>s.id.localeCompare(r.id))}function Jc(t,e,n=[0,0],i){return t.map(o=>{var l,s,r,u,a,f;if(o.parentNode&&!e.has(o.parentNode))throw new Error(`Parent node ${o.parentNode} not found`);if(o.parentNode||i!=null&&i[o.id]){const c=o.parentNode?e.get(o.parentNode):null,{x:d,y:h,z:m}=Dr(o,t,e,{...o.position,z:((l=o[Ae])==null?void 0:l.z)??0},(c==null?void 0:c.origin)||n),_=d!==((r=(s=o.computed)==null?void 0:s.positionAbsolute)==null?void 0:r.x)||h!==((a=(u=o.computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y);o.computed.positionAbsolute=_?{x:d,y:h}:(f=o.computed)==null?void 0:f.positionAbsolute,o[Ae].z=m,i!=null&&i[o.id]&&(o[Ae].isParent=!0)}return o})}function Ir(t,e,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i=new Map(e);e.clear();const o={},l=n!=null&&n.elevateNodesOnSelect?1e3:0,s=t.map(u=>{var h,m,_;const a=i.get(u.id);if(u===((h=a==null?void 0:a[Ae])==null?void 0:h.userProvidedNode))return e.set(u.id,a),a;const f={...n.defaults,...u,computed:{positionAbsolute:u.position,width:(m=u.computed)==null?void 0:m.width,height:(_=u.computed)==null?void 0:_.height}},c=(mn(u.zIndex)?u.zIndex:0)+(u.selected?l:0),d=(u==null?void 0:u[Ae])||(a==null?void 0:a[Ae]);return f.parentNode&&(o[f.parentNode]=!0),Object.defineProperty(f,Ae,{enumerable:!1,value:{handleBounds:d==null?void 0:d.handleBounds,z:c,userProvidedNode:u}}),e.set(f.id,f),f});return Jc(s,e,n.nodeOrigin,o)}function Dr(t,e,n,i,o){var r,u;if(!t.parentNode)return i;const l=n.get(t.parentNode),{position:s}=un(l,(l==null?void 0:l.origin)||o);return Dr(l,e,n,{x:(i.x??0)+s.x,y:(i.y??0)+s.y,z:(((r=l[Ae])==null?void 0:r.z)??0)>(i.z??0)?((u=l[Ae])==null?void 0:u.z)??0:i.z??0},l.origin||o)}function Qc(t,e,n,i,o,l){const s=i==null?void 0:i.querySelector(".xyflow__viewport");if(!s)return null;const r=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(r.transform);return e.map(f=>{var d,h;const c=t.get(f.id);if(c){const m=Nr(c.nodeElement);if(!!(m.width&&m.height&&(((d=f.computed)==null?void 0:d.width)!==m.width||((h=f.computed)==null?void 0:h.height)!==m.height||c.forceUpdate))){l==null||l(f.id,m);const v={...f,computed:{...f.computed,...m},[Ae]:{...f[Ae],handleBounds:{source:Vo(".source",c.nodeElement,u,f.origin||o),target:Vo(".target",c.nodeElement,u,f.origin||o)}}};return n.set(f.id,v),v}}return f})}function jc({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:l}){if(!e||!t.x&&!t.y)return!1;const s=e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,l]],i);return!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2])}function Xr(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:l,sourceHandle:s=null,targetHandle:r=null}=i,u=`${o}-source-${s}`,a=`${l}-target-${r}`,f=t.get(u)||new Map,c=t.get(a)||new Map,d={edgeId:i.id,source:o,target:l,sourceHandle:s,targetHandle:r};e.set(i.id,i),t.set(u,f.set(`${l}-${r}`,d)),t.set(a,c.set(`${o}-${s}`,d))}}function Ni(t){return(e,n,i)=>t==null?void 0:t(e,i)}function Lr(t,e){if(!t.parentNode)return!1;const n=e.find(i=>i.id===i.parentNode);return n?n.selected?!0:Lr(n,e):!1}function Uo(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function xc(t,e,n,i){return t.filter(o=>(o.selected||o.id===i)&&(!o.parentNode||!Lr(o,t))&&(o.draggable||e&&typeof o.draggable>"u")).map(o=>{var l,s,r,u,a,f,c;return{id:o.id,position:o.position||{x:0,y:0},distance:{x:n.x-(((s=(l=o.computed)==null?void 0:l.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((u=(r=o.computed)==null?void 0:r.positionAbsolute)==null?void 0:u.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,origin:o.origin,expandParent:o.expandParent,computed:{positionAbsolute:((a=o.computed)==null?void 0:a.positionAbsolute)||{x:0,y:0},width:((f=o.computed)==null?void 0:f.width)||0,height:((c=o.computed)==null?void 0:c.height)||0}}})}function Ai({nodeId:t,dragItems:e,nodeLookup:n}){const i=e.map(o=>({...n.get(o.id),position:o.position,computed:{...o.computed,positionAbsolute:o.computed.positionAbsolute}}));return[t?i.find(o=>o.id===t):i[0],i]}function $c({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let l={x:null,y:null},s=0,r=[],u=!1,a={x:0,y:0},f=null,c=!1,d=null;function h({noDragClassName:_,handleSelector:v,domNode:g,isSelectable:C,nodeId:b}){d=Je(g);function y({x:z,y:P},D){const{nodeLookup:k,nodeExtent:A,snapGrid:N,snapToGrid:S,nodeOrigin:p,onNodeDrag:T,onSelectionDrag:Y,onError:X,updateNodePositions:R}=e();l={x:z,y:P};let U=!1,Q={x:0,y:0,x2:0,y2:0};if(r.length>1&&A){const V=In(r,{nodeOrigin:p});Q=ai(V)}if(r=r.map(V=>{var j,ie;let ne={x:z-V.distance.x,y:P-V.distance.y};S&&(ne=uo(ne,N));const le=[[A[0][0],A[0][1]],[A[1][0],A[1][1]]];r.length>1&&A&&!V.extent&&(le[0][0]=V.computed.positionAbsolute.x-Q.x+A[0][0],le[1][0]=V.computed.positionAbsolute.x+(((j=V.computed)==null?void 0:j.width)??0)-Q.x2+A[1][0],le[0][1]=V.computed.positionAbsolute.y-Q.y+A[0][1],le[1][1]=V.computed.positionAbsolute.y+(((ie=V.computed)==null?void 0:ie.height)??0)-Q.y2+A[1][1]);const{position:ge,positionAbsolute:H}=Ac({nodeId:V.id,nextPosition:ne,nodeLookup:k,nodeExtent:le,nodeOrigin:p,onError:X});return U=U||V.position.x!==ge.x||V.position.y!==ge.y,V.position=ge,V.computed.positionAbsolute=H,V}),!!U&&(R(r,!0),D&&(i||T||!b&&Y))){const[V,ne]=Ai({nodeId:b,dragItems:r,nodeLookup:k});i==null||i(D,r,V,ne),T==null||T(D,V,ne),b||Ni(Y)(D,V,ne)}}function M(){if(!f)return;const[z,P]=Pr(a,f);if(z!==0||P!==0){const{transform:D,panBy:k}=e();l.x=(l.x??0)-z/D[2],l.y=(l.y??0)-P/D[2],k({x:z,y:P})&&y(l,null)}s=requestAnimationFrame(M)}function O(z){var Q;const{nodes:P,nodeLookup:D,multiSelectionActive:k,nodesDraggable:A,transform:N,snapGrid:S,snapToGrid:p,selectNodesOnDrag:T,onNodeDragStart:Y,onSelectionDragStart:X,unselectNodesAndEdges:R}=e();c=!0,(!T||!C)&&!k&&b&&((Q=D.get(b))!=null&&Q.selected||R()),C&&T&&b&&(t==null||t(b));const U=yn(z.sourceEvent,{transform:N,snapGrid:S,snapToGrid:p});if(l=U,r=xc(P,A,U,b),r.length>0&&(n||Y||!b&&X)){const[V,ne]=Ai({nodeId:b,dragItems:r,nodeLookup:D});n==null||n(z.sourceEvent,r,V,ne),Y==null||Y(z.sourceEvent,V,ne),b||Ni(X)(z.sourceEvent,V,ne)}}const E=ar().on("start",z=>{const{domNode:P,nodeDragThreshold:D,transform:k,snapGrid:A,snapToGrid:N}=e();D===0&&O(z),l=yn(z.sourceEvent,{transform:k,snapGrid:A,snapToGrid:N}),f=(P==null?void 0:P.getBoundingClientRect())||null,a=yt(z.sourceEvent,f)}).on("drag",z=>{const{autoPanOnNodeDrag:P,transform:D,snapGrid:k,snapToGrid:A,nodeDragThreshold:N}=e(),S=yn(z.sourceEvent,{transform:D,snapGrid:k,snapToGrid:A});if(!u&&P&&c&&(u=!0,M()),!c){const p=S.xSnapped-(l.x??0),T=S.ySnapped-(l.y??0);Math.sqrt(p*p+T*T)>N&&O(z)}(l.x!==S.xSnapped||l.y!==S.ySnapped)&&r&&c&&(a=yt(z.sourceEvent,f),y(S,z.sourceEvent))}).on("end",z=>{if(c&&(u=!1,c=!1,cancelAnimationFrame(s),r.length>0)){const{nodeLookup:P,updateNodePositions:D,onNodeDragStop:k,onSelectionDragStop:A}=e();if(D(r,!1),o||k||!b&&A){const[N,S]=Ai({nodeId:b,dragItems:r,nodeLookup:P});o==null||o(z.sourceEvent,r,N,S),k==null||k(z.sourceEvent,N,S),b||Ni(A)(z.sourceEvent,N,S)}}}).filter(z=>{const P=z.target;return!z.button&&(!_||!Uo(P,`.${_}`,g))&&(!v||Uo(P,v,g))});d.call(E)}function m(){d==null||d.on(".drag",null)}return{update:h,destroy:m}}function Go(t,e,n,i){return(e[n]||[]).reduce((o,l)=>{var s,r,u,a;return`${t.id}-${l.id}-${n}`!==i&&o.push({id:l.id||null,type:n,nodeId:t.id,x:(((r=(s=t.computed)==null?void 0:s.positionAbsolute)==null?void 0:r.x)??0)+l.x+l.width/2,y:(((a=(u=t.computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y)??0)+l.y+l.height/2}),o},[])}function ed(t,e,n){let i=[],o=1/0;for(const l of n){const s=Math.sqrt(Math.pow(l.x-t.x,2)+Math.pow(l.y-t.y,2));s<=e&&(s<o?i=[l]:s===o&&i.push(l),o=s)}return i.length?i.length===1?i[0]:i.find(l=>l.type==="target")||i[0]:null}function td({nodes:t,nodeId:e,handleId:n,handleType:i}){return t.reduce((o,l)=>{if(l[Ae]){const{handleBounds:s}=l[Ae];let r=[],u=[];s&&(r=Go(l,s,"source",`${e}-${n}-${i}`),u=Go(l,s,"target",`${e}-${n}-${i}`)),o.push(...r,...u)}return o},[])}function Yr(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function nd(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}const Vr=()=>!0;let qn=null;function id(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:l,isTarget:s,domNode:r,nodes:u,lib:a,autoPanOnConnect:f,flowId:c,panBy:d,cancelConnection:h,onConnectStart:m,onConnect:_,onConnectEnd:v,isValidConnection:g=Vr,onEdgeUpdateEnd:C,updateConnection:b,getTransform:y,getConnectionStartHandle:M}){const O=Dc(t.target);let E=0,z;const{x:P,y:D}=yt(t),k=O==null?void 0:O.elementFromPoint(P,D),A=Yr(l,k),N=r==null?void 0:r.getBoundingClientRect();if(!N||!A)return;let S=yt(t,N),p=!1,T=null,Y=!1,X=null;const R=td({nodes:u,nodeId:o,handleId:i,handleType:A});function U(){if(!f||!N)return;const[ne,le]=Pr(S,N);d({x:ne,y:le}),E=requestAnimationFrame(U)}qn={nodeId:o,handleId:i,type:A},b({connectionPosition:S,connectionStatus:null,connectionStartHandle:qn,connectionEndHandle:null}),m==null||m(t,{nodeId:o,handleId:i,handleType:A});function Q(ne){M()||V(ne);const le=y();S=yt(ne,N),z=ed(wi(S,le,!1,[1,1]),n,R),p||(U(),p=!0);const ge=Rr(ne,{handle:z,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:O,lib:a,flowId:c});X=ge.handleDomNode,T=ge.connection,Y=ge.isValid,b({connectionStartHandle:qn,connectionPosition:z&&Y?Hr({x:z.x,y:z.y},le):S,connectionStatus:nd(!!z,Y),connectionEndHandle:ge.endHandle})}function V(ne){(z||X)&&T&&Y&&(_==null||_(T)),v==null||v(ne),l&&(C==null||C(ne)),h(),cancelAnimationFrame(E),p=!1,Y=!1,T=null,X=null,qn=null,O.removeEventListener("mousemove",Q),O.removeEventListener("mouseup",V),O.removeEventListener("touchmove",Q),O.removeEventListener("touchend",V)}O.addEventListener("mousemove",Q),O.addEventListener("mouseup",V),O.addEventListener("touchmove",Q),O.addEventListener("touchend",V)}function Rr(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:l,doc:s,lib:r,flowId:u,isValidConnection:a=Vr}){const f=l==="target",c=e?s.querySelector(`.${r}-flow__handle[data-id="${u}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:d,y:h}=yt(t),m=s.elementFromPoint(d,h),_=m!=null&&m.classList.contains(`${r}-flow__handle`)?m:c,v={handleDomNode:_,isValid:!1,connection:null,endHandle:null};if(_){const g=Yr(void 0,_),C=_.getAttribute("data-nodeid"),b=_.getAttribute("data-handleid"),y=_.classList.contains("connectable"),M=_.classList.contains("connectableend");if(!C)return v;const O={source:f?C:i,sourceHandle:f?b:o,target:f?i:C,targetHandle:f?o:b};v.connection=O,y&&M&&(n===Ht.Strict?f&&g==="source"||!f&&g==="target":C!==i||b!==o)&&(v.endHandle={nodeId:C,handleId:b,type:g},v.isValid=a(O))}return v}const od={onPointerDown:id,isValid:Rr};function ld({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=Je(t);function l({translateExtent:r,width:u,height:a,zoomStep:f=10,pannable:c=!0,zoomable:d=!0,inversePan:h=!1}){const m=g=>{const C=n();if(g.sourceEvent.type!=="wheel"||!e)return;const b=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*f,y=C[2]*Math.pow(2,b);e.scaleTo(y)},_=g=>{const C=n();if(g.sourceEvent.type!=="mousemove"||!e)return;const b=i()*Math.max(C[2],Math.log(C[2]))*(h?-1:1),y={x:C[0]-g.sourceEvent.movementX*b,y:C[1]-g.sourceEvent.movementY*b},M=[[0,0],[u,a]];e.setViewportConstrained({x:y.x,y:y.y,zoom:C[2]},M,r)},v=Er().on("zoom",c?_:null).on("zoom.wheel",d?m:null);o.call(v,{})}function s(){o.on("zoom",null)}return{update:l,destroy:s,pointer:$e}}const rd=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ki=t=>({x:t.x,y:t.y,zoom:t.k}),Ti=({x:t,y:e,zoom:n})=>bi.translate(t,e).scale(n),qt=(t,e)=>t.target.closest(`.${e}`),Wr=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Oi=(t,e=0)=>typeof e=="number"&&e>0?t.transition().duration(e):t,Br=t=>{const e=t.ctrlKey&&ci()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function sd({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:l,zoomOnPinch:s,onPanZoomStart:r,onPanZoom:u,onPanZoomEnd:a}){return f=>{if(qt(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1,d=ci();if(f.ctrlKey&&s&&d){const g=$e(f),C=Br(f),b=c*Math.pow(2,C);i.scaleTo(n,b,g,f);return}const h=f.deltaMode===1?20:1;let m=o===ut.Vertical?0:f.deltaX*h,_=o===ut.Horizontal?0:f.deltaY*h;!d&&f.shiftKey&&o!==ut.Vertical&&(m=f.deltaY*h,_=0),i.translateBy(n,-(m/c)*l,-(_/c)*l,{internal:!0});const v=ki(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,r==null||r(f,v)),t.isPanScrolling&&(u==null||u(f,v),t.panScrollTimeout=setTimeout(()=>{a==null||a(f,v),t.isPanScrolling=!1},150))}}function ud({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e||qt(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function ad({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var l,s,r;if((l=i.sourceEvent)!=null&&l.internal)return;const o=ki(i.transform);t.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((r=i.sourceEvent)==null?void 0:r.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function fd({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return l=>{var s,r;t.usedRightMouseButton=!!(n&&Wr(e,t.mouseButton??0)),(s=l.sourceEvent)!=null&&s.sync||i([l.transform.x,l.transform.y,l.transform.k]),o&&!((r=l.sourceEvent)!=null&&r.internal)&&(o==null||o(l.sourceEvent,ki(l.transform)))}}function cd({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:l}){return s=>{var r;if(!((r=s.sourceEvent)!=null&&r.internal)&&(t.isZoomingOrPanning=!1,l&&Wr(e,t.mouseButton??0)&&!t.usedRightMouseButton&&s.sourceEvent&&l(s.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&rd(t.prevViewport,s.transform))){const u=ki(s.transform);t.prevViewport=u,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,u)},n?150:0)}}}function dd({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:l,userSelectionActive:s,noWheelClassName:r,noPanClassName:u,lib:a}){return f=>{const c=t||e,d=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(qt(f,`${a}-flow__node`)||qt(f,`${a}-flow__edge`)))return!0;if(!i&&!c&&!o&&!l&&!n||s||!l&&f.type==="dblclick"||qt(f,r)&&f.type==="wheel"||qt(f,u)&&(f.type!=="wheel"||o&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel"||!c&&!o&&!d&&f.type==="wheel"||!i&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(i)&&!i.includes(f.button)&&(f.type==="mousedown"||f.type==="touchstart"))return!1;const h=Array.isArray(i)&&i.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&h}}function hd({domNode:t,minZoom:e,maxZoom:n,translateExtent:i,viewport:o,onPanZoom:l,onPanZoomStart:s,onPanZoomEnd:r,onTransformChange:u,onDraggingChange:a}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},c=t.getBoundingClientRect(),d=Er().scaleExtent([e,n]).translateExtent(i),h=Je(t).call(d);C({x:o.x,y:o.y,zoom:on(o.zoom,e,n)},[[0,0],[c.width,c.height]],i);const m=h.on("wheel.zoom");d.wheelDelta(Br);function _(D,k){h&&(d==null||d.transform(Oi(h,k==null?void 0:k.duration),D))}function v({noWheelClassName:D,noPanClassName:k,onPaneContextMenu:A,userSelectionActive:N,panOnScroll:S,panOnDrag:p,panOnScrollMode:T,panOnScrollSpeed:Y,preventScrolling:X,zoomOnPinch:R,zoomOnScroll:U,zoomOnDoubleClick:Q,zoomActivationKeyPressed:V,lib:ne}){N&&!f.isZoomingOrPanning&&g();const ge=S&&!V&&!N?sd({zoomPanValues:f,noWheelClassName:D,d3Selection:h,d3Zoom:d,panOnScrollMode:T,panOnScrollSpeed:Y,zoomOnPinch:R,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:r}):ud({noWheelClassName:D,preventScrolling:X,d3ZoomHandler:m});if(h.on("wheel.zoom",ge,{passive:!1}),!N){const j=ad({zoomPanValues:f,onDraggingChange:a,onPanZoomStart:s});d.on("start",j);const ie=fd({zoomPanValues:f,panOnDrag:p,onPaneContextMenu:!!A,onPanZoom:l,onTransformChange:u});d.on("zoom",ie);const q=cd({zoomPanValues:f,panOnDrag:p,panOnScroll:S,onPaneContextMenu:A,onPanZoomEnd:r,onDraggingChange:a});d.on("end",q)}const H=dd({zoomActivationKeyPressed:V,panOnDrag:p,zoomOnScroll:U,panOnScroll:S,zoomOnDoubleClick:Q,zoomOnPinch:R,userSelectionActive:N,noPanClassName:k,noWheelClassName:D,lib:ne});d.filter(H)}function g(){d.on("zoom",null)}function C(D,k,A){const N=Ti(D),S=d==null?void 0:d.constrain()(N,k,A);return S&&_(S),S}function b(D,k){const A=Ti(D);return _(A,k),A}function y(D){if(h){const k=Ti(D),A=h.property("__zoom");(A.k!==D.zoom||A.x!==D.x||A.y!==D.y)&&(d==null||d.transform(h,k,null,{sync:!0}))}}function M(){const D=h?Cr(h.node()):{x:0,y:0,k:1};return{x:D.x,y:D.y,zoom:D.k}}function O(D,k){h&&(d==null||d.scaleTo(Oi(h,k==null?void 0:k.duration),D))}function E(D,k){h&&(d==null||d.scaleBy(Oi(h,k==null?void 0:k.duration),D))}function z(D){d==null||d.scaleExtent(D)}function P(D){d==null||d.translateExtent(D)}return{update:v,destroy:g,setViewport:b,setViewportConstrained:C,getViewport:M,scaleTo:O,scaleBy:E,setScaleExtent:z,setTranslateExtent:P,syncViewport:y}}var bn;(function(t){t.Line="line",t.Handle="handle"})(bn||(bn={}));function gd({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:o,affectsY:l}){const s=t-e,r=n-i,u=[s>0?1:s<0?-1:0,r>0?1:r<0?-1:0];return s&&o&&(u[0]=u[0]*-1),r&&l&&(u[1]=u[1]*-1),u}function md(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:o}}function Mt(t,e){return Math.max(0,e-t)}function zt(t,e){return Math.max(0,t-e)}function Zn(t,e,n){return Math.max(0,e-t,t-n)}function Jo(t,e){return t?!e:e}function _d(t,e,n,i,o,l,s,r){let{affectsX:u,affectsY:a}=e;const{isHorizontal:f,isVertical:c}=e,d=f&&c,{xSnapped:h,ySnapped:m}=n,{minWidth:_,maxWidth:v,minHeight:g,maxHeight:C}=i,{x:b,y,width:M,height:O,aspectRatio:E}=t;let z=Math.floor(f?h-t.pointerX:0),P=Math.floor(c?m-t.pointerY:0);const D=M+(u?-z:z),k=O+(a?-P:P),A=-l[0]*M,N=-l[1]*O;let S=Zn(D,_,v),p=Zn(k,g,C);if(s){let X=0,R=0;u&&z<0?X=Mt(b+z+A,s[0][0]):!u&&z>0&&(X=zt(b+D+A,s[1][0])),a&&P<0?R=Mt(y+P+N,s[0][1]):!a&&P>0&&(R=zt(y+k+N,s[1][1])),S=Math.max(S,X),p=Math.max(p,R)}if(r){let X=0,R=0;u&&z>0?X=zt(b+z,r[0][0]):!u&&z<0&&(X=Mt(b+D,r[1][0])),a&&P>0?R=zt(y+P,r[0][1]):!a&&P<0&&(R=Mt(y+k,r[1][1])),S=Math.max(S,X),p=Math.max(p,R)}if(o){if(f){const X=Zn(D/E,g,C)*E;if(S=Math.max(S,X),s){let R=0;!u&&!a||u&&!a&&d?R=zt(y+N+D/E,s[1][1])*E:R=Mt(y+N+(u?z:-z)/E,s[0][1])*E,S=Math.max(S,R)}if(r){let R=0;!u&&!a||u&&!a&&d?R=Mt(y+D/E,r[1][1])*E:R=zt(y+(u?z:-z)/E,r[0][1])*E,S=Math.max(S,R)}}if(c){const X=Zn(k*E,_,v)/E;if(p=Math.max(p,X),s){let R=0;!u&&!a||a&&!u&&d?R=zt(b+k*E+A,s[1][0])/E:R=Mt(b+(a?P:-P)*E+A,s[0][0])/E,p=Math.max(p,R)}if(r){let R=0;!u&&!a||a&&!u&&d?R=Mt(b+k*E,r[1][0])/E:R=zt(b+(a?P:-P)*E,r[0][0])/E,p=Math.max(p,R)}}}P=P+(P<0?p:-p),z=z+(z<0?S:-S),o&&(d?D>k*E?P=(Jo(u,a)?-z:z)/E:z=(Jo(u,a)?-P:P)*E:f?(P=z/E,a=u):(z=P*E,u=a));const T=u?b+z:b,Y=a?y+P:y;return{width:M+(u?-z:z),height:O+(a?-P:P),x:l[0]*z*(u?-1:1)+T,y:l[1]*P*(a?-1:1)+Y}}const Kr={width:0,height:0,x:0,y:0},yd={...Kr,pointerX:0,pointerY:0,aspectRatio:1},bd={x:0,y:0,width:0,height:0,isXPosChange:!1,isYPosChange:!1,isWidthChange:!1,isHeightChange:!1};function wd(t){return[[0,0],[t.computed.width,t.computed.height]]}function kd(t,e,n){const i=e.position.x+t.position.x,o=e.position.y+t.position.y,l=t.computed.width??0,s=t.computed.height??0,r=n[0]*l,u=n[1]*s;return[[i-r,o-u],[i+l-r,o+s-u]]}function Sd({domNode:t,nodeId:e,getStoreItems:n,onChange:i}){const o=Je(t);function l({controlPosition:r,boundaries:u,keepAspectRatio:a,onResizeStart:f,onResize:c,onResizeEnd:d,shouldResize:h}){let m={...Kr},_={...yd};const v=md(r);let g,C=[],b,y,M;const O=ar().on("start",E=>{var N,S;const{nodeLookup:z,transform:P,snapGrid:D,snapToGrid:k,nodeOrigin:A}=n();if(g=z.get(e),g){const{xSnapped:p,ySnapped:T}=yn(E.sourceEvent,{transform:P,snapGrid:D,snapToGrid:k});m={width:((N=g.computed)==null?void 0:N.width)??0,height:((S=g.computed)==null?void 0:S.height)??0,x:g.position.x??0,y:g.position.y??0},_={...m,pointerX:p,pointerY:T,aspectRatio:m.width/m.height},b=void 0,(g.extent==="parent"||g.expandParent)&&(b=z.get(g.parentNode),b&&g.extent==="parent"&&(y=wd(b))),C=[],M=void 0;for(const[Y,X]of z)if(X.parentNode===e&&(C.push({id:Y,position:{...X.position},extent:X.extent}),X.extent==="parent"||X.expandParent)){const R=kd(X,g,X.origin??A);M?M=[[Math.min(R[0][0],M[0][0]),Math.min(R[0][1],M[0][1])],[Math.max(R[1][0],M[1][0]),Math.max(R[1][1],M[1][1])]]:M=R}f==null||f(E,{...m})}}).on("drag",E=>{const{transform:z,snapGrid:P,snapToGrid:D,nodeOrigin:k}=n(),A=yn(E.sourceEvent,{transform:z,snapGrid:P,snapToGrid:D}),N=[];if(g){const{x:S,y:p,width:T,height:Y}=m,X={...bd},R=g.origin??k,{width:U,height:Q,x:V,y:ne}=_d(_,v,A,u,a,R,y,M),le=U!==T,ge=Q!==Y,H=V!==S&&le,j=ne!==p&&ge;if((H||j||R[0]===1||R[1]==1)&&(X.isXPosChange=H,X.isYPosChange=j,X.x=H?V:S,X.y=j?ne:p,m.x=X.x,m.y=X.y,b&&g.expandParent&&(X.x<0&&(m.x=0,_.x=_.x-X.x),X.y<0&&(m.y=0,_.y=_.y-X.y)),C.length>0)){const ke=V-S,Pe=ne-p;for(const Ce of C)Ce.position={x:Ce.position.x-ke+R[0]*(U-T),y:Ce.position.y-Pe+R[1]*(Q-Y)},N.push(Ce)}if((le||ge)&&(X.isWidthChange=le,X.isHeightChange=ge,X.width=U,X.height=Q,m.width=X.width,m.height=X.height),!X.isXPosChange&&!X.isYPosChange&&!le&&!ge)return;const ie=gd({width:m.width,prevWidth:T,height:m.height,prevHeight:Y,affectsX:v.affectsX,affectsY:v.affectsY}),q={...m,direction:ie};if((h==null?void 0:h(E,q))===!1)return;c==null||c(E,q),i(X,N)}}).on("end",E=>{d==null||d(E,{...m})});o.call(O)}function s(){o.on(".drag",null)}return{update:l,destroy:s}}function vd(t){let e,n,i,o,l,s;const r=t[43].default,u=De(r,t,t[42],null);return{c(){e=_e("div"),u&&u.c(),w(e,"data-handleid",t[15]),w(e,"data-nodeid",t[13]),w(e,"data-handlepos",t[3]),w(e,"data-id",n=t[11]+"-"+t[13]+"-"+(t[1]||null)+"-"+t[2]),w(e,"class",i=Se(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),w(e,"style",t[4]),w(e,"role","button"),w(e,"tabindex","-1"),ye(e,"valid",t[7]),ye(e,"connectingto",t[6]),ye(e,"connectingfrom",t[9]),ye(e,"source",!t[12]),ye(e,"target",t[12]),ye(e,"connectablestart",t[0]),ye(e,"connectableend",t[0]),ye(e,"connectable",t[0]),ye(e,"connectionindicator",t[0]&&(!t[10]||t[8]))},m(a,f){K(a,e,f),u&&u.m(e,null),o=!0,l||(s=[he(e,"mousedown",t[32]),he(e,"touchstart",t[32])],l=!0)},p(a,f){u&&u.p&&(!o||f[1]&2048)&&Le(u,r,a,a[42],o?Xe(r,a[42],f,null):Ye(a[42]),null),(!o||f[0]&8)&&w(e,"data-handlepos",a[3]),(!o||f[0]&2054&&n!==(n=a[11]+"-"+a[13]+"-"+(a[1]||null)+"-"+a[2]))&&w(e,"data-id",n),(!o||f[0]&40&&i!==(i=Se(["svelte-flow__handle",`svelte-flow__handle-${a[3]}`,"nodrag","nopan",a[3],a[5]])))&&w(e,"class",i),(!o||f[0]&16)&&w(e,"style",a[4]),(!o||f[0]&168)&&ye(e,"valid",a[7]),(!o||f[0]&104)&&ye(e,"connectingto",a[6]),(!o||f[0]&552)&&ye(e,"connectingfrom",a[9]),(!o||f[0]&4136)&&ye(e,"source",!a[12]),(!o||f[0]&4136)&&ye(e,"target",a[12]),(!o||f[0]&41)&&ye(e,"connectablestart",a[0]),(!o||f[0]&41)&&ye(e,"connectableend",a[0]),(!o||f[0]&41)&&ye(e,"connectable",a[0]),(!o||f[0]&1321)&&ye(e,"connectionindicator",a[0]&&(!a[10]||a[8]))},i(a){o||(L(u,a),o=!0)},o(a){W(u,a),o=!1},d(a){a&&B(e),u&&u.d(a),l=!1,Oe(s)}}}function Cd(t,e,n){let i,o,l,s,r,u,a,f,c,d,h,m,_,v,g,C,b,y,M,O,E,z,{$$slots:P={},$$scope:D}=e,{id:k=void 0}=e,{type:A="source"}=e,{position:N=we.Top}=e,{style:S=void 0}=e,{isConnectable:p=void 0}=e,{onconnect:T=void 0}=e,{ondisconnect:Y=void 0}=e,{class:X=void 0}=e;const R=A==="target",U=Sn("svelteflow__node_id"),Q=Sn("svelteflow__node_connectable");J(t,Q,x=>n(41,z=x));const V=k||null,ne=ze(),{connectionMode:le,domNode:ge,nodes:H,connectionRadius:j,viewport:ie,isValidConnection:q,lib:Z,addEdge:ke,onedgecreate:Pe,panBy:Ce,cancelConnection:Re,updateConnection:He,autoPanOnConnect:ct,edges:dt,connectionLookup:ot,onconnect:lt,onconnectstart:oe,onconnectend:St,flowId:vt,connection:Nt}=ne;J(t,le,x=>n(38,a=x)),J(t,ge,x=>n(53,O=x)),J(t,H,x=>n(52,M=x)),J(t,j,x=>n(54,E=x)),J(t,ie,x=>n(44,d=x)),J(t,q,x=>n(49,g=x)),J(t,Z,x=>n(51,y=x)),J(t,Pe,x=>n(48,v=x)),J(t,ct,x=>n(50,b=x)),J(t,dt,x=>n(40,c=x)),J(t,ot,x=>n(39,f=x)),J(t,lt,x=>n(47,_=x)),J(t,oe,x=>n(46,m=x)),J(t,St,x=>n(45,h=x)),J(t,vt,x=>n(11,C=x)),J(t,Nt,x=>n(37,u=x));function G(x){const ht=Ar(x);(ht&&x.button===0||!ht)&&od.onPointerDown(x,{handleId:V,nodeId:U,isTarget:R,connectionRadius:E,domNode:O,nodes:M,connectionMode:a,lib:y,autoPanOnConnect:b,flowId:C,isValidConnection:g,updateConnection:He,cancelConnection:Re,panBy:Ce,onConnect:Ze=>{const Ge=v?v(Ze):Ze;Ge&&(ke(Ge),_==null||_(Ze))},onConnectStart:(Ze,Ge)=>{m==null||m(Ze,{nodeId:Ge.nodeId,handleId:Ge.handleId,handleType:Ge.handleType})},onConnectEnd:Ze=>{h==null||h(Ze)},getTransform:()=>[d.x,d.y,d.zoom],getConnectionStartHandle:()=>u.startHandle})}let je=null,We;return t.$$set=x=>{"id"in x&&n(1,k=x.id),"type"in x&&n(2,A=x.type),"position"in x&&n(3,N=x.position),"style"in x&&n(4,S=x.style),"isConnectable"in x&&n(0,p=x.isConnectable),"onconnect"in x&&n(33,T=x.onconnect),"ondisconnect"in x&&n(34,Y=x.ondisconnect),"class"in x&&n(5,X=x.class),"$$scope"in x&&n(42,D=x.$$scope)},t.$$.update=()=>{var x,ht,Ze,Ge,Lt,Yt,Ct,Vt,an;if(t.$$.dirty[0]&1|t.$$.dirty[1]&1024&&n(0,p=p!==void 0?p:z),t.$$.dirty[0]&6|t.$$.dirty[1]&780&&(T||Y)&&n(36,We=f.get(`${U}-${A}-${k||null}`)),t.$$.dirty[1]&60){if(je&&!Mc(We,je)){const fn=We??new Map;Io(je,fn,Y),Io(fn,je,T)}n(35,je=We??new Map)}t.$$.dirty[1]&64&&n(10,i=!!u.startHandle),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(9,o=((x=u.startHandle)==null?void 0:x.nodeId)===U&&((ht=u.startHandle)==null?void 0:ht.type)===A&&((Ze=u.startHandle)==null?void 0:Ze.handleId)===V),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(6,l=((Ge=u.endHandle)==null?void 0:Ge.nodeId)===U&&((Lt=u.endHandle)==null?void 0:Lt.type)===A&&((Yt=u.endHandle)==null?void 0:Yt.handleId)===V),t.$$.dirty[0]&4|t.$$.dirty[1]&192&&n(8,s=a===Ht.Strict?((Ct=u.startHandle)==null?void 0:Ct.type)!==A:U!==((Vt=u.startHandle)==null?void 0:Vt.nodeId)||V!==((an=u.startHandle)==null?void 0:an.handleId)),t.$$.dirty[0]&64|t.$$.dirty[1]&64&&n(7,r=l&&u.status==="valid")},[p,k,A,N,S,X,l,r,s,o,i,C,R,U,Q,V,le,ge,H,j,ie,q,Z,Pe,ct,dt,ot,lt,oe,St,vt,Nt,G,T,Y,je,We,u,a,f,c,z,D,P]}class Ed extends fe{constructor(e){super(),ae(this,e,Cd,vd,ce,{id:1,type:2,position:3,style:4,isConnectable:0,onconnect:33,ondisconnect:34,class:5},null,[-1,-1])}}const Hn=Ed;function Md(t){var u;let e,n,i=((u=t[0])==null?void 0:u.label)+"",o,l,s,r;return e=new Hn({props:{type:"target",position:t[1]}}),s=new Hn({props:{type:"source",position:t[2]}}),{c(){te(e.$$.fragment),n=de(),o=qe(i),l=de(),te(s.$$.fragment)},m(a,f){$(e,a,f),K(a,n,f),K(a,o,f),K(a,l,f),$(s,a,f),r=!0},p(a,[f]){var h;const c={};f&2&&(c.position=a[1]),e.$set(c),(!r||f&1)&&i!==(i=((h=a[0])==null?void 0:h.label)+"")&&Xt(o,i);const d={};f&4&&(d.position=a[2]),s.$set(d)},i(a){r||(L(e.$$.fragment,a),L(s.$$.fragment,a),r=!0)},o(a){W(e.$$.fragment,a),W(s.$$.fragment,a),r=!1},d(a){a&&(B(n),B(o),B(l)),ee(e,a),ee(s,a)}}}function zd(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:o=we.Top}=e,{sourcePosition:l=we.Bottom}=e,{id:s=""}=e,{width:r=void 0}=e,{height:u=void 0}=e,{selected:a=void 0}=e,{type:f=void 0}=e,{dragging:c=!1}=e,{dragHandle:d=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:_}=e,{zIndex:v}=e;return t.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"sourcePosition"in g&&n(2,l=g.sourcePosition),"id"in g&&n(3,s=g.id),"width"in g&&n(4,r=g.width),"height"in g&&n(5,u=g.height),"selected"in g&&n(6,a=g.selected),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,c=g.dragging),"dragHandle"in g&&n(9,d=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,_=g.isConnectable),"zIndex"in g&&n(13,v=g.zIndex)},[i,o,l,s,r,u,a,f,c,d,h,m,_,v]}class Pd extends fe{constructor(e){super(),ae(this,e,zd,Md,ce,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Fr=Pd;function Hd(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,l;return o=new Hn({props:{type:"source",position:t[1]}}),{c(){n=qe(e),i=de(),te(o.$$.fragment)},m(r,u){K(r,n,u),K(r,i,u),$(o,r,u),l=!0},p(r,[u]){var f;(!l||u&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Xt(n,e);const a={};u&2&&(a.position=r[1]),o.$set(a)},i(r){l||(L(o.$$.fragment,r),l=!0)},o(r){W(o.$$.fragment,r),l=!1},d(r){r&&(B(n),B(i)),ee(o,r)}}}function Nd(t,e,n){let{data:i={label:"Node"}}=e,{sourcePosition:o=we.Bottom}=e,{id:l=""}=e,{width:s=void 0}=e,{height:r=void 0}=e,{selected:u=void 0}=e,{targetPosition:a=void 0}=e,{type:f=void 0}=e,{dragging:c=!1}=e,{dragHandle:d=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:_}=e,{zIndex:v}=e;return t.$$set=g=>{"data"in g&&n(0,i=g.data),"sourcePosition"in g&&n(1,o=g.sourcePosition),"id"in g&&n(2,l=g.id),"width"in g&&n(3,s=g.width),"height"in g&&n(4,r=g.height),"selected"in g&&n(5,u=g.selected),"targetPosition"in g&&n(6,a=g.targetPosition),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,c=g.dragging),"dragHandle"in g&&n(9,d=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,_=g.isConnectable),"zIndex"in g&&n(13,v=g.zIndex)},[i,o,l,s,r,u,a,f,c,d,h,m,_,v]}class Ad extends fe{constructor(e){super(),ae(this,e,Nd,Hd,ce,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Td=Ad;function Od(t){var s;let e=((s=t[0])==null?void 0:s.label)+"",n,i,o,l;return o=new Hn({props:{type:"target",position:t[1]}}),{c(){n=qe(e),i=de(),te(o.$$.fragment)},m(r,u){K(r,n,u),K(r,i,u),$(o,r,u),l=!0},p(r,[u]){var f;(!l||u&1)&&e!==(e=((f=r[0])==null?void 0:f.label)+"")&&Xt(n,e);const a={};u&2&&(a.position=r[1]),o.$set(a)},i(r){l||(L(o.$$.fragment,r),l=!0)},o(r){W(o.$$.fragment,r),l=!1},d(r){r&&(B(n),B(i)),ee(o,r)}}}function pd(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:o=we.Top}=e,{id:l=""}=e,{width:s=void 0}=e,{height:r=void 0}=e,{selected:u=void 0}=e,{sourcePosition:a=void 0}=e,{type:f=void 0}=e,{dragging:c=!1}=e,{dragHandle:d=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:_}=e,{zIndex:v}=e;return t.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"id"in g&&n(2,l=g.id),"width"in g&&n(3,s=g.width),"height"in g&&n(4,r=g.height),"selected"in g&&n(5,u=g.selected),"sourcePosition"in g&&n(6,a=g.sourcePosition),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,c=g.dragging),"dragHandle"in g&&n(9,d=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,_=g.isConnectable),"zIndex"in g&&n(13,v=g.zIndex)},[i,o,l,s,r,u,a,f,c,d,h,m,_,v]}class Id extends fe{constructor(e){super(),ae(this,e,pd,Od,ce,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Dd=Id;function Xd(t,e,n){let{id:i=""}=e,{width:o=void 0}=e,{height:l=void 0}=e,{data:s={}}=e,{selected:r=void 0}=e,{sourcePosition:u=void 0}=e,{targetPosition:a=void 0}=e,{type:f=void 0}=e,{dragging:c=!1}=e,{dragHandle:d=void 0}=e,{positionAbsoluteX:h=0}=e,{positionAbsoluteY:m=0}=e,{isConnectable:_}=e,{zIndex:v}=e;return t.$$set=g=>{"id"in g&&n(0,i=g.id),"width"in g&&n(1,o=g.width),"height"in g&&n(2,l=g.height),"data"in g&&n(3,s=g.data),"selected"in g&&n(4,r=g.selected),"sourcePosition"in g&&n(5,u=g.sourcePosition),"targetPosition"in g&&n(6,a=g.targetPosition),"type"in g&&n(7,f=g.type),"dragging"in g&&n(8,c=g.dragging),"dragHandle"in g&&n(9,d=g.dragHandle),"positionAbsoluteX"in g&&n(10,h=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(11,m=g.positionAbsoluteY),"isConnectable"in g&&n(12,_=g.isConnectable),"zIndex"in g&&n(13,v=g.zIndex)},[i,o,l,s,r,u,a,f,c,d,h,m,_,v]}class Ld extends fe{constructor(e){super(),ae(this,e,Xd,null,ce,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Yd=Ld;function Qo(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Vd(t,{target:e,domNode:n}){return Qo(t,n,e),{async update({target:i,domNode:o}){Qo(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function Rd(t){let e,n,i,o,l;const s=t[3].default,r=De(s,t,t[2],null);return{c(){e=_e("div"),r&&r.c()},m(u,a){K(u,e,a),r&&r.m(e,null),i=!0,o||(l=Ke(n=Vd.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(u,[a]){r&&r.p&&(!i||a&4)&&Le(r,s,u,u[2],i?Xe(s,u[2],a,null):Ye(u[2]),null),n&&Ne(n.update)&&a&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:u[0]})},i(u){i||(L(r,u),i=!0)},o(u){W(r,u),i=!1},d(u){u&&B(e),r&&r.d(u),o=!1,l()}}}function Wd(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{domNode:s}=ze();return J(t,s,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,l=r.$$scope)},[i,s,l,o]}class Bd extends fe{constructor(e){super(),ae(this,e,Wd,Rd,ce,{})}}function qr(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:l,elementsSelectable:s}=ze();return r=>{const u=F(t).get(r);if(!u){console.warn("012",pn.error012(r));return}(u.selectable||F(s)&&typeof u.selectable>"u")&&(e.set(null),n.set(null),u.selected?u.selected&&F(i)&&l({nodes:[],edges:[u]}):o([r]))}}function Kd(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,l,s;const r=t[5].default,u=De(r,t,t[7],null);return{c(){e=_e("div"),u&&u.c(),w(e,"class","svelte-flow__edge-label"),w(e,"style",n="pointer-events: all;"+t[0]),w(e,"role","button"),w(e,"tabindex","-1"),me(e,"transform",i)},m(a,f){K(a,e,f),u&&u.m(e,null),o=!0,l||(s=[he(e,"keyup",qd),he(e,"click",t[6])],l=!0)},p(a,f){u&&u.p&&(!o||f&128)&&Le(u,r,a,a[7],o?Xe(r,a[7],f,null):Ye(a[7]),null),(!o||f&1&&n!==(n="pointer-events: all;"+a[0]))&&w(e,"style",n);const c=f&1;(f&7&&i!==(i=`translate(-50%, -50%) translate(${a[1]}px,${a[2]}px)`)||c)&&me(e,"transform",i)},i(a){o||(L(u,a),o=!0)},o(a){W(u,a),o=!1},d(a){a&&B(e),u&&u.d(a),l=!1,Oe(s)}}}function Fd(t){let e,n;return e=new Bd({props:{$$slots:{default:[Kd]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&135&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}const qd=()=>{};function Zd(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:l=void 0}=e,{x:s=void 0}=e,{y:r=void 0}=e;const u=qr(),a=Sn("svelteflow__edge_id"),f=()=>{a&&u(a)};return t.$$set=c=>{"style"in c&&n(0,l=c.style),"x"in c&&n(1,s=c.x),"y"in c&&n(2,r=c.y),"$$scope"in c&&n(7,o=c.$$scope)},[l,s,r,u,a,i,f,o]}class Ud extends fe{constructor(e){super(),ae(this,e,Zd,Fd,ce,{style:0,x:1,y:2})}}const Gd=Ud;function Jd(t){let e;return{c(){e=be("path"),w(e,"d",t[1]),w(e,"stroke-opacity",0),w(e,"stroke-width",t[10]),w(e,"fill","none"),w(e,"class","svelte-flow__edge-interaction")},m(n,i){K(n,e,i)},p(n,i){i&2&&w(e,"d",n[1])},d(n){n&&B(e)}}}function jo(t){let e,n;return e=new Gd({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[Qd]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&8&&(l.x=i[3]),o&16&&(l.y=i[4]),o&32&&(l.style=i[5]),o&4100&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Qd(t){let e;return{c(){e=qe(t[2])},m(n,i){K(n,e,i)},p(n,i){i&4&&Xt(e,n[2])},d(n){n&&B(e)}}}function jd(t){let e,n,i,o,l,s,r=t[10]&&Jd(t),u=t[2]&&jo(t);return{c(){e=be("path"),i=de(),r&&r.c(),o=de(),u&&u.c(),l=Te(),w(e,"id",t[0]),w(e,"d",t[1]),w(e,"class",n=Se(["svelte-flow__edge-path",t[9]])),w(e,"marker-start",t[6]),w(e,"marker-end",t[7]),w(e,"fill","none"),w(e,"style",t[8])},m(a,f){K(a,e,f),K(a,i,f),r&&r.m(a,f),K(a,o,f),u&&u.m(a,f),K(a,l,f),s=!0},p(a,[f]){(!s||f&1)&&w(e,"id",a[0]),(!s||f&2)&&w(e,"d",a[1]),(!s||f&512&&n!==(n=Se(["svelte-flow__edge-path",a[9]])))&&w(e,"class",n),(!s||f&64)&&w(e,"marker-start",a[6]),(!s||f&128)&&w(e,"marker-end",a[7]),(!s||f&256)&&w(e,"style",a[8]),a[10]&&r.p(a,f),a[2]?u?(u.p(a,f),f&4&&L(u,1)):(u=jo(a),u.c(),L(u,1),u.m(l.parentNode,l)):u&&(Ee(),W(u,1,1,()=>{u=null}),Me())},i(a){s||(L(u),s=!0)},o(a){W(u),s=!1},d(a){a&&(B(e),B(i),B(o),B(l)),r&&r.d(a),u&&u.d(a)}}}function xd(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:l=void 0}=e,{labelX:s=void 0}=e,{labelY:r=void 0}=e,{labelStyle:u=void 0}=e,{markerStart:a=void 0}=e,{markerEnd:f=void 0}=e,{style:c=void 0}=e,{interactionWidth:d=20}=e,{class:h=void 0}=e,m=d===void 0?20:d;return t.$$set=_=>{"id"in _&&n(0,i=_.id),"path"in _&&n(1,o=_.path),"label"in _&&n(2,l=_.label),"labelX"in _&&n(3,s=_.labelX),"labelY"in _&&n(4,r=_.labelY),"labelStyle"in _&&n(5,u=_.labelStyle),"markerStart"in _&&n(6,a=_.markerStart),"markerEnd"in _&&n(7,f=_.markerEnd),"style"in _&&n(8,c=_.style),"interactionWidth"in _&&n(11,d=_.interactionWidth),"class"in _&&n(9,h=_.class)},[i,o,l,s,r,u,a,f,c,h,m,d]}class $d extends fe{constructor(e){super(),ae(this,e,xd,jd,ce,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const Xn=$d;function e1(t){let e,n;return e=new Xn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function t1(t,e,n){let i,o,l,{id:s=""}=e,{source:r=""}=e,{target:u=""}=e,{type:a="default"}=e,{animated:f=void 0}=e,{selected:c=void 0}=e,{label:d=void 0}=e,{labelStyle:h=void 0}=e,{data:m=void 0}=e,{style:_=void 0}=e,{markerStart:v=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:C=void 0}=e,{sourceX:b}=e,{sourceY:y}=e,{sourcePosition:M}=e,{sourceHandleId:O=void 0}=e,{targetX:E}=e,{targetY:z}=e,{targetPosition:P}=e,{targetHandleId:D=void 0}=e;return t.$$set=k=>{"id"in k&&n(9,s=k.id),"source"in k&&n(10,r=k.source),"target"in k&&n(11,u=k.target),"type"in k&&n(12,a=k.type),"animated"in k&&n(13,f=k.animated),"selected"in k&&n(14,c=k.selected),"label"in k&&n(0,d=k.label),"labelStyle"in k&&n(1,h=k.labelStyle),"data"in k&&n(15,m=k.data),"style"in k&&n(2,_=k.style),"markerStart"in k&&n(3,v=k.markerStart),"markerEnd"in k&&n(4,g=k.markerEnd),"interactionWidth"in k&&n(5,C=k.interactionWidth),"sourceX"in k&&n(16,b=k.sourceX),"sourceY"in k&&n(17,y=k.sourceY),"sourcePosition"in k&&n(18,M=k.sourcePosition),"sourceHandleId"in k&&n(19,O=k.sourceHandleId),"targetX"in k&&n(20,E=k.targetX),"targetY"in k&&n(21,z=k.targetY),"targetPosition"in k&&n(22,P=k.targetPosition),"targetHandleId"in k&&n(23,D=k.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,o,l]=Tr({sourceX:b,sourceY:y,targetX:E,targetY:z,sourcePosition:M,targetPosition:P}),i,(n(7,o),n(16,b),n(17,y),n(20,E),n(21,z),n(18,M),n(22,P)),(n(6,l),n(16,b),n(17,y),n(20,E),n(21,z),n(18,M),n(22,P)))},[d,h,_,v,g,C,l,o,i,s,r,u,a,f,c,m,b,y,M,O,E,z,P,D]}class n1 extends fe{constructor(e){super(),ae(this,e,t1,e1,ce,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const Zr=n1;function i1(t){let e,n;return e=new Xn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function o1(t,e,n){let i,o,l,{id:s=""}=e,{source:r=""}=e,{target:u=""}=e,{type:a="smoothstep"}=e,{animated:f=void 0}=e,{selected:c=void 0}=e,{label:d=void 0}=e,{labelStyle:h=void 0}=e,{data:m=void 0}=e,{style:_=void 0}=e,{markerStart:v=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:C=void 0}=e,{sourceX:b}=e,{sourceY:y}=e,{sourcePosition:M}=e,{sourceHandleId:O=void 0}=e,{targetX:E}=e,{targetY:z}=e,{targetPosition:P}=e,{targetHandleId:D=void 0}=e;return t.$$set=k=>{"id"in k&&n(9,s=k.id),"source"in k&&n(10,r=k.source),"target"in k&&n(11,u=k.target),"type"in k&&n(12,a=k.type),"animated"in k&&n(13,f=k.animated),"selected"in k&&n(14,c=k.selected),"label"in k&&n(0,d=k.label),"labelStyle"in k&&n(1,h=k.labelStyle),"data"in k&&n(15,m=k.data),"style"in k&&n(2,_=k.style),"markerStart"in k&&n(3,v=k.markerStart),"markerEnd"in k&&n(4,g=k.markerEnd),"interactionWidth"in k&&n(5,C=k.interactionWidth),"sourceX"in k&&n(16,b=k.sourceX),"sourceY"in k&&n(17,y=k.sourceY),"sourcePosition"in k&&n(18,M=k.sourcePosition),"sourceHandleId"in k&&n(19,O=k.sourceHandleId),"targetX"in k&&n(20,E=k.targetX),"targetY"in k&&n(21,z=k.targetY),"targetPosition"in k&&n(22,P=k.targetPosition),"targetHandleId"in k&&n(23,D=k.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,o,l]=ln({sourceX:b,sourceY:y,targetX:E,targetY:z,sourcePosition:M,targetPosition:P}),i,(n(7,o),n(16,b),n(17,y),n(20,E),n(21,z),n(18,M),n(22,P)),(n(6,l),n(16,b),n(17,y),n(20,E),n(21,z),n(18,M),n(22,P)))},[d,h,_,v,g,C,l,o,i,s,r,u,a,f,c,m,b,y,M,O,E,z,P,D]}class l1 extends fe{constructor(e){super(),ae(this,e,o1,i1,ce,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const r1=l1;function s1(t){let e,n;return e=new Xn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function u1(t,e,n){let i,o,l,{id:s=""}=e,{source:r=""}=e,{target:u=""}=e,{type:a="straight"}=e,{animated:f=void 0}=e,{selected:c=void 0}=e,{label:d=void 0}=e,{labelStyle:h=void 0}=e,{data:m=void 0}=e,{style:_=void 0}=e,{markerStart:v=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:C=void 0}=e,{sourceX:b}=e,{sourceY:y}=e,{sourcePosition:M}=e,{sourceHandleId:O=void 0}=e,{targetX:E}=e,{targetY:z}=e,{targetPosition:P}=e,{targetHandleId:D=void 0}=e;return t.$$set=k=>{"id"in k&&n(9,s=k.id),"source"in k&&n(10,r=k.source),"target"in k&&n(11,u=k.target),"type"in k&&n(12,a=k.type),"animated"in k&&n(13,f=k.animated),"selected"in k&&n(14,c=k.selected),"label"in k&&n(0,d=k.label),"labelStyle"in k&&n(1,h=k.labelStyle),"data"in k&&n(15,m=k.data),"style"in k&&n(2,_=k.style),"markerStart"in k&&n(3,v=k.markerStart),"markerEnd"in k&&n(4,g=k.markerEnd),"interactionWidth"in k&&n(5,C=k.interactionWidth),"sourceX"in k&&n(16,b=k.sourceX),"sourceY"in k&&n(17,y=k.sourceY),"sourcePosition"in k&&n(18,M=k.sourcePosition),"sourceHandleId"in k&&n(19,O=k.sourceHandleId),"targetX"in k&&n(20,E=k.targetX),"targetY"in k&&n(21,z=k.targetY),"targetPosition"in k&&n(22,P=k.targetPosition),"targetHandleId"in k&&n(23,D=k.targetHandleId)},t.$$.update=()=>{t.$$.dirty&3342336&&n(8,[i,o,l]=pr({sourceX:b,sourceY:y,targetX:E,targetY:z}),i,(n(7,o),n(16,b),n(17,y),n(20,E),n(21,z)),(n(6,l),n(16,b),n(17,y),n(20,E),n(21,z)))},[d,h,_,v,g,C,l,o,i,s,r,u,a,f,c,m,b,y,M,O,E,z,P,D]}class a1 extends fe{constructor(e){super(),ae(this,e,u1,s1,ce,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const f1=a1;function c1(t){let e,n;return e=new Xn({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function d1(t,e,n){let i,o,l,{id:s=""}=e,{source:r=""}=e,{target:u=""}=e,{type:a="step"}=e,{animated:f=void 0}=e,{selected:c=void 0}=e,{label:d=void 0}=e,{data:h=void 0}=e,{labelStyle:m=void 0}=e,{style:_=void 0}=e,{markerStart:v=void 0}=e,{markerEnd:g=void 0}=e,{interactionWidth:C=void 0}=e,{sourceX:b}=e,{sourceY:y}=e,{sourcePosition:M}=e,{sourceHandleId:O=void 0}=e,{targetX:E}=e,{targetY:z}=e,{targetPosition:P}=e,{targetHandleId:D=void 0}=e;return t.$$set=k=>{"id"in k&&n(9,s=k.id),"source"in k&&n(10,r=k.source),"target"in k&&n(11,u=k.target),"type"in k&&n(12,a=k.type),"animated"in k&&n(13,f=k.animated),"selected"in k&&n(14,c=k.selected),"label"in k&&n(0,d=k.label),"data"in k&&n(15,h=k.data),"labelStyle"in k&&n(1,m=k.labelStyle),"style"in k&&n(2,_=k.style),"markerStart"in k&&n(3,v=k.markerStart),"markerEnd"in k&&n(4,g=k.markerEnd),"interactionWidth"in k&&n(5,C=k.interactionWidth),"sourceX"in k&&n(16,b=k.sourceX),"sourceY"in k&&n(17,y=k.sourceY),"sourcePosition"in k&&n(18,M=k.sourcePosition),"sourceHandleId"in k&&n(19,O=k.sourceHandleId),"targetX"in k&&n(20,E=k.targetX),"targetY"in k&&n(21,z=k.targetY),"targetPosition"in k&&n(22,P=k.targetPosition),"targetHandleId"in k&&n(23,D=k.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,o,l]=ln({sourceX:b,sourceY:y,targetX:E,targetY:z,sourcePosition:M,targetPosition:P,borderRadius:0}),i,(n(7,o),n(16,b),n(17,y),n(20,E),n(21,z),n(18,M),n(22,P)),(n(6,l),n(16,b),n(17,y),n(20,E),n(21,z),n(18,M),n(22,P)))},[d,m,_,v,g,C,l,o,i,s,r,u,a,f,c,h,b,y,M,O,E,z,P,D]}class h1 extends fe{constructor(e){super(),ae(this,e,d1,c1,ce,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,data:15,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const g1=h1;function m1(t,e){const n=t.set,i=e.set,o=F(t),l=F(e);let r=o.length===0&&l.length>0?l:o;t.set(r);const u=a=>{const f=n(a);return r=f,i(r),f};t.set=e.set=u,t.update=e.update=a=>u(a(r))}function _1(t,e){const n=t.set,i=e.set;let o=F(e);t.set(o);const l=s=>{n(s),i(s),o=s};t.set=e.set=l,t.update=e.update=s=>l(s(o))}const y1=(t,e,n)=>{if(!n)return;const i=F(t),o=e.set,l=n.set;let s=n?F(n):{x:0,y:0,zoom:1};e.set(s),e.set=r=>(o(r),l(r),s=r,r),n.set=r=>(i==null||i.syncViewport(r),o(r),l(r),s=r,r),e.update=r=>{e.set(r(s))},n.update=r=>{n.set(r(s))}},b1=(t,e)=>{const{subscribe:n,set:i,update:o}=re([]);let l=t,s={},r=!0;const u=d=>(l=Ir(d,e,{elevateNodesOnSelect:r,defaults:s}),i(l),l),a=d=>u(d(l)),f=d=>{s=d},c=d=>{r=d.elevateNodesOnSelect??r};return u(l),{subscribe:n,set:u,update:a,setDefaultOptions:f,setOptions:c}},w1=(t,e,n,i)=>{const{subscribe:o,set:l,update:s}=re([]);let r=t,u=i||{};const a=d=>{const h=u?d.map(m=>({...u,...m})):d;Xr(e,n,h),r=h,l(r)},f=d=>a(d(r)),c=d=>{u=d};return a(r),{subscribe:o,set:a,update:f,setDefaultOptions:c}},Ur={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},k1={[we.Left]:we.Right,[we.Right]:we.Left,[we.Top]:we.Bottom,[we.Bottom]:we.Top};function S1(t,e){return $t([e,t.connectionLineType,t.connectionMode,t.nodeLookup,t.viewport],([n,i,o,l,s])=>{var M,O,E,z,P,D,k,A,N,S,p,T,Y;if(!((M=n.connectionStartHandle)!=null&&M.nodeId))return Ur;const r=l.get((O=n.connectionStartHandle)==null?void 0:O.nodeId),u=(E=r==null?void 0:r[Ae])==null?void 0:E.handleBounds,a=(u==null?void 0:u[n.connectionStartHandle.type||"source"])||[],f=a||(u==null?void 0:u[((z=n==null?void 0:n.connectionStartHandle)==null?void 0:z.type)==="source"?"target":"source"]),c=o===Ht.Strict?a:f,d=(P=n.connectionStartHandle)!=null&&P.handleId?c==null?void 0:c.find(X=>{var R;return X.id===((R=n.connectionStartHandle)==null?void 0:R.handleId)}):c==null?void 0:c[0],h=d?d.x+d.width/2:(((D=r==null?void 0:r.computed)==null?void 0:D.width)??0)/2,m=d?d.y+d.height/2:((k=r==null?void 0:r.computed)==null?void 0:k.height)??0,_=(((N=(A=r==null?void 0:r.computed)==null?void 0:A.positionAbsolute)==null?void 0:N.x)??0)+h,v=(((p=(S=r==null?void 0:r.computed)==null?void 0:S.positionAbsolute)==null?void 0:p.y)??0)+m,g=d==null?void 0:d.position,C=g?k1[g]:void 0,b={sourceX:_,sourceY:v,sourcePosition:g,targetX:((((T=n.connectionPosition)==null?void 0:T.x)??0)-s.x)/s.zoom,targetY:((((Y=n.connectionPosition)==null?void 0:Y.y)??0)-s.y)/s.zoom,targetPosition:C};let y="";return i===Jt.Bezier?[y]=Tr(b):i===Jt.Step?[y]=ln({...b,borderRadius:0}):i===Jt.SmoothStep?[y]=ln(b):[y]=pr(b),{path:y,...b,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const Gr={input:Td,output:Dd,default:Fr,group:Yd},Jr={straight:f1,smoothstep:r1,default:Zr,step:g1},v1=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o})=>{const l=new Map,s=Ir(t,l,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),r=new Map,u=new Map;Xr(r,u,e);let a={x:0,y:0,zoom:1};if(o&&n&&i){const f=s.filter(d=>d.width&&d.height||d.initialWidth&&d.initialHeight),c=In(f,{nodeOrigin:[0,0]});a=ao(c,n,i,.5,2,.1)}return{flowId:re(null),nodes:b1(s,l),nodeLookup:xe(l),edgeLookup:xe(u),visibleNodes:xe([]),edges:w1(e,r,u),visibleEdges:xe([]),connectionLookup:xe(r),height:re(500),width:re(500),minZoom:re(.5),maxZoom:re(2),nodeOrigin:re([0,0]),nodeDragThreshold:re(1),nodeExtent:re(po),translateExtent:re(po),autoPanOnNodeDrag:re(!0),autoPanOnConnect:re(!0),fitViewOnInit:re(!1),fitViewOnInitDone:re(!1),fitViewOptions:re(void 0),panZoom:re(null),snapGrid:re(null),dragging:re(!1),selectionRect:re(null),selectionKeyPressed:re(!1),multiselectionKeyPressed:re(!1),deleteKeyPressed:re(!1),panActivationKeyPressed:re(!1),zoomActivationKeyPressed:re(!1),selectionRectMode:re(null),selectionMode:re(ui.Partial),nodeTypes:re(Gr),edgeTypes:re(Jr),viewport:re(a),connectionMode:re(Ht.Strict),domNode:re(null),connection:xe(Ur),connectionLineType:re(Jt.Bezier),connectionRadius:re(20),isValidConnection:re(()=>!0),nodesDraggable:re(!0),nodesConnectable:re(!0),elementsSelectable:re(!0),selectNodesOnDrag:re(!0),markers:xe([]),defaultMarkerColor:re("#b1b1b7"),lib:xe("svelte"),onlyRenderVisibleElements:re(!1),onerror:re(pc),ondelete:re(void 0),onedgecreate:re(void 0),onconnect:re(void 0),onconnectstart:re(void 0),onconnectend:re(void 0),onbeforedelete:re(void 0),nodesInitialized:re(!1),edgesInitialized:re(!1),viewportInitialized:re(!1),initialized:xe(!1)}};function C1(t){const e=$t([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,l,s,r])=>o&&s&&r?n.filter(a=>{const f=i.get(a.source),c=i.get(a.target);return f&&c&&Rc({sourceNode:f,targetNode:c,width:s,height:r,transform:[l.x,l.y,l.zoom]})}):n);return $t([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,l])=>n.reduce((r,u)=>{const a=i.get(u.source),f=i.get(u.target);if(!a||!f)return r;const c=Uc({id:u.id,sourceNode:a,targetNode:f,sourceHandle:u.sourceHandle||null,targetHandle:u.targetHandle||null,connectionMode:o,onError:l});return c&&r.push({...u,zIndex:Vc({selected:u.selected,zIndex:u.zIndex,sourceNode:a,targetNode:f,elevateOnSelect:!1}),...c}),r},[]))}function E1(t){return $t([t.nodes,t.onlyRenderVisibleElements,t.width,t.height,t.viewport],([e,n,i,o,l])=>{const s=[l.x,l.y,l.zoom];return n?Mr(e,{x:0,y:0,width:i,height:o},s,!0):e})}const Si=Symbol();function Qr({nodes:t,edges:e,width:n,height:i,fitView:o}){const l=v1({nodes:t,edges:e,width:n,height:i,fitView:o});function s(N){l.nodeTypes.set({...Gr,...N})}function r(N){l.edgeTypes.set({...Jr,...N})}function u(N){const S=F(l.edges);l.edges.set(Kc(N,S))}const a=(N,S=!1)=>{const p=F(l.nodeLookup);N.forEach(T=>{var X;const Y=p.get(T.id);Y&&(Y.position=T.position,Y.dragging=S,Y.computed={...Y.computed,positionAbsolute:(X=T.computed)==null?void 0:X.positionAbsolute})}),l.nodes.set(F(l.nodes))};function f(N){const S=Qc(N,F(l.nodes),F(l.nodeLookup),F(l.domNode),F(l.nodeOrigin));if(S){if(!F(l.fitViewOnInitDone)&&F(l.fitViewOnInit)){const p=F(l.fitViewOptions),T=c(S,{...p,nodes:(p==null?void 0:p.nodes)||S});l.fitViewOnInitDone.set(T)}l.nodes.set(S),F(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function c(N,S){const p=F(l.panZoom);return p?Hc({nodes:N,width:F(l.width),height:F(l.height),minZoom:F(l.minZoom),maxZoom:F(l.maxZoom),panZoom:p,nodeOrigin:F(l.nodeOrigin)},S):!1}function d(N,S){const p=F(l.panZoom);p&&p.scaleBy(N,S)}function h(N){d(1.2,N)}function m(N){d(1/1.2,N)}function _(N){const S=F(l.panZoom);S&&(S.setScaleExtent([N,F(l.maxZoom)]),l.minZoom.set(N))}function v(N){const S=F(l.panZoom);S&&(S.setScaleExtent([F(l.minZoom),N]),l.maxZoom.set(N))}function g(N){const S=F(l.panZoom);S&&(S.setTranslateExtent(N),l.translateExtent.set(N))}function C(N){let S=!1;return N.forEach(p=>{p.selected&&(p.selected=!1,S=!0)}),S}function b(N){C((N==null?void 0:N.nodes)||F(l.nodes))&&l.nodes.set(F(l.nodes)),C((N==null?void 0:N.edges)||F(l.edges))&&l.edges.set(F(l.edges))}l.deleteKeyPressed.subscribe(async N=>{var S;if(N){const p=F(l.nodes),T=F(l.edges),Y=p.filter(Q=>Q.selected),X=T.filter(Q=>Q.selected),{nodes:R,edges:U}=await zr({nodesToRemove:Y,edgesToRemove:X,nodes:p,edges:T,onBeforeDelete:F(l.onbeforedelete)});(R.length||U.length)&&(l.nodes.update(Q=>Q.filter(V=>!R.some(ne=>ne.id===V.id))),l.edges.update(Q=>Q.filter(V=>!U.some(ne=>ne.id===V.id))),(S=F(l.ondelete))==null||S({nodes:R,edges:U}))}});function y(N){const S=F(l.multiselectionKeyPressed);l.nodes.update(p=>p.map(T=>{const Y=N.includes(T.id),X=S&&T.selected||Y;return T.selected=X,T})),S||l.edges.update(p=>p.map(T=>(T.selected=!1,T)))}function M(N){const S=F(l.multiselectionKeyPressed);l.edges.update(p=>p.map(T=>{const Y=N.includes(T.id),X=S&&T.selected||Y;return T.selected=X,T})),S||l.nodes.update(p=>p.map(T=>(T.selected=!1,T)))}function O(N){var p;const S=(p=F(l.nodes))==null?void 0:p.find(T=>T.id===N);if(!S){console.warn("012",pn.error012(N));return}l.selectionRect.set(null),l.selectionRectMode.set(null),S.selected?S.selected&&F(l.multiselectionKeyPressed)&&b({nodes:[S],edges:[]}):y([N])}function E(N){const S=F(l.viewport);return jc({delta:N,panZoom:F(l.panZoom),transform:[S.x,S.y,S.zoom],translateExtent:F(l.translateExtent),width:F(l.width),height:F(l.height)})}const z={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},P=re(z),D=N=>{P.set(N)};function k(){D(z)}function A(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),l.nodes.set([]),l.edges.set([]),b(),k()}return{...l,connection:S1(l,P),visibleEdges:C1(l),visibleNodes:E1(l),markers:$t([l.edges,l.defaultMarkerColor,l.flowId],([N,S,p])=>Gc(N,{defaultColor:S,id:p})),initialized:(()=>{let N=!1;const S=F(l.nodes).length,p=F(l.edges).length;return $t([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([T,Y,X])=>N||(S===0?N=X:p===0?N=X&&T:N=X&&T&&Y,N))})(),syncNodeStores:N=>m1(l.nodes,N),syncEdgeStores:N=>_1(l.edges,N),syncViewport:N=>y1(l.panZoom,l.viewport,N),setNodeTypes:s,setEdgeTypes:r,addEdge:u,updateNodePositions:a,updateNodeDimensions:f,zoomIn:h,zoomOut:m,fitView:N=>c(F(l.nodes),N),setMinZoom:_,setMaxZoom:v,setTranslateExtent:g,unselectNodesAndEdges:b,addSelectedNodes:y,addSelectedEdges:M,handleNodeSelection:O,panBy:E,updateConnection:D,cancelConnection:k,reset:A}}function ze(){const t=Sn(Si);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function M1({nodes:t,edges:e,width:n,height:i,fitView:o}){const l=Qr({nodes:t,edges:e,width:n,height:i,fitView:o});return kn(Si,{getStore:()=>l}),l}function z1(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:l,viewport:s,dragging:r,translateExtent:u}=e,a=hd({domNode:t,minZoom:i,maxZoom:o,translateExtent:u,viewport:l,onTransformChange:c=>s.set({x:c[0],y:c[1],zoom:c[2]}),onDraggingChange:r.set}),f=a.getViewport();return s.set(f),n.set(a),a.update(e),{update(c){a.update(c)}}}function P1(t){let e,n,i,o,l;const s=t[33].default,r=De(s,t,t[32],null);return{c(){e=_e("div"),r&&r.c(),w(e,"class","svelte-flow__zoom svelte-4xkw84")},m(u,a){K(u,e,a),r&&r.m(e,null),i=!0,o||(l=Ke(n=z1.call(null,e,{viewport:t[17],minZoom:t[11],maxZoom:t[12],initialViewport:t[10],dragging:t[22],panZoom:t[18],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[8],panOnDrag:t[9],panOnScrollSpeed:.5,panOnScrollMode:t[3]||ut.Free,zoomActivationKeyPressed:t[13],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:t[14],translateExtent:t[15],lib:t[16]})),o=!0)},p(u,a){r&&r.p&&(!i||a[1]&2)&&Le(r,s,u,u[32],i?Xe(s,u[32],a,null):Ye(u[32]),null),n&&Ne(n.update)&&a[0]&131071&&n.update.call(null,{viewport:u[17],minZoom:u[11],maxZoom:u[12],initialViewport:u[10],dragging:u[22],panZoom:u[18],onPanZoomStart:u[0],onPanZoom:u[1],onPanZoomEnd:u[2],zoomOnScroll:u[5],zoomOnDoubleClick:u[6],zoomOnPinch:u[7],panOnScroll:u[8],panOnDrag:u[9],panOnScrollSpeed:.5,panOnScrollMode:u[3]||ut.Free,zoomActivationKeyPressed:u[13],preventScrolling:typeof u[4]=="boolean"?u[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:u[14],translateExtent:u[15],lib:u[16]})},i(u){i||(L(r,u),i=!0)},o(u){W(r,u),i=!1},d(u){u&&B(e),r&&r.d(u),o=!1,l()}}}function H1(t,e,n){let i,o,l,s,r,u,a,f,c,d,h,{$$slots:m={},$$scope:_}=e,{initialViewport:v}=e,{onMoveStart:g=void 0}=e,{onMove:C=void 0}=e,{onMoveEnd:b=void 0}=e,{panOnScrollMode:y}=e,{preventScrolling:M}=e,{zoomOnScroll:O}=e,{zoomOnDoubleClick:E}=e,{zoomOnPinch:z}=e,{panOnDrag:P}=e,{panOnScroll:D}=e;const{viewport:k,panZoom:A,selectionKeyPressed:N,minZoom:S,maxZoom:p,dragging:T,translateExtent:Y,lib:X,panActivationKeyPressed:R,zoomActivationKeyPressed:U,viewportInitialized:Q}=ze();return J(t,N,V=>n(14,c=V)),J(t,S,V=>n(11,u=V)),J(t,p,V=>n(12,a=V)),J(t,Y,V=>n(15,d=V)),J(t,X,V=>n(16,h=V)),J(t,R,V=>n(31,r=V)),J(t,U,V=>n(13,f=V)),J(t,Q,V=>n(34,s=V)),An(()=>{nt(Q,s=!0,s)}),t.$$set=V=>{"initialViewport"in V&&n(28,v=V.initialViewport),"onMoveStart"in V&&n(0,g=V.onMoveStart),"onMove"in V&&n(1,C=V.onMove),"onMoveEnd"in V&&n(2,b=V.onMoveEnd),"panOnScrollMode"in V&&n(3,y=V.panOnScrollMode),"preventScrolling"in V&&n(4,M=V.preventScrolling),"zoomOnScroll"in V&&n(5,O=V.zoomOnScroll),"zoomOnDoubleClick"in V&&n(6,E=V.zoomOnDoubleClick),"zoomOnPinch"in V&&n(7,z=V.zoomOnPinch),"panOnDrag"in V&&n(29,P=V.panOnDrag),"panOnScroll"in V&&n(30,D=V.panOnScroll),"$$scope"in V&&n(32,_=V.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&268435456&&n(10,i=v||{x:0,y:0,zoom:1}),t.$$.dirty[0]&536870912|t.$$.dirty[1]&1&&n(9,o=r||P),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(8,l=r||D)},[g,C,b,y,M,O,E,z,l,o,i,u,a,f,c,d,h,k,A,N,S,p,T,Y,X,R,U,Q,v,P,D,r,_,m]}class N1 extends fe{constructor(e){super(),ae(this,e,H1,P1,ce,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}const A1=N1;function T1(t){let e,n,i,o;const l=t[29].default,s=De(l,t,t[28],null);return{c(){e=_e("div"),s&&s.c(),w(e,"class","svelte-flow__pane svelte-1esy7hx"),ye(e,"draggable",t[0]),ye(e,"dragging",t[4]),ye(e,"selection",t[1])},m(r,u){K(r,e,u),s&&s.m(e,null),t[30](e),n=!0,i||(o=[he(e,"click",function(){Ne(t[3]?void 0:Un(t[15],t[2]))&&(t[3]?void 0:Un(t[15],t[2])).apply(this,arguments)}),he(e,"mousedown",function(){Ne(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),he(e,"mousemove",function(){Ne(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),he(e,"mouseup",function(){Ne(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),he(e,"mouseleave",function(){Ne(t[3]?t[19]:void 0)&&(t[3]?t[19]:void 0).apply(this,arguments)}),he(e,"contextmenu",function(){Ne(Un(t[20],t[2]))&&Un(t[20],t[2]).apply(this,arguments)})],i=!0)},p(r,u){t=r,s&&s.p&&(!n||u[0]&268435456)&&Le(s,l,t,t[28],n?Xe(l,t[28],u,null):Ye(t[28]),null),(!n||u[0]&1)&&ye(e,"draggable",t[0]),(!n||u[0]&16)&&ye(e,"dragging",t[4]),(!n||u[0]&2)&&ye(e,"selection",t[1])},i(r){n||(L(s,r),n=!0)},o(r){W(s,r),n=!1},d(r){r&&B(e),s&&s.d(r),t[30](null),i=!1,Oe(o)}}}function Un(t,e){return n=>{n.target===e&&(t==null||t(n))}}function xo(t){return e=>{const n=t.includes(e.id);return e.selected!==n?{...e,selected:n}:e}}function O1(t,e,n){let i,o,l,s,r,u,a,f,c,d,h,m,_,{$$slots:v={},$$scope:g}=e,{panOnDrag:C=void 0}=e,{selectionOnDrag:b=void 0}=e;const y=hi(),{nodes:M,edges:O,viewport:E,dragging:z,elementsSelectable:P,selectionRect:D,selectionRectMode:k,selectionKeyPressed:A,selectionMode:N,panActivationKeyPressed:S,unselectNodesAndEdges:p}=ze();J(t,M,H=>n(36,f=H)),J(t,O,H=>n(33,r=H)),J(t,E,H=>n(35,a=H)),J(t,z,H=>n(4,_=H)),J(t,P,H=>n(25,d=H)),J(t,D,H=>n(24,c=H)),J(t,k,H=>n(23,s=H)),J(t,A,H=>n(26,h=H)),J(t,N,H=>n(34,u=H)),J(t,S,H=>n(27,m=H));let T,Y=null,X=[];function R(H){y("paneclick",{event:H}),p(),k.set(null)}function U(H){if(Y=T.getBoundingClientRect(),!P||!o||H.button!==0||H.target!==T||!Y)return;const{x:j,y:ie}=yt(H,Y);p(),D.set({width:0,height:0,startX:j,startY:ie,x:j,y:ie})}function Q(H){if(!o||!Y||!c)return;const j=yt(H,Y),ie=c.startX??0,q=c.startY??0,Z={...c,x:j.x<ie?j.x:ie,y:j.y<q?j.y:q,width:Math.abs(j.x-ie),height:Math.abs(j.y-q)},ke=X.map(He=>He.id),Pe=Ui(X,r).map(He=>He.id);X=Mr(f,Z,[a.x,a.y,a.zoom],u===ui.Partial,!0);const Ce=Ui(X,r).map(He=>He.id),Re=X.map(He=>He.id);(ke.length!==Re.length||Re.some(He=>!ke.includes(He)))&&M.update(He=>He.map(xo(Re))),(Pe.length!==Ce.length||Ce.some(He=>!Pe.includes(He)))&&O.update(He=>He.map(xo(Ce))),k.set("user"),D.set(Z)}function V(H){H.button===0&&(!o&&s==="user"&&H.target===T&&(R==null||R(H)),D.set(null),X.length>0&&k.set("nodes"))}const ne=()=>{s==="user"&&k.set(X.length>0?"nodes":null),D.set(null)},le=H=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){H.preventDefault();return}y("panecontextmenu",{event:H})};function ge(H){at[H?"unshift":"push"](()=>{T=H,n(2,T)})}return t.$$set=H=>{"panOnDrag"in H&&n(0,C=H.panOnDrag),"selectionOnDrag"in H&&n(21,b=H.selectionOnDrag),"$$scope"in H&&n(28,g=H.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217729&&n(22,i=m||C),t.$$.dirty[0]&90177536&&n(1,o=h||c||b&&i!==!0),t.$$.dirty[0]&41943042&&n(3,l=d&&(o||s==="user"))},[C,o,T,l,_,M,O,E,z,P,D,k,A,N,S,R,U,Q,V,ne,le,b,i,s,c,d,h,m,g,v,ge]}class p1 extends fe{constructor(e){super(),ae(this,e,O1,T1,ce,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}const I1=p1;function D1(t){let e,n;const i=t[3].default,o=De(i,t,t[2],null);return{c(){e=_e("div"),o&&o.c(),w(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),me(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(l,s){K(l,e,s),o&&o.m(e,null),n=!0},p(l,[s]){o&&o.p&&(!n||s&4)&&Le(o,i,l,l[2],n?Xe(i,l[2],s,null):Ye(l[2]),null),(!n||s&1)&&me(e,"transform","translate("+l[0].x+"px, "+l[0].y+"px) scale("+l[0].zoom+")")},i(l){n||(L(o,l),n=!0)},o(l){W(o,l),n=!1},d(l){l&&B(e),o&&o.d(l)}}}function X1(t,e,n){let i,{$$slots:o={},$$scope:l}=e;const{viewport:s}=ze();return J(t,s,r=>n(0,i=r)),t.$$set=r=>{"$$scope"in r&&n(2,l=r.$$scope)},[i,s,l,o]}class L1 extends fe{constructor(e){super(),ae(this,e,X1,D1,ce,{})}}function jr(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:s}=e,r=$c({onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:s,getStoreItems:()=>{const a=F(n.snapGrid),f=F(n.viewport);return{nodes:F(n.nodes),nodeLookup:F(n.nodeLookup),edges:F(n.edges),nodeExtent:F(n.nodeExtent),snapGrid:a||[0,0],snapToGrid:!!a,nodeOrigin:[0,0],multiSelectionActive:F(n.multiselectionKeyPressed),domNode:F(n.domNode),transform:[f.x,f.y,f.zoom],autoPanOnNodeDrag:F(n.autoPanOnNodeDrag),nodesDraggable:F(n.nodesDraggable),selectNodesOnDrag:F(n.selectNodesOnDrag),nodeDragThreshold:F(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function u(a,f){if(f.disabled){r.destroy();return}r.update({domNode:a,noDragClassName:f.noDragClass,handleSelector:f.handleSelector,nodeId:f.nodeId,isSelectable:f.isSelectable})}return u(t,e),{update(a){u(t,a)},destroy(){r.destroy()}}}function Y1({width:t,height:e,initialWidth:n,initialHeight:i,computedWidth:o,computedHeight:l}){if(o===void 0&&l===void 0){const s=t??n,r=e??i;return{width:s?`width:${s}px;`:"",height:r?`height:${r}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function $o(t){let e,n,i,o,l,s=`translate(${t[13]}px, ${t[14]}px)`,r,u,a;var f=t[26];function c(d,h){return{props:{data:d[2],id:d[1],selected:d[3],sourcePosition:d[15],targetPosition:d[16],zIndex:d[17],dragging:d[8],dragHandle:d[20],type:d[24],isConnectable:d[27],positionAbsoluteX:d[11],positionAbsoluteY:d[12],width:d[18],height:d[19]}}}return f&&(n=ei(f,c(t))),{c(){e=_e("div"),n&&te(n.$$.fragment),w(e,"data-id",t[1]),w(e,"class",i=Se(["svelte-flow__node",`svelte-flow__node-${t[24]}`,t[22]])),w(e,"style",o=(t[9]??"")+";"+t[25].width+t[25].height),ye(e,"dragging",t[8]),ye(e,"selected",t[3]),ye(e,"draggable",t[4]),ye(e,"connectable",t[6]),ye(e,"selectable",t[5]),ye(e,"nopan",t[4]),ye(e,"parent",t[10]),me(e,"z-index",t[17]),me(e,"transform",s),me(e,"visibility",t[21]?"visible":"hidden")},m(d,h){K(d,e,h),n&&$(n,e,null),t[49](e),r=!0,u||(a=[Ke(l=jr.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[20],noDragClass:"nodrag",onNodeMouseDown:t[30],onDrag:t[46],onDragStart:t[47],onDragStop:t[48],store:t[28]})),he(e,"click",t[33]),he(e,"mouseenter",t[50]),he(e,"mouseleave",t[51]),he(e,"mousemove",t[52]),he(e,"contextmenu",t[53])],u=!0)},p(d,h){if(h[0]&67108864&&f!==(f=d[26])){if(n){Ee();const _=n;W(_.$$.fragment,1,0,()=>{ee(_,1)}),Me()}f?(n=ei(f,c(d)),te(n.$$.fragment),L(n.$$.fragment,1),$(n,e,null)):n=null}else if(f){const _={};h[0]&4&&(_.data=d[2]),h[0]&2&&(_.id=d[1]),h[0]&8&&(_.selected=d[3]),h[0]&32768&&(_.sourcePosition=d[15]),h[0]&65536&&(_.targetPosition=d[16]),h[0]&131072&&(_.zIndex=d[17]),h[0]&256&&(_.dragging=d[8]),h[0]&1048576&&(_.dragHandle=d[20]),h[0]&16777216&&(_.type=d[24]),h[0]&134217728&&(_.isConnectable=d[27]),h[0]&2048&&(_.positionAbsoluteX=d[11]),h[0]&4096&&(_.positionAbsoluteY=d[12]),h[0]&262144&&(_.width=d[18]),h[0]&524288&&(_.height=d[19]),n.$set(_)}(!r||h[0]&2)&&w(e,"data-id",d[1]),(!r||h[0]&20971520&&i!==(i=Se(["svelte-flow__node",`svelte-flow__node-${d[24]}`,d[22]])))&&w(e,"class",i),(!r||h[0]&33554944&&o!==(o=(d[9]??"")+";"+d[25].width+d[25].height))&&w(e,"style",o),l&&Ne(l.update)&&h[0]&1048610&&l.update.call(null,{nodeId:d[1],isSelectable:d[5],disabled:!1,handleSelector:d[20],noDragClass:"nodrag",onNodeMouseDown:d[30],onDrag:d[46],onDragStart:d[47],onDragStop:d[48],store:d[28]}),(!r||h[0]&20971776)&&ye(e,"dragging",d[8]),(!r||h[0]&20971528)&&ye(e,"selected",d[3]),(!r||h[0]&20971536)&&ye(e,"draggable",d[4]),(!r||h[0]&20971584)&&ye(e,"connectable",d[6]),(!r||h[0]&20971552)&&ye(e,"selectable",d[5]),(!r||h[0]&20971536)&&ye(e,"nopan",d[4]),(!r||h[0]&20972544)&&ye(e,"parent",d[10]);const m=h[0]&33554944;(h[0]&33686016||m)&&me(e,"z-index",d[17]),(h[0]&33579520&&s!==(s=`translate(${d[13]}px, ${d[14]}px)`)||m)&&me(e,"transform",s),(h[0]&35652096||m)&&me(e,"visibility",d[21]?"visible":"hidden")},i(d){r||(n&&L(n.$$.fragment,d),r=!0)},o(d){n&&W(n.$$.fragment,d),r=!1},d(d){d&&B(e),n&&ee(n),t[49](null),u=!1,Oe(a)}}}function V1(t){let e,n,i=!t[7]&&$o(t);return{c(){i&&i.c(),e=Te()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,l){o[7]?i&&(Ee(),W(i,1,1,()=>{i=null}),Me()):i?(i.p(o,l),l[0]&128&&L(i,1)):(i=$o(o),i.c(),L(i,1),i.m(e.parentNode,e))},i(o){n||(L(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function R1(t,e,n){let i,o,l,s,r,u,{node:a}=e,{id:f}=e,{data:c={}}=e,{selected:d=!1}=e,{draggable:h=void 0}=e,{selectable:m=void 0}=e,{connectable:_=!0}=e,{hidden:v=!1}=e,{dragging:g=!1}=e,{resizeObserver:C=null}=e,{style:b=void 0}=e,{type:y="default"}=e,{isParent:M=!1}=e,{positionX:O}=e,{positionY:E}=e,{positionOriginX:z}=e,{positionOriginY:P}=e,{sourcePosition:D=void 0}=e,{targetPosition:k=void 0}=e,{zIndex:A}=e,{computedWidth:N=void 0}=e,{computedHeight:S=void 0}=e,{initialWidth:p=void 0}=e,{initialHeight:T=void 0}=e,{width:Y=void 0}=e,{height:X=void 0}=e,{dragHandle:R=void 0}=e,{initialized:U=!1}=e,{class:Q=""}=e;const V=ze(),{nodeTypes:ne,nodeDragThreshold:le,selectNodesOnDrag:ge,handleNodeSelection:H,updateNodeDimensions:j}=V;J(t,ne,G=>n(45,r=G));let ie,q=null;const Z=es(),ke=re(_);J(t,ke,G=>n(27,u=G));let Pe,Ce,Re;kn("svelteflow__node_id",f),kn("svelteflow__node_connectable",ke),$i(()=>{q&&(C==null||C.unobserve(q))});function He(G){m&&(!F(ge)||!h||F(le)>0)&&H(f),Z("nodeclick",{node:a,event:G})}const ct=(G,je,We,x)=>{Z("nodedrag",{event:G,targetNode:We,nodes:x})},dt=(G,je,We,x)=>{Z("nodedragstart",{event:G,targetNode:We,nodes:x})},ot=(G,je,We,x)=>{Z("nodedragstop",{event:G,targetNode:We,nodes:x})};function lt(G){at[G?"unshift":"push"](()=>{ie=G,n(23,ie)})}const oe=G=>Z("nodemouseenter",{node:a,event:G}),St=G=>Z("nodemouseleave",{node:a,event:G}),vt=G=>Z("nodemousemove",{node:a,event:G}),Nt=G=>Z("nodecontextmenu",{node:a,event:G});return t.$$set=G=>{"node"in G&&n(0,a=G.node),"id"in G&&n(1,f=G.id),"data"in G&&n(2,c=G.data),"selected"in G&&n(3,d=G.selected),"draggable"in G&&n(4,h=G.draggable),"selectable"in G&&n(5,m=G.selectable),"connectable"in G&&n(6,_=G.connectable),"hidden"in G&&n(7,v=G.hidden),"dragging"in G&&n(8,g=G.dragging),"resizeObserver"in G&&n(34,C=G.resizeObserver),"style"in G&&n(9,b=G.style),"type"in G&&n(35,y=G.type),"isParent"in G&&n(10,M=G.isParent),"positionX"in G&&n(11,O=G.positionX),"positionY"in G&&n(12,E=G.positionY),"positionOriginX"in G&&n(13,z=G.positionOriginX),"positionOriginY"in G&&n(14,P=G.positionOriginY),"sourcePosition"in G&&n(15,D=G.sourcePosition),"targetPosition"in G&&n(16,k=G.targetPosition),"zIndex"in G&&n(17,A=G.zIndex),"computedWidth"in G&&n(36,N=G.computedWidth),"computedHeight"in G&&n(37,S=G.computedHeight),"initialWidth"in G&&n(38,p=G.initialWidth),"initialHeight"in G&&n(39,T=G.initialHeight),"width"in G&&n(18,Y=G.width),"height"in G&&n(19,X=G.height),"dragHandle"in G&&n(20,R=G.dragHandle),"initialized"in G&&n(21,U=G.initialized),"class"in G&&n(22,Q=G.class)},t.$$.update=()=>{t.$$.dirty[1]&16&&n(24,i=y||"default"),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(44,o=!!r[i]),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(26,l=r[i]||Fr),t.$$.dirty[1]&8208&&(o||console.warn("003",pn.error003(y))),t.$$.dirty[0]&786432|t.$$.dirty[1]&480&&n(25,s=Y1({width:Y,height:X,initialWidth:p,initialHeight:T,computedWidth:N,computedHeight:S})),t.$$.dirty[0]&64&&ke.set(!!_),t.$$.dirty[0]&25264130|t.$$.dirty[1]&7168&&((Pe&&i!==Pe||Ce&&D!==Ce||Re&&k!==Re)&&requestAnimationFrame(()=>j(new Map([[f,{id:f,nodeElement:ie,forceUpdate:!0}]]))),n(41,Pe=i),n(42,Ce=D),n(43,Re=k)),t.$$.dirty[0]&8388608|t.$$.dirty[1]&520&&C&&ie!==q&&(q&&C.unobserve(q),ie&&C.observe(ie),n(40,q=ie))},[a,f,c,d,h,m,_,v,g,b,M,O,E,z,P,D,k,A,Y,X,R,U,Q,ie,i,s,l,u,V,ne,H,Z,ke,He,C,y,N,S,p,T,q,Pe,Ce,Re,o,r,ct,dt,ot,lt,oe,St,vt,Nt]}class W1 extends fe{constructor(e){super(),ae(this,e,R1,V1,Zl,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:34,style:9,type:35,isParent:10,positionX:11,positionY:12,positionOriginX:13,positionOriginY:14,sourcePosition:15,targetPosition:16,zIndex:17,computedWidth:36,computedHeight:37,initialWidth:38,initialHeight:39,width:18,height:19,dragHandle:20,initialized:21,class:22},null,[-1,-1])}}const B1=W1,{Map:K1}=Is;function el(t,e,n){var s,r,u,a;const i=t.slice();i[18]=e[n];const o=Dn(i[18]);i[19]=o;const l=Ic({x:((r=(s=i[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:r.x)??0,y:((a=(u=i[18].computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y)??0,...i[19],origin:i[18].origin});return i[20]=l,i}function tl(t,e){var l,s,r,u,a,f,c,d;let n,i,o;return i=new B1({props:{node:e[18],id:e[18].id,data:e[18].data,selected:!!e[18].selected,hidden:!!e[18].hidden,draggable:!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u"),selectable:!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u"),connectable:!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u"),positionX:((s=(l=e[18].computed)==null?void 0:l.positionAbsolute)==null?void 0:s.x)??0,positionY:((u=(r=e[18].computed)==null?void 0:r.positionAbsolute)==null?void 0:u.y)??0,positionOriginX:e[20].x??0,positionOriginY:e[20].y??0,isParent:!!((a=e[18][Ae])!=null&&a.isParent),style:e[18].style,class:e[18].class,type:e[18].type??"default",sourcePosition:e[18].sourcePosition,targetPosition:e[18].targetPosition,dragging:e[18].dragging,zIndex:((f=e[18][Ae])==null?void 0:f.z)??0,dragHandle:e[18].dragHandle,initialized:Pn(e[18]),width:e[18].width,height:e[18].height,initialWidth:e[18].initialWidth,initialHeight:e[18].initialHeight,computedWidth:(c=e[18].computed)==null?void 0:c.width,computedHeight:(d=e[18].computed)==null?void 0:d.height,resizeObserver:e[8]}}),i.$on("nodeclick",e[9]),i.$on("nodemouseenter",e[10]),i.$on("nodemousemove",e[11]),i.$on("nodemouseleave",e[12]),i.$on("nodedrag",e[13]),i.$on("nodedragstart",e[14]),i.$on("nodedragstop",e[15]),i.$on("nodecontextmenu",e[16]),{key:t,first:null,c(){n=Te(),te(i.$$.fragment),this.first=n},m(h,m){K(h,n,m),$(i,h,m),o=!0},p(h,m){var v,g,C,b,y,M,O,E;e=h;const _={};m&1&&(_.node=e[18]),m&1&&(_.id=e[18].id),m&1&&(_.data=e[18].data),m&1&&(_.selected=!!e[18].selected),m&1&&(_.hidden=!!e[18].hidden),m&3&&(_.draggable=!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u")),m&5&&(_.selectable=!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u")),m&9&&(_.connectable=!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u")),m&1&&(_.positionX=((g=(v=e[18].computed)==null?void 0:v.positionAbsolute)==null?void 0:g.x)??0),m&1&&(_.positionY=((b=(C=e[18].computed)==null?void 0:C.positionAbsolute)==null?void 0:b.y)??0),m&1&&(_.positionOriginX=e[20].x??0),m&1&&(_.positionOriginY=e[20].y??0),m&1&&(_.isParent=!!((y=e[18][Ae])!=null&&y.isParent)),m&1&&(_.style=e[18].style),m&1&&(_.class=e[18].class),m&1&&(_.type=e[18].type??"default"),m&1&&(_.sourcePosition=e[18].sourcePosition),m&1&&(_.targetPosition=e[18].targetPosition),m&1&&(_.dragging=e[18].dragging),m&1&&(_.zIndex=((M=e[18][Ae])==null?void 0:M.z)??0),m&1&&(_.dragHandle=e[18].dragHandle),m&1&&(_.initialized=Pn(e[18])),m&1&&(_.width=e[18].width),m&1&&(_.height=e[18].height),m&1&&(_.initialWidth=e[18].initialWidth),m&1&&(_.initialHeight=e[18].initialHeight),m&1&&(_.computedWidth=(O=e[18].computed)==null?void 0:O.width),m&1&&(_.computedHeight=(E=e[18].computed)==null?void 0:E.height),i.$set(_)},i(h){o||(L(i.$$.fragment,h),o=!0)},o(h){W(i.$$.fragment,h),o=!1},d(h){h&&B(n),ee(i,h)}}}function F1(t){let e,n=[],i=new K1,o,l=Ie(t[0]);const s=r=>r[18].id;for(let r=0;r<l.length;r+=1){let u=el(t,l,r),a=s(u);i.set(a,n[r]=tl(a,u))}return{c(){e=_e("div");for(let r=0;r<n.length;r+=1)n[r].c();w(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(r,u){K(r,e,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);o=!0},p(r,[u]){u&271&&(l=Ie(r[0]),Ee(),n=It(n,u,s,1,r,l,i,e,pt,tl,null,el),Me())},i(r){if(!o){for(let u=0;u<l.length;u+=1)L(n[u]);o=!0}},o(r){for(let u=0;u<n.length;u+=1)W(n[u]);o=!1},d(r){r&&B(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function q1(t,e,n){let i,o,l,s;const{visibleNodes:r,nodesDraggable:u,nodesConnectable:a,elementsSelectable:f,updateNodeDimensions:c}=ze();J(t,r,M=>n(0,i=M)),J(t,u,M=>n(1,o=M)),J(t,a,M=>n(3,s=M)),J(t,f,M=>n(2,l=M));const d=typeof ResizeObserver>"u"?null:new ResizeObserver(M=>{const O=new Map;M.forEach(E=>{const z=E.target.getAttribute("data-id");O.set(z,{id:z,nodeElement:E.target,forceUpdate:!0})}),c(O)});$i(()=>{d==null||d.disconnect()});function h(M){ve.call(this,t,M)}function m(M){ve.call(this,t,M)}function _(M){ve.call(this,t,M)}function v(M){ve.call(this,t,M)}function g(M){ve.call(this,t,M)}function C(M){ve.call(this,t,M)}function b(M){ve.call(this,t,M)}function y(M){ve.call(this,t,M)}return[i,o,l,s,r,u,a,f,d,h,m,_,v,g,C,b,y]}class Z1 extends fe{constructor(e){super(),ae(this,e,q1,F1,ce,{})}}function nl(t){let e,n,i,o,l,s,r,u;var a=t[26];function f(c,d){return{props:{id:c[0],source:c[1],target:c[2],sourceX:c[13],sourceY:c[14],targetX:c[15],targetY:c[16],sourcePosition:c[17],targetPosition:c[18],animated:c[6],selected:c[7],label:c[9],labelStyle:c[10],data:c[3],style:c[4],interactionWidth:c[20],type:c[22],sourceHandleId:c[11],targetHandleId:c[12],markerStart:c[25],markerEnd:c[24]}}}return a&&(i=ei(a,f(t))),{c(){e=be("svg"),n=be("g"),i&&te(i.$$.fragment),w(n,"class",o=Se(["svelte-flow__edge",t[21]])),w(n,"data-id",t[0]),w(n,"aria-label",l=t[19]===null?void 0:t[19]?t[19]:`Edge from ${t[1]} to ${t[2]}`),w(n,"role","img"),ye(n,"animated",t[6]),ye(n,"selected",t[7]),ye(n,"selectable",t[23]),me(e,"z-index",t[5])},m(c,d){K(c,e,d),ue(e,n),i&&$(i,n,null),s=!0,r||(u=[he(n,"click",t[31]),he(n,"contextmenu",t[32])],r=!0)},p(c,d){if(d[0]&67108864&&a!==(a=c[26])){if(i){Ee();const h=i;W(h.$$.fragment,1,0,()=>{ee(h,1)}),Me()}a?(i=ei(a,f(c)),te(i.$$.fragment),L(i.$$.fragment,1),$(i,n,null)):i=null}else if(a){const h={};d[0]&1&&(h.id=c[0]),d[0]&2&&(h.source=c[1]),d[0]&4&&(h.target=c[2]),d[0]&8192&&(h.sourceX=c[13]),d[0]&16384&&(h.sourceY=c[14]),d[0]&32768&&(h.targetX=c[15]),d[0]&65536&&(h.targetY=c[16]),d[0]&131072&&(h.sourcePosition=c[17]),d[0]&262144&&(h.targetPosition=c[18]),d[0]&64&&(h.animated=c[6]),d[0]&128&&(h.selected=c[7]),d[0]&512&&(h.label=c[9]),d[0]&1024&&(h.labelStyle=c[10]),d[0]&8&&(h.data=c[3]),d[0]&16&&(h.style=c[4]),d[0]&1048576&&(h.interactionWidth=c[20]),d[0]&4194304&&(h.type=c[22]),d[0]&2048&&(h.sourceHandleId=c[11]),d[0]&4096&&(h.targetHandleId=c[12]),d[0]&33554432&&(h.markerStart=c[25]),d[0]&16777216&&(h.markerEnd=c[24]),i.$set(h)}(!s||d[0]&2097152&&o!==(o=Se(["svelte-flow__edge",c[21]])))&&w(n,"class",o),(!s||d[0]&1)&&w(n,"data-id",c[0]),(!s||d[0]&524294&&l!==(l=c[19]===null?void 0:c[19]?c[19]:`Edge from ${c[1]} to ${c[2]}`))&&w(n,"aria-label",l),(!s||d[0]&2097216)&&ye(n,"animated",c[6]),(!s||d[0]&2097280)&&ye(n,"selected",c[7]),(!s||d[0]&10485760)&&ye(n,"selectable",c[23]),d[0]&32&&me(e,"z-index",c[5])},i(c){s||(i&&L(i.$$.fragment,c),s=!0)},o(c){i&&W(i.$$.fragment,c),s=!1},d(c){c&&B(e),i&&ee(i),r=!1,Oe(u)}}}function U1(t){let e,n,i=!t[8]&&nl(t);return{c(){i&&i.c(),e=Te()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,l){o[8]?i&&(Ee(),W(i,1,1,()=>{i=null}),Me()):i?(i.p(o,l),l[0]&256&&L(i,1)):(i=nl(o),i.c(),L(i,1),i.m(e.parentNode,e))},i(o){n||(L(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function G1(t,e,n){let i,o,l,s,r,u,a,f,c,{id:d}=e,{type:h="default"}=e,{source:m=""}=e,{target:_=""}=e,{data:v={}}=e,{style:g=void 0}=e,{zIndex:C=void 0}=e,{animated:b=!1}=e,{selected:y=!1}=e,{selectable:M=void 0}=e,{hidden:O=!1}=e,{label:E=void 0}=e,{labelStyle:z=void 0}=e,{markerStart:P=void 0}=e,{markerEnd:D=void 0}=e,{sourceHandle:k=void 0}=e,{targetHandle:A=void 0}=e,{sourceX:N}=e,{sourceY:S}=e,{targetX:p}=e,{targetY:T}=e,{sourcePosition:Y}=e,{targetPosition:X}=e,{ariaLabel:R=void 0}=e,{interactionWidth:U=void 0}=e,{class:Q=""}=e;kn("svelteflow__edge_id",d);const{edgeLookup:V,edgeTypes:ne,flowId:le,elementsSelectable:ge}=ze();J(t,V,Z=>n(40,u=Z)),J(t,ne,Z=>n(39,c=Z)),J(t,le,Z=>n(38,f=Z)),J(t,ge,Z=>n(37,a=Z));const H=hi(),j=qr();function ie(Z){const ke=u.get(d);ke&&(j(d),H("edgeclick",{event:Z,edge:ke}))}function q(Z){const ke=u.get(d);ke&&H("edgecontextmenu",{event:Z,edge:ke})}return t.$$set=Z=>{"id"in Z&&n(0,d=Z.id),"type"in Z&&n(33,h=Z.type),"source"in Z&&n(1,m=Z.source),"target"in Z&&n(2,_=Z.target),"data"in Z&&n(3,v=Z.data),"style"in Z&&n(4,g=Z.style),"zIndex"in Z&&n(5,C=Z.zIndex),"animated"in Z&&n(6,b=Z.animated),"selected"in Z&&n(7,y=Z.selected),"selectable"in Z&&n(34,M=Z.selectable),"hidden"in Z&&n(8,O=Z.hidden),"label"in Z&&n(9,E=Z.label),"labelStyle"in Z&&n(10,z=Z.labelStyle),"markerStart"in Z&&n(35,P=Z.markerStart),"markerEnd"in Z&&n(36,D=Z.markerEnd),"sourceHandle"in Z&&n(11,k=Z.sourceHandle),"targetHandle"in Z&&n(12,A=Z.targetHandle),"sourceX"in Z&&n(13,N=Z.sourceX),"sourceY"in Z&&n(14,S=Z.sourceY),"targetX"in Z&&n(15,p=Z.targetX),"targetY"in Z&&n(16,T=Z.targetY),"sourcePosition"in Z&&n(17,Y=Z.sourcePosition),"targetPosition"in Z&&n(18,X=Z.targetPosition),"ariaLabel"in Z&&n(19,R=Z.ariaLabel),"interactionWidth"in Z&&n(20,U=Z.interactionWidth),"class"in Z&&n(21,Q=Z.class)},t.$$.update=()=>{t.$$.dirty[1]&4&&n(22,i=h||"default"),t.$$.dirty[0]&4194304|t.$$.dirty[1]&256&&n(26,o=c[i]||Zr),t.$$.dirty[1]&144&&n(25,l=P?`url(#${Ji(P,f)})`:void 0),t.$$.dirty[1]&160&&n(24,s=D?`url(#${Ji(D,f)})`:void 0),t.$$.dirty[1]&72&&n(23,r=M||a&&typeof M>"u")},[d,m,_,v,g,C,b,y,O,E,z,k,A,N,S,p,T,Y,X,R,U,Q,i,r,s,l,o,V,ne,le,ge,ie,q,h,M,P,D,a,f,c]}class J1 extends fe{constructor(e){super(),ae(this,e,G1,U1,Zl,{id:0,type:33,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:34,hidden:8,label:9,labelStyle:10,markerStart:35,markerEnd:36,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}const Q1=J1;function j1(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return An(()=>(i==null||i(),o)),t.$$set=l=>{"onMount"in l&&n(0,i=l.onMount),"onDestroy"in l&&n(1,o=l.onDestroy)},[i,o]}class x1 extends fe{constructor(e){super(),ae(this,e,j1,null,ce,{onMount:0,onDestroy:1})}}const $1=x1;function il(t,e,n){const i=t.slice();return i[2]=e[n],i}function ol(t,e){let n,i,o;const l=[e[2]];let s={};for(let r=0;r<l.length;r+=1)s=Ve(s,l[r]);return i=new sh({props:s}),{key:t,first:null,c(){n=Te(),te(i.$$.fragment),this.first=n},m(r,u){K(r,n,u),$(i,r,u),o=!0},p(r,u){e=r;const a=u&1?wt(l,[xt(e[2])]):{};i.$set(a)},i(r){o||(L(i.$$.fragment,r),o=!0)},o(r){W(i.$$.fragment,r),o=!1},d(r){r&&B(n),ee(i,r)}}}function eh(t){let e,n=[],i=new Map,o,l=Ie(t[0]);const s=r=>r[2].id;for(let r=0;r<l.length;r+=1){let u=il(t,l,r),a=s(u);i.set(a,n[r]=ol(a,u))}return{c(){e=be("defs");for(let r=0;r<n.length;r+=1)n[r].c()},m(r,u){K(r,e,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);o=!0},p(r,[u]){u&1&&(l=Ie(r[0]),Ee(),n=It(n,u,s,1,r,l,i,e,pt,ol,null,il),Me())},i(r){if(!o){for(let u=0;u<l.length;u+=1)L(n[u]);o=!0}},o(r){for(let u=0;u<n.length;u+=1)W(n[u]);o=!1},d(r){r&&B(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function th(t,e,n){let i;const{markers:o}=ze();return J(t,o,l=>n(0,i=l)),[i,o]}class nh extends fe{constructor(e){super(),ae(this,e,th,eh,ce,{})}}function ih(t){let e;return{c(){e=be("polyline"),w(e,"stroke",t[6]),w(e,"stroke-linecap","round"),w(e,"stroke-linejoin","round"),w(e,"stroke-width",t[7]),w(e,"fill",t[6]),w(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){K(n,e,i)},p(n,i){i&64&&w(e,"stroke",n[6]),i&128&&w(e,"stroke-width",n[7]),i&64&&w(e,"fill",n[6])},d(n){n&&B(e)}}}function oh(t){let e;return{c(){e=be("polyline"),w(e,"stroke",t[6]),w(e,"stroke-linecap","round"),w(e,"stroke-linejoin","round"),w(e,"stroke-width",t[7]),w(e,"fill","none"),w(e,"points","-5,-4 0,0 -5,4")},m(n,i){K(n,e,i)},p(n,i){i&64&&w(e,"stroke",n[6]),i&128&&w(e,"stroke-width",n[7])},d(n){n&&B(e)}}}function lh(t){let e,n,i;function o(r,u){if(r[1]===nn.Arrow)return oh;if(r[1]===nn.ArrowClosed)return ih}let l=o(t),s=l&&l(t);return{c(){e=be("marker"),s&&s.c(),w(e,"class","svelte-flow__arrowhead"),w(e,"id",t[0]),w(e,"markerWidth",n=`${t[2]}`),w(e,"markerHeight",i=`${t[3]}`),w(e,"viewBox","-10 -10 20 20"),w(e,"markerUnits",t[4]),w(e,"orient",t[5]),w(e,"refX","0"),w(e,"refY","0")},m(r,u){K(r,e,u),s&&s.m(e,null)},p(r,[u]){l===(l=o(r))&&s?s.p(r,u):(s&&s.d(1),s=l&&l(r),s&&(s.c(),s.m(e,null))),u&1&&w(e,"id",r[0]),u&4&&n!==(n=`${r[2]}`)&&w(e,"markerWidth",n),u&8&&i!==(i=`${r[3]}`)&&w(e,"markerHeight",i),u&16&&w(e,"markerUnits",r[4]),u&32&&w(e,"orient",r[5])},i:se,o:se,d(r){r&&B(e),s&&s.d()}}}function rh(t,e,n){let{id:i}=e,{type:o}=e,{width:l=12.5}=e,{height:s=12.5}=e,{markerUnits:r="strokeWidth"}=e,{orient:u="auto-start-reverse"}=e,{color:a=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=c=>{"id"in c&&n(0,i=c.id),"type"in c&&n(1,o=c.type),"width"in c&&n(2,l=c.width),"height"in c&&n(3,s=c.height),"markerUnits"in c&&n(4,r=c.markerUnits),"orient"in c&&n(5,u=c.orient),"color"in c&&n(6,a=c.color),"strokeWidth"in c&&n(7,f=c.strokeWidth)},[i,o,l,s,r,u,a,f]}class sh extends fe{constructor(e){super(),ae(this,e,rh,lh,ce,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function ll(t,e,n){const i=t.slice();return i[10]=e[n],i}function rl(t,e){let n,i,o;return i=new Q1({props:{id:e[10].id,source:e[10].source,target:e[10].target,data:e[10].data,style:e[10].style,animated:e[10].animated,selected:e[10].selected,selectable:e[10].selectable,hidden:e[10].hidden,label:e[10].label,labelStyle:e[10].labelStyle,markerStart:e[10].markerStart,markerEnd:e[10].markerEnd,sourceHandle:e[10].sourceHandle,targetHandle:e[10].targetHandle,sourceX:e[10].sourceX,sourceY:e[10].sourceY,targetX:e[10].targetX,targetY:e[10].targetY,sourcePosition:e[10].sourcePosition,targetPosition:e[10].targetPosition,ariaLabel:e[10].ariaLabel,interactionWidth:e[10].interactionWidth,class:e[10].class,type:e[10].type||"default",zIndex:e[10].zIndex}}),i.$on("edgeclick",e[5]),i.$on("edgecontextmenu",e[6]),{key:t,first:null,c(){n=Te(),te(i.$$.fragment),this.first=n},m(l,s){K(l,n,s),$(i,l,s),o=!0},p(l,s){e=l;const r={};s&1&&(r.id=e[10].id),s&1&&(r.source=e[10].source),s&1&&(r.target=e[10].target),s&1&&(r.data=e[10].data),s&1&&(r.style=e[10].style),s&1&&(r.animated=e[10].animated),s&1&&(r.selected=e[10].selected),s&1&&(r.selectable=e[10].selectable),s&1&&(r.hidden=e[10].hidden),s&1&&(r.label=e[10].label),s&1&&(r.labelStyle=e[10].labelStyle),s&1&&(r.markerStart=e[10].markerStart),s&1&&(r.markerEnd=e[10].markerEnd),s&1&&(r.sourceHandle=e[10].sourceHandle),s&1&&(r.targetHandle=e[10].targetHandle),s&1&&(r.sourceX=e[10].sourceX),s&1&&(r.sourceY=e[10].sourceY),s&1&&(r.targetX=e[10].targetX),s&1&&(r.targetY=e[10].targetY),s&1&&(r.sourcePosition=e[10].sourcePosition),s&1&&(r.targetPosition=e[10].targetPosition),s&1&&(r.ariaLabel=e[10].ariaLabel),s&1&&(r.interactionWidth=e[10].interactionWidth),s&1&&(r.class=e[10].class),s&1&&(r.type=e[10].type||"default"),s&1&&(r.zIndex=e[10].zIndex),i.$set(r)},i(l){o||(L(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(n),ee(i,l)}}}function sl(t){let e,n;return e=new $1({props:{onMount:t[7],onDestroy:t[8]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&2&&(l.onMount=i[7]),o&2&&(l.onDestroy=i[8]),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function uh(t){let e,n,i,o,l=[],s=new Map,r,u;i=new nh({});let a=Ie(t[0]);const f=d=>d[10].id;for(let d=0;d<a.length;d+=1){let h=ll(t,a,d),m=f(h);s.set(m,l[d]=rl(m,h))}let c=t[0].length>0&&sl(t);return{c(){e=_e("div"),n=be("svg"),te(i.$$.fragment),o=de();for(let d=0;d<l.length;d+=1)l[d].c();r=de(),c&&c.c(),w(n,"class","svelte-flow__marker"),w(e,"class","svelte-flow__edges")},m(d,h){K(d,e,h),ue(e,n),$(i,n,null),ue(e,o);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);ue(e,r),c&&c.m(e,null),u=!0},p(d,[h]){h&1&&(a=Ie(d[0]),Ee(),l=It(l,h,f,1,d,a,s,e,pt,rl,r,ll),Me()),d[0].length>0?c?(c.p(d,h),h&1&&L(c,1)):(c=sl(d),c.c(),L(c,1),c.m(e,null)):c&&(Ee(),W(c,1,1,()=>{c=null}),Me())},i(d){if(!u){L(i.$$.fragment,d);for(let h=0;h<a.length;h+=1)L(l[h]);L(c),u=!0}},o(d){W(i.$$.fragment,d);for(let h=0;h<l.length;h+=1)W(l[h]);W(c),u=!1},d(d){d&&B(e),ee(i);for(let h=0;h<l.length;h+=1)l[h].d();c&&c.d()}}}function ah(t,e,n){let i,o,{defaultEdgeOptions:l}=e;const{visibleEdges:s,edgesInitialized:r,edges:{setDefaultOptions:u}}=ze();J(t,s,h=>n(0,i=h)),J(t,r,h=>n(1,o=h)),An(()=>{l&&u(l)});function a(h){ve.call(this,t,h)}function f(h){ve.call(this,t,h)}const c=()=>{nt(r,o=!0,o)},d=()=>{nt(r,o=!1,o)};return t.$$set=h=>{"defaultEdgeOptions"in h&&n(4,l=h.defaultEdgeOptions)},[i,o,s,r,l,a,f,c,d]}class fh extends fe{constructor(e){super(),ae(this,e,ah,uh,ce,{defaultEdgeOptions:4})}}const ch=fh;function ul(t){let e;return{c(){e=_e("div"),w(e,"class","svelte-flow__selection svelte-1iugwpu"),me(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),me(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),me(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){K(n,e,i)},p(n,i){i&4&&me(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&me(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&me(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&B(e)}}}function dh(t){let e,n=t[4]&&ul(t);return{c(){n&&n.c(),e=Te()},m(i,o){n&&n.m(i,o),K(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=ul(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:se,o:se,d(i){i&&B(e),n&&n.d(i)}}}function hh(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:l=0}=e,{height:s=0}=e,{isVisible:r=!0}=e;return t.$$set=u=>{"x"in u&&n(0,i=u.x),"y"in u&&n(1,o=u.y),"width"in u&&n(2,l=u.width),"height"in u&&n(3,s=u.height),"isVisible"in u&&n(4,r=u.isVisible)},[i,o,l,s,r]}class gh extends fe{constructor(e){super(),ae(this,e,hh,dh,ce,{x:0,y:1,width:2,height:3,isVisible:4})}}const xr=gh;function mh(t){var i,o,l,s;let e,n;return e=new xr({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(l=t[0])==null?void 0:l.x,y:(s=t[0])==null?void 0:s.y}}),{c(){te(e.$$.fragment)},m(r,u){$(e,r,u),n=!0},p(r,[u]){var f,c,d,h;const a={};u&3&&(a.isVisible=!!(r[0]&&r[1]==="user")),u&1&&(a.width=(f=r[0])==null?void 0:f.width),u&1&&(a.height=(c=r[0])==null?void 0:c.height),u&1&&(a.x=(d=r[0])==null?void 0:d.x),u&1&&(a.y=(h=r[0])==null?void 0:h.y),e.$set(a)},i(r){n||(L(e.$$.fragment,r),n=!0)},o(r){W(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function _h(t,e,n){let i,o;const{selectionRect:l,selectionRectMode:s}=ze();return J(t,l,r=>n(0,i=r)),J(t,s,r=>n(1,o=r)),[i,o,l,s]}class yh extends fe{constructor(e){super(),ae(this,e,_h,mh,ce,{})}}function al(t){let e,n,i,o,l;return n=new xr({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=_e("div"),te(n.$$.fragment),w(e,"class","selection-wrapper nopan svelte-5pxri"),me(e,"width",t[1].width+"px"),me(e,"height",t[1].height+"px"),me(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),w(e,"role","button"),w(e,"tabindex","-1")},m(s,r){K(s,e,r),$(n,e,null),i=!0,o||(l=[Ke(jr.call(null,e,{disabled:!1,store:t[3],onDrag:t[10],onDragStart:t[11],onDragStop:t[12]})),he(e,"contextmenu",t[7]),he(e,"click",t[8]),he(e,"keyup",wh)],o=!0)},p(s,r){(!i||r&2)&&me(e,"width",s[1].width+"px"),(!i||r&2)&&me(e,"height",s[1].height+"px"),(!i||r&2)&&me(e,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(L(n.$$.fragment,s),i=!0)},o(s){W(n.$$.fragment,s),i=!1},d(s){s&&B(e),ee(n),o=!1,Oe(l)}}}function bh(t){let e,n,i=t[0]&&t[2]==="nodes"&&al(t);return{c(){i&&i.c(),e=Te()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,[l]){o[0]&&o[2]==="nodes"?i?(i.p(o,l),l&5&&L(i,1)):(i=al(o),i.c(),L(i,1),i.m(e.parentNode,e)):i&&(Ee(),W(i,1,1,()=>{i=null}),Me())},i(o){n||(L(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}const wh=()=>{};function kh(t,e,n){let i,o,l,s;const r=ze(),{selectionRectMode:u,nodes:a}=r;J(t,u,g=>n(2,s=g)),J(t,a,g=>n(9,l=g));const f=hi(),c=es();function d(g){f("selectioncontextmenu",{nodes:i,event:g})}function h(g){f("selectionclick",{nodes:i,event:g})}const m=(g,C,b,y)=>{c("nodedrag",{event:g,targetNode:null,nodes:y})},_=(g,C,b,y)=>{c("nodedragstart",{event:g,targetNode:null,nodes:y})},v=(g,C,b,y)=>{c("nodedragstop",{event:g,targetNode:null,nodes:y})};return t.$$.update=()=>{t.$$.dirty&512&&n(0,i=l.filter(g=>g.selected)),t.$$.dirty&1&&n(1,o=In(i))},[i,o,s,r,u,a,c,d,h,l,m,_,v]}class Sh extends fe{constructor(e){super(),ae(this,e,kh,bh,ce,{})}}function rt(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function l(s){const r=Array.isArray(i)?i:[i],u={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const a of r){const f={modifier:[],preventDefault:!1,enabled:!0,...a},{modifier:c,key:d,callback:h,preventDefault:m,enabled:_}=f;if(_){if(c.length&&!(Array.isArray(c)?c:[c]).map(C=>typeof C=="string"?[C]:C).some(C=>C.every(b=>u[b])))continue;if(s.key===d){m&&s.preventDefault();const v={node:t,trigger:f,originalEvent:s};t.dispatchEvent(new CustomEvent("shortcut",{detail:v})),h==null||h(v)}}}}return n&&t.addEventListener(o,l),{update:s=>{const{enabled:r=!0,type:u="keydown"}=s;n&&(!r||o!==u)?t.removeEventListener(o,l):!n&&r&&t.addEventListener(u,l),n=r,o=u,i=s.trigger},destroy:()=>{t.removeEventListener(o,l)}}}function vh(t){let e,n,i,o,l,s,r,u,a,f,c,d;return{c:se,m(h,m){c||(d=[Ke(e=rt.call(null,window,{trigger:pe(t[0],t[11]),type:"keydown"})),Ke(n=rt.call(null,window,{trigger:pe(t[0],t[12]),type:"keyup"})),Ke(i=rt.call(null,window,{trigger:pe(t[1],t[13]),type:"keydown"})),Ke(o=rt.call(null,window,{trigger:pe(t[1],t[14]),type:"keyup"})),Ke(l=rt.call(null,window,{trigger:pe(t[2],t[15]),type:"keydown"})),Ke(s=rt.call(null,window,{trigger:pe(t[2],t[16]),type:"keyup"})),Ke(r=rt.call(null,window,{trigger:pe(t[3],t[17]),type:"keydown"})),Ke(u=rt.call(null,window,{trigger:pe(t[3],t[18]),type:"keyup"})),Ke(a=rt.call(null,window,{trigger:pe(t[4],t[19]),type:"keydown"})),Ke(f=rt.call(null,window,{trigger:pe(t[4],t[20]),type:"keyup"})),he(window,"blur",t[10]),he(window,"contextmenu",t[10])],c=!0)},p(h,[m]){e&&Ne(e.update)&&m&1&&e.update.call(null,{trigger:pe(h[0],h[11]),type:"keydown"}),n&&Ne(n.update)&&m&1&&n.update.call(null,{trigger:pe(h[0],h[12]),type:"keyup"}),i&&Ne(i.update)&&m&2&&i.update.call(null,{trigger:pe(h[1],h[13]),type:"keydown"}),o&&Ne(o.update)&&m&2&&o.update.call(null,{trigger:pe(h[1],h[14]),type:"keyup"}),l&&Ne(l.update)&&m&4&&l.update.call(null,{trigger:pe(h[2],h[15]),type:"keydown"}),s&&Ne(s.update)&&m&4&&s.update.call(null,{trigger:pe(h[2],h[16]),type:"keyup"}),r&&Ne(r.update)&&m&8&&r.update.call(null,{trigger:pe(h[3],h[17]),type:"keydown"}),u&&Ne(u.update)&&m&8&&u.update.call(null,{trigger:pe(h[3],h[18]),type:"keyup"}),a&&Ne(a.update)&&m&16&&a.update.call(null,{trigger:pe(h[4],h[19]),type:"keydown"}),f&&Ne(f.update)&&m&16&&f.update.call(null,{trigger:pe(h[4],h[20]),type:"keyup"})},i:se,o:se,d(h){c=!1,Oe(d)}}}function $r(t){return t!==null&&typeof t=="object"}function Ch(t){return $r(t)?t.modifier||[]:[]}function Eh(t){return t==null?"":$r(t)?t.key:t}function pe(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=Eh(i);return{key:o,modifier:Ch(i),enabled:o!==null,callback:e}})}function Mh(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=ci()?"Meta":"Control"}=e,{deleteKey:l="Backspace"}=e,{panActivationKey:s=" "}=e,{zoomActivationKey:r=ci()?"Meta":"Control"}=e;const{selectionKeyPressed:u,multiselectionKeyPressed:a,deleteKeyPressed:f,panActivationKeyPressed:c,zoomActivationKeyPressed:d,selectionRect:h}=ze();function m(){h.set(null),u.set(!1),a.set(!1),f.set(!1),c.set(!1),d.set(!1)}const _=()=>u.set(!0),v=()=>u.set(!1),g=()=>a.set(!0),C=()=>a.set(!1),b=P=>{!(P.originalEvent.ctrlKey||P.originalEvent.metaKey||P.originalEvent.shiftKey)&&!Lc(P.originalEvent)&&f.set(!0)},y=()=>f.set(!1),M=()=>c.set(!0),O=()=>c.set(!1),E=()=>d.set(!0),z=()=>d.set(!1);return t.$$set=P=>{"selectionKey"in P&&n(0,i=P.selectionKey),"multiSelectionKey"in P&&n(1,o=P.multiSelectionKey),"deleteKey"in P&&n(2,l=P.deleteKey),"panActivationKey"in P&&n(3,s=P.panActivationKey),"zoomActivationKey"in P&&n(4,r=P.zoomActivationKey)},[i,o,l,s,r,u,a,f,c,d,m,_,v,g,C,b,y,M,O,E,z]}class zh extends fe{constructor(e){super(),ae(this,e,Mh,vh,ce,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const Ph=zh,Hh=t=>({}),fl=t=>({});function cl(t){let e,n,i,o;const l=t[10].connectionLine,s=De(l,t,t[9],fl);let r=!t[2]&&dl(t);return{c(){e=be("svg"),n=be("g"),s&&s.c(),r&&r.c(),w(n,"class",i=Se(["svelte-flow__connection",t[3].status])),w(e,"width",t[4]),w(e,"height",t[5]),w(e,"class","svelte-flow__connectionline"),w(e,"style",t[0])},m(u,a){K(u,e,a),ue(e,n),s&&s.m(n,null),r&&r.m(n,null),o=!0},p(u,a){s&&s.p&&(!o||a&512)&&Le(s,l,u,u[9],o?Xe(l,u[9],a,Hh):Ye(u[9]),fl),u[2]?r&&(r.d(1),r=null):r?r.p(u,a):(r=dl(u),r.c(),r.m(n,null)),(!o||a&8&&i!==(i=Se(["svelte-flow__connection",u[3].status])))&&w(n,"class",i),(!o||a&16)&&w(e,"width",u[4]),(!o||a&32)&&w(e,"height",u[5]),(!o||a&1)&&w(e,"style",u[0])},i(u){o||(L(s,u),o=!0)},o(u){W(s,u),o=!1},d(u){u&&B(e),s&&s.d(u),r&&r.d()}}}function dl(t){let e,n;return{c(){e=be("path"),w(e,"d",n=t[3].path),w(e,"style",t[1]),w(e,"fill","none"),w(e,"class","svelte-flow__connection-path")},m(i,o){K(i,e,o)},p(i,o){o&8&&n!==(n=i[3].path)&&w(e,"d",n),o&2&&w(e,"style",i[1])},d(i){i&&B(e)}}}function Nh(t){let e,n,i=t[3].path&&cl(t);return{c(){i&&i.c(),e=Te()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,[l]){o[3].path?i?(i.p(o,l),l&8&&L(i,1)):(i=cl(o),i.c(),L(i,1),i.m(e.parentNode,e)):i&&(Ee(),W(i,1,1,()=>{i=null}),Me())},i(o){n||(L(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function Ah(t,e,n){let i,o,l,{$$slots:s={},$$scope:r}=e,{containerStyle:u=""}=e,{style:a=""}=e,{isCustomComponent:f=!1}=e;const{width:c,height:d,connection:h}=ze();return J(t,c,m=>n(4,o=m)),J(t,d,m=>n(5,l=m)),J(t,h,m=>n(3,i=m)),t.$$set=m=>{"containerStyle"in m&&n(0,u=m.containerStyle),"style"in m&&n(1,a=m.style),"isCustomComponent"in m&&n(2,f=m.isCustomComponent),"$$scope"in m&&n(9,r=m.$$scope)},[u,a,f,i,o,l,c,d,h,r,s]}let Th=class extends fe{constructor(e){super(),ae(this,e,Ah,Nh,ce,{containerStyle:0,style:1,isCustomComponent:2})}};const Oh=Th;function ph(t){let e,n,i;const o=t[6].default,l=De(o,t,t[5],null);let s=[{class:n=Se(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[3]],r={};for(let u=0;u<s.length;u+=1)r=Ve(r,s[u]);return{c(){e=_e("div"),l&&l.c(),jt(e,r)},m(u,a){K(u,e,a),l&&l.m(e,null),i=!0},p(u,[a]){l&&l.p&&(!i||a&32)&&Le(l,o,u,u[5],i?Xe(o,u[5],a,null):Ye(u[5]),null),jt(e,r=wt(s,[(!i||a&6&&n!==(n=Se(["svelte-flow__panel",u[1],...u[2]])))&&{class:n},(!i||a&1)&&{style:u[0]},a&8&&u[3]]))},i(u){i||(L(l,u),i=!0)},o(u){W(l,u),i=!1},d(u){u&&B(e),l&&l.d(u)}}}function Ih(t,e,n){let i;const o=["position","style","class"];let l=Qt(e,o),{$$slots:s={},$$scope:r}=e,{position:u="top-right"}=e,{style:a=void 0}=e,{class:f=void 0}=e;return t.$$set=c=>{e=Ve(Ve({},e),xi(c)),n(3,l=Qt(e,o)),"position"in c&&n(4,u=c.position),"style"in c&&n(0,a=c.style),"class"in c&&n(1,f=c.class),"$$scope"in c&&n(5,r=c.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(2,i=`${u}`.split("-"))},[a,f,i,l,u,r,s]}class Nn extends fe{constructor(e){super(),ae(this,e,Ih,ph,ce,{position:4,style:0,class:1})}}function hl(t){let e,n;return e=new Nn({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Dh]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&2&&(l.position=i[1]),o&4&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Dh(t){let e;return{c(){e=_e("a"),e.textContent="Svelte Flow",w(e,"href","https://svelteflow.dev"),w(e,"target","_blank"),w(e,"rel","noopener noreferrer"),w(e,"aria-label","Svelte Flow attribution")},m(n,i){K(n,e,i)},p:se,d(n){n&&B(e)}}}function Xh(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&hl(t);return{c(){i&&i.c(),e=Te()},m(l,s){i&&i.m(l,s),K(l,e,s),n=!0},p(l,[s]){var r;(r=l[0])!=null&&r.hideAttribution?i&&(Ee(),W(i,1,1,()=>{i=null}),Me()):i?(i.p(l,s),s&1&&L(i,1)):(i=hl(l),i.c(),L(i,1),i.m(e.parentNode,e))},i(l){n||(L(i),n=!0)},o(l){W(i),n=!1},d(l){l&&B(e),i&&i.d(l)}}}function Lh(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=l=>{"proOptions"in l&&n(0,i=l.proOptions),"position"in l&&n(1,o=l.position)},[i,o]}class Yh extends fe{constructor(e){super(),ae(this,e,Lh,Xh,ce,{proOptions:0,position:1})}}const Vh=Yh;function gl(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:l}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),l!==void 0&&t.setTranslateExtent(l)}const Rh=t=>Object.keys(t);function Wh(t,e){Rh(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function Bh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Kh(t="light"){return xe("light",n=>{if(t!=="system"){n(t);return}const i=Bh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Fh=t=>({}),ml=t=>({slot:"connectionLine"});function qh(t){let e;const n=t[70].connectionLine,i=De(n,t,t[92],ml);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,l){i&&i.p&&(!e||l[2]&1073741824)&&Le(i,n,o,o[92],e?Xe(n,o[92],l,Fh):Ye(o[92]),ml)},i(o){e||(L(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function Zh(t){let e,n,i,o,l,s,r,u,a,f,c,d;return e=new ch({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[73]),e.$on("edgecontextmenu",t[74]),i=new Oh({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[31].connectionLine,$$slots:{connectionLine:[qh]},$$scope:{ctx:t}}}),a=new Z1({}),a.$on("nodeclick",t[75]),a.$on("nodemouseenter",t[76]),a.$on("nodemousemove",t[77]),a.$on("nodemouseleave",t[78]),a.$on("nodedragstart",t[79]),a.$on("nodedrag",t[80]),a.$on("nodedragstop",t[81]),a.$on("nodecontextmenu",t[82]),c=new Sh({}),c.$on("selectionclick",t[83]),c.$on("selectioncontextmenu",t[84]),c.$on("nodedragstart",t[85]),c.$on("nodedrag",t[86]),c.$on("nodedragstop",t[87]),{c(){te(e.$$.fragment),n=de(),te(i.$$.fragment),o=de(),l=_e("div"),s=de(),r=_e("div"),u=de(),te(a.$$.fragment),f=de(),te(c.$$.fragment),w(l,"class","svelte-flow__edgelabel-renderer"),w(r,"class","svelte-flow__viewport-portal")},m(h,m){$(e,h,m),K(h,n,m),$(i,h,m),K(h,o,m),K(h,l,m),K(h,s,m),K(h,r,m),K(h,u,m),$(a,h,m),K(h,f,m),$(c,h,m),d=!0},p(h,m){const _={};m[0]&2097152&&(_.defaultEdgeOptions=h[21]),e.$set(_);const v={};m[0]&128&&(v.containerStyle=h[7]),m[0]&64&&(v.style=h[6]),m[1]&1&&(v.isCustomComponent=h[31].connectionLine),m[2]&1073741824&&(v.$$scope={dirty:m,ctx:h}),i.$set(v)},i(h){d||(L(e.$$.fragment,h),L(i.$$.fragment,h),L(a.$$.fragment,h),L(c.$$.fragment,h),d=!0)},o(h){W(e.$$.fragment,h),W(i.$$.fragment,h),W(a.$$.fragment,h),W(c.$$.fragment,h),d=!1},d(h){h&&(B(n),B(o),B(l),B(s),B(r),B(u),B(f)),ee(e,h),ee(i,h),ee(a,h),ee(c,h)}}}function Uh(t){let e,n,i,o;return e=new L1({props:{$$slots:{default:[Zh]},$$scope:{ctx:t}}}),i=new yh({}),{c(){te(e.$$.fragment),n=de(),te(i.$$.fragment)},m(l,s){$(e,l,s),K(l,n,s),$(i,l,s),o=!0},p(l,s){const r={};s[0]&2097344|s[1]&1|s[2]&1073741824&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){o||(L(e.$$.fragment,l),L(i.$$.fragment,l),o=!0)},o(l){W(e.$$.fragment,l),W(i.$$.fragment,l),o=!1},d(l){l&&B(n),ee(e,l),ee(i,l)}}}function Gh(t){let e,n;return e=new I1({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[Uh]},$$scope:{ctx:t}}}),e.$on("paneclick",t[88]),e.$on("panecontextmenu",t[89]),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o[0]&131072&&(l.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(l.selectionOnDrag=i[18]),o[0]&2097344|o[1]&1|o[2]&1073741824&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Jh(t){let e,n,i,o,l,s,r,u,a,f,c,d;n=new Ph({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new A1({props:{initialViewport:t[0],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?ut.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],$$slots:{default:[Gh]},$$scope:{ctx:t}}}),s=new Vh({props:{proOptions:t[20],position:t[19]}});const h=t[70].default,m=De(h,t,t[92],null);let _=[{style:t[22]},{class:u=Se(["svelte-flow",t[23],t[28]])},{"data-testid":"svelte-flow__wrapper"},t[30],{role:"application"}],v={};for(let g=0;g<_.length;g+=1)v=Ve(v,_[g]);return{c(){e=_e("div"),te(n.$$.fragment),i=de(),te(o.$$.fragment),l=de(),te(s.$$.fragment),r=de(),m&&m.c(),jt(e,v),ti(()=>t[91].call(e)),ye(e,"svelte-12wlba6",!0)},m(g,C){K(g,e,C),$(n,e,null),ue(e,i),$(o,e,null),ue(e,l),$(s,e,null),ue(e,r),m&&m.m(e,null),t[90](e),a=Ys(e,t[91].bind(e)),f=!0,c||(d=[he(e,"dragover",t[71]),he(e,"drop",t[72])],c=!0)},p(g,C){const b={};C[0]&2&&(b.selectionKey=g[1]),C[0]&32&&(b.deleteKey=g[5]),C[0]&4&&(b.panActivationKey=g[2]),C[0]&8&&(b.multiSelectionKey=g[3]),C[0]&16&&(b.zoomActivationKey=g[4]),n.$set(b);const y={};C[0]&1&&(y.initialViewport=g[0]),C[0]&256&&(y.onMoveStart=g[8]),C[0]&512&&(y.onMove=g[9]),C[0]&1024&&(y.onMoveEnd=g[10]),C[0]&2048&&(y.panOnScrollMode=g[11]===void 0?ut.Free:g[11]),C[0]&4096&&(y.preventScrolling=g[12]===void 0?!0:g[12]),C[0]&8192&&(y.zoomOnScroll=g[13]===void 0?!0:g[13]),C[0]&16384&&(y.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),C[0]&32768&&(y.zoomOnPinch=g[15]===void 0?!0:g[15]),C[0]&65536&&(y.panOnScroll=g[16]===void 0?!1:g[16]),C[0]&131072&&(y.panOnDrag=g[17]===void 0?!0:g[17]),C[0]&2490560|C[1]&1|C[2]&1073741824&&(y.$$scope={dirty:C,ctx:g}),o.$set(y);const M={};C[0]&1048576&&(M.proOptions=g[20]),C[0]&524288&&(M.position=g[19]),s.$set(M),m&&m.p&&(!f||C[2]&1073741824)&&Le(m,h,g,g[92],f?Xe(h,g[92],C,null):Ye(g[92]),null),jt(e,v=wt(_,[(!f||C[0]&4194304)&&{style:g[22]},(!f||C[0]&276824064&&u!==(u=Se(["svelte-flow",g[23],g[28]])))&&{class:u},{"data-testid":"svelte-flow__wrapper"},C[0]&1073741824&&g[30],{role:"application"}])),ye(e,"svelte-12wlba6",!0)},i(g){f||(L(n.$$.fragment,g),L(o.$$.fragment,g),L(s.$$.fragment,g),L(m,g),f=!0)},o(g){W(n.$$.fragment,g),W(o.$$.fragment,g),W(s.$$.fragment,g),W(m,g),f=!1},d(g){g&&B(e),ee(n),ee(o),ee(s),m&&m.d(g),t[90](null),a(),c=!1,Oe(d)}}}function Qh(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let l=Qt(e,o),s,r,u=se,a=()=>(u(),u=di(i,I=>n(28,r=I)),i);t.$$.on_destroy.push(()=>u());let{$$slots:f={},$$scope:c}=e;const d=ps(f);let{id:h="1"}=e,{nodes:m}=e,{edges:_}=e,{fitView:v=void 0}=e,{fitViewOptions:g=void 0}=e,{minZoom:C=void 0}=e,{maxZoom:b=void 0}=e,{initialViewport:y={x:0,y:0,zoom:1}}=e,{viewport:M=void 0}=e,{nodeTypes:O=void 0}=e,{edgeTypes:E=void 0}=e,{selectionKey:z=void 0}=e,{selectionMode:P=void 0}=e,{panActivationKey:D=void 0}=e,{multiSelectionKey:k=void 0}=e,{zoomActivationKey:A=void 0}=e,{nodesDraggable:N=void 0}=e,{nodesConnectable:S=void 0}=e,{nodeDragThreshold:p=void 0}=e,{elementsSelectable:T=void 0}=e,{snapGrid:Y=void 0}=e,{deleteKey:X=void 0}=e,{connectionRadius:R=void 0}=e,{connectionLineType:U=void 0}=e,{connectionMode:Q=Ht.Strict}=e,{connectionLineStyle:V=""}=e,{connectionLineContainerStyle:ne=""}=e,{onMoveStart:le=void 0}=e,{onMove:ge=void 0}=e,{onMoveEnd:H=void 0}=e,{isValidConnection:j=void 0}=e,{translateExtent:ie=void 0}=e,{onlyRenderVisibleElements:q=void 0}=e,{panOnScrollMode:Z=ut.Free}=e,{preventScrolling:ke=!0}=e,{zoomOnScroll:Pe=!0}=e,{zoomOnDoubleClick:Ce=!0}=e,{zoomOnPinch:Re=!0}=e,{panOnScroll:He=!1}=e,{panOnDrag:ct=!0}=e,{selectionOnDrag:dt=void 0}=e,{autoPanOnConnect:ot=!0}=e,{autoPanOnNodeDrag:lt=!0}=e,{onerror:oe=void 0}=e,{ondelete:St=void 0}=e,{onedgecreate:vt=void 0}=e,{attributionPosition:Nt=void 0}=e,{proOptions:G=void 0}=e,{defaultEdgeOptions:je=void 0}=e,{width:We=void 0}=e,{height:x=void 0}=e,{colorMode:ht="light"}=e,{onconnect:Ze=void 0}=e,{onconnectstart:Ge=void 0}=e,{onconnectend:Lt=void 0}=e,{onbeforedelete:Yt=void 0}=e,{oninit:Ct=void 0}=e,{defaultMarkerColor:Vt="#b1b1b7"}=e,{style:an=void 0}=e,{class:fn=void 0}=e,Ln,Rt,Wt;const Be=Ws(Si)?ze():M1({nodes:F(m),edges:F(_),width:We,height:x,fitView:v});An(()=>(Be.width.set(Rt),Be.height.set(Wt),Be.domNode.set(Ln),Be.syncNodeStores(m),Be.syncEdgeStores(_),Be.syncViewport(M),v!==void 0&&Be.fitViewOnInit.set(v),g&&Be.fitViewOptions.set(g),gl(Be,{nodeTypes:O,edgeTypes:E,minZoom:C,maxZoom:b,translateExtent:ie}),()=>{Be.reset()}));const{initialized:fo}=Be;J(t,fo,I=>n(69,s=I));let Ci=!1;function as(I){ve.call(this,t,I)}function fs(I){ve.call(this,t,I)}function cs(I){ve.call(this,t,I)}function ds(I){ve.call(this,t,I)}function hs(I){ve.call(this,t,I)}function gs(I){ve.call(this,t,I)}function ms(I){ve.call(this,t,I)}function _s(I){ve.call(this,t,I)}function ys(I){ve.call(this,t,I)}function bs(I){ve.call(this,t,I)}function ws(I){ve.call(this,t,I)}function ks(I){ve.call(this,t,I)}function Ss(I){ve.call(this,t,I)}function vs(I){ve.call(this,t,I)}function Cs(I){ve.call(this,t,I)}function Es(I){ve.call(this,t,I)}function Ms(I){ve.call(this,t,I)}function zs(I){ve.call(this,t,I)}function Ps(I){ve.call(this,t,I)}function Hs(I){at[I?"unshift":"push"](()=>{Ln=I,n(26,Ln)})}function Ns(){Rt=this.clientWidth,Wt=this.clientHeight,n(24,Rt),n(25,Wt)}return t.$$set=I=>{e=Ve(Ve({},e),xi(I)),n(30,l=Qt(e,o)),"id"in I&&n(32,h=I.id),"nodes"in I&&n(33,m=I.nodes),"edges"in I&&n(34,_=I.edges),"fitView"in I&&n(35,v=I.fitView),"fitViewOptions"in I&&n(36,g=I.fitViewOptions),"minZoom"in I&&n(37,C=I.minZoom),"maxZoom"in I&&n(38,b=I.maxZoom),"initialViewport"in I&&n(0,y=I.initialViewport),"viewport"in I&&n(39,M=I.viewport),"nodeTypes"in I&&n(40,O=I.nodeTypes),"edgeTypes"in I&&n(41,E=I.edgeTypes),"selectionKey"in I&&n(1,z=I.selectionKey),"selectionMode"in I&&n(42,P=I.selectionMode),"panActivationKey"in I&&n(2,D=I.panActivationKey),"multiSelectionKey"in I&&n(3,k=I.multiSelectionKey),"zoomActivationKey"in I&&n(4,A=I.zoomActivationKey),"nodesDraggable"in I&&n(43,N=I.nodesDraggable),"nodesConnectable"in I&&n(44,S=I.nodesConnectable),"nodeDragThreshold"in I&&n(45,p=I.nodeDragThreshold),"elementsSelectable"in I&&n(46,T=I.elementsSelectable),"snapGrid"in I&&n(47,Y=I.snapGrid),"deleteKey"in I&&n(5,X=I.deleteKey),"connectionRadius"in I&&n(48,R=I.connectionRadius),"connectionLineType"in I&&n(49,U=I.connectionLineType),"connectionMode"in I&&n(50,Q=I.connectionMode),"connectionLineStyle"in I&&n(6,V=I.connectionLineStyle),"connectionLineContainerStyle"in I&&n(7,ne=I.connectionLineContainerStyle),"onMoveStart"in I&&n(8,le=I.onMoveStart),"onMove"in I&&n(9,ge=I.onMove),"onMoveEnd"in I&&n(10,H=I.onMoveEnd),"isValidConnection"in I&&n(51,j=I.isValidConnection),"translateExtent"in I&&n(52,ie=I.translateExtent),"onlyRenderVisibleElements"in I&&n(53,q=I.onlyRenderVisibleElements),"panOnScrollMode"in I&&n(11,Z=I.panOnScrollMode),"preventScrolling"in I&&n(12,ke=I.preventScrolling),"zoomOnScroll"in I&&n(13,Pe=I.zoomOnScroll),"zoomOnDoubleClick"in I&&n(14,Ce=I.zoomOnDoubleClick),"zoomOnPinch"in I&&n(15,Re=I.zoomOnPinch),"panOnScroll"in I&&n(16,He=I.panOnScroll),"panOnDrag"in I&&n(17,ct=I.panOnDrag),"selectionOnDrag"in I&&n(18,dt=I.selectionOnDrag),"autoPanOnConnect"in I&&n(54,ot=I.autoPanOnConnect),"autoPanOnNodeDrag"in I&&n(55,lt=I.autoPanOnNodeDrag),"onerror"in I&&n(56,oe=I.onerror),"ondelete"in I&&n(57,St=I.ondelete),"onedgecreate"in I&&n(58,vt=I.onedgecreate),"attributionPosition"in I&&n(19,Nt=I.attributionPosition),"proOptions"in I&&n(20,G=I.proOptions),"defaultEdgeOptions"in I&&n(21,je=I.defaultEdgeOptions),"width"in I&&n(59,We=I.width),"height"in I&&n(60,x=I.height),"colorMode"in I&&n(61,ht=I.colorMode),"onconnect"in I&&n(62,Ze=I.onconnect),"onconnectstart"in I&&n(63,Ge=I.onconnectstart),"onconnectend"in I&&n(64,Lt=I.onconnectend),"onbeforedelete"in I&&n(65,Yt=I.onbeforedelete),"oninit"in I&&n(66,Ct=I.oninit),"defaultMarkerColor"in I&&n(67,Vt=I.defaultMarkerColor),"style"in I&&n(22,an=I.style),"class"in I&&n(23,fn=I.class),"$$scope"in I&&n(92,c=I.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&50331648&&Rt!==void 0&&Wt!==void 0&&(Be.width.set(Rt),Be.height.set(Wt)),t.$$.dirty[2]&208&&!Ci&&s&&(Ct==null||Ct(),n(68,Ci=!0)),t.$$.dirty[1]&266336258|t.$$.dirty[2]&47&&Wh(Be,{flowId:h,connectionLineType:U,connectionRadius:R,selectionMode:P,snapGrid:Y,defaultMarkerColor:Vt,nodesDraggable:N,nodesConnectable:S,elementsSelectable:T,onlyRenderVisibleElements:q,isValidConnection:j,autoPanOnConnect:ot,autoPanOnNodeDrag:lt,onerror:oe,ondelete:St,onedgecreate:vt,connectionMode:Q,nodeDragThreshold:p,onconnect:Ze,onconnectstart:Ge,onconnectend:Lt,onbeforedelete:Yt}),t.$$.dirty[1]&2098880&&gl(Be,{nodeTypes:O,edgeTypes:E,minZoom:C,maxZoom:b,translateExtent:ie}),t.$$.dirty[1]&1073741824&&a(n(27,i=Kh(ht)))},[y,z,D,k,A,X,V,ne,le,ge,H,Z,ke,Pe,Ce,Re,He,ct,dt,Nt,G,je,an,fn,Rt,Wt,Ln,i,r,fo,l,d,h,m,_,v,g,C,b,M,O,E,P,N,S,p,T,Y,R,U,Q,j,ie,q,ot,lt,oe,St,vt,We,x,ht,Ze,Ge,Lt,Yt,Ct,Vt,Ci,s,f,as,fs,cs,ds,hs,gs,ms,_s,ys,bs,ws,ks,Ss,vs,Cs,Es,Ms,zs,Ps,Hs,Ns,c]}class jh extends fe{constructor(e){super(),ae(this,e,Qh,Jh,ce,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1,-1])}}const xh=jh;function $h(t){let e;const n=t[6].default,i=De(n,t,t[5],null);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),e=!0},p(o,[l]){i&&i.p&&(!e||l&32)&&Le(i,n,o,o[5],e?Xe(n,o[5],l,null):Ye(o[5]),null)},i(o){e||(L(i,o),e=!0)},o(o){W(i,o),e=!1},d(o){i&&i.d(o)}}}function e0(t,e,n){let{$$slots:i={},$$scope:o}=e,{initialNodes:l=void 0}=e,{initialEdges:s=void 0}=e,{initialWidth:r=void 0}=e,{initialHeight:u=void 0}=e,{fitView:a=void 0}=e;const f=Qr({nodes:l,edges:s,width:r,height:u,fitView:a});return kn(Si,{getStore:()=>f}),$i(()=>{f.reset()}),t.$$set=c=>{"initialNodes"in c&&n(0,l=c.initialNodes),"initialEdges"in c&&n(1,s=c.initialEdges),"initialWidth"in c&&n(2,r=c.initialWidth),"initialHeight"in c&&n(3,u=c.initialHeight),"fitView"in c&&n(4,a=c.fitView),"$$scope"in c&&n(5,o=c.$$scope)},[l,s,r,u,a,o,i]}class t0 extends fe{constructor(e){super(),ae(this,e,e0,$h,ce,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4})}}const n0=t=>({}),_l=t=>({class:"button-svg"});function i0(t){let e,n,i,o,l;const s=t[8].default,r=De(s,t,t[7],_l);let u=[{type:"button"},{class:n=Se(["svelte-flow__controls-button",t[0]])},t[6]],a={};for(let f=0;f<u.length;f+=1)a=Ve(a,u[f]);return{c(){e=_e("button"),r&&r.c(),jt(e,a),me(e,"--xy-controls-button-background-color-props",t[1]),me(e,"--xy-controls-button-background-color-hover-props",t[2]),me(e,"--xy-controls-button-color-props",t[3]),me(e,"--xy-controls-button-color-hover-props",t[4]),me(e,"--xy-controls-button-border-color-props",t[5])},m(f,c){K(f,e,c),r&&r.m(e,null),e.autofocus&&e.focus(),i=!0,o||(l=he(e,"click",t[9]),o=!0)},p(f,[c]){r&&r.p&&(!i||c&128)&&Le(r,s,f,f[7],i?Xe(s,f[7],c,n0):Ye(f[7]),_l),jt(e,a=wt(u,[{type:"button"},(!i||c&1&&n!==(n=Se(["svelte-flow__controls-button",f[0]])))&&{class:n},c&64&&f[6]])),me(e,"--xy-controls-button-background-color-props",f[1]),me(e,"--xy-controls-button-background-color-hover-props",f[2]),me(e,"--xy-controls-button-color-props",f[3]),me(e,"--xy-controls-button-color-hover-props",f[4]),me(e,"--xy-controls-button-border-color-props",f[5])},i(f){i||(L(r,f),i=!0)},o(f){W(r,f),i=!1},d(f){f&&B(e),r&&r.d(f),o=!1,l()}}}function o0(t,e,n){const i=["class"];let o=Qt(e,i),{$$slots:l={},$$scope:s}=e,{class:r=void 0}=e,u,a,f,c,d;function h(m){ve.call(this,t,m)}return t.$$set=m=>{e=Ve(Ve({},e),xi(m)),n(6,o=Qt(e,i)),"class"in m&&n(0,r=m.class),"$$scope"in m&&n(7,s=m.$$scope)},[r,u,a,f,c,d,o,s,l,h]}class rn extends fe{constructor(e){super(),ae(this,e,o0,i0,ce,{class:0})}}function l0(t){let e,n;return{c(){e=be("svg"),n=be("path"),w(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 32 32")},m(i,o){K(i,e,o),ue(e,n)},p:se,i:se,o:se,d(i){i&&B(e)}}}class r0 extends fe{constructor(e){super(),ae(this,e,null,l0,ce,{})}}function s0(t){let e,n;return{c(){e=be("svg"),n=be("path"),w(n,"d","M0 0h32v4.2H0z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 32 5")},m(i,o){K(i,e,o),ue(e,n)},p:se,i:se,o:se,d(i){i&&B(e)}}}class u0 extends fe{constructor(e){super(),ae(this,e,null,s0,ce,{})}}function a0(t){let e,n;return{c(){e=be("svg"),n=be("path"),w(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 32 30")},m(i,o){K(i,e,o),ue(e,n)},p:se,i:se,o:se,d(i){i&&B(e)}}}class f0 extends fe{constructor(e){super(),ae(this,e,null,a0,ce,{})}}function c0(t){let e,n;return{c(){e=be("svg"),n=be("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 25 32")},m(i,o){K(i,e,o),ue(e,n)},p:se,i:se,o:se,d(i){i&&B(e)}}}class d0 extends fe{constructor(e){super(),ae(this,e,null,c0,ce,{})}}function h0(t){let e,n;return{c(){e=be("svg"),n=be("path"),w(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"viewBox","0 0 25 32")},m(i,o){K(i,e,o),ue(e,n)},p:se,i:se,o:se,d(i){i&&B(e)}}}class g0 extends fe{constructor(e){super(),ae(this,e,null,h0,ce,{})}}const m0=t=>({}),yl=t=>({}),_0=t=>({}),bl=t=>({});function wl(t){let e,n,i,o;const l=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let s={$$slots:{default:[y0]},$$scope:{ctx:t}};for(let a=0;a<l.length;a+=1)s=Ve(s,l[a]);e=new rn({props:s}),e.$on("click",t[18]);const r=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let u={$$slots:{default:[b0]},$$scope:{ctx:t}};for(let a=0;a<r.length;a+=1)u=Ve(u,r[a]);return i=new rn({props:u}),i.$on("click",t[19]),{c(){te(e.$$.fragment),n=de(),te(i.$$.fragment)},m(a,f){$(e,a,f),K(a,n,f),$(i,a,f),o=!0},p(a,f){const c=f[0]&131584?wt(l,[l[0],l[1],l[2],f[0]&512&&{disabled:a[9]},f[0]&131072&&xt(a[17])]):{};f[1]&16&&(c.$$scope={dirty:f,ctx:a}),e.$set(c);const d=f[0]&132096?wt(r,[r[0],r[1],r[2],f[0]&1024&&{disabled:a[10]},f[0]&131072&&xt(a[17])]):{};f[1]&16&&(d.$$scope={dirty:f,ctx:a}),i.$set(d)},i(a){o||(L(e.$$.fragment,a),L(i.$$.fragment,a),o=!0)},o(a){W(e.$$.fragment,a),W(i.$$.fragment,a),o=!1},d(a){a&&B(n),ee(e,a),ee(i,a)}}}function y0(t){let e,n;return e=new r0({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function b0(t){let e,n;return e=new u0({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function kl(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[w0]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=Ve(o,i[l]);return e=new rn({props:o}),e.$on("click",t[20]),{c(){te(e.$$.fragment)},m(l,s){$(e,l,s),n=!0},p(l,s){const r=s[0]&131072?wt(i,[i[0],i[1],i[2],xt(l[17])]):{};s[1]&16&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function w0(t){let e,n;return e=new f0({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Sl(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[v0]},$$scope:{ctx:t}};for(let l=0;l<i.length;l+=1)o=Ve(o,i[l]);return e=new rn({props:o}),e.$on("click",t[21]),{c(){te(e.$$.fragment)},m(l,s){$(e,l,s),n=!0},p(l,s){const r=s[0]&131072?wt(i,[i[0],i[1],i[2],xt(l[17])]):{};s[0]&256|s[1]&16&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(L(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){ee(e,l)}}}function k0(t){let e,n;return e=new d0({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function S0(t){let e,n;return e=new g0({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function v0(t){let e,n,i,o;const l=[S0,k0],s=[];function r(u,a){return u[8]?0:1}return e=r(t),n=s[e]=l[e](t),{c(){n.c(),i=Te()},m(u,a){s[e].m(u,a),K(u,i,a),o=!0},p(u,a){let f=e;e=r(u),e!==f&&(Ee(),W(s[f],1,1,()=>{s[f]=null}),Me(),n=s[e],n||(n=s[e]=l[e](u),n.c()),L(n,1),n.m(i.parentNode,i))},i(u){o||(L(n),o=!0)},o(u){W(n),o=!1},d(u){u&&B(i),s[e].d(u)}}}function C0(t){let e,n,i,o,l,s;const r=t[34].before,u=De(r,t,t[35],bl);let a=t[1]&&wl(t),f=t[2]&&kl(t),c=t[3]&&Sl(t);const d=t[34].default,h=De(d,t,t[35],null),m=t[34].after,_=De(m,t,t[35],yl);return{c(){u&&u.c(),e=de(),a&&a.c(),n=de(),f&&f.c(),i=de(),c&&c.c(),o=de(),h&&h.c(),l=de(),_&&_.c()},m(v,g){u&&u.m(v,g),K(v,e,g),a&&a.m(v,g),K(v,n,g),f&&f.m(v,g),K(v,i,g),c&&c.m(v,g),K(v,o,g),h&&h.m(v,g),K(v,l,g),_&&_.m(v,g),s=!0},p(v,g){u&&u.p&&(!s||g[1]&16)&&Le(u,r,v,v[35],s?Xe(r,v[35],g,_0):Ye(v[35]),bl),v[1]?a?(a.p(v,g),g[0]&2&&L(a,1)):(a=wl(v),a.c(),L(a,1),a.m(n.parentNode,n)):a&&(Ee(),W(a,1,1,()=>{a=null}),Me()),v[2]?f?(f.p(v,g),g[0]&4&&L(f,1)):(f=kl(v),f.c(),L(f,1),f.m(i.parentNode,i)):f&&(Ee(),W(f,1,1,()=>{f=null}),Me()),v[3]?c?(c.p(v,g),g[0]&8&&L(c,1)):(c=Sl(v),c.c(),L(c,1),c.m(o.parentNode,o)):c&&(Ee(),W(c,1,1,()=>{c=null}),Me()),h&&h.p&&(!s||g[1]&16)&&Le(h,d,v,v[35],s?Xe(d,v[35],g,null):Ye(v[35]),null),_&&_.p&&(!s||g[1]&16)&&Le(_,m,v,v[35],s?Xe(m,v[35],g,m0):Ye(v[35]),yl)},i(v){s||(L(u,v),L(a),L(f),L(c),L(h,v),L(_,v),s=!0)},o(v){W(u,v),W(a),W(f),W(c),W(h,v),W(_,v),s=!1},d(v){v&&(B(e),B(n),B(i),B(o),B(l)),u&&u.d(v),a&&a.d(v),f&&f.d(v),c&&c.d(v),h&&h.d(v),_&&_.d(v)}}}function E0(t){let e,n;return e=new Nn({props:{class:Se(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[C0]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o[0]&192&&(l.class=Se(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(l.position=i[0]),o[0]&16&&(l["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(l.style=i[5]),o[0]&1806|o[1]&16&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function M0(t,e,n){let i,o,l,s,r,u,a,f,c,d,{$$slots:h={},$$scope:m}=e,{position:_="bottom-left"}=e,{showZoom:v=!0}=e,{showFitView:g=!0}=e,{showLock:C=!0}=e,{buttonBgColor:b=void 0}=e,{buttonBgColorHover:y=void 0}=e,{buttonColor:M=void 0}=e,{buttonColorHover:O=void 0}=e,{buttonBorderColor:E=void 0}=e,{ariaLabel:z=void 0}=e,{style:P=void 0}=e,{orientation:D="vertical"}=e,{class:k=""}=e;const{zoomIn:A,zoomOut:N,fitView:S,viewport:p,minZoom:T,maxZoom:Y,nodesDraggable:X,nodesConnectable:R,elementsSelectable:U}=ze();J(t,p,H=>n(29,u=H)),J(t,T,H=>n(30,a=H)),J(t,Y,H=>n(28,r=H)),J(t,X,H=>n(33,d=H)),J(t,R,H=>n(32,c=H)),J(t,U,H=>n(31,f=H));const Q={bgColor:b,bgColorHover:y,color:M,colorHover:O,borderColor:E},V=()=>{A()},ne=()=>{N()},le=()=>{S()},ge=()=>{n(8,i=!i),X.set(i),R.set(i),U.set(i)};return t.$$set=H=>{"position"in H&&n(0,_=H.position),"showZoom"in H&&n(1,v=H.showZoom),"showFitView"in H&&n(2,g=H.showFitView),"showLock"in H&&n(3,C=H.showLock),"buttonBgColor"in H&&n(22,b=H.buttonBgColor),"buttonBgColorHover"in H&&n(23,y=H.buttonBgColorHover),"buttonColor"in H&&n(24,M=H.buttonColor),"buttonColorHover"in H&&n(25,O=H.buttonColorHover),"buttonBorderColor"in H&&n(26,E=H.buttonBorderColor),"ariaLabel"in H&&n(4,z=H.ariaLabel),"style"in H&&n(5,P=H.style),"orientation"in H&&n(27,D=H.orientation),"class"in H&&n(6,k=H.class),"$$scope"in H&&n(35,m=H.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&7&&n(8,i=d||c||f),t.$$.dirty[0]&1610612736&&n(10,o=u.zoom<=a),t.$$.dirty[0]&805306368&&n(9,l=u.zoom>=r),t.$$.dirty[0]&134217728&&n(7,s=D==="horizontal"?"horizontal":"vertical")},[_,v,g,C,z,P,k,s,i,l,o,p,T,Y,X,R,U,Q,V,ne,le,ge,b,y,M,O,E,D,r,u,a,f,c,d,h,m]}class z0 extends fe{constructor(e){super(),ae(this,e,M0,E0,ce,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,class:6},null,[-1,-1])}}var bt;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(bt||(bt={}));function P0(t){let e,n;return{c(){e=be("circle"),w(e,"cx",t[0]),w(e,"cy",t[0]),w(e,"r",t[0]),w(e,"class",n=Se(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){K(i,e,o)},p(i,[o]){o&1&&w(e,"cx",i[0]),o&1&&w(e,"cy",i[0]),o&1&&w(e,"r",i[0]),o&2&&n!==(n=Se(["svelte-flow__background-pattern","dots",i[1]]))&&w(e,"class",n)},i:se,o:se,d(i){i&&B(e)}}}function H0(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=l=>{"radius"in l&&n(0,i=l.radius),"class"in l&&n(1,o=l.class)},[i,o]}class N0 extends fe{constructor(e){super(),ae(this,e,H0,P0,ce,{radius:0,class:1})}}const A0=N0;function T0(t){let e,n,i;return{c(){e=be("path"),w(e,"stroke-width",t[0]),w(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),w(e,"class",i=Se(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,l){K(o,e,l)},p(o,[l]){l&1&&w(e,"stroke-width",o[0]),l&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&w(e,"d",n),l&12&&i!==(i=Se(["svelte-flow__background-pattern",o[2],o[3]]))&&w(e,"class",i)},i:se,o:se,d(o){o&&B(e)}}}function O0(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:l=void 0}=e,{class:s=""}=e;return t.$$set=r=>{"lineWidth"in r&&n(0,i=r.lineWidth),"dimensions"in r&&n(1,o=r.dimensions),"variant"in r&&n(2,l=r.variant),"class"in r&&n(3,s=r.class)},[i,o,l,s]}class p0 extends fe{constructor(e){super(),ae(this,e,O0,T0,ce,{lineWidth:0,dimensions:1,variant:2,class:3})}}const I0=p0;function D0(t){let e,n;return e=new I0({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&64&&(l.dimensions=i[6]),o&1&&(l.variant=i[0]),o&2&&(l.lineWidth=i[1]),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function X0(t){let e,n;return e=new A0({props:{radius:t[7]/2,class:t[4]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o&128&&(l.radius=i[7]/2),o&16&&(l.class=i[4]),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function L0(t){let e,n,i,o,l,s,r,u,a,f,c,d,h;const m=[X0,D0],_=[];function v(g,C){return g[14]?0:1}return i=v(t),o=_[i]=m[i](t),{c(){e=be("svg"),n=be("pattern"),o.c(),f=be("rect"),w(n,"id",t[11]),w(n,"x",l=t[9].x%t[8][0]),w(n,"y",s=t[9].y%t[8][1]),w(n,"width",r=t[8][0]),w(n,"height",u=t[8][1]),w(n,"patternUnits","userSpaceOnUse"),w(n,"patternTransform",a=`translate(-${t[10][0]},-${t[10][1]})`),w(f,"x","0"),w(f,"y","0"),w(f,"width","100%"),w(f,"height","100%"),w(f,"fill",c=`url(#${t[11]})`),w(e,"class",d=ho(Se(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),w(e,"data-testid","svelte-flow__background"),me(e,"--xy-background-color-props",t[2]),me(e,"--xy-background-pattern-color-props",t[3])},m(g,C){K(g,e,C),ue(e,n),_[i].m(n,null),ue(e,f),h=!0},p(g,[C]){o.p(g,C),(!h||C&2048)&&w(n,"id",g[11]),(!h||C&768&&l!==(l=g[9].x%g[8][0]))&&w(n,"x",l),(!h||C&768&&s!==(s=g[9].y%g[8][1]))&&w(n,"y",s),(!h||C&256&&r!==(r=g[8][0]))&&w(n,"width",r),(!h||C&256&&u!==(u=g[8][1]))&&w(n,"height",u),(!h||C&1024&&a!==(a=`translate(-${g[10][0]},-${g[10][1]})`))&&w(n,"patternTransform",a),(!h||C&2048&&c!==(c=`url(#${g[11]})`))&&w(f,"fill",c),(!h||C&32&&d!==(d=ho(Se(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&w(e,"class",d),C&4&&me(e,"--xy-background-color-props",g[2]),C&8&&me(e,"--xy-background-pattern-color-props",g[3])},i(g){h||(L(o),h=!0)},o(g){W(o),h=!1},d(g){g&&B(e),_[i].d()}}}const Y0={[bt.Dots]:1,[bt.Lines]:1,[bt.Cross]:6};function V0(t,e,n){let i,o,l,s,r,u,a,{id:f=void 0}=e,{variant:c=bt.Dots}=e,{gap:d=20}=e,{size:h=1}=e,{lineWidth:m=1}=e,{bgColor:_=void 0}=e,{patternColor:v=void 0}=e,{patternClass:g=void 0}=e,{class:C=""}=e;const{viewport:b,flowId:y}=ze();J(t,b,P=>n(9,u=P)),J(t,y,P=>n(18,a=P));const M=h||Y0[c],O=c===bt.Dots,E=c===bt.Cross,z=Array.isArray(d)?d:[d,d];return t.$$set=P=>{"id"in P&&n(15,f=P.id),"variant"in P&&n(0,c=P.variant),"gap"in P&&n(16,d=P.gap),"size"in P&&n(17,h=P.size),"lineWidth"in P&&n(1,m=P.lineWidth),"bgColor"in P&&n(2,_=P.bgColor),"patternColor"in P&&n(3,v=P.patternColor),"patternClass"in P&&n(4,g=P.patternClass),"class"in P&&n(5,C=P.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${a}-${f||""}`),t.$$.dirty&512&&n(8,o=[z[0]*u.zoom||1,z[1]*u.zoom||1]),t.$$.dirty&512&&n(7,l=M*u.zoom),t.$$.dirty&384&&n(6,s=E?[l,l]:o),t.$$.dirty&192&&n(10,r=O?[l/2,l/2]:[s[0]/2,s[1]/2])},[c,m,_,v,g,C,s,l,o,u,r,i,b,y,O,f,d,h,a]}class R0 extends fe{constructor(e){super(),ae(this,e,V0,L0,ce,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const W0=R0;function B0(t){let e,n,i;return{c(){e=be("rect"),w(e,"class",n=Se(["svelte-flow__minimap-node",t[10]])),w(e,"x",t[0]),w(e,"y",t[1]),w(e,"rx",t[4]),w(e,"ry",t[4]),w(e,"width",t[2]),w(e,"height",t[3]),w(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),w(e,"shape-rendering",t[6]),ye(e,"selected",t[9])},m(o,l){K(o,e,l)},p(o,[l]){l&1024&&n!==(n=Se(["svelte-flow__minimap-node",o[10]]))&&w(e,"class",n),l&1&&w(e,"x",o[0]),l&2&&w(e,"y",o[1]),l&16&&w(e,"rx",o[4]),l&16&&w(e,"ry",o[4]),l&4&&w(e,"width",o[2]),l&8&&w(e,"height",o[3]),l&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&w(e,"style",i),l&64&&w(e,"shape-rendering",o[6]),l&1536&&ye(e,"selected",o[9])},i:se,o:se,d(o){o&&B(e)}}}function K0(t,e,n){let{x:i}=e,{y:o}=e,{width:l=0}=e,{height:s=0}=e,{borderRadius:r=5}=e,{color:u=void 0}=e,{shapeRendering:a}=e,{strokeColor:f=void 0}=e,{strokeWidth:c=2}=e,{selected:d=!1}=e,{class:h=""}=e;return t.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,l=m.width),"height"in m&&n(3,s=m.height),"borderRadius"in m&&n(4,r=m.borderRadius),"color"in m&&n(5,u=m.color),"shapeRendering"in m&&n(6,a=m.shapeRendering),"strokeColor"in m&&n(7,f=m.strokeColor),"strokeWidth"in m&&n(8,c=m.strokeWidth),"selected"in m&&n(9,d=m.selected),"class"in m&&n(10,h=m.class)},[i,o,l,s,r,u,a,f,c,d,h]}class F0 extends fe{constructor(e){super(),ae(this,e,K0,B0,ce,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function q0(t,e){const n=ld({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=F(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function vl(t,e,n){const i=t.slice();return i[53]=e[n],i}function pi(t){const e=t.slice(),n=un(e[53]).positionAbsolute;e[56]=n;const i=Dn(e[53]);return e[57]=i,e}function Cl(t){let e,n,i=[],o=new Map,l,s,r,u,a,f,c,d=t[1]&&El(t),h=Ie(t[19]);const m=_=>_[53].id;for(let _=0;_<h.length;_+=1){let v=vl(t,h,_),g=m(v);o.set(g,i[_]=zl(g,v))}return{c(){e=be("svg"),d&&d.c(),n=Te();for(let _=0;_<i.length;_+=1)i[_].c();l=be("path"),w(l,"class","svelte-flow__minimap-mask"),w(l,"d",s="M"+(t[25]-t[15])+","+(t[24]-t[15])+"h"+(t[23]+t[15]*2)+"v"+(t[22]+t[15]*2)+"h"+(-t[23]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),w(l,"fill-rule","evenodd"),w(l,"pointer-events","none"),w(e,"width",t[17]),w(e,"height",t[16]),w(e,"viewBox",r=t[25]+" "+t[24]+" "+t[23]+" "+t[22]),w(e,"class","svelte-flow__minimap-svg"),w(e,"role","img"),w(e,"aria-labelledby",t[39]),me(e,"--xy-minimap-mask-background-color-props",t[5]),me(e,"--xy-minimap-mask-stroke-color-props",t[6]),me(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(_,v){K(_,e,v),d&&d.m(e,null),ue(e,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(e,null);ue(e,l),a=!0,f||(c=Ke(u=q0.call(null,e,{panZoom:t[26],viewport:t[29],getViewScale:t[40],translateExtent:t[27],width:t[21],height:t[20],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),f=!0)},p(_,v){_[1]?d?d.p(_,v):(d=El(_),d.c(),d.m(e,n)):d&&(d.d(1),d=null),v[0]&524300|v[1]&240&&(h=Ie(_[19]),Ee(),i=It(i,v,m,1,_,h,o,e,pt,zl,l,vl),Me()),(!a||v[0]&63209472&&s!==(s="M"+(_[25]-_[15])+","+(_[24]-_[15])+"h"+(_[23]+_[15]*2)+"v"+(_[22]+_[15]*2)+"h"+(-_[23]-_[15]*2)+`z
      M`+_[18].x+","+_[18].y+"h"+_[18].width+"v"+_[18].height+"h"+-_[18].width+"z"))&&w(l,"d",s),(!a||v[0]&131072)&&w(e,"width",_[17]),(!a||v[0]&65536)&&w(e,"height",_[16]),(!a||v[0]&62914560&&r!==(r=_[25]+" "+_[24]+" "+_[23]+" "+_[22]))&&w(e,"viewBox",r),u&&Ne(u.update)&&v[0]&204476160&&u.update.call(null,{panZoom:_[26],viewport:_[29],getViewScale:_[40],translateExtent:_[27],width:_[21],height:_[20],inversePan:_[10],zoomStep:_[11],pannable:_[8],zoomable:_[9]}),v[0]&32&&me(e,"--xy-minimap-mask-background-color-props",_[5]),v[0]&64&&me(e,"--xy-minimap-mask-stroke-color-props",_[6]),v[0]&16512&&me(e,"--xy-minimap-mask-stroke-width-props",_[7]?_[7]*_[14]:void 0)},i(_){if(!a){for(let v=0;v<h.length;v+=1)L(i[v]);a=!0}},o(_){for(let v=0;v<i.length;v+=1)W(i[v]);a=!1},d(_){_&&B(e),d&&d.d();for(let v=0;v<i.length;v+=1)i[v].d();f=!1,c()}}}function El(t){let e,n;return{c(){e=be("title"),n=qe(t[1]),w(e,"id",t[39])},m(i,o){K(i,e,o),ue(e,n)},p(i,o){o[0]&2&&Xt(n,i[1])},d(i){i&&B(e)}}}function Ml(t){var l;let e,n;const i=[{x:t[56].x},{y:t[56].y},t[57],{selected:t[53].selected},{color:(l=t[35])==null?void 0:l.call(t,t[53])},{borderRadius:t[2]},{strokeColor:t[36](t[53])},{strokeWidth:t[3]},{shapeRendering:t[38]},{class:t[37](t[53])}];let o={};for(let s=0;s<i.length;s+=1)o=Ve(o,i[s]);return e=new F0({props:o}),{c(){te(e.$$.fragment)},m(s,r){$(e,s,r),n=!0},p(s,r){var a;const u=r[0]&524300|r[1]&240?wt(i,[r[0]&524288&&{x:s[56].x},r[0]&524288&&{y:s[56].y},r[0]&524288&&xt(s[57]),r[0]&524288&&{selected:s[53].selected},r[0]&524288|r[1]&16&&{color:(a=s[35])==null?void 0:a.call(s,s[53])},r[0]&4&&{borderRadius:s[2]},r[0]&524288|r[1]&32&&{strokeColor:s[36](s[53])},r[0]&8&&{strokeWidth:s[3]},r[1]&128&&{shapeRendering:s[38]},r[0]&524288|r[1]&64&&{class:s[37](s[53])}]):{};e.$set(u)},i(s){n||(L(e.$$.fragment,s),n=!0)},o(s){W(e.$$.fragment,s),n=!1},d(s){ee(e,s)}}}function zl(t,e){let n,i=Pn(e[53]),o,l,s=i&&Ml(pi(e));return{key:t,first:null,c(){n=Te(),s&&s.c(),o=Te(),this.first=n},m(r,u){K(r,n,u),s&&s.m(r,u),K(r,o,u),l=!0},p(r,u){e=r,u[0]&524288&&(i=Pn(e[53])),i?s?(s.p(pi(e),u),u[0]&524288&&L(s,1)):(s=Ml(pi(e)),s.c(),L(s,1),s.m(o.parentNode,o)):s&&(Ee(),W(s,1,1,()=>{s=null}),Me())},i(r){l||(L(s),l=!0)},o(r){W(s),l=!1},d(r){r&&(B(n),B(o)),s&&s.d(r)}}}function Z0(t){let e,n,i=t[26]&&Cl(t);return{c(){i&&i.c(),e=Te()},m(o,l){i&&i.m(o,l),K(o,e,l),n=!0},p(o,l){o[26]?i?(i.p(o,l),l[0]&67108864&&L(i,1)):(i=Cl(o),i.c(),L(i,1),i.m(e.parentNode,e)):i&&(Ee(),W(i,1,1,()=>{i=null}),Me())},i(o){n||(L(i),n=!0)},o(o){W(i),n=!1},d(o){o&&B(e),i&&i.d(o)}}}function U0(t){let e,n;return e=new Nn({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:Se(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[Z0]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.position=i[0]),o[0]&4112&&(l.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(l.class=Se(["svelte-flow__minimap",i[13]])),o[0]&268423150|o[1]&134217728&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}const Ii=t=>t instanceof Function?t:()=>t,G0=200,J0=150;function Q0(t,e,n){let i,o,l,s,r,u,a,f,c,d,h,m,_,v,g,C,b,y,M,O,E,{position:z="bottom-right"}=e,{ariaLabel:P="Mini map"}=e,{nodeStrokeColor:D="transparent"}=e,{nodeColor:k=void 0}=e,{nodeClass:A=""}=e,{nodeBorderRadius:N=5}=e,{nodeStrokeWidth:S=2}=e,{bgColor:p=void 0}=e,{maskColor:T=void 0}=e,{maskStrokeColor:Y=void 0}=e,{maskStrokeWidth:X=void 0}=e,{width:R=void 0}=e,{height:U=void 0}=e,{pannable:Q=!0}=e,{zoomable:V=!0}=e,{inversePan:ne=void 0}=e,{zoomStep:le=void 0}=e,{style:ge=""}=e,{class:H=""}=e;const{nodes:j,viewport:ie,width:q,height:Z,flowId:ke,panZoom:Pe,translateExtent:Ce}=ze();J(t,j,oe=>n(19,g=oe)),J(t,ie,oe=>n(51,C=oe)),J(t,q,oe=>n(21,y=oe)),J(t,Z,oe=>n(20,b=oe)),J(t,ke,oe=>n(52,M=oe)),J(t,Pe,oe=>n(26,O=oe)),J(t,Ce,oe=>n(27,E=oe));const Re=k===void 0?void 0:Ii(k),He=Ii(D),ct=Ii(A),dt=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",ot=`svelte-flow__minimap-desc-${M}`,lt=()=>a;return t.$$set=oe=>{"position"in oe&&n(0,z=oe.position),"ariaLabel"in oe&&n(1,P=oe.ariaLabel),"nodeStrokeColor"in oe&&n(41,D=oe.nodeStrokeColor),"nodeColor"in oe&&n(42,k=oe.nodeColor),"nodeClass"in oe&&n(43,A=oe.nodeClass),"nodeBorderRadius"in oe&&n(2,N=oe.nodeBorderRadius),"nodeStrokeWidth"in oe&&n(3,S=oe.nodeStrokeWidth),"bgColor"in oe&&n(4,p=oe.bgColor),"maskColor"in oe&&n(5,T=oe.maskColor),"maskStrokeColor"in oe&&n(6,Y=oe.maskStrokeColor),"maskStrokeWidth"in oe&&n(7,X=oe.maskStrokeWidth),"width"in oe&&n(44,R=oe.width),"height"in oe&&n(45,U=oe.height),"pannable"in oe&&n(8,Q=oe.pannable),"zoomable"in oe&&n(9,V=oe.zoomable),"inversePan"in oe&&n(10,ne=oe.inversePan),"zoomStep"in oe&&n(11,le=oe.zoomStep),"style"in oe&&n(12,ge=oe.style),"class"in oe&&n(13,H=oe.class)},t.$$.update=()=>{t.$$.dirty[0]&3145728|t.$$.dirty[1]&1048576&&n(18,i={x:-C.x/C.zoom,y:-C.y/C.zoom,width:y/C.zoom,height:b/C.zoom}),t.$$.dirty[0]&786432&&n(48,o=g.length>0?Oc(In(g),i):i),t.$$.dirty[1]&8192&&n(17,l=R??G0),t.$$.dirty[1]&16384&&n(16,s=U??J0),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(50,r=o.width/l),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(49,u=o.height/s),t.$$.dirty[1]&786432&&n(14,a=Math.max(r,u)),t.$$.dirty[0]&147456&&n(47,f=a*l),t.$$.dirty[0]&81920&&n(46,c=a*s),t.$$.dirty[0]&16384&&n(15,d=5*a),t.$$.dirty[0]&32768|t.$$.dirty[1]&196608&&n(25,h=o.x-(f-o.width)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&163840&&n(24,m=o.y-(c-o.height)/2-d),t.$$.dirty[0]&32768|t.$$.dirty[1]&65536&&n(23,_=f+d*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&32768&&n(22,v=c+d*2)},[z,P,N,S,p,T,Y,X,Q,V,ne,le,ge,H,a,d,s,l,i,g,b,y,v,_,m,h,O,E,j,ie,q,Z,ke,Pe,Ce,Re,He,ct,dt,ot,lt,D,k,A,R,U,c,f,o,u,r,C]}class j0 extends fe{constructor(e){super(),ae(this,e,Q0,U0,ce,{position:0,ariaLabel:1,nodeStrokeColor:41,nodeColor:42,nodeClass:43,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:44,height:45,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function x0(t){let e,n,i;const o=t[33].default,l=De(o,t,t[32],null);return{c(){e=_e("div"),l&&l.c(),w(e,"class",n=Se(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),w(e,"style",t[3])},m(s,r){K(s,e,r),l&&l.m(e,null),t[34](e),i=!0},p(s,r){l&&l.p&&(!i||r[1]&2)&&Le(l,o,s,s[32],i?Xe(o,s[32],r,null):Ye(s[32]),null),(!i||r[0]&19&&n!==(n=Se(["svelte-flow__resize-control","nodrag",...s[4],s[0],s[1]])))&&w(e,"class",n),(!i||r[0]&8)&&w(e,"style",s[3])},i(s){i||(L(l,s),i=!0)},o(s){W(l,s),i=!1},d(s){s&&B(e),l&&l.d(s),t[34](null)}}}function $0(t,e,n){let i,o,l,s,r,u,a,f,c,d,h,m,_,v,g,C,{$$slots:b={},$$scope:y}=e,{nodeId:M=void 0}=e,{position:O=void 0}=e,{variant:E=bn.Handle}=e,{color:z=void 0}=e,{minWidth:P=10}=e,{minHeight:D=10}=e,{maxWidth:k=Number.MAX_VALUE}=e,{maxHeight:A=Number.MAX_VALUE}=e,{keepAspectRatio:N=!1}=e,{shouldResize:S=void 0}=e,{onResizeStart:p=void 0}=e,{onResize:T=void 0}=e,{onResizeEnd:Y=void 0}=e,{style:X=""}=e,{class:R=""}=e;const{nodeLookup:U,snapGrid:Q,viewport:V,nodes:ne,nodeOrigin:le}=ze();J(t,U,q=>n(37,_=q)),J(t,Q,q=>n(39,g=q)),J(t,V,q=>n(40,C=q)),J(t,ne,q=>n(36,m=q)),J(t,le,q=>n(38,v=q));const ge=Sn("svelteflow__node_id");let H,j=null;An(()=>(H&&n(23,j=Sd({domNode:H,nodeId:r,getStoreItems:()=>({nodeLookup:_,transform:[C.x,C.y,C.zoom],snapGrid:g??void 0,snapToGrid:!!g,nodeOrigin:v}),onChange:(q,Z)=>{const ke=_.get(r);if(ke){ke.height=q.isHeightChange?q.height:ke.height,ke.width=q.isWidthChange?q.width:ke.width,ke.position=q.isXPosChange||q.isYPosChange?{x:q.x,y:q.y}:ke.position;for(const Pe of Z){const Ce=_.get(Pe.id);Ce&&(Ce.position=Pe.position)}ne.set(m)}}})),()=>{j==null||j.destroy()}));function ie(q){at[q?"unshift":"push"](()=>{H=q,n(2,H)})}return t.$$set=q=>{"nodeId"in q&&n(10,M=q.nodeId),"position"in q&&n(11,O=q.position),"variant"in q&&n(0,E=q.variant),"color"in q&&n(12,z=q.color),"minWidth"in q&&n(13,P=q.minWidth),"minHeight"in q&&n(14,D=q.minHeight),"maxWidth"in q&&n(15,k=q.maxWidth),"maxHeight"in q&&n(16,A=q.maxHeight),"keepAspectRatio"in q&&n(17,N=q.keepAspectRatio),"shouldResize"in q&&n(18,S=q.shouldResize),"onResizeStart"in q&&n(19,p=q.onResizeStart),"onResize"in q&&n(20,T=q.onResize),"onResizeEnd"in q&&n(21,Y=q.onResizeEnd),"style"in q&&n(22,X=q.style),"class"in q&&n(1,R=q.class),"$$scope"in q&&n(32,y=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&n(27,i=P??10),t.$$.dirty[0]&16384&&n(26,o=D??10),t.$$.dirty[0]&32768&&n(25,l=k??Number.MAX_VALUE),t.$$.dirty[0]&65536&&n(24,s=A??Number.MAX_VALUE),t.$$.dirty[0]&1024&&(r=typeof M=="string"?M:ge),t.$$.dirty[0]&1&&n(31,u=E===bn.Line?"right":"bottom-right"),t.$$.dirty[0]&2048|t.$$.dirty[1]&1&&n(28,a=O??u),t.$$.dirty[0]&268435456&&n(4,f=a.split("-")),t.$$.dirty[0]&1&&n(30,c=E===bn.Line?"border-color":"background-color"),t.$$.dirty[0]&4194304&&n(29,d=X??""),t.$$.dirty[0]&1610616832&&n(3,h=z?`${d} ${c}: ${z};`:d),t.$$.dirty[0]&532545536&&(j==null||j.update({controlPosition:a,boundaries:{minWidth:i,minHeight:o,maxWidth:l,maxHeight:s},keepAspectRatio:!!N,onResizeStart:p,onResize:T,onResizeEnd:Y,shouldResize:S}))},[E,R,H,h,f,U,Q,V,ne,le,M,O,z,P,D,k,A,N,S,p,T,Y,X,j,s,l,o,i,a,d,c,u,y,b,ie]}class eg extends fe{constructor(e){super(),ae(this,e,$0,x0,ce,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}const Pl=t=>Pc(t),es=()=>hi();function tg(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:o,viewport:l,width:s,height:r,minZoom:u,maxZoom:a,panZoom:f,nodes:c,edges:d,domNode:h,nodeLookup:m,edgeLookup:_}=ze(),v=C=>{const b=Pl(C)&&Pn(C)?C:F(m).get(C.id);return b?Gi(b):null},g=(C,b,y={replace:!1})=>{c.update(M=>M.map(O=>{if(O.id===C){const E=typeof b=="function"?b(O):b;return y.replace&&Pl(E)?E:{...O,...E}}return O}))};return{zoomIn:t,zoomOut:e,getNode:C=>F(m).get(C),getNodes:C=>C===void 0?F(c):Hl(F(m),C),getEdge:C=>F(_).get(C),getEdges:C=>C===void 0?F(d):Hl(F(_),C),setZoom:(C,b)=>{var y;(y=F(f))==null||y.scaleTo(C,{duration:b==null?void 0:b.duration})},getZoom:()=>F(l).zoom,setViewport:(C,b)=>{var M;const y=F(l);(M=F(f))==null||M.setViewport({x:C.x??y.x,y:C.y??y.y,zoom:C.zoom??y.zoom},{duration:b==null?void 0:b.duration})},getViewport:()=>F(l),setCenter:(C,b,y)=>{var O;const M=typeof(y==null?void 0:y.zoom)<"u"?y.zoom:F(a);(O=F(f))==null||O.setViewport({x:F(s)/2-C*M,y:F(r)/2-b*M,zoom:M},{duration:y==null?void 0:y.duration})},fitView:n,fitBounds:(C,b)=>{var M;const y=ao(C,F(s),F(r),F(u),F(a),(b==null?void 0:b.padding)??.1);(M=F(f))==null||M.setViewport(y,{duration:b==null?void 0:b.duration})},getIntersectingNodes:(C,b=!0,y)=>{const M=Lo(C),O=M?C:v(C);return O?(y||F(c)).filter(E=>{var k;if(!M&&(E.id===C.id||!((k=E.computed)!=null&&k.positionAbsolute)))return!1;const z=Gi(E),P=fi(z,O);return b&&P>0||P>=O.width*O.height}):[]},isNodeIntersecting:(C,b,y=!0)=>{const O=Lo(C)?C:v(C);if(!O)return!1;const E=fi(O,b);return y&&E>0||E>=O.width*O.height},deleteElements:async({nodes:C=[],edges:b=[]})=>{const{nodes:y,edges:M}=await zr({nodesToRemove:C,edgesToRemove:b,nodes:F(c),edges:F(d),onBeforeDelete:F(i)});return y&&c.update(O=>O.filter(E=>!y.some(({id:z})=>z===E.id))),M&&d.update(O=>O.filter(E=>!M.some(({id:z})=>z===E.id))),{deletedNodes:y,deletedEdges:M}},screenToFlowPosition:(C,b={snapToGrid:!0})=>{const y=F(h);if(!y)return C;const M=b.snapToGrid?F(o):!1,{x:O,y:E,zoom:z}=F(l),{x:P,y:D}=y.getBoundingClientRect(),k={x:C.x-P,y:C.y-D};return wi(k,[O,E,z],M!==null,M||[1,1])},flowToScreenPosition:C=>{const b=F(h);if(!b)return C;const{x:y,y:M,zoom:O}=F(l),{x:E,y:z}=b.getBoundingClientRect(),P=Hr(C,[y,M,O]);return{x:P.x+E,y:P.y+z}},toObject:()=>({nodes:F(c).map(C=>({...C,position:{...C.position},data:{...C.data}})),edges:F(d).map(C=>({...C})),viewport:{...F(l)}}),updateNode:g,updateNodeData:(C,b,y)=>{g(C,M=>{const O=typeof b=="function"?b(M):b;return y!=null&&y.replace?{...M,data:O}:{...M,data:{...M.data,...O}}})},viewport:l}}function Hl(t,e){const n=[];for(const i of e){const o=t.get(i);o&&n.push(o)}return n}function ng(){const{domNode:t,updateNodeDimensions:e}=ze();return i=>{const o=Array.isArray(i)?i:[i],l=new Map;o.forEach(s=>{var u;const r=(u=F(t))==null?void 0:u.querySelector(`.svelte-flow__node[data-id="${s}"]`);r&&l.set(s,{id:s,nodeElement:r,forceUpdate:!0})}),requestAnimationFrame(()=>e(l))}}function ig(){const{connection:t}=ze();return t}function og(){const{nodes:t}=ze();return t}function ts(){const{edges:t}=ze();return t}var Di={local:{},session:{}};function lg(t){return t==="local"?localStorage:sessionStorage}function ns(t,e,n){var i,o,l,s;const r=(i=n==null?void 0:n.serializer)!=null?i:JSON,u=(o=n==null?void 0:n.storage)!=null?o:"local",a=(l=n==null?void 0:n.syncTabs)!=null?l:!0,f=(s=n==null?void 0:n.onError)!=null?s:_=>console.error(`Error when writing value from persisted store "${t}" to ${u}`,_),c=typeof window<"u"&&typeof document<"u",d=c?lg(u):null;function h(_,v){try{d==null||d.setItem(_,r.stringify(v))}catch(g){f(g)}}function m(){const _=d==null?void 0:d.getItem(t);return _?r.parse(_):e}if(!Di[u][t]){const _=m(),v=re(_,b=>{if(c&&u=="local"&&a){const y=M=>{M.key===t&&b(M.newValue?r.parse(M.newValue):null)};return window.addEventListener("storage",y),()=>window.removeEventListener("storage",y)}}),{subscribe:g,set:C}=v;Di[u][t]={set(b){C(b),h(t,b)},update(b){return v.update(y=>{const M=b(y);return h(t,M),M})},subscribe:g}}return Di[u][t]}const mt=[{id:crypto.randomUUID().toString(),type:"default",data:{label:"Patch",connection:"",inputs:[],outputs:["ethernet","sdi","audio","power"],group:!1},position:{x:0,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Canvas",inputs:["dante","dmx","ethernet","sdi","audio","midi","osc","power"],outputs:["dante","dmx","ethernet","sdi","audio","midi","osc"]},dragHandle:".drag-dots",position:{x:0,y:100}}],rg=[{id:crypto.randomUUID().toString(),type:"connection",class:"",source:mt[0].id,sourceHandle:"ethernet",target:mt[1].id,targetHandle:"ethernet"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:mt[0].id,sourceHandle:"sdi",target:mt[1].id,targetHandle:"sdi"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:mt[0].id,sourceHandle:"audio",target:mt[1].id,targetHandle:"audio"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:mt[0].id,sourceHandle:"power",target:mt[1].id,targetHandle:"power"}],sg=1,Qi=1,ug={version:sg,theme:"dark"},Xi=ns("preferences",ug),is={version:Qi,uniqueFlow:[{}],title:"PatchCanvas",nodes:mt,edges:rg},tt=ns("save",is);function ag(t){let e,n,i,o,l,s,r,u;return{c(){e=_e("p"),e.textContent="Drag to the canvas!",n=de(),i=_e("div"),o=_e("div"),o.textContent="node",l=de(),s=_e("div"),s.textContent="group",w(e,"class","svelte-1b7qbyq"),w(o,"draggable",!0),w(o,"class","svelte-1b7qbyq"),w(s,"draggable",!0),w(s,"class","svelte-1b7qbyq"),w(i,"class","nodes svelte-1b7qbyq")},m(a,f){K(a,e,f),K(a,n,f),K(a,i,f),ue(i,o),ue(i,l),ue(i,s),r||(u=[he(o,"dragstart",t[1]),he(s,"dragstart",t[2])],r=!0)},p:se,i:se,o:se,d(a){a&&(B(e),B(n),B(i)),r=!1,Oe(u)}}}function fg(t){const e=(o,l)=>{if(!o.dataTransfer)return null;o.dataTransfer.setData("application/patchcanvasnode",l),o.dataTransfer.effectAllowed="move"};return[e,o=>e(o,JSON.stringify({inputs:[],outputs:[]})),o=>e(o,JSON.stringify({group:!0}))]}class cg extends fe{constructor(e){super(),ae(this,e,fg,ag,ce,{})}}const dg=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-audio-input-xlr"
	viewBox="0 -5 24 34"
	fill="currentColor"
	><path
		d="M12 4C16.41 4 20 7.59 20 12S16.41 20 12 20 4 16.41 4 12 7.59 4 12 4M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M13.5 16.5C13.5 15.67 12.83 15 12 15S10.5 15.67 10.5 16.5C10.5 17.33 11.17 18 12 18S13.5 17.33 13.5 16.5M9 12C9 11.17 8.33 10.5 7.5 10.5S6 11.17 6 12 6.67 13.5 7.5 13.5 9 12.83 9 12M18 12C18 11.17 17.33 10.5 16.5 10.5C15.67 10.5 15 11.17 15 12S15.67 13.5 16.5 13.5C17.33 13.5 18 12.83 18 12Z"
	/></svg
>
`,hg=`<svg
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	viewBox="350 -15 800 600"
	preserveAspectRatio="xMidYMid meet"
>
	<g
		transform="translate(0,576) scale(0.1,-0.1)"
		fill="currentColor"
		stroke="none"
	>
		<path
			d="M7125 4624 c-16 -2 -73 -9 -125 -15 -675 -76 -1339 -406 -1816 -902
-532 -551 -804 -1238 -804 -2029 l0 -78 214 0 213 0 6 203 c10 340 66 595 197
898 183 423 517 812 925 1079 141 92 417 228 570 280 295 101 591 150 908 150
l127 0 0 210 0 210 -192 -1 c-106 -1 -206 -4 -223 -5z"
		/>
		<path
			d="M7260 3773 c-786 -55 -1456 -474 -1795 -1125 -145 -279 -211 -536
-222 -870 l-6 -178 861 0 862 0 0 225 0 225 -631 0 -632 0 7 40 c12 73 67 233
116 335 189 392 539 697 976 848 92 32 272 77 309 77 13 0 15 -99 15 -875 l0
-875 210 0 210 0 0 1090 0 1090 -117 -2 c-65 -1 -138 -3 -163 -5z"
		/>
		<path
			d="M4380 1130 l0 -130 215 0 215 0 0 130 0 130 -215 0 -215 0 0 -130z"
		/>
		<path
			d="M5240 1130 l0 -130 1155 0 1155 0 0 130 0 130 -1155 0 -1155 0 0
-130z"
		/>
	</g>
</svg>
`,gg=`<svg fill="currentColor" viewBox="1 -5 24 34" xmlns="http://www.w3.org/2000/svg"
	><title>lightbulb</title><path
		d="M12,2A7,7,0,0,0,8,14.74V17a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V14.74A7,7,0,0,0,12,2ZM9,21a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V20H9Z"
	/></svg
>
`,mg=`<svg
	viewBox="2 -2 24 26"
	id="Layer_1"
	data-name="Layer 1"
	xmlns="http://www.w3.org/2000/svg"
	><defs
		><style>
			.cls-1 {
				fill: none;
				stroke: currentColor;
				stroke-miterlimit: 10;
				stroke-width: 1.91px;
			}
		</style></defs
	><polygon
		class="cls-1"
		points="5.32 6.27 5.32 13.91 7.23 13.91 7.23 15.82 10.09 15.82 10.09 17.73 13.91 17.73 13.91 15.82 16.77 15.82 16.77 13.91 18.68 13.91 18.68 6.27 5.32 6.27"
	/><line class="cls-1" x1="8.18" y1="9.14" x2="8.18" y2="6.27" /><line
		class="cls-1"
		x1="12"
		y1="9.14"
		x2="12"
		y2="6.27"
	/><line class="cls-1" x1="15.82" y1="9.14" x2="15.82" y2="6.27" /></svg
>
`,_g=`<svg
	viewBox="0 -5 24 34"
	xmlns="http://www.w3.org/2000/svg"
	fill="currentColor"
	><path
		d="m12 2a10 10 0 0 1 10 10 10 10 0 0 1 -10 10 10 10 0 0 1 -10-10 10 10 0 0 1 10-10m8.18 10c0-3.82-2.63-7.04-6.18-7.93v1.93h-4v-1.93c-3.55.89-6.18 4.11-6.18 7.93a8.18 8.18 0 0 0 8.18 8.18 8.18 8.18 0 0 0 8.18-8.18m-13.18-1.36a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36c-.75 0-1.36-.61-1.36-1.36s.61-1.36 1.36-1.36m10 0a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36m-8.64 3.63a1.37 1.37 0 0 1 1.37 1.37c0 .75-.61 1.36-1.37 1.36a1.36 1.36 0 0 1 -1.36-1.36c0-.76.61-1.37 1.36-1.37m7.28 0c.75 0 1.36.61 1.36 1.37a1.36 1.36 0 0 1 -1.36 1.36c-.76 0-1.37-.61-1.37-1.36a1.37 1.37 0 0 1 1.37-1.37m-3.64 1.37a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36z"
	/></svg
>
`,yg=`<svg
  viewBox="-25 -128 512 750"
  xmlns="http://www.w3.org/2000/svg"
  fill="currentColor"
>
  <polygon
    points="385.128 118.178 359.868 137.822 451.732 255.944 359.813 374.18 385.076 393.82 492.268 255.94 385.128 118.178"
  />
  <polygon
    points="119.814 118.177 12.621 255.993 119.759 393.819 145.022 374.181 53.156 255.999 145.074 137.823 119.814 118.177"
  />
  <rect
    width="32"
    height="32"
    x="160"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="240"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="320"
    y="240"
  />
</svg>
`,bg=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-power-plug-outline"
	viewBox="1 -4 24 30"
	fill="currentColor"
	><path
		d="M16 7V3H14V7H10V3H8V7C7 7 6 8 6 9V14.5L9.5 18V21H14.5V18L18 14.5V9C18 8 17 7 16 7M16 13.67L13.09 16.59L12.67 17H11.33L10.92 16.59L8 13.67V9.09C8 9.06 8.06 9 8.09 9H15.92C15.95 9 16 9.06 16 9.09V13.67Z"
	/></svg
>
`,wg=`<svg viewBox="-2 -16 48 80" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\r
  <title>output</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none" />\r
    </g>\r
    <g id="Layer_6" data-name="Layer 6">\r
      <g>\r
        <path\r
          d="M45.4,22.6l-7.9-8a2.1,2.1,0,0,0-2.7-.2,1.9,1.9,0,0,0-.2,3L39.2,22H16a2,2,0,0,0,0,4H39.2l-4.6,4.6a1.9,1.9,0,0,0,.2,3,2.1,2.1,0,0,0,2.7-.2l7.9-8A1.9,1.9,0,0,0,45.4,22.6Z"\r
        />\r
        <path\r
          d="M28,42H24A18,18,0,0,1,24,6h4a2,2,0,0,0,1.4-.6A2,2,0,0,0,30,4a2.4,2.4,0,0,0-.2-.9A2,2,0,0,0,28,2H23.8a22,22,0,0,0,.1,44H28a2,2,0,0,0,1.4-.6l.4-.5A2.4,2.4,0,0,0,30,44,2,2,0,0,0,28,42Z"\r
        />\r
      </g>\r
    </g>\r
  </g>\r
</svg>\r
`,Nl=["dante","dmx","sdi","ethernet","audio","midi","osc","power"],Fe={dante:["red",1,hg],dmx:["dodgerblue",2,gg],sdi:["limegreen",3,wg],ethernet:["gold",4,mg],audio:["orange",5,dg],midi:["hotpink",6,_g],osc:["magenta",7,yg],power:["var(--font-colour)",8,bg]};function kg(t,e){let n=Nl.indexOf(t),i=Nl.indexOf(e);return Math.sign(n-i)}const Sg='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 103.38" fill="currentColor" style="enable-background:new 0 0 122.88 103.38" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"/></g></svg>';function Al(t,e,n){const i=t.slice();return i[17]=e[n][0],i[18]=e[n][1],i}function Tl(t){let e,n,i=t[18][2]+"",o,l=t[17]+"",s,r,u,a;function f(){return t[10](t[17])}function c(){return t[11](t[17])}function d(...h){return t[12](t[17],...h)}return{c(){e=_e("div"),n=_e("div"),o=de(),s=qe(l),r=de(),w(n,"class","icon"),w(e,"class","connection svelte-xqyf53"),me(e,"--connection",t[18][0]),w(e,"draggable",!0)},m(h,m){K(h,e,m),ue(e,n),n.innerHTML=i,ue(e,o),ue(e,s),ue(e,r),u||(a=[he(e,"mouseenter",f),he(e,"mouseleave",c),he(e,"dragstart",d),he(e,"dragend",t[9])],u=!0)},p(h,m){t=h},d(h){h&&B(e),u=!1,Oe(a)}}}function vg(t){let e,n,i,o,l,s,r,u,a,f=Ie(t[2]),c=[];for(let d=0;d<f.length;d+=1)c[d]=Tl(Al(t,f,d));return{c(){e=_e("p"),e.textContent="Connections",n=de(),i=_e("div");for(let d=0;d<c.length;d+=1)c[d].c();o=de(),l=_e("div"),s=new Rs(!1),r=qe(" erase"),w(e,"class","svelte-xqyf53"),w(i,"class","connections svelte-xqyf53"),s.a=r,w(l,"class","eraser svelte-xqyf53"),w(l,"draggable",!0)},m(d,h){K(d,e,h),K(d,n,h),K(d,i,h);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null);K(d,o,h),K(d,l,h),s.m(Sg,l),ue(l,r),t[13](l),u||(a=[he(l,"mouseenter",t[3]),he(l,"mouseleave",t[4]),he(l,"dragstart",t[14]),he(l,"dragend",t[9])],u=!0)},p(d,[h]){if(h&740){f=Ie(d[2]);let m;for(m=0;m<f.length;m+=1){const _=Al(d,f,m);c[m]?c[m].p(_,h):(c[m]=Tl(_),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=f.length}},i:se,o:se,d(d){d&&(B(e),B(n),B(i),B(o),B(l)),Li(c,d),t[13](null),u=!1,Oe(a)}}}function Cg(t,e,n){let i;const o=ts();J(t,o,y=>n(16,i=y));const l=Object.entries(Fe);function s(){for(let y of i)y.class+="fade-out";o.set(i);for(let y of document.querySelectorAll(".svelte-flow__node .label"))y.classList.add("fade-out");for(let y of document.querySelectorAll(".svelte-flow__handle"))y.classList.add("highlight")}function r(){var y;for(let M of i)M.class=(y=M.class)==null?void 0:y.replace("fade-out","");o.set(i);for(let M of document.querySelectorAll(".svelte-flow__node .label"))M.classList.remove("fade-out");for(let M of document.querySelectorAll(".svelte-flow__handle"))M.classList.remove("highlight")}function u(y){for(let M of i)M.sourceHandle===y?M.class+="highlight":M.class+="fade-out";o.set(i);for(let M of document.querySelectorAll(".svelte-flow__handle"))M.getAttribute("data-handleid")===y?M.classList.add("highlight"):M.classList.add("fade-out")}function a(y){var M,O;y=y;for(let E of i)E.sourceHandle===y?E.class=(M=E.class)==null?void 0:M.replace("highlight",""):E.class=(O=E.class)==null?void 0:O.replace("fade-out","");o.set(i);for(let E of document.querySelectorAll(".svelte-flow__handle"))E.getAttribute("data-handleid")===y?E.classList.remove("highlight"):E.classList.remove("fade-out")}let f;const c=(y,M)=>{if(!y.dataTransfer)return null;y.dataTransfer.setData(`patchcanvasconnection/${M}`,""),y.dataTransfer.effectAllowed="move",f=y.target.cloneNode(!0),f.classList.add("dragging"),f.style.position="absolute",f.style.top="0",f.style.right="0",f.style.zIndex="-1",f.style.setProperty("--connection",Fe[M][0]),document.body.appendChild(f),y.dataTransfer.setDragImage(f,-16,0)};let d;const h=y=>{if(!y.dataTransfer)return null;y.dataTransfer.setData("application/patchcanvaseraser",""),y.dataTransfer.effectAllowed="move",f=d.cloneNode(!0),f.classList.add("dragging"),f.style.position="absolute",f.style.top="0",f.style.right="0",f.style.zIndex="-1",document.body.appendChild(f),y.dataTransfer.setDragImage(f,-16,0)},m=()=>{f.remove()},_=y=>u(y),v=y=>a(y),g=(y,M)=>c(M,y);function C(y){at[y?"unshift":"push"](()=>{d=y,n(0,d)})}return[d,o,l,s,r,u,a,c,h,m,_,v,g,C,y=>h(y)]}class Eg extends fe{constructor(e){super(),ae(this,e,Cg,vg,ce,{})}}var vi={};Object.defineProperty(vi,"__esModule",{value:!0});function os(t,e){var n=document.createElement("a");n.href=e,n.download=t,n.click()}vi.downloadUrl=os;function ls(t,e){var n=URL.createObjectURL(e);os(t,n),URL.revokeObjectURL(n)}vi.downloadBlob=ls;function Mg(t,e){ls(t,new Blob([e],{type:"octet/stream"}))}var zg=vi.downloadText=Mg;function Pg(t){let e,n,i=t[1].title+"",o,l,s,r,u,a,f,c,d,h,m,_,v,g;return{c(){e=_e("div"),n=_e("h1"),o=qe(i),l=de(),s=_e("button"),s.textContent="Rename",r=de(),u=_e("div"),a=_e("button"),a.textContent="New",f=de(),c=_e("button"),d=qe(`Import
		`),h=_e("input"),m=de(),_=_e("button"),_.textContent="Export",w(e,"class","title svelte-kjx2hd"),w(h,"type","file"),w(h,"accept",".patch"),w(u,"class","buttons svelte-kjx2hd")},m(C,b){K(C,e,b),ue(e,n),ue(n,o),ue(e,l),ue(e,s),K(C,r,b),K(C,u,b),ue(u,a),ue(u,f),ue(u,c),ue(c,d),ue(c,h),ue(u,m),ue(u,_),v||(g=[he(s,"click",t[3]),he(a,"click",rs),he(h,"change",t[6]),he(h,"change",t[2]),he(_,"click",t[4])],v=!0)},p(C,[b]){b&2&&i!==(i=C[1].title+"")&&Xt(o,i)},i:se,o:se,d(C){C&&(B(e),B(r),B(u)),v=!1,Oe(g)}}}function Hg(t,e,n){let i;J(t,tt,f=>n(1,i=f));let o;function l(){if(!o[0])return;let f=new FileReader;f.readAsText(o[0]),f.onload=c=>{var h;let d=JSON.parse((h=c.target)==null?void 0:h.result);s(d)}}function s(f){nt(tt,i=f,i),nt(tt,i.uniqueFlow=[{}],i)}function r(){let f=prompt(void 0,i.title);f!==null&&nt(tt,i.title=f,i)}function u(){let f=JSON.stringify(F(tt));zg(i.title+".patch",f)}function a(){o=this.files,n(0,o)}return[o,i,l,r,u,s,a]}class Ng extends fe{constructor(e){super(),ae(this,e,Hg,Pg,ce,{load:5})}get load(){return this.$$.ctx[5]}}function Ag(t){let e,n,i,o,l,s,r,u={};return n=new Ng({props:u}),t[0](n),o=new cg({}),s=new Eg({}),{c(){e=_e("aside"),te(n.$$.fragment),i=de(),te(o.$$.fragment),l=de(),te(s.$$.fragment),w(e,"class","svelte-143rm6d")},m(a,f){K(a,e,f),$(n,e,null),ue(e,i),$(o,e,null),ue(e,l),$(s,e,null),r=!0},p(a,[f]){const c={};n.$set(c)},i(a){r||(L(n.$$.fragment,a),L(o.$$.fragment,a),L(s.$$.fragment,a),r=!0)},o(a){W(n.$$.fragment,a),W(o.$$.fragment,a),W(s.$$.fragment,a),r=!1},d(a){a&&B(e),t[0](null),ee(n),ee(o),ee(s)}}}let ji;const rs=function(){ji&&ji.load(is)};function Tg(t,e,n){function i(o){at[o?"unshift":"push"](()=>{ji=o})}return[i]}class Og extends fe{constructor(e){super(),ae(this,e,Tg,Ag,ce,{})}}function pg(t){let e,n;return e=new Xn({props:{path:t[6],labelX:t[5],labelY:t[4],markerStart:t[2],markerEnd:t[0],style:t[1],class:t[3]}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&64&&(l.path=i[6]),o&32&&(l.labelX=i[5]),o&16&&(l.labelY=i[4]),o&4&&(l.markerStart=i[2]),o&1&&(l.markerEnd=i[0]),o&2&&(l.style=i[1]),o&8&&(l.class=i[3]),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Ig(t,e,n){let i,o,l,{id:s}=e,{type:r}=e,{source:u}=e,{sourceX:a}=e,{sourceY:f}=e,{sourcePosition:c}=e,{sourceHandleId:d=""}=e,{target:h}=e,{targetX:m}=e,{targetY:_}=e,{targetPosition:v}=e,{targetHandleId:g=""}=e,{markerStart:C=void 0}=e,{markerEnd:b=void 0}=e,{animated:y=!1}=e,{selected:M=!1}=e,{label:O=""}=e,{labelStyle:E=""}=e,{data:z=void 0}=e,{interactionWidth:P=void 0}=e,{style:D=""}=e,{edgeClass:k=""}=e;return ts(),t.$$set=A=>{"id"in A&&n(7,s=A.id),"type"in A&&n(8,r=A.type),"source"in A&&n(9,u=A.source),"sourceX"in A&&n(10,a=A.sourceX),"sourceY"in A&&n(11,f=A.sourceY),"sourcePosition"in A&&n(12,c=A.sourcePosition),"sourceHandleId"in A&&n(13,d=A.sourceHandleId),"target"in A&&n(14,h=A.target),"targetX"in A&&n(15,m=A.targetX),"targetY"in A&&n(16,_=A.targetY),"targetPosition"in A&&n(17,v=A.targetPosition),"targetHandleId"in A&&n(18,g=A.targetHandleId),"markerStart"in A&&n(2,C=A.markerStart),"markerEnd"in A&&n(0,b=A.markerEnd),"animated"in A&&n(19,y=A.animated),"selected"in A&&n(20,M=A.selected),"label"in A&&n(21,O=A.label),"labelStyle"in A&&n(22,E=A.labelStyle),"data"in A&&n(23,z=A.data),"interactionWidth"in A&&n(24,P=A.interactionWidth),"style"in A&&n(1,D=A.style),"edgeClass"in A&&n(3,k=A.edgeClass)},t.$$.update=()=>{if(t.$$.dirty&236544&&n(6,[i,o,l]=ln({sourceX:a,sourceY:f,sourcePosition:c,targetX:m,targetY:_,targetPosition:v}),i,(n(5,o),n(10,a),n(11,f),n(12,c),n(15,m),n(16,_),n(17,v)),(n(4,l),n(10,a),n(11,f),n(12,c),n(15,m),n(16,_),n(17,v))),t.$$.dirty&8192){let A=Fe[d??""][0];n(1,D=`stroke: ${A};`),n(0,b=`url(#${d})`)}},[b,D,C,k,l,o,i,s,r,u,a,f,c,d,h,m,_,v,g,y,M,O,E,z,P]}class Dg extends fe{constructor(e){super(),ae(this,e,Ig,pg,ce,{id:7,type:8,source:9,sourceX:10,sourceY:11,sourcePosition:12,sourceHandleId:13,target:14,targetX:15,targetY:16,targetPosition:17,targetHandleId:18,markerStart:2,markerEnd:0,animated:19,selected:20,label:21,labelStyle:22,data:23,interactionWidth:24,style:1,edgeClass:3})}}const Xg=`<svg fill="currentColor" viewBox="4 2 8 12" xmlns="http://www.w3.org/2000/svg"\r
	><path\r
		fill-rule="evenodd"\r
		d="M7.375 3.67c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm0 8.66c0-.646-.56-1.17-1.25-1.17s-1.25.524-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17zm-1.25-5.5c.69 0 1.25.525 1.25 1.17 0 .645-.56 1.17-1.25 1.17S4.875 8.645 4.875 8c0-.645.56-1.17 1.25-1.17zm5-3.16c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm-1.25 7.49c.69 0 1.25.524 1.25 1.17 0 .645-.56 1.17-1.25 1.17s-1.25-.525-1.25-1.17c0-.646.56-1.17 1.25-1.17zM11.125 8c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17z"\r
	/></svg\r
>\r
`;function Lg(t){let e,n;return e=new Hn({props:{id:t[0],type:t[1]==="input"?"target":"source",position:t[1]==="input"?we.Top:we.Bottom,style:t[2]+`background: ${Fe[t[0]][0]};
		left: calc( ${t[1]==="input"?"":"12px + "} (${Fe[t[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`,isConnectable:!0}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&1&&(l.id=i[0]),o&2&&(l.type=i[1]==="input"?"target":"source"),o&2&&(l.position=i[1]==="input"?we.Top:we.Bottom),o&7&&(l.style=i[2]+`background: ${Fe[i[0]][0]};
		left: calc( ${i[1]==="input"?"":"12px + "} (${Fe[i[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Yg(t,e,n){let{id:i}=e,{io:o}=e,{style:l=""}=e,{drop:s}=e;return addEventListener("drop",s),t.$$set=r=>{"id"in r&&n(0,i=r.id),"io"in r&&n(1,o=r.io),"style"in r&&n(2,l=r.style),"drop"in r&&n(3,s=r.drop)},[i,o,l,s]}class ss extends fe{constructor(e){super(),ae(this,e,Yg,Lg,ce,{id:0,io:1,style:2,drop:3})}}function Ol(t,e,n){const i=t.slice();return i[39]=e[n],i}function pl(t,e,n){const i=t.slice();return i[39]=e[n],i}function Il(t){let e,n,i,o,l,s,r;return{c(){e=_e("div"),n=de(),i=_e("div"),o=de(),l=_e("div"),w(e,"class","drop-target inputs svelte-zmau3w"),w(i,"class","drop-target outputs svelte-zmau3w"),w(l,"class","hover svelte-zmau3w")},m(u,a){K(u,e,a),t[24](e),K(u,n,a),K(u,i,a),t[28](i),K(u,o,a),K(u,l,a),s||(r=[he(e,"dragenter",t[25]),he(e,"dragleave",t[26]),he(e,"drop",t[27]),he(i,"dragenter",t[29]),he(i,"dragleave",t[30]),he(i,"drop",t[31])],s=!0)},p:se,d(u){u&&(B(e),B(n),B(i),B(o),B(l)),t[24](null),t[28](null),s=!1,Oe(r)}}}function Dl(t){let e,n;return e=new eg({props:{minWidth:200,minHeight:105,style:"background: transparent; border: none;",$$slots:{default:[Vg]},$$scope:{ctx:t}}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Vg(t){let e,n,i,o,l,s;return{c(){e=be("svg"),n=be("path"),i=be("polyline"),o=be("line"),l=be("polyline"),s=be("line"),w(n,"stroke","none"),w(n,"d","M0 0h24v24H0z"),w(n,"fill","none"),w(i,"points","16 20 20 20 20 16"),w(o,"x1","14"),w(o,"y1","14"),w(o,"x2","20"),w(o,"y2","20"),w(l,"points","8 4 4 4 4 8"),w(s,"x1","4"),w(s,"y1","4"),w(s,"x2","10"),w(s,"y2","10"),w(e,"xmlns","http://www.w3.org/2000/svg"),w(e,"width","15"),w(e,"height","15"),w(e,"viewBox","0 0 24 24"),w(e,"stroke-width","2"),w(e,"stroke","var(--font-colour)"),w(e,"fill","none"),w(e,"stroke-linecap","round"),w(e,"stroke-linejoin","round"),me(e,"position","absolute"),me(e,"right","0.5em"),me(e,"bottom","0.5em")},m(r,u){K(r,e,u),ue(e,n),ue(e,i),ue(e,o),ue(e,l),ue(e,s)},p:se,d(r){r&&B(e)}}}function Xl(t,e){let n,i,o;return i=new ss({props:{id:e[39],io:"input",drop:e[7]}}),{key:t,first:null,c(){n=Te(),te(i.$$.fragment),this.first=n},m(l,s){K(l,n,s),$(i,l,s),o=!0},p(l,s){e=l;const r={};s[0]&1&&(r.id=e[39]),i.$set(r)},i(l){o||(L(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(n),ee(i,l)}}}function Ll(t,e){let n,i,o;return i=new ss({props:{id:e[39],io:"output",drop:e[7]}}),{key:t,first:null,c(){n=Te(),te(i.$$.fragment),this.first=n},m(l,s){K(l,n,s),$(i,l,s),o=!0},p(l,s){e=l;const r={};s[0]&1&&(r.id=e[39]),i.$set(r)},i(l){o||(L(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(n),ee(i,l)}}}function Rg(t){let e,n,i,o,l=t[0].label+"",s,r,u,a,f,c,d,h=[],m=new Map,_,v=[],g=new Map,C,b,y,M,O=!t[0].group&&Il(t),E=t[0].group&&Dl(t),z=Ie(t[0].inputs);const P=A=>A[39];for(let A=0;A<z.length;A+=1){let N=pl(t,z,A),S=P(N);m.set(S,h[A]=Xl(S,N))}let D=Ie(t[0].outputs);const k=A=>A[39];for(let A=0;A<D.length;A+=1){let N=Ol(t,D,A),S=k(N);g.set(S,v[A]=Ll(S,N))}return{c(){O&&O.c(),e=de(),n=_e("div"),i=_e("span"),o=de(),s=qe(l),r=de(),u=_e("button"),u.textContent="✎",a=de(),f=_e("button"),f.textContent="❌",c=de(),E&&E.c(),d=de();for(let A=0;A<h.length;A+=1)h[A].c();_=de();for(let A=0;A<v.length;A+=1)v[A].c();C=Te(),w(i,"class","drag-handle drag-dots svelte-zmau3w"),w(u,"class","reverse svelte-zmau3w"),w(f,"class","svelte-zmau3w"),w(n,"class","label svelte-zmau3w")},m(A,N){O&&O.m(A,N),K(A,e,N),K(A,n,N),ue(n,i),i.innerHTML=Xg,ue(n,o),ue(n,s),ue(n,r),ue(n,u),ue(n,a),ue(n,f),K(A,c,N),E&&E.m(A,N),K(A,d,N);for(let S=0;S<h.length;S+=1)h[S]&&h[S].m(A,N);K(A,_,N);for(let S=0;S<v.length;S+=1)v[S]&&v[S].m(A,N);K(A,C,N),b=!0,y||(M=[he(u,"click",t[32]),he(f,"click",t[33])],y=!0)},p(A,N){A[0].group?O&&(O.d(1),O=null):O?O.p(A,N):(O=Il(A),O.c(),O.m(e.parentNode,e)),(!b||N[0]&1)&&l!==(l=A[0].label+"")&&Xt(s,l),A[0].group?E?N[0]&1&&L(E,1):(E=Dl(A),E.c(),L(E,1),E.m(d.parentNode,d)):E&&(Ee(),W(E,1,1,()=>{E=null}),Me()),N[0]&129&&(z=Ie(A[0].inputs),Ee(),h=It(h,N,P,1,A,z,m,_.parentNode,pt,Xl,_,pl),Me()),N[0]&129&&(D=Ie(A[0].outputs),Ee(),v=It(v,N,k,1,A,D,g,C.parentNode,pt,Ll,C,Ol),Me())},i(A){if(!b){L(E);for(let N=0;N<z.length;N+=1)L(h[N]);for(let N=0;N<D.length;N+=1)L(v[N]);b=!0}},o(A){W(E);for(let N=0;N<h.length;N+=1)W(h[N]);for(let N=0;N<v.length;N+=1)W(v[N]);b=!1},d(A){A&&(B(e),B(n),B(c),B(d),B(_),B(C)),O&&O.d(A),E&&E.d(A);for(let N=0;N<h.length;N+=1)h[N].d(A);for(let N=0;N<v.length;N+=1)v[N].d(A);y=!1,Oe(M)}}}function Gn(t,e){return!t.includes(e)}function Wg(t,e,n){let i;const o=og();J(t,o,H=>n(34,i=H));let{id:l}=e,{data:s}=e,{dragHandle:r=void 0}=e,{type:u}=e,{isConnectable:a}=e,{selected:f=void 0}=e,{zIndex:c}=e,{positionAbsoluteX:d}=e,{positionAbsoluteY:h}=e,{width:m=void 0}=e,{height:_=void 0}=e,{dragging:v=!1}=e,{sourcePosition:g=void 0}=e,{targetPosition:C=void 0}=e,b=s,y,M;const O=(H,j,ie)=>{if(H.preventDefault(),H.stopPropagation(),!H.dataTransfer)return null;if(H.dataTransfer.types[0].includes("patchcanvasconnection/")){const q=H.dataTransfer.types[0].replace("patchcanvasconnection/","");let Z=!1;switch(j){case"input":Z=Gn(b.inputs,q);break;case"output":Z=Gn(b.outputs,q);break}Z?(S([...j==="input"?b.inputs:b.outputs,q],ie),ie.style.backgroundColor="green",H.dataTransfer.dropEffect="move"):(ie.style.backgroundColor="red",ie.style.backgroundImage="",H.dataTransfer.dropEffect="none")}},E=(H,j)=>{H.preventDefault(),j.style.backgroundColor="",j===y?S(b.inputs,y):S(b.outputs,M)},z=(H,j,ie)=>{if(H.preventDefault(),!H.dataTransfer)return null;if(H.dataTransfer.types[0].includes("patchcanvasconnection/")){const q=H.dataTransfer.types[0].replace("patchcanvasconnection/","");let Z=!1;switch(j){case"input":Z=Gn(b.inputs,q);break;case"output":Z=Gn(b.outputs,q);break}Z&&k(q,j),ie.style.backgroundColor="",S(j==="input"?b.inputs:b.outputs,ie)}},P=H=>{var j,ie,q;if(H.preventDefault(),!H.dataTransfer)return null;if(H.dataTransfer.types[0]==="application/patchcanvaseraser"){if(((j=H.target.attributes.getNamedItem("data-nodeid"))==null?void 0:j.value)!==l)return null;let Z=(ie=H.target.attributes.getNamedItem("data-handleid"))==null?void 0:ie.value,ke=((q=H.target.attributes.getNamedItem("data-handlepos"))==null?void 0:q.value)==="top"?"input":"output";p(Z,ke),S(ke==="input"?b.inputs:b.outputs,ke==="input"?y:M)}},D=ng();function k(H,j){switch(j){case"input":b.inputs.push(H);break;case"output":b.outputs.push(H);break}n(0,b),D(l)}function A(){let H=prompt(`Rename '${b.label}' to:`,b.label);H!==null&&n(0,b.label=H,b)}function N(){window.confirm(`Actually delete ${b.label}?`)&&nt(o,i=i.filter(j=>j.id!=l),i)}function S(H,j){if(j==null){setTimeout(S,0,H,j);return}let ie=[...H];ie.sort(kg);let q=[];q.push("transparent 2%");for(const Z in Fe){let ke="transparent";ie.includes(Z)&&(ke=Fe[Z][0]);let Pe=Fe[Z][1];j===M&&(Pe+=.75);let Ce=Pe*16/150*100;ke+=` ${Ce}%`,q.push(ke)}q.push("transparent"),j.style.backgroundImage=`linear-gradient(to right, ${q.join(", ")})`}setTimeout(()=>{S(b.inputs,y),S(b.outputs,M)},0);function p(H,j){switch(j){case"input":n(0,b.inputs=b.inputs.filter(ie=>ie!==H),b);break;case"output":n(0,b.outputs=b.outputs.filter(ie=>ie!==H),b);break}n(0,b),D(l)}function T(H){at[H?"unshift":"push"](()=>{y=H,n(1,y)})}const Y=H=>O(H,"input",y),X=H=>E(H,y),R=H=>z(H,"input",y);function U(H){at[H?"unshift":"push"](()=>{M=H,n(2,M)})}const Q=H=>O(H,"output",M),V=H=>E(H,M),ne=H=>z(H,"output",M),le=()=>A(),ge=()=>N();return t.$$set=H=>{"id"in H&&n(10,l=H.id),"data"in H&&n(11,s=H.data),"dragHandle"in H&&n(12,r=H.dragHandle),"type"in H&&n(13,u=H.type),"isConnectable"in H&&n(14,a=H.isConnectable),"selected"in H&&n(15,f=H.selected),"zIndex"in H&&n(16,c=H.zIndex),"positionAbsoluteX"in H&&n(17,d=H.positionAbsoluteX),"positionAbsoluteY"in H&&n(18,h=H.positionAbsoluteY),"width"in H&&n(19,m=H.width),"height"in H&&n(20,_=H.height),"dragging"in H&&n(21,v=H.dragging),"sourcePosition"in H&&n(22,g=H.sourcePosition),"targetPosition"in H&&n(23,C=H.targetPosition)},[b,y,M,o,O,E,z,P,A,N,l,s,r,u,a,f,c,d,h,m,_,v,g,C,T,Y,X,R,U,Q,V,ne,le,ge]}class Bg extends fe{constructor(e){super(),ae(this,e,Wg,Rg,ce,{id:10,data:11,dragHandle:12,type:13,isConnectable:14,selected:15,zIndex:16,positionAbsoluteX:17,positionAbsoluteY:18,width:19,height:20,dragging:21,sourcePosition:22,targetPosition:23},null,[-1,-1])}}function Yl(t){let e,n,i,o;function l(u,a){var f,c;if(((f=u[0].startHandle)==null?void 0:f.type)=="target")return Fg;if(((c=u[0].startHandle)==null?void 0:c.type)=="source")return Kg}let s=l(t),r=s&&s(t);return{c(){r&&r.c(),e=de(),n=be("circle"),w(n,"cx",i=t[0].targetX),w(n,"cy",o=t[0].targetY),w(n,"fill","var(--font-colour)"),w(n,"r",3),w(n,"stroke",Fe[t[3]][0]??"var(--font-colour)"),w(n,"stroke-width",1.5)},m(u,a){r&&r.m(u,a),K(u,e,a),K(u,n,a)},p(u,a){s===(s=l(u))&&r?r.p(u,a):(r&&r.d(1),r=s&&s(u),r&&(r.c(),r.m(e.parentNode,e))),a&1&&i!==(i=u[0].targetX)&&w(n,"cx",i),a&1&&o!==(o=u[0].targetY)&&w(n,"cy",o)},d(u){u&&(B(e),B(n)),r&&r.d(u)}}}function Kg(t){let e,n;return{c(){var i;e=be("path"),w(e,"fill","none"),w(e,"stroke-width",1.5),w(e,"class","animated"),w(e,"stroke",Fe[t[3]][0]??"var(--font-colour)"),w(e,"d",t[1]),w(e,"marker-end",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,o){K(i,e,o)},p(i,o){var l;o&2&&w(e,"d",i[1]),o&1&&n!==(n="url(#"+((l=i[0].startHandle)==null?void 0:l.handleId)+"line)")&&w(e,"marker-end",n)},d(i){i&&B(e)}}}function Fg(t){let e,n;return{c(){var i;e=be("path"),w(e,"fill","none"),w(e,"stroke-width",1.5),w(e,"class","animated"),w(e,"stroke",Fe[t[3]][0]??"var(--font-colour)"),w(e,"d",t[1]),w(e,"marker-start",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,o){K(i,e,o)},p(i,o){var l;o&2&&w(e,"d",i[1]),o&1&&n!==(n="url(#"+((l=i[0].startHandle)==null?void 0:l.handleId)+"line)")&&w(e,"marker-start",n)},d(i){i&&B(e)}}}function qg(t){let e,n=t[0].path&&Yl(t);return{c(){n&&n.c(),e=Te()},m(i,o){n&&n.m(i,o),K(i,e,o)},p(i,[o]){i[0].path?n?n.p(i,o):(n=Yl(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:se,o:se,d(i){i&&B(e),n&&n.d(i)}}}function Zg(t,e,n){var r;let i;const o=ig();J(t,o,u=>n(0,i=u));let l="",s=((r=i.startHandle)==null?void 0:r.handleId)??"";return t.$$.update=()=>{if(t.$$.dirty&1){let{sourceX:u,sourceY:a,sourcePosition:f,targetX:c,targetY:d,targetPosition:h}=i;n(1,[l]=ln({sourceX:u??0,sourceY:a??0,sourcePosition:f??we.Bottom,targetX:c??0,targetY:d??0,targetPosition:h??we.Top}),l)}},[i,l,o,s]}class Ug extends fe{constructor(e){super(),ae(this,e,Zg,qg,ce,{})}}function Gg(t){let e,n,i,o,l,s,r;return{c(){e=be("svg"),n=be("defs"),i=be("marker"),o=be("polyline"),w(o,"stroke",t[0]),w(o,"stroke-linecap","round"),w(o,"stroke-linejoin","round"),w(o,"stroke-width",t[6]),w(o,"fill",t[0]),w(o,"points","-5,-4 0,0 -5,4 -5,-4"),w(i,"class","svelte-flow__arrowhead"),w(i,"id",t[1]),w(i,"markerWidth",l=`${t[2]}`),w(i,"markerHeight",s=`${t[3]}`),w(i,"viewBox","-10 -10 20 20"),w(i,"markerUnits",t[4]),w(i,"orient",t[5]),w(i,"refX",r=t[1].includes("line")?"4":"0"),w(i,"refY","0"),w(e,"class","svelte-1wqugfi")},m(u,a){K(u,e,a),ue(e,n),ue(n,i),ue(i,o)},p(u,[a]){a&1&&w(o,"stroke",u[0]),a&64&&w(o,"stroke-width",u[6]),a&1&&w(o,"fill",u[0]),a&2&&w(i,"id",u[1]),a&4&&l!==(l=`${u[2]}`)&&w(i,"markerWidth",l),a&8&&s!==(s=`${u[3]}`)&&w(i,"markerHeight",s),a&16&&w(i,"markerUnits",u[4]),a&32&&w(i,"orient",u[5]),a&2&&r!==(r=u[1].includes("line")?"4":"0")&&w(i,"refX",r)},i:se,o:se,d(u){u&&B(e)}}}function Jg(t,e,n){let{id:i}=e,{type:o}=e,{width:l=12.5}=e,{height:s=12.5}=e,{markerUnits:r="strokeWidth"}=e,{orient:u="auto-start-reverse"}=e,{color:a=void 0}=e,{strokeWidth:f=void 0}=e;return t.$$set=c=>{"id"in c&&n(1,i=c.id),"type"in c&&n(7,o=c.type),"width"in c&&n(2,l=c.width),"height"in c&&n(3,s=c.height),"markerUnits"in c&&n(4,r=c.markerUnits),"orient"in c&&n(5,u=c.orient),"color"in c&&n(0,a=c.color),"strokeWidth"in c&&n(6,f=c.strokeWidth)},t.$$.update=()=>{t.$$.dirty&2&&n(0,a=Fe[i.replace("line","")??""][0])},[a,i,l,s,r,u,f,o]}class us extends fe{constructor(e){super(),ae(this,e,Jg,Gg,ce,{id:1,type:7,width:2,height:3,markerUnits:4,orient:5,color:0,strokeWidth:6})}}function Vl(t,e,n){const i=t.slice();return i[19]=e[n][0],i[20]=e[n][1],i}function Rl(t,e,n){const i=t.slice();return i[19]=e[n][0],i[20]=e[n][1],i}function Wl(t){let e,n;return e=new us({props:{id:t[19],type:nn.ArrowClosed}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p:se,i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Bl(t){let e,n;return e=new us({props:{id:t[19]+"line",type:nn.ArrowClosed}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p:se,i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function Qg(t){let e;return{c(){e=qe("⛶")},m(n,i){K(n,e,i)},d(n){n&&B(e)}}}function jg(t){let e;return{c(){e=qe("🌙")},m(n,i){K(n,e,i)},d(n){n&&B(e)}}}function xg(t){let e,n,i,o;return e=new rn({props:{$$slots:{default:[Qg]},$$scope:{ctx:t}}}),e.$on("click",t[12]),i=new rn({props:{$$slots:{default:[jg]},$$scope:{ctx:t}}}),i.$on("click",t[13]),{c(){te(e.$$.fragment),n=de(),te(i.$$.fragment)},m(l,s){$(e,l,s),K(l,n,s),$(i,l,s),o=!0},p(l,s){const r={};s&33554432&&(r.$$scope={dirty:s,ctx:l}),e.$set(r);const u={};s&33554432&&(u.$$scope={dirty:s,ctx:l}),i.$set(u)},i(l){o||(L(e.$$.fragment,l),L(i.$$.fragment,l),o=!0)},o(l){W(e.$$.fragment,l),W(i.$$.fragment,l),o=!1},d(l){l&&B(n),ee(e,l),ee(i,l)}}}function $g(t){let e,n,i;return{c(){e=_e("a"),e.textContent="GitHub",n=_e("br"),i=qe("© 2024 Craig Anderson"),w(e,"href","https://github.com/theonlytechnohead/patchcanvas")},m(o,l){K(o,e,l),K(o,n,l),K(o,i,l)},p:se,d(o){o&&(B(e),B(n),B(i))}}}function em(t){let e,n;return e=new Og({}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function tm(t){let e,n,i,o,l,s,r,u,a,f,c,d,h=Ie(t[1]),m=[];for(let b=0;b<h.length;b+=1)m[b]=Wl(Rl(t,h,b));const _=b=>W(m[b],1,1,()=>{m[b]=null});let v=Ie(t[1]),g=[];for(let b=0;b<v.length;b+=1)g[b]=Bl(Vl(t,v,b));const C=b=>W(g[b],1,1,()=>{g[b]=null});return i=new W0({props:{variant:bt.Dots}}),l=new j0({props:{position:"top-right",pannable:!1,zoomable:!1,width:visualViewport!=null&&visualViewport.width?(visualViewport==null?void 0:visualViewport.width)/10:void 0,height:visualViewport!=null&&visualViewport.height?(visualViewport==null?void 0:visualViewport.height)/10:void 0}}),r=new z0({props:{position:"bottom-right",showFitView:!1,showLock:!1,$$slots:{default:[xg]},$$scope:{ctx:t}}}),a=new Nn({props:{position:"bottom-left",$$slots:{default:[$g]},$$scope:{ctx:t}}}),c=new Nn({props:{position:"top-left",$$slots:{default:[em]},$$scope:{ctx:t}}}),{c(){for(let b=0;b<m.length;b+=1)m[b].c();e=de();for(let b=0;b<g.length;b+=1)g[b].c();n=de(),te(i.$$.fragment),o=de(),te(l.$$.fragment),s=de(),te(r.$$.fragment),u=de(),te(a.$$.fragment),f=de(),te(c.$$.fragment)},m(b,y){for(let M=0;M<m.length;M+=1)m[M]&&m[M].m(b,y);K(b,e,y);for(let M=0;M<g.length;M+=1)g[M]&&g[M].m(b,y);K(b,n,y),$(i,b,y),K(b,o,y),$(l,b,y),K(b,s,y),$(r,b,y),K(b,u,y),$(a,b,y),K(b,f,y),$(c,b,y),d=!0},p(b,y){if(y&2){h=Ie(b[1]);let z;for(z=0;z<h.length;z+=1){const P=Rl(b,h,z);m[z]?(m[z].p(P,y),L(m[z],1)):(m[z]=Wl(P),m[z].c(),L(m[z],1),m[z].m(e.parentNode,e))}for(Ee(),z=h.length;z<m.length;z+=1)_(z);Me()}if(y&2){v=Ie(b[1]);let z;for(z=0;z<v.length;z+=1){const P=Vl(b,v,z);g[z]?(g[z].p(P,y),L(g[z],1)):(g[z]=Bl(P),g[z].c(),L(g[z],1),g[z].m(n.parentNode,n))}for(Ee(),z=v.length;z<g.length;z+=1)C(z);Me()}const M={};y&33554433&&(M.$$scope={dirty:y,ctx:b}),r.$set(M);const O={};y&33554432&&(O.$$scope={dirty:y,ctx:b}),a.$set(O);const E={};y&33554432&&(E.$$scope={dirty:y,ctx:b}),c.$set(E)},i(b){if(!d){for(let y=0;y<h.length;y+=1)L(m[y]);for(let y=0;y<v.length;y+=1)L(g[y]);L(i.$$.fragment,b),L(l.$$.fragment,b),L(r.$$.fragment,b),L(a.$$.fragment,b),L(c.$$.fragment,b),d=!0}},o(b){m=m.filter(Boolean);for(let y=0;y<m.length;y+=1)W(m[y]);g=g.filter(Boolean);for(let y=0;y<g.length;y+=1)W(g[y]);W(i.$$.fragment,b),W(l.$$.fragment,b),W(r.$$.fragment,b),W(a.$$.fragment,b),W(c.$$.fragment,b),d=!1},d(b){b&&(B(e),B(n),B(o),B(s),B(u),B(f)),Li(m,b),Li(g,b),ee(i,b),ee(l,b),ee(r,b),ee(a,b),ee(c,b)}}}function nm(t){let e,n;return e=new Ug({props:{slot:"connectionLine"}}),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p:se,i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function im(t){let e,n;return e=new xh({props:{nodes:t[4],nodeTypes:t[2],edges:t[5],edgeTypes:t[3],defaultEdgeOptions:t[6],isValidConnection:om,snapGrid:[25,25],colorMode:t[0].theme,fitView:!0,fitViewOptions:t[7],minZoom:.75,maxZoom:10,onlyRenderVisibleElements:!0,attributionPosition:"top-right",deleteKey:"Delete",$$slots:{connectionLine:[nm],default:[tm]},$$scope:{ctx:t}}}),e.$on("dragover",t[8]),e.$on("drop",t[9]),e.$on("nodeclick",t[14]),e.$on("edgeclick",t[15]),{c(){te(e.$$.fragment)},m(i,o){$(e,i,o),n=!0},p(i,[o]){const l={};o&1&&(l.colorMode=i[0].theme),o&33554433&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(L(e.$$.fragment,i),n=!0)},o(i){W(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function om(t){return t.sourceHandle===t.targetHandle}function lm(t){var e;document.fullscreenElement||(e=document.querySelector('[media="screen"]'))==null||e.setAttribute("media","print")}function rm(t,e,n){var O;let i,o,l,s;J(t,tt,E=>n(16,l=E)),J(t,Xi,E=>n(0,s=E)),l.version!=Qi?(console.log("Version mismatch: "+l.version+" != "+Qi),setTimeout(()=>{rs()},0)):console.log("Using latest save version: "+l.version),document.documentElement.setAttribute("data-theme",s.theme),(O=document.querySelector('meta[name="color-scheme"]'))==null||O.setAttribute("content",s.theme);const r=Object.entries(Fe),u={default:Bg},a={connection:Dg},f=re(JSON.parse(JSON.stringify(F(tt).nodes)));J(t,f,E=>n(10,i=E));const c=re(JSON.parse(JSON.stringify(F(tt).edges)));J(t,c,E=>n(11,o=E));const d={animated:!1,type:"connection",class:""},h={padding:1,duration:1e3},{screenToFlowPosition:m}=tg(),_=E=>{if(E.preventDefault(),E.dataTransfer){const z=document.elementFromPoint(E.clientX,E.clientY);let P="";E.dataTransfer.types[0]==="application/patchcanvasnode"?P=".svelte-flow__pane, .svelte-flow__edge, .svelte-flow__node.group":E.dataTransfer.types[0].includes("patchcanvasconnection/")?P=".drop-target":E.dataTransfer.types[0]==="application/patchcanvaseraser"&&(P=".svelte-flow__handle"),z!=null&&z.matches(P)?E.dataTransfer.dropEffect="move":E.dataTransfer.dropEffect="none"}},v=E=>{if(E.preventDefault(),!E.dataTransfer)return null;if(E.dataTransfer.types[0]==="application/patchcanvasnode"){const z=JSON.parse(E.dataTransfer.getData("application/patchcanvasnode"));g(z,E.clientX,E.clientY)}};function g(E,z,P){const D=m({x:z,y:P}),k={id:crypto.randomUUID().toString(),type:"default",position:D,connectable:!E.group,data:{label:"Unnamed "+(E.group?"group":"node"),group:E.group??!1,inputs:E.inputs??[],outputs:E.outputs??[]},class:E.group?"group":void 0,dragHandle:".drag-dots",origin:[.5,0]};i.push(k),i.sort((A,N)=>A.data.group?N.data.group?0:-1:N.data.group?1:0),f.set(i)}const C=function(){var E;(E=document.querySelector('[media="print"]'))==null||E.setAttribute("media","screen"),document.addEventListener("fullscreenchange",lm),document.documentElement.requestFullscreen()},b=()=>{var E;s.theme==="dark"?nt(Xi,s.theme="light",s):nt(Xi,s.theme="dark",s),document.documentElement.setAttribute("data-theme",s.theme),(E=document.querySelector('meta[name="color-scheme"]'))==null||E.setAttribute("content",s.theme)},y=E=>console.log("on node click",E.detail.node),M=E=>console.log("on edge click: ",E.detail.edge);return t.$$.update=()=>{t.$$.dirty&3072&&(nt(tt,l.nodes=i,l),nt(tt,l.edges=o,l))},[s,r,u,a,f,c,d,h,_,v,i,o,C,b,y,M]}class sm extends fe{constructor(e){super(),ae(this,e,rm,im,ce,{})}}function Kl(t,e,n){const i=t.slice();return i[1]=e[n],i}function Fl(t,e){let n,i,o;return i=new sm({}),{key:t,first:null,c(){n=Te(),te(i.$$.fragment),this.first=n},m(l,s){K(l,n,s),$(i,l,s),o=!0},p(l,s){},i(l){o||(L(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(n),ee(i,l)}}}function um(t){let e=[],n=new Map,i,o,l=Ie(t[0].uniqueFlow);const s=r=>r[1];for(let r=0;r<l.length;r+=1){let u=Kl(t,l,r),a=s(u);n.set(a,e[r]=Fl(a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();i=Te()},m(r,u){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(r,u);K(r,i,u),o=!0},p(r,u){u&1&&(l=Ie(r[0].uniqueFlow),Ee(),e=It(e,u,s,0,r,l,n,i.parentNode,pt,Fl,i,Kl),Me())},i(r){if(!o){for(let u=0;u<l.length;u+=1)L(e[u]);o=!0}},o(r){for(let u=0;u<e.length;u+=1)W(e[u]);o=!1},d(r){r&&B(i);for(let u=0;u<e.length;u+=1)e[u].d(r)}}}function am(t){let e,n,i,o;return i=new t0({props:{$$slots:{default:[um]},$$scope:{ctx:t}}}),{c(){e=_e("main"),n=_e("div"),te(i.$$.fragment),me(n,"height","100%")},m(l,s){K(l,e,s),ue(e,n),$(i,n,null),o=!0},p(l,[s]){const r={};s&17&&(r.$$scope={dirty:s,ctx:l}),i.$set(r)},i(l){o||(L(i.$$.fragment,l),o=!0)},o(l){W(i.$$.fragment,l),o=!1},d(l){l&&B(e),ee(i)}}}function fm(t,e,n){let i;return J(t,tt,o=>n(0,i=o)),[i]}class cm extends fe{constructor(e){super(),ae(this,e,fm,am,ce,{})}}new cm({target:document.body});
