var Ir=Object.defineProperty;var Dr=(e,t,n)=>t in e?Ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ri=(e,t,n)=>(Dr(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ce(){}function He(e,t){for(const n in t)e[n]=t[n];return e}function ul(e){return e()}function Gi(){return Object.create(null)}function Ke(e){e.forEach(ul)}function we(e){return typeof e=="function"}function ae(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function al(e,t){return e!=e?t==t:e!==t}function Xr(e){return Object.keys(e).length===0}function pn(e,...t){if(e==null){for(const i of t)i(void 0);return ce}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Q(e){let t;return pn(e,n=>t=n)(),t}function U(e,t,n){e.$$.on_destroy.push(pn(t,n))}function Ve(e,t,n,i){if(e){const o=cl(e,t,n,i);return e[0](o)}}function cl(e,t,n,i){return e[1]&&i?He(n.ctx.slice(),e[1](i(t))):n.ctx}function Le(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const l=[],s=Math.max(t.dirty.length,o.length);for(let r=0;r<s;r+=1)l[r]=t.dirty[r]|o[r];return l}return t.dirty|o}return t.dirty}function We(e,t,n,i,o,l){if(o){const s=cl(t,n,i,l);e.p(s,o)}}function Be(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function Oi(e){const t={};for(const n in e)n[0]!=="$"&&(t[n]=e[n]);return t}function Yt(e,t){const n={};t=new Set(t);for(const i in e)!t.has(i)&&i[0]!=="$"&&(n[i]=e[i]);return n}function Yr(e){const t={};for(const n in e)t[n]=!0;return t}function Ui(e){return e??""}function wi(e,t,n){return e.set(n),t}function Ie(e){return e&&we(e.destroy)?e.destroy:ce}const Rr=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Se(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function Z(e){e.parentNode&&e.parentNode.removeChild(e)}function Ee(e){return document.createElement(e)}function ge(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function St(e){return document.createTextNode(e)}function be(){return St(" ")}function De(){return St("")}function ke(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function k(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}const Vr=["width","height"];function Rt(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const i in t)t[i]==null?e.removeAttribute(i):i==="style"?e.style.cssText=t[i]:i==="__value"?e.value=e[i]=t[i]:n[i]&&n[i].set&&Vr.indexOf(i)===-1?e[i]=t[i]:k(e,i,t[i])}function Lr(e){return Array.from(e.childNodes)}function sn(e,t){t=""+t,e.data!==t&&(e.data=t)}function oe(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}let gn;function Wr(){if(gn===void 0){gn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{gn=!0}}return gn}function Br(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const i=Ee("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=Wr();let l;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=ke(window,"message",s=>{s.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{l=ke(i.contentWindow,"resize",t),t()}),Se(e,i),()=>{(o||l&&i.contentWindow)&&l(),Z(i)}}function ue(e,t,n){e.classList.toggle(t,!!n)}function Kr(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}function An(e,t){return new e(t)}let $t;function xt(e){$t=e}function Ft(){if(!$t)throw new Error("Function called outside component initialization");return $t}function Gn(e){Ft().$$.on_mount.push(e)}function fl(e){Ft().$$.on_destroy.push(e)}function Un(){const e=Ft();return(t,n,{cancelable:i=!1}={})=>{const o=e.$$.callbacks[t];if(o){const l=Kr(t,n,{cancelable:i});return o.slice().forEach(s=>{s.call(e,l)}),!l.defaultPrevented}return!0}}function Nn(e,t){return Ft().$$.context.set(e,t),t}function Hn(e){return Ft().$$.context.get(e)}function Fr(e){return Ft().$$.context.has(e)}function me(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const Ht=[],en=[];let Tt=[];const Ji=[],Zr=Promise.resolve();let ki=!1;function qr(){ki||(ki=!0,Zr.then(dl))}function On(e){Tt.push(e)}const si=new Set;let At=0;function dl(){if(At!==0)return;const e=$t;do{try{for(;At<Ht.length;){const t=Ht[At];At++,xt(t),pr(t.$$)}}catch(t){throw Ht.length=0,At=0,t}for(xt(null),Ht.length=0,At=0;en.length;)en.pop()();for(let t=0;t<Tt.length;t+=1){const n=Tt[t];si.has(n)||(si.add(n),n())}Tt.length=0}while(Ht.length);for(;Ji.length;)Ji.pop()();ki=!1,si.clear(),xt(e)}function pr(e){if(e.fragment!==null){e.update(),Ke(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(On)}}function Gr(e){const t=[],n=[];Tt.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),Tt=t}const En=new Set;let _t;function ze(){_t={r:0,c:[],p:_t}}function Ce(){_t.r||Ke(_t.c),_t=_t.p}function X(e,t){e&&e.i&&(En.delete(e),e.i(t))}function R(e,t,n,i){if(e&&e.o){if(En.has(e))return;En.add(e),_t.c.push(()=>{En.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function yt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Jn(e,t){R(e,1,1,()=>{t.delete(e.key)})}function Qn(e,t,n,i,o,l,s,r,u,a,c,d){let f=e.length,h=l.length,m=f;const y={};for(;m--;)y[e[m].key]=m;const w=[],g=new Map,v=new Map,C=[];for(m=h;m--;){const H=d(o,l,m),O=n(H);let T=s.get(O);T?i&&C.push(()=>T.p(H,t)):(T=a(O,H),T.c()),g.set(O,w[m]=T),O in y&&v.set(O,Math.abs(m-y[O]))}const S=new Set,P=new Set;function I(H){X(H,1),H.m(r,c),s.set(H.key,H),c=H.first,h--}for(;f&&h;){const H=w[h-1],O=e[f-1],T=H.key,_=O.key;H===O?(c=H.first,f--,h--):g.has(_)?!s.has(T)||S.has(T)?I(H):P.has(_)?f--:v.get(T)>v.get(_)?(P.add(T),I(H)):(S.add(_),f--):(u(O,s),f--)}for(;f--;){const H=e[f];g.has(H.key)||u(H,s)}for(;h;)I(w[h-1]);return Ke(C),w}function ft(e,t){const n={},i={},o={$$scope:1};let l=e.length;for(;l--;){const s=e[l],r=t[l];if(r){for(const u in s)u in r||(i[u]=1);for(const u in r)o[u]||(n[u]=r[u],o[u]=1);e[l]=r}else for(const u in s)o[u]=1}for(const s in i)s in n||(n[s]=void 0);return n}function Vt(e){return typeof e=="object"&&e!==null?e:{}}function ne(e){e&&e.c()}function ee(e,t,n){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),On(()=>{const l=e.$$.on_mount.map(ul).filter(we);e.$$.on_destroy?e.$$.on_destroy.push(...l):Ke(l),e.$$.on_mount=[]}),o.forEach(On)}function te(e,t){const n=e.$$;n.fragment!==null&&(Gr(n.after_update),Ke(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ur(e,t){e.$$.dirty[0]===-1&&(Ht.push(e),qr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,n,i,o,l,s=null,r=[-1]){const u=$t;xt(e);const a=e.$$={fragment:null,ctx:[],props:l,update:ce,not_equal:o,bound:Gi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Gi(),dirty:r,skip_bound:!1,root:t.target||u.$$.root};s&&s(a.root);let c=!1;if(a.ctx=n?n(e,t.props||{},(d,f,...h)=>{const m=h.length?h[0]:f;return a.ctx&&o(a.ctx[d],a.ctx[d]=m)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](m),c&&Ur(e,d)),f}):[],a.update(),c=!0,Ke(a.before_update),a.fragment=i?i(a.ctx):!1,t.target){if(t.hydrate){const d=Lr(t.target);a.fragment&&a.fragment.l(d),d.forEach(Z)}else a.fragment&&a.fragment.c();t.intro&&X(e.$$.fragment),ee(e,t.target,t.anchor),dl()}xt(u)}class se{constructor(){ri(this,"$$");ri(this,"$$set")}$destroy(){te(this,1),this.$destroy=ce}$on(t,n){if(!we(n))return ce;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!Xr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Jr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jr);const Nt=[];function Ue(e,t){return{subscribe:x(e,t).subscribe}}function x(e,t=ce){let n;const i=new Set;function o(r){if(ae(e,r)&&(e=r,n)){const u=!Nt.length;for(const a of i)a[1](),Nt.push(a,e);if(u){for(let a=0;a<Nt.length;a+=2)Nt[a][0](Nt[a+1]);Nt.length=0}}}function l(r){o(r(e))}function s(r,u=ce){const a=[r,u];return i.add(a),i.size===1&&(n=t(o,l)||ce),r(e),()=>{i.delete(a),i.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:s}}function Lt(e,t,n){const i=!Array.isArray(e),o=i?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const l=t.length<2;return Ue(n,(s,r)=>{let u=!1;const a=[];let c=0,d=ce;const f=()=>{if(c)return;d();const m=t(i?a[0]:a,s,r);l?s(m):d=we(m)?m:ce},h=o.map((m,y)=>pn(m,w=>{a[y]=w,c&=~(1<<y),u&&f()},()=>{c|=1<<y}));return u=!0,f(),function(){Ke(h),d(),u=!1}})}function ye(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,i;n<e.length;n++)(i=ye(e[n]))!==""&&(t+=(t&&" ")+i);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Qr={value:()=>{}};function jn(){for(var e=0,t=arguments.length,n={},i;e<t;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Mn(n)}function Mn(e){this._=e}function jr(e,t){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Mn.prototype=jn.prototype={constructor:Mn,on:function(e,t){var n=this._,i=jr(e+"",n),o,l=-1,s=i.length;if(arguments.length<2){for(;++l<s;)if((o=(e=i[l]).type)&&(o=xr(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<s;)if(o=(e=i[l]).type)n[o]=Qi(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Qi(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,l;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],i=0,o=l.length;i<o;++i)l[i].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,l=i.length;o<l;++o)i[o].value.apply(t,n)}};function xr(e,t){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===t)return o.value}function Qi(e,t,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===t){e[i]=Qr,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:t,value:n}),e}var vi="http://www.w3.org/1999/xhtml";const ji={svg:"http://www.w3.org/2000/svg",xhtml:vi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ji.hasOwnProperty(t)?{space:ji[t],local:e}:e}function $r(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===vi&&t.documentElement.namespaceURI===vi?t.createElement(e):t.createElementNS(n,e)}}function es(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hl(e){var t=xn(e);return(t.local?es:$r)(t)}function ts(){}function Ti(e){return e==null?ts:function(){return this.querySelector(e)}}function ns(e){typeof e!="function"&&(e=Ti(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var l=t[o],s=l.length,r=i[o]=new Array(s),u,a,c=0;c<s;++c)(u=l[c])&&(a=e.call(u,u.__data__,c,l))&&("__data__"in u&&(a.__data__=u.__data__),r[c]=a);return new Ze(i,this._parents)}function is(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function os(){return[]}function gl(e){return e==null?os:function(){return this.querySelectorAll(e)}}function ls(e){return function(){return is(e.apply(this,arguments))}}function rs(e){typeof e=="function"?e=ls(e):e=gl(e);for(var t=this._groups,n=t.length,i=[],o=[],l=0;l<n;++l)for(var s=t[l],r=s.length,u,a=0;a<r;++a)(u=s[a])&&(i.push(e.call(u,u.__data__,a,s)),o.push(u));return new Ze(i,o)}function ml(e){return function(){return this.matches(e)}}function yl(e){return function(t){return t.matches(e)}}var ss=Array.prototype.find;function us(e){return function(){return ss.call(this.children,e)}}function as(){return this.firstElementChild}function cs(e){return this.select(e==null?as:us(typeof e=="function"?e:yl(e)))}var fs=Array.prototype.filter;function ds(){return Array.from(this.children)}function hs(e){return function(){return fs.call(this.children,e)}}function gs(e){return this.selectAll(e==null?ds:hs(typeof e=="function"?e:yl(e)))}function ms(e){typeof e!="function"&&(e=ml(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var l=t[o],s=l.length,r=i[o]=[],u,a=0;a<s;++a)(u=l[a])&&e.call(u,u.__data__,a,l)&&r.push(u);return new Ze(i,this._parents)}function _l(e){return new Array(e.length)}function ys(){return new Ze(this._enter||this._groups.map(_l),this._parents)}function Tn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Tn.prototype={constructor:Tn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function _s(e){return function(){return e}}function bs(e,t,n,i,o,l){for(var s=0,r,u=t.length,a=l.length;s<a;++s)(r=t[s])?(r.__data__=l[s],i[s]=r):n[s]=new Tn(e,l[s]);for(;s<u;++s)(r=t[s])&&(o[s]=r)}function ws(e,t,n,i,o,l,s){var r,u,a=new Map,c=t.length,d=l.length,f=new Array(c),h;for(r=0;r<c;++r)(u=t[r])&&(f[r]=h=s.call(u,u.__data__,r,t)+"",a.has(h)?o[r]=u:a.set(h,u));for(r=0;r<d;++r)h=s.call(e,l[r],r,l)+"",(u=a.get(h))?(i[r]=u,u.__data__=l[r],a.delete(h)):n[r]=new Tn(e,l[r]);for(r=0;r<c;++r)(u=t[r])&&a.get(f[r])===u&&(o[r]=u)}function ks(e){return e.__data__}function vs(e,t){if(!arguments.length)return Array.from(this,ks);var n=t?ws:bs,i=this._parents,o=this._groups;typeof e!="function"&&(e=_s(e));for(var l=o.length,s=new Array(l),r=new Array(l),u=new Array(l),a=0;a<l;++a){var c=i[a],d=o[a],f=d.length,h=Ss(e.call(c,c&&c.__data__,a,i)),m=h.length,y=r[a]=new Array(m),w=s[a]=new Array(m),g=u[a]=new Array(f);n(c,d,y,w,g,h,t);for(var v=0,C=0,S,P;v<m;++v)if(S=y[v]){for(v>=C&&(C=v+1);!(P=w[C])&&++C<m;);S._next=P||null}}return s=new Ze(s,i),s._enter=r,s._exit=u,s}function Ss(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Es(){return new Ze(this._exit||this._groups.map(_l),this._parents)}function Ms(e,t,n){var i=this.enter(),o=this,l=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?l.remove():n(l),i&&o?i.merge(o).order():o}function zs(e){for(var t=e.selection?e.selection():e,n=this._groups,i=t._groups,o=n.length,l=i.length,s=Math.min(o,l),r=new Array(o),u=0;u<s;++u)for(var a=n[u],c=i[u],d=a.length,f=r[u]=new Array(d),h,m=0;m<d;++m)(h=a[m]||c[m])&&(f[m]=h);for(;u<o;++u)r[u]=n[u];return new Ze(r,this._parents)}function Cs(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i=e[t],o=i.length-1,l=i[o],s;--o>=0;)(s=i[o])&&(l&&s.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(s,l),l=s);return this}function Ps(e){e||(e=As);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,i=n.length,o=new Array(i),l=0;l<i;++l){for(var s=n[l],r=s.length,u=o[l]=new Array(r),a,c=0;c<r;++c)(a=s[c])&&(u[c]=a);u.sort(t)}return new Ze(o,this._parents).order()}function As(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ns(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Hs(){return Array.from(this)}function Os(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,l=i.length;o<l;++o){var s=i[o];if(s)return s}return null}function Ts(){let e=0;for(const t of this)++e;return e}function Is(){return!this.node()}function Ds(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var o=t[n],l=0,s=o.length,r;l<s;++l)(r=o[l])&&e.call(r,r.__data__,l,o);return this}function Xs(e){return function(){this.removeAttribute(e)}}function Ys(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rs(e,t){return function(){this.setAttribute(e,t)}}function Vs(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ls(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ws(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Bs(e,t){var n=xn(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((t==null?n.local?Ys:Xs:typeof t=="function"?n.local?Ws:Ls:n.local?Vs:Rs)(n,t))}function bl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ks(e){return function(){this.style.removeProperty(e)}}function Fs(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Zs(e,t,n){return function(){var i=t.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function qs(e,t,n){return arguments.length>1?this.each((t==null?Ks:typeof t=="function"?Zs:Fs)(e,t,n??"")):Wt(this.node(),e)}function Wt(e,t){return e.style.getPropertyValue(t)||bl(e).getComputedStyle(e,null).getPropertyValue(t)}function ps(e){return function(){delete this[e]}}function Gs(e,t){return function(){this[e]=t}}function Us(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Js(e,t){return arguments.length>1?this.each((t==null?ps:typeof t=="function"?Us:Gs)(e,t)):this.node()[e]}function wl(e){return e.trim().split(/^|\s+/)}function Ii(e){return e.classList||new kl(e)}function kl(e){this._node=e,this._names=wl(e.getAttribute("class")||"")}kl.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function vl(e,t){for(var n=Ii(e),i=-1,o=t.length;++i<o;)n.add(t[i])}function Sl(e,t){for(var n=Ii(e),i=-1,o=t.length;++i<o;)n.remove(t[i])}function Qs(e){return function(){vl(this,e)}}function js(e){return function(){Sl(this,e)}}function xs(e,t){return function(){(t.apply(this,arguments)?vl:Sl)(this,e)}}function $s(e,t){var n=wl(e+"");if(arguments.length<2){for(var i=Ii(this.node()),o=-1,l=n.length;++o<l;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?xs:t?Qs:js)(n,t))}function eu(){this.textContent=""}function tu(e){return function(){this.textContent=e}}function nu(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function iu(e){return arguments.length?this.each(e==null?eu:(typeof e=="function"?nu:tu)(e)):this.node().textContent}function ou(){this.innerHTML=""}function lu(e){return function(){this.innerHTML=e}}function ru(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function su(e){return arguments.length?this.each(e==null?ou:(typeof e=="function"?ru:lu)(e)):this.node().innerHTML}function uu(){this.nextSibling&&this.parentNode.appendChild(this)}function au(){return this.each(uu)}function cu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fu(){return this.each(cu)}function du(e){var t=typeof e=="function"?e:hl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function hu(){return null}function gu(e,t){var n=typeof e=="function"?e:hl(e),i=t==null?hu:typeof t=="function"?t:Ti(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function mu(){var e=this.parentNode;e&&e.removeChild(this)}function yu(){return this.each(mu)}function _u(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wu(e){return this.select(e?bu:_u)}function ku(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vu(e){return function(t){e.call(this,t,this.__data__)}}function Su(e){return e.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{type:t,name:n}})}function Eu(e){return function(){var t=this.__on;if(t){for(var n=0,i=-1,o=t.length,l;n<o;++n)l=t[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++i]=l;++i?t.length=i:delete this.__on}}}function Mu(e,t,n){return function(){var i=this.__on,o,l=vu(t);if(i){for(var s=0,r=i.length;s<r;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),o.value=t;return}}this.addEventListener(e.type,l,n),o={type:e.type,name:e.name,value:t,listener:l,options:n},i?i.push(o):this.__on=[o]}}function zu(e,t,n){var i=Su(e+""),o,l=i.length,s;if(arguments.length<2){var r=this.node().__on;if(r){for(var u=0,a=r.length,c;u<a;++u)for(o=0,c=r[u];o<l;++o)if((s=i[o]).type===c.type&&s.name===c.name)return c.value}return}for(r=t?Mu:Eu,o=0;o<l;++o)this.each(r(i[o],t,n));return this}function El(e,t,n){var i=bl(e),o=i.CustomEvent;typeof o=="function"?o=new o(t,n):(o=i.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Cu(e,t){return function(){return El(this,e,t)}}function Pu(e,t){return function(){return El(this,e,t.apply(this,arguments))}}function Au(e,t){return this.each((typeof t=="function"?Pu:Cu)(e,t))}function*Nu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],o=0,l=i.length,s;o<l;++o)(s=i[o])&&(yield s)}var Ml=[null];function Ze(e,t){this._groups=e,this._parents=t}function un(){return new Ze([[document.documentElement]],Ml)}function Hu(){return this}Ze.prototype=un.prototype={constructor:Ze,select:ns,selectAll:rs,selectChild:cs,selectChildren:gs,filter:ms,data:vs,enter:ys,exit:Es,join:Ms,merge:zs,selection:Hu,order:Cs,sort:Ps,call:Ns,nodes:Hs,node:Os,size:Ts,empty:Is,each:Ds,attr:Bs,style:qs,property:Js,classed:$s,text:iu,html:su,raise:au,lower:fu,append:du,insert:gu,remove:yu,clone:wu,datum:ku,on:zu,dispatch:Au,[Symbol.iterator]:Nu};function Ge(e){return typeof e=="string"?new Ze([[document.querySelector(e)]],[document.documentElement]):new Ze([[e]],Ml)}function Ou(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Je(e,t){if(e=Ou(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Tu={passive:!1},tn={capture:!0,passive:!1};function ui(e){e.stopImmediatePropagation()}function It(e){e.preventDefault(),e.stopImmediatePropagation()}function zl(e){var t=e.document.documentElement,n=Ge(e).on("dragstart.drag",It,tn);"onselectstart"in t?n.on("selectstart.drag",It,tn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Cl(e,t){var n=e.document.documentElement,i=Ge(e).on("dragstart.drag",null);t&&(i.on("click.drag",It,tn),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const mn=e=>()=>e;function Si(e,{sourceEvent:t,subject:n,target:i,identifier:o,active:l,x:s,y:r,dx:u,dy:a,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:r,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:c}})}Si.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Iu(e){return!e.ctrlKey&&!e.button}function Du(){return this.parentNode}function Xu(e,t){return t??{x:e.x,y:e.y}}function Yu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ru(){var e=Iu,t=Du,n=Xu,i=Yu,o={},l=jn("start","drag","end"),s=0,r,u,a,c,d=0;function f(S){S.on("mousedown.drag",h).filter(i).on("touchstart.drag",w).on("touchmove.drag",g,Tu).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(S,P){if(!(c||!e.call(this,S,P))){var I=C(this,t.call(this,S,P),S,P,"mouse");I&&(Ge(S.view).on("mousemove.drag",m,tn).on("mouseup.drag",y,tn),zl(S.view),ui(S),a=!1,r=S.clientX,u=S.clientY,I("start",S))}}function m(S){if(It(S),!a){var P=S.clientX-r,I=S.clientY-u;a=P*P+I*I>d}o.mouse("drag",S)}function y(S){Ge(S.view).on("mousemove.drag mouseup.drag",null),Cl(S.view,a),It(S),o.mouse("end",S)}function w(S,P){if(e.call(this,S,P)){var I=S.changedTouches,H=t.call(this,S,P),O=I.length,T,_;for(T=0;T<O;++T)(_=C(this,H,S,P,I[T].identifier,I[T]))&&(ui(S),_("start",S,I[T]))}}function g(S){var P=S.changedTouches,I=P.length,H,O;for(H=0;H<I;++H)(O=o[P[H].identifier])&&(It(S),O("drag",S,P[H]))}function v(S){var P=S.changedTouches,I=P.length,H,O;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),H=0;H<I;++H)(O=o[P[H].identifier])&&(ui(S),O("end",S,P[H]))}function C(S,P,I,H,O,T){var _=l.copy(),Y=Je(T||I,P),W,N,b;if((b=n.call(S,new Si("beforestart",{sourceEvent:I,target:f,identifier:O,active:s,x:Y[0],y:Y[1],dx:0,dy:0,dispatch:_}),H))!=null)return W=b.x-Y[0]||0,N=b.y-Y[1]||0,function A(E,D,V){var B=Y,F;switch(E){case"start":o[O]=A,F=s++;break;case"end":delete o[O],--s;case"drag":Y=Je(V||D,P),F=s;break}_.call(E,S,new Si(E,{sourceEvent:D,subject:b,target:f,identifier:O,active:F,x:Y[0]+W,y:Y[1]+N,dx:Y[0]-B[0],dy:Y[1]-B[1],dispatch:_}),H)}}return f.filter=function(S){return arguments.length?(e=typeof S=="function"?S:mn(!!S),f):e},f.container=function(S){return arguments.length?(t=typeof S=="function"?S:mn(S),f):t},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:mn(S),f):n},f.touchable=function(S){return arguments.length?(i=typeof S=="function"?S:mn(!!S),f):i},f.on=function(){var S=l.on.apply(l,arguments);return S===l?f:S},f.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,f):Math.sqrt(d)},f}function Di(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pl(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function an(){}var nn=.7,In=1/nn,Dt="\\s*([+-]?\\d+)\\s*",on="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vu=/^#([0-9a-f]{3,8})$/,Lu=new RegExp(`^rgb\\(${Dt},${Dt},${Dt}\\)$`),Wu=new RegExp(`^rgb\\(${tt},${tt},${tt}\\)$`),Bu=new RegExp(`^rgba\\(${Dt},${Dt},${Dt},${on}\\)$`),Ku=new RegExp(`^rgba\\(${tt},${tt},${tt},${on}\\)$`),Fu=new RegExp(`^hsl\\(${on},${tt},${tt}\\)$`),Zu=new RegExp(`^hsla\\(${on},${tt},${tt},${on}\\)$`),xi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Di(an,ln,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$i,formatHex:$i,formatHex8:qu,formatHsl:pu,formatRgb:eo,toString:eo});function $i(){return this.rgb().formatHex()}function qu(){return this.rgb().formatHex8()}function pu(){return Al(this).formatHsl()}function eo(){return this.rgb().formatRgb()}function ln(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Vu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?to(t):n===3?new Re(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?yn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?yn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lu.exec(e))?new Re(t[1],t[2],t[3],1):(t=Wu.exec(e))?new Re(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Bu.exec(e))?yn(t[1],t[2],t[3],t[4]):(t=Ku.exec(e))?yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Fu.exec(e))?oo(t[1],t[2]/100,t[3]/100,1):(t=Zu.exec(e))?oo(t[1],t[2]/100,t[3]/100,t[4]):xi.hasOwnProperty(e)?to(xi[e]):e==="transparent"?new Re(NaN,NaN,NaN,0):null}function to(e){return new Re(e>>16&255,e>>8&255,e&255,1)}function yn(e,t,n,i){return i<=0&&(e=t=n=NaN),new Re(e,t,n,i)}function Gu(e){return e instanceof an||(e=ln(e)),e?(e=e.rgb(),new Re(e.r,e.g,e.b,e.opacity)):new Re}function Ei(e,t,n,i){return arguments.length===1?Gu(e):new Re(e,t,n,i??1)}function Re(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}Di(Re,Ei,Pl(an,{brighter(e){return e=e==null?In:Math.pow(In,e),new Re(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nn:Math.pow(nn,e),new Re(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Re(wt(this.r),wt(this.g),wt(this.b),Dn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:no,formatHex:no,formatHex8:Uu,formatRgb:io,toString:io}));function no(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}`}function Uu(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}${bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function io(){const e=Dn(this.opacity);return`${e===1?"rgb(":"rgba("}${wt(this.r)}, ${wt(this.g)}, ${wt(this.b)}${e===1?")":`, ${e})`}`}function Dn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bt(e){return e=wt(e),(e<16?"0":"")+e.toString(16)}function oo(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qe(e,t,n,i)}function Al(e){if(e instanceof Qe)return new Qe(e.h,e.s,e.l,e.opacity);if(e instanceof an||(e=ln(e)),!e)return new Qe;if(e instanceof Qe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),l=Math.max(t,n,i),s=NaN,r=l-o,u=(l+o)/2;return r?(t===l?s=(n-i)/r+(n<i)*6:n===l?s=(i-t)/r+2:s=(t-n)/r+4,r/=u<.5?l+o:2-l-o,s*=60):r=u>0&&u<1?0:s,new Qe(s,r,u,e.opacity)}function Ju(e,t,n,i){return arguments.length===1?Al(e):new Qe(e,t,n,i??1)}function Qe(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Di(Qe,Ju,Pl(an,{brighter(e){return e=e==null?In:Math.pow(In,e),new Qe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nn:Math.pow(nn,e),new Qe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Re(ai(e>=240?e-240:e+120,o,i),ai(e,o,i),ai(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Qe(lo(this.h),_n(this.s),_n(this.l),Dn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dn(this.opacity);return`${e===1?"hsl(":"hsla("}${lo(this.h)}, ${_n(this.s)*100}%, ${_n(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lo(e){return e=(e||0)%360,e<0?e+360:e}function _n(e){return Math.max(0,Math.min(1,e||0))}function ai(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Nl=e=>()=>e;function Qu(e,t){return function(n){return e+n*t}}function ju(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function xu(e){return(e=+e)==1?Hl:function(t,n){return n-t?ju(t,n,e):Nl(isNaN(t)?n:t)}}function Hl(e,t){var n=t-e;return n?Qu(e,n):Nl(isNaN(e)?t:e)}const ro=function e(t){var n=xu(t);function i(o,l){var s=n((o=Ei(o)).r,(l=Ei(l)).r),r=n(o.g,l.g),u=n(o.b,l.b),a=Hl(o.opacity,l.opacity);return function(c){return o.r=s(c),o.g=r(c),o.b=u(c),o.opacity=a(c),o+""}}return i.gamma=e,i}(1);function mt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ci=new RegExp(Mi.source,"g");function $u(e){return function(){return e}}function ea(e){return function(t){return e(t)+""}}function ta(e,t){var n=Mi.lastIndex=ci.lastIndex=0,i,o,l,s=-1,r=[],u=[];for(e=e+"",t=t+"";(i=Mi.exec(e))&&(o=ci.exec(t));)(l=o.index)>n&&(l=t.slice(n,l),r[s]?r[s]+=l:r[++s]=l),(i=i[0])===(o=o[0])?r[s]?r[s]+=o:r[++s]=o:(r[++s]=null,u.push({i:s,x:mt(i,o)})),n=ci.lastIndex;return n<t.length&&(l=t.slice(n),r[s]?r[s]+=l:r[++s]=l),r.length<2?u[0]?ea(u[0].x):$u(t):(t=u.length,function(a){for(var c=0,d;c<t;++c)r[(d=u[c]).i]=d.x(a);return r.join("")})}var so=180/Math.PI,zi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ol(e,t,n,i,o,l){var s,r,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*i)&&(n-=e*u,i-=t*u),(r=Math.sqrt(n*n+i*i))&&(n/=r,i/=r,u/=r),e*i<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:o,translateY:l,rotate:Math.atan2(t,e)*so,skewX:Math.atan(u)*so,scaleX:s,scaleY:r}}var bn;function na(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?zi:Ol(t.a,t.b,t.c,t.d,t.e,t.f)}function ia(e){return e==null||(bn||(bn=document.createElementNS("http://www.w3.org/2000/svg","g")),bn.setAttribute("transform",e),!(e=bn.transform.baseVal.consolidate()))?zi:(e=e.matrix,Ol(e.a,e.b,e.c,e.d,e.e,e.f))}function Tl(e,t,n,i){function o(a){return a.length?a.pop()+" ":""}function l(a,c,d,f,h,m){if(a!==d||c!==f){var y=h.push("translate(",null,t,null,n);m.push({i:y-4,x:mt(a,d)},{i:y-2,x:mt(c,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(a,c,d,f){a!==c?(a-c>180?c+=360:c-a>180&&(a+=360),f.push({i:d.push(o(d)+"rotate(",null,i)-2,x:mt(a,c)})):c&&d.push(o(d)+"rotate("+c+i)}function r(a,c,d,f){a!==c?f.push({i:d.push(o(d)+"skewX(",null,i)-2,x:mt(a,c)}):c&&d.push(o(d)+"skewX("+c+i)}function u(a,c,d,f,h,m){if(a!==d||c!==f){var y=h.push(o(h)+"scale(",null,",",null,")");m.push({i:y-4,x:mt(a,d)},{i:y-2,x:mt(c,f)})}else(d!==1||f!==1)&&h.push(o(h)+"scale("+d+","+f+")")}return function(a,c){var d=[],f=[];return a=e(a),c=e(c),l(a.translateX,a.translateY,c.translateX,c.translateY,d,f),s(a.rotate,c.rotate,d,f),r(a.skewX,c.skewX,d,f),u(a.scaleX,a.scaleY,c.scaleX,c.scaleY,d,f),a=c=null,function(h){for(var m=-1,y=f.length,w;++m<y;)d[(w=f[m]).i]=w.x(h);return d.join("")}}}var oa=Tl(na,"px, ","px)","deg)"),la=Tl(ia,", ",")",")"),ra=1e-12;function uo(e){return((e=Math.exp(e))+1/e)/2}function sa(e){return((e=Math.exp(e))-1/e)/2}function ua(e){return((e=Math.exp(2*e))-1)/(e+1)}const aa=function e(t,n,i){function o(l,s){var r=l[0],u=l[1],a=l[2],c=s[0],d=s[1],f=s[2],h=c-r,m=d-u,y=h*h+m*m,w,g;if(y<ra)g=Math.log(f/a)/t,w=function(H){return[r+H*h,u+H*m,a*Math.exp(t*H*g)]};else{var v=Math.sqrt(y),C=(f*f-a*a+i*y)/(2*a*n*v),S=(f*f-a*a-i*y)/(2*f*n*v),P=Math.log(Math.sqrt(C*C+1)-C),I=Math.log(Math.sqrt(S*S+1)-S);g=(I-P)/t,w=function(H){var O=H*g,T=uo(P),_=a/(n*v)*(T*ua(t*O+P)-sa(P));return[r+_*h,u+_*m,a*T/uo(t*O+P)]}}return w.duration=g*1e3*t/Math.SQRT2,w}return o.rho=function(l){var s=Math.max(.001,+l),r=s*s,u=r*r;return e(s,r,u)},o}(Math.SQRT2,2,4);var Bt=0,Qt=0,pt=0,Il=1e3,Xn,jt,Yn=0,kt=0,$n=0,rn=typeof performance=="object"&&performance.now?performance:Date,Dl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Xi(){return kt||(Dl(ca),kt=rn.now()+$n)}function ca(){kt=0}function Rn(){this._call=this._time=this._next=null}Rn.prototype=Xl.prototype={constructor:Rn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Xi():+n)+(t==null?0:+t),!this._next&&jt!==this&&(jt?jt._next=this:Xn=this,jt=this),this._call=e,this._time=n,Ci()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ci())}};function Xl(e,t,n){var i=new Rn;return i.restart(e,t,n),i}function fa(){Xi(),++Bt;for(var e=Xn,t;e;)(t=kt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Bt}function ao(){kt=(Yn=rn.now())+$n,Bt=Qt=0;try{fa()}finally{Bt=0,ha(),kt=0}}function da(){var e=rn.now(),t=e-Yn;t>Il&&($n-=t,Yn=e)}function ha(){for(var e,t=Xn,n,i=1/0;t;)t._call?(i>t._time&&(i=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Xn=n);jt=e,Ci(i)}function Ci(e){if(!Bt){Qt&&(Qt=clearTimeout(Qt));var t=e-kt;t>24?(e<1/0&&(Qt=setTimeout(ao,e-rn.now()-$n)),pt&&(pt=clearInterval(pt))):(pt||(Yn=rn.now(),pt=setInterval(da,Il)),Bt=1,Dl(ao))}}function co(e,t,n){var i=new Rn;return t=t==null?0:+t,i.restart(o=>{i.stop(),e(o+t)},t,n),i}var ga=jn("start","end","cancel","interrupt"),ma=[],Yl=0,fo=1,Pi=2,zn=3,ho=4,Ai=5,Cn=6;function ei(e,t,n,i,o,l){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;ya(e,n,{name:t,index:i,group:o,on:ga,tween:ma,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:Yl})}function Yi(e,t){var n=je(e,t);if(n.state>Yl)throw new Error("too late; already scheduled");return n}function it(e,t){var n=je(e,t);if(n.state>zn)throw new Error("too late; already running");return n}function je(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ya(e,t,n){var i=e.__transition,o;i[t]=n,n.timer=Xl(l,0,n.time);function l(a){n.state=fo,n.timer.restart(s,n.delay,n.time),n.delay<=a&&s(a-n.delay)}function s(a){var c,d,f,h;if(n.state!==fo)return u();for(c in i)if(h=i[c],h.name===n.name){if(h.state===zn)return co(s);h.state===ho?(h.state=Cn,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[c]):+c<t&&(h.state=Cn,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[c])}if(co(function(){n.state===zn&&(n.state=ho,n.timer.restart(r,n.delay,n.time),r(a))}),n.state=Pi,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Pi){for(n.state=zn,o=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=h);o.length=d+1}}function r(a){for(var c=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(u),n.state=Ai,1),d=-1,f=o.length;++d<f;)o[d].call(e,c);n.state===Ai&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=Cn,n.timer.stop(),delete i[t];for(var a in i)return;delete e.__transition}}function Pn(e,t){var n=e.__transition,i,o,l=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((i=n[s]).name!==t){l=!1;continue}o=i.state>Pi&&i.state<Ai,i.state=Cn,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}l&&delete e.__transition}}function _a(e){return this.each(function(){Pn(this,e)})}function ba(e,t){var n,i;return function(){var o=it(this,e),l=o.tween;if(l!==n){i=n=l;for(var s=0,r=i.length;s<r;++s)if(i[s].name===t){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function wa(e,t,n){var i,o;if(typeof n!="function")throw new Error;return function(){var l=it(this,e),s=l.tween;if(s!==i){o=(i=s).slice();for(var r={name:t,value:n},u=0,a=o.length;u<a;++u)if(o[u].name===t){o[u]=r;break}u===a&&o.push(r)}l.tween=o}}function ka(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i=je(this.node(),n).tween,o=0,l=i.length,s;o<l;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((t==null?ba:wa)(n,e,t))}function Ri(e,t,n){var i=e._id;return e.each(function(){var o=it(this,i);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return je(o,i).value[t]}}function Rl(e,t){var n;return(typeof t=="number"?mt:t instanceof ln?ro:(n=ln(t))?(t=n,ro):ta)(e,t)}function va(e){return function(){this.removeAttribute(e)}}function Sa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ea(e,t,n){var i,o=n+"",l;return function(){var s=this.getAttribute(e);return s===o?null:s===i?l:l=t(i=s,n)}}function Ma(e,t,n){var i,o=n+"",l;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?l:l=t(i=s,n)}}function za(e,t,n){var i,o,l;return function(){var s,r=n(this),u;return r==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=r+"",s===u?null:s===i&&u===o?l:(o=u,l=t(i=s,r)))}}function Ca(e,t,n){var i,o,l;return function(){var s,r=n(this),u;return r==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=r+"",s===u?null:s===i&&u===o?l:(o=u,l=t(i=s,r)))}}function Pa(e,t){var n=xn(e),i=n==="transform"?la:Rl;return this.attrTween(e,typeof t=="function"?(n.local?Ca:za)(n,i,Ri(this,"attr."+e,t)):t==null?(n.local?Sa:va)(n):(n.local?Ma:Ea)(n,i,t))}function Aa(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Na(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ha(e,t){var n,i;function o(){var l=t.apply(this,arguments);return l!==i&&(n=(i=l)&&Na(e,l)),n}return o._value=t,o}function Oa(e,t){var n,i;function o(){var l=t.apply(this,arguments);return l!==i&&(n=(i=l)&&Aa(e,l)),n}return o._value=t,o}function Ta(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var i=xn(e);return this.tween(n,(i.local?Ha:Oa)(i,t))}function Ia(e,t){return function(){Yi(this,e).delay=+t.apply(this,arguments)}}function Da(e,t){return t=+t,function(){Yi(this,e).delay=t}}function Xa(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ia:Da)(t,e)):je(this.node(),t).delay}function Ya(e,t){return function(){it(this,e).duration=+t.apply(this,arguments)}}function Ra(e,t){return t=+t,function(){it(this,e).duration=t}}function Va(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ya:Ra)(t,e)):je(this.node(),t).duration}function La(e,t){if(typeof t!="function")throw new Error;return function(){it(this,e).ease=t}}function Wa(e){var t=this._id;return arguments.length?this.each(La(t,e)):je(this.node(),t).ease}function Ba(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;it(this,e).ease=n}}function Ka(e){if(typeof e!="function")throw new Error;return this.each(Ba(this._id,e))}function Fa(e){typeof e!="function"&&(e=ml(e));for(var t=this._groups,n=t.length,i=new Array(n),o=0;o<n;++o)for(var l=t[o],s=l.length,r=i[o]=[],u,a=0;a<s;++a)(u=l[a])&&e.call(u,u.__data__,a,l)&&r.push(u);return new dt(i,this._parents,this._name,this._id)}function Za(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,o=n.length,l=Math.min(i,o),s=new Array(i),r=0;r<l;++r)for(var u=t[r],a=n[r],c=u.length,d=s[r]=new Array(c),f,h=0;h<c;++h)(f=u[h]||a[h])&&(d[h]=f);for(;r<i;++r)s[r]=t[r];return new dt(s,this._parents,this._name,this._id)}function qa(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function pa(e,t,n){var i,o,l=qa(t)?Yi:it;return function(){var s=l(this,e),r=s.on;r!==i&&(o=(i=r).copy()).on(t,n),s.on=o}}function Ga(e,t){var n=this._id;return arguments.length<2?je(this.node(),n).on.on(e):this.each(pa(n,e,t))}function Ua(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ja(){return this.on("end.remove",Ua(this._id))}function Qa(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ti(e));for(var i=this._groups,o=i.length,l=new Array(o),s=0;s<o;++s)for(var r=i[s],u=r.length,a=l[s]=new Array(u),c,d,f=0;f<u;++f)(c=r[f])&&(d=e.call(c,c.__data__,f,r))&&("__data__"in c&&(d.__data__=c.__data__),a[f]=d,ei(a[f],t,n,f,a,je(c,n)));return new dt(l,this._parents,t,n)}function ja(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gl(e));for(var i=this._groups,o=i.length,l=[],s=[],r=0;r<o;++r)for(var u=i[r],a=u.length,c,d=0;d<a;++d)if(c=u[d]){for(var f=e.call(c,c.__data__,d,u),h,m=je(c,n),y=0,w=f.length;y<w;++y)(h=f[y])&&ei(h,t,n,y,f,m);l.push(f),s.push(c)}return new dt(l,s,t,n)}var xa=un.prototype.constructor;function $a(){return new xa(this._groups,this._parents)}function ec(e,t){var n,i,o;return function(){var l=Wt(this,e),s=(this.style.removeProperty(e),Wt(this,e));return l===s?null:l===n&&s===i?o:o=t(n=l,i=s)}}function Vl(e){return function(){this.style.removeProperty(e)}}function tc(e,t,n){var i,o=n+"",l;return function(){var s=Wt(this,e);return s===o?null:s===i?l:l=t(i=s,n)}}function nc(e,t,n){var i,o,l;return function(){var s=Wt(this,e),r=n(this),u=r+"";return r==null&&(u=r=(this.style.removeProperty(e),Wt(this,e))),s===u?null:s===i&&u===o?l:(o=u,l=t(i=s,r))}}function ic(e,t){var n,i,o,l="style."+t,s="end."+l,r;return function(){var u=it(this,e),a=u.on,c=u.value[l]==null?r||(r=Vl(t)):void 0;(a!==n||o!==c)&&(i=(n=a).copy()).on(s,o=c),u.on=i}}function oc(e,t,n){var i=(e+="")=="transform"?oa:Rl;return t==null?this.styleTween(e,ec(e,i)).on("end.style."+e,Vl(e)):typeof t=="function"?this.styleTween(e,nc(e,i,Ri(this,"style."+e,t))).each(ic(this._id,e)):this.styleTween(e,tc(e,i,t),n).on("end.style."+e,null)}function lc(e,t,n){return function(i){this.style.setProperty(e,t.call(this,i),n)}}function rc(e,t,n){var i,o;function l(){var s=t.apply(this,arguments);return s!==o&&(i=(o=s)&&lc(e,s,n)),i}return l._value=t,l}function sc(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;return this.tween(i,rc(e,t,n??""))}function uc(e){return function(){this.textContent=e}}function ac(e){return function(){var t=e(this);this.textContent=t??""}}function cc(e){return this.tween("text",typeof e=="function"?ac(Ri(this,"text",e)):uc(e==null?"":e+""))}function fc(e){return function(t){this.textContent=e.call(this,t)}}function dc(e){var t,n;function i(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&fc(o)),t}return i._value=e,i}function hc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,dc(e))}function gc(){for(var e=this._name,t=this._id,n=Ll(),i=this._groups,o=i.length,l=0;l<o;++l)for(var s=i[l],r=s.length,u,a=0;a<r;++a)if(u=s[a]){var c=je(u,t);ei(u,e,n,a,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new dt(i,this._parents,e,n)}function mc(){var e,t,n=this,i=n._id,o=n.size();return new Promise(function(l,s){var r={value:s},u={value:function(){--o===0&&l()}};n.each(function(){var a=it(this,i),c=a.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(r),t._.interrupt.push(r),t._.end.push(u)),a.on=t}),o===0&&l()})}var yc=0;function dt(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function Ll(){return++yc}var st=un.prototype;dt.prototype={constructor:dt,select:Qa,selectAll:ja,selectChild:st.selectChild,selectChildren:st.selectChildren,filter:Fa,merge:Za,selection:$a,transition:gc,call:st.call,nodes:st.nodes,node:st.node,size:st.size,empty:st.empty,each:st.each,on:Ga,attr:Pa,attrTween:Ta,style:oc,styleTween:sc,text:cc,textTween:hc,remove:Ja,tween:ka,delay:Xa,duration:Va,ease:Wa,easeVarying:Ka,end:mc,[Symbol.iterator]:st[Symbol.iterator]};function _c(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var bc={time:null,delay:0,duration:250,ease:_c};function wc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function kc(e){var t,n;e instanceof dt?(t=e._id,e=e._name):(t=Ll(),(n=bc).time=Xi(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,l=0;l<o;++l)for(var s=i[l],r=s.length,u,a=0;a<r;++a)(u=s[a])&&ei(u,e,t,a,s,n||wc(u,t));return new dt(i,this._parents,e,t)}un.prototype.interrupt=_a;un.prototype.transition=kc;const wn=e=>()=>e;function vc(e,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function ut(e,t,n){this.k=e,this.x=t,this.y=n}ut.prototype={constructor:ut,scale:function(e){return e===1?this:new ut(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ut(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ti=new ut(1,0,0);Wl.prototype=ut.prototype;function Wl(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ti;return e.__zoom}function fi(e){e.stopImmediatePropagation()}function Gt(e){e.preventDefault(),e.stopImmediatePropagation()}function Sc(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ec(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function go(){return this.__zoom||ti}function Mc(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function zc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Cc(e,t,n){var i=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],l=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>l?(l+s)/2:Math.min(0,l)||Math.max(0,s))}function Bl(){var e=Sc,t=Ec,n=Cc,i=Mc,o=zc,l=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],r=250,u=aa,a=jn("start","zoom","end"),c,d,f,h=500,m=150,y=0,w=10;function g(b){b.property("__zoom",go).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",_).filter(o).on("touchstart.zoom",Y).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,A,E,D){var V=b.selection?b.selection():b;V.property("__zoom",go),b!==V?P(b,A,E,D):V.interrupt().each(function(){I(this,arguments).event(D).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},g.scaleBy=function(b,A,E,D){g.scaleTo(b,function(){var V=this.__zoom.k,B=typeof A=="function"?A.apply(this,arguments):A;return V*B},E,D)},g.scaleTo=function(b,A,E,D){g.transform(b,function(){var V=t.apply(this,arguments),B=this.__zoom,F=E==null?S(V):typeof E=="function"?E.apply(this,arguments):E,G=B.invert(F),z=typeof A=="function"?A.apply(this,arguments):A;return n(C(v(B,z),F,G),V,s)},E,D)},g.translateBy=function(b,A,E,D){g.transform(b,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof E=="function"?E.apply(this,arguments):E),t.apply(this,arguments),s)},null,D)},g.translateTo=function(b,A,E,D,V){g.transform(b,function(){var B=t.apply(this,arguments),F=this.__zoom,G=D==null?S(B):typeof D=="function"?D.apply(this,arguments):D;return n(ti.translate(G[0],G[1]).scale(F.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof E=="function"?-E.apply(this,arguments):-E),B,s)},D,V)};function v(b,A){return A=Math.max(l[0],Math.min(l[1],A)),A===b.k?b:new ut(A,b.x,b.y)}function C(b,A,E){var D=A[0]-E[0]*b.k,V=A[1]-E[1]*b.k;return D===b.x&&V===b.y?b:new ut(b.k,D,V)}function S(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function P(b,A,E,D){b.on("start.zoom",function(){I(this,arguments).event(D).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(D).end()}).tween("zoom",function(){var V=this,B=arguments,F=I(V,B).event(D),G=t.apply(V,B),z=E==null?S(G):typeof E=="function"?E.apply(V,B):E,ie=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),$=V.__zoom,le=typeof A=="function"?A.apply(V,B):A,q=u($.invert(z).concat(ie/$.k),le.invert(z).concat(ie/le.k));return function(fe){if(fe===1)fe=le;else{var he=q(fe),L=ie/he[2];fe=new ut(L,z[0]-he[0]*L,z[1]-he[1]*L)}F.zoom(null,fe)}})}function I(b,A,E){return!E&&b.__zooming||new H(b,A)}function H(b,A){this.that=b,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,A),this.taps=0}H.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,A){return this.mouse&&b!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var A=Ge(this.that).datum();a.call(b,this.that,new vc(b,{sourceEvent:this.sourceEvent,target:g,type:b,transform:this.that.__zoom,dispatch:a}),A)}};function O(b,...A){if(!e.apply(this,arguments))return;var E=I(this,A).event(b),D=this.__zoom,V=Math.max(l[0],Math.min(l[1],D.k*Math.pow(2,i.apply(this,arguments)))),B=Je(b);if(E.wheel)(E.mouse[0][0]!==B[0]||E.mouse[0][1]!==B[1])&&(E.mouse[1]=D.invert(E.mouse[0]=B)),clearTimeout(E.wheel);else{if(D.k===V)return;E.mouse=[B,D.invert(B)],Pn(this),E.start()}Gt(b),E.wheel=setTimeout(F,m),E.zoom("mouse",n(C(v(D,V),E.mouse[0],E.mouse[1]),E.extent,s));function F(){E.wheel=null,E.end()}}function T(b,...A){if(f||!e.apply(this,arguments))return;var E=b.currentTarget,D=I(this,A,!0).event(b),V=Ge(b.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",ie,!0),B=Je(b,E),F=b.clientX,G=b.clientY;zl(b.view),fi(b),D.mouse=[B,this.__zoom.invert(B)],Pn(this),D.start();function z($){if(Gt($),!D.moved){var le=$.clientX-F,q=$.clientY-G;D.moved=le*le+q*q>y}D.event($).zoom("mouse",n(C(D.that.__zoom,D.mouse[0]=Je($,E),D.mouse[1]),D.extent,s))}function ie($){V.on("mousemove.zoom mouseup.zoom",null),Cl($.view,D.moved),Gt($),D.event($).end()}}function _(b,...A){if(e.apply(this,arguments)){var E=this.__zoom,D=Je(b.changedTouches?b.changedTouches[0]:b,this),V=E.invert(D),B=E.k*(b.shiftKey?.5:2),F=n(C(v(E,B),D,V),t.apply(this,A),s);Gt(b),r>0?Ge(this).transition().duration(r).call(P,F,D,b):Ge(this).call(g.transform,F,D,b)}}function Y(b,...A){if(e.apply(this,arguments)){var E=b.touches,D=E.length,V=I(this,A,b.changedTouches.length===D).event(b),B,F,G,z;for(fi(b),F=0;F<D;++F)G=E[F],z=Je(G,this),z=[z,this.__zoom.invert(z),G.identifier],V.touch0?!V.touch1&&V.touch0[2]!==z[2]&&(V.touch1=z,V.taps=0):(V.touch0=z,B=!0,V.taps=1+!!c);c&&(c=clearTimeout(c)),B&&(V.taps<2&&(d=z[0],c=setTimeout(function(){c=null},h)),Pn(this),V.start())}}function W(b,...A){if(this.__zooming){var E=I(this,A).event(b),D=b.changedTouches,V=D.length,B,F,G,z;for(Gt(b),B=0;B<V;++B)F=D[B],G=Je(F,this),E.touch0&&E.touch0[2]===F.identifier?E.touch0[0]=G:E.touch1&&E.touch1[2]===F.identifier&&(E.touch1[0]=G);if(F=E.that.__zoom,E.touch1){var ie=E.touch0[0],$=E.touch0[1],le=E.touch1[0],q=E.touch1[1],fe=(fe=le[0]-ie[0])*fe+(fe=le[1]-ie[1])*fe,he=(he=q[0]-$[0])*he+(he=q[1]-$[1])*he;F=v(F,Math.sqrt(fe/he)),G=[(ie[0]+le[0])/2,(ie[1]+le[1])/2],z=[($[0]+q[0])/2,($[1]+q[1])/2]}else if(E.touch0)G=E.touch0[0],z=E.touch0[1];else return;E.zoom("touch",n(C(F,G,z),E.extent,s))}}function N(b,...A){if(this.__zooming){var E=I(this,A).event(b),D=b.changedTouches,V=D.length,B,F;for(fi(b),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),B=0;B<V;++B)F=D[B],E.touch0&&E.touch0[2]===F.identifier?delete E.touch0:E.touch1&&E.touch1[2]===F.identifier&&delete E.touch1;if(E.touch1&&!E.touch0&&(E.touch0=E.touch1,delete E.touch1),E.touch0)E.touch0[1]=this.__zoom.invert(E.touch0[0]);else if(E.end(),E.taps===2&&(F=Je(F,this),Math.hypot(d[0]-F[0],d[1]-F[1])<w)){var G=Ge(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(i=typeof b=="function"?b:wn(+b),g):i},g.filter=function(b){return arguments.length?(e=typeof b=="function"?b:wn(!!b),g):e},g.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:wn(!!b),g):o},g.extent=function(b){return arguments.length?(t=typeof b=="function"?b:wn([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):t},g.scaleExtent=function(b){return arguments.length?(l[0]=+b[0],l[1]=+b[1],g):[l[0],l[1]]},g.translateExtent=function(b){return arguments.length?(s[0][0]=+b[0][0],s[1][0]=+b[1][0],s[0][1]=+b[0][1],s[1][1]=+b[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(r=+b,g):r},g.interpolate=function(b){return arguments.length?(u=b,g):u},g.on=function(){var b=a.on.apply(a,arguments);return b===a?g:b},g.clickDistance=function(b){return arguments.length?(y=(b=+b)*b,g):Math.sqrt(y)},g.tapDistance=function(b){return arguments.length?(w=+b,g):w},g}const cn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${e} handle id: "${n&&i}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},ve=Symbol.for("internals"),mo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var vt;(function(e){e.Strict="strict",e.Loose="loose"})(vt||(vt={}));var nt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(nt||(nt={}));var Vn;(function(e){e.Partial="partial",e.Full="full"})(Vn||(Vn={}));var Xt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Xt||(Xt={}));var Ln;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ln||(Ln={}));var de;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(de||(de={}));function Pc(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function yo(e,t,n){if(!n)return;const i=[];e.forEach((o,l)=>{t!=null&&t.has(l)||i.push(o)}),i.length&&n(i)}const Ac=e=>"id"in e&&"source"in e&&"target"in e,Zt=(e,t=[0,0])=>{var r;if(!e)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const{width:n,height:i}=dn(e),o=n*t[0],l=i*t[1],s={x:e.position.x-o,y:e.position.y-l};return{position:s,positionAbsolute:(r=e.computed)!=null&&r.positionAbsolute?{x:e.computed.positionAbsolute.x-o,y:e.computed.positionAbsolute.y-l}:s}},fn=(e,t={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((i,o)=>{const l=Zt(o,o.origin||t.nodeOrigin);return Vi(i,Wn({...l[t.useRelativePosition?"position":"positionAbsolute"],...dn(o)}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Li(n)},Kl=(e,t,[n,i,o]=[0,0,1],l=!1,s=!1,r=[0,0])=>{const u={...Bi(t,[n,i,o]),width:t.width/o,height:t.height/o};return e.reduce((c,d)=>{const{computed:f,selectable:h=!0,hidden:m=!1}=d,y=(f==null?void 0:f.width)??d.width??d.initialWidth??null,w=(f==null?void 0:f.height)??d.height??d.initialHeight??null;if(s&&!h||m)return c;const g=Zl(u,Dc(d,r)),v=y===null||w===null,C=l&&g>0,S=(y??0)*(w??0);return(v||C||g>=S||d.dragging)&&c.push(d),c},[])},Ni=(e,t)=>{const n=new Set;return e.forEach(i=>{n.add(i.id)}),t.filter(i=>n.has(i.source)||n.has(i.target))};function Nc({nodes:e,width:t,height:n,panZoom:i,minZoom:o,maxZoom:l,nodeOrigin:s=[0,0]},r){const u=e.filter(a=>{var d,f,h;const c=((d=a.computed)==null?void 0:d.width)&&((f=a.computed)==null?void 0:f.height)&&((r==null?void 0:r.includeHiddenNodes)||!a.hidden);return(h=r==null?void 0:r.nodes)!=null&&h.length?c&&(r==null?void 0:r.nodes.some(m=>m.id===a.id)):c});if(u.length>0){const a=fn(u,{nodeOrigin:s}),c=ql(a,t,n,(r==null?void 0:r.minZoom)??o,(r==null?void 0:r.maxZoom)??l,(r==null?void 0:r.padding)??.1);return i.setViewport(c,{duration:r==null?void 0:r.duration}),!0}return!1}function Hc(e,t){var n,i;return!t||t==="parent"?t:[t[0],[t[1][0]-(((n=e.computed)==null?void 0:n.width)??0),t[1][1]-(((i=e.computed)==null?void 0:i.height)??0)]]}function Oc({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:l}){var f,h,m,y;const s=n.get(e),r=s.parentNode?n.get(s.parentNode):void 0,{x:u,y:a}=r?Zt(r,r.origin||i).positionAbsolute:{x:0,y:0};let c=Hc(s,s.extent||o);if(s.extent==="parent"&&!s.expandParent)if(!r)l==null||l("005",cn.error005());else{const w=(f=s.computed)==null?void 0:f.width,g=(h=s.computed)==null?void 0:h.height,v=(m=r==null?void 0:r.computed)==null?void 0:m.width,C=(y=r==null?void 0:r.computed)==null?void 0:y.height;if(w&&g&&v&&C){const S=s.origin||i,P=u+w*S[0],I=a+g*S[1];c=[[P,I],[P+v-w,I+C-g]]}}else r&&wo(s.extent)&&(c=[[s.extent[0][0]+u,s.extent[0][1]+a],[s.extent[1][0]+u,s.extent[1][1]+a]]);const d=wo(c)?Ic(t,c):t;return{position:{x:d.x-u,y:d.y-a},positionAbsolute:d}}async function Tc({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:i,onBeforeDelete:o}){const l=e.map(f=>f.id),s=[];for(const f of n){if(f.deletable===!1)continue;const h=l.includes(f.id),m=!h&&f.parentNode&&s.find(y=>y.id===f.parentNode);(h||m)&&s.push(f)}const r=t.map(f=>f.id),u=i.filter(f=>f.deletable!==!1),c=Ni(s,u);for(const f of u)r.includes(f.id)&&!c.find(m=>m.id===f.id)&&c.push(f);if(!o)return{edges:c,nodes:s};const d=await o({nodes:s,edges:c});return typeof d=="boolean"?d?{edges:c,nodes:s}:{edges:[],nodes:[]}:d}const Kt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ic=(e={x:0,y:0},t)=>({x:Kt(e.x,t[0][0],t[1][0]),y:Kt(e.y,t[0][1],t[1][1])}),_o=(e,t,n)=>e<t?Kt(Math.abs(e-t),1,50)/50:e>n?-Kt(Math.abs(e-n),1,50)/50:0,Fl=(e,t)=>{const n=_o(e.x,35,t.width-35)*20,i=_o(e.y,35,t.height-35)*20;return[n,i]},Vi=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Wn=({x:e,y:t,width:n,height:i})=>({x:e,y:t,x2:e+n,y2:t+i}),Li=({x:e,y:t,x2:n,y2:i})=>({x:e,y:t,width:n-e,height:i-t}),Dc=(e,t=[0,0])=>{var i,o;const{positionAbsolute:n}=Zt(e,e.origin||t);return{...n,width:((i=e.computed)==null?void 0:i.width)??e.width??0,height:((o=e.computed)==null?void 0:o.height)??e.height??0}},bo=(e,t=[0,0])=>{var i,o;const{positionAbsolute:n}=Zt(e,e.origin||t);return{...n,x2:n.x+(((i=e.computed)==null?void 0:i.width)??e.width??0),y2:n.y+(((o=e.computed)==null?void 0:o.height)??e.height??0)}},Xc=(e,t)=>Li(Vi(Wn(e),Wn(t))),Zl=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),i=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*i)},Yc=e=>!isNaN(e)&&isFinite(e),Rc=(e,t)=>{},Vc=({x:e,y:t,width:n,height:i,origin:o=[0,0]})=>!n||!i||o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-i*o[1]},Wi=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Bi=({x:e,y:t},[n,i,o],l=!1,s=[1,1])=>{const r={x:(e-n)/o,y:(t-i)/o};return l?Wi(r,s):r},Lc=({x:e,y:t},[n,i,o])=>({x:e*o+n,y:t*o+i}),ql=(e,t,n,i,o,l)=>{const s=t/(e.width*(1+l)),r=n/(e.height*(1+l)),u=Math.min(s,r),a=Kt(u,i,o),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*a,h=n/2-d*a;return{x:f,y:h,zoom:a}},Bn=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function wo(e){return e!==void 0&&e!=="parent"}function dn(e){var t,n;return{width:((t=e.computed)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.computed)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Kn(e){var t,n;return(((t=e.computed)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.computed)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function di(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:i}){const{x:o,y:l}=at(e),s=Bi({x:o,y:l},i),{x:r,y:u}=n?Wi(s,t):s;return{xSnapped:r,ySnapped:u,...s}}const pl=e=>({width:e.offsetWidth,height:e.offsetHeight}),Wc=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},Bc=["INPUT","SELECT","TEXTAREA"];function Kc(e){var i,o;const t=((o=(i=e.composedPath)==null?void 0:i.call(e))==null?void 0:o[0])||e.target;return Bc.includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))||!!(t!=null&&t.closest(".nokey"))}const Gl=e=>"clientX"in e,at=(e,t)=>{var l,s;const n=Gl(e),i=n?e.clientX:(l=e.touches)==null?void 0:l[0].clientX,o=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:i-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},ko=(e,t,n,i=[0,0])=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const l=Array.from(o),s=t.getBoundingClientRect(),r={x:s.width*i[0],y:s.height*i[1]};return l.map(u=>{const a=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(a.left-s.left-r.x)/n,y:(a.top-s.top-r.y)/n,...pl(u)}})};function Fc({sourceX:e,sourceY:t,targetX:n,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:s,targetControlY:r}){const u=e*.125+o*.375+s*.375+n*.125,a=t*.125+l*.375+r*.375+i*.125,c=Math.abs(u-e),d=Math.abs(a-t);return[u,a,c,d]}function kn(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function vo({pos:e,x1:t,y1:n,x2:i,y2:o,c:l}){switch(e){case de.Left:return[t-kn(t-i,l),n];case de.Right:return[t+kn(i-t,l),n];case de.Top:return[t,n-kn(n-o,l)];case de.Bottom:return[t,n+kn(o-n,l)]}}function Ul({sourceX:e,sourceY:t,sourcePosition:n=de.Bottom,targetX:i,targetY:o,targetPosition:l=de.Top,curvature:s=.25}){const[r,u]=vo({pos:n,x1:e,y1:t,x2:i,y2:o,c:s}),[a,c]=vo({pos:l,x1:i,y1:o,x2:e,y2:t,c:s}),[d,f,h,m]=Fc({sourceX:e,sourceY:t,targetX:i,targetY:o,sourceControlX:r,sourceControlY:u,targetControlX:a,targetControlY:c});return[`M${e},${t} C${r},${u} ${a},${c} ${i},${o}`,d,f,h,m]}function Jl({sourceX:e,sourceY:t,targetX:n,targetY:i}){const o=Math.abs(n-e)/2,l=n<e?n+o:n-o,s=Math.abs(i-t)/2,r=i<t?i+s:i-s;return[l,r,o,s]}function Zc({sourceNode:e,targetNode:t,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){var r,u;if(!o)return i;const l=n||t.selected||e.selected,s=Math.max(((r=e[ve])==null?void 0:r.z)||0,((u=t[ve])==null?void 0:u.z)||0,1e3);return i+(l?s:0)}function qc({sourceNode:e,targetNode:t,width:n,height:i,transform:o}){const l=Vi(bo(e),bo(t));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const s={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return Zl(s,Li(l))>0}const pc=({source:e,sourceHandle:t,target:n,targetHandle:i})=>`xy-edge__${e}${t||""}-${n}${i||""}`,Gc=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Uc=(e,t)=>{if(!e.source||!e.target)return t;let n;return Ac(e)?n={...e}:n={...e,id:pc(e)},Gc(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Ql({sourceX:e,sourceY:t,targetX:n,targetY:i}){const[o,l,s,r]=Jl({sourceX:e,sourceY:t,targetX:n,targetY:i});return[`M ${e},${t}L ${n},${i}`,o,l,s,r]}const So={[de.Left]:{x:-1,y:0},[de.Right]:{x:1,y:0},[de.Top]:{x:0,y:-1},[de.Bottom]:{x:0,y:1}},Jc=({source:e,sourcePosition:t=de.Bottom,target:n})=>t===de.Left||t===de.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Eo=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Qc({source:e,sourcePosition:t=de.Bottom,target:n,targetPosition:i=de.Top,center:o,offset:l}){const s=So[t],r=So[i],u={x:e.x+s.x*l,y:e.y+s.y*l},a={x:n.x+r.x*l,y:n.y+r.y*l},c=Jc({source:u,sourcePosition:t,target:a}),d=c.x!==0?"x":"y",f=c[d];let h=[],m,y;const w={x:0,y:0},g={x:0,y:0},[v,C,S,P]=Jl({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*r[d]===-1){m=o.x??v,y=o.y??C;const H=[{x:m,y:u.y},{x:m,y:a.y}],O=[{x:u.x,y},{x:a.x,y}];s[d]===f?h=d==="x"?H:O:h=d==="x"?O:H}else{const H=[{x:u.x,y:a.y}],O=[{x:a.x,y:u.y}];if(d==="x"?h=s.x===f?O:H:h=s.y===f?H:O,t===i){const N=Math.abs(e[d]-n[d]);if(N<=l){const b=Math.min(l-1,l-N);s[d]===f?w[d]=(u[d]>e[d]?-1:1)*b:g[d]=(a[d]>n[d]?-1:1)*b}}if(t!==i){const N=d==="x"?"y":"x",b=s[d]===r[N],A=u[N]>a[N],E=u[N]<a[N];(s[d]===1&&(!b&&A||b&&E)||s[d]!==1&&(!b&&E||b&&A))&&(h=d==="x"?H:O)}const T={x:u.x+w.x,y:u.y+w.y},_={x:a.x+g.x,y:a.y+g.y},Y=Math.max(Math.abs(T.x-h[0].x),Math.abs(_.x-h[0].x)),W=Math.max(Math.abs(T.y-h[0].y),Math.abs(_.y-h[0].y));Y>=W?(m=(T.x+_.x)/2,y=h[0].y):(m=h[0].x,y=(T.y+_.y)/2)}return[[e,{x:u.x+w.x,y:u.y+w.y},...h,{x:a.x+g.x,y:a.y+g.y},n],m,y,S,P]}function jc(e,t,n,i){const o=Math.min(Eo(e,t)/2,Eo(t,n)/2,i),{x:l,y:s}=t;if(e.x===l&&l===n.x||e.y===s&&s===n.y)return`L${l} ${s}`;if(e.y===s){const a=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${l+o*a},${s}Q ${l},${s} ${l},${s+o*c}`}const r=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${l},${s+o*u}Q ${l},${s} ${l+o*r},${s}`}function Fn({sourceX:e,sourceY:t,sourcePosition:n=de.Bottom,targetX:i,targetY:o,targetPosition:l=de.Top,borderRadius:s=5,centerX:r,centerY:u,offset:a=20}){const[c,d,f,h,m]=Qc({source:{x:e,y:t},sourcePosition:n,target:{x:i,y:o},targetPosition:l,center:{x:r,y:u},offset:a});return[c.reduce((w,g,v)=>{let C="";return v>0&&v<c.length-1?C=jc(c[v-1],g,c[v+1],s):C=`${v===0?"M":"L"}${g.x} ${g.y}`,w+=C,w},""),d,f,h,m]}function Mo(e){var t,n,i;return!!((t=e==null?void 0:e[ve])!=null&&t.handleBounds||(n=e==null?void 0:e.handles)!=null&&n.length)&&!!((i=e==null?void 0:e.computed)!=null&&i.width||e!=null&&e.width||e!=null&&e.initialWidth)}function xc(e){var h,m,y;const{sourceNode:t,targetNode:n}=e;if(!Mo(t)||!Mo(n))return null;const i=((h=t[ve])==null?void 0:h.handleBounds)||zo(t.handles),o=((m=n[ve])==null?void 0:m.handleBounds)||zo(n.handles),l=Po((i==null?void 0:i.source)??[],e.sourceHandle),s=Po(e.connectionMode===vt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle),r=(l==null?void 0:l.position)||de.Bottom,u=(s==null?void 0:s.position)||de.Top;if(!l||!s)return(y=e.onError)==null||y.call(e,"008",cn.error008(l?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const[a,c]=Co(r,t,l),[d,f]=Co(u,n,s);return{sourceX:a,sourceY:c,targetX:d,targetY:f,sourcePosition:r,targetPosition:u}}function zo(e){if(!e)return null;const t=[],n=[];for(const i of e)i.width=i.width??1,i.height=i.height??1,i.type==="source"?t.push(i):i.type==="target"&&n.push(i);return{source:t,target:n}}function Co(e,t,n=null){var r,u,a,c;const i=((n==null?void 0:n.x)??0)+(((u=(r=t.computed)==null?void 0:r.positionAbsolute)==null?void 0:u.x)??0),o=((n==null?void 0:n.y)??0)+(((c=(a=t.computed)==null?void 0:a.positionAbsolute)==null?void 0:c.y)??0),{width:l,height:s}=n??dn(t);switch(e){case de.Top:return[i+l/2,o];case de.Right:return[i+l,o+s/2];case de.Bottom:return[i+l/2,o+s];case de.Left:return[i,o+s/2]}}function Po(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Hi(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`:""}function $c(e,{id:t,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const l=new Set;return e.reduce((s,r)=>([r.markerStart||i,r.markerEnd||o].forEach(u=>{if(u&&typeof u=="object"){const a=Hi(u,t);l.has(a)||(s.push({id:a,color:u.color||n,...u}),l.add(a))}}),s),[]).sort((s,r)=>s.id.localeCompare(r.id))}function ef(e,t,n=[0,0],i){return e.map(o=>{var l,s,r,u,a,c;if(o.parentNode&&!t.has(o.parentNode))throw new Error(`Parent node ${o.parentNode} not found`);if(o.parentNode||i!=null&&i[o.id]){const d=o.parentNode?t.get(o.parentNode):null,{x:f,y:h,z:m}=xl(o,e,t,{...o.position,z:((l=o[ve])==null?void 0:l.z)??0},(d==null?void 0:d.origin)||n),y=f!==((r=(s=o.computed)==null?void 0:s.positionAbsolute)==null?void 0:r.x)||h!==((a=(u=o.computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y);o.computed.positionAbsolute=y?{x:f,y:h}:(c=o.computed)==null?void 0:c.positionAbsolute,o[ve].z=m,i!=null&&i[o.id]&&(o[ve].isParent=!0)}return o})}function jl(e,t,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i=new Map(t);t.clear();const o={},l=n!=null&&n.elevateNodesOnSelect?1e3:0,s=e.map(u=>{var h,m,y;const a=i.get(u.id);if(u===((h=a==null?void 0:a[ve])==null?void 0:h.userProvidedNode))return t.set(u.id,a),a;const c={...n.defaults,...u,computed:{positionAbsolute:u.position,width:(m=u.computed)==null?void 0:m.width,height:(y=u.computed)==null?void 0:y.height}},d=(Yc(u.zIndex)?u.zIndex:0)+(u.selected?l:0),f=(u==null?void 0:u[ve])||(a==null?void 0:a[ve]);return c.parentNode&&(o[c.parentNode]=!0),Object.defineProperty(c,ve,{enumerable:!1,value:{handleBounds:f==null?void 0:f.handleBounds,z:d,userProvidedNode:u}}),t.set(c.id,c),c});return ef(s,t,n.nodeOrigin,o)}function xl(e,t,n,i,o){var r,u;if(!e.parentNode)return i;const l=n.get(e.parentNode),{position:s}=Zt(l,(l==null?void 0:l.origin)||o);return xl(l,t,n,{x:(i.x??0)+s.x,y:(i.y??0)+s.y,z:(((r=l[ve])==null?void 0:r.z)??0)>(i.z??0)?((u=l[ve])==null?void 0:u.z)??0:i.z??0},l.origin||o)}function tf(e,t,n,i,o,l){const s=i==null?void 0:i.querySelector(".xyflow__viewport");if(!s)return null;const r=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(r.transform);return t.map(c=>{var f,h;const d=e.get(c.id);if(d){const m=pl(d.nodeElement);if(!!(m.width&&m.height&&(((f=c.computed)==null?void 0:f.width)!==m.width||((h=c.computed)==null?void 0:h.height)!==m.height||d.forceUpdate))){l==null||l(c.id,m);const w={...c,computed:{...c.computed,...m},[ve]:{...c[ve],handleBounds:{source:ko(".source",d.nodeElement,u,c.origin||o),target:ko(".target",d.nodeElement,u,c.origin||o)}}};return n.set(c.id,w),w}}return c})}function nf({delta:e,panZoom:t,transform:n,translateExtent:i,width:o,height:l}){if(!t||!e.x&&!e.y)return!1;const s=t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,l]],i);return!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2])}function $l(e,t,n){e.clear(),t.clear();for(const i of n){const{source:o,target:l,sourceHandle:s=null,targetHandle:r=null}=i,u=`${o}-source-${s}`,a=`${l}-target-${r}`,c=e.get(u)||new Map,d=e.get(a)||new Map,f={edgeId:i.id,source:o,target:l,sourceHandle:s,targetHandle:r};t.set(i.id,i),e.set(u,c.set(`${l}-${r}`,f)),e.set(a,d.set(`${o}-${s}`,f))}}function hi(e){return(t,n,i)=>e==null?void 0:e(t,i)}function er(e,t){if(!e.parentNode)return!1;const n=t.find(i=>i.id===i.parentNode);return n?n.selected?!0:er(n,t):!1}function Ao(e,t,n){let i=e;do{if(i!=null&&i.matches(t))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function of(e,t,n,i){return e.filter(o=>(o.selected||o.id===i)&&(!o.parentNode||!er(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var l,s,r,u,a,c,d;return{id:o.id,position:o.position||{x:0,y:0},distance:{x:n.x-(((s=(l=o.computed)==null?void 0:l.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((u=(r=o.computed)==null?void 0:r.positionAbsolute)==null?void 0:u.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode,origin:o.origin,expandParent:o.expandParent,computed:{positionAbsolute:((a=o.computed)==null?void 0:a.positionAbsolute)||{x:0,y:0},width:((c=o.computed)==null?void 0:c.width)||0,height:((d=o.computed)==null?void 0:d.height)||0}}})}function gi({nodeId:e,dragItems:t,nodeLookup:n}){const i=t.map(o=>({...n.get(o.id),position:o.position,computed:{...o.computed,positionAbsolute:o.computed.positionAbsolute}}));return[e?i.find(o=>o.id===e):i[0],i]}function lf({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:i,onDragStop:o}){let l={x:null,y:null},s=0,r=[],u=!1,a={x:0,y:0},c=null,d=!1,f=null;function h({noDragClassName:y,handleSelector:w,domNode:g,isSelectable:v,nodeId:C}){f=Ge(g);function S({x:O,y:T},_){const{nodeLookup:Y,nodeExtent:W,snapGrid:N,snapToGrid:b,nodeOrigin:A,onNodeDrag:E,onSelectionDrag:D,onError:V,updateNodePositions:B}=t();l={x:O,y:T};let F=!1,G={x:0,y:0,x2:0,y2:0};if(r.length>1&&W){const z=fn(r,{nodeOrigin:A});G=Wn(z)}if(r=r.map(z=>{var fe,he;let ie={x:O-z.distance.x,y:T-z.distance.y};b&&(ie=Wi(ie,N));const $=[[W[0][0],W[0][1]],[W[1][0],W[1][1]]];r.length>1&&W&&!z.extent&&($[0][0]=z.computed.positionAbsolute.x-G.x+W[0][0],$[1][0]=z.computed.positionAbsolute.x+(((fe=z.computed)==null?void 0:fe.width)??0)-G.x2+W[1][0],$[0][1]=z.computed.positionAbsolute.y-G.y+W[0][1],$[1][1]=z.computed.positionAbsolute.y+(((he=z.computed)==null?void 0:he.height)??0)-G.y2+W[1][1]);const{position:le,positionAbsolute:q}=Oc({nodeId:z.id,nextPosition:ie,nodeLookup:Y,nodeExtent:$,nodeOrigin:A,onError:V});return F=F||z.position.x!==le.x||z.position.y!==le.y,z.position=le,z.computed.positionAbsolute=q,z}),!!F&&(B(r,!0),_&&(i||E||!C&&D))){const[z,ie]=gi({nodeId:C,dragItems:r,nodeLookup:Y});i==null||i(_,r,z,ie),E==null||E(_,z,ie),C||hi(D)(_,z,ie)}}function P(){if(!c)return;const[O,T]=Fl(a,c);if(O!==0||T!==0){const{transform:_,panBy:Y}=t();l.x=(l.x??0)-O/_[2],l.y=(l.y??0)-T/_[2],Y({x:O,y:T})&&S(l,null)}s=requestAnimationFrame(P)}function I(O){var G;const{nodes:T,nodeLookup:_,multiSelectionActive:Y,nodesDraggable:W,transform:N,snapGrid:b,snapToGrid:A,selectNodesOnDrag:E,onNodeDragStart:D,onSelectionDragStart:V,unselectNodesAndEdges:B}=t();d=!0,(!E||!v)&&!Y&&C&&((G=_.get(C))!=null&&G.selected||B()),v&&E&&C&&(e==null||e(C));const F=di(O.sourceEvent,{transform:N,snapGrid:b,snapToGrid:A});if(l=F,r=of(T,W,F,C),r.length>0&&(n||D||!C&&V)){const[z,ie]=gi({nodeId:C,dragItems:r,nodeLookup:_});n==null||n(O.sourceEvent,r,z,ie),D==null||D(O.sourceEvent,z,ie),C||hi(V)(O.sourceEvent,z,ie)}}const H=Ru().on("start",O=>{const{domNode:T,nodeDragThreshold:_,transform:Y,snapGrid:W,snapToGrid:N}=t();_===0&&I(O),l=di(O.sourceEvent,{transform:Y,snapGrid:W,snapToGrid:N}),c=(T==null?void 0:T.getBoundingClientRect())||null,a=at(O.sourceEvent,c)}).on("drag",O=>{const{autoPanOnNodeDrag:T,transform:_,snapGrid:Y,snapToGrid:W,nodeDragThreshold:N}=t(),b=di(O.sourceEvent,{transform:_,snapGrid:Y,snapToGrid:W});if(!u&&T&&d&&(u=!0,P()),!d){const A=b.xSnapped-(l.x??0),E=b.ySnapped-(l.y??0);Math.sqrt(A*A+E*E)>N&&I(O)}(l.x!==b.xSnapped||l.y!==b.ySnapped)&&r&&d&&(a=at(O.sourceEvent,c),S(b,O.sourceEvent))}).on("end",O=>{if(d&&(u=!1,d=!1,cancelAnimationFrame(s),r.length>0)){const{nodeLookup:T,updateNodePositions:_,onNodeDragStop:Y,onSelectionDragStop:W}=t();if(_(r,!1),o||Y||!C&&W){const[N,b]=gi({nodeId:C,dragItems:r,nodeLookup:T});o==null||o(O.sourceEvent,r,N,b),Y==null||Y(O.sourceEvent,N,b),C||hi(W)(O.sourceEvent,N,b)}}}).filter(O=>{const T=O.target;return!O.button&&(!y||!Ao(T,`.${y}`,g))&&(!w||Ao(T,w,g))});f.call(H)}function m(){f==null||f.on(".drag",null)}return{update:h,destroy:m}}function No(e,t,n,i){return(t[n]||[]).reduce((o,l)=>{var s,r,u,a;return`${e.id}-${l.id}-${n}`!==i&&o.push({id:l.id||null,type:n,nodeId:e.id,x:(((r=(s=e.computed)==null?void 0:s.positionAbsolute)==null?void 0:r.x)??0)+l.x+l.width/2,y:(((a=(u=e.computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y)??0)+l.y+l.height/2}),o},[])}function rf(e,t,n){let i=[],o=1/0;for(const l of n){const s=Math.sqrt(Math.pow(l.x-e.x,2)+Math.pow(l.y-e.y,2));s<=t&&(s<o?i=[l]:s===o&&i.push(l),o=s)}return i.length?i.length===1?i[0]:i.find(l=>l.type==="target")||i[0]:null}function sf({nodes:e,nodeId:t,handleId:n,handleType:i}){return e.reduce((o,l)=>{if(l[ve]){const{handleBounds:s}=l[ve];let r=[],u=[];s&&(r=No(l,s,"source",`${t}-${n}-${i}`),u=No(l,s,"target",`${t}-${n}-${i}`)),o.push(...r,...u)}return o},[])}function tr(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function uf(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}const nr=()=>!0;let vn=null;function af(e,{connectionMode:t,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:l,isTarget:s,domNode:r,nodes:u,lib:a,autoPanOnConnect:c,flowId:d,panBy:f,cancelConnection:h,onConnectStart:m,onConnect:y,onConnectEnd:w,isValidConnection:g=nr,onEdgeUpdateEnd:v,updateConnection:C,getTransform:S}){const P=Wc(e.target);let I=0,H;const{x:O,y:T}=at(e),_=P==null?void 0:P.elementFromPoint(O,T),Y=tr(l,_),W=r==null?void 0:r.getBoundingClientRect();if(!W||!Y)return;let N=at(e,W),b=!1,A=null,E=!1,D=null;const V=sf({nodes:u,nodeId:o,handleId:i,handleType:Y});function B(){if(!c||!W)return;const[z,ie]=Fl(N,W);f({x:z,y:ie}),I=requestAnimationFrame(B)}vn={nodeId:o,handleId:i,type:Y},C({connectionPosition:N,connectionStatus:null,connectionStartHandle:vn,connectionEndHandle:null}),m==null||m(e,{nodeId:o,handleId:i,handleType:Y});function F(z){const ie=S();N=at(z,W),H=rf(Bi(N,ie,!1,[1,1]),n,V),b||(B(),b=!0);const $=ir(z,{handle:H,connectionMode:t,fromNodeId:o,fromHandleId:i,fromType:s?"target":"source",isValidConnection:g,doc:P,lib:a,flowId:d});D=$.handleDomNode,A=$.connection,E=$.isValid,C({connectionStartHandle:vn,connectionPosition:H&&E?Lc({x:H.x,y:H.y},ie):N,connectionStatus:uf(!!H,E),connectionEndHandle:$.endHandle})}function G(z){(H||D)&&A&&E&&(y==null||y(A)),w==null||w(z),l&&(v==null||v(z)),h(),cancelAnimationFrame(I),b=!1,E=!1,A=null,D=null,vn=null,P.removeEventListener("mousemove",F),P.removeEventListener("mouseup",G),P.removeEventListener("touchmove",F),P.removeEventListener("touchend",G)}P.addEventListener("mousemove",F),P.addEventListener("mouseup",G),P.addEventListener("touchmove",F),P.addEventListener("touchend",G)}function ir(e,{handle:t,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:l,doc:s,lib:r,flowId:u,isValidConnection:a=nr}){const c=l==="target",d=t?s.querySelector(`.${r}-flow__handle[data-id="${u}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:f,y:h}=at(e),m=s.elementFromPoint(f,h),y=m!=null&&m.classList.contains(`${r}-flow__handle`)?m:d,w={handleDomNode:y,isValid:!1,connection:null,endHandle:null};if(y){const g=tr(void 0,y),v=y.getAttribute("data-nodeid"),C=y.getAttribute("data-handleid"),S=y.classList.contains("connectable"),P=y.classList.contains("connectableend");if(!v)return w;const I={source:c?v:i,sourceHandle:c?C:o,target:c?i:v,targetHandle:c?o:C};w.connection=I,S&&P&&(n===vt.Strict?c&&g==="source"||!c&&g==="target":v!==i||C!==o)&&(w.endHandle={nodeId:v,handleId:C,type:g},w.isValid=a(I))}return w}const cf={onPointerDown:af,isValid:ir};function ff({domNode:e,panZoom:t,getTransform:n,getViewScale:i}){const o=Ge(e);function l({translateExtent:r,width:u,height:a,zoomStep:c=10,pannable:d=!0,zoomable:f=!0,inversePan:h=!1}){const m=g=>{const v=n();if(g.sourceEvent.type!=="wheel"||!t)return;const C=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*c,S=v[2]*Math.pow(2,C);t.scaleTo(S)},y=g=>{const v=n();if(g.sourceEvent.type!=="mousemove"||!t)return;const C=i()*Math.max(v[2],Math.log(v[2]))*(h?-1:1),S={x:v[0]-g.sourceEvent.movementX*C,y:v[1]-g.sourceEvent.movementY*C},P=[[0,0],[u,a]];t.setViewportConstrained({x:S.x,y:S.y,zoom:v[2]},P,r)},w=Bl().on("zoom",d?y:null).on("zoom.wheel",f?m:null);o.call(w,{})}function s(){o.on("zoom",null)}return{update:l,destroy:s,pointer:Je}}const df=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ni=e=>({x:e.x,y:e.y,zoom:e.k}),mi=({x:e,y:t,zoom:n})=>ti.translate(e,t).scale(n),Ot=(e,t)=>e.target.closest(`.${t}`),or=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),yi=(e,t=0)=>typeof t=="number"&&t>0?e.transition().duration(t):e,lr=e=>{const t=e.ctrlKey&&Bn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function hf({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:l,zoomOnPinch:s,onPanZoomStart:r,onPanZoom:u,onPanZoomEnd:a}){return c=>{if(Ot(c,t))return!1;c.preventDefault(),c.stopImmediatePropagation();const d=n.property("__zoom").k||1,f=Bn();if(c.ctrlKey&&s&&f){const g=Je(c),v=lr(c),C=d*Math.pow(2,v);i.scaleTo(n,C,g,c);return}const h=c.deltaMode===1?20:1;let m=o===nt.Vertical?0:c.deltaX*h,y=o===nt.Horizontal?0:c.deltaY*h;!f&&c.shiftKey&&o!==nt.Vertical&&(m=c.deltaY*h,y=0),i.translateBy(n,-(m/d)*l,-(y/d)*l,{internal:!0});const w=ni(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,r==null||r(c,w)),e.isPanScrolling&&(u==null||u(c,w),e.panScrollTimeout=setTimeout(()=>{a==null||a(c,w),e.isPanScrolling=!1},150))}}function gf({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(i,o){if(!t||Ot(i,e))return null;i.preventDefault(),n.call(this,i,o)}}function mf({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return i=>{var l,s,r;if((l=i.sourceEvent)!=null&&l.internal)return;const o=ni(i.transform);e.mouseButton=((s=i.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((r=i.sourceEvent)==null?void 0:r.type)==="mousedown"&&t(!0),n&&(n==null||n(i.sourceEvent,o))}}function yf({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return l=>{var s,r;e.usedRightMouseButton=!!(n&&or(t,e.mouseButton??0)),(s=l.sourceEvent)!=null&&s.sync||i([l.transform.x,l.transform.y,l.transform.k]),o&&!((r=l.sourceEvent)!=null&&r.internal)&&(o==null||o(l.sourceEvent,ni(l.transform)))}}function _f({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:l}){return s=>{var r;if(!((r=s.sourceEvent)!=null&&r.internal)&&(e.isZoomingOrPanning=!1,l&&or(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&l(s.sourceEvent),e.usedRightMouseButton=!1,i(!1),o&&df(e.prevViewport,s.transform))){const u=ni(s.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(s.sourceEvent,u)},n?150:0)}}}function bf({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:l,userSelectionActive:s,noWheelClassName:r,noPanClassName:u,lib:a}){return c=>{const d=e||t,f=n&&c.ctrlKey;if(c.button===1&&c.type==="mousedown"&&(Ot(c,`${a}-flow__node`)||Ot(c,`${a}-flow__edge`)))return!0;if(!i&&!d&&!o&&!l&&!n||s||!l&&c.type==="dblclick"||Ot(c,r)&&c.type==="wheel"||Ot(c,u)&&(c.type!=="wheel"||o&&c.type==="wheel"&&!e)||!n&&c.ctrlKey&&c.type==="wheel"||!d&&!o&&!f&&c.type==="wheel"||!i&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(i)&&!i.includes(c.button)&&(c.type==="mousedown"||c.type==="touchstart"))return!1;const h=Array.isArray(i)&&i.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||c.type==="wheel")&&h}}function wf({domNode:e,minZoom:t,maxZoom:n,translateExtent:i,viewport:o,onPanZoom:l,onPanZoomStart:s,onPanZoomEnd:r,onTransformChange:u,onDraggingChange:a}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=e.getBoundingClientRect(),f=Bl().scaleExtent([t,n]).translateExtent(i),h=Ge(e).call(f);v({x:o.x,y:o.y,zoom:Kt(o.zoom,t,n)},[[0,0],[d.width,d.height]],i);const m=h.on("wheel.zoom");f.wheelDelta(lr);function y(_,Y){h&&(f==null||f.transform(yi(h,Y==null?void 0:Y.duration),_))}function w({noWheelClassName:_,noPanClassName:Y,onPaneContextMenu:W,userSelectionActive:N,panOnScroll:b,panOnDrag:A,panOnScrollMode:E,panOnScrollSpeed:D,preventScrolling:V,zoomOnPinch:B,zoomOnScroll:F,zoomOnDoubleClick:G,zoomActivationKeyPressed:z,lib:ie}){N&&!c.isZoomingOrPanning&&g();const le=b&&!z&&!N?hf({zoomPanValues:c,noWheelClassName:_,d3Selection:h,d3Zoom:f,panOnScrollMode:E,panOnScrollSpeed:D,zoomOnPinch:B,onPanZoomStart:s,onPanZoom:l,onPanZoomEnd:r}):gf({noWheelClassName:_,preventScrolling:V,d3ZoomHandler:m});if(h.on("wheel.zoom",le,{passive:!1}),!N){const fe=mf({zoomPanValues:c,onDraggingChange:a,onPanZoomStart:s});f.on("start",fe);const he=yf({zoomPanValues:c,panOnDrag:A,onPaneContextMenu:!!W,onPanZoom:l,onTransformChange:u});f.on("zoom",he);const L=_f({zoomPanValues:c,panOnDrag:A,panOnScroll:b,onPaneContextMenu:W,onPanZoomEnd:r,onDraggingChange:a});f.on("end",L)}const q=bf({zoomActivationKeyPressed:z,panOnDrag:A,zoomOnScroll:F,panOnScroll:b,zoomOnDoubleClick:G,zoomOnPinch:B,userSelectionActive:N,noPanClassName:Y,noWheelClassName:_,lib:ie});f.filter(q)}function g(){f.on("zoom",null)}function v(_,Y,W){const N=mi(_),b=f==null?void 0:f.constrain()(N,Y,W);return b&&y(b),b}function C(_,Y){const W=mi(_);return y(W,Y),W}function S(_){if(h){const Y=mi(_),W=h.property("__zoom");(W.k!==_.zoom||W.x!==_.x||W.y!==_.y)&&(f==null||f.transform(h,Y,null,{sync:!0}))}}function P(){const _=h?Wl(h.node()):{x:0,y:0,k:1};return{x:_.x,y:_.y,zoom:_.k}}function I(_,Y){h&&(f==null||f.scaleTo(yi(h,Y==null?void 0:Y.duration),_))}function H(_,Y){h&&(f==null||f.scaleBy(yi(h,Y==null?void 0:Y.duration),_))}function O(_){f==null||f.scaleExtent(_)}function T(_){f==null||f.translateExtent(_)}return{update:w,destroy:g,setViewport:C,setViewportConstrained:v,getViewport:P,scaleTo:I,scaleBy:H,setScaleExtent:O,setTranslateExtent:T,syncViewport:S}}var Ho;(function(e){e.Line="line",e.Handle="handle"})(Ho||(Ho={}));function kf(e){let t,n,i,o,l,s;const r=e[41].default,u=Ve(r,e,e[40],null);return{c(){t=Ee("div"),u&&u.c(),k(t,"data-handleid",e[13]),k(t,"data-nodeid",e[11]),k(t,"data-handlepos",e[2]),k(t,"data-id",n=e[9]+"-"+e[11]+"-"+(e[0]||null)+"-"+e[1]),k(t,"class",i=ye(["svelte-flow__handle",`svelte-flow__handle-${e[2]}`,"nodrag","nopan",e[2],{valid:e[6],connectingto:e[5],connectingfrom:e[7]},e[4]])),k(t,"style",e[3]),k(t,"role","button"),k(t,"tabindex","-1"),ue(t,"source",!e[10]),ue(t,"target",e[10]),ue(t,"connectablestart",e[8]),ue(t,"connectableend",e[8]),ue(t,"connectable",e[8]),ue(t,"connectionindicator",e[8])},m(a,c){p(a,t,c),u&&u.m(t,null),o=!0,l||(s=[ke(t,"mousedown",e[30]),ke(t,"touchstart",e[30])],l=!0)},p(a,c){u&&u.p&&(!o||c[1]&512)&&We(u,r,a,a[40],o?Le(r,a[40],c,null):Be(a[40]),null),(!o||c[0]&4)&&k(t,"data-handlepos",a[2]),(!o||c[0]&515&&n!==(n=a[9]+"-"+a[11]+"-"+(a[0]||null)+"-"+a[1]))&&k(t,"data-id",n),(!o||c[0]&244&&i!==(i=ye(["svelte-flow__handle",`svelte-flow__handle-${a[2]}`,"nodrag","nopan",a[2],{valid:a[6],connectingto:a[5],connectingfrom:a[7]},a[4]])))&&k(t,"class",i),(!o||c[0]&8)&&k(t,"style",a[3]),(!o||c[0]&1268)&&ue(t,"source",!a[10]),(!o||c[0]&1268)&&ue(t,"target",a[10]),(!o||c[0]&500)&&ue(t,"connectablestart",a[8]),(!o||c[0]&500)&&ue(t,"connectableend",a[8]),(!o||c[0]&500)&&ue(t,"connectable",a[8]),(!o||c[0]&500)&&ue(t,"connectionindicator",a[8])},i(a){o||(X(u,a),o=!0)},o(a){R(u,a),o=!1},d(a){a&&Z(t),u&&u.d(a),l=!1,Ke(s)}}}function vf(e,t,n){let i,o,l,s,r,u,a,c,d,f,h,m,y,w,g,v,C,S,P,I,H,{$$slots:O={},$$scope:T}=t,{id:_=void 0}=t,{type:Y="source"}=t,{position:W=de.Top}=t,{style:N=void 0}=t,{isConnectable:b=void 0}=t,{onconnect:A=void 0}=t,{ondisconnect:E=void 0}=t,{class:D=void 0}=t;const V=Y==="target",B=Hn("svelteflow__node_id"),F=Hn("svelteflow__node_connectable");U(e,F,J=>n(39,H=J));const G=_||null,z=Pe(),{connectionMode:ie,domNode:$,nodes:le,connectionRadius:q,viewport:fe,isValidConnection:he,lib:L,addEdge:Me,onedgecreate:Ae,panBy:Oe,cancelConnection:Ne,updateConnection:qe,autoPanOnConnect:_e,edges:ot,connectionLookup:lt,onconnect:xe,onconnectstart:$e,onconnectend:j,flowId:ht,connection:gt}=z;U(e,ie,J=>n(50,C=J)),U(e,$,J=>n(52,P=J)),U(e,le,J=>n(51,S=J)),U(e,q,J=>n(53,I=J)),U(e,fe,J=>n(42,c=J)),U(e,he,J=>n(47,y=J)),U(e,L,J=>n(49,v=J)),U(e,Ae,J=>n(46,m=J)),U(e,_e,J=>n(48,g=J)),U(e,ot,J=>n(38,a=J)),U(e,lt,J=>n(37,u=J)),U(e,xe,J=>n(45,h=J)),U(e,$e,J=>n(44,f=J)),U(e,j,J=>n(43,d=J)),U(e,ht,J=>n(9,w=J)),U(e,gt,J=>n(36,r=J));function K(J){const rt=Gl(J);(rt&&J.button===0||!rt)&&cf.onPointerDown(J,{handleId:G,nodeId:B,isTarget:V,connectionRadius:I,domNode:P,nodes:S,connectionMode:C,lib:v,autoPanOnConnect:g,flowId:w,isValidConnection:y,updateConnection:qe,cancelConnection:Ne,panBy:Oe,onConnect:Ye=>{const Fe=m?m(Ye):Ye;Fe&&(Me(Fe),h==null||h(Ye))},onConnectStart:(Ye,Fe)=>{f==null||f(Ye,{nodeId:Fe.nodeId,handleId:Fe.handleId,handleType:Fe.handleType})},onConnectEnd:Ye=>{d==null||d(Ye)},getTransform:()=>[c.x,c.y,c.zoom]})}let pe=null,Xe;return e.$$set=J=>{"id"in J&&n(0,_=J.id),"type"in J&&n(1,Y=J.type),"position"in J&&n(2,W=J.position),"style"in J&&n(3,N=J.style),"isConnectable"in J&&n(31,b=J.isConnectable),"onconnect"in J&&n(32,A=J.onconnect),"ondisconnect"in J&&n(33,E=J.ondisconnect),"class"in J&&n(4,D=J.class),"$$scope"in J&&n(40,T=J.$$scope)},e.$$.update=()=>{var J,rt,Ye,Fe,Et,Mt;if(e.$$.dirty[1]&257&&n(8,i=b!==void 0?b:H),e.$$.dirty[0]&3|e.$$.dirty[1]&198&&(A||E)&&n(35,Xe=u.get(`${B}-${Y}-${_||null}`)),e.$$.dirty[1]&30){if(pe&&!Pc(Xe,pe)){const zt=Xe??new Map;yo(pe,zt,E),yo(zt,pe,A)}n(34,pe=Xe??new Map)}e.$$.dirty[0]&2|e.$$.dirty[1]&32&&n(7,o=((J=r.startHandle)==null?void 0:J.nodeId)===B&&((rt=r.startHandle)==null?void 0:rt.type)===Y&&((Ye=r.startHandle)==null?void 0:Ye.handleId)===G),e.$$.dirty[0]&2|e.$$.dirty[1]&32&&n(5,l=((Fe=r.endHandle)==null?void 0:Fe.nodeId)===B&&((Et=r.endHandle)==null?void 0:Et.type)===Y&&((Mt=r.endHandle)==null?void 0:Mt.handleId)===G),e.$$.dirty[0]&32|e.$$.dirty[1]&32&&n(6,s=l&&r.status==="valid")},[_,Y,W,N,D,l,s,o,i,w,V,B,F,G,ie,$,le,q,fe,he,L,Ae,_e,ot,lt,xe,$e,j,ht,gt,K,b,A,E,pe,Xe,r,u,a,H,T,O]}class Sf extends se{constructor(t){super(),re(this,t,vf,kf,ae,{id:0,type:1,position:2,style:3,isConnectable:31,onconnect:32,ondisconnect:33,class:4},null,[-1,-1])}}const Zn=Sf;function Ef(e){var u;let t,n,i=((u=e[0])==null?void 0:u.label)+"",o,l,s,r;return t=new Zn({props:{type:"target",position:e[1]}}),s=new Zn({props:{type:"source",position:e[2]}}),{c(){ne(t.$$.fragment),n=be(),o=St(i),l=be(),ne(s.$$.fragment)},m(a,c){ee(t,a,c),p(a,n,c),p(a,o,c),p(a,l,c),ee(s,a,c),r=!0},p(a,[c]){var h;const d={};c&2&&(d.position=a[1]),t.$set(d),(!r||c&1)&&i!==(i=((h=a[0])==null?void 0:h.label)+"")&&sn(o,i);const f={};c&4&&(f.position=a[2]),s.$set(f)},i(a){r||(X(t.$$.fragment,a),X(s.$$.fragment,a),r=!0)},o(a){R(t.$$.fragment,a),R(s.$$.fragment,a),r=!1},d(a){a&&(Z(n),Z(o),Z(l)),te(t,a),te(s,a)}}}function Mf(e,t,n){let{data:i={label:"Node"}}=t,{targetPosition:o=de.Top}=t,{sourcePosition:l=de.Bottom}=t,{id:s=""}=t,{width:r=void 0}=t,{height:u=void 0}=t,{selected:a=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsoluteX:m=0}=t,{positionAbsoluteY:y=0}=t,{isConnectable:w=void 0}=t;return e.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"sourcePosition"in g&&n(2,l=g.sourcePosition),"id"in g&&n(3,s=g.id),"width"in g&&n(4,r=g.width),"height"in g&&n(5,u=g.height),"selected"in g&&n(6,a=g.selected),"type"in g&&n(7,c=g.type),"zIndex"in g&&n(8,d=g.zIndex),"dragging"in g&&n(9,f=g.dragging),"dragHandle"in g&&n(10,h=g.dragHandle),"positionAbsoluteX"in g&&n(11,m=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(12,y=g.positionAbsoluteY),"isConnectable"in g&&n(13,w=g.isConnectable)},[i,o,l,s,r,u,a,c,d,f,h,m,y,w]}class zf extends se{constructor(t){super(),re(this,t,Mf,Ef,ae,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsoluteX:11,positionAbsoluteY:12,isConnectable:13})}}const rr=zf;function Cf(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,l;return o=new Zn({props:{type:"source",position:e[1]}}),{c(){n=St(t),i=be(),ne(o.$$.fragment)},m(r,u){p(r,n,u),p(r,i,u),ee(o,r,u),l=!0},p(r,[u]){var c;(!l||u&1)&&t!==(t=((c=r[0])==null?void 0:c.label)+"")&&sn(n,t);const a={};u&2&&(a.position=r[1]),o.$set(a)},i(r){l||(X(o.$$.fragment,r),l=!0)},o(r){R(o.$$.fragment,r),l=!1},d(r){r&&(Z(n),Z(i)),te(o,r)}}}function Pf(e,t,n){let{data:i={label:"Node"}}=t,{sourcePosition:o=de.Bottom}=t,{id:l=""}=t,{width:s=void 0}=t,{height:r=void 0}=t,{selected:u=void 0}=t,{targetPosition:a=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsoluteX:m=0}=t,{positionAbsoluteY:y=0}=t,{isConnectable:w=void 0}=t;return e.$$set=g=>{"data"in g&&n(0,i=g.data),"sourcePosition"in g&&n(1,o=g.sourcePosition),"id"in g&&n(2,l=g.id),"width"in g&&n(3,s=g.width),"height"in g&&n(4,r=g.height),"selected"in g&&n(5,u=g.selected),"targetPosition"in g&&n(6,a=g.targetPosition),"type"in g&&n(7,c=g.type),"zIndex"in g&&n(8,d=g.zIndex),"dragging"in g&&n(9,f=g.dragging),"dragHandle"in g&&n(10,h=g.dragHandle),"positionAbsoluteX"in g&&n(11,m=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(12,y=g.positionAbsoluteY),"isConnectable"in g&&n(13,w=g.isConnectable)},[i,o,l,s,r,u,a,c,d,f,h,m,y,w]}class Af extends se{constructor(t){super(),re(this,t,Pf,Cf,ae,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsoluteX:11,positionAbsoluteY:12,isConnectable:13})}}const Nf=Af;function Hf(e){var s;let t=((s=e[0])==null?void 0:s.label)+"",n,i,o,l;return o=new Zn({props:{type:"target",position:e[1]}}),{c(){n=St(t),i=be(),ne(o.$$.fragment)},m(r,u){p(r,n,u),p(r,i,u),ee(o,r,u),l=!0},p(r,[u]){var c;(!l||u&1)&&t!==(t=((c=r[0])==null?void 0:c.label)+"")&&sn(n,t);const a={};u&2&&(a.position=r[1]),o.$set(a)},i(r){l||(X(o.$$.fragment,r),l=!0)},o(r){R(o.$$.fragment,r),l=!1},d(r){r&&(Z(n),Z(i)),te(o,r)}}}function Of(e,t,n){let{data:i={label:"Node"}}=t,{targetPosition:o=de.Top}=t,{id:l=""}=t,{width:s=void 0}=t,{height:r=void 0}=t,{selected:u=void 0}=t,{sourcePosition:a=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsoluteX:m=0}=t,{positionAbsoluteY:y=0}=t,{isConnectable:w=void 0}=t;return e.$$set=g=>{"data"in g&&n(0,i=g.data),"targetPosition"in g&&n(1,o=g.targetPosition),"id"in g&&n(2,l=g.id),"width"in g&&n(3,s=g.width),"height"in g&&n(4,r=g.height),"selected"in g&&n(5,u=g.selected),"sourcePosition"in g&&n(6,a=g.sourcePosition),"type"in g&&n(7,c=g.type),"zIndex"in g&&n(8,d=g.zIndex),"dragging"in g&&n(9,f=g.dragging),"dragHandle"in g&&n(10,h=g.dragHandle),"positionAbsoluteX"in g&&n(11,m=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(12,y=g.positionAbsoluteY),"isConnectable"in g&&n(13,w=g.isConnectable)},[i,o,l,s,r,u,a,c,d,f,h,m,y,w]}class Tf extends se{constructor(t){super(),re(this,t,Of,Hf,ae,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsoluteX:11,positionAbsoluteY:12,isConnectable:13})}}const If=Tf;function Df(e,t,n){let{id:i=""}=t,{width:o=void 0}=t,{height:l=void 0}=t,{data:s={}}=t,{selected:r=void 0}=t,{sourcePosition:u=void 0}=t,{targetPosition:a=void 0}=t,{type:c=void 0}=t,{zIndex:d=void 0}=t,{dragging:f=!1}=t,{dragHandle:h=void 0}=t,{positionAbsoluteX:m=0}=t,{positionAbsoluteY:y=0}=t,{isConnectable:w=void 0}=t;return e.$$set=g=>{"id"in g&&n(0,i=g.id),"width"in g&&n(1,o=g.width),"height"in g&&n(2,l=g.height),"data"in g&&n(3,s=g.data),"selected"in g&&n(4,r=g.selected),"sourcePosition"in g&&n(5,u=g.sourcePosition),"targetPosition"in g&&n(6,a=g.targetPosition),"type"in g&&n(7,c=g.type),"zIndex"in g&&n(8,d=g.zIndex),"dragging"in g&&n(9,f=g.dragging),"dragHandle"in g&&n(10,h=g.dragHandle),"positionAbsoluteX"in g&&n(11,m=g.positionAbsoluteX),"positionAbsoluteY"in g&&n(12,y=g.positionAbsoluteY),"isConnectable"in g&&n(13,w=g.isConnectable)},[i,o,l,s,r,u,a,c,d,f,h,m,y,w]}class Xf extends se{constructor(t){super(),re(this,t,Df,null,ae,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,zIndex:8,dragging:9,dragHandle:10,positionAbsoluteX:11,positionAbsoluteY:12,isConnectable:13})}}const Yf=Xf;function Oo(e,t,n){if(!t)return;const i=n?t.querySelector(n):t;i&&i.appendChild(e)}function Rf(e,{target:t,domNode:n}){return Oo(e,n,t),{async update({target:i,domNode:o}){Oo(e,o,i)},destroy(){e.parentNode&&e.parentNode.removeChild(e)}}}function Vf(e){let t,n,i,o,l;const s=e[3].default,r=Ve(s,e,e[2],null);return{c(){t=Ee("div"),r&&r.c()},m(u,a){p(u,t,a),r&&r.m(t,null),i=!0,o||(l=Ie(n=Rf.call(null,t,{target:".svelte-flow__edgelabel-renderer",domNode:e[0]})),o=!0)},p(u,[a]){r&&r.p&&(!i||a&4)&&We(r,s,u,u[2],i?Le(s,u[2],a,null):Be(u[2]),null),n&&we(n.update)&&a&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:u[0]})},i(u){i||(X(r,u),i=!0)},o(u){R(r,u),i=!1},d(u){u&&Z(t),r&&r.d(u),o=!1,l()}}}function Lf(e,t,n){let i,{$$slots:o={},$$scope:l}=t;const{domNode:s}=Pe();return U(e,s,r=>n(0,i=r)),e.$$set=r=>{"$$scope"in r&&n(2,l=r.$$scope)},[i,s,l,o]}class Wf extends se{constructor(t){super(),re(this,t,Lf,Vf,ae,{})}}function sr(){const{edgeLookup:e,selectionRect:t,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:l,elementsSelectable:s}=Pe();return r=>{const u=Q(e).get(r);if(!u){console.warn("012",cn.error012(r));return}(u.selectable||Q(s)&&typeof u.selectable>"u")&&(t.set(null),n.set(null),u.selected?u.selected&&Q(i)&&l({nodes:[],edges:[u]}):o([r]))}}function Bf(e){let t,n,i=`translate(-50%, -50%) translate(${e[1]}px,${e[2]}px)`,o,l,s;const r=e[5].default,u=Ve(r,e,e[7],null);return{c(){t=Ee("div"),u&&u.c(),k(t,"class","svelte-flow__edge-label"),k(t,"style",n="pointer-events: all;"+e[0]),k(t,"role","button"),oe(t,"transform",i)},m(a,c){p(a,t,c),u&&u.m(t,null),o=!0,l||(s=ke(t,"click",e[6]),l=!0)},p(a,c){u&&u.p&&(!o||c&128)&&We(u,r,a,a[7],o?Le(r,a[7],c,null):Be(a[7]),null),(!o||c&1&&n!==(n="pointer-events: all;"+a[0]))&&k(t,"style",n);const d=c&1;(c&7&&i!==(i=`translate(-50%, -50%) translate(${a[1]}px,${a[2]}px)`)||d)&&oe(t,"transform",i)},i(a){o||(X(u,a),o=!0)},o(a){R(u,a),o=!1},d(a){a&&Z(t),u&&u.d(a),l=!1,s()}}}function Kf(e){let t,n;return t=new Wf({props:{$$slots:{default:[Bf]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,[o]){const l={};o&135&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function Ff(e,t,n){let{$$slots:i={},$$scope:o}=t,{style:l=void 0}=t,{x:s=void 0}=t,{y:r=void 0}=t;const u=sr(),a=Hn("svelteflow__edge_id"),c=()=>{a&&u(a)};return e.$$set=d=>{"style"in d&&n(0,l=d.style),"x"in d&&n(1,s=d.x),"y"in d&&n(2,r=d.y),"$$scope"in d&&n(7,o=d.$$scope)},[l,s,r,u,a,i,c,o]}class Zf extends se{constructor(t){super(),re(this,t,Ff,Kf,ae,{style:0,x:1,y:2})}}const qf=Zf;function pf(e){let t;return{c(){t=ge("path"),k(t,"d",e[1]),k(t,"stroke-opacity",0),k(t,"stroke-width",e[10]),k(t,"fill","none"),k(t,"class","svelte-flow__edge-interaction")},m(n,i){p(n,t,i)},p(n,i){i&2&&k(t,"d",n[1])},d(n){n&&Z(t)}}}function To(e){let t,n;return t=new qf({props:{x:e[3],y:e[4],style:e[5],$$slots:{default:[Gf]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,o){const l={};o&8&&(l.x=i[3]),o&16&&(l.y=i[4]),o&32&&(l.style=i[5]),o&4100&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function Gf(e){let t;return{c(){t=St(e[2])},m(n,i){p(n,t,i)},p(n,i){i&4&&sn(t,n[2])},d(n){n&&Z(t)}}}function Uf(e){let t,n,i,o,l,s,r=e[10]&&pf(e),u=e[2]&&To(e);return{c(){t=ge("path"),i=be(),r&&r.c(),o=be(),u&&u.c(),l=De(),k(t,"id",e[0]),k(t,"d",e[1]),k(t,"class",n=ye(["svelte-flow__edge-path",e[9]])),k(t,"marker-start",e[6]),k(t,"marker-end",e[7]),k(t,"fill","none"),k(t,"style",e[8])},m(a,c){p(a,t,c),p(a,i,c),r&&r.m(a,c),p(a,o,c),u&&u.m(a,c),p(a,l,c),s=!0},p(a,[c]){(!s||c&1)&&k(t,"id",a[0]),(!s||c&2)&&k(t,"d",a[1]),(!s||c&512&&n!==(n=ye(["svelte-flow__edge-path",a[9]])))&&k(t,"class",n),(!s||c&64)&&k(t,"marker-start",a[6]),(!s||c&128)&&k(t,"marker-end",a[7]),(!s||c&256)&&k(t,"style",a[8]),a[10]&&r.p(a,c),a[2]?u?(u.p(a,c),c&4&&X(u,1)):(u=To(a),u.c(),X(u,1),u.m(l.parentNode,l)):u&&(ze(),R(u,1,1,()=>{u=null}),Ce())},i(a){s||(X(u),s=!0)},o(a){R(u),s=!1},d(a){a&&(Z(t),Z(i),Z(o),Z(l)),r&&r.d(a),u&&u.d(a)}}}function Jf(e,t,n){let{id:i=void 0}=t,{path:o}=t,{label:l=void 0}=t,{labelX:s=void 0}=t,{labelY:r=void 0}=t,{labelStyle:u=void 0}=t,{markerStart:a=void 0}=t,{markerEnd:c=void 0}=t,{style:d=void 0}=t,{interactionWidth:f=20}=t,{class:h=void 0}=t,m=f===void 0?20:f;return e.$$set=y=>{"id"in y&&n(0,i=y.id),"path"in y&&n(1,o=y.path),"label"in y&&n(2,l=y.label),"labelX"in y&&n(3,s=y.labelX),"labelY"in y&&n(4,r=y.labelY),"labelStyle"in y&&n(5,u=y.labelStyle),"markerStart"in y&&n(6,a=y.markerStart),"markerEnd"in y&&n(7,c=y.markerEnd),"style"in y&&n(8,d=y.style),"interactionWidth"in y&&n(11,f=y.interactionWidth),"class"in y&&n(9,h=y.class)},[i,o,l,s,r,u,a,c,d,h,m,f]}class Qf extends se{constructor(t){super(),re(this,t,Jf,Uf,ae,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const ii=Qf;function jf(e){let t,n;return t=new ii({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function xf(e,t,n){let i,o,l,{id:s=""}=t,{source:r=""}=t,{target:u=""}=t,{animated:a=void 0}=t,{selected:c=void 0}=t,{label:d=void 0}=t,{labelStyle:f=void 0}=t,{data:h=void 0}=t,{style:m=void 0}=t,{markerStart:y=void 0}=t,{markerEnd:w=void 0}=t,{interactionWidth:g=void 0}=t,{sourceX:v}=t,{sourceY:C}=t,{sourcePosition:S}=t,{sourceHandleId:P=void 0}=t,{targetX:I}=t,{targetY:H}=t,{targetPosition:O}=t,{targetHandleId:T=void 0}=t;return e.$$set=_=>{"id"in _&&n(9,s=_.id),"source"in _&&n(10,r=_.source),"target"in _&&n(11,u=_.target),"animated"in _&&n(12,a=_.animated),"selected"in _&&n(13,c=_.selected),"label"in _&&n(0,d=_.label),"labelStyle"in _&&n(1,f=_.labelStyle),"data"in _&&n(14,h=_.data),"style"in _&&n(2,m=_.style),"markerStart"in _&&n(3,y=_.markerStart),"markerEnd"in _&&n(4,w=_.markerEnd),"interactionWidth"in _&&n(5,g=_.interactionWidth),"sourceX"in _&&n(15,v=_.sourceX),"sourceY"in _&&n(16,C=_.sourceY),"sourcePosition"in _&&n(17,S=_.sourcePosition),"sourceHandleId"in _&&n(18,P=_.sourceHandleId),"targetX"in _&&n(19,I=_.targetX),"targetY"in _&&n(20,H=_.targetY),"targetPosition"in _&&n(21,O=_.targetPosition),"targetHandleId"in _&&n(22,T=_.targetHandleId)},e.$$.update=()=>{e.$$.dirty&3899392&&n(8,[i,o,l]=Ul({sourceX:v,sourceY:C,targetX:I,targetY:H,sourcePosition:S,targetPosition:O}),i,(n(7,o),n(15,v),n(16,C),n(19,I),n(20,H),n(17,S),n(21,O)),(n(6,l),n(15,v),n(16,C),n(19,I),n(20,H),n(17,S),n(21,O)))},[d,f,m,y,w,g,l,o,i,s,r,u,a,c,h,v,C,S,P,I,H,O,T]}class $f extends se{constructor(t){super(),re(this,t,xf,jf,ae,{id:9,source:10,target:11,animated:12,selected:13,label:0,labelStyle:1,data:14,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:15,sourceY:16,sourcePosition:17,sourceHandleId:18,targetX:19,targetY:20,targetPosition:21,targetHandleId:22})}}const ur=$f;function ed(e){let t,n;return t=new ii({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function td(e,t,n){let i,o,l,{id:s=""}=t,{source:r=""}=t,{target:u=""}=t,{animated:a=void 0}=t,{selected:c=void 0}=t,{label:d=void 0}=t,{labelStyle:f=void 0}=t,{data:h=void 0}=t,{style:m=void 0}=t,{markerStart:y=void 0}=t,{markerEnd:w=void 0}=t,{interactionWidth:g=void 0}=t,{sourceX:v}=t,{sourceY:C}=t,{sourcePosition:S}=t,{sourceHandleId:P=void 0}=t,{targetX:I}=t,{targetY:H}=t,{targetPosition:O}=t,{targetHandleId:T=void 0}=t;return e.$$set=_=>{"id"in _&&n(9,s=_.id),"source"in _&&n(10,r=_.source),"target"in _&&n(11,u=_.target),"animated"in _&&n(12,a=_.animated),"selected"in _&&n(13,c=_.selected),"label"in _&&n(0,d=_.label),"labelStyle"in _&&n(1,f=_.labelStyle),"data"in _&&n(14,h=_.data),"style"in _&&n(2,m=_.style),"markerStart"in _&&n(3,y=_.markerStart),"markerEnd"in _&&n(4,w=_.markerEnd),"interactionWidth"in _&&n(5,g=_.interactionWidth),"sourceX"in _&&n(15,v=_.sourceX),"sourceY"in _&&n(16,C=_.sourceY),"sourcePosition"in _&&n(17,S=_.sourcePosition),"sourceHandleId"in _&&n(18,P=_.sourceHandleId),"targetX"in _&&n(19,I=_.targetX),"targetY"in _&&n(20,H=_.targetY),"targetPosition"in _&&n(21,O=_.targetPosition),"targetHandleId"in _&&n(22,T=_.targetHandleId)},e.$$.update=()=>{e.$$.dirty&3899392&&n(8,[i,o,l]=Fn({sourceX:v,sourceY:C,targetX:I,targetY:H,sourcePosition:S,targetPosition:O}),i,(n(7,o),n(15,v),n(16,C),n(19,I),n(20,H),n(17,S),n(21,O)),(n(6,l),n(15,v),n(16,C),n(19,I),n(20,H),n(17,S),n(21,O)))},[d,f,m,y,w,g,l,o,i,s,r,u,a,c,h,v,C,S,P,I,H,O,T]}class nd extends se{constructor(t){super(),re(this,t,td,ed,ae,{id:9,source:10,target:11,animated:12,selected:13,label:0,labelStyle:1,data:14,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:15,sourceY:16,sourcePosition:17,sourceHandleId:18,targetX:19,targetY:20,targetPosition:21,targetHandleId:22})}}const id=nd;function od(e){let t,n;return t=new ii({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function ld(e,t,n){let i,o,l,{id:s=""}=t,{source:r=""}=t,{target:u=""}=t,{animated:a=void 0}=t,{selected:c=void 0}=t,{label:d=void 0}=t,{labelStyle:f=void 0}=t,{data:h=void 0}=t,{style:m=void 0}=t,{markerStart:y=void 0}=t,{markerEnd:w=void 0}=t,{interactionWidth:g=void 0}=t,{sourceX:v}=t,{sourceY:C}=t,{sourcePosition:S}=t,{sourceHandleId:P=void 0}=t,{targetX:I}=t,{targetY:H}=t,{targetPosition:O}=t,{targetHandleId:T=void 0}=t;return e.$$set=_=>{"id"in _&&n(9,s=_.id),"source"in _&&n(10,r=_.source),"target"in _&&n(11,u=_.target),"animated"in _&&n(12,a=_.animated),"selected"in _&&n(13,c=_.selected),"label"in _&&n(0,d=_.label),"labelStyle"in _&&n(1,f=_.labelStyle),"data"in _&&n(14,h=_.data),"style"in _&&n(2,m=_.style),"markerStart"in _&&n(3,y=_.markerStart),"markerEnd"in _&&n(4,w=_.markerEnd),"interactionWidth"in _&&n(5,g=_.interactionWidth),"sourceX"in _&&n(15,v=_.sourceX),"sourceY"in _&&n(16,C=_.sourceY),"sourcePosition"in _&&n(17,S=_.sourcePosition),"sourceHandleId"in _&&n(18,P=_.sourceHandleId),"targetX"in _&&n(19,I=_.targetX),"targetY"in _&&n(20,H=_.targetY),"targetPosition"in _&&n(21,O=_.targetPosition),"targetHandleId"in _&&n(22,T=_.targetHandleId)},e.$$.update=()=>{e.$$.dirty&1671168&&n(8,[i,o,l]=Ql({sourceX:v,sourceY:C,targetX:I,targetY:H}),i,(n(7,o),n(15,v),n(16,C),n(19,I),n(20,H)),(n(6,l),n(15,v),n(16,C),n(19,I),n(20,H)))},[d,f,m,y,w,g,l,o,i,s,r,u,a,c,h,v,C,S,P,I,H,O,T]}class rd extends se{constructor(t){super(),re(this,t,ld,od,ae,{id:9,source:10,target:11,animated:12,selected:13,label:0,labelStyle:1,data:14,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:15,sourceY:16,sourcePosition:17,sourceHandleId:18,targetX:19,targetY:20,targetPosition:21,targetHandleId:22})}}const sd=rd;function ud(e){let t,n;return t=new ii({props:{path:e[8],labelX:e[7],labelY:e[6],label:e[0],labelStyle:e[1],markerStart:e[3],markerEnd:e[4],interactionWidth:e[5],style:e[2]}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,[o]){const l={};o&256&&(l.path=i[8]),o&128&&(l.labelX=i[7]),o&64&&(l.labelY=i[6]),o&1&&(l.label=i[0]),o&2&&(l.labelStyle=i[1]),o&8&&(l.markerStart=i[3]),o&16&&(l.markerEnd=i[4]),o&32&&(l.interactionWidth=i[5]),o&4&&(l.style=i[2]),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function ad(e,t,n){let i,o,l,{id:s=""}=t,{source:r=""}=t,{target:u=""}=t,{animated:a=void 0}=t,{selected:c=void 0}=t,{label:d=void 0}=t,{data:f=void 0}=t,{labelStyle:h=void 0}=t,{style:m=void 0}=t,{markerStart:y=void 0}=t,{markerEnd:w=void 0}=t,{interactionWidth:g=void 0}=t,{sourceX:v}=t,{sourceY:C}=t,{sourcePosition:S}=t,{sourceHandleId:P=void 0}=t,{targetX:I}=t,{targetY:H}=t,{targetPosition:O}=t,{targetHandleId:T=void 0}=t;return e.$$set=_=>{"id"in _&&n(9,s=_.id),"source"in _&&n(10,r=_.source),"target"in _&&n(11,u=_.target),"animated"in _&&n(12,a=_.animated),"selected"in _&&n(13,c=_.selected),"label"in _&&n(0,d=_.label),"data"in _&&n(14,f=_.data),"labelStyle"in _&&n(1,h=_.labelStyle),"style"in _&&n(2,m=_.style),"markerStart"in _&&n(3,y=_.markerStart),"markerEnd"in _&&n(4,w=_.markerEnd),"interactionWidth"in _&&n(5,g=_.interactionWidth),"sourceX"in _&&n(15,v=_.sourceX),"sourceY"in _&&n(16,C=_.sourceY),"sourcePosition"in _&&n(17,S=_.sourcePosition),"sourceHandleId"in _&&n(18,P=_.sourceHandleId),"targetX"in _&&n(19,I=_.targetX),"targetY"in _&&n(20,H=_.targetY),"targetPosition"in _&&n(21,O=_.targetPosition),"targetHandleId"in _&&n(22,T=_.targetHandleId)},e.$$.update=()=>{e.$$.dirty&3899392&&n(8,[i,o,l]=Fn({sourceX:v,sourceY:C,targetX:I,targetY:H,sourcePosition:S,targetPosition:O,borderRadius:0}),i,(n(7,o),n(15,v),n(16,C),n(19,I),n(20,H),n(17,S),n(21,O)),(n(6,l),n(15,v),n(16,C),n(19,I),n(20,H),n(17,S),n(21,O)))},[d,h,m,y,w,g,l,o,i,s,r,u,a,c,f,v,C,S,P,I,H,O,T]}class cd extends se{constructor(t){super(),re(this,t,ad,ud,ae,{id:9,source:10,target:11,animated:12,selected:13,label:0,data:14,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:15,sourceY:16,sourcePosition:17,sourceHandleId:18,targetX:19,targetY:20,targetPosition:21,targetHandleId:22})}}const fd=cd;function dd(e,t){const n=e.set,i=t.set,o=Q(e),l=Q(t);let r=o.length===0&&l.length>0?l:o;e.set(r);const u=a=>{const c=n(a);return r=c,i(r),c};e.set=t.set=u,e.update=t.update=a=>u(a(r))}function hd(e,t){const n=e.set,i=t.set;let o=Q(t);e.set(o);const l=s=>{n(s),i(s),o=s};e.set=t.set=l,e.update=t.update=s=>l(s(o))}const gd=(e,t,n)=>{if(!n)return;const i=Q(e),o=t.set,l=n.set;let s=n?Q(n):{x:0,y:0,zoom:1};t.set(s),t.set=r=>(o(r),l(r),s=r,r),n.set=r=>(i==null||i.syncViewport(r),o(r),l(r),s=r,r),t.update=r=>{t.set(r(s))},n.update=r=>{n.set(r(s))}},md=(e,t)=>{const{subscribe:n,set:i,update:o}=x([]);let l=e,s={},r=!0;const u=f=>(l=jl(f,t,{elevateNodesOnSelect:r,defaults:s}),i(l),l),a=f=>u(f(l)),c=f=>{s=f},d=f=>{r=f.elevateNodesOnSelect??r};return u(l),{subscribe:n,set:u,update:a,setDefaultOptions:c,setOptions:d}},yd=(e,t,n,i)=>{const{subscribe:o,set:l,update:s}=x([]);let r=e,u=i||{};const a=f=>{const h=u?f.map(m=>({...u,...m})):f;$l(t,n,h),r=h,l(r)},c=f=>a(f(r)),d=f=>{u=f};return a(r),{subscribe:o,set:a,update:c,setDefaultOptions:d}},ar={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},_d={[de.Left]:de.Right,[de.Right]:de.Left,[de.Top]:de.Bottom,[de.Bottom]:de.Top};function bd(e,t){return Lt([t,e.connectionLineType,e.connectionMode,e.nodeLookup,e.viewport],([n,i,o,l,s])=>{var P,I,H,O,T,_,Y,W,N,b,A,E,D;if(!((P=n.connectionStartHandle)!=null&&P.nodeId))return ar;const r=l.get((I=n.connectionStartHandle)==null?void 0:I.nodeId),u=(H=r==null?void 0:r[ve])==null?void 0:H.handleBounds,a=(u==null?void 0:u[n.connectionStartHandle.type||"source"])||[],c=a||(u==null?void 0:u[((O=n==null?void 0:n.connectionStartHandle)==null?void 0:O.type)==="source"?"target":"source"]),d=o===vt.Strict?a:c,f=(T=n.connectionStartHandle)!=null&&T.handleId?d.find(V=>{var B;return V.id===((B=n.connectionStartHandle)==null?void 0:B.handleId)}):d[0],h=f?f.x+f.width/2:(((_=r==null?void 0:r.computed)==null?void 0:_.width)??0)/2,m=f?f.y+f.height/2:((Y=r==null?void 0:r.computed)==null?void 0:Y.height)??0,y=(((N=(W=r==null?void 0:r.computed)==null?void 0:W.positionAbsolute)==null?void 0:N.x)??0)+h,w=(((A=(b=r==null?void 0:r.computed)==null?void 0:b.positionAbsolute)==null?void 0:A.y)??0)+m,g=f==null?void 0:f.position,v=g?_d[g]:void 0,C={sourceX:y,sourceY:w,sourcePosition:g,targetX:((((E=n.connectionPosition)==null?void 0:E.x)??0)-s.x)/s.zoom,targetY:((((D=n.connectionPosition)==null?void 0:D.y)??0)-s.y)/s.zoom,targetPosition:v};let S="";return i===Xt.Bezier?[S]=Ul(C):i===Xt.Step?[S]=Fn({...C,borderRadius:0}):i===Xt.SmoothStep?[S]=Fn(C):[S]=Ql(C),{path:S,...C,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const cr={input:Nf,output:If,default:rr,group:Yf},fr={straight:sd,smoothstep:id,default:ur,step:fd},wd=({nodes:e=[],edges:t=[],width:n,height:i,fitView:o})=>{const l=new Map,s=jl(e,l,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),r=new Map,u=new Map;$l(r,u,t);let a={x:0,y:0,zoom:1};if(o&&n&&i){const c=s.filter(f=>f.width&&f.height||f.initialWidth&&f.initialHeight),d=fn(c,{nodeOrigin:[0,0]});a=ql(d,n,i,.5,2,.1)}return{flowId:x(null),nodes:md(s,l),nodeLookup:Ue(l),edgeLookup:Ue(u),visibleNodes:Ue([]),edges:yd(t,r,u),visibleEdges:Ue([]),connectionLookup:Ue(r),height:x(500),width:x(500),minZoom:x(.5),maxZoom:x(2),nodeOrigin:x([0,0]),nodeDragThreshold:x(1),nodeExtent:x(mo),translateExtent:x(mo),autoPanOnNodeDrag:x(!0),autoPanOnConnect:x(!0),fitViewOnInit:x(!1),fitViewOnInitDone:x(!1),fitViewOptions:x(void 0),panZoom:x(null),snapGrid:x(null),dragging:x(!1),selectionRect:x(null),selectionKeyPressed:x(!1),multiselectionKeyPressed:x(!1),deleteKeyPressed:x(!1),panActivationKeyPressed:x(!1),zoomActivationKeyPressed:x(!1),selectionRectMode:x(null),selectionMode:x(Vn.Partial),nodeTypes:x(cr),edgeTypes:x(fr),viewport:x(a),connectionMode:x(vt.Strict),domNode:x(null),connection:Ue(ar),connectionLineType:x(Xt.Bezier),connectionRadius:x(20),isValidConnection:x(()=>!0),nodesDraggable:x(!0),nodesConnectable:x(!0),elementsSelectable:x(!0),selectNodesOnDrag:x(!0),markers:Ue([]),defaultMarkerColor:x("#b1b1b7"),lib:Ue("svelte"),onlyRenderVisibleElements:x(!1),onerror:x(Rc),ondelete:x(void 0),onedgecreate:x(void 0),onconnect:x(void 0),onconnectstart:x(void 0),onconnectend:x(void 0),onbeforedelete:x(void 0),nodesInitialized:x(!1),edgesInitialized:x(!1),viewportInitialized:x(!1),initialized:Ue(!1)}};function kd(e){const t=Lt([e.edges,e.nodes,e.nodeLookup,e.onlyRenderVisibleElements,e.viewport,e.width,e.height],([n,,i,o,l,s,r])=>o&&s&&r?n.filter(a=>{const c=i.get(a.source),d=i.get(a.target);return c&&d&&qc({sourceNode:c,targetNode:d,width:s,height:r,transform:[l.x,l.y,l.zoom]})}):n);return Lt([t,e.nodes,e.nodeLookup,e.connectionMode,e.onerror],([n,,i,o,l])=>n.reduce((r,u)=>{const a=i.get(u.source),c=i.get(u.target);if(!a||!c)return r;const d=xc({id:u.id,sourceNode:a,targetNode:c,sourceHandle:u.sourceHandle||null,targetHandle:u.targetHandle||null,connectionMode:o,onError:l});return d&&r.push({...u,zIndex:Zc({selected:u.selected,zIndex:u.zIndex,sourceNode:a,targetNode:c,elevateOnSelect:!1}),...d}),r},[]))}function vd(e){return Lt([e.nodes,e.onlyRenderVisibleElements,e.width,e.height,e.viewport],([t,n,i,o,l])=>{const s=[l.x,l.y,l.zoom];return n?Kl(t,{x:0,y:0,width:i,height:o},s,!0):t})}const Ki=Symbol();function Sd({nodes:e,edges:t,width:n,height:i,fitView:o}){const l=wd({nodes:e,edges:t,width:n,height:i,fitView:o});function s(N){l.nodeTypes.set({...cr,...N})}function r(N){l.edgeTypes.set({...fr,...N})}function u(N){const b=Q(l.edges);l.edges.set(Uc(N,b))}const a=(N,b=!1)=>{const A=Q(l.nodeLookup);N.forEach(E=>{var V;const D=A.get(E.id);D&&(D.position=E.position,D.dragging=b,D.computed={...D.computed,positionAbsolute:(V=E.computed)==null?void 0:V.positionAbsolute})}),l.nodes.set(Q(l.nodes))};function c(N){const b=tf(N,Q(l.nodes),Q(l.nodeLookup),Q(l.domNode),Q(l.nodeOrigin));if(b){if(!Q(l.fitViewOnInitDone)&&Q(l.fitViewOnInit)){const A=Q(l.fitViewOptions),E=d(b,{...A,nodes:(A==null?void 0:A.nodes)||b});l.fitViewOnInitDone.set(E)}l.nodes.set(b),Q(l.nodesInitialized)||l.nodesInitialized.set(!0)}}function d(N,b){const A=Q(l.panZoom);return A?Nc({nodes:N,width:Q(l.width),height:Q(l.height),minZoom:Q(l.minZoom),maxZoom:Q(l.maxZoom),panZoom:A,nodeOrigin:Q(l.nodeOrigin)},b):!1}function f(N,b){const A=Q(l.panZoom);A&&A.scaleBy(N,b)}function h(N){f(1.2,N)}function m(N){f(1/1.2,N)}function y(N){const b=Q(l.panZoom);b&&(b.setScaleExtent([N,Q(l.maxZoom)]),l.minZoom.set(N))}function w(N){const b=Q(l.panZoom);b&&(b.setScaleExtent([Q(l.minZoom),N]),l.maxZoom.set(N))}function g(N){const b=Q(l.panZoom);b&&(b.setTranslateExtent(N),l.translateExtent.set(N))}function v(N){let b=!1;return N.forEach(A=>{A.selected&&(A.selected=!1,b=!0)}),b}function C(N){v((N==null?void 0:N.nodes)||Q(l.nodes))&&l.nodes.set(Q(l.nodes)),v((N==null?void 0:N.edges)||Q(l.edges))&&l.edges.set(Q(l.edges))}l.deleteKeyPressed.subscribe(async N=>{var b;if(N){const A=Q(l.nodes),E=Q(l.edges),D=A.filter(G=>G.selected),V=E.filter(G=>G.selected),{nodes:B,edges:F}=await Tc({nodesToRemove:D,edgesToRemove:V,nodes:A,edges:E,onBeforeDelete:Q(l.onbeforedelete)});(B.length||F.length)&&(l.nodes.update(G=>G.filter(z=>!B.some(ie=>ie.id===z.id))),l.edges.update(G=>G.filter(z=>!F.some(ie=>ie.id===z.id))),(b=Q(l.ondelete))==null||b({nodes:B,edges:F}))}});function S(N){const b=Q(l.multiselectionKeyPressed);l.nodes.update(A=>A.map(E=>{const D=N.includes(E.id),V=b&&E.selected||D;return E.selected=V,E})),b||l.edges.update(A=>A.map(E=>(E.selected=!1,E)))}function P(N){const b=Q(l.multiselectionKeyPressed);l.edges.update(A=>A.map(E=>{const D=N.includes(E.id),V=b&&E.selected||D;return E.selected=V,E})),b||l.nodes.update(A=>A.map(E=>(E.selected=!1,E)))}function I(N){var A;const b=(A=Q(l.nodes))==null?void 0:A.find(E=>E.id===N);if(!b){console.warn("012",cn.error012(N));return}l.selectionRect.set(null),l.selectionRectMode.set(null),b.selected?b.selected&&Q(l.multiselectionKeyPressed)&&C({nodes:[b],edges:[]}):S([N])}function H(N){const b=Q(l.viewport);return nf({delta:N,panZoom:Q(l.panZoom),transform:[b.x,b.y,b.zoom],translateExtent:Q(l.translateExtent),width:Q(l.width),height:Q(l.height)})}const O={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},T=x(O),_=N=>{T.set(N)};function Y(){_(O)}function W(){l.fitViewOnInitDone.set(!1),l.selectionRect.set(null),l.selectionRectMode.set(null),l.snapGrid.set(null),l.isValidConnection.set(()=>!0),l.nodes.set([]),l.edges.set([]),C(),Y()}return{...l,connection:bd(l,T),visibleEdges:kd(l),visibleNodes:vd(l),markers:Lt([l.edges,l.defaultMarkerColor,l.flowId],([N,b,A])=>$c(N,{defaultColor:b,id:A})),initialized:(()=>{let N=!1;const b=Q(l.nodes).length,A=Q(l.edges).length;return Lt([l.nodesInitialized,l.edgesInitialized,l.viewportInitialized],([E,D,V])=>N||(b===0?N=V:A===0?N=V&&E:N=V&&E&&D,N))})(),syncNodeStores:N=>dd(l.nodes,N),syncEdgeStores:N=>hd(l.edges,N),syncViewport:N=>gd(l.panZoom,l.viewport,N),setNodeTypes:s,setEdgeTypes:r,addEdge:u,updateNodePositions:a,updateNodeDimensions:c,zoomIn:h,zoomOut:m,fitView:N=>d(Q(l.nodes),N),setMinZoom:y,setMaxZoom:w,setTranslateExtent:g,unselectNodesAndEdges:C,addSelectedNodes:S,addSelectedEdges:P,handleNodeSelection:I,panBy:H,updateConnection:_,cancelConnection:Y,reset:W}}function Pe(){const e=Hn(Ki);if(!e)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return e.getStore()}function Ed({nodes:e,edges:t,width:n,height:i,fitView:o}){const l=Sd({nodes:e,edges:t,width:n,height:i,fitView:o});return Nn(Ki,{getStore:()=>l}),l}function Md(e,t){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:l,viewport:s,dragging:r,translateExtent:u}=t,a=wf({domNode:e,minZoom:i,maxZoom:o,translateExtent:u,viewport:l,onTransformChange:d=>s.set({x:d[0],y:d[1],zoom:d[2]}),onDraggingChange:r.set}),c=a.getViewport();return s.set(c),n.set(a),a.update(t),{update(d){a.update(d)}}}function zd(e){let t,n,i,o,l;const s=e[33].default,r=Ve(s,e,e[32],null);return{c(){t=Ee("div"),r&&r.c(),k(t,"class","svelte-flow__zoom svelte-4xkw84")},m(u,a){p(u,t,a),r&&r.m(t,null),i=!0,o||(l=Ie(n=Md.call(null,t,{viewport:e[17],minZoom:e[11],maxZoom:e[12],initialViewport:e[10],dragging:e[22],panZoom:e[18],onPanZoomStart:e[0],onPanZoom:e[1],onPanZoomEnd:e[2],zoomOnScroll:e[5],zoomOnDoubleClick:e[6],zoomOnPinch:e[7],panOnScroll:e[8],panOnDrag:e[9],panOnScrollSpeed:.5,panOnScrollMode:e[3]||nt.Free,zoomActivationKeyPressed:e[13],preventScrolling:typeof e[4]=="boolean"?e[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:e[14],translateExtent:e[15],lib:e[16]})),o=!0)},p(u,a){r&&r.p&&(!i||a[1]&2)&&We(r,s,u,u[32],i?Le(s,u[32],a,null):Be(u[32]),null),n&&we(n.update)&&a[0]&131071&&n.update.call(null,{viewport:u[17],minZoom:u[11],maxZoom:u[12],initialViewport:u[10],dragging:u[22],panZoom:u[18],onPanZoomStart:u[0],onPanZoom:u[1],onPanZoomEnd:u[2],zoomOnScroll:u[5],zoomOnDoubleClick:u[6],zoomOnPinch:u[7],panOnScroll:u[8],panOnDrag:u[9],panOnScrollSpeed:.5,panOnScrollMode:u[3]||nt.Free,zoomActivationKeyPressed:u[13],preventScrolling:typeof u[4]=="boolean"?u[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:u[14],translateExtent:u[15],lib:u[16]})},i(u){i||(X(r,u),i=!0)},o(u){R(r,u),i=!1},d(u){u&&Z(t),r&&r.d(u),o=!1,l()}}}function Cd(e,t,n){let i,o,l,s,r,u,a,c,d,f,h,{$$slots:m={},$$scope:y}=t,{initialViewport:w}=t,{onMoveStart:g=void 0}=t,{onMove:v=void 0}=t,{onMoveEnd:C=void 0}=t,{panOnScrollMode:S}=t,{preventScrolling:P}=t,{zoomOnScroll:I}=t,{zoomOnDoubleClick:H}=t,{zoomOnPinch:O}=t,{panOnDrag:T}=t,{panOnScroll:_}=t;const{viewport:Y,panZoom:W,selectionKeyPressed:N,minZoom:b,maxZoom:A,dragging:E,translateExtent:D,lib:V,panActivationKeyPressed:B,zoomActivationKeyPressed:F,viewportInitialized:G}=Pe();return U(e,N,z=>n(14,d=z)),U(e,b,z=>n(11,u=z)),U(e,A,z=>n(12,a=z)),U(e,D,z=>n(15,f=z)),U(e,V,z=>n(16,h=z)),U(e,B,z=>n(31,r=z)),U(e,F,z=>n(13,c=z)),U(e,G,z=>n(34,s=z)),Gn(()=>{wi(G,s=!0,s)}),e.$$set=z=>{"initialViewport"in z&&n(28,w=z.initialViewport),"onMoveStart"in z&&n(0,g=z.onMoveStart),"onMove"in z&&n(1,v=z.onMove),"onMoveEnd"in z&&n(2,C=z.onMoveEnd),"panOnScrollMode"in z&&n(3,S=z.panOnScrollMode),"preventScrolling"in z&&n(4,P=z.preventScrolling),"zoomOnScroll"in z&&n(5,I=z.zoomOnScroll),"zoomOnDoubleClick"in z&&n(6,H=z.zoomOnDoubleClick),"zoomOnPinch"in z&&n(7,O=z.zoomOnPinch),"panOnDrag"in z&&n(29,T=z.panOnDrag),"panOnScroll"in z&&n(30,_=z.panOnScroll),"$$scope"in z&&n(32,y=z.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&268435456&&n(10,i=w||{x:0,y:0,zoom:1}),e.$$.dirty[0]&536870912|e.$$.dirty[1]&1&&n(9,o=r||T),e.$$.dirty[0]&1073741824|e.$$.dirty[1]&1&&n(8,l=r||_)},[g,v,C,S,P,I,H,O,l,o,i,u,a,c,d,f,h,Y,W,N,b,A,E,D,V,B,F,G,w,T,_,r,y,m]}class Pd extends se{constructor(t){super(),re(this,t,Cd,zd,ae,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}const Ad=Pd;function Nd(e){let t,n,i,o;const l=e[29].default,s=Ve(l,e,e[28],null);return{c(){t=Ee("div"),s&&s.c(),k(t,"class","svelte-flow__pane svelte-1esy7hx"),ue(t,"draggable",e[0]),ue(t,"dragging",e[4]),ue(t,"selection",e[1])},m(r,u){p(r,t,u),s&&s.m(t,null),e[30](t),n=!0,i||(o=[ke(t,"click",function(){we(e[3]?void 0:Sn(e[15],e[2]))&&(e[3]?void 0:Sn(e[15],e[2])).apply(this,arguments)}),ke(t,"mousedown",function(){we(e[3]?e[16]:void 0)&&(e[3]?e[16]:void 0).apply(this,arguments)}),ke(t,"mousemove",function(){we(e[3]?e[17]:void 0)&&(e[3]?e[17]:void 0).apply(this,arguments)}),ke(t,"mouseup",function(){we(e[3]?e[18]:void 0)&&(e[3]?e[18]:void 0).apply(this,arguments)}),ke(t,"mouseleave",function(){we(e[3]?e[19]:void 0)&&(e[3]?e[19]:void 0).apply(this,arguments)}),ke(t,"contextmenu",function(){we(Sn(e[20],e[2]))&&Sn(e[20],e[2]).apply(this,arguments)})],i=!0)},p(r,u){e=r,s&&s.p&&(!n||u[0]&268435456)&&We(s,l,e,e[28],n?Le(l,e[28],u,null):Be(e[28]),null),(!n||u[0]&1)&&ue(t,"draggable",e[0]),(!n||u[0]&16)&&ue(t,"dragging",e[4]),(!n||u[0]&2)&&ue(t,"selection",e[1])},i(r){n||(X(s,r),n=!0)},o(r){R(s,r),n=!1},d(r){r&&Z(t),s&&s.d(r),e[30](null),i=!1,Ke(o)}}}function Sn(e,t){return n=>{n.target===t&&(e==null||e(n))}}function Io(e){return t=>{const n=e.includes(t.id);return t.selected!==n?{...t,selected:n}:t}}function Hd(e,t,n){let i,o,l,s,r,u,a,c,d,f,h,m,y,{$$slots:w={},$$scope:g}=t,{panOnDrag:v=void 0}=t,{selectionOnDrag:C=void 0}=t;const S=Un(),{nodes:P,edges:I,viewport:H,dragging:O,elementsSelectable:T,selectionRect:_,selectionRectMode:Y,selectionKeyPressed:W,selectionMode:N,panActivationKeyPressed:b,unselectNodesAndEdges:A}=Pe();U(e,P,q=>n(36,c=q)),U(e,I,q=>n(33,r=q)),U(e,H,q=>n(35,a=q)),U(e,O,q=>n(4,y=q)),U(e,T,q=>n(25,f=q)),U(e,_,q=>n(24,d=q)),U(e,Y,q=>n(23,s=q)),U(e,W,q=>n(26,h=q)),U(e,N,q=>n(34,u=q)),U(e,b,q=>n(27,m=q));let E,D=null,V=[];function B(q){S("paneclick",{event:q}),A(),Y.set(null)}function F(q){if(D=E.getBoundingClientRect(),!T||!o||q.button!==0||q.target!==E||!D)return;const{x:fe,y:he}=at(q,D);A(),_.set({width:0,height:0,startX:fe,startY:he,x:fe,y:he})}function G(q){if(!o||!D||!d)return;const fe=at(q,D),he=d.startX??0,L=d.startY??0,Me={...d,x:fe.x<he?fe.x:he,y:fe.y<L?fe.y:L,width:Math.abs(fe.x-he),height:Math.abs(fe.y-L)},Ae=V.map(_e=>_e.id),Oe=Ni(V,r).map(_e=>_e.id);V=Kl(c,Me,[a.x,a.y,a.zoom],u===Vn.Partial,!0);const Ne=Ni(V,r).map(_e=>_e.id),qe=V.map(_e=>_e.id);(Ae.length!==qe.length||qe.some(_e=>!Ae.includes(_e)))&&P.update(_e=>_e.map(Io(qe))),(Oe.length!==Ne.length||Ne.some(_e=>!Oe.includes(_e)))&&I.update(_e=>_e.map(Io(Ne))),Y.set("user"),_.set(Me)}function z(q){q.button===0&&(!o&&s==="user"&&q.target===E&&(B==null||B(q)),_.set(null),V.length>0&&Y.set("nodes"))}const ie=q=>{s==="user"&&Y.set(V.length>0?"nodes":null),_.set(null)},$=q=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){q.preventDefault();return}S("panecontextmenu",{event:q})};function le(q){en[q?"unshift":"push"](()=>{E=q,n(2,E)})}return e.$$set=q=>{"panOnDrag"in q&&n(0,v=q.panOnDrag),"selectionOnDrag"in q&&n(21,C=q.selectionOnDrag),"$$scope"in q&&n(28,g=q.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&134217729&&n(22,i=m||v),e.$$.dirty[0]&90177536&&n(1,o=h||d||C&&i!==!0),e.$$.dirty[0]&41943042&&n(3,l=f&&(o||s==="user"))},[v,o,E,l,y,P,I,H,O,T,_,Y,W,N,b,B,F,G,z,ie,$,C,i,s,d,f,h,m,g,w,le]}class Od extends se{constructor(t){super(),re(this,t,Hd,Nd,ae,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}const Td=Od;function Id(e){let t,n;const i=e[3].default,o=Ve(i,e,e[2],null);return{c(){t=Ee("div"),o&&o.c(),k(t,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),oe(t,"transform","translate("+e[0].x+"px, "+e[0].y+"px) scale("+e[0].zoom+")")},m(l,s){p(l,t,s),o&&o.m(t,null),n=!0},p(l,[s]){o&&o.p&&(!n||s&4)&&We(o,i,l,l[2],n?Le(i,l[2],s,null):Be(l[2]),null),(!n||s&1)&&oe(t,"transform","translate("+l[0].x+"px, "+l[0].y+"px) scale("+l[0].zoom+")")},i(l){n||(X(o,l),n=!0)},o(l){R(o,l),n=!1},d(l){l&&Z(t),o&&o.d(l)}}}function Dd(e,t,n){let i,{$$slots:o={},$$scope:l}=t;const{viewport:s}=Pe();return U(e,s,r=>n(0,i=r)),e.$$set=r=>{"$$scope"in r&&n(2,l=r.$$scope)},[i,s,l,o]}class Xd extends se{constructor(t){super(),re(this,t,Dd,Id,ae,{})}}function dr(e,t){const{store:n,onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:s}=t,r=lf({onDrag:i,onDragStart:o,onDragStop:l,onNodeMouseDown:s,getStoreItems:()=>{const a=Q(n.snapGrid),c=Q(n.viewport);return{nodes:Q(n.nodes),nodeLookup:Q(n.nodeLookup),edges:Q(n.edges),nodeExtent:Q(n.nodeExtent),snapGrid:a||[0,0],snapToGrid:!!a,nodeOrigin:[0,0],multiSelectionActive:Q(n.multiselectionKeyPressed),domNode:Q(n.domNode),transform:[c.x,c.y,c.zoom],autoPanOnNodeDrag:Q(n.autoPanOnNodeDrag),nodesDraggable:Q(n.nodesDraggable),selectNodesOnDrag:Q(n.selectNodesOnDrag),nodeDragThreshold:Q(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function u(a,c){if(c.disabled){r.destroy();return}r.update({domNode:a,noDragClassName:c.noDragClass,handleSelector:c.handleSelector,nodeId:c.nodeId,isSelectable:c.isSelectable})}return u(e,t),{update(a){u(e,a)},destroy(){r.destroy()}}}function Yd({width:e,height:t,initialWidth:n,initialHeight:i,computedWidth:o,computedHeight:l}){if(o===void 0&&l===void 0){const s=e??n,r=t??i;return{width:s?`width:${s}px;`:"",height:r?`height:${r}px;`:""}}return{width:e?`width:${e}px;`:"",height:t?`height:${t}px;`:""}}function Do(e){let t,n,i,o,l,s=`translate(${e[14]}px, ${e[15]}px)`,r,u,a;var c=e[30];function d(f,h){return{props:{data:f[2],id:f[1],selected:f[3],sourcePosition:f[16],targetPosition:f[17],type:f[10],zIndex:f[18],dragging:f[8],dragHandle:f[21],isConnectable:f[6],positionAbsoluteX:f[12],positionAbsoluteY:f[13],width:f[19],height:f[20]}}}return c&&(n=An(c,d(e))),{c(){t=Ee("div"),n&&ne(n.$$.fragment),k(t,"data-id",e[1]),k(t,"class",i=ye(["svelte-flow__node",`svelte-flow__node-${e[29]}`,e[23]])),k(t,"style",o=(e[9]??"")+";"+e[25].width+e[25].height),ue(t,"dragging",e[8]),ue(t,"selected",e[3]),ue(t,"draggable",e[4]),ue(t,"connectable",e[6]),ue(t,"selectable",e[5]),ue(t,"nopan",e[4]),ue(t,"parent",e[11]),oe(t,"z-index",e[18]),oe(t,"transform",s),oe(t,"visibility",e[22]?"visible":"hidden")},m(f,h){p(f,t,h),n&&ee(n,t,null),e[45](t),r=!0,u||(a=[Ie(l=dr.call(null,t,{nodeId:e[1],isSelectable:e[5],disabled:!1,handleSelector:e[21],noDragClass:"nodrag",onNodeMouseDown:e[28],onDrag:e[42],onDragStart:e[43],onDragStop:e[44],store:e[26]})),ke(t,"click",e[32]),ke(t,"mouseenter",e[46]),ke(t,"mouseleave",e[47]),ke(t,"mousemove",e[48]),ke(t,"contextmenu",e[49])],u=!0)},p(f,h){if(c!==(c=f[30])){if(n){ze();const y=n;R(y.$$.fragment,1,0,()=>{te(y,1)}),Ce()}c?(n=An(c,d(f)),ne(n.$$.fragment),X(n.$$.fragment,1),ee(n,t,null)):n=null}else if(c){const y={};h[0]&4&&(y.data=f[2]),h[0]&2&&(y.id=f[1]),h[0]&8&&(y.selected=f[3]),h[0]&65536&&(y.sourcePosition=f[16]),h[0]&131072&&(y.targetPosition=f[17]),h[0]&1024&&(y.type=f[10]),h[0]&262144&&(y.zIndex=f[18]),h[0]&256&&(y.dragging=f[8]),h[0]&2097152&&(y.dragHandle=f[21]),h[0]&64&&(y.isConnectable=f[6]),h[0]&4096&&(y.positionAbsoluteX=f[12]),h[0]&8192&&(y.positionAbsoluteY=f[13]),h[0]&524288&&(y.width=f[19]),h[0]&1048576&&(y.height=f[20]),n.$set(y)}(!r||h[0]&2)&&k(t,"data-id",f[1]),(!r||h[0]&8388608&&i!==(i=ye(["svelte-flow__node",`svelte-flow__node-${f[29]}`,f[23]])))&&k(t,"class",i),(!r||h[0]&33554944&&o!==(o=(f[9]??"")+";"+f[25].width+f[25].height))&&k(t,"style",o),l&&we(l.update)&&h[0]&2097186&&l.update.call(null,{nodeId:f[1],isSelectable:f[5],disabled:!1,handleSelector:f[21],noDragClass:"nodrag",onNodeMouseDown:f[28],onDrag:f[42],onDragStart:f[43],onDragStop:f[44],store:f[26]}),(!r||h[0]&8388864)&&ue(t,"dragging",f[8]),(!r||h[0]&8388616)&&ue(t,"selected",f[3]),(!r||h[0]&8388624)&&ue(t,"draggable",f[4]),(!r||h[0]&8388672)&&ue(t,"connectable",f[6]),(!r||h[0]&8388640)&&ue(t,"selectable",f[5]),(!r||h[0]&8388624)&&ue(t,"nopan",f[4]),(!r||h[0]&8390656)&&ue(t,"parent",f[11]);const m=h[0]&33554944;(h[0]&33817088||m)&&oe(t,"z-index",f[18]),(h[0]&33604096&&s!==(s=`translate(${f[14]}px, ${f[15]}px)`)||m)&&oe(t,"transform",s),(h[0]&37749248||m)&&oe(t,"visibility",f[22]?"visible":"hidden")},i(f){r||(n&&X(n.$$.fragment,f),r=!0)},o(f){n&&R(n.$$.fragment,f),r=!1},d(f){f&&Z(t),n&&te(n),e[45](null),u=!1,Ke(a)}}}function Rd(e){let t,n,i=!e[7]&&Do(e);return{c(){i&&i.c(),t=De()},m(o,l){i&&i.m(o,l),p(o,t,l),n=!0},p(o,l){o[7]?i&&(ze(),R(i,1,1,()=>{i=null}),Ce()):i?(i.p(o,l),l[0]&128&&X(i,1)):(i=Do(o),i.c(),X(i,1),i.m(t.parentNode,t))},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function Vd(e,t,n){let i,o,{node:l}=t,{id:s}=t,{data:r={}}=t,{selected:u=!1}=t,{draggable:a=void 0}=t,{selectable:c=void 0}=t,{connectable:d=!0}=t,{hidden:f=!1}=t,{dragging:h=!1}=t,{resizeObserver:m=null}=t,{style:y=void 0}=t,{type:w="default"}=t,{isParent:g=!1}=t,{positionX:v}=t,{positionY:C}=t,{positionOriginX:S}=t,{positionOriginY:P}=t,{sourcePosition:I=void 0}=t,{targetPosition:H=void 0}=t,{zIndex:O}=t,{computedWidth:T=void 0}=t,{computedHeight:_=void 0}=t,{initialWidth:Y=void 0}=t,{initialHeight:W=void 0}=t,{width:N=void 0}=t,{height:b=void 0}=t,{dragHandle:A=void 0}=t,{initialized:E=!1}=t,{class:D=""}=t;const V=Pe(),{nodeTypes:B,nodeDragThreshold:F,selectNodesOnDrag:G,handleNodeSelection:z,updateNodeDimensions:ie}=V;U(e,B,K=>n(50,o=K));const $=w||"default";let le,q;!!o[$]||console.warn("003",cn.error003(w));const he=o[$]||rr,L=Un(),Me=x(d);let Ae,Oe,Ne;Nn("svelteflow__node_id",s),Nn("svelteflow__node_connectable",Me),fl(()=>{m==null||m.unobserve(le)});function qe(K){c&&(!Q(G)||!a||Q(F)>0)&&z(s),L("nodeclick",{node:l,event:K})}const _e=(K,pe,Xe,J)=>{L("nodedrag",{event:K,node:Xe,nodes:J})},ot=(K,pe,Xe,J)=>{L("nodedragstart",{event:K,node:Xe,nodes:J})},lt=(K,pe,Xe,J)=>{L("nodedragstop",{event:K,node:Xe,nodes:J})};function xe(K){en[K?"unshift":"push"](()=>{le=K,n(24,le)})}const $e=K=>L("nodemouseenter",{node:l,event:K}),j=K=>L("nodemouseleave",{node:l,event:K}),ht=K=>L("nodemousemove",{node:l,event:K}),gt=K=>L("nodecontextmenu",{node:l,event:K});return e.$$set=K=>{"node"in K&&n(0,l=K.node),"id"in K&&n(1,s=K.id),"data"in K&&n(2,r=K.data),"selected"in K&&n(3,u=K.selected),"draggable"in K&&n(4,a=K.draggable),"selectable"in K&&n(5,c=K.selectable),"connectable"in K&&n(6,d=K.connectable),"hidden"in K&&n(7,f=K.hidden),"dragging"in K&&n(8,h=K.dragging),"resizeObserver"in K&&n(33,m=K.resizeObserver),"style"in K&&n(9,y=K.style),"type"in K&&n(10,w=K.type),"isParent"in K&&n(11,g=K.isParent),"positionX"in K&&n(12,v=K.positionX),"positionY"in K&&n(13,C=K.positionY),"positionOriginX"in K&&n(14,S=K.positionOriginX),"positionOriginY"in K&&n(15,P=K.positionOriginY),"sourcePosition"in K&&n(16,I=K.sourcePosition),"targetPosition"in K&&n(17,H=K.targetPosition),"zIndex"in K&&n(18,O=K.zIndex),"computedWidth"in K&&n(34,T=K.computedWidth),"computedHeight"in K&&n(35,_=K.computedHeight),"initialWidth"in K&&n(36,Y=K.initialWidth),"initialHeight"in K&&n(37,W=K.initialHeight),"width"in K&&n(19,N=K.width),"height"in K&&n(20,b=K.height),"dragHandle"in K&&n(21,A=K.dragHandle),"initialized"in K&&n(22,E=K.initialized),"class"in K&&n(23,D=K.class)},e.$$.update=()=>{e.$$.dirty[0]&1572864|e.$$.dirty[1]&120&&n(25,i=Yd({width:N,height:b,initialWidth:Y,initialHeight:W,computedWidth:T,computedHeight:_})),e.$$.dirty[0]&64&&Me.set(!!d),e.$$.dirty[0]&16973826|e.$$.dirty[1]&1792&&((Ae&&$!==Ae||Oe&&I!==Oe||Ne&&H!==Ne)&&requestAnimationFrame(()=>ie(new Map([[s,{id:s,nodeElement:le,forceUpdate:!0}]]))),n(39,Ae=$),n(40,Oe=I),n(41,Ne=H)),e.$$.dirty[0]&16777216|e.$$.dirty[1]&156&&le&&(q?(q!==le||!T&&!_)&&(m==null||m.unobserve(q),m==null||m.observe(le),n(38,q=le)):(m==null||m.observe(le),n(38,q=le)))},[l,s,r,u,a,c,d,f,h,y,w,g,v,C,S,P,I,H,O,N,b,A,E,D,le,i,V,B,z,$,he,L,qe,m,T,_,Y,W,q,Ae,Oe,Ne,_e,ot,lt,xe,$e,j,ht,gt]}class Ld extends se{constructor(t){super(),re(this,t,Vd,Rd,al,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:33,style:9,type:10,isParent:11,positionX:12,positionY:13,positionOriginX:14,positionOriginY:15,sourcePosition:16,targetPosition:17,zIndex:18,computedWidth:34,computedHeight:35,initialWidth:36,initialHeight:37,width:19,height:20,dragHandle:21,initialized:22,class:23},null,[-1,-1])}}const Wd=Ld,{Map:Bd}=Rr;function Xo(e,t,n){var s,r,u,a;const i=e.slice();i[18]=t[n];const o=dn(i[18]);i[19]=o;const l=Vc({x:((r=(s=i[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:r.x)??0,y:((a=(u=i[18].computed)==null?void 0:u.positionAbsolute)==null?void 0:a.y)??0,...i[19],origin:i[18].origin});return i[20]=l,i}function Yo(e,t){var l,s,r,u,a,c,d,f;let n,i,o;return i=new Wd({props:{node:t[18],id:t[18].id,data:t[18].data,selected:!!t[18].selected,hidden:!!t[18].hidden,draggable:!!(t[18].draggable||t[1]&&typeof t[18].draggable>"u"),selectable:!!(t[18].selectable||t[2]&&typeof t[18].selectable>"u"),connectable:!!(t[18].connectable||t[3]&&typeof t[18].connectable>"u"),positionX:((s=(l=t[18].computed)==null?void 0:l.positionAbsolute)==null?void 0:s.x)??0,positionY:((u=(r=t[18].computed)==null?void 0:r.positionAbsolute)==null?void 0:u.y)??0,positionOriginX:t[20].x??0,positionOriginY:t[20].y??0,isParent:!!((a=t[18][ve])!=null&&a.isParent),style:t[18].style,class:t[18].class,type:t[18].type??"default",sourcePosition:t[18].sourcePosition,targetPosition:t[18].targetPosition,dragging:t[18].dragging,zIndex:((c=t[18][ve])==null?void 0:c.z)??0,dragHandle:t[18].dragHandle,initialized:Kn(t[18]),width:t[18].width,height:t[18].height,initialWidth:t[18].initialWidth,initialHeight:t[18].initialHeight,computedWidth:(d=t[18].computed)==null?void 0:d.width,computedHeight:(f=t[18].computed)==null?void 0:f.height,resizeObserver:t[8]}}),i.$on("nodeclick",t[9]),i.$on("nodemouseenter",t[10]),i.$on("nodemousemove",t[11]),i.$on("nodemouseleave",t[12]),i.$on("nodedrag",t[13]),i.$on("nodedragstart",t[14]),i.$on("nodedragstop",t[15]),i.$on("nodecontextmenu",t[16]),{key:e,first:null,c(){n=De(),ne(i.$$.fragment),this.first=n},m(h,m){p(h,n,m),ee(i,h,m),o=!0},p(h,m){var w,g,v,C,S,P,I,H;t=h;const y={};m&1&&(y.node=t[18]),m&1&&(y.id=t[18].id),m&1&&(y.data=t[18].data),m&1&&(y.selected=!!t[18].selected),m&1&&(y.hidden=!!t[18].hidden),m&3&&(y.draggable=!!(t[18].draggable||t[1]&&typeof t[18].draggable>"u")),m&5&&(y.selectable=!!(t[18].selectable||t[2]&&typeof t[18].selectable>"u")),m&9&&(y.connectable=!!(t[18].connectable||t[3]&&typeof t[18].connectable>"u")),m&1&&(y.positionX=((g=(w=t[18].computed)==null?void 0:w.positionAbsolute)==null?void 0:g.x)??0),m&1&&(y.positionY=((C=(v=t[18].computed)==null?void 0:v.positionAbsolute)==null?void 0:C.y)??0),m&1&&(y.positionOriginX=t[20].x??0),m&1&&(y.positionOriginY=t[20].y??0),m&1&&(y.isParent=!!((S=t[18][ve])!=null&&S.isParent)),m&1&&(y.style=t[18].style),m&1&&(y.class=t[18].class),m&1&&(y.type=t[18].type??"default"),m&1&&(y.sourcePosition=t[18].sourcePosition),m&1&&(y.targetPosition=t[18].targetPosition),m&1&&(y.dragging=t[18].dragging),m&1&&(y.zIndex=((P=t[18][ve])==null?void 0:P.z)??0),m&1&&(y.dragHandle=t[18].dragHandle),m&1&&(y.initialized=Kn(t[18])),m&1&&(y.width=t[18].width),m&1&&(y.height=t[18].height),m&1&&(y.initialWidth=t[18].initialWidth),m&1&&(y.initialHeight=t[18].initialHeight),m&1&&(y.computedWidth=(I=t[18].computed)==null?void 0:I.width),m&1&&(y.computedHeight=(H=t[18].computed)==null?void 0:H.height),i.$set(y)},i(h){o||(X(i.$$.fragment,h),o=!0)},o(h){R(i.$$.fragment,h),o=!1},d(h){h&&Z(n),te(i,h)}}}function Kd(e){let t,n=[],i=new Bd,o,l=yt(e[0]);const s=r=>r[18].id;for(let r=0;r<l.length;r+=1){let u=Xo(e,l,r),a=s(u);i.set(a,n[r]=Yo(a,u))}return{c(){t=Ee("div");for(let r=0;r<n.length;r+=1)n[r].c();k(t,"class","svelte-flow__nodes svelte-tf4uy4")},m(r,u){p(r,t,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null);o=!0},p(r,[u]){u&271&&(l=yt(r[0]),ze(),n=Qn(n,u,s,1,r,l,i,t,Jn,Yo,null,Xo),Ce())},i(r){if(!o){for(let u=0;u<l.length;u+=1)X(n[u]);o=!0}},o(r){for(let u=0;u<n.length;u+=1)R(n[u]);o=!1},d(r){r&&Z(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function Fd(e,t,n){let i,o,l,s;const{visibleNodes:r,nodesDraggable:u,nodesConnectable:a,elementsSelectable:c,updateNodeDimensions:d}=Pe();U(e,r,P=>n(0,i=P)),U(e,u,P=>n(1,o=P)),U(e,a,P=>n(3,s=P)),U(e,c,P=>n(2,l=P));const f=typeof ResizeObserver>"u"?null:new ResizeObserver(P=>{const I=new Map;P.forEach(H=>{const O=H.target.getAttribute("data-id");I.set(O,{id:O,nodeElement:H.target,forceUpdate:!0})}),d(I)});fl(()=>{f==null||f.disconnect()});function h(P){me.call(this,e,P)}function m(P){me.call(this,e,P)}function y(P){me.call(this,e,P)}function w(P){me.call(this,e,P)}function g(P){me.call(this,e,P)}function v(P){me.call(this,e,P)}function C(P){me.call(this,e,P)}function S(P){me.call(this,e,P)}return[i,o,l,s,r,u,a,c,f,h,m,y,w,g,v,C,S]}class Zd extends se{constructor(t){super(),re(this,t,Fd,Kd,ae,{})}}function Ro(e){let t,n,i,o,l,s,r,u;var a=e[25];function c(d,f){return{props:{id:d[0],source:d[1],target:d[2],sourceX:d[13],sourceY:d[14],targetX:d[15],targetY:d[16],sourcePosition:d[17],targetPosition:d[18],animated:d[6],selected:d[7],label:d[9],labelStyle:d[10],data:d[3],style:d[4],interactionWidth:d[20],sourceHandleId:d[11],targetHandleId:d[12],markerStart:d[24],markerEnd:d[23]}}}return a&&(i=An(a,c(e))),{c(){t=ge("svg"),n=ge("g"),i&&ne(i.$$.fragment),k(n,"class",o=ye(["svelte-flow__edge",e[21]])),k(n,"data-id",e[0]),k(n,"aria-label",l=e[19]===null?void 0:e[19]?e[19]:`Edge from ${e[1]} to ${e[2]}`),k(n,"role","img"),ue(n,"animated",e[6]),ue(n,"selected",e[7]),ue(n,"selectable",e[22]),oe(t,"zIndex",e[5])},m(d,f){p(d,t,f),Se(t,n),i&&ee(i,n,null),s=!0,r||(u=[ke(n,"click",e[30]),ke(n,"contextmenu",e[31])],r=!0)},p(d,f){if(f[0]&33554432&&a!==(a=d[25])){if(i){ze();const h=i;R(h.$$.fragment,1,0,()=>{te(h,1)}),Ce()}a?(i=An(a,c(d)),ne(i.$$.fragment),X(i.$$.fragment,1),ee(i,n,null)):i=null}else if(a){const h={};f[0]&1&&(h.id=d[0]),f[0]&2&&(h.source=d[1]),f[0]&4&&(h.target=d[2]),f[0]&8192&&(h.sourceX=d[13]),f[0]&16384&&(h.sourceY=d[14]),f[0]&32768&&(h.targetX=d[15]),f[0]&65536&&(h.targetY=d[16]),f[0]&131072&&(h.sourcePosition=d[17]),f[0]&262144&&(h.targetPosition=d[18]),f[0]&64&&(h.animated=d[6]),f[0]&128&&(h.selected=d[7]),f[0]&512&&(h.label=d[9]),f[0]&1024&&(h.labelStyle=d[10]),f[0]&8&&(h.data=d[3]),f[0]&16&&(h.style=d[4]),f[0]&1048576&&(h.interactionWidth=d[20]),f[0]&2048&&(h.sourceHandleId=d[11]),f[0]&4096&&(h.targetHandleId=d[12]),f[0]&16777216&&(h.markerStart=d[24]),f[0]&8388608&&(h.markerEnd=d[23]),i.$set(h)}(!s||f[0]&2097152&&o!==(o=ye(["svelte-flow__edge",d[21]])))&&k(n,"class",o),(!s||f[0]&1)&&k(n,"data-id",d[0]),(!s||f[0]&524294&&l!==(l=d[19]===null?void 0:d[19]?d[19]:`Edge from ${d[1]} to ${d[2]}`))&&k(n,"aria-label",l),(!s||f[0]&2097216)&&ue(n,"animated",d[6]),(!s||f[0]&2097280)&&ue(n,"selected",d[7]),(!s||f[0]&6291456)&&ue(n,"selectable",d[22]),f[0]&32&&oe(t,"zIndex",d[5])},i(d){s||(i&&X(i.$$.fragment,d),s=!0)},o(d){i&&R(i.$$.fragment,d),s=!1},d(d){d&&Z(t),i&&te(i),r=!1,Ke(u)}}}function qd(e){let t,n,i=!e[8]&&Ro(e);return{c(){i&&i.c(),t=De()},m(o,l){i&&i.m(o,l),p(o,t,l),n=!0},p(o,l){o[8]?i&&(ze(),R(i,1,1,()=>{i=null}),Ce()):i?(i.p(o,l),l[0]&256&&X(i,1)):(i=Ro(o),i.c(),X(i,1),i.m(t.parentNode,t))},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function pd(e,t,n){let i,o,l,s,r,u,a,c,{id:d}=t,{type:f="default"}=t,{source:h=""}=t,{target:m=""}=t,{data:y={}}=t,{style:w=void 0}=t,{zIndex:g=void 0}=t,{animated:v=!1}=t,{selected:C=!1}=t,{selectable:S=void 0}=t,{hidden:P=!1}=t,{label:I=void 0}=t,{labelStyle:H=void 0}=t,{markerStart:O=void 0}=t,{markerEnd:T=void 0}=t,{sourceHandle:_=void 0}=t,{targetHandle:Y=void 0}=t,{sourceX:W}=t,{sourceY:N}=t,{targetX:b}=t,{targetY:A}=t,{sourcePosition:E}=t,{targetPosition:D}=t,{ariaLabel:V=void 0}=t,{interactionWidth:B=void 0}=t,{class:F=""}=t;Nn("svelteflow__edge_id",d);const{edgeLookup:G,edgeTypes:z,flowId:ie,elementsSelectable:$}=Pe();U(e,G,L=>n(39,r=L)),U(e,z,L=>n(38,c=L)),U(e,ie,L=>n(37,a=L)),U(e,$,L=>n(36,u=L));const le=Un(),q=sr();function fe(L){const Me=r.get(d);Me&&(q(d),le("edgeclick",{event:L,edge:Me}))}function he(L){const Me=r.get(d);Me&&le("edgecontextmenu",{event:L,edge:Me})}return e.$$set=L=>{"id"in L&&n(0,d=L.id),"type"in L&&n(32,f=L.type),"source"in L&&n(1,h=L.source),"target"in L&&n(2,m=L.target),"data"in L&&n(3,y=L.data),"style"in L&&n(4,w=L.style),"zIndex"in L&&n(5,g=L.zIndex),"animated"in L&&n(6,v=L.animated),"selected"in L&&n(7,C=L.selected),"selectable"in L&&n(33,S=L.selectable),"hidden"in L&&n(8,P=L.hidden),"label"in L&&n(9,I=L.label),"labelStyle"in L&&n(10,H=L.labelStyle),"markerStart"in L&&n(34,O=L.markerStart),"markerEnd"in L&&n(35,T=L.markerEnd),"sourceHandle"in L&&n(11,_=L.sourceHandle),"targetHandle"in L&&n(12,Y=L.targetHandle),"sourceX"in L&&n(13,W=L.sourceX),"sourceY"in L&&n(14,N=L.sourceY),"targetX"in L&&n(15,b=L.targetX),"targetY"in L&&n(16,A=L.targetY),"sourcePosition"in L&&n(17,E=L.sourcePosition),"targetPosition"in L&&n(18,D=L.targetPosition),"ariaLabel"in L&&n(19,V=L.ariaLabel),"interactionWidth"in L&&n(20,B=L.interactionWidth),"class"in L&&n(21,F=L.class)},e.$$.update=()=>{e.$$.dirty[1]&130&&n(25,i=c[f]||ur),e.$$.dirty[1]&72&&n(24,o=O?`url(#${Hi(O,a)})`:void 0),e.$$.dirty[1]&80&&n(23,l=T?`url(#${Hi(T,a)})`:void 0),e.$$.dirty[1]&36&&n(22,s=S||u&&typeof S>"u")},[d,h,m,y,w,g,v,C,P,I,H,_,Y,W,N,b,A,E,D,V,B,F,s,l,o,i,G,z,ie,$,fe,he,f,S,O,T,u,a,c]}class Gd extends se{constructor(t){super(),re(this,t,pd,qd,al,{id:0,type:32,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:33,hidden:8,label:9,labelStyle:10,markerStart:34,markerEnd:35,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}const Ud=Gd;function Jd(e,t,n){let{onMount:i=void 0}=t,{onDestroy:o=void 0}=t;return Gn(()=>(i==null||i(),o)),e.$$set=l=>{"onMount"in l&&n(0,i=l.onMount),"onDestroy"in l&&n(1,o=l.onDestroy)},[i,o]}class Qd extends se{constructor(t){super(),re(this,t,Jd,null,ae,{onMount:0,onDestroy:1})}}const jd=Qd;function Vo(e,t,n){const i=e.slice();return i[2]=t[n],i}function Lo(e,t){let n,i,o;const l=[t[2]];let s={};for(let r=0;r<l.length;r+=1)s=He(s,l[r]);return i=new lh({props:s}),{key:e,first:null,c(){n=De(),ne(i.$$.fragment),this.first=n},m(r,u){p(r,n,u),ee(i,r,u),o=!0},p(r,u){t=r;const a=u&1?ft(l,[Vt(t[2])]):{};i.$set(a)},i(r){o||(X(i.$$.fragment,r),o=!0)},o(r){R(i.$$.fragment,r),o=!1},d(r){r&&Z(n),te(i,r)}}}function xd(e){let t,n=[],i=new Map,o,l=yt(e[0]);const s=r=>r[2].id;for(let r=0;r<l.length;r+=1){let u=Vo(e,l,r),a=s(u);i.set(a,n[r]=Lo(a,u))}return{c(){t=ge("defs");for(let r=0;r<n.length;r+=1)n[r].c()},m(r,u){p(r,t,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(t,null);o=!0},p(r,[u]){u&1&&(l=yt(r[0]),ze(),n=Qn(n,u,s,1,r,l,i,t,Jn,Lo,null,Vo),Ce())},i(r){if(!o){for(let u=0;u<l.length;u+=1)X(n[u]);o=!0}},o(r){for(let u=0;u<n.length;u+=1)R(n[u]);o=!1},d(r){r&&Z(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function $d(e,t,n){let i;const{markers:o}=Pe();return U(e,o,l=>n(0,i=l)),[i,o]}class eh extends se{constructor(t){super(),re(this,t,$d,xd,ae,{})}}function th(e){let t;return{c(){t=ge("polyline"),k(t,"stroke",e[6]),k(t,"stroke-linecap","round"),k(t,"stroke-linejoin","round"),k(t,"stroke-width",e[7]),k(t,"fill",e[6]),k(t,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){p(n,t,i)},p(n,i){i&64&&k(t,"stroke",n[6]),i&128&&k(t,"stroke-width",n[7]),i&64&&k(t,"fill",n[6])},d(n){n&&Z(t)}}}function nh(e){let t;return{c(){t=ge("polyline"),k(t,"stroke",e[6]),k(t,"stroke-linecap","round"),k(t,"stroke-linejoin","round"),k(t,"stroke-width",e[7]),k(t,"fill","none"),k(t,"points","-5,-4 0,0 -5,4")},m(n,i){p(n,t,i)},p(n,i){i&64&&k(t,"stroke",n[6]),i&128&&k(t,"stroke-width",n[7])},d(n){n&&Z(t)}}}function ih(e){let t,n,i;function o(r,u){if(r[1]===Ln.Arrow)return nh;if(r[1]===Ln.ArrowClosed)return th}let l=o(e),s=l&&l(e);return{c(){t=ge("marker"),s&&s.c(),k(t,"class","svelte-flow__arrowhead"),k(t,"id",e[0]),k(t,"markerWidth",n=`${e[2]}`),k(t,"markerHeight",i=`${e[3]}`),k(t,"viewBox","-10 -10 20 20"),k(t,"markerUnits",e[4]),k(t,"orient",e[5]),k(t,"refX","0"),k(t,"refY","0")},m(r,u){p(r,t,u),s&&s.m(t,null)},p(r,[u]){l===(l=o(r))&&s?s.p(r,u):(s&&s.d(1),s=l&&l(r),s&&(s.c(),s.m(t,null))),u&1&&k(t,"id",r[0]),u&4&&n!==(n=`${r[2]}`)&&k(t,"markerWidth",n),u&8&&i!==(i=`${r[3]}`)&&k(t,"markerHeight",i),u&16&&k(t,"markerUnits",r[4]),u&32&&k(t,"orient",r[5])},i:ce,o:ce,d(r){r&&Z(t),s&&s.d()}}}function oh(e,t,n){let{id:i}=t,{type:o}=t,{width:l=12.5}=t,{height:s=12.5}=t,{markerUnits:r="strokeWidth"}=t,{orient:u="auto-start-reverse"}=t,{color:a=void 0}=t,{strokeWidth:c=void 0}=t;return e.$$set=d=>{"id"in d&&n(0,i=d.id),"type"in d&&n(1,o=d.type),"width"in d&&n(2,l=d.width),"height"in d&&n(3,s=d.height),"markerUnits"in d&&n(4,r=d.markerUnits),"orient"in d&&n(5,u=d.orient),"color"in d&&n(6,a=d.color),"strokeWidth"in d&&n(7,c=d.strokeWidth)},[i,o,l,s,r,u,a,c]}class lh extends se{constructor(t){super(),re(this,t,oh,ih,ae,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Wo(e,t,n){const i=e.slice();return i[10]=t[n],i}function Bo(e,t){let n,i,o;return i=new Ud({props:{id:t[10].id,source:t[10].source,target:t[10].target,data:t[10].data,style:t[10].style,animated:t[10].animated,selected:t[10].selected,selectable:t[10].selectable,hidden:t[10].hidden,label:t[10].label,labelStyle:t[10].labelStyle,markerStart:t[10].markerStart,markerEnd:t[10].markerEnd,sourceHandle:t[10].sourceHandle,targetHandle:t[10].targetHandle,sourceX:t[10].sourceX,sourceY:t[10].sourceY,targetX:t[10].targetX,targetY:t[10].targetY,sourcePosition:t[10].sourcePosition,targetPosition:t[10].targetPosition,ariaLabel:t[10].ariaLabel,interactionWidth:t[10].interactionWidth,class:t[10].class,type:t[10].type||"default",zIndex:t[10].zIndex}}),i.$on("edgeclick",t[5]),i.$on("edgecontextmenu",t[6]),{key:e,first:null,c(){n=De(),ne(i.$$.fragment),this.first=n},m(l,s){p(l,n,s),ee(i,l,s),o=!0},p(l,s){t=l;const r={};s&1&&(r.id=t[10].id),s&1&&(r.source=t[10].source),s&1&&(r.target=t[10].target),s&1&&(r.data=t[10].data),s&1&&(r.style=t[10].style),s&1&&(r.animated=t[10].animated),s&1&&(r.selected=t[10].selected),s&1&&(r.selectable=t[10].selectable),s&1&&(r.hidden=t[10].hidden),s&1&&(r.label=t[10].label),s&1&&(r.labelStyle=t[10].labelStyle),s&1&&(r.markerStart=t[10].markerStart),s&1&&(r.markerEnd=t[10].markerEnd),s&1&&(r.sourceHandle=t[10].sourceHandle),s&1&&(r.targetHandle=t[10].targetHandle),s&1&&(r.sourceX=t[10].sourceX),s&1&&(r.sourceY=t[10].sourceY),s&1&&(r.targetX=t[10].targetX),s&1&&(r.targetY=t[10].targetY),s&1&&(r.sourcePosition=t[10].sourcePosition),s&1&&(r.targetPosition=t[10].targetPosition),s&1&&(r.ariaLabel=t[10].ariaLabel),s&1&&(r.interactionWidth=t[10].interactionWidth),s&1&&(r.class=t[10].class),s&1&&(r.type=t[10].type||"default"),s&1&&(r.zIndex=t[10].zIndex),i.$set(r)},i(l){o||(X(i.$$.fragment,l),o=!0)},o(l){R(i.$$.fragment,l),o=!1},d(l){l&&Z(n),te(i,l)}}}function Ko(e){let t,n;return t=new jd({props:{onMount:e[7],onDestroy:e[8]}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,o){const l={};o&2&&(l.onMount=i[7]),o&2&&(l.onDestroy=i[8]),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function rh(e){let t,n,i,o,l=[],s=new Map,r,u;i=new eh({});let a=yt(e[0]);const c=f=>f[10].id;for(let f=0;f<a.length;f+=1){let h=Wo(e,a,f),m=c(h);s.set(m,l[f]=Bo(m,h))}let d=e[0].length>0&&Ko(e);return{c(){t=Ee("div"),n=ge("svg"),ne(i.$$.fragment),o=be();for(let f=0;f<l.length;f+=1)l[f].c();r=be(),d&&d.c(),k(n,"class","svelte-flow__marker"),k(t,"class","svelte-flow__edges")},m(f,h){p(f,t,h),Se(t,n),ee(i,n,null),Se(t,o);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(t,null);Se(t,r),d&&d.m(t,null),u=!0},p(f,[h]){h&1&&(a=yt(f[0]),ze(),l=Qn(l,h,c,1,f,a,s,t,Jn,Bo,r,Wo),Ce()),f[0].length>0?d?(d.p(f,h),h&1&&X(d,1)):(d=Ko(f),d.c(),X(d,1),d.m(t,null)):d&&(ze(),R(d,1,1,()=>{d=null}),Ce())},i(f){if(!u){X(i.$$.fragment,f);for(let h=0;h<a.length;h+=1)X(l[h]);X(d),u=!0}},o(f){R(i.$$.fragment,f);for(let h=0;h<l.length;h+=1)R(l[h]);R(d),u=!1},d(f){f&&Z(t),te(i);for(let h=0;h<l.length;h+=1)l[h].d();d&&d.d()}}}function sh(e,t,n){let i,o,{defaultEdgeOptions:l}=t;const{visibleEdges:s,edgesInitialized:r,edges:{setDefaultOptions:u}}=Pe();U(e,s,h=>n(0,i=h)),U(e,r,h=>n(1,o=h)),Gn(()=>{l&&u(l)});function a(h){me.call(this,e,h)}function c(h){me.call(this,e,h)}const d=()=>{wi(r,o=!0,o)},f=()=>{wi(r,o=!1,o)};return e.$$set=h=>{"defaultEdgeOptions"in h&&n(4,l=h.defaultEdgeOptions)},[i,o,s,r,l,a,c,d,f]}class uh extends se{constructor(t){super(),re(this,t,sh,rh,ae,{defaultEdgeOptions:4})}}const ah=uh;function Fo(e){let t;return{c(){t=Ee("div"),k(t,"class","svelte-flow__selection svelte-1iugwpu"),oe(t,"width",typeof e[2]=="string"?e[2]:`${e[2]}px`),oe(t,"height",typeof e[3]=="string"?e[3]:`${e[3]}px`),oe(t,"transform",`translate(${e[0]}px, ${e[1]}px)`)},m(n,i){p(n,t,i)},p(n,i){i&4&&oe(t,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&oe(t,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&oe(t,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&Z(t)}}}function ch(e){let t,n=e[4]&&Fo(e);return{c(){n&&n.c(),t=De()},m(i,o){n&&n.m(i,o),p(i,t,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Fo(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ce,o:ce,d(i){i&&Z(t),n&&n.d(i)}}}function fh(e,t,n){let{x:i=0}=t,{y:o=0}=t,{width:l=0}=t,{height:s=0}=t,{isVisible:r=!0}=t;return e.$$set=u=>{"x"in u&&n(0,i=u.x),"y"in u&&n(1,o=u.y),"width"in u&&n(2,l=u.width),"height"in u&&n(3,s=u.height),"isVisible"in u&&n(4,r=u.isVisible)},[i,o,l,s,r]}class dh extends se{constructor(t){super(),re(this,t,fh,ch,ae,{x:0,y:1,width:2,height:3,isVisible:4})}}const hr=dh;function hh(e){var i,o,l,s;let t,n;return t=new hr({props:{isVisible:!!(e[0]&&e[1]==="user"),width:(i=e[0])==null?void 0:i.width,height:(o=e[0])==null?void 0:o.height,x:(l=e[0])==null?void 0:l.x,y:(s=e[0])==null?void 0:s.y}}),{c(){ne(t.$$.fragment)},m(r,u){ee(t,r,u),n=!0},p(r,[u]){var c,d,f,h;const a={};u&3&&(a.isVisible=!!(r[0]&&r[1]==="user")),u&1&&(a.width=(c=r[0])==null?void 0:c.width),u&1&&(a.height=(d=r[0])==null?void 0:d.height),u&1&&(a.x=(f=r[0])==null?void 0:f.x),u&1&&(a.y=(h=r[0])==null?void 0:h.y),t.$set(a)},i(r){n||(X(t.$$.fragment,r),n=!0)},o(r){R(t.$$.fragment,r),n=!1},d(r){te(t,r)}}}function gh(e,t,n){let i,o;const{selectionRect:l,selectionRectMode:s}=Pe();return U(e,l,r=>n(0,i=r)),U(e,s,r=>n(1,o=r)),[i,o,l,s]}class mh extends se{constructor(t){super(),re(this,t,gh,hh,ae,{})}}function Zo(e){let t,n,i,o,l;return n=new hr({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){t=Ee("div"),ne(n.$$.fragment),k(t,"class","selection-wrapper nopan svelte-5pxri"),oe(t,"width",e[1].width+"px"),oe(t,"height",e[1].height+"px"),oe(t,"transform","translate("+e[1].x+"px, "+e[1].y+"px)")},m(s,r){p(s,t,r),ee(n,t,null),i=!0,o||(l=[Ie(dr.call(null,t,{disabled:!1,store:e[3]})),ke(t,"contextmenu",e[6]),ke(t,"click",e[7])],o=!0)},p(s,r){(!i||r&2)&&oe(t,"width",s[1].width+"px"),(!i||r&2)&&oe(t,"height",s[1].height+"px"),(!i||r&2)&&oe(t,"transform","translate("+s[1].x+"px, "+s[1].y+"px)")},i(s){i||(X(n.$$.fragment,s),i=!0)},o(s){R(n.$$.fragment,s),i=!1},d(s){s&&Z(t),te(n),o=!1,Ke(l)}}}function yh(e){let t,n,i=e[0]&&e[2]==="nodes"&&Zo(e);return{c(){i&&i.c(),t=De()},m(o,l){i&&i.m(o,l),p(o,t,l),n=!0},p(o,[l]){o[0]&&o[2]==="nodes"?i?(i.p(o,l),l&5&&X(i,1)):(i=Zo(o),i.c(),X(i,1),i.m(t.parentNode,t)):i&&(ze(),R(i,1,1,()=>{i=null}),Ce())},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function _h(e,t,n){let i,o,l,s;const r=Pe(),{selectionRectMode:u,nodes:a}=r;U(e,u,h=>n(2,s=h)),U(e,a,h=>n(8,l=h));const c=Un();function d(h){c("selectioncontextmenu",{nodes:i,event:h})}function f(h){c("selectionclick",{nodes:i,event:h})}return e.$$.update=()=>{e.$$.dirty&256&&n(0,i=l.filter(h=>h.selected)),e.$$.dirty&1&&n(1,o=fn(i))},[i,o,s,r,u,a,d,f,l]}class bh extends se{constructor(t){super(),re(this,t,_h,yh,ae,{})}}function et(e,t){let{enabled:n=!0,trigger:i,type:o="keydown"}=t;function l(s){const r=Array.isArray(i)?i:[i],u={alt:s.altKey,ctrl:s.ctrlKey,shift:s.shiftKey,meta:s.metaKey};for(const a of r){const c={modifier:[],preventDefault:!1,enabled:!0,...a},{modifier:d,key:f,callback:h,preventDefault:m,enabled:y}=c;if(y){if(d.length&&!(Array.isArray(d)?d:[d]).map(v=>typeof v=="string"?[v]:v).some(v=>v.every(C=>u[C])))continue;if(s.key===f){m&&s.preventDefault();const w={node:e,trigger:c,originalEvent:s};e.dispatchEvent(new CustomEvent("shortcut",{detail:w})),h==null||h(w)}}}}return n&&e.addEventListener(o,l),{update:s=>{const{enabled:r=!0,type:u="keydown"}=s;n&&(!r||o!==u)?e.removeEventListener(o,l):!n&&r&&e.addEventListener(u,l),n=r,o=u,i=s.trigger},destroy:()=>{e.removeEventListener(o,l)}}}function wh(e){let t,n,i,o,l,s,r,u,a,c,d,f;return{c:ce,m(h,m){d||(f=[Ie(t=et.call(null,window,{trigger:[{...e[4],enabled:e[4].key!==null,callback:e[15]}],type:"keydown"})),Ie(n=et.call(null,window,{trigger:[{...e[4],enabled:e[4].key!==null,callback:e[16]}],type:"keyup"})),Ie(i=et.call(null,window,{trigger:[{...e[3],enabled:e[3].key!==null,callback:e[17]}],type:"keydown"})),Ie(o=et.call(null,window,{trigger:[{...e[3],enabled:e[3].key!==null,callback:e[18]}],type:"keyup"})),Ie(l=et.call(null,window,{trigger:[{...e[2],enabled:e[2].key!==null,callback:e[19]}],type:"keydown"})),Ie(s=et.call(null,window,{trigger:[{...e[2],enabled:e[2].key!==null,callback:e[20]}],type:"keyup"})),Ie(r=et.call(null,window,{trigger:[{...e[1],enabled:e[1].key!==null,callback:e[21]}],type:"keydown"})),Ie(u=et.call(null,window,{trigger:[{...e[1],enabled:e[1].key!==null,callback:e[22]}],type:"keyup"})),Ie(a=et.call(null,window,{trigger:[{...e[0],enabled:e[0].key!==null,callback:e[23]}],type:"keydown"})),Ie(c=et.call(null,window,{trigger:[{...e[0],enabled:e[0].key!==null,callback:e[24]}],type:"keyup"}))],d=!0)},p(h,[m]){t&&we(t.update)&&m&16&&t.update.call(null,{trigger:[{...h[4],enabled:h[4].key!==null,callback:h[15]}],type:"keydown"}),n&&we(n.update)&&m&16&&n.update.call(null,{trigger:[{...h[4],enabled:h[4].key!==null,callback:h[16]}],type:"keyup"}),i&&we(i.update)&&m&8&&i.update.call(null,{trigger:[{...h[3],enabled:h[3].key!==null,callback:h[17]}],type:"keydown"}),o&&we(o.update)&&m&8&&o.update.call(null,{trigger:[{...h[3],enabled:h[3].key!==null,callback:h[18]}],type:"keyup"}),l&&we(l.update)&&m&4&&l.update.call(null,{trigger:[{...h[2],enabled:h[2].key!==null,callback:h[19]}],type:"keydown"}),s&&we(s.update)&&m&4&&s.update.call(null,{trigger:[{...h[2],enabled:h[2].key!==null,callback:h[20]}],type:"keyup"}),r&&we(r.update)&&m&2&&r.update.call(null,{trigger:[{...h[1],enabled:h[1].key!==null,callback:h[21]}],type:"keydown"}),u&&we(u.update)&&m&2&&u.update.call(null,{trigger:[{...h[1],enabled:h[1].key!==null,callback:h[22]}],type:"keyup"}),a&&we(a.update)&&m&1&&a.update.call(null,{trigger:[{...h[0],enabled:h[0].key!==null,callback:h[23]}],type:"keydown"}),c&&we(c.update)&&m&1&&c.update.call(null,{trigger:[{...h[0],enabled:h[0].key!==null,callback:h[24]}],type:"keyup"})},i:ce,o:ce,d(h){d=!1,Ke(f)}}}function gr(e){return e!==null&&typeof e=="object"}function Ut(e){return gr(e)?e.modifier||[]:[]}function Jt(e){return e==null?"":gr(e)?e.key:e}function kh(e,t,n){let i,o,l,s,r,{selectionKey:u="Shift"}=t,{multiSelectionKey:a=Bn()?"Meta":"Control"}=t,{deleteKey:c="Backspace"}=t,{panActivationKey:d=" "}=t,{zoomActivationKey:f=Bn()?"Meta":"Control"}=t;const{selectionKeyPressed:h,multiselectionKeyPressed:m,deleteKeyPressed:y,panActivationKeyPressed:w,zoomActivationKeyPressed:g}=Pe(),v=()=>h.set(!0),C=()=>h.set(!1),S=()=>m.set(!0),P=()=>m.set(!1),I=W=>{!(W.originalEvent.ctrlKey||W.originalEvent.metaKey||W.originalEvent.shiftKey)&&!Kc(W.originalEvent)&&y.set(!0)},H=()=>y.set(!1),O=()=>w.set(!0),T=()=>w.set(!1),_=()=>g.set(!0),Y=()=>g.set(!1);return e.$$set=W=>{"selectionKey"in W&&n(10,u=W.selectionKey),"multiSelectionKey"in W&&n(11,a=W.multiSelectionKey),"deleteKey"in W&&n(12,c=W.deleteKey),"panActivationKey"in W&&n(13,d=W.panActivationKey),"zoomActivationKey"in W&&n(14,f=W.zoomActivationKey)},e.$$.update=()=>{e.$$.dirty&1024&&n(4,i={key:Jt(u),modifier:Ut(u)}),e.$$.dirty&2048&&n(3,o={key:Jt(a),modifier:Ut(a)}),e.$$.dirty&4096&&n(2,l={key:Jt(c),modifier:Ut(c)}),e.$$.dirty&8192&&n(1,s={key:Jt(d),modifier:Ut(d)}),e.$$.dirty&16384&&n(0,r={key:Jt(f),modifier:Ut(f)})},[r,s,l,o,i,h,m,y,w,g,u,a,c,d,f,v,C,S,P,I,H,O,T,_,Y]}class vh extends se{constructor(t){super(),re(this,t,kh,wh,ae,{selectionKey:10,multiSelectionKey:11,deleteKey:12,panActivationKey:13,zoomActivationKey:14})}}const Sh=vh,Eh=e=>({}),qo=e=>({});function po(e){let t,n,i,o;const l=e[10].connectionLine,s=Ve(l,e,e[9],qo);let r=!e[2]&&Go(e);return{c(){t=ge("svg"),n=ge("g"),s&&s.c(),r&&r.c(),k(n,"class",i=ye(["svelte-flow__connection",e[3].status])),k(t,"width",e[4]),k(t,"height",e[5]),k(t,"class","svelte-flow__connectionline"),k(t,"style",e[0])},m(u,a){p(u,t,a),Se(t,n),s&&s.m(n,null),r&&r.m(n,null),o=!0},p(u,a){s&&s.p&&(!o||a&512)&&We(s,l,u,u[9],o?Le(l,u[9],a,Eh):Be(u[9]),qo),u[2]?r&&(r.d(1),r=null):r?r.p(u,a):(r=Go(u),r.c(),r.m(n,null)),(!o||a&8&&i!==(i=ye(["svelte-flow__connection",u[3].status])))&&k(n,"class",i),(!o||a&16)&&k(t,"width",u[4]),(!o||a&32)&&k(t,"height",u[5]),(!o||a&1)&&k(t,"style",u[0])},i(u){o||(X(s,u),o=!0)},o(u){R(s,u),o=!1},d(u){u&&Z(t),s&&s.d(u),r&&r.d()}}}function Go(e){let t,n;return{c(){t=ge("path"),k(t,"d",n=e[3].path),k(t,"style",e[1]),k(t,"fill","none"),k(t,"class","svelte-flow__connection-path")},m(i,o){p(i,t,o)},p(i,o){o&8&&n!==(n=i[3].path)&&k(t,"d",n),o&2&&k(t,"style",i[1])},d(i){i&&Z(t)}}}function Mh(e){let t,n,i=e[3].path&&po(e);return{c(){i&&i.c(),t=De()},m(o,l){i&&i.m(o,l),p(o,t,l),n=!0},p(o,[l]){o[3].path?i?(i.p(o,l),l&8&&X(i,1)):(i=po(o),i.c(),X(i,1),i.m(t.parentNode,t)):i&&(ze(),R(i,1,1,()=>{i=null}),Ce())},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function zh(e,t,n){let i,o,l,{$$slots:s={},$$scope:r}=t,{containerStyle:u=""}=t,{style:a=""}=t,{isCustomComponent:c=!1}=t;const{width:d,height:f,connection:h}=Pe();return U(e,d,m=>n(4,o=m)),U(e,f,m=>n(5,l=m)),U(e,h,m=>n(3,i=m)),e.$$set=m=>{"containerStyle"in m&&n(0,u=m.containerStyle),"style"in m&&n(1,a=m.style),"isCustomComponent"in m&&n(2,c=m.isCustomComponent),"$$scope"in m&&n(9,r=m.$$scope)},[u,a,c,i,o,l,d,f,h,r,s]}class Ch extends se{constructor(t){super(),re(this,t,zh,Mh,ae,{containerStyle:0,style:1,isCustomComponent:2})}}const Ph=Ch;function Ah(e){let t,n,i;const o=e[6].default,l=Ve(o,e,e[5],null);let s=[{class:n=ye(["svelte-flow__panel",e[1],...e[2]])},{style:e[0]},e[3]],r={};for(let u=0;u<s.length;u+=1)r=He(r,s[u]);return{c(){t=Ee("div"),l&&l.c(),Rt(t,r)},m(u,a){p(u,t,a),l&&l.m(t,null),i=!0},p(u,[a]){l&&l.p&&(!i||a&32)&&We(l,o,u,u[5],i?Le(o,u[5],a,null):Be(u[5]),null),Rt(t,r=ft(s,[(!i||a&6&&n!==(n=ye(["svelte-flow__panel",u[1],...u[2]])))&&{class:n},(!i||a&1)&&{style:u[0]},a&8&&u[3]]))},i(u){i||(X(l,u),i=!0)},o(u){R(l,u),i=!1},d(u){u&&Z(t),l&&l.d(u)}}}function Nh(e,t,n){let i;const o=["position","style","class"];let l=Yt(t,o),{$$slots:s={},$$scope:r}=t,{position:u="top-right"}=t,{style:a=void 0}=t,{class:c=void 0}=t;return e.$$set=d=>{t=He(He({},t),Oi(d)),n(3,l=Yt(t,o)),"position"in d&&n(4,u=d.position),"style"in d&&n(0,a=d.style),"class"in d&&n(1,c=d.class),"$$scope"in d&&n(5,r=d.$$scope)},e.$$.update=()=>{e.$$.dirty&16&&n(2,i=`${u}`.split("-"))},[a,c,i,l,u,r,s]}class Hh extends se{constructor(t){super(),re(this,t,Nh,Ah,ae,{position:4,style:0,class:1})}}const Fi=Hh;function Uo(e){let t,n;return t=new Fi({props:{position:e[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[Oh]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,o){const l={};o&2&&(l.position=i[1]),o&4&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function Oh(e){let t;return{c(){t=Ee("a"),t.textContent="Svelte Flow",k(t,"href","https://svelteflow.dev"),k(t,"target","_blank"),k(t,"rel","noopener noreferrer"),k(t,"aria-label","Svelte Flow attribution")},m(n,i){p(n,t,i)},p:ce,d(n){n&&Z(t)}}}function Th(e){var o;let t,n,i=!((o=e[0])!=null&&o.hideAttribution)&&Uo(e);return{c(){i&&i.c(),t=De()},m(l,s){i&&i.m(l,s),p(l,t,s),n=!0},p(l,[s]){var r;(r=l[0])!=null&&r.hideAttribution?i&&(ze(),R(i,1,1,()=>{i=null}),Ce()):i?(i.p(l,s),s&1&&X(i,1)):(i=Uo(l),i.c(),X(i,1),i.m(t.parentNode,t))},i(l){n||(X(i),n=!0)},o(l){R(i),n=!1},d(l){l&&Z(t),i&&i.d(l)}}}function Ih(e,t,n){let{proOptions:i=void 0}=t,{position:o="bottom-right"}=t;return e.$$set=l=>{"proOptions"in l&&n(0,i=l.proOptions),"position"in l&&n(1,o=l.position)},[i,o]}class Dh extends se{constructor(t){super(),re(this,t,Ih,Th,ae,{proOptions:0,position:1})}}const Xh=Dh;function Jo(e,{nodeTypes:t,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:l}){t!==void 0&&e.setNodeTypes(t),n!==void 0&&e.setEdgeTypes(n),i!==void 0&&e.setMinZoom(i),o!==void 0&&e.setMaxZoom(o),l!==void 0&&e.setTranslateExtent(l)}const Yh=e=>Object.keys(e);function Rh(e,t){Yh(t).forEach(n=>{const i=t[n];i!==void 0&&e[n].set(i)})}function Vh(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Lh(e="light"){return Ue("light",n=>{if(e!=="system"){n(e);return}const i=Vh(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const Wh=e=>({}),Qo=e=>({slot:"connectionLine"});function Bh(e){let t;const n=e[70].connectionLine,i=Ve(n,e,e[89],Qo);return{c(){i&&i.c()},m(o,l){i&&i.m(o,l),t=!0},p(o,l){i&&i.p&&(!t||l[2]&134217728)&&We(i,n,o,o[89],t?Le(n,o[89],l,Wh):Be(o[89]),Qo)},i(o){t||(X(i,o),t=!0)},o(o){R(i,o),t=!1},d(o){i&&i.d(o)}}}function Kh(e){let t,n,i,o,l,s,r,u,a,c,d,f;return t=new ah({props:{defaultEdgeOptions:e[21]}}),t.$on("edgeclick",e[73]),t.$on("edgecontextmenu",e[74]),i=new Ph({props:{containerStyle:e[7],style:e[6],isCustomComponent:e[31].connectionLine,$$slots:{connectionLine:[Bh]},$$scope:{ctx:e}}}),a=new Zd({}),a.$on("nodeclick",e[75]),a.$on("nodemouseenter",e[76]),a.$on("nodemousemove",e[77]),a.$on("nodemouseleave",e[78]),a.$on("nodedragstart",e[79]),a.$on("nodedrag",e[80]),a.$on("nodedragstop",e[81]),a.$on("nodecontextmenu",e[82]),d=new bh({}),d.$on("selectionclick",e[83]),d.$on("selectioncontextmenu",e[84]),{c(){ne(t.$$.fragment),n=be(),ne(i.$$.fragment),o=be(),l=Ee("div"),s=be(),r=Ee("div"),u=be(),ne(a.$$.fragment),c=be(),ne(d.$$.fragment),k(l,"class","svelte-flow__edgelabel-renderer"),k(r,"class","svelte-flow__viewport-portal")},m(h,m){ee(t,h,m),p(h,n,m),ee(i,h,m),p(h,o,m),p(h,l,m),p(h,s,m),p(h,r,m),p(h,u,m),ee(a,h,m),p(h,c,m),ee(d,h,m),f=!0},p(h,m){const y={};m[0]&2097152&&(y.defaultEdgeOptions=h[21]),t.$set(y);const w={};m[0]&128&&(w.containerStyle=h[7]),m[0]&64&&(w.style=h[6]),m[1]&1&&(w.isCustomComponent=h[31].connectionLine),m[2]&134217728&&(w.$$scope={dirty:m,ctx:h}),i.$set(w)},i(h){f||(X(t.$$.fragment,h),X(i.$$.fragment,h),X(a.$$.fragment,h),X(d.$$.fragment,h),f=!0)},o(h){R(t.$$.fragment,h),R(i.$$.fragment,h),R(a.$$.fragment,h),R(d.$$.fragment,h),f=!1},d(h){h&&(Z(n),Z(o),Z(l),Z(s),Z(r),Z(u),Z(c)),te(t,h),te(i,h),te(a,h),te(d,h)}}}function Fh(e){let t,n,i,o;return t=new Xd({props:{$$slots:{default:[Kh]},$$scope:{ctx:e}}}),i=new mh({}),{c(){ne(t.$$.fragment),n=be(),ne(i.$$.fragment)},m(l,s){ee(t,l,s),p(l,n,s),ee(i,l,s),o=!0},p(l,s){const r={};s[0]&2097344|s[1]&1|s[2]&134217728&&(r.$$scope={dirty:s,ctx:l}),t.$set(r)},i(l){o||(X(t.$$.fragment,l),X(i.$$.fragment,l),o=!0)},o(l){R(t.$$.fragment,l),R(i.$$.fragment,l),o=!1},d(l){l&&Z(n),te(t,l),te(i,l)}}}function Zh(e){let t,n;return t=new Td({props:{panOnDrag:e[17]===void 0?!0:e[17],selectionOnDrag:e[18],$$slots:{default:[Fh]},$$scope:{ctx:e}}}),t.$on("paneclick",e[85]),t.$on("panecontextmenu",e[86]),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,o){const l={};o[0]&131072&&(l.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(l.selectionOnDrag=i[18]),o[0]&2097344|o[1]&1|o[2]&134217728&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function qh(e){let t,n,i,o,l,s,r,u,a,c,d,f;n=new Sh({props:{selectionKey:e[1],deleteKey:e[5],panActivationKey:e[2],multiSelectionKey:e[3],zoomActivationKey:e[4]}}),o=new Ad({props:{initialViewport:e[0],onMoveStart:e[8],onMove:e[9],onMoveEnd:e[10],panOnScrollMode:e[11]===void 0?nt.Free:e[11],preventScrolling:e[12]===void 0?!0:e[12],zoomOnScroll:e[13]===void 0?!0:e[13],zoomOnDoubleClick:e[14]===void 0?!0:e[14],zoomOnPinch:e[15]===void 0?!0:e[15],panOnScroll:e[16]===void 0?!1:e[16],panOnDrag:e[17]===void 0?!0:e[17],$$slots:{default:[Zh]},$$scope:{ctx:e}}}),s=new Xh({props:{proOptions:e[20],position:e[19]}});const h=e[70].default,m=Ve(h,e,e[89],null);let y=[{style:e[22]},{class:u=ye(["svelte-flow",e[23],e[28]])},{"data-testid":"svelte-flow__wrapper"},e[30],{role:"application"}],w={};for(let g=0;g<y.length;g+=1)w=He(w,y[g]);return{c(){t=Ee("div"),ne(n.$$.fragment),i=be(),ne(o.$$.fragment),l=be(),ne(s.$$.fragment),r=be(),m&&m.c(),Rt(t,w),On(()=>e[88].call(t)),ue(t,"svelte-12wlba6",!0)},m(g,v){p(g,t,v),ee(n,t,null),Se(t,i),ee(o,t,null),Se(t,l),ee(s,t,null),Se(t,r),m&&m.m(t,null),e[87](t),a=Br(t,e[88].bind(t)),c=!0,d||(f=[ke(t,"dragover",e[71]),ke(t,"drop",e[72])],d=!0)},p(g,v){const C={};v[0]&2&&(C.selectionKey=g[1]),v[0]&32&&(C.deleteKey=g[5]),v[0]&4&&(C.panActivationKey=g[2]),v[0]&8&&(C.multiSelectionKey=g[3]),v[0]&16&&(C.zoomActivationKey=g[4]),n.$set(C);const S={};v[0]&1&&(S.initialViewport=g[0]),v[0]&256&&(S.onMoveStart=g[8]),v[0]&512&&(S.onMove=g[9]),v[0]&1024&&(S.onMoveEnd=g[10]),v[0]&2048&&(S.panOnScrollMode=g[11]===void 0?nt.Free:g[11]),v[0]&4096&&(S.preventScrolling=g[12]===void 0?!0:g[12]),v[0]&8192&&(S.zoomOnScroll=g[13]===void 0?!0:g[13]),v[0]&16384&&(S.zoomOnDoubleClick=g[14]===void 0?!0:g[14]),v[0]&32768&&(S.zoomOnPinch=g[15]===void 0?!0:g[15]),v[0]&65536&&(S.panOnScroll=g[16]===void 0?!1:g[16]),v[0]&131072&&(S.panOnDrag=g[17]===void 0?!0:g[17]),v[0]&2490560|v[1]&1|v[2]&134217728&&(S.$$scope={dirty:v,ctx:g}),o.$set(S);const P={};v[0]&1048576&&(P.proOptions=g[20]),v[0]&524288&&(P.position=g[19]),s.$set(P),m&&m.p&&(!c||v[2]&134217728)&&We(m,h,g,g[89],c?Le(h,g[89],v,null):Be(g[89]),null),Rt(t,w=ft(y,[(!c||v[0]&4194304)&&{style:g[22]},(!c||v[0]&276824064&&u!==(u=ye(["svelte-flow",g[23],g[28]])))&&{class:u},{"data-testid":"svelte-flow__wrapper"},v[0]&1073741824&&g[30],{role:"application"}])),ue(t,"svelte-12wlba6",!0)},i(g){c||(X(n.$$.fragment,g),X(o.$$.fragment,g),X(s.$$.fragment,g),X(m,g),c=!0)},o(g){R(n.$$.fragment,g),R(o.$$.fragment,g),R(s.$$.fragment,g),R(m,g),c=!1},d(g){g&&Z(t),te(n),te(o),te(s),m&&m.d(g),e[87](null),a(),d=!1,Ke(f)}}}function ph(e,t,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let l=Yt(t,o),s,r,u=ce,a=()=>(u(),u=pn(i,M=>n(28,r=M)),i);e.$$.on_destroy.push(()=>u());let{$$slots:c={},$$scope:d}=t;const f=Yr(c);let{id:h="1"}=t,{nodes:m}=t,{edges:y}=t,{fitView:w=void 0}=t,{fitViewOptions:g=void 0}=t,{minZoom:v=void 0}=t,{maxZoom:C=void 0}=t,{initialViewport:S={x:0,y:0,zoom:1}}=t,{viewport:P=void 0}=t,{nodeTypes:I=void 0}=t,{edgeTypes:H=void 0}=t,{selectionKey:O=void 0}=t,{selectionMode:T=void 0}=t,{panActivationKey:_=void 0}=t,{multiSelectionKey:Y=void 0}=t,{zoomActivationKey:W=void 0}=t,{nodesDraggable:N=void 0}=t,{nodesConnectable:b=void 0}=t,{nodeDragThreshold:A=void 0}=t,{elementsSelectable:E=void 0}=t,{snapGrid:D=void 0}=t,{deleteKey:V=void 0}=t,{connectionRadius:B=void 0}=t,{connectionLineType:F=void 0}=t,{connectionMode:G=vt.Strict}=t,{connectionLineStyle:z=""}=t,{connectionLineContainerStyle:ie=""}=t,{onMoveStart:$=void 0}=t,{onMove:le=void 0}=t,{onMoveEnd:q=void 0}=t,{isValidConnection:fe=void 0}=t,{translateExtent:he=void 0}=t,{onlyRenderVisibleElements:L=void 0}=t,{panOnScrollMode:Me=nt.Free}=t,{preventScrolling:Ae=!0}=t,{zoomOnScroll:Oe=!0}=t,{zoomOnDoubleClick:Ne=!0}=t,{zoomOnPinch:qe=!0}=t,{panOnScroll:_e=!1}=t,{panOnDrag:ot=!0}=t,{selectionOnDrag:lt=void 0}=t,{autoPanOnConnect:xe=!0}=t,{autoPanOnNodeDrag:$e=!0}=t,{onerror:j=void 0}=t,{ondelete:ht=void 0}=t,{onedgecreate:gt=void 0}=t,{attributionPosition:K=void 0}=t,{proOptions:pe=void 0}=t,{defaultEdgeOptions:Xe=void 0}=t,{width:J=void 0}=t,{height:rt=void 0}=t,{colorMode:Ye="light"}=t,{onconnect:Fe=void 0}=t,{onconnectstart:Et=void 0}=t,{onconnectend:Mt=void 0}=t,{onbeforedelete:zt=void 0}=t,{oninit:qt=void 0}=t,{defaultMarkerColor:oi="#b1b1b7"}=t,{style:Zi=void 0}=t,{class:qi=void 0}=t,hn,Ct,Pt;const Te=Fr(Ki)?Pe():Ed({nodes:Q(m),edges:Q(y),width:J,height:rt,fitView:w});Gn(()=>(Te.width.set(Ct),Te.height.set(Pt),Te.domNode.set(hn),Te.syncNodeStores(m),Te.syncEdgeStores(y),Te.syncViewport(P),w!==void 0&&Te.fitViewOnInit.set(w),g&&Te.fitViewOptions.set(g),Jo(Te,{nodeTypes:I,edgeTypes:H,minZoom:v,maxZoom:C,translateExtent:he}),()=>{Te.reset()}));const{initialized:pi}=Te;U(e,pi,M=>n(69,s=M));let li=!1;function mr(M){me.call(this,e,M)}function yr(M){me.call(this,e,M)}function _r(M){me.call(this,e,M)}function br(M){me.call(this,e,M)}function wr(M){me.call(this,e,M)}function kr(M){me.call(this,e,M)}function vr(M){me.call(this,e,M)}function Sr(M){me.call(this,e,M)}function Er(M){me.call(this,e,M)}function Mr(M){me.call(this,e,M)}function zr(M){me.call(this,e,M)}function Cr(M){me.call(this,e,M)}function Pr(M){me.call(this,e,M)}function Ar(M){me.call(this,e,M)}function Nr(M){me.call(this,e,M)}function Hr(M){me.call(this,e,M)}function Or(M){en[M?"unshift":"push"](()=>{hn=M,n(26,hn)})}function Tr(){Ct=this.clientWidth,Pt=this.clientHeight,n(24,Ct),n(25,Pt)}return e.$$set=M=>{t=He(He({},t),Oi(M)),n(30,l=Yt(t,o)),"id"in M&&n(32,h=M.id),"nodes"in M&&n(33,m=M.nodes),"edges"in M&&n(34,y=M.edges),"fitView"in M&&n(35,w=M.fitView),"fitViewOptions"in M&&n(36,g=M.fitViewOptions),"minZoom"in M&&n(37,v=M.minZoom),"maxZoom"in M&&n(38,C=M.maxZoom),"initialViewport"in M&&n(0,S=M.initialViewport),"viewport"in M&&n(39,P=M.viewport),"nodeTypes"in M&&n(40,I=M.nodeTypes),"edgeTypes"in M&&n(41,H=M.edgeTypes),"selectionKey"in M&&n(1,O=M.selectionKey),"selectionMode"in M&&n(42,T=M.selectionMode),"panActivationKey"in M&&n(2,_=M.panActivationKey),"multiSelectionKey"in M&&n(3,Y=M.multiSelectionKey),"zoomActivationKey"in M&&n(4,W=M.zoomActivationKey),"nodesDraggable"in M&&n(43,N=M.nodesDraggable),"nodesConnectable"in M&&n(44,b=M.nodesConnectable),"nodeDragThreshold"in M&&n(45,A=M.nodeDragThreshold),"elementsSelectable"in M&&n(46,E=M.elementsSelectable),"snapGrid"in M&&n(47,D=M.snapGrid),"deleteKey"in M&&n(5,V=M.deleteKey),"connectionRadius"in M&&n(48,B=M.connectionRadius),"connectionLineType"in M&&n(49,F=M.connectionLineType),"connectionMode"in M&&n(50,G=M.connectionMode),"connectionLineStyle"in M&&n(6,z=M.connectionLineStyle),"connectionLineContainerStyle"in M&&n(7,ie=M.connectionLineContainerStyle),"onMoveStart"in M&&n(8,$=M.onMoveStart),"onMove"in M&&n(9,le=M.onMove),"onMoveEnd"in M&&n(10,q=M.onMoveEnd),"isValidConnection"in M&&n(51,fe=M.isValidConnection),"translateExtent"in M&&n(52,he=M.translateExtent),"onlyRenderVisibleElements"in M&&n(53,L=M.onlyRenderVisibleElements),"panOnScrollMode"in M&&n(11,Me=M.panOnScrollMode),"preventScrolling"in M&&n(12,Ae=M.preventScrolling),"zoomOnScroll"in M&&n(13,Oe=M.zoomOnScroll),"zoomOnDoubleClick"in M&&n(14,Ne=M.zoomOnDoubleClick),"zoomOnPinch"in M&&n(15,qe=M.zoomOnPinch),"panOnScroll"in M&&n(16,_e=M.panOnScroll),"panOnDrag"in M&&n(17,ot=M.panOnDrag),"selectionOnDrag"in M&&n(18,lt=M.selectionOnDrag),"autoPanOnConnect"in M&&n(54,xe=M.autoPanOnConnect),"autoPanOnNodeDrag"in M&&n(55,$e=M.autoPanOnNodeDrag),"onerror"in M&&n(56,j=M.onerror),"ondelete"in M&&n(57,ht=M.ondelete),"onedgecreate"in M&&n(58,gt=M.onedgecreate),"attributionPosition"in M&&n(19,K=M.attributionPosition),"proOptions"in M&&n(20,pe=M.proOptions),"defaultEdgeOptions"in M&&n(21,Xe=M.defaultEdgeOptions),"width"in M&&n(59,J=M.width),"height"in M&&n(60,rt=M.height),"colorMode"in M&&n(61,Ye=M.colorMode),"onconnect"in M&&n(62,Fe=M.onconnect),"onconnectstart"in M&&n(63,Et=M.onconnectstart),"onconnectend"in M&&n(64,Mt=M.onconnectend),"onbeforedelete"in M&&n(65,zt=M.onbeforedelete),"oninit"in M&&n(66,qt=M.oninit),"defaultMarkerColor"in M&&n(67,oi=M.defaultMarkerColor),"style"in M&&n(22,Zi=M.style),"class"in M&&n(23,qi=M.class),"$$scope"in M&&n(89,d=M.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&50331648&&Ct!==void 0&&Pt!==void 0&&(Te.width.set(Ct),Te.height.set(Pt)),e.$$.dirty[2]&208&&!li&&s&&(qt==null||qt(),n(68,li=!0)),e.$$.dirty[1]&266336258|e.$$.dirty[2]&47&&Rh(Te,{flowId:h,connectionLineType:F,connectionRadius:B,selectionMode:T,snapGrid:D,defaultMarkerColor:oi,nodesDraggable:N,nodesConnectable:b,elementsSelectable:E,onlyRenderVisibleElements:L,isValidConnection:fe,autoPanOnConnect:xe,autoPanOnNodeDrag:$e,onerror:j,ondelete:ht,onedgecreate:gt,connectionMode:G,nodeDragThreshold:A,onconnect:Fe,onconnectstart:Et,onconnectend:Mt,onbeforedelete:zt}),e.$$.dirty[1]&2098880&&Jo(Te,{nodeTypes:I,edgeTypes:H,minZoom:v,maxZoom:C,translateExtent:he}),e.$$.dirty[1]&1073741824&&a(n(27,i=Lh(Ye)))},[S,O,_,Y,W,V,z,ie,$,le,q,Me,Ae,Oe,Ne,qe,_e,ot,lt,K,pe,Xe,Zi,qi,Ct,Pt,hn,i,r,pi,l,f,h,m,y,w,g,v,C,P,I,H,T,N,b,A,E,D,B,F,G,fe,he,L,xe,$e,j,ht,gt,J,rt,Ye,Fe,Et,Mt,zt,qt,oi,li,s,c,mr,yr,_r,br,wr,kr,vr,Sr,Er,Mr,zr,Cr,Pr,Ar,Nr,Hr,Or,Tr,d]}class Gh extends se{constructor(t){super(),re(this,t,ph,qh,ae,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1])}}const Uh=Gh,Jh=e=>({}),jo=e=>({class:"button-svg"});function Qh(e){let t,n,i,o,l;const s=e[8].default,r=Ve(s,e,e[7],jo);let u=[{type:"button"},{class:n=ye(["svelte-flow__controls-button",e[0]])},e[6]],a={};for(let c=0;c<u.length;c+=1)a=He(a,u[c]);return{c(){t=Ee("button"),r&&r.c(),Rt(t,a),oe(t,"--xy-controls-button-background-color-props",e[1]),oe(t,"--xy-controls-button-background-color-hover-props",e[2]),oe(t,"--xy-controls-button-color-props",e[3]),oe(t,"--xy-controls-button-color-hover-props",e[4]),oe(t,"--xy-controls-button-border-color-props",e[5])},m(c,d){p(c,t,d),r&&r.m(t,null),t.autofocus&&t.focus(),i=!0,o||(l=ke(t,"click",e[9]),o=!0)},p(c,[d]){r&&r.p&&(!i||d&128)&&We(r,s,c,c[7],i?Le(s,c[7],d,Jh):Be(c[7]),jo),Rt(t,a=ft(u,[{type:"button"},(!i||d&1&&n!==(n=ye(["svelte-flow__controls-button",c[0]])))&&{class:n},d&64&&c[6]])),oe(t,"--xy-controls-button-background-color-props",c[1]),oe(t,"--xy-controls-button-background-color-hover-props",c[2]),oe(t,"--xy-controls-button-color-props",c[3]),oe(t,"--xy-controls-button-color-hover-props",c[4]),oe(t,"--xy-controls-button-border-color-props",c[5])},i(c){i||(X(r,c),i=!0)},o(c){R(r,c),i=!1},d(c){c&&Z(t),r&&r.d(c),o=!1,l()}}}function jh(e,t,n){const i=["class"];let o=Yt(t,i),{$$slots:l={},$$scope:s}=t,{class:r=void 0}=t,u,a,c,d,f;function h(m){me.call(this,e,m)}return e.$$set=m=>{t=He(He({},t),Oi(m)),n(6,o=Yt(t,i)),"class"in m&&n(0,r=m.class),"$$scope"in m&&n(7,s=m.$$scope)},[r,u,a,c,d,f,o,s,l,h]}class qn extends se{constructor(t){super(),re(this,t,jh,Qh,ae,{class:0})}}function xh(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),k(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"viewBox","0 0 32 32")},m(i,o){p(i,t,o),Se(t,n)},p:ce,i:ce,o:ce,d(i){i&&Z(t)}}}class $h extends se{constructor(t){super(),re(this,t,null,xh,ae,{})}}function e0(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),k(n,"d","M0 0h32v4.2H0z"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"viewBox","0 0 32 5")},m(i,o){p(i,t,o),Se(t,n)},p:ce,i:ce,o:ce,d(i){i&&Z(t)}}}class t0 extends se{constructor(t){super(),re(this,t,null,e0,ae,{})}}function n0(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),k(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"viewBox","0 0 32 30")},m(i,o){p(i,t,o),Se(t,n)},p:ce,i:ce,o:ce,d(i){i&&Z(t)}}}class i0 extends se{constructor(t){super(),re(this,t,null,n0,ae,{})}}function o0(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),k(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"viewBox","0 0 25 32")},m(i,o){p(i,t,o),Se(t,n)},p:ce,i:ce,o:ce,d(i){i&&Z(t)}}}class l0 extends se{constructor(t){super(),re(this,t,null,o0,ae,{})}}function r0(e){let t,n;return{c(){t=ge("svg"),n=ge("path"),k(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),k(t,"xmlns","http://www.w3.org/2000/svg"),k(t,"viewBox","0 0 25 32")},m(i,o){p(i,t,o),Se(t,n)},p:ce,i:ce,o:ce,d(i){i&&Z(t)}}}class s0 extends se{constructor(t){super(),re(this,t,null,r0,ae,{})}}const u0=e=>({}),xo=e=>({}),a0=e=>({}),$o=e=>({});function el(e){let t,n,i,o;const l=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:e[6]},e[14]];let s={$$slots:{default:[c0]},$$scope:{ctx:e}};for(let a=0;a<l.length;a+=1)s=He(s,l[a]);t=new qn({props:s}),t.$on("click",e[15]);const r=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:e[7]},e[14]];let u={$$slots:{default:[f0]},$$scope:{ctx:e}};for(let a=0;a<r.length;a+=1)u=He(u,r[a]);return i=new qn({props:u}),i.$on("click",e[16]),{c(){ne(t.$$.fragment),n=be(),ne(i.$$.fragment)},m(a,c){ee(t,a,c),p(a,n,c),ee(i,a,c),o=!0},p(a,c){const d=c[0]&16448?ft(l,[l[0],l[1],l[2],c[0]&64&&{disabled:a[6]},c[0]&16384&&Vt(a[14])]):{};c[1]&1&&(d.$$scope={dirty:c,ctx:a}),t.$set(d);const f=c[0]&16512?ft(r,[r[0],r[1],r[2],c[0]&128&&{disabled:a[7]},c[0]&16384&&Vt(a[14])]):{};c[1]&1&&(f.$$scope={dirty:c,ctx:a}),i.$set(f)},i(a){o||(X(t.$$.fragment,a),X(i.$$.fragment,a),o=!0)},o(a){R(t.$$.fragment,a),R(i.$$.fragment,a),o=!1},d(a){a&&Z(n),te(t,a),te(i,a)}}}function c0(e){let t,n;return t=new $h({}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function f0(e){let t,n;return t=new t0({}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function tl(e){let t,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},e[14]];let o={$$slots:{default:[d0]},$$scope:{ctx:e}};for(let l=0;l<i.length;l+=1)o=He(o,i[l]);return t=new qn({props:o}),t.$on("click",e[17]),{c(){ne(t.$$.fragment)},m(l,s){ee(t,l,s),n=!0},p(l,s){const r=s[0]&16384?ft(i,[i[0],i[1],i[2],Vt(l[14])]):{};s[1]&1&&(r.$$scope={dirty:s,ctx:l}),t.$set(r)},i(l){n||(X(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function d0(e){let t,n;return t=new i0({}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function nl(e){let t,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},e[14]];let o={$$slots:{default:[m0]},$$scope:{ctx:e}};for(let l=0;l<i.length;l+=1)o=He(o,i[l]);return t=new qn({props:o}),t.$on("click",e[18]),{c(){ne(t.$$.fragment)},m(l,s){ee(t,l,s),n=!0},p(l,s){const r=s[0]&16384?ft(i,[i[0],i[1],i[2],Vt(l[14])]):{};s[0]&32|s[1]&1&&(r.$$scope={dirty:s,ctx:l}),t.$set(r)},i(l){n||(X(t.$$.fragment,l),n=!0)},o(l){R(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function h0(e){let t,n;return t=new l0({}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function g0(e){let t,n;return t=new s0({}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function m0(e){let t,n,i,o;const l=[g0,h0],s=[];function r(u,a){return u[5]?0:1}return t=r(e),n=s[t]=l[t](e),{c(){n.c(),i=De()},m(u,a){s[t].m(u,a),p(u,i,a),o=!0},p(u,a){let c=t;t=r(u),t!==c&&(ze(),R(s[c],1,1,()=>{s[c]=null}),Ce(),n=s[t],n||(n=s[t]=l[t](u),n.c()),X(n,1),n.m(i.parentNode,i))},i(u){o||(X(n),o=!0)},o(u){R(n),o=!1},d(u){u&&Z(i),s[t].d(u)}}}function y0(e){let t,n,i,o,l,s;const r=e[30].before,u=Ve(r,e,e[31],$o);let a=e[1]&&el(e),c=e[2]&&tl(e),d=e[3]&&nl(e);const f=e[30].default,h=Ve(f,e,e[31],null),m=e[30].after,y=Ve(m,e,e[31],xo);return{c(){u&&u.c(),t=be(),a&&a.c(),n=be(),c&&c.c(),i=be(),d&&d.c(),o=be(),h&&h.c(),l=be(),y&&y.c()},m(w,g){u&&u.m(w,g),p(w,t,g),a&&a.m(w,g),p(w,n,g),c&&c.m(w,g),p(w,i,g),d&&d.m(w,g),p(w,o,g),h&&h.m(w,g),p(w,l,g),y&&y.m(w,g),s=!0},p(w,g){u&&u.p&&(!s||g[1]&1)&&We(u,r,w,w[31],s?Le(r,w[31],g,a0):Be(w[31]),$o),w[1]?a?(a.p(w,g),g[0]&2&&X(a,1)):(a=el(w),a.c(),X(a,1),a.m(n.parentNode,n)):a&&(ze(),R(a,1,1,()=>{a=null}),Ce()),w[2]?c?(c.p(w,g),g[0]&4&&X(c,1)):(c=tl(w),c.c(),X(c,1),c.m(i.parentNode,i)):c&&(ze(),R(c,1,1,()=>{c=null}),Ce()),w[3]?d?(d.p(w,g),g[0]&8&&X(d,1)):(d=nl(w),d.c(),X(d,1),d.m(o.parentNode,o)):d&&(ze(),R(d,1,1,()=>{d=null}),Ce()),h&&h.p&&(!s||g[1]&1)&&We(h,f,w,w[31],s?Le(f,w[31],g,null):Be(w[31]),null),y&&y.p&&(!s||g[1]&1)&&We(y,m,w,w[31],s?Le(m,w[31],g,u0):Be(w[31]),xo)},i(w){s||(X(u,w),X(a),X(c),X(d),X(h,w),X(y,w),s=!0)},o(w){R(u,w),R(a),R(c),R(d),R(h,w),R(y,w),s=!1},d(w){w&&(Z(t),Z(n),Z(i),Z(o),Z(l)),u&&u.d(w),a&&a.d(w),c&&c.d(w),d&&d.d(w),h&&h.d(w),y&&y.d(w)}}}function _0(e){let t,n;return t=new Fi({props:{class:"svelte-flow__controls",position:e[0],"data-testid":"svelte-flow__controls","aria-label":e[4]??"Svelte Flow controls",$$slots:{default:[y0]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.position=i[0]),o[0]&16&&(l["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&238|o[1]&1&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function b0(e,t,n){let i,o,l,s,r,u,a,c,d,{$$slots:f={},$$scope:h}=t,{position:m="bottom-left"}=t,{showZoom:y=!0}=t,{showFitView:w=!0}=t,{showLock:g=!0}=t,{buttonBgColor:v=void 0}=t,{buttonBgColorHover:C=void 0}=t,{buttonColor:S=void 0}=t,{buttonColorHover:P=void 0}=t,{buttonBorderColor:I=void 0}=t,{ariaLabel:H=void 0}=t;const{zoomIn:O,zoomOut:T,fitView:_,viewport:Y,minZoom:W,maxZoom:N,nodesDraggable:b,nodesConnectable:A,elementsSelectable:E}=Pe();U(e,Y,z=>n(25,r=z)),U(e,W,z=>n(26,u=z)),U(e,N,z=>n(24,s=z)),U(e,b,z=>n(29,d=z)),U(e,A,z=>n(28,c=z)),U(e,E,z=>n(27,a=z));const D={bgColor:v,bgColorHover:C,color:S,colorHover:P,borderColor:I},V=()=>{O()},B=()=>{T()},F=()=>{_()},G=()=>{n(5,i=!i),b.set(i),A.set(i),E.set(i)};return e.$$set=z=>{"position"in z&&n(0,m=z.position),"showZoom"in z&&n(1,y=z.showZoom),"showFitView"in z&&n(2,w=z.showFitView),"showLock"in z&&n(3,g=z.showLock),"buttonBgColor"in z&&n(19,v=z.buttonBgColor),"buttonBgColorHover"in z&&n(20,C=z.buttonBgColorHover),"buttonColor"in z&&n(21,S=z.buttonColor),"buttonColorHover"in z&&n(22,P=z.buttonColorHover),"buttonBorderColor"in z&&n(23,I=z.buttonBorderColor),"ariaLabel"in z&&n(4,H=z.ariaLabel),"$$scope"in z&&n(31,h=z.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&939524096&&n(5,i=d||c||a),e.$$.dirty[0]&100663296&&n(7,o=r.zoom<=u),e.$$.dirty[0]&50331648&&n(6,l=r.zoom>=s)},[m,y,w,g,H,i,l,o,Y,W,N,b,A,E,D,V,B,F,G,v,C,S,P,I,s,r,u,a,c,d,f,h]}class w0 extends se{constructor(t){super(),re(this,t,b0,_0,ae,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:19,buttonBgColorHover:20,buttonColor:21,buttonColorHover:22,buttonBorderColor:23,ariaLabel:4},null,[-1,-1])}}var ct;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(ct||(ct={}));function k0(e){let t,n;return{c(){t=ge("circle"),k(t,"cx",e[0]),k(t,"cy",e[0]),k(t,"r",e[0]),k(t,"class",n=ye(["svelte-flow__background-pattern","dots",e[1]]))},m(i,o){p(i,t,o)},p(i,[o]){o&1&&k(t,"cx",i[0]),o&1&&k(t,"cy",i[0]),o&1&&k(t,"r",i[0]),o&2&&n!==(n=ye(["svelte-flow__background-pattern","dots",i[1]]))&&k(t,"class",n)},i:ce,o:ce,d(i){i&&Z(t)}}}function v0(e,t,n){let{radius:i=5}=t,{class:o=""}=t;return e.$$set=l=>{"radius"in l&&n(0,i=l.radius),"class"in l&&n(1,o=l.class)},[i,o]}class S0 extends se{constructor(t){super(),re(this,t,v0,k0,ae,{radius:0,class:1})}}const E0=S0;function M0(e){let t,n,i;return{c(){t=ge("path"),k(t,"stroke-width",e[0]),k(t,"d",n=`M${e[1][0]/2} 0 V${e[1][1]} M0 ${e[1][1]/2} H${e[1][0]}`),k(t,"class",i=ye(["svelte-flow__background-pattern",e[2],e[3]]))},m(o,l){p(o,t,l)},p(o,[l]){l&1&&k(t,"stroke-width",o[0]),l&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&k(t,"d",n),l&12&&i!==(i=ye(["svelte-flow__background-pattern",o[2],o[3]]))&&k(t,"class",i)},i:ce,o:ce,d(o){o&&Z(t)}}}function z0(e,t,n){let{lineWidth:i=1}=t,{dimensions:o}=t,{variant:l=void 0}=t,{class:s=""}=t;return e.$$set=r=>{"lineWidth"in r&&n(0,i=r.lineWidth),"dimensions"in r&&n(1,o=r.dimensions),"variant"in r&&n(2,l=r.variant),"class"in r&&n(3,s=r.class)},[i,o,l,s]}class C0 extends se{constructor(t){super(),re(this,t,z0,M0,ae,{lineWidth:0,dimensions:1,variant:2,class:3})}}const P0=C0;function A0(e){let t,n;return t=new P0({props:{dimensions:e[6],variant:e[0],lineWidth:e[1],class:e[4]}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,o){const l={};o&64&&(l.dimensions=i[6]),o&1&&(l.variant=i[0]),o&2&&(l.lineWidth=i[1]),o&16&&(l.class=i[4]),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function N0(e){let t,n;return t=new E0({props:{radius:e[7]/2,class:e[4]}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,o){const l={};o&128&&(l.radius=i[7]/2),o&16&&(l.class=i[4]),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}function H0(e){let t,n,i,o,l,s,r,u,a,c,d,f,h;const m=[N0,A0],y=[];function w(g,v){return g[14]?0:1}return i=w(e),o=y[i]=m[i](e),{c(){t=ge("svg"),n=ge("pattern"),o.c(),c=ge("rect"),k(n,"id",e[11]),k(n,"x",l=e[9].x%e[8][0]),k(n,"y",s=e[9].y%e[8][1]),k(n,"width",r=e[8][0]),k(n,"height",u=e[8][1]),k(n,"patternUnits","userSpaceOnUse"),k(n,"patternTransform",a=`translate(-${e[10][0]},-${e[10][1]})`),k(c,"x","0"),k(c,"y","0"),k(c,"width","100%"),k(c,"height","100%"),k(c,"fill",d=`url(#${e[11]})`),k(t,"class",f=Ui(ye(["svelte-flow__background",e[5]]))+" svelte-1r7pe8d"),k(t,"data-testid","svelte-flow__background"),oe(t,"--xy-background-color-props",e[2]),oe(t,"--xy-background-pattern-color-props",e[3])},m(g,v){p(g,t,v),Se(t,n),y[i].m(n,null),Se(t,c),h=!0},p(g,[v]){o.p(g,v),(!h||v&2048)&&k(n,"id",g[11]),(!h||v&768&&l!==(l=g[9].x%g[8][0]))&&k(n,"x",l),(!h||v&768&&s!==(s=g[9].y%g[8][1]))&&k(n,"y",s),(!h||v&256&&r!==(r=g[8][0]))&&k(n,"width",r),(!h||v&256&&u!==(u=g[8][1]))&&k(n,"height",u),(!h||v&1024&&a!==(a=`translate(-${g[10][0]},-${g[10][1]})`))&&k(n,"patternTransform",a),(!h||v&2048&&d!==(d=`url(#${g[11]})`))&&k(c,"fill",d),(!h||v&32&&f!==(f=Ui(ye(["svelte-flow__background",g[5]]))+" svelte-1r7pe8d"))&&k(t,"class",f),v&4&&oe(t,"--xy-background-color-props",g[2]),v&8&&oe(t,"--xy-background-pattern-color-props",g[3])},i(g){h||(X(o),h=!0)},o(g){R(o),h=!1},d(g){g&&Z(t),y[i].d()}}}const O0={[ct.Dots]:1,[ct.Lines]:1,[ct.Cross]:6};function T0(e,t,n){let i,o,l,s,r,u,a,{id:c=void 0}=t,{variant:d=ct.Dots}=t,{gap:f=20}=t,{size:h=1}=t,{lineWidth:m=1}=t,{bgColor:y=void 0}=t,{patternColor:w=void 0}=t,{patternClass:g=void 0}=t,{class:v=""}=t;const{viewport:C,flowId:S}=Pe();U(e,C,T=>n(9,u=T)),U(e,S,T=>n(18,a=T));const P=h||O0[d],I=d===ct.Dots,H=d===ct.Cross,O=Array.isArray(f)?f:[f,f];return e.$$set=T=>{"id"in T&&n(15,c=T.id),"variant"in T&&n(0,d=T.variant),"gap"in T&&n(16,f=T.gap),"size"in T&&n(17,h=T.size),"lineWidth"in T&&n(1,m=T.lineWidth),"bgColor"in T&&n(2,y=T.bgColor),"patternColor"in T&&n(3,w=T.patternColor),"patternClass"in T&&n(4,g=T.patternClass),"class"in T&&n(5,v=T.class)},e.$$.update=()=>{e.$$.dirty&294912&&n(11,i=`background-pattern-${a}-${c||""}`),e.$$.dirty&512&&n(8,o=[O[0]*u.zoom||1,O[1]*u.zoom||1]),e.$$.dirty&512&&n(7,l=P*u.zoom),e.$$.dirty&384&&n(6,s=H?[l,l]:o),e.$$.dirty&192&&n(10,r=I?[l/2,l/2]:[s[0]/2,s[1]/2])},[d,m,y,w,g,v,s,l,o,u,r,i,C,S,I,c,f,h,a]}class I0 extends se{constructor(t){super(),re(this,t,T0,H0,ae,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const D0=I0;function X0(e){let t,n,i;return{c(){t=ge("rect"),k(t,"class",n=ye(["svelte-flow__minimap-node",e[10]])),k(t,"x",e[0]),k(t,"y",e[1]),k(t,"rx",e[4]),k(t,"ry",e[4]),k(t,"width",e[2]),k(t,"height",e[3]),k(t,"style",i=`${e[5]?`fill: ${e[5]};`:""}${e[7]?`stroke: ${e[7]};`:""}${e[8]?`stroke-width: ${e[8]};`:""}`),k(t,"shape-rendering",e[6]),ue(t,"selected",e[9])},m(o,l){p(o,t,l)},p(o,[l]){l&1024&&n!==(n=ye(["svelte-flow__minimap-node",o[10]]))&&k(t,"class",n),l&1&&k(t,"x",o[0]),l&2&&k(t,"y",o[1]),l&16&&k(t,"rx",o[4]),l&16&&k(t,"ry",o[4]),l&4&&k(t,"width",o[2]),l&8&&k(t,"height",o[3]),l&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&k(t,"style",i),l&64&&k(t,"shape-rendering",o[6]),l&1536&&ue(t,"selected",o[9])},i:ce,o:ce,d(o){o&&Z(t)}}}function Y0(e,t,n){let{x:i}=t,{y:o}=t,{width:l=0}=t,{height:s=0}=t,{borderRadius:r=5}=t,{color:u=void 0}=t,{shapeRendering:a}=t,{strokeColor:c=void 0}=t,{strokeWidth:d=2}=t,{selected:f=!1}=t,{class:h=""}=t;return e.$$set=m=>{"x"in m&&n(0,i=m.x),"y"in m&&n(1,o=m.y),"width"in m&&n(2,l=m.width),"height"in m&&n(3,s=m.height),"borderRadius"in m&&n(4,r=m.borderRadius),"color"in m&&n(5,u=m.color),"shapeRendering"in m&&n(6,a=m.shapeRendering),"strokeColor"in m&&n(7,c=m.strokeColor),"strokeWidth"in m&&n(8,d=m.strokeWidth),"selected"in m&&n(9,f=m.selected),"class"in m&&n(10,h=m.class)},[i,o,l,s,r,u,a,c,d,f,h]}class R0 extends se{constructor(t){super(),re(this,t,Y0,X0,ae,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function V0(e,t){const n=ff({domNode:e,panZoom:t.panZoom,getTransform:()=>{const o=Q(t.viewport);return[o.x,o.y,o.zoom]},getViewScale:t.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function il(e,t,n){const i=e.slice();return i[53]=t[n],i}function _i(e){const t=e.slice(),n=Zt(t[53]).positionAbsolute;t[56]=n;const i=dn(t[53]);return t[57]=i,t}function ol(e){let t,n,i=[],o=new Map,l,s,r,u,a,c,d,f=e[1]&&ll(e),h=yt(e[19]);const m=y=>y[53].id;for(let y=0;y<h.length;y+=1){let w=il(e,h,y),g=m(w);o.set(g,i[y]=sl(g,w))}return{c(){t=ge("svg"),f&&f.c(),n=De();for(let y=0;y<i.length;y+=1)i[y].c();l=ge("path"),k(l,"class","svelte-flow__minimap-mask"),k(l,"d",s="M"+(e[25]-e[15])+","+(e[24]-e[15])+"h"+(e[23]+e[15]*2)+"v"+(e[22]+e[15]*2)+"h"+(-e[23]-e[15]*2)+`z
      M`+e[18].x+","+e[18].y+"h"+e[18].width+"v"+e[18].height+"h"+-e[18].width+"z"),k(l,"fill-rule","evenodd"),k(l,"pointer-events","none"),k(t,"width",e[17]),k(t,"height",e[16]),k(t,"viewBox",r=e[25]+" "+e[24]+" "+e[23]+" "+e[22]),k(t,"class","svelte-flow__minimap-svg"),k(t,"role","img"),k(t,"aria-labelledby",e[39]),oe(t,"--xy-minimap-mask-background-color-props",e[5]),oe(t,"--xy-minimap-mask-stroke-color-props",e[6]),oe(t,"--xy-minimap-mask-stroke-width-props",e[7]?e[7]*e[14]:void 0)},m(y,w){p(y,t,w),f&&f.m(t,null),Se(t,n);for(let g=0;g<i.length;g+=1)i[g]&&i[g].m(t,null);Se(t,l),a=!0,c||(d=Ie(u=V0.call(null,t,{panZoom:e[26],viewport:e[29],getViewScale:e[40],translateExtent:e[27],width:e[21],height:e[20],inversePan:e[10],zoomStep:e[11],pannable:e[8],zoomable:e[9]})),c=!0)},p(y,w){y[1]?f?f.p(y,w):(f=ll(y),f.c(),f.m(t,n)):f&&(f.d(1),f=null),w[0]&524300|w[1]&240&&(h=yt(y[19]),ze(),i=Qn(i,w,m,1,y,h,o,t,Jn,sl,l,il),Ce()),(!a||w[0]&63209472&&s!==(s="M"+(y[25]-y[15])+","+(y[24]-y[15])+"h"+(y[23]+y[15]*2)+"v"+(y[22]+y[15]*2)+"h"+(-y[23]-y[15]*2)+`z
      M`+y[18].x+","+y[18].y+"h"+y[18].width+"v"+y[18].height+"h"+-y[18].width+"z"))&&k(l,"d",s),(!a||w[0]&131072)&&k(t,"width",y[17]),(!a||w[0]&65536)&&k(t,"height",y[16]),(!a||w[0]&62914560&&r!==(r=y[25]+" "+y[24]+" "+y[23]+" "+y[22]))&&k(t,"viewBox",r),u&&we(u.update)&&w[0]&204476160&&u.update.call(null,{panZoom:y[26],viewport:y[29],getViewScale:y[40],translateExtent:y[27],width:y[21],height:y[20],inversePan:y[10],zoomStep:y[11],pannable:y[8],zoomable:y[9]}),w[0]&32&&oe(t,"--xy-minimap-mask-background-color-props",y[5]),w[0]&64&&oe(t,"--xy-minimap-mask-stroke-color-props",y[6]),w[0]&16512&&oe(t,"--xy-minimap-mask-stroke-width-props",y[7]?y[7]*y[14]:void 0)},i(y){if(!a){for(let w=0;w<h.length;w+=1)X(i[w]);a=!0}},o(y){for(let w=0;w<i.length;w+=1)R(i[w]);a=!1},d(y){y&&Z(t),f&&f.d();for(let w=0;w<i.length;w+=1)i[w].d();c=!1,d()}}}function ll(e){let t,n;return{c(){t=ge("title"),n=St(e[1]),k(t,"id",e[39])},m(i,o){p(i,t,o),Se(t,n)},p(i,o){o[0]&2&&sn(n,i[1])},d(i){i&&Z(t)}}}function rl(e){var l;let t,n;const i=[{x:e[56].x},{y:e[56].y},e[57],{selected:e[53].selected},{color:(l=e[35])==null?void 0:l.call(e,e[53])},{borderRadius:e[2]},{strokeColor:e[36](e[53])},{strokeWidth:e[3]},{shapeRendering:e[38]},{class:e[37](e[53])}];let o={};for(let s=0;s<i.length;s+=1)o=He(o,i[s]);return t=new R0({props:o}),{c(){ne(t.$$.fragment)},m(s,r){ee(t,s,r),n=!0},p(s,r){var a;const u=r[0]&524300|r[1]&240?ft(i,[r[0]&524288&&{x:s[56].x},r[0]&524288&&{y:s[56].y},r[0]&524288&&Vt(s[57]),r[0]&524288&&{selected:s[53].selected},r[0]&524288|r[1]&16&&{color:(a=s[35])==null?void 0:a.call(s,s[53])},r[0]&4&&{borderRadius:s[2]},r[0]&524288|r[1]&32&&{strokeColor:s[36](s[53])},r[0]&8&&{strokeWidth:s[3]},r[1]&128&&{shapeRendering:s[38]},r[0]&524288|r[1]&64&&{class:s[37](s[53])}]):{};t.$set(u)},i(s){n||(X(t.$$.fragment,s),n=!0)},o(s){R(t.$$.fragment,s),n=!1},d(s){te(t,s)}}}function sl(e,t){let n,i=Kn(t[53]),o,l,s=i&&rl(_i(t));return{key:e,first:null,c(){n=De(),s&&s.c(),o=De(),this.first=n},m(r,u){p(r,n,u),s&&s.m(r,u),p(r,o,u),l=!0},p(r,u){t=r,u[0]&524288&&(i=Kn(t[53])),i?s?(s.p(_i(t),u),u[0]&524288&&X(s,1)):(s=rl(_i(t)),s.c(),X(s,1),s.m(o.parentNode,o)):s&&(ze(),R(s,1,1,()=>{s=null}),Ce())},i(r){l||(X(s),l=!0)},o(r){R(s),l=!1},d(r){r&&(Z(n),Z(o)),s&&s.d(r)}}}function L0(e){let t,n,i=e[26]&&ol(e);return{c(){i&&i.c(),t=De()},m(o,l){i&&i.m(o,l),p(o,t,l),n=!0},p(o,l){o[26]?i?(i.p(o,l),l[0]&67108864&&X(i,1)):(i=ol(o),i.c(),X(i,1),i.m(t.parentNode,t)):i&&(ze(),R(i,1,1,()=>{i=null}),Ce())},i(o){n||(X(i),n=!0)},o(o){R(i),n=!1},d(o){o&&Z(t),i&&i.d(o)}}}function W0(e){let t,n;return t=new Fi({props:{position:e[0],style:e[12]+(e[4]?`;--xy-minimap-background-color-props:${e[4]}`:""),class:ye(["svelte-flow__minimap",e[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[L0]},$$scope:{ctx:e}}}),{c(){ne(t.$$.fragment)},m(i,o){ee(t,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.position=i[0]),o[0]&4112&&(l.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(l.class=ye(["svelte-flow__minimap",i[13]])),o[0]&268423150|o[1]&134217728&&(l.$$scope={dirty:o,ctx:i}),t.$set(l)},i(i){n||(X(t.$$.fragment,i),n=!0)},o(i){R(t.$$.fragment,i),n=!1},d(i){te(t,i)}}}const bi=e=>e instanceof Function?e:()=>e,B0=200,K0=150;function F0(e,t,n){let i,o,l,s,r,u,a,c,d,f,h,m,y,w,g,v,C,S,P,I,H,{position:O="bottom-right"}=t,{ariaLabel:T="Mini map"}=t,{nodeStrokeColor:_="transparent"}=t,{nodeColor:Y=void 0}=t,{nodeClass:W=""}=t,{nodeBorderRadius:N=5}=t,{nodeStrokeWidth:b=2}=t,{bgColor:A=void 0}=t,{maskColor:E=void 0}=t,{maskStrokeColor:D=void 0}=t,{maskStrokeWidth:V=void 0}=t,{width:B=void 0}=t,{height:F=void 0}=t,{pannable:G=!0}=t,{zoomable:z=!0}=t,{inversePan:ie=void 0}=t,{zoomStep:$=void 0}=t,{style:le=""}=t,{class:q=""}=t;const{nodes:fe,viewport:he,width:L,height:Me,flowId:Ae,panZoom:Oe,translateExtent:Ne}=Pe();U(e,fe,j=>n(19,g=j)),U(e,he,j=>n(51,v=j)),U(e,L,j=>n(21,S=j)),U(e,Me,j=>n(20,C=j)),U(e,Ae,j=>n(52,P=j)),U(e,Oe,j=>n(26,I=j)),U(e,Ne,j=>n(27,H=j));const qe=Y===void 0?void 0:bi(Y),_e=bi(_),ot=bi(W),lt=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",xe=`svelte-flow__minimap-desc-${P}`,$e=()=>a;return e.$$set=j=>{"position"in j&&n(0,O=j.position),"ariaLabel"in j&&n(1,T=j.ariaLabel),"nodeStrokeColor"in j&&n(41,_=j.nodeStrokeColor),"nodeColor"in j&&n(42,Y=j.nodeColor),"nodeClass"in j&&n(43,W=j.nodeClass),"nodeBorderRadius"in j&&n(2,N=j.nodeBorderRadius),"nodeStrokeWidth"in j&&n(3,b=j.nodeStrokeWidth),"bgColor"in j&&n(4,A=j.bgColor),"maskColor"in j&&n(5,E=j.maskColor),"maskStrokeColor"in j&&n(6,D=j.maskStrokeColor),"maskStrokeWidth"in j&&n(7,V=j.maskStrokeWidth),"width"in j&&n(44,B=j.width),"height"in j&&n(45,F=j.height),"pannable"in j&&n(8,G=j.pannable),"zoomable"in j&&n(9,z=j.zoomable),"inversePan"in j&&n(10,ie=j.inversePan),"zoomStep"in j&&n(11,$=j.zoomStep),"style"in j&&n(12,le=j.style),"class"in j&&n(13,q=j.class)},e.$$.update=()=>{e.$$.dirty[0]&3145728|e.$$.dirty[1]&1048576&&n(18,i={x:-v.x/v.zoom,y:-v.y/v.zoom,width:S/v.zoom,height:C/v.zoom}),e.$$.dirty[0]&786432&&n(48,o=g.length>0?Xc(fn(g),i):i),e.$$.dirty[1]&8192&&n(17,l=B??B0),e.$$.dirty[1]&16384&&n(16,s=F??K0),e.$$.dirty[0]&131072|e.$$.dirty[1]&131072&&n(50,r=o.width/l),e.$$.dirty[0]&65536|e.$$.dirty[1]&131072&&n(49,u=o.height/s),e.$$.dirty[1]&786432&&n(14,a=Math.max(r,u)),e.$$.dirty[0]&147456&&n(47,c=a*l),e.$$.dirty[0]&81920&&n(46,d=a*s),e.$$.dirty[0]&16384&&n(15,f=5*a),e.$$.dirty[0]&32768|e.$$.dirty[1]&196608&&n(25,h=o.x-(c-o.width)/2-f),e.$$.dirty[0]&32768|e.$$.dirty[1]&163840&&n(24,m=o.y-(d-o.height)/2-f),e.$$.dirty[0]&32768|e.$$.dirty[1]&65536&&n(23,y=c+f*2),e.$$.dirty[0]&32768|e.$$.dirty[1]&32768&&n(22,w=d+f*2)},[O,T,N,b,A,E,D,V,G,z,ie,$,le,q,a,f,s,l,i,g,C,S,w,y,m,h,I,H,fe,he,L,Me,Ae,Oe,Ne,qe,_e,ot,lt,xe,$e,_,Y,W,B,F,d,c,o,u,r,v]}class Z0 extends se{constructor(t){super(),re(this,t,F0,W0,ae,{position:0,ariaLabel:1,nodeStrokeColor:41,nodeColor:42,nodeClass:43,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:44,height:45,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function q0(e){let t,n,i,o,l,s;return t=new w0({}),i=new D0({props:{variant:ct.Dots}}),l=new Z0({}),{c(){ne(t.$$.fragment),n=be(),ne(i.$$.fragment),o=be(),ne(l.$$.fragment)},m(r,u){ee(t,r,u),p(r,n,u),ee(i,r,u),p(r,o,u),ee(l,r,u),s=!0},p:ce,i(r){s||(X(t.$$.fragment,r),X(i.$$.fragment,r),X(l.$$.fragment,r),s=!0)},o(r){R(t.$$.fragment,r),R(i.$$.fragment,r),R(l.$$.fragment,r),s=!1},d(r){r&&(Z(n),Z(o)),te(t,r),te(i,r),te(l,r)}}}function p0(e){let t,n,i,o;return i=new Uh({props:{nodes:e[0],edges:e[1],snapGrid:e[2],fitView:!0,panOnScroll:!0,$$slots:{default:[q0]},$$scope:{ctx:e}}}),i.$on("nodeclick",e[3]),{c(){t=Ee("main"),n=Ee("div"),ne(i.$$.fragment),oe(n,"height","100%")},m(l,s){p(l,t,s),Se(t,n),ee(i,n,null),o=!0},p(l,[s]){const r={};s&16&&(r.$$scope={dirty:s,ctx:l}),i.$set(r)},i(l){o||(X(i.$$.fragment,l),o=!0)},o(l){R(i.$$.fragment,l),o=!1},d(l){l&&Z(t),te(i)}}}function G0(e){const t=x([{id:"1",type:"input",data:{label:"Patch"},position:{x:0,y:0}},{id:"2",type:"default",data:{label:"Canvas"},position:{x:0,y:150}}]),n=x([{id:"1-2",type:"default",source:"1",target:"2",label:"Connection"}]);return[t,n,[25,25],l=>console.log("on node click",l.detail.node)]}class U0 extends se{constructor(t){super(),re(this,t,G0,p0,ae,{})}}new U0({target:document.body});
