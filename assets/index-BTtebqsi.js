var Vw=Object.defineProperty;var Kw=(t,e,n)=>e in t?Vw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pi=(t,e,n)=>Kw(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Te(){}function Kt(t,e){for(const n in e)t[n]=e[n];return t}function dh(t){return t()}function Lc(){return Object.create(null)}function vt(t){t.forEach(dh)}function gt(t){return typeof t=="function"}function Le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function hh(t,e){return t!=t?e==e:t!==e}function Uw(t){return Object.keys(t).length===0}function Dl(t,...e){if(t==null){for(const i of e)i(void 0);return Te}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ue(t){let e;return Dl(t,n=>e=n)(),e}function he(t,e,n){t.$$.on_destroy.push(Dl(e,n))}function Xt(t,e,n,i){if(t){const l=gh(t,e,n,i);return t[0](l)}}function gh(t,e,n,i){return t[1]&&i?Kt(n.ctx.slice(),t[1](i(e))):n.ctx}function Yt(t,e,n,i){if(t[2]&&i){const l=t[2](i(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],u=Math.max(e.dirty.length,l.length);for(let f=0;f<u;f+=1)s[f]=e.dirty[f]|l[f];return s}return e.dirty|l}return e.dirty}function Ft(t,e,n,i,l,s){if(l){const u=gh(e,n,i,s);t.p(u,l)}}function Vt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Zu(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function cr(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function qw(t){const e={};for(const n in t)e[n]=!0;return e}function dr(t){return t??""}function Cn(t,e,n){return t.set(n),e}function Gt(t){return t&&gt(t.destroy)?t.destroy:Te}const xw=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function se(t,e){t.appendChild(e)}function J(t,e,n){t.insertBefore(e,n||null)}function Z(t){t.parentNode&&t.parentNode.removeChild(t)}function mh(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _e(t){return document.createElement(t)}function Fe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function tt(t){return document.createTextNode(t)}function Se(){return tt(" ")}function bt(){return tt("")}function He(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function C(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Gw=["width","height"];function hr(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Gw.indexOf(i)===-1?t[i]=e[i]:C(t,i,e[i])}function Zw(t){return Array.from(t.childNodes)}function Zt(t,e){e=""+e,t.data!==e&&(t.data=e)}function Be(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let sl;function Jw(){if(sl===void 0){sl=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{sl=!0}}return sl}function Qw(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=_e("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const l=Jw();let s;return l?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=He(window,"message",u=>{u.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{s=He(i.contentWindow,"resize",e),e()}),se(t,i),()=>{(l||s&&i.contentWindow)&&s(),Z(i)}}function Xe(t,e,n){t.classList.toggle(e,!!n)}function jw(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class $w{constructor(e=!1){pi(this,"is_svg",!1);pi(this,"e");pi(this,"n");pi(this,"t");pi(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Fe(n.nodeName):this.e=_e(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)J(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Z)}}function Cl(t,e){return new t(e)}let Qr;function Gr(t){Qr=t}function Sr(){if(!Qr)throw new Error("Function called outside component initialization");return Qr}function fo(t){Sr().$$.on_mount.push(t)}function Ju(t){Sr().$$.on_destroy.push(t)}function Wl(){const t=Sr();return(e,n,{cancelable:i=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=jw(e,n,{cancelable:i});return l.slice().forEach(u=>{u.call(t,s)}),!s.defaultPrevented}return!0}}function jr(t,e){return Sr().$$.context.set(t,e),e}function $r(t){return Sr().$$.context.get(t)}function eb(t){return Sr().$$.context.has(t)}function lt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const or=[],En=[];let sr=[];const Lu=[],tb=Promise.resolve();let Ru=!1;function nb(){Ru||(Ru=!0,tb.then(yh))}function El(t){sr.push(t)}function _h(t){Lu.push(t)}const pu=new Set;let ir=0;function yh(){if(ir!==0)return;const t=Qr;do{try{for(;ir<or.length;){const e=or[ir];ir++,Gr(e),ib(e.$$)}}catch(e){throw or.length=0,ir=0,e}for(Gr(null),or.length=0,ir=0;En.length;)En.pop()();for(let e=0;e<sr.length;e+=1){const n=sr[e];pu.has(n)||(pu.add(n),n())}sr.length=0}while(or.length);for(;Lu.length;)Lu.pop()();Ru=!1,pu.clear(),Gr(t)}function ib(t){if(t.fragment!==null){t.update(),vt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(El)}}function rb(t){const e=[],n=[];sr.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),sr=e}const wl=new Set;let Ri;function yt(){Ri={r:0,c:[],p:Ri}}function wt(){Ri.r||vt(Ri.c),Ri=Ri.p}function j(t,e){t&&t.i&&(wl.delete(t),t.i(e))}function te(t,e,n,i){if(t&&t.o){if(wl.has(t))return;wl.add(t),Ri.c.push(()=>{wl.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function Ct(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ob(t,e){t.d(1),e.delete(t.key)}function Xi(t,e){te(t,1,1,()=>{e.delete(t.key)})}function Ei(t,e,n,i,l,s,u,f,a,d,h,g){let m=t.length,y=s.length,b=m;const p={};for(;b--;)p[t[b].key]=b;const P=[],w=new Map,H=new Map,S=[];for(b=y;b--;){const z=g(l,s,b),L=n(z);let W=u.get(L);W?i&&S.push(()=>W.p(z,e)):(W=d(L,z),W.c()),w.set(L,P[b]=W),L in p&&H.set(L,Math.abs(b-p[L]))}const O=new Set,I=new Set;function A(z){j(z,1),z.m(f,h),u.set(z.key,z),h=z.first,y--}for(;m&&y;){const z=P[y-1],L=t[m-1],W=z.key,K=L.key;z===L?(h=z.first,m--,y--):w.has(K)?!u.has(W)||O.has(W)?A(z):I.has(K)?m--:H.get(W)>H.get(K)?(I.add(W),A(z)):(O.add(K),m--):(a(L,u),m--)}for(;m--;){const z=t[m];w.has(z.key)||a(z,u)}for(;y;)A(P[y-1]);return vt(S),P}function si(t,e){const n={},i={},l={$$scope:1};let s=t.length;for(;s--;){const u=t[s],f=e[s];if(f){for(const a in u)a in f||(i[a]=1);for(const a in f)l[a]||(n[a]=f[a],l[a]=1);t[s]=f}else for(const a in u)l[a]=1}for(const u in i)u in n||(n[u]=void 0);return n}function gr(t){return typeof t=="object"&&t!==null?t:{}}function wh(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ke(t){t&&t.c()}function ve(t,e,n){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,n),El(()=>{const s=t.$$.on_mount.map(dh).filter(gt);t.$$.on_destroy?t.$$.on_destroy.push(...s):vt(s),t.$$.on_mount=[]}),l.forEach(El)}function pe(t,e){const n=t.$$;n.fragment!==null&&(rb(n.after_update),vt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lb(t,e){t.$$.dirty[0]===-1&&(or.push(t),nb(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,n,i,l,s,u=null,f=[-1]){const a=Qr;Gr(t);const d=t.$$={fragment:null,ctx:[],props:s,update:Te,not_equal:l,bound:Lc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Lc(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};u&&u(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},(g,m,...y)=>{const b=y.length?y[0]:m;return d.ctx&&l(d.ctx[g],d.ctx[g]=b)&&(!d.skip_bound&&d.bound[g]&&d.bound[g](b),h&&lb(t,g)),m}):[],d.update(),h=!0,vt(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const g=Zw(e.target);d.fragment&&d.fragment.l(g),g.forEach(Z)}else d.fragment&&d.fragment.c();e.intro&&j(t.$$.fragment),ve(t,e.target,e.anchor),yh()}Gr(a)}class Ne{constructor(){pi(this,"$$");pi(this,"$$set")}$destroy(){pe(this,1),this.$destroy=Te}$on(e,n){if(!gt(n))return Te;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!Uw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const sb="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(sb);const rr=[];function On(t,e){return{subscribe:Ie(t,e).subscribe}}function Ie(t,e=Te){let n;const i=new Set;function l(f){if(Le(t,f)&&(t=f,n)){const a=!rr.length;for(const d of i)d[1](),rr.push(d,t);if(a){for(let d=0;d<rr.length;d+=2)rr[d][0](rr[d+1]);rr.length=0}}}function s(f){l(f(t))}function u(f,a=Te){const d=[f,a];return i.add(d),i.size===1&&(n=e(l,s)||Te),f(t),()=>{i.delete(d),i.size===0&&n&&(n(),n=null)}}return{set:l,update:s,subscribe:u}}function mr(t,e,n){const i=!Array.isArray(t),l=i?[t]:t;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return On(n,(u,f)=>{let a=!1;const d=[];let h=0,g=Te;const m=()=>{if(h)return;g();const b=e(i?d[0]:d,u,f);s?u(b):g=gt(b)?b:Te},y=l.map((b,p)=>Dl(b,P=>{d[p]=P,h&=~(1<<p),a&&m()},()=>{h|=1<<p}));return a=!0,m(),function(){vt(y),g(),a=!1}})}function it(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=it(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var ub={value:()=>{}};function Bl(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new bl(n)}function bl(t){this._=t}function fb(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",l=n.indexOf(".");if(l>=0&&(i=n.slice(l+1),n=n.slice(0,l)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}bl.prototype=Bl.prototype={constructor:bl,on:function(t,e){var n=this._,i=fb(t+"",n),l,s=-1,u=i.length;if(arguments.length<2){for(;++s<u;)if((l=(t=i[s]).type)&&(l=ab(n[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<u;)if(l=(t=i[s]).type)n[l]=Rc(n[l],t.name,e);else if(e==null)for(l in n)n[l]=Rc(n[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new bl(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var n=new Array(l),i=0,l,s;i<l;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,l=s.length;i<l;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],l=0,s=i.length;l<s;++l)i[l].value.apply(e,n)}};function ab(t,e){for(var n=0,i=t.length,l;n<i;++n)if((l=t[n]).name===e)return l.value}function Rc(t,e,n){for(var i=0,l=t.length;i<l;++i)if(t[i].name===e){t[i]=ub,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Du="http://www.w3.org/1999/xhtml";const Dc={svg:"http://www.w3.org/2000/svg",xhtml:Du,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xl(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Dc.hasOwnProperty(e)?{space:Dc[e],local:t}:t}function cb(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Du&&e.documentElement.namespaceURI===Du?e.createElement(t):e.createElementNS(n,t)}}function db(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function bh(t){var e=Xl(t);return(e.local?db:cb)(e)}function hb(){}function Qu(t){return t==null?hb:function(){return this.querySelector(t)}}function gb(t){typeof t!="function"&&(t=Qu(t));for(var e=this._groups,n=e.length,i=new Array(n),l=0;l<n;++l)for(var s=e[l],u=s.length,f=i[l]=new Array(u),a,d,h=0;h<u;++h)(a=s[h])&&(d=t.call(a,a.__data__,h,s))&&("__data__"in a&&(d.__data__=a.__data__),f[h]=d);return new dn(i,this._parents)}function mb(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function _b(){return[]}function vh(t){return t==null?_b:function(){return this.querySelectorAll(t)}}function yb(t){return function(){return mb(t.apply(this,arguments))}}function wb(t){typeof t=="function"?t=yb(t):t=vh(t);for(var e=this._groups,n=e.length,i=[],l=[],s=0;s<n;++s)for(var u=e[s],f=u.length,a,d=0;d<f;++d)(a=u[d])&&(i.push(t.call(a,a.__data__,d,u)),l.push(a));return new dn(i,l)}function ph(t){return function(){return this.matches(t)}}function Sh(t){return function(e){return e.matches(t)}}var bb=Array.prototype.find;function vb(t){return function(){return bb.call(this.children,t)}}function pb(){return this.firstElementChild}function Sb(t){return this.select(t==null?pb:vb(typeof t=="function"?t:Sh(t)))}var kb=Array.prototype.filter;function Cb(){return Array.from(this.children)}function Eb(t){return function(){return kb.call(this.children,t)}}function Ab(t){return this.selectAll(t==null?Cb:Eb(typeof t=="function"?t:Sh(t)))}function Mb(t){typeof t!="function"&&(t=ph(t));for(var e=this._groups,n=e.length,i=new Array(n),l=0;l<n;++l)for(var s=e[l],u=s.length,f=i[l]=[],a,d=0;d<u;++d)(a=s[d])&&t.call(a,a.__data__,d,s)&&f.push(a);return new dn(i,this._parents)}function kh(t){return new Array(t.length)}function Pb(){return new dn(this._enter||this._groups.map(kh),this._parents)}function Al(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Al.prototype={constructor:Al,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Tb(t){return function(){return t}}function Ob(t,e,n,i,l,s){for(var u=0,f,a=e.length,d=s.length;u<d;++u)(f=e[u])?(f.__data__=s[u],i[u]=f):n[u]=new Al(t,s[u]);for(;u<a;++u)(f=e[u])&&(l[u]=f)}function Ib(t,e,n,i,l,s,u){var f,a,d=new Map,h=e.length,g=s.length,m=new Array(h),y;for(f=0;f<h;++f)(a=e[f])&&(m[f]=y=u.call(a,a.__data__,f,e)+"",d.has(y)?l[f]=a:d.set(y,a));for(f=0;f<g;++f)y=u.call(t,s[f],f,s)+"",(a=d.get(y))?(i[f]=a,a.__data__=s[f],d.delete(y)):n[f]=new Al(t,s[f]);for(f=0;f<h;++f)(a=e[f])&&d.get(m[f])===a&&(l[f]=a)}function Hb(t){return t.__data__}function zb(t,e){if(!arguments.length)return Array.from(this,Hb);var n=e?Ib:Ob,i=this._parents,l=this._groups;typeof t!="function"&&(t=Tb(t));for(var s=l.length,u=new Array(s),f=new Array(s),a=new Array(s),d=0;d<s;++d){var h=i[d],g=l[d],m=g.length,y=Nb(t.call(h,h&&h.__data__,d,i)),b=y.length,p=f[d]=new Array(b),P=u[d]=new Array(b),w=a[d]=new Array(m);n(h,g,p,P,w,y,e);for(var H=0,S=0,O,I;H<b;++H)if(O=p[H]){for(H>=S&&(S=H+1);!(I=P[S])&&++S<b;);O._next=I||null}}return u=new dn(u,i),u._enter=f,u._exit=a,u}function Nb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Lb(){return new dn(this._exit||this._groups.map(kh),this._parents)}function Rb(t,e,n){var i=this.enter(),l=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),n==null?s.remove():n(s),i&&l?i.merge(l).order():l}function Db(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,l=n.length,s=i.length,u=Math.min(l,s),f=new Array(l),a=0;a<u;++a)for(var d=n[a],h=i[a],g=d.length,m=f[a]=new Array(g),y,b=0;b<g;++b)(y=d[b]||h[b])&&(m[b]=y);for(;a<l;++a)f[a]=n[a];return new dn(f,this._parents)}function Wb(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],l=i.length-1,s=i[l],u;--l>=0;)(u=i[l])&&(s&&u.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(u,s),s=u);return this}function Bb(t){t||(t=Xb);function e(g,m){return g&&m?t(g.__data__,m.__data__):!g-!m}for(var n=this._groups,i=n.length,l=new Array(i),s=0;s<i;++s){for(var u=n[s],f=u.length,a=l[s]=new Array(f),d,h=0;h<f;++h)(d=u[h])&&(a[h]=d);a.sort(e)}return new dn(l,this._parents).order()}function Xb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Yb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fb(){return Array.from(this)}function Vb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],l=0,s=i.length;l<s;++l){var u=i[l];if(u)return u}return null}function Kb(){let t=0;for(const e of this)++t;return t}function Ub(){return!this.node()}function qb(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var l=e[n],s=0,u=l.length,f;s<u;++s)(f=l[s])&&t.call(f,f.__data__,s,l);return this}function xb(t){return function(){this.removeAttribute(t)}}function Gb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zb(t,e){return function(){this.setAttribute(t,e)}}function Jb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Qb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function jb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $b(t,e){var n=Xl(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Gb:xb:typeof e=="function"?n.local?jb:Qb:n.local?Jb:Zb)(n,e))}function Ch(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function e3(t){return function(){this.style.removeProperty(t)}}function t3(t,e,n){return function(){this.style.setProperty(t,e,n)}}function n3(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function i3(t,e,n){return arguments.length>1?this.each((e==null?e3:typeof e=="function"?n3:t3)(t,e,n??"")):_r(this.node(),t)}function _r(t,e){return t.style.getPropertyValue(e)||Ch(t).getComputedStyle(t,null).getPropertyValue(e)}function r3(t){return function(){delete this[t]}}function o3(t,e){return function(){this[t]=e}}function l3(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function s3(t,e){return arguments.length>1?this.each((e==null?r3:typeof e=="function"?l3:o3)(t,e)):this.node()[t]}function Eh(t){return t.trim().split(/^|\s+/)}function ju(t){return t.classList||new Ah(t)}function Ah(t){this._node=t,this._names=Eh(t.getAttribute("class")||"")}Ah.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Mh(t,e){for(var n=ju(t),i=-1,l=e.length;++i<l;)n.add(e[i])}function Ph(t,e){for(var n=ju(t),i=-1,l=e.length;++i<l;)n.remove(e[i])}function u3(t){return function(){Mh(this,t)}}function f3(t){return function(){Ph(this,t)}}function a3(t,e){return function(){(e.apply(this,arguments)?Mh:Ph)(this,t)}}function c3(t,e){var n=Eh(t+"");if(arguments.length<2){for(var i=ju(this.node()),l=-1,s=n.length;++l<s;)if(!i.contains(n[l]))return!1;return!0}return this.each((typeof e=="function"?a3:e?u3:f3)(n,e))}function d3(){this.textContent=""}function h3(t){return function(){this.textContent=t}}function g3(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function m3(t){return arguments.length?this.each(t==null?d3:(typeof t=="function"?g3:h3)(t)):this.node().textContent}function _3(){this.innerHTML=""}function y3(t){return function(){this.innerHTML=t}}function w3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function b3(t){return arguments.length?this.each(t==null?_3:(typeof t=="function"?w3:y3)(t)):this.node().innerHTML}function v3(){this.nextSibling&&this.parentNode.appendChild(this)}function p3(){return this.each(v3)}function S3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function k3(){return this.each(S3)}function C3(t){var e=typeof t=="function"?t:bh(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function E3(){return null}function A3(t,e){var n=typeof t=="function"?t:bh(t),i=e==null?E3:typeof e=="function"?e:Qu(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function M3(){var t=this.parentNode;t&&t.removeChild(this)}function P3(){return this.each(M3)}function T3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function O3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function I3(t){return this.select(t?O3:T3)}function H3(t){return arguments.length?this.property("__data__",t):this.node().__data__}function z3(t){return function(e){t.call(this,e,this.__data__)}}function N3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function L3(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,l=e.length,s;n<l;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function R3(t,e,n){return function(){var i=this.__on,l,s=z3(e);if(i){for(var u=0,f=i.length;u<f;++u)if((l=i[u]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=s,l.options=n),l.value=e;return}}this.addEventListener(t.type,s,n),l={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(l):this.__on=[l]}}function D3(t,e,n){var i=N3(t+""),l,s=i.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var a=0,d=f.length,h;a<d;++a)for(l=0,h=f[a];l<s;++l)if((u=i[l]).type===h.type&&u.name===h.name)return h.value}return}for(f=e?R3:L3,l=0;l<s;++l)this.each(f(i[l],e,n));return this}function Th(t,e,n){var i=Ch(t),l=i.CustomEvent;typeof l=="function"?l=new l(e,n):(l=i.document.createEvent("Event"),n?(l.initEvent(e,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function W3(t,e){return function(){return Th(this,t,e)}}function B3(t,e){return function(){return Th(this,t,e.apply(this,arguments))}}function X3(t,e){return this.each((typeof e=="function"?B3:W3)(t,e))}function*Y3(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],l=0,s=i.length,u;l<s;++l)(u=i[l])&&(yield u)}var Oh=[null];function dn(t,e){this._groups=t,this._parents=e}function ao(){return new dn([[document.documentElement]],Oh)}function F3(){return this}dn.prototype=ao.prototype={constructor:dn,select:gb,selectAll:wb,selectChild:Sb,selectChildren:Ab,filter:Mb,data:zb,enter:Pb,exit:Lb,join:Rb,merge:Db,selection:F3,order:Wb,sort:Bb,call:Yb,nodes:Fb,node:Vb,size:Kb,empty:Ub,each:qb,attr:$b,style:i3,property:s3,classed:c3,text:m3,html:b3,raise:p3,lower:k3,append:C3,insert:A3,remove:P3,clone:I3,datum:H3,on:D3,dispatch:X3,[Symbol.iterator]:Y3};function cn(t){return typeof t=="string"?new dn([[document.querySelector(t)]],[document.documentElement]):new dn([[t]],Oh)}function V3(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Hn(t,e){if(t=V3(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}const K3={passive:!1},eo={capture:!0,passive:!1};function Su(t){t.stopImmediatePropagation()}function ur(t){t.preventDefault(),t.stopImmediatePropagation()}function Ih(t){var e=t.document.documentElement,n=cn(t).on("dragstart.drag",ur,eo);"onselectstart"in e?n.on("selectstart.drag",ur,eo):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Hh(t,e){var n=t.document.documentElement,i=cn(t).on("dragstart.drag",null);e&&(i.on("click.drag",ur,eo),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ul=t=>()=>t;function Wu(t,{sourceEvent:e,subject:n,target:i,identifier:l,active:s,x:u,y:f,dx:a,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}Wu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function U3(t){return!t.ctrlKey&&!t.button}function q3(){return this.parentNode}function x3(t,e){return e??{x:t.x,y:t.y}}function G3(){return navigator.maxTouchPoints||"ontouchstart"in this}function zh(){var t=U3,e=q3,n=x3,i=G3,l={},s=Bl("start","drag","end"),u=0,f,a,d,h,g=0;function m(O){O.on("mousedown.drag",y).filter(i).on("touchstart.drag",P).on("touchmove.drag",w,K3).on("touchend.drag touchcancel.drag",H).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(O,I){if(!(h||!t.call(this,O,I))){var A=S(this,e.call(this,O,I),O,I,"mouse");A&&(cn(O.view).on("mousemove.drag",b,eo).on("mouseup.drag",p,eo),Ih(O.view),Su(O),d=!1,f=O.clientX,a=O.clientY,A("start",O))}}function b(O){if(ur(O),!d){var I=O.clientX-f,A=O.clientY-a;d=I*I+A*A>g}l.mouse("drag",O)}function p(O){cn(O.view).on("mousemove.drag mouseup.drag",null),Hh(O.view,d),ur(O),l.mouse("end",O)}function P(O,I){if(t.call(this,O,I)){var A=O.changedTouches,z=e.call(this,O,I),L=A.length,W,K;for(W=0;W<L;++W)(K=S(this,z,O,I,A[W].identifier,A[W]))&&(Su(O),K("start",O,A[W]))}}function w(O){var I=O.changedTouches,A=I.length,z,L;for(z=0;z<A;++z)(L=l[I[z].identifier])&&(ur(O),L("drag",O,I[z]))}function H(O){var I=O.changedTouches,A=I.length,z,L;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),z=0;z<A;++z)(L=l[I[z].identifier])&&(Su(O),L("end",O,I[z]))}function S(O,I,A,z,L,W){var K=s.copy(),M=Hn(W||A,I),D,B,T;if((T=n.call(O,new Wu("beforestart",{sourceEvent:A,target:m,identifier:L,active:u,x:M[0],y:M[1],dx:0,dy:0,dispatch:K}),z))!=null)return D=T.x-M[0]||0,B=T.y-M[1]||0,function V(Y,G,x){var ee=M,ae;switch(Y){case"start":l[L]=V,ae=u++;break;case"end":delete l[L],--u;case"drag":M=Hn(x||G,I),ae=u;break}K.call(Y,O,new Wu(Y,{sourceEvent:G,subject:T,target:m,identifier:L,active:ae,x:M[0]+D,y:M[1]+B,dx:M[0]-ee[0],dy:M[1]-ee[1],dispatch:K}),z)}}return m.filter=function(O){return arguments.length?(t=typeof O=="function"?O:ul(!!O),m):t},m.container=function(O){return arguments.length?(e=typeof O=="function"?O:ul(O),m):e},m.subject=function(O){return arguments.length?(n=typeof O=="function"?O:ul(O),m):n},m.touchable=function(O){return arguments.length?(i=typeof O=="function"?O:ul(!!O),m):i},m.on=function(){var O=s.on.apply(s,arguments);return O===s?m:O},m.clickDistance=function(O){return arguments.length?(g=(O=+O)*O,m):Math.sqrt(g)},m}function $u(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Nh(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function co(){}var to=.7,Ml=1/to,fr="\\s*([+-]?\\d+)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z3=/^#([0-9a-f]{3,8})$/,J3=new RegExp(`^rgb\\(${fr},${fr},${fr}\\)$`),Q3=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),j3=new RegExp(`^rgba\\(${fr},${fr},${fr},${no}\\)$`),$3=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${no}\\)$`),ev=new RegExp(`^hsl\\(${no},${Vn},${Vn}\\)$`),tv=new RegExp(`^hsla\\(${no},${Vn},${Vn},${no}\\)$`),Wc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$u(co,io,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Bc,formatHex:Bc,formatHex8:nv,formatHsl:iv,formatRgb:Xc,toString:Xc});function Bc(){return this.rgb().formatHex()}function nv(){return this.rgb().formatHex8()}function iv(){return Lh(this).formatHsl()}function Xc(){return this.rgb().formatRgb()}function io(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Z3.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Yc(e):n===3?new tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=J3.exec(t))?new tn(e[1],e[2],e[3],1):(e=Q3.exec(t))?new tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=j3.exec(t))?fl(e[1],e[2],e[3],e[4]):(e=$3.exec(t))?fl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ev.exec(t))?Kc(e[1],e[2]/100,e[3]/100,1):(e=tv.exec(t))?Kc(e[1],e[2]/100,e[3]/100,e[4]):Wc.hasOwnProperty(t)?Yc(Wc[t]):t==="transparent"?new tn(NaN,NaN,NaN,0):null}function Yc(t){return new tn(t>>16&255,t>>8&255,t&255,1)}function fl(t,e,n,i){return i<=0&&(t=e=n=NaN),new tn(t,e,n,i)}function rv(t){return t instanceof co||(t=io(t)),t?(t=t.rgb(),new tn(t.r,t.g,t.b,t.opacity)):new tn}function Bu(t,e,n,i){return arguments.length===1?rv(t):new tn(t,e,n,i??1)}function tn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}$u(tn,Bu,Nh(co,{brighter(t){return t=t==null?Ml:Math.pow(Ml,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?to:Math.pow(to,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tn(Wi(this.r),Wi(this.g),Wi(this.b),Pl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fc,formatHex:Fc,formatHex8:ov,formatRgb:Vc,toString:Vc}));function Fc(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}`}function ov(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}${Di((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vc(){const t=Pl(this.opacity);return`${t===1?"rgb(":"rgba("}${Wi(this.r)}, ${Wi(this.g)}, ${Wi(this.b)}${t===1?")":`, ${t})`}`}function Pl(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Di(t){return t=Wi(t),(t<16?"0":"")+t.toString(16)}function Kc(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zn(t,e,n,i)}function Lh(t){if(t instanceof zn)return new zn(t.h,t.s,t.l,t.opacity);if(t instanceof co||(t=io(t)),!t)return new zn;if(t instanceof zn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,l=Math.min(e,n,i),s=Math.max(e,n,i),u=NaN,f=s-l,a=(s+l)/2;return f?(e===s?u=(n-i)/f+(n<i)*6:n===s?u=(i-e)/f+2:u=(e-n)/f+4,f/=a<.5?s+l:2-s-l,u*=60):f=a>0&&a<1?0:u,new zn(u,f,a,t.opacity)}function lv(t,e,n,i){return arguments.length===1?Lh(t):new zn(t,e,n,i??1)}function zn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}$u(zn,lv,Nh(co,{brighter(t){return t=t==null?Ml:Math.pow(Ml,t),new zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?to:Math.pow(to,t),new zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,l=2*n-i;return new tn(ku(t>=240?t-240:t+120,l,i),ku(t,l,i),ku(t<120?t+240:t-120,l,i),this.opacity)},clamp(){return new zn(Uc(this.h),al(this.s),al(this.l),Pl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Pl(this.opacity);return`${t===1?"hsl(":"hsla("}${Uc(this.h)}, ${al(this.s)*100}%, ${al(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Uc(t){return t=(t||0)%360,t<0?t+360:t}function al(t){return Math.max(0,Math.min(1,t||0))}function ku(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Rh=t=>()=>t;function sv(t,e){return function(n){return t+n*e}}function uv(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function fv(t){return(t=+t)==1?Dh:function(e,n){return n-e?uv(e,n,t):Rh(isNaN(e)?n:e)}}function Dh(t,e){var n=e-t;return n?sv(t,n):Rh(isNaN(t)?e:t)}const qc=function t(e){var n=fv(e);function i(l,s){var u=n((l=Bu(l)).r,(s=Bu(s)).r),f=n(l.g,s.g),a=n(l.b,s.b),d=Dh(l.opacity,s.opacity);return function(h){return l.r=u(h),l.g=f(h),l.b=a(h),l.opacity=d(h),l+""}}return i.gamma=t,i}(1);function Ci(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cu=new RegExp(Xu.source,"g");function av(t){return function(){return t}}function cv(t){return function(e){return t(e)+""}}function dv(t,e){var n=Xu.lastIndex=Cu.lastIndex=0,i,l,s,u=-1,f=[],a=[];for(t=t+"",e=e+"";(i=Xu.exec(t))&&(l=Cu.exec(e));)(s=l.index)>n&&(s=e.slice(n,s),f[u]?f[u]+=s:f[++u]=s),(i=i[0])===(l=l[0])?f[u]?f[u]+=l:f[++u]=l:(f[++u]=null,a.push({i:u,x:Ci(i,l)})),n=Cu.lastIndex;return n<e.length&&(s=e.slice(n),f[u]?f[u]+=s:f[++u]=s),f.length<2?a[0]?cv(a[0].x):av(e):(e=a.length,function(d){for(var h=0,g;h<e;++h)f[(g=a[h]).i]=g.x(d);return f.join("")})}var xc=180/Math.PI,Yu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wh(t,e,n,i,l,s){var u,f,a;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(f=Math.sqrt(n*n+i*i))&&(n/=f,i/=f,a/=f),t*i<e*n&&(t=-t,e=-e,a=-a,u=-u),{translateX:l,translateY:s,rotate:Math.atan2(e,t)*xc,skewX:Math.atan(a)*xc,scaleX:u,scaleY:f}}var cl;function hv(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Yu:Wh(e.a,e.b,e.c,e.d,e.e,e.f)}function gv(t){return t==null||(cl||(cl=document.createElementNS("http://www.w3.org/2000/svg","g")),cl.setAttribute("transform",t),!(t=cl.transform.baseVal.consolidate()))?Yu:(t=t.matrix,Wh(t.a,t.b,t.c,t.d,t.e,t.f))}function Bh(t,e,n,i){function l(d){return d.length?d.pop()+" ":""}function s(d,h,g,m,y,b){if(d!==g||h!==m){var p=y.push("translate(",null,e,null,n);b.push({i:p-4,x:Ci(d,g)},{i:p-2,x:Ci(h,m)})}else(g||m)&&y.push("translate("+g+e+m+n)}function u(d,h,g,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:g.push(l(g)+"rotate(",null,i)-2,x:Ci(d,h)})):h&&g.push(l(g)+"rotate("+h+i)}function f(d,h,g,m){d!==h?m.push({i:g.push(l(g)+"skewX(",null,i)-2,x:Ci(d,h)}):h&&g.push(l(g)+"skewX("+h+i)}function a(d,h,g,m,y,b){if(d!==g||h!==m){var p=y.push(l(y)+"scale(",null,",",null,")");b.push({i:p-4,x:Ci(d,g)},{i:p-2,x:Ci(h,m)})}else(g!==1||m!==1)&&y.push(l(y)+"scale("+g+","+m+")")}return function(d,h){var g=[],m=[];return d=t(d),h=t(h),s(d.translateX,d.translateY,h.translateX,h.translateY,g,m),u(d.rotate,h.rotate,g,m),f(d.skewX,h.skewX,g,m),a(d.scaleX,d.scaleY,h.scaleX,h.scaleY,g,m),d=h=null,function(y){for(var b=-1,p=m.length,P;++b<p;)g[(P=m[b]).i]=P.x(y);return g.join("")}}}var mv=Bh(hv,"px, ","px)","deg)"),_v=Bh(gv,", ",")",")"),yv=1e-12;function Gc(t){return((t=Math.exp(t))+1/t)/2}function wv(t){return((t=Math.exp(t))-1/t)/2}function bv(t){return((t=Math.exp(2*t))-1)/(t+1)}const vv=function t(e,n,i){function l(s,u){var f=s[0],a=s[1],d=s[2],h=u[0],g=u[1],m=u[2],y=h-f,b=g-a,p=y*y+b*b,P,w;if(p<yv)w=Math.log(m/d)/e,P=function(z){return[f+z*y,a+z*b,d*Math.exp(e*z*w)]};else{var H=Math.sqrt(p),S=(m*m-d*d+i*p)/(2*d*n*H),O=(m*m-d*d-i*p)/(2*m*n*H),I=Math.log(Math.sqrt(S*S+1)-S),A=Math.log(Math.sqrt(O*O+1)-O);w=(A-I)/e,P=function(z){var L=z*w,W=Gc(I),K=d/(n*H)*(W*bv(e*L+I)-wv(I));return[f+K*y,a+K*b,d*W/Gc(e*L+I)]}}return P.duration=w*1e3*e/Math.SQRT2,P}return l.rho=function(s){var u=Math.max(.001,+s),f=u*u,a=f*f;return t(u,f,a)},l}(Math.SQRT2,2,4);var yr=0,Ur=0,Fr=0,Xh=1e3,Tl,qr,Ol=0,Yi=0,Yl=0,ro=typeof performance=="object"&&performance.now?performance:Date,Yh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ef(){return Yi||(Yh(pv),Yi=ro.now()+Yl)}function pv(){Yi=0}function Il(){this._call=this._time=this._next=null}Il.prototype=Fh.prototype={constructor:Il,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ef():+n)+(e==null?0:+e),!this._next&&qr!==this&&(qr?qr._next=this:Tl=this,qr=this),this._call=t,this._time=n,Fu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fu())}};function Fh(t,e,n){var i=new Il;return i.restart(t,e,n),i}function Sv(){ef(),++yr;for(var t=Tl,e;t;)(e=Yi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yr}function Zc(){Yi=(Ol=ro.now())+Yl,yr=Ur=0;try{Sv()}finally{yr=0,Cv(),Yi=0}}function kv(){var t=ro.now(),e=t-Ol;e>Xh&&(Yl-=e,Ol=t)}function Cv(){for(var t,e=Tl,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Tl=n);qr=t,Fu(i)}function Fu(t){if(!yr){Ur&&(Ur=clearTimeout(Ur));var e=t-Yi;e>24?(t<1/0&&(Ur=setTimeout(Zc,t-ro.now()-Yl)),Fr&&(Fr=clearInterval(Fr))):(Fr||(Ol=ro.now(),Fr=setInterval(kv,Xh)),yr=1,Yh(Zc))}}function Jc(t,e,n){var i=new Il;return e=e==null?0:+e,i.restart(l=>{i.stop(),t(l+e)},e,n),i}var Ev=Bl("start","end","cancel","interrupt"),Av=[],Vh=0,Qc=1,Vu=2,vl=3,jc=4,Ku=5,pl=6;function Fl(t,e,n,i,l,s){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;Mv(t,n,{name:e,index:i,group:l,on:Ev,tween:Av,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Vh})}function tf(t,e){var n=Ln(t,e);if(n.state>Vh)throw new Error("too late; already scheduled");return n}function Un(t,e){var n=Ln(t,e);if(n.state>vl)throw new Error("too late; already running");return n}function Ln(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Mv(t,e,n){var i=t.__transition,l;i[e]=n,n.timer=Fh(s,0,n.time);function s(d){n.state=Qc,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var h,g,m,y;if(n.state!==Qc)return a();for(h in i)if(y=i[h],y.name===n.name){if(y.state===vl)return Jc(u);y.state===jc?(y.state=pl,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete i[h]):+h<e&&(y.state=pl,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete i[h])}if(Jc(function(){n.state===vl&&(n.state=jc,n.timer.restart(f,n.delay,n.time),f(d))}),n.state=Vu,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Vu){for(n.state=vl,l=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(y=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(l[++g]=y);l.length=g+1}}function f(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(a),n.state=Ku,1),g=-1,m=l.length;++g<m;)l[g].call(t,h);n.state===Ku&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=pl,n.timer.stop(),delete i[e];for(var d in i)return;delete t.__transition}}function Sl(t,e){var n=t.__transition,i,l,s=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((i=n[u]).name!==e){s=!1;continue}l=i.state>Vu&&i.state<Ku,i.state=pl,i.timer.stop(),i.on.call(l?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}s&&delete t.__transition}}function Pv(t){return this.each(function(){Sl(this,t)})}function Tv(t,e){var n,i;return function(){var l=Un(this,t),s=l.tween;if(s!==n){i=n=s;for(var u=0,f=i.length;u<f;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}l.tween=i}}function Ov(t,e,n){var i,l;if(typeof n!="function")throw new Error;return function(){var s=Un(this,t),u=s.tween;if(u!==i){l=(i=u).slice();for(var f={name:e,value:n},a=0,d=l.length;a<d;++a)if(l[a].name===e){l[a]=f;break}a===d&&l.push(f)}s.tween=l}}function Iv(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ln(this.node(),n).tween,l=0,s=i.length,u;l<s;++l)if((u=i[l]).name===t)return u.value;return null}return this.each((e==null?Tv:Ov)(n,t,e))}function nf(t,e,n){var i=t._id;return t.each(function(){var l=Un(this,i);(l.value||(l.value={}))[e]=n.apply(this,arguments)}),function(l){return Ln(l,i).value[e]}}function Kh(t,e){var n;return(typeof e=="number"?Ci:e instanceof io?qc:(n=io(e))?(e=n,qc):dv)(t,e)}function Hv(t){return function(){this.removeAttribute(t)}}function zv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nv(t,e,n){var i,l=n+"",s;return function(){var u=this.getAttribute(t);return u===l?null:u===i?s:s=e(i=u,n)}}function Lv(t,e,n){var i,l=n+"",s;return function(){var u=this.getAttributeNS(t.space,t.local);return u===l?null:u===i?s:s=e(i=u,n)}}function Rv(t,e,n){var i,l,s;return function(){var u,f=n(this),a;return f==null?void this.removeAttribute(t):(u=this.getAttribute(t),a=f+"",u===a?null:u===i&&a===l?s:(l=a,s=e(i=u,f)))}}function Dv(t,e,n){var i,l,s;return function(){var u,f=n(this),a;return f==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),a=f+"",u===a?null:u===i&&a===l?s:(l=a,s=e(i=u,f)))}}function Wv(t,e){var n=Xl(t),i=n==="transform"?_v:Kh;return this.attrTween(t,typeof e=="function"?(n.local?Dv:Rv)(n,i,nf(this,"attr."+t,e)):e==null?(n.local?zv:Hv)(n):(n.local?Lv:Nv)(n,i,e))}function Bv(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Xv(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Yv(t,e){var n,i;function l(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Xv(t,s)),n}return l._value=e,l}function Fv(t,e){var n,i;function l(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Bv(t,s)),n}return l._value=e,l}function Vv(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Xl(t);return this.tween(n,(i.local?Yv:Fv)(i,e))}function Kv(t,e){return function(){tf(this,t).delay=+e.apply(this,arguments)}}function Uv(t,e){return e=+e,function(){tf(this,t).delay=e}}function qv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Kv:Uv)(e,t)):Ln(this.node(),e).delay}function xv(t,e){return function(){Un(this,t).duration=+e.apply(this,arguments)}}function Gv(t,e){return e=+e,function(){Un(this,t).duration=e}}function Zv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xv:Gv)(e,t)):Ln(this.node(),e).duration}function Jv(t,e){if(typeof e!="function")throw new Error;return function(){Un(this,t).ease=e}}function Qv(t){var e=this._id;return arguments.length?this.each(Jv(e,t)):Ln(this.node(),e).ease}function jv(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Un(this,t).ease=n}}function $v(t){if(typeof t!="function")throw new Error;return this.each(jv(this._id,t))}function ep(t){typeof t!="function"&&(t=ph(t));for(var e=this._groups,n=e.length,i=new Array(n),l=0;l<n;++l)for(var s=e[l],u=s.length,f=i[l]=[],a,d=0;d<u;++d)(a=s[d])&&t.call(a,a.__data__,d,s)&&f.push(a);return new ui(i,this._parents,this._name,this._id)}function tp(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,l=n.length,s=Math.min(i,l),u=new Array(i),f=0;f<s;++f)for(var a=e[f],d=n[f],h=a.length,g=u[f]=new Array(h),m,y=0;y<h;++y)(m=a[y]||d[y])&&(g[y]=m);for(;f<i;++f)u[f]=e[f];return new ui(u,this._parents,this._name,this._id)}function np(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ip(t,e,n){var i,l,s=np(e)?tf:Un;return function(){var u=s(this,t),f=u.on;f!==i&&(l=(i=f).copy()).on(e,n),u.on=l}}function rp(t,e){var n=this._id;return arguments.length<2?Ln(this.node(),n).on.on(t):this.each(ip(n,t,e))}function op(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function lp(){return this.on("end.remove",op(this._id))}function sp(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qu(t));for(var i=this._groups,l=i.length,s=new Array(l),u=0;u<l;++u)for(var f=i[u],a=f.length,d=s[u]=new Array(a),h,g,m=0;m<a;++m)(h=f[m])&&(g=t.call(h,h.__data__,m,f))&&("__data__"in h&&(g.__data__=h.__data__),d[m]=g,Fl(d[m],e,n,m,d,Ln(h,n)));return new ui(s,this._parents,e,n)}function up(t){var e=this._name,n=this._id;typeof t!="function"&&(t=vh(t));for(var i=this._groups,l=i.length,s=[],u=[],f=0;f<l;++f)for(var a=i[f],d=a.length,h,g=0;g<d;++g)if(h=a[g]){for(var m=t.call(h,h.__data__,g,a),y,b=Ln(h,n),p=0,P=m.length;p<P;++p)(y=m[p])&&Fl(y,e,n,p,m,b);s.push(m),u.push(h)}return new ui(s,u,e,n)}var fp=ao.prototype.constructor;function ap(){return new fp(this._groups,this._parents)}function cp(t,e){var n,i,l;return function(){var s=_r(this,t),u=(this.style.removeProperty(t),_r(this,t));return s===u?null:s===n&&u===i?l:l=e(n=s,i=u)}}function Uh(t){return function(){this.style.removeProperty(t)}}function dp(t,e,n){var i,l=n+"",s;return function(){var u=_r(this,t);return u===l?null:u===i?s:s=e(i=u,n)}}function hp(t,e,n){var i,l,s;return function(){var u=_r(this,t),f=n(this),a=f+"";return f==null&&(a=f=(this.style.removeProperty(t),_r(this,t))),u===a?null:u===i&&a===l?s:(l=a,s=e(i=u,f))}}function gp(t,e){var n,i,l,s="style."+e,u="end."+s,f;return function(){var a=Un(this,t),d=a.on,h=a.value[s]==null?f||(f=Uh(e)):void 0;(d!==n||l!==h)&&(i=(n=d).copy()).on(u,l=h),a.on=i}}function mp(t,e,n){var i=(t+="")=="transform"?mv:Kh;return e==null?this.styleTween(t,cp(t,i)).on("end.style."+t,Uh(t)):typeof e=="function"?this.styleTween(t,hp(t,i,nf(this,"style."+t,e))).each(gp(this._id,t)):this.styleTween(t,dp(t,i,e),n).on("end.style."+t,null)}function _p(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function yp(t,e,n){var i,l;function s(){var u=e.apply(this,arguments);return u!==l&&(i=(l=u)&&_p(t,u,n)),i}return s._value=e,s}function wp(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,yp(t,e,n??""))}function bp(t){return function(){this.textContent=t}}function vp(t){return function(){var e=t(this);this.textContent=e??""}}function pp(t){return this.tween("text",typeof t=="function"?vp(nf(this,"text",t)):bp(t==null?"":t+""))}function Sp(t){return function(e){this.textContent=t.call(this,e)}}function kp(t){var e,n;function i(){var l=t.apply(this,arguments);return l!==n&&(e=(n=l)&&Sp(l)),e}return i._value=t,i}function Cp(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,kp(t))}function Ep(){for(var t=this._name,e=this._id,n=qh(),i=this._groups,l=i.length,s=0;s<l;++s)for(var u=i[s],f=u.length,a,d=0;d<f;++d)if(a=u[d]){var h=Ln(a,e);Fl(a,t,n,d,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ui(i,this._parents,t,n)}function Ap(){var t,e,n=this,i=n._id,l=n.size();return new Promise(function(s,u){var f={value:u},a={value:function(){--l===0&&s()}};n.each(function(){var d=Un(this,i),h=d.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(a)),d.on=e}),l===0&&s()})}var Mp=0;function ui(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function qh(){return++Mp}var ii=ao.prototype;ui.prototype={constructor:ui,select:sp,selectAll:up,selectChild:ii.selectChild,selectChildren:ii.selectChildren,filter:ep,merge:tp,selection:ap,transition:Ep,call:ii.call,nodes:ii.nodes,node:ii.node,size:ii.size,empty:ii.empty,each:ii.each,on:rp,attr:Wv,attrTween:Vv,style:mp,styleTween:wp,text:pp,textTween:Cp,remove:lp,tween:Iv,delay:qv,duration:Zv,ease:Qv,easeVarying:$v,end:Ap,[Symbol.iterator]:ii[Symbol.iterator]};function Pp(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tp={time:null,delay:0,duration:250,ease:Pp};function Op(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ip(t){var e,n;t instanceof ui?(e=t._id,t=t._name):(e=qh(),(n=Tp).time=ef(),t=t==null?null:t+"");for(var i=this._groups,l=i.length,s=0;s<l;++s)for(var u=i[s],f=u.length,a,d=0;d<f;++d)(a=u[d])&&Fl(a,t,e,d,u,n||Op(a,e));return new ui(i,this._parents,t,e)}ao.prototype.interrupt=Pv;ao.prototype.transition=Ip;const dl=t=>()=>t;function Hp(t,{sourceEvent:e,target:n,transform:i,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:l}})}function ri(t,e,n){this.k=t,this.x=e,this.y=n}ri.prototype={constructor:ri,scale:function(t){return t===1?this:new ri(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ri(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vl=new ri(1,0,0);xh.prototype=ri.prototype;function xh(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Vl;return t.__zoom}function Eu(t){t.stopImmediatePropagation()}function Vr(t){t.preventDefault(),t.stopImmediatePropagation()}function zp(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Np(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function $c(){return this.__zoom||Vl}function Lp(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Rp(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dp(t,e,n){var i=t.invertX(e[0][0])-n[0][0],l=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l),u>s?(s+u)/2:Math.min(0,s)||Math.max(0,u))}function Gh(){var t=zp,e=Np,n=Dp,i=Lp,l=Rp,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],f=250,a=vv,d=Bl("start","zoom","end"),h,g,m,y=500,b=150,p=0,P=10;function w(T){T.property("__zoom",$c).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",K).filter(l).on("touchstart.zoom",M).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(T,V,Y,G){var x=T.selection?T.selection():T;x.property("__zoom",$c),T!==x?I(T,V,Y,G):x.interrupt().each(function(){A(this,arguments).event(G).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},w.scaleBy=function(T,V,Y,G){w.scaleTo(T,function(){var x=this.__zoom.k,ee=typeof V=="function"?V.apply(this,arguments):V;return x*ee},Y,G)},w.scaleTo=function(T,V,Y,G){w.transform(T,function(){var x=e.apply(this,arguments),ee=this.__zoom,ae=Y==null?O(x):typeof Y=="function"?Y.apply(this,arguments):Y,ce=ee.invert(ae),$=typeof V=="function"?V.apply(this,arguments):V;return n(S(H(ee,$),ae,ce),x,u)},Y,G)},w.translateBy=function(T,V,Y,G){w.transform(T,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof Y=="function"?Y.apply(this,arguments):Y),e.apply(this,arguments),u)},null,G)},w.translateTo=function(T,V,Y,G,x){w.transform(T,function(){var ee=e.apply(this,arguments),ae=this.__zoom,ce=G==null?O(ee):typeof G=="function"?G.apply(this,arguments):G;return n(Vl.translate(ce[0],ce[1]).scale(ae.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof Y=="function"?-Y.apply(this,arguments):-Y),ee,u)},G,x)};function H(T,V){return V=Math.max(s[0],Math.min(s[1],V)),V===T.k?T:new ri(V,T.x,T.y)}function S(T,V,Y){var G=V[0]-Y[0]*T.k,x=V[1]-Y[1]*T.k;return G===T.x&&x===T.y?T:new ri(T.k,G,x)}function O(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function I(T,V,Y,G){T.on("start.zoom",function(){A(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(G).end()}).tween("zoom",function(){var x=this,ee=arguments,ae=A(x,ee).event(G),ce=e.apply(x,ee),$=Y==null?O(ce):typeof Y=="function"?Y.apply(x,ee):Y,be=Math.max(ce[1][0]-ce[0][0],ce[1][1]-ce[0][1]),Me=x.__zoom,Ae=typeof V=="function"?V.apply(x,ee):V,R=a(Me.invert($).concat(be/Me.k),Ae.invert($).concat(be/Ae.k));return function(ge){if(ge===1)ge=Ae;else{var me=R(ge),oe=be/me[2];ge=new ri(oe,$[0]-me[0]*oe,$[1]-me[1]*oe)}ae.zoom(null,ge)}})}function A(T,V,Y){return!Y&&T.__zooming||new z(T,V)}function z(T,V){this.that=T,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(T,V),this.taps=0}z.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,V){return this.mouse&&T!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var V=cn(this.that).datum();d.call(T,this.that,new Hp(T,{sourceEvent:this.sourceEvent,target:w,type:T,transform:this.that.__zoom,dispatch:d}),V)}};function L(T,...V){if(!t.apply(this,arguments))return;var Y=A(this,V).event(T),G=this.__zoom,x=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,i.apply(this,arguments)))),ee=Hn(T);if(Y.wheel)(Y.mouse[0][0]!==ee[0]||Y.mouse[0][1]!==ee[1])&&(Y.mouse[1]=G.invert(Y.mouse[0]=ee)),clearTimeout(Y.wheel);else{if(G.k===x)return;Y.mouse=[ee,G.invert(ee)],Sl(this),Y.start()}Vr(T),Y.wheel=setTimeout(ae,b),Y.zoom("mouse",n(S(H(G,x),Y.mouse[0],Y.mouse[1]),Y.extent,u));function ae(){Y.wheel=null,Y.end()}}function W(T,...V){if(m||!t.apply(this,arguments))return;var Y=T.currentTarget,G=A(this,V,!0).event(T),x=cn(T.view).on("mousemove.zoom",$,!0).on("mouseup.zoom",be,!0),ee=Hn(T,Y),ae=T.clientX,ce=T.clientY;Ih(T.view),Eu(T),G.mouse=[ee,this.__zoom.invert(ee)],Sl(this),G.start();function $(Me){if(Vr(Me),!G.moved){var Ae=Me.clientX-ae,R=Me.clientY-ce;G.moved=Ae*Ae+R*R>p}G.event(Me).zoom("mouse",n(S(G.that.__zoom,G.mouse[0]=Hn(Me,Y),G.mouse[1]),G.extent,u))}function be(Me){x.on("mousemove.zoom mouseup.zoom",null),Hh(Me.view,G.moved),Vr(Me),G.event(Me).end()}}function K(T,...V){if(t.apply(this,arguments)){var Y=this.__zoom,G=Hn(T.changedTouches?T.changedTouches[0]:T,this),x=Y.invert(G),ee=Y.k*(T.shiftKey?.5:2),ae=n(S(H(Y,ee),G,x),e.apply(this,V),u);Vr(T),f>0?cn(this).transition().duration(f).call(I,ae,G,T):cn(this).call(w.transform,ae,G,T)}}function M(T,...V){if(t.apply(this,arguments)){var Y=T.touches,G=Y.length,x=A(this,V,T.changedTouches.length===G).event(T),ee,ae,ce,$;for(Eu(T),ae=0;ae<G;++ae)ce=Y[ae],$=Hn(ce,this),$=[$,this.__zoom.invert($),ce.identifier],x.touch0?!x.touch1&&x.touch0[2]!==$[2]&&(x.touch1=$,x.taps=0):(x.touch0=$,ee=!0,x.taps=1+!!h);h&&(h=clearTimeout(h)),ee&&(x.taps<2&&(g=$[0],h=setTimeout(function(){h=null},y)),Sl(this),x.start())}}function D(T,...V){if(this.__zooming){var Y=A(this,V).event(T),G=T.changedTouches,x=G.length,ee,ae,ce,$;for(Vr(T),ee=0;ee<x;++ee)ae=G[ee],ce=Hn(ae,this),Y.touch0&&Y.touch0[2]===ae.identifier?Y.touch0[0]=ce:Y.touch1&&Y.touch1[2]===ae.identifier&&(Y.touch1[0]=ce);if(ae=Y.that.__zoom,Y.touch1){var be=Y.touch0[0],Me=Y.touch0[1],Ae=Y.touch1[0],R=Y.touch1[1],ge=(ge=Ae[0]-be[0])*ge+(ge=Ae[1]-be[1])*ge,me=(me=R[0]-Me[0])*me+(me=R[1]-Me[1])*me;ae=H(ae,Math.sqrt(ge/me)),ce=[(be[0]+Ae[0])/2,(be[1]+Ae[1])/2],$=[(Me[0]+R[0])/2,(Me[1]+R[1])/2]}else if(Y.touch0)ce=Y.touch0[0],$=Y.touch0[1];else return;Y.zoom("touch",n(S(ae,ce,$),Y.extent,u))}}function B(T,...V){if(this.__zooming){var Y=A(this,V).event(T),G=T.changedTouches,x=G.length,ee,ae;for(Eu(T),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),ee=0;ee<x;++ee)ae=G[ee],Y.touch0&&Y.touch0[2]===ae.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===ae.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(ae=Hn(ae,this),Math.hypot(g[0]-ae[0],g[1]-ae[1])<P)){var ce=cn(this).on("dblclick.zoom");ce&&ce.apply(this,arguments)}}}return w.wheelDelta=function(T){return arguments.length?(i=typeof T=="function"?T:dl(+T),w):i},w.filter=function(T){return arguments.length?(t=typeof T=="function"?T:dl(!!T),w):t},w.touchable=function(T){return arguments.length?(l=typeof T=="function"?T:dl(!!T),w):l},w.extent=function(T){return arguments.length?(e=typeof T=="function"?T:dl([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),w):e},w.scaleExtent=function(T){return arguments.length?(s[0]=+T[0],s[1]=+T[1],w):[s[0],s[1]]},w.translateExtent=function(T){return arguments.length?(u[0][0]=+T[0][0],u[1][0]=+T[1][0],u[0][1]=+T[0][1],u[1][1]=+T[1][1],w):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},w.constrain=function(T){return arguments.length?(n=T,w):n},w.duration=function(T){return arguments.length?(f=+T,w):f},w.interpolate=function(T){return arguments.length?(a=T,w):a},w.on=function(){var T=d.on.apply(d,arguments);return T===d?w:T},w.clickDistance=function(T){return arguments.length?(p=(T=+T)*T,w):Math.sqrt(p)},w.tapDistance=function(T){return arguments.length?(P=+T,w):P},w}const ho={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},_t=Symbol.for("internals"),ed=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ai;(function(t){t.Strict="strict",t.Loose="loose"})(Ai||(Ai={}));var Kn;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Kn||(Kn={}));var Hl;(function(t){t.Partial="partial",t.Full="full"})(Hl||(Hl={}));var ar;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ar||(ar={}));var wr;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(wr||(wr={}));var Ke;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ke||(Ke={}));function Wp(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function td(t,e,n){if(!n)return;const i=[];t.forEach((l,s)=>{e!=null&&e.has(s)||i.push(l)}),i.length&&n(i)}const Bp=t=>"id"in t&&"source"in t&&"target"in t,Xp=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),kr=(t,e=[0,0])=>{var f;if(!t)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const{width:n,height:i}=mo(t),l=n*e[0],s=i*e[1],u={x:t.position.x-l,y:t.position.y-s};return{position:u,positionAbsolute:(f=t.computed)!=null&&f.positionAbsolute?{x:t.computed.positionAbsolute.x-l,y:t.computed.positionAbsolute.y-s}:u}},go=(t,e={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,l)=>{const s=kr(l,l.origin||e.nodeOrigin);return rf(i,zl({...s[e.useRelativePosition?"position":"positionAbsolute"],...mo(l)}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return of(n)},Zh=(t,e,[n,i,l]=[0,0,1],s=!1,u=!1,f=[0,0])=>{const a={...Kl(e,[n,i,l]),width:e.width/l,height:e.height/l};return t.reduce((h,g)=>{const{computed:m,selectable:y=!0,hidden:b=!1}=g,p=(m==null?void 0:m.width)??g.width??g.initialWidth??null,P=(m==null?void 0:m.height)??g.height??g.initialHeight??null;if(u&&!y||b)return h;const w=Nl(a,qu(g,f)),H=p===null||P===null,S=s&&w>0,O=(p??0)*(P??0);return(H||S||w>=O||g.dragging)&&h.push(g),h},[])},Uu=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Yp({nodes:t,width:e,height:n,panZoom:i,minZoom:l,maxZoom:s,nodeOrigin:u=[0,0]},f){const a=t.filter(d=>{var g,m,y;const h=((g=d.computed)==null?void 0:g.width)&&((m=d.computed)==null?void 0:m.height)&&((f==null?void 0:f.includeHiddenNodes)||!d.hidden);return(y=f==null?void 0:f.nodes)!=null&&y.length?h&&(f==null?void 0:f.nodes.some(b=>b.id===d.id)):h});if(a.length>0){const d=go(a,{nodeOrigin:u}),h=sf(d,e,n,(f==null?void 0:f.minZoom)??l,(f==null?void 0:f.maxZoom)??s,(f==null?void 0:f.padding)??.1);return i.setViewport(h,{duration:f==null?void 0:f.duration}),!0}return!1}function Fp(t,e){var n,i;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.computed)==null?void 0:n.width)??0),e[1][1]-(((i=t.computed)==null?void 0:i.height)??0)]]}function Vp({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:l,onError:s}){var m,y,b,p;const u=n.get(t),f=u.parentNode?n.get(u.parentNode):void 0,{x:a,y:d}=f?kr(f,f.origin||i).positionAbsolute:{x:0,y:0};let h=Fp(u,u.extent||l);if(u.extent==="parent"&&!u.expandParent)if(!f)s==null||s("005",ho.error005());else{const P=(m=u.computed)==null?void 0:m.width,w=(y=u.computed)==null?void 0:y.height,H=(b=f==null?void 0:f.computed)==null?void 0:b.width,S=(p=f==null?void 0:f.computed)==null?void 0:p.height;if(P&&w&&H&&S){const O=u.origin||i,I=a+P*O[0],A=d+w*O[1];h=[[I,A],[I+H-P,A+S-w]]}}else f&&od(u.extent)&&(h=[[u.extent[0][0]+a,u.extent[0][1]+d],[u.extent[1][0]+a,u.extent[1][1]+d]]);const g=od(h)?Kp(e,h):e;return{position:{x:g.x-a,y:g.y-d},positionAbsolute:g}}async function Jh({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:l}){const s=t.map(m=>m.id),u=[];for(const m of n){if(m.deletable===!1)continue;const y=s.includes(m.id),b=!y&&m.parentNode&&u.find(p=>p.id===m.parentNode);(y||b)&&u.push(m)}const f=e.map(m=>m.id),a=i.filter(m=>m.deletable!==!1),h=Uu(u,a);for(const m of a)f.includes(m.id)&&!h.find(b=>b.id===m.id)&&h.push(m);if(!l)return{edges:h,nodes:u};const g=await l({nodes:u,edges:h});return typeof g=="boolean"?g?{edges:h,nodes:u}:{edges:[],nodes:[]}:g}const br=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Kp=(t={x:0,y:0},e)=>({x:br(t.x,e[0][0],e[1][0]),y:br(t.y,e[0][1],e[1][1])}),nd=(t,e,n)=>t<e?br(Math.abs(t-e),1,50)/50:t>n?-br(Math.abs(t-n),1,50)/50:0,Qh=(t,e)=>{const n=nd(t.x,35,e.width-35)*20,i=nd(t.y,35,e.height-35)*20;return[n,i]},rf=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),zl=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),of=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),qu=(t,e=[0,0])=>{var i,l;const{positionAbsolute:n}=kr(t,t.origin||e);return{...n,width:((i=t.computed)==null?void 0:i.width)??t.width??0,height:((l=t.computed)==null?void 0:l.height)??t.height??0}},id=(t,e=[0,0])=>{var i,l;const{positionAbsolute:n}=kr(t,t.origin||e);return{...n,x2:n.x+(((i=t.computed)==null?void 0:i.width)??t.width??0),y2:n.y+(((l=t.computed)==null?void 0:l.height)??t.height??0)}},Up=(t,e)=>of(rf(zl(t),zl(e))),Nl=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},rd=t=>xr(t.width)&&xr(t.height)&&xr(t.x)&&xr(t.y),xr=t=>!isNaN(t)&&isFinite(t),qp=(t,e)=>{},xp=({x:t,y:e,width:n,height:i,origin:l=[0,0]})=>!n||!i||l[0]<0||l[1]<0||l[0]>1||l[1]>1?{x:t,y:e}:{x:t-n*l[0],y:e-i*l[1]},lf=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Kl=({x:t,y:e},[n,i,l],s=!1,u=[1,1])=>{const f={x:(t-n)/l,y:(e-i)/l};return s?lf(f,u):f},jh=({x:t,y:e},[n,i,l])=>({x:t*l+n,y:e*l+i}),sf=(t,e,n,i,l,s)=>{const u=e/(t.width*(1+s)),f=n/(t.height*(1+s)),a=Math.min(u,f),d=br(a,i,l),h=t.x+t.width/2,g=t.y+t.height/2,m=e/2-h*d,y=n/2-g*d;return{x:m,y,zoom:d}},Ll=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function od(t){return t!==void 0&&t!=="parent"}function mo(t){var e,n;return{width:((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight??0}}function oo(t){var e,n;return(((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Zr(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:l,y:s}=oi(t),u=Kl({x:l,y:s},i),{x:f,y:a}=n?lf(u,e):u;return{xSnapped:f,ySnapped:a,...u}}const $h=t=>({width:t.offsetWidth,height:t.offsetHeight}),Gp=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Zp=["INPUT","SELECT","TEXTAREA"];function Jp(t){var i,l;const e=((l=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:l[0])||t.target;return Zp.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const e1=t=>"clientX"in t,oi=(t,e)=>{var s,u;const n=e1(t),i=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,l=n?t.clientY:(u=t.touches)==null?void 0:u[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:l-((e==null?void 0:e.top)??0)}},ld=(t,e,n,i=[0,0])=>{const l=e.querySelectorAll(t);if(!l||!l.length)return null;const s=Array.from(l),u=e.getBoundingClientRect(),f={x:u.width*i[0],y:u.height*i[1]};return s.map(a=>{const d=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(d.left-u.left-f.x)/n,y:(d.top-u.top-f.y)/n,...$h(a)}})};function Qp({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:l,sourceControlY:s,targetControlX:u,targetControlY:f}){const a=t*.125+l*.375+u*.375+n*.125,d=e*.125+s*.375+f*.375+i*.125,h=Math.abs(a-t),g=Math.abs(d-e);return[a,d,h,g]}function hl(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function sd({pos:t,x1:e,y1:n,x2:i,y2:l,c:s}){switch(t){case Ke.Left:return[e-hl(e-i,s),n];case Ke.Right:return[e+hl(i-e,s),n];case Ke.Top:return[e,n-hl(n-l,s)];case Ke.Bottom:return[e,n+hl(l-n,s)]}}function t1({sourceX:t,sourceY:e,sourcePosition:n=Ke.Bottom,targetX:i,targetY:l,targetPosition:s=Ke.Top,curvature:u=.25}){const[f,a]=sd({pos:n,x1:t,y1:e,x2:i,y2:l,c:u}),[d,h]=sd({pos:s,x1:i,y1:l,x2:t,y2:e,c:u}),[g,m,y,b]=Qp({sourceX:t,sourceY:e,targetX:i,targetY:l,sourceControlX:f,sourceControlY:a,targetControlX:d,targetControlY:h});return[`M${t},${e} C${f},${a} ${d},${h} ${i},${l}`,g,m,y,b]}function n1({sourceX:t,sourceY:e,targetX:n,targetY:i}){const l=Math.abs(n-t)/2,s=n<t?n+l:n-l,u=Math.abs(i-e)/2,f=i<e?i+u:i-u;return[s,f,l,u]}function jp({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:l=!1}){var f,a;if(!l)return i;const s=n||e.selected||t.selected,u=Math.max(((f=t[_t])==null?void 0:f.z)||0,((a=e[_t])==null?void 0:a.z)||0,1e3);return i+(s?u:0)}function $p({sourceNode:t,targetNode:e,width:n,height:i,transform:l}){const s=rf(id(t),id(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const u={x:-l[0]/l[2],y:-l[1]/l[2],width:n/l[2],height:i/l[2]};return Nl(u,of(s))>0}const e5=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,t5=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),n5=(t,e)=>{if(!t.source||!t.target)return e;let n;return Bp(t)?n={...t}:n={...t,id:e5(t)},t5(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function i1({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[l,s,u,f]=n1({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,l,s,u,f]}const ud={[Ke.Left]:{x:-1,y:0},[Ke.Right]:{x:1,y:0},[Ke.Top]:{x:0,y:-1},[Ke.Bottom]:{x:0,y:1}},i5=({source:t,sourcePosition:e=Ke.Bottom,target:n})=>e===Ke.Left||e===Ke.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},fd=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function r5({source:t,sourcePosition:e=Ke.Bottom,target:n,targetPosition:i=Ke.Top,center:l,offset:s}){const u=ud[e],f=ud[i],a={x:t.x+u.x*s,y:t.y+u.y*s},d={x:n.x+f.x*s,y:n.y+f.y*s},h=i5({source:a,sourcePosition:e,target:d}),g=h.x!==0?"x":"y",m=h[g];let y=[],b,p;const P={x:0,y:0},w={x:0,y:0},[H,S,O,I]=n1({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[g]*f[g]===-1){b=l.x??H,p=l.y??S;const z=[{x:b,y:a.y},{x:b,y:d.y}],L=[{x:a.x,y:p},{x:d.x,y:p}];u[g]===m?y=g==="x"?z:L:y=g==="x"?L:z}else{const z=[{x:a.x,y:d.y}],L=[{x:d.x,y:a.y}];if(g==="x"?y=u.x===m?L:z:y=u.y===m?z:L,e===i){const B=Math.abs(t[g]-n[g]);if(B<=s){const T=Math.min(s-1,s-B);u[g]===m?P[g]=(a[g]>t[g]?-1:1)*T:w[g]=(d[g]>n[g]?-1:1)*T}}if(e!==i){const B=g==="x"?"y":"x",T=u[g]===f[B],V=a[B]>d[B],Y=a[B]<d[B];(u[g]===1&&(!T&&V||T&&Y)||u[g]!==1&&(!T&&Y||T&&V))&&(y=g==="x"?z:L)}const W={x:a.x+P.x,y:a.y+P.y},K={x:d.x+w.x,y:d.y+w.y},M=Math.max(Math.abs(W.x-y[0].x),Math.abs(K.x-y[0].x)),D=Math.max(Math.abs(W.y-y[0].y),Math.abs(K.y-y[0].y));M>=D?(b=(W.x+K.x)/2,p=y[0].y):(b=y[0].x,p=(W.y+K.y)/2)}return[[t,{x:a.x+P.x,y:a.y+P.y},...y,{x:d.x+w.x,y:d.y+w.y},n],b,p,O,I]}function o5(t,e,n,i){const l=Math.min(fd(t,e)/2,fd(e,n)/2,i),{x:s,y:u}=e;if(t.x===s&&s===n.x||t.y===u&&u===n.y)return`L${s} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${s+l*d},${u}Q ${s},${u} ${s},${u+l*h}`}const f=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${s},${u+l*a}Q ${s},${u} ${s+l*f},${u}`}function vr({sourceX:t,sourceY:e,sourcePosition:n=Ke.Bottom,targetX:i,targetY:l,targetPosition:s=Ke.Top,borderRadius:u=5,centerX:f,centerY:a,offset:d=20}){const[h,g,m,y,b]=r5({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:l},targetPosition:s,center:{x:f,y:a},offset:d});return[h.reduce((P,w,H)=>{let S="";return H>0&&H<h.length-1?S=o5(h[H-1],w,h[H+1],u):S=`${H===0?"M":"L"}${w.x} ${w.y}`,P+=S,P},""),g,m,y,b]}function ad(t){var e,n,i;return!!((e=t==null?void 0:t[_t])!=null&&e.handleBounds||(n=t==null?void 0:t.handles)!=null&&n.length)&&!!((i=t==null?void 0:t.computed)!=null&&i.width||t!=null&&t.width||t!=null&&t.initialWidth)}function l5(t){var y,b,p;const{sourceNode:e,targetNode:n}=t;if(!ad(e)||!ad(n))return null;const i=((y=e[_t])==null?void 0:y.handleBounds)||cd(e.handles),l=((b=n[_t])==null?void 0:b.handleBounds)||cd(n.handles),s=hd((i==null?void 0:i.source)??[],t.sourceHandle),u=hd(t.connectionMode===Ai.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),t.targetHandle),f=(s==null?void 0:s.position)||Ke.Bottom,a=(u==null?void 0:u.position)||Ke.Top;if(!s||!u)return(p=t.onError)==null||p.call(t,"008",ho.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const[d,h]=dd(f,e,s),[g,m]=dd(a,n,u);return{sourceX:d,sourceY:h,targetX:g,targetY:m,sourcePosition:f,targetPosition:a}}function cd(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function dd(t,e,n=null){var f,a,d,h;const i=((n==null?void 0:n.x)??0)+(((a=(f=e.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.x)??0),l=((n==null?void 0:n.y)??0)+(((h=(d=e.computed)==null?void 0:d.positionAbsolute)==null?void 0:h.y)??0),{width:s,height:u}=n??mo(e);switch(t){case Ke.Top:return[i+s/2,l];case Ke.Right:return[i+s,l+u/2];case Ke.Bottom:return[i+s/2,l+u];case Ke.Left:return[i,l+u/2]}}function hd(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function xu(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function s5(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:l}){const s=new Set;return t.reduce((u,f)=>([f.markerStart||i,f.markerEnd||l].forEach(a=>{if(a&&typeof a=="object"){const d=xu(a,e);s.has(d)||(u.push({id:d,color:a.color||n,...a}),s.add(d))}}),u),[]).sort((u,f)=>u.id.localeCompare(f.id))}function u5(t,e,n=[0,0],i){return t.map(l=>{var s,u,f,a,d,h;if(l.parentNode&&!e.has(l.parentNode))throw new Error(`Parent node ${l.parentNode} not found`);if(l.parentNode||i!=null&&i[l.id]){const g=l.parentNode?e.get(l.parentNode):null,{x:m,y,z:b}=o1(l,t,e,{...l.position,z:((s=l[_t])==null?void 0:s.z)??0},(g==null?void 0:g.origin)||n),p=m!==((f=(u=l.computed)==null?void 0:u.positionAbsolute)==null?void 0:f.x)||y!==((d=(a=l.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y);l.computed.positionAbsolute=p?{x:m,y}:(h=l.computed)==null?void 0:h.positionAbsolute,l[_t].z=b,i!=null&&i[l.id]&&(l[_t].isParent=!0)}return l})}function r1(t,e,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i=new Map(e);e.clear();const l={},s=n!=null&&n.elevateNodesOnSelect?1e3:0,u=t.map(a=>{var y,b,p;const d=i.get(a.id);if(a===((y=d==null?void 0:d[_t])==null?void 0:y.userProvidedNode))return e.set(a.id,d),d;const h={...n.defaults,...a,computed:{positionAbsolute:a.position,width:(b=a.computed)==null?void 0:b.width,height:(p=a.computed)==null?void 0:p.height}},g=(xr(a.zIndex)?a.zIndex:0)+(a.selected?s:0),m=(a==null?void 0:a[_t])||(d==null?void 0:d[_t]);return h.parentNode&&(l[h.parentNode]=!0),Object.defineProperty(h,_t,{enumerable:!1,value:{handleBounds:m==null?void 0:m.handleBounds,z:g,userProvidedNode:a}}),e.set(h.id,h),h});return u5(u,e,n.nodeOrigin,l)}function o1(t,e,n,i,l){var f,a;if(!t.parentNode)return i;const s=n.get(t.parentNode),{position:u}=kr(s,(s==null?void 0:s.origin)||l);return o1(s,e,n,{x:(i.x??0)+u.x,y:(i.y??0)+u.y,z:(((f=s[_t])==null?void 0:f.z)??0)>(i.z??0)?((a=s[_t])==null?void 0:a.z)??0:i.z??0},s.origin||l)}function f5(t,e,n,i,l,s){const u=i==null?void 0:i.querySelector(".xyflow__viewport");if(!u)return null;const f=window.getComputedStyle(u),{m22:a}=new window.DOMMatrixReadOnly(f.transform);return e.map(h=>{var m,y;const g=t.get(h.id);if(g){const b=$h(g.nodeElement);if(!!(b.width&&b.height&&(((m=h.computed)==null?void 0:m.width)!==b.width||((y=h.computed)==null?void 0:y.height)!==b.height||g.forceUpdate))){const P={...h,computed:{...h.computed,...b},[_t]:{...h[_t],handleBounds:{source:ld(".source",g.nodeElement,a,h.origin||l),target:ld(".target",g.nodeElement,a,h.origin||l)}}};return n.set(h.id,P),P}}return h})}function a5({delta:t,panZoom:e,transform:n,translateExtent:i,width:l,height:s}){if(!e||!t.x&&!t.y)return!1;const u=e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[l,s]],i);return!!u&&(u.x!==n[0]||u.y!==n[1]||u.k!==n[2])}function l1(t,e,n){t.clear(),e.clear();for(const i of n){const{source:l,target:s,sourceHandle:u=null,targetHandle:f=null}=i,a=`${l}-source-${u}`,d=`${s}-target-${f}`,h=t.get(a)||new Map,g=t.get(d)||new Map,m={edgeId:i.id,source:l,target:s,sourceHandle:u,targetHandle:f};e.set(i.id,i),t.set(a,h.set(`${s}-${f}`,m)),t.set(d,g.set(`${l}-${u}`,m))}}function Au(t){return(e,n,i)=>t==null?void 0:t(e,i)}function s1(t,e){if(!t.parentNode)return!1;const n=e.find(i=>i.id===i.parentNode);return n?n.selected?!0:s1(n,e):!1}function gd(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function c5(t,e,n,i){return t.filter(l=>(l.selected||l.id===i)&&(!l.parentNode||!s1(l,t))&&(l.draggable||e&&typeof l.draggable>"u")).map(l=>{var s,u,f,a,d,h,g;return{id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-(((u=(s=l.computed)==null?void 0:s.positionAbsolute)==null?void 0:u.x)??0),y:n.y-(((a=(f=l.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:l.extent,parentNode:l.parentNode,origin:l.origin,expandParent:l.expandParent,computed:{positionAbsolute:((d=l.computed)==null?void 0:d.positionAbsolute)||{x:0,y:0},width:((h=l.computed)==null?void 0:h.width)||0,height:((g=l.computed)==null?void 0:g.height)||0}}})}function Mu({nodeId:t,dragItems:e,nodeLookup:n}){const i=e.map(l=>({...n.get(l.id),position:l.position,computed:{...l.computed,positionAbsolute:l.computed.positionAbsolute}}));return[t?i.find(l=>l.id===t):i[0],i]}function d5({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:l}){let s={x:null,y:null},u=0,f=[],a=!1,d={x:0,y:0},h=null,g=!1,m=null;function y({noDragClassName:p,handleSelector:P,domNode:w,isSelectable:H,nodeId:S}){m=cn(w);function O({x:L,y:W},K){const{nodeLookup:M,nodeExtent:D,snapGrid:B,snapToGrid:T,nodeOrigin:V,onNodeDrag:Y,onSelectionDrag:G,onError:x,updateNodePositions:ee}=e();s={x:L,y:W};let ae=!1,ce={x:0,y:0,x2:0,y2:0};if(f.length>1&&D){const $=go(f,{nodeOrigin:V});ce=zl($)}if(f=f.map($=>{var ge,me;let be={x:L-$.distance.x,y:W-$.distance.y};T&&(be=lf(be,B));const Me=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];f.length>1&&D&&!$.extent&&(Me[0][0]=$.computed.positionAbsolute.x-ce.x+D[0][0],Me[1][0]=$.computed.positionAbsolute.x+(((ge=$.computed)==null?void 0:ge.width)??0)-ce.x2+D[1][0],Me[0][1]=$.computed.positionAbsolute.y-ce.y+D[0][1],Me[1][1]=$.computed.positionAbsolute.y+(((me=$.computed)==null?void 0:me.height)??0)-ce.y2+D[1][1]);const{position:Ae,positionAbsolute:R}=Vp({nodeId:$.id,nextPosition:be,nodeLookup:M,nodeExtent:Me,nodeOrigin:V,onError:x});return ae=ae||$.position.x!==Ae.x||$.position.y!==Ae.y,$.position=Ae,$.computed.positionAbsolute=R,$}),!!ae&&(ee(f,!0),K&&(i||Y||!S&&G))){const[$,be]=Mu({nodeId:S,dragItems:f,nodeLookup:M});i==null||i(K,f,$,be),Y==null||Y(K,$,be),S||Au(G)(K,$,be)}}function I(){if(!h)return;const[L,W]=Qh(d,h);if(L!==0||W!==0){const{transform:K,panBy:M}=e();s.x=(s.x??0)-L/K[2],s.y=(s.y??0)-W/K[2],M({x:L,y:W})&&O(s,null)}u=requestAnimationFrame(I)}function A(L){var ce;const{nodes:W,nodeLookup:K,multiSelectionActive:M,nodesDraggable:D,transform:B,snapGrid:T,snapToGrid:V,selectNodesOnDrag:Y,onNodeDragStart:G,onSelectionDragStart:x,unselectNodesAndEdges:ee}=e();g=!0,(!Y||!H)&&!M&&S&&((ce=K.get(S))!=null&&ce.selected||ee()),H&&Y&&S&&(t==null||t(S));const ae=Zr(L.sourceEvent,{transform:B,snapGrid:T,snapToGrid:V});if(s=ae,f=c5(W,D,ae,S),f.length>0&&(n||G||!S&&x)){const[$,be]=Mu({nodeId:S,dragItems:f,nodeLookup:K});n==null||n(L.sourceEvent,f,$,be),G==null||G(L.sourceEvent,$,be),S||Au(x)(L.sourceEvent,$,be)}}const z=zh().on("start",L=>{const{domNode:W,nodeDragThreshold:K,transform:M,snapGrid:D,snapToGrid:B}=e();K===0&&A(L),s=Zr(L.sourceEvent,{transform:M,snapGrid:D,snapToGrid:B}),h=(W==null?void 0:W.getBoundingClientRect())||null,d=oi(L.sourceEvent,h)}).on("drag",L=>{const{autoPanOnNodeDrag:W,transform:K,snapGrid:M,snapToGrid:D,nodeDragThreshold:B}=e(),T=Zr(L.sourceEvent,{transform:K,snapGrid:M,snapToGrid:D});if(!a&&W&&g&&(a=!0,I()),!g){const V=T.xSnapped-(s.x??0),Y=T.ySnapped-(s.y??0);Math.sqrt(V*V+Y*Y)>B&&A(L)}(s.x!==T.xSnapped||s.y!==T.ySnapped)&&f&&g&&(d=oi(L.sourceEvent,h),O(T,L.sourceEvent))}).on("end",L=>{if(g&&(a=!1,g=!1,cancelAnimationFrame(u),f.length>0)){const{nodeLookup:W,updateNodePositions:K,onNodeDragStop:M,onSelectionDragStop:D}=e();if(K(f,!1),l||M||!S&&D){const[B,T]=Mu({nodeId:S,dragItems:f,nodeLookup:W});l==null||l(L.sourceEvent,f,B,T),M==null||M(L.sourceEvent,B,T),S||Au(D)(L.sourceEvent,B,T)}}}).filter(L=>{const W=L.target;return!L.button&&(!p||!gd(W,`.${p}`,w))&&(!P||gd(W,P,w))});m.call(z)}function b(){m==null||m.on(".drag",null)}return{update:y,destroy:b}}function md(t,e,n,i){return(e[n]||[]).reduce((l,s)=>{var u,f,a,d;return`${t.id}-${s.id}-${n}`!==i&&l.push({id:s.id||null,type:n,nodeId:t.id,x:(((f=(u=t.computed)==null?void 0:u.positionAbsolute)==null?void 0:f.x)??0)+s.x+s.width/2,y:(((d=(a=t.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0)+s.y+s.height/2}),l},[])}function h5(t,e,n){let i=[],l=1/0;for(const s of n){const u=Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2));u<=e&&(u<l?i=[s]:u===l&&i.push(s),l=u)}return i.length?i.length===1?i[0]:i.find(s=>s.type==="target")||i[0]:null}function g5({nodes:t,nodeId:e,handleId:n,handleType:i}){return t.reduce((l,s)=>{if(s[_t]){const{handleBounds:u}=s[_t];let f=[],a=[];u&&(f=md(s,u,"source",`${e}-${n}-${i}`),a=md(s,u,"target",`${e}-${n}-${i}`)),l.push(...f,...a)}return l},[])}function u1(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function m5(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}const f1=()=>!0;let gl=null;function _5(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:l,edgeUpdaterType:s,isTarget:u,domNode:f,nodes:a,lib:d,autoPanOnConnect:h,flowId:g,panBy:m,cancelConnection:y,onConnectStart:b,onConnect:p,onConnectEnd:P,isValidConnection:w=f1,onEdgeUpdateEnd:H,updateConnection:S,getTransform:O,getConnectionStartHandle:I}){const A=Gp(t.target);let z=0,L;const{x:W,y:K}=oi(t),M=A==null?void 0:A.elementFromPoint(W,K),D=u1(s,M),B=f==null?void 0:f.getBoundingClientRect();if(!B||!D)return;let T=oi(t,B),V=!1,Y=null,G=!1,x=null;const ee=g5({nodes:a,nodeId:l,handleId:i,handleType:D});function ae(){if(!h||!B)return;const[be,Me]=Qh(T,B);m({x:be,y:Me}),z=requestAnimationFrame(ae)}gl={nodeId:l,handleId:i,type:D},S({connectionPosition:T,connectionStatus:null,connectionStartHandle:gl,connectionEndHandle:null}),b==null||b(t,{nodeId:l,handleId:i,handleType:D});function ce(be){I()||$(be);const Me=O();T=oi(be,B),L=h5(Kl(T,Me,!1,[1,1]),n,ee),V||(ae(),V=!0);const Ae=a1(be,{handle:L,connectionMode:e,fromNodeId:l,fromHandleId:i,fromType:u?"target":"source",isValidConnection:w,doc:A,lib:d,flowId:g});x=Ae.handleDomNode,Y=Ae.connection,G=Ae.isValid,S({connectionStartHandle:gl,connectionPosition:L&&G?jh({x:L.x,y:L.y},Me):T,connectionStatus:m5(!!L,G),connectionEndHandle:Ae.endHandle})}function $(be){(L||x)&&Y&&G&&(p==null||p(Y)),P==null||P(be),s&&(H==null||H(be)),y(),cancelAnimationFrame(z),V=!1,G=!1,Y=null,x=null,gl=null,A.removeEventListener("mousemove",ce),A.removeEventListener("mouseup",$),A.removeEventListener("touchmove",ce),A.removeEventListener("touchend",$)}A.addEventListener("mousemove",ce),A.addEventListener("mouseup",$),A.addEventListener("touchmove",ce),A.addEventListener("touchend",$)}function a1(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:l,fromType:s,doc:u,lib:f,flowId:a,isValidConnection:d=f1}){const h=s==="target",g=e?u.querySelector(`.${f}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:m,y}=oi(t),b=u.elementFromPoint(m,y),p=b!=null&&b.classList.contains(`${f}-flow__handle`)?b:g,P={handleDomNode:p,isValid:!1,connection:null,endHandle:null};if(p){const w=u1(void 0,p),H=p.getAttribute("data-nodeid"),S=p.getAttribute("data-handleid"),O=p.classList.contains("connectable"),I=p.classList.contains("connectableend");if(!H)return P;const A={source:h?H:i,sourceHandle:h?S:l,target:h?i:H,targetHandle:h?l:S};P.connection=A,O&&I&&(n===Ai.Strict?h&&w==="source"||!h&&w==="target":H!==i||S!==l)&&(P.endHandle={nodeId:H,handleId:S,type:w},P.isValid=d(A))}return P}const y5={onPointerDown:_5,isValid:a1};function w5({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const l=cn(t);function s({translateExtent:f,width:a,height:d,zoomStep:h=10,pannable:g=!0,zoomable:m=!0,inversePan:y=!1}){const b=w=>{const H=n();if(w.sourceEvent.type!=="wheel"||!e)return;const S=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*h,O=H[2]*Math.pow(2,S);e.scaleTo(O)},p=w=>{const H=n();if(w.sourceEvent.type!=="mousemove"||!e)return;const S=i()*Math.max(H[2],Math.log(H[2]))*(y?-1:1),O={x:H[0]-w.sourceEvent.movementX*S,y:H[1]-w.sourceEvent.movementY*S},I=[[0,0],[a,d]];e.setViewportConstrained({x:O.x,y:O.y,zoom:H[2]},I,f)},P=Gh().on("zoom",g?p:null).on("zoom.wheel",m?b:null);l.call(P,{})}function u(){l.on("zoom",null)}return{update:s,destroy:u,pointer:Hn}}const b5=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Ul=t=>({x:t.x,y:t.y,zoom:t.k}),Pu=({x:t,y:e,zoom:n})=>Vl.translate(t,e).scale(n),lr=(t,e)=>t.target.closest(`.${e}`),c1=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Tu=(t,e=0)=>typeof e=="number"&&e>0?t.transition().duration(e):t,d1=t=>{const e=t.ctrlKey&&Ll()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function v5({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:l,panOnScrollSpeed:s,zoomOnPinch:u,onPanZoomStart:f,onPanZoom:a,onPanZoomEnd:d}){return h=>{if(lr(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const g=n.property("__zoom").k||1,m=Ll();if(h.ctrlKey&&u&&m){const w=Hn(h),H=d1(h),S=g*Math.pow(2,H);i.scaleTo(n,S,w,h);return}const y=h.deltaMode===1?20:1;let b=l===Kn.Vertical?0:h.deltaX*y,p=l===Kn.Horizontal?0:h.deltaY*y;!m&&h.shiftKey&&l!==Kn.Vertical&&(b=h.deltaY*y,p=0),i.translateBy(n,-(b/g)*s,-(p/g)*s,{internal:!0});const P=Ul(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,f==null||f(h,P)),t.isPanScrolling&&(a==null||a(h,P),t.panScrollTimeout=setTimeout(()=>{d==null||d(h,P),t.isPanScrolling=!1},150))}}function p5({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,l){if(!e||lr(i,t))return null;i.preventDefault(),n.call(this,i,l)}}function S5({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var s,u,f;if((s=i.sourceEvent)!=null&&s.internal)return;const l=Ul(i.transform);t.mouseButton=((u=i.sourceEvent)==null?void 0:u.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=l,((f=i.sourceEvent)==null?void 0:f.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,l))}}function k5({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:l}){return s=>{var u,f;t.usedRightMouseButton=!!(n&&c1(e,t.mouseButton??0)),(u=s.sourceEvent)!=null&&u.sync||i([s.transform.x,s.transform.y,s.transform.k]),l&&!((f=s.sourceEvent)!=null&&f.internal)&&(l==null||l(s.sourceEvent,Ul(s.transform)))}}function C5({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:l,onPaneContextMenu:s}){return u=>{var f;if(!((f=u.sourceEvent)!=null&&f.internal)&&(t.isZoomingOrPanning=!1,s&&c1(e,t.mouseButton??0)&&!t.usedRightMouseButton&&u.sourceEvent&&s(u.sourceEvent),t.usedRightMouseButton=!1,i(!1),l&&b5(t.prevViewport,u.transform))){const a=Ul(u.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{l==null||l(u.sourceEvent,a)},n?150:0)}}}function E5({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:l,zoomOnDoubleClick:s,userSelectionActive:u,noWheelClassName:f,noPanClassName:a,lib:d}){return h=>{const g=t||e,m=n&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(lr(h,`${d}-flow__node`)||lr(h,`${d}-flow__edge`)))return!0;if(!i&&!g&&!l&&!s&&!n||u||!s&&h.type==="dblclick"||lr(h,f)&&h.type==="wheel"||lr(h,a)&&(h.type!=="wheel"||l&&h.type==="wheel"&&!t)||!n&&h.ctrlKey&&h.type==="wheel"||!g&&!l&&!m&&h.type==="wheel"||!i&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(i)&&!i.includes(h.button)&&(h.type==="mousedown"||h.type==="touchstart"))return!1;const y=Array.isArray(i)&&i.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function A5({domNode:t,minZoom:e,maxZoom:n,translateExtent:i,viewport:l,onPanZoom:s,onPanZoomStart:u,onPanZoomEnd:f,onTransformChange:a,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=t.getBoundingClientRect(),m=Gh().scaleExtent([e,n]).translateExtent(i),y=cn(t).call(m);H({x:l.x,y:l.y,zoom:br(l.zoom,e,n)},[[0,0],[g.width,g.height]],i);const b=y.on("wheel.zoom");m.wheelDelta(d1);function p(K,M){y&&(m==null||m.transform(Tu(y,M==null?void 0:M.duration),K))}function P({noWheelClassName:K,noPanClassName:M,onPaneContextMenu:D,userSelectionActive:B,panOnScroll:T,panOnDrag:V,panOnScrollMode:Y,panOnScrollSpeed:G,preventScrolling:x,zoomOnPinch:ee,zoomOnScroll:ae,zoomOnDoubleClick:ce,zoomActivationKeyPressed:$,lib:be}){B&&!h.isZoomingOrPanning&&w();const Ae=T&&!$&&!B?v5({zoomPanValues:h,noWheelClassName:K,d3Selection:y,d3Zoom:m,panOnScrollMode:Y,panOnScrollSpeed:G,zoomOnPinch:ee,onPanZoomStart:u,onPanZoom:s,onPanZoomEnd:f}):p5({noWheelClassName:K,preventScrolling:x,d3ZoomHandler:b});if(y.on("wheel.zoom",Ae,{passive:!1}),!B){const ge=S5({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:u});m.on("start",ge);const me=k5({zoomPanValues:h,panOnDrag:V,onPaneContextMenu:!!D,onPanZoom:s,onTransformChange:a});m.on("zoom",me);const oe=C5({zoomPanValues:h,panOnDrag:V,panOnScroll:T,onPaneContextMenu:D,onPanZoomEnd:f,onDraggingChange:d});m.on("end",oe)}const R=E5({zoomActivationKeyPressed:$,panOnDrag:V,zoomOnScroll:ae,panOnScroll:T,zoomOnDoubleClick:ce,zoomOnPinch:ee,userSelectionActive:B,noPanClassName:M,noWheelClassName:K,lib:be});m.filter(R)}function w(){m.on("zoom",null)}function H(K,M,D){const B=Pu(K),T=m==null?void 0:m.constrain()(B,M,D);return T&&p(T),T}function S(K,M){const D=Pu(K);return p(D,M),D}function O(K){if(y){const M=Pu(K),D=y.property("__zoom");(D.k!==K.zoom||D.x!==K.x||D.y!==K.y)&&(m==null||m.transform(y,M,null,{sync:!0}))}}function I(){const K=y?xh(y.node()):{x:0,y:0,k:1};return{x:K.x,y:K.y,zoom:K.k}}function A(K,M){y&&(m==null||m.scaleTo(Tu(y,M==null?void 0:M.duration),K))}function z(K,M){y&&(m==null||m.scaleBy(Tu(y,M==null?void 0:M.duration),K))}function L(K){m==null||m.scaleExtent(K)}function W(K){m==null||m.translateExtent(K)}return{update:P,destroy:w,setViewport:S,setViewportConstrained:H,getViewport:I,scaleTo:A,scaleBy:z,setScaleExtent:L,setTranslateExtent:W,syncViewport:O}}var Jr;(function(t){t.Line="line",t.Handle="handle"})(Jr||(Jr={}));function M5({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:l,affectsY:s}){const u=t-e,f=n-i,a=[u>0?1:u<0?-1:0,f>0?1:f<0?-1:0];return u&&l&&(a[0]=a[0]*-1),f&&s&&(a[1]=a[1]*-1),a}function P5(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),l=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:l}}function Si(t,e){return Math.max(0,e-t)}function ki(t,e){return Math.max(0,t-e)}function ml(t,e,n){return Math.max(0,e-t,t-n)}function _d(t,e){return t?!e:e}function T5(t,e,n,i,l,s,u,f){let{affectsX:a,affectsY:d}=e;const{isHorizontal:h,isVertical:g}=e,m=h&&g,{xSnapped:y,ySnapped:b}=n,{minWidth:p,maxWidth:P,minHeight:w,maxHeight:H}=i,{x:S,y:O,width:I,height:A,aspectRatio:z}=t;let L=Math.floor(h?y-t.pointerX:0),W=Math.floor(g?b-t.pointerY:0);const K=I+(a?-L:L),M=A+(d?-W:W),D=-s[0]*I,B=-s[1]*A;let T=ml(K,p,P),V=ml(M,w,H);if(u){let x=0,ee=0;a&&L<0?x=Si(S+L+D,u[0][0]):!a&&L>0&&(x=ki(S+K+D,u[1][0])),d&&W<0?ee=Si(O+W+B,u[0][1]):!d&&W>0&&(ee=ki(O+M+B,u[1][1])),T=Math.max(T,x),V=Math.max(V,ee)}if(f){let x=0,ee=0;a&&L>0?x=ki(S+L,f[0][0]):!a&&L<0&&(x=Si(S+K,f[1][0])),d&&W>0?ee=ki(O+W,f[0][1]):!d&&W<0&&(ee=Si(O+M,f[1][1])),T=Math.max(T,x),V=Math.max(V,ee)}if(l){if(h){const x=ml(K/z,w,H)*z;if(T=Math.max(T,x),u){let ee=0;!a&&!d||a&&!d&&m?ee=ki(O+B+K/z,u[1][1])*z:ee=Si(O+B+(a?L:-L)/z,u[0][1])*z,T=Math.max(T,ee)}if(f){let ee=0;!a&&!d||a&&!d&&m?ee=Si(O+K/z,f[1][1])*z:ee=ki(O+(a?L:-L)/z,f[0][1])*z,T=Math.max(T,ee)}}if(g){const x=ml(M*z,p,P)/z;if(V=Math.max(V,x),u){let ee=0;!a&&!d||d&&!a&&m?ee=ki(S+M*z+D,u[1][0])/z:ee=Si(S+(d?W:-W)*z+D,u[0][0])/z,V=Math.max(V,ee)}if(f){let ee=0;!a&&!d||d&&!a&&m?ee=Si(S+M*z,f[1][0])/z:ee=ki(S+(d?W:-W)*z,f[0][0])/z,V=Math.max(V,ee)}}}W=W+(W<0?V:-V),L=L+(L<0?T:-T),l&&(m?K>M*z?W=(_d(a,d)?-L:L)/z:L=(_d(a,d)?-W:W)*z:h?(W=L/z,d=a):(L=W*z,a=d));const Y=a?S+L:S,G=d?O+W:O;return{width:I+(a?-L:L),height:A+(d?-W:W),x:s[0]*L*(a?-1:1)+Y,y:s[1]*W*(d?-1:1)+G}}const h1={width:0,height:0,x:0,y:0},O5={...h1,pointerX:0,pointerY:0,aspectRatio:1},I5={x:0,y:0,width:0,height:0,isXPosChange:!1,isYPosChange:!1,isWidthChange:!1,isHeightChange:!1};function H5(t){return[[0,0],[t.computed.width,t.computed.height]]}function z5(t,e,n){const i=e.position.x+t.position.x,l=e.position.y+t.position.y,s=t.computed.width??0,u=t.computed.height??0,f=n[0]*s,a=n[1]*u;return[[i-f,l-a],[i+s-f,l+u-a]]}function N5({domNode:t,nodeId:e,getStoreItems:n,onChange:i}){const l=cn(t);function s({controlPosition:f,boundaries:a,keepAspectRatio:d,onResizeStart:h,onResize:g,onResizeEnd:m,shouldResize:y}){let b={...h1},p={...O5};const P=P5(f);let w,H=[],S,O,I;const A=zh().on("start",z=>{var B,T;const{nodeLookup:L,transform:W,snapGrid:K,snapToGrid:M,nodeOrigin:D}=n();if(w=L.get(e),w){const{xSnapped:V,ySnapped:Y}=Zr(z.sourceEvent,{transform:W,snapGrid:K,snapToGrid:M});b={width:((B=w.computed)==null?void 0:B.width)??0,height:((T=w.computed)==null?void 0:T.height)??0,x:w.position.x??0,y:w.position.y??0},p={...b,pointerX:V,pointerY:Y,aspectRatio:b.width/b.height},S=void 0,(w.extent==="parent"||w.expandParent)&&(S=L.get(w.parentNode),S&&w.extent==="parent"&&(O=H5(S))),H=[],I=void 0;for(const[G,x]of L)if(x.parentNode===e&&(H.push({id:G,position:{...x.position},extent:x.extent}),x.extent==="parent"||x.expandParent)){const ee=z5(x,w,x.origin??D);I?I=[[Math.min(ee[0][0],I[0][0]),Math.min(ee[0][1],I[0][1])],[Math.max(ee[1][0],I[1][0]),Math.max(ee[1][1],I[1][1])]]:I=ee}h==null||h(z,{...b})}}).on("drag",z=>{const{transform:L,snapGrid:W,snapToGrid:K,nodeOrigin:M}=n(),D=Zr(z.sourceEvent,{transform:L,snapGrid:W,snapToGrid:K}),B=[];if(w){const{x:T,y:V,width:Y,height:G}=b,x={...I5},ee=w.origin??M,{width:ae,height:ce,x:$,y:be}=T5(p,P,D,a,d,ee,O,I),Me=ae!==Y,Ae=ce!==G,R=$!==T&&Me,ge=be!==V&&Ae;if((R||ge||ee[0]===1||ee[1]==1)&&(x.isXPosChange=R,x.isYPosChange=ge,x.x=R?$:T,x.y=ge?be:V,b.x=x.x,b.y=x.y,S&&w.expandParent&&(x.x<0&&(b.x=0,p.x=p.x-x.x),x.y<0&&(b.y=0,p.y=p.y-x.y)),H.length>0)){const Ye=$-T,Ue=be-V;for(const et of H)et.position={x:et.position.x-Ye+ee[0]*(ae-Y),y:et.position.y-Ue+ee[1]*(ce-G)},B.push(et)}if((Me||Ae)&&(x.isWidthChange=Me,x.isHeightChange=Ae,x.width=ae,x.height=ce,b.width=x.width,b.height=x.height),!x.isXPosChange&&!x.isYPosChange&&!Me&&!Ae)return;const me=M5({width:b.width,prevWidth:Y,height:b.height,prevHeight:G,affectsX:P.affectsX,affectsY:P.affectsY}),oe={...b,direction:me};if((y==null?void 0:y(z,oe))===!1)return;g==null||g(z,oe),i(x,B)}}).on("end",z=>{m==null||m(z,{...b})});l.call(A)}function u(){l.on(".drag",null)}return{update:s,destroy:u}}function L5(t){let e,n,i,l,s,u;const f=t[43].default,a=Xt(f,t,t[42],null);return{c(){e=_e("div"),a&&a.c(),C(e,"data-handleid",t[15]),C(e,"data-nodeid",t[13]),C(e,"data-handlepos",t[3]),C(e,"data-id",n=t[11]+"-"+t[13]+"-"+(t[1]||null)+"-"+t[2]),C(e,"class",i=it(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),C(e,"style",t[4]),C(e,"role","button"),C(e,"tabindex","-1"),Xe(e,"valid",t[7]),Xe(e,"connectingto",t[6]),Xe(e,"connectingfrom",t[9]),Xe(e,"source",!t[12]),Xe(e,"target",t[12]),Xe(e,"connectablestart",t[0]),Xe(e,"connectableend",t[0]),Xe(e,"connectable",t[0]),Xe(e,"connectionindicator",t[0]&&(!t[10]||t[8]))},m(d,h){J(d,e,h),a&&a.m(e,null),l=!0,s||(u=[He(e,"mousedown",t[32]),He(e,"touchstart",t[32])],s=!0)},p(d,h){a&&a.p&&(!l||h[1]&2048)&&Ft(a,f,d,d[42],l?Yt(f,d[42],h,null):Vt(d[42]),null),(!l||h[0]&8)&&C(e,"data-handlepos",d[3]),(!l||h[0]&2054&&n!==(n=d[11]+"-"+d[13]+"-"+(d[1]||null)+"-"+d[2]))&&C(e,"data-id",n),(!l||h[0]&40&&i!==(i=it(["svelte-flow__handle",`svelte-flow__handle-${d[3]}`,"nodrag","nopan",d[3],d[5]])))&&C(e,"class",i),(!l||h[0]&16)&&C(e,"style",d[4]),(!l||h[0]&168)&&Xe(e,"valid",d[7]),(!l||h[0]&104)&&Xe(e,"connectingto",d[6]),(!l||h[0]&552)&&Xe(e,"connectingfrom",d[9]),(!l||h[0]&4136)&&Xe(e,"source",!d[12]),(!l||h[0]&4136)&&Xe(e,"target",d[12]),(!l||h[0]&41)&&Xe(e,"connectablestart",d[0]),(!l||h[0]&41)&&Xe(e,"connectableend",d[0]),(!l||h[0]&41)&&Xe(e,"connectable",d[0]),(!l||h[0]&1321)&&Xe(e,"connectionindicator",d[0]&&(!d[10]||d[8]))},i(d){l||(j(a,d),l=!0)},o(d){te(a,d),l=!1},d(d){d&&Z(e),a&&a.d(d),s=!1,vt(u)}}}function R5(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,b,p,P,w,H,S,O,I,A,z,L,{$$slots:W={},$$scope:K}=e,{id:M=void 0}=e,{type:D="source"}=e,{position:B=Ke.Top}=e,{style:T=void 0}=e,{isConnectable:V=void 0}=e,{onconnect:Y=void 0}=e,{ondisconnect:G=void 0}=e,{class:x=void 0}=e;const ee=D==="target",ae=$r("svelteflow__node_id"),ce=$r("svelteflow__node_connectable");he(t,ce,ye=>n(41,L=ye));const $=M||null,be=dt(),{connectionMode:Me,domNode:Ae,nodes:R,connectionRadius:ge,viewport:me,isValidConnection:oe,lib:le,addEdge:Ye,onedgecreate:Ue,panBy:et,cancelConnection:rt,updateConnection:Pe,autoPanOnConnect:Je,edges:ut,connectionLookup:rn,onconnect:hn,onconnectstart:Ce,onconnectend:Et,flowId:Jt,connection:gn}=be;he(t,Me,ye=>n(38,d=ye)),he(t,Ae,ye=>n(53,A=ye)),he(t,R,ye=>n(52,I=ye)),he(t,ge,ye=>n(54,z=ye)),he(t,me,ye=>n(44,m=ye)),he(t,oe,ye=>n(49,w=ye)),he(t,le,ye=>n(51,O=ye)),he(t,Ue,ye=>n(48,P=ye)),he(t,Je,ye=>n(50,S=ye)),he(t,ut,ye=>n(40,g=ye)),he(t,rn,ye=>n(39,h=ye)),he(t,hn,ye=>n(47,p=ye)),he(t,Ce,ye=>n(46,b=ye)),he(t,Et,ye=>n(45,y=ye)),he(t,Jt,ye=>n(11,H=ye)),he(t,gn,ye=>n(37,a=ye));function de(ye){const Dt=e1(ye);(Dt&&ye.button===0||!Dt)&&y5.onPointerDown(ye,{handleId:$,nodeId:ae,isTarget:ee,connectionRadius:z,domNode:A,nodes:I,connectionMode:d,lib:O,autoPanOnConnect:S,flowId:H,isValidConnection:w,updateConnection:Pe,cancelConnection:rt,panBy:et,onConnect:Ot=>{const zt=P?P(Ot):Ot;zt&&(Ye(zt),p==null||p(Ot))},onConnectStart:(Ot,zt)=>{b==null||b(Ot,{nodeId:zt.nodeId,handleId:zt.handleId,handleType:zt.handleType})},onConnectEnd:Ot=>{y==null||y(Ot)},getTransform:()=>[m.x,m.y,m.zoom],getConnectionStartHandle:()=>a.startHandle})}let Tt=null,Ht;return t.$$set=ye=>{"id"in ye&&n(1,M=ye.id),"type"in ye&&n(2,D=ye.type),"position"in ye&&n(3,B=ye.position),"style"in ye&&n(4,T=ye.style),"isConnectable"in ye&&n(0,V=ye.isConnectable),"onconnect"in ye&&n(33,Y=ye.onconnect),"ondisconnect"in ye&&n(34,G=ye.ondisconnect),"class"in ye&&n(5,x=ye.class),"$$scope"in ye&&n(42,K=ye.$$scope)},t.$$.update=()=>{var ye,Dt,Ot,zt,Rn,Dn,mn,Wn,qn;if(t.$$.dirty[0]&1|t.$$.dirty[1]&1024&&n(0,V=V!==void 0?V:L),t.$$.dirty[0]&6|t.$$.dirty[1]&780&&(Y||G)&&n(36,Ht=h.get(`${ae}-${D}-${M||null}`)),t.$$.dirty[1]&60){if(Tt&&!Wp(Ht,Tt)){const xn=Ht??new Map;td(Tt,xn,G),td(xn,Tt,Y)}n(35,Tt=Ht??new Map)}t.$$.dirty[1]&64&&n(10,i=!!a.startHandle),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(9,l=((ye=a.startHandle)==null?void 0:ye.nodeId)===ae&&((Dt=a.startHandle)==null?void 0:Dt.type)===D&&((Ot=a.startHandle)==null?void 0:Ot.handleId)===$),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(6,s=((zt=a.endHandle)==null?void 0:zt.nodeId)===ae&&((Rn=a.endHandle)==null?void 0:Rn.type)===D&&((Dn=a.endHandle)==null?void 0:Dn.handleId)===$),t.$$.dirty[0]&4|t.$$.dirty[1]&192&&n(8,u=d===Ai.Strict?((mn=a.startHandle)==null?void 0:mn.type)!==D:ae!==((Wn=a.startHandle)==null?void 0:Wn.nodeId)||$!==((qn=a.startHandle)==null?void 0:qn.handleId)),t.$$.dirty[0]&64|t.$$.dirty[1]&64&&n(7,f=s&&a.status==="valid")},[V,M,D,B,T,x,s,f,u,l,i,H,ee,ae,ce,$,Me,Ae,R,ge,me,oe,le,Ue,Je,ut,rn,hn,Ce,Et,Jt,gn,de,Y,G,Tt,Ht,a,d,h,g,L,K,W]}class lo extends Ne{constructor(e){super(),ze(this,e,R5,L5,Le,{id:1,type:2,position:3,style:4,isConnectable:0,onconnect:33,ondisconnect:34,class:5},null,[-1,-1])}}function D5(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",l,s,u,f;return e=new lo({props:{type:"target",position:t[1]}}),u=new lo({props:{type:"source",position:t[2]}}),{c(){ke(e.$$.fragment),n=Se(),l=tt(i),s=Se(),ke(u.$$.fragment)},m(d,h){ve(e,d,h),J(d,n,h),J(d,l,h),J(d,s,h),ve(u,d,h),f=!0},p(d,[h]){var y;const g={};h&2&&(g.position=d[1]),e.$set(g),(!f||h&1)&&i!==(i=((y=d[0])==null?void 0:y.label)+"")&&Zt(l,i);const m={};h&4&&(m.position=d[2]),u.$set(m)},i(d){f||(j(e.$$.fragment,d),j(u.$$.fragment,d),f=!0)},o(d){te(e.$$.fragment,d),te(u.$$.fragment,d),f=!1},d(d){d&&(Z(n),Z(l),Z(s)),pe(e,d),pe(u,d)}}}function W5(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:l=Ke.Top}=e,{sourcePosition:s=Ke.Bottom}=e,{id:u=""}=e,{width:f=void 0}=e,{height:a=void 0}=e,{selected:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:P}=e;return t.$$set=w=>{"data"in w&&n(0,i=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"sourcePosition"in w&&n(2,s=w.sourcePosition),"id"in w&&n(3,u=w.id),"width"in w&&n(4,f=w.width),"height"in w&&n(5,a=w.height),"selected"in w&&n(6,d=w.selected),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,P=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,b,p,P]}class g1 extends Ne{constructor(e){super(),ze(this,e,W5,D5,Le,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}function B5(t){var u;let e=((u=t[0])==null?void 0:u.label)+"",n,i,l,s;return l=new lo({props:{type:"source",position:t[1]}}),{c(){n=tt(e),i=Se(),ke(l.$$.fragment)},m(f,a){J(f,n,a),J(f,i,a),ve(l,f,a),s=!0},p(f,[a]){var h;(!s||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&Zt(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){s||(j(l.$$.fragment,f),s=!0)},o(f){te(l.$$.fragment,f),s=!1},d(f){f&&(Z(n),Z(i)),pe(l,f)}}}function X5(t,e,n){let{data:i={label:"Node"}}=e,{sourcePosition:l=Ke.Bottom}=e,{id:s=""}=e,{width:u=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:P}=e;return t.$$set=w=>{"data"in w&&n(0,i=w.data),"sourcePosition"in w&&n(1,l=w.sourcePosition),"id"in w&&n(2,s=w.id),"width"in w&&n(3,u=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,P=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,b,p,P]}class Y5 extends Ne{constructor(e){super(),ze(this,e,X5,B5,Le,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}function F5(t){var u;let e=((u=t[0])==null?void 0:u.label)+"",n,i,l,s;return l=new lo({props:{type:"target",position:t[1]}}),{c(){n=tt(e),i=Se(),ke(l.$$.fragment)},m(f,a){J(f,n,a),J(f,i,a),ve(l,f,a),s=!0},p(f,[a]){var h;(!s||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&Zt(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){s||(j(l.$$.fragment,f),s=!0)},o(f){te(l.$$.fragment,f),s=!1},d(f){f&&(Z(n),Z(i)),pe(l,f)}}}function V5(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:l=Ke.Top}=e,{id:s=""}=e,{width:u=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{sourcePosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:P}=e;return t.$$set=w=>{"data"in w&&n(0,i=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"id"in w&&n(2,s=w.id),"width"in w&&n(3,u=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"sourcePosition"in w&&n(6,d=w.sourcePosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,P=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,b,p,P]}class K5 extends Ne{constructor(e){super(),ze(this,e,V5,F5,Le,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}function U5(t,e,n){let{id:i=""}=e,{width:l=void 0}=e,{height:s=void 0}=e,{data:u={}}=e,{selected:f=void 0}=e,{sourcePosition:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:P}=e;return t.$$set=w=>{"id"in w&&n(0,i=w.id),"width"in w&&n(1,l=w.width),"height"in w&&n(2,s=w.height),"data"in w&&n(3,u=w.data),"selected"in w&&n(4,f=w.selected),"sourcePosition"in w&&n(5,a=w.sourcePosition),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,P=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,b,p,P]}class q5 extends Ne{constructor(e){super(),ze(this,e,U5,null,Le,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}function yd(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function x5(t,{target:e,domNode:n}){return yd(t,n,e),{async update({target:i,domNode:l}){yd(t,l,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function G5(t){let e,n,i,l,s;const u=t[3].default,f=Xt(u,t,t[2],null);return{c(){e=_e("div"),f&&f.c()},m(a,d){J(a,e,d),f&&f.m(e,null),i=!0,l||(s=Gt(n=x5.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),l=!0)},p(a,[d]){f&&f.p&&(!i||d&4)&&Ft(f,u,a,a[2],i?Yt(u,a[2],d,null):Vt(a[2]),null),n&&gt(n.update)&&d&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(j(f,a),i=!0)},o(a){te(f,a),i=!1},d(a){a&&Z(e),f&&f.d(a),l=!1,s()}}}function Z5(t,e,n){let i,{$$slots:l={},$$scope:s}=e;const{domNode:u}=dt();return he(t,u,f=>n(0,i=f)),t.$$set=f=>{"$$scope"in f&&n(2,s=f.$$scope)},[i,u,s,l]}class J5 extends Ne{constructor(e){super(),ze(this,e,Z5,G5,Le,{})}}function m1(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:l,unselectNodesAndEdges:s,elementsSelectable:u}=dt();return f=>{const a=ue(t).get(f);if(!a){console.warn("012",ho.error012(f));return}(a.selectable||ue(u)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&ue(i)&&s({nodes:[],edges:[a]}):l([f]))}}function Q5(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,l,s,u;const f=t[5].default,a=Xt(f,t,t[7],null);return{c(){e=_e("div"),a&&a.c(),C(e,"class","svelte-flow__edge-label"),C(e,"style",n="pointer-events: all;"+t[0]),C(e,"role","button"),C(e,"tabindex","-1"),Be(e,"transform",i)},m(d,h){J(d,e,h),a&&a.m(e,null),l=!0,s||(u=[He(e,"keyup",$5),He(e,"click",t[6])],s=!0)},p(d,h){a&&a.p&&(!l||h&128)&&Ft(a,f,d,d[7],l?Yt(f,d[7],h,null):Vt(d[7]),null),(!l||h&1&&n!==(n="pointer-events: all;"+d[0]))&&C(e,"style",n);const g=h&1;(h&7&&i!==(i=`translate(-50%, -50%) translate(${d[1]}px,${d[2]}px)`)||g)&&Be(e,"transform",i)},i(d){l||(j(a,d),l=!0)},o(d){te(a,d),l=!1},d(d){d&&Z(e),a&&a.d(d),s=!1,vt(u)}}}function j5(t){let e,n;return e=new J5({props:{$$slots:{default:[Q5]},$$scope:{ctx:t}}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&135&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}const $5=()=>{};function e4(t,e,n){let{$$slots:i={},$$scope:l}=e,{style:s=void 0}=e,{x:u=void 0}=e,{y:f=void 0}=e;const a=m1(),d=$r("svelteflow__edge_id"),h=()=>{d&&a(d)};return t.$$set=g=>{"style"in g&&n(0,s=g.style),"x"in g&&n(1,u=g.x),"y"in g&&n(2,f=g.y),"$$scope"in g&&n(7,l=g.$$scope)},[s,u,f,a,d,i,h,l]}class t4 extends Ne{constructor(e){super(),ze(this,e,e4,j5,Le,{style:0,x:1,y:2})}}function n4(t){let e;return{c(){e=Fe("path"),C(e,"d",t[1]),C(e,"stroke-opacity",0),C(e,"stroke-width",t[10]),C(e,"fill","none"),C(e,"class","svelte-flow__edge-interaction")},m(n,i){J(n,e,i)},p(n,i){i&2&&C(e,"d",n[1])},d(n){n&&Z(e)}}}function wd(t){let e,n;return e=new t4({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[i4]},$$scope:{ctx:t}}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&8&&(s.x=i[3]),l&16&&(s.y=i[4]),l&32&&(s.style=i[5]),l&4100&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function i4(t){let e;return{c(){e=tt(t[2])},m(n,i){J(n,e,i)},p(n,i){i&4&&Zt(e,n[2])},d(n){n&&Z(e)}}}function r4(t){let e,n,i,l,s,u,f=t[10]&&n4(t),a=t[2]&&wd(t);return{c(){e=Fe("path"),i=Se(),f&&f.c(),l=Se(),a&&a.c(),s=bt(),C(e,"id",t[0]),C(e,"d",t[1]),C(e,"class",n=it(["svelte-flow__edge-path",t[9]])),C(e,"marker-start",t[6]),C(e,"marker-end",t[7]),C(e,"fill","none"),C(e,"style",t[8])},m(d,h){J(d,e,h),J(d,i,h),f&&f.m(d,h),J(d,l,h),a&&a.m(d,h),J(d,s,h),u=!0},p(d,[h]){(!u||h&1)&&C(e,"id",d[0]),(!u||h&2)&&C(e,"d",d[1]),(!u||h&512&&n!==(n=it(["svelte-flow__edge-path",d[9]])))&&C(e,"class",n),(!u||h&64)&&C(e,"marker-start",d[6]),(!u||h&128)&&C(e,"marker-end",d[7]),(!u||h&256)&&C(e,"style",d[8]),d[10]&&f.p(d,h),d[2]?a?(a.p(d,h),h&4&&j(a,1)):(a=wd(d),a.c(),j(a,1),a.m(s.parentNode,s)):a&&(yt(),te(a,1,1,()=>{a=null}),wt())},i(d){u||(j(a),u=!0)},o(d){te(a),u=!1},d(d){d&&(Z(e),Z(i),Z(l),Z(s)),f&&f.d(d),a&&a.d(d)}}}function o4(t,e,n){let{id:i=void 0}=e,{path:l}=e,{label:s=void 0}=e,{labelX:u=void 0}=e,{labelY:f=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:d=void 0}=e,{markerEnd:h=void 0}=e,{style:g=void 0}=e,{interactionWidth:m=20}=e,{class:y=void 0}=e,b=m===void 0?20:m;return t.$$set=p=>{"id"in p&&n(0,i=p.id),"path"in p&&n(1,l=p.path),"label"in p&&n(2,s=p.label),"labelX"in p&&n(3,u=p.labelX),"labelY"in p&&n(4,f=p.labelY),"labelStyle"in p&&n(5,a=p.labelStyle),"markerStart"in p&&n(6,d=p.markerStart),"markerEnd"in p&&n(7,h=p.markerEnd),"style"in p&&n(8,g=p.style),"interactionWidth"in p&&n(11,m=p.interactionWidth),"class"in p&&n(9,y=p.class)},[i,l,s,u,f,a,d,h,g,y,b,m]}class _o extends Ne{constructor(e){super(),ze(this,e,o4,r4,Le,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function l4(t){let e,n;return e=new _o({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function s4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="default"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:b=void 0}=e,{style:p=void 0}=e,{markerStart:P=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:H=void 0}=e,{sourceX:S}=e,{sourceY:O}=e,{sourcePosition:I}=e,{sourceHandleId:A=void 0}=e,{targetX:z}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:K=void 0}=e;return t.$$set=M=>{"id"in M&&n(9,u=M.id),"source"in M&&n(10,f=M.source),"target"in M&&n(11,a=M.target),"type"in M&&n(12,d=M.type),"animated"in M&&n(13,h=M.animated),"selected"in M&&n(14,g=M.selected),"label"in M&&n(0,m=M.label),"labelStyle"in M&&n(1,y=M.labelStyle),"data"in M&&n(15,b=M.data),"style"in M&&n(2,p=M.style),"markerStart"in M&&n(3,P=M.markerStart),"markerEnd"in M&&n(4,w=M.markerEnd),"interactionWidth"in M&&n(5,H=M.interactionWidth),"sourceX"in M&&n(16,S=M.sourceX),"sourceY"in M&&n(17,O=M.sourceY),"sourcePosition"in M&&n(18,I=M.sourcePosition),"sourceHandleId"in M&&n(19,A=M.sourceHandleId),"targetX"in M&&n(20,z=M.targetX),"targetY"in M&&n(21,L=M.targetY),"targetPosition"in M&&n(22,W=M.targetPosition),"targetHandleId"in M&&n(23,K=M.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,l,s]=t1({sourceX:S,sourceY:O,targetX:z,targetY:L,sourcePosition:I,targetPosition:W}),i,(n(7,l),n(16,S),n(17,O),n(20,z),n(21,L),n(18,I),n(22,W)),(n(6,s),n(16,S),n(17,O),n(20,z),n(21,L),n(18,I),n(22,W)))},[m,y,p,P,w,H,s,l,i,u,f,a,d,h,g,b,S,O,I,A,z,L,W,K]}class _1 extends Ne{constructor(e){super(),ze(this,e,s4,l4,Le,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}function u4(t){let e,n;return e=new _o({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function f4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="smoothstep"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:b=void 0}=e,{style:p=void 0}=e,{markerStart:P=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:H=void 0}=e,{sourceX:S}=e,{sourceY:O}=e,{sourcePosition:I}=e,{sourceHandleId:A=void 0}=e,{targetX:z}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:K=void 0}=e;return t.$$set=M=>{"id"in M&&n(9,u=M.id),"source"in M&&n(10,f=M.source),"target"in M&&n(11,a=M.target),"type"in M&&n(12,d=M.type),"animated"in M&&n(13,h=M.animated),"selected"in M&&n(14,g=M.selected),"label"in M&&n(0,m=M.label),"labelStyle"in M&&n(1,y=M.labelStyle),"data"in M&&n(15,b=M.data),"style"in M&&n(2,p=M.style),"markerStart"in M&&n(3,P=M.markerStart),"markerEnd"in M&&n(4,w=M.markerEnd),"interactionWidth"in M&&n(5,H=M.interactionWidth),"sourceX"in M&&n(16,S=M.sourceX),"sourceY"in M&&n(17,O=M.sourceY),"sourcePosition"in M&&n(18,I=M.sourcePosition),"sourceHandleId"in M&&n(19,A=M.sourceHandleId),"targetX"in M&&n(20,z=M.targetX),"targetY"in M&&n(21,L=M.targetY),"targetPosition"in M&&n(22,W=M.targetPosition),"targetHandleId"in M&&n(23,K=M.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,l,s]=vr({sourceX:S,sourceY:O,targetX:z,targetY:L,sourcePosition:I,targetPosition:W}),i,(n(7,l),n(16,S),n(17,O),n(20,z),n(21,L),n(18,I),n(22,W)),(n(6,s),n(16,S),n(17,O),n(20,z),n(21,L),n(18,I),n(22,W)))},[m,y,p,P,w,H,s,l,i,u,f,a,d,h,g,b,S,O,I,A,z,L,W,K]}class a4 extends Ne{constructor(e){super(),ze(this,e,f4,u4,Le,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}function c4(t){let e,n;return e=new _o({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function d4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="straight"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:b=void 0}=e,{style:p=void 0}=e,{markerStart:P=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:H=void 0}=e,{sourceX:S}=e,{sourceY:O}=e,{sourcePosition:I}=e,{sourceHandleId:A=void 0}=e,{targetX:z}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:K=void 0}=e;return t.$$set=M=>{"id"in M&&n(9,u=M.id),"source"in M&&n(10,f=M.source),"target"in M&&n(11,a=M.target),"type"in M&&n(12,d=M.type),"animated"in M&&n(13,h=M.animated),"selected"in M&&n(14,g=M.selected),"label"in M&&n(0,m=M.label),"labelStyle"in M&&n(1,y=M.labelStyle),"data"in M&&n(15,b=M.data),"style"in M&&n(2,p=M.style),"markerStart"in M&&n(3,P=M.markerStart),"markerEnd"in M&&n(4,w=M.markerEnd),"interactionWidth"in M&&n(5,H=M.interactionWidth),"sourceX"in M&&n(16,S=M.sourceX),"sourceY"in M&&n(17,O=M.sourceY),"sourcePosition"in M&&n(18,I=M.sourcePosition),"sourceHandleId"in M&&n(19,A=M.sourceHandleId),"targetX"in M&&n(20,z=M.targetX),"targetY"in M&&n(21,L=M.targetY),"targetPosition"in M&&n(22,W=M.targetPosition),"targetHandleId"in M&&n(23,K=M.targetHandleId)},t.$$.update=()=>{t.$$.dirty&3342336&&n(8,[i,l,s]=i1({sourceX:S,sourceY:O,targetX:z,targetY:L}),i,(n(7,l),n(16,S),n(17,O),n(20,z),n(21,L)),(n(6,s),n(16,S),n(17,O),n(20,z),n(21,L)))},[m,y,p,P,w,H,s,l,i,u,f,a,d,h,g,b,S,O,I,A,z,L,W,K]}class h4 extends Ne{constructor(e){super(),ze(this,e,d4,c4,Le,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}function g4(t){let e,n;return e=new _o({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function m4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="step"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{data:y=void 0}=e,{labelStyle:b=void 0}=e,{style:p=void 0}=e,{markerStart:P=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:H=void 0}=e,{sourceX:S}=e,{sourceY:O}=e,{sourcePosition:I}=e,{sourceHandleId:A=void 0}=e,{targetX:z}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:K=void 0}=e;return t.$$set=M=>{"id"in M&&n(9,u=M.id),"source"in M&&n(10,f=M.source),"target"in M&&n(11,a=M.target),"type"in M&&n(12,d=M.type),"animated"in M&&n(13,h=M.animated),"selected"in M&&n(14,g=M.selected),"label"in M&&n(0,m=M.label),"data"in M&&n(15,y=M.data),"labelStyle"in M&&n(1,b=M.labelStyle),"style"in M&&n(2,p=M.style),"markerStart"in M&&n(3,P=M.markerStart),"markerEnd"in M&&n(4,w=M.markerEnd),"interactionWidth"in M&&n(5,H=M.interactionWidth),"sourceX"in M&&n(16,S=M.sourceX),"sourceY"in M&&n(17,O=M.sourceY),"sourcePosition"in M&&n(18,I=M.sourcePosition),"sourceHandleId"in M&&n(19,A=M.sourceHandleId),"targetX"in M&&n(20,z=M.targetX),"targetY"in M&&n(21,L=M.targetY),"targetPosition"in M&&n(22,W=M.targetPosition),"targetHandleId"in M&&n(23,K=M.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,l,s]=vr({sourceX:S,sourceY:O,targetX:z,targetY:L,sourcePosition:I,targetPosition:W,borderRadius:0}),i,(n(7,l),n(16,S),n(17,O),n(20,z),n(21,L),n(18,I),n(22,W)),(n(6,s),n(16,S),n(17,O),n(20,z),n(21,L),n(18,I),n(22,W)))},[m,b,p,P,w,H,s,l,i,u,f,a,d,h,g,y,S,O,I,A,z,L,W,K]}class _4 extends Ne{constructor(e){super(),ze(this,e,m4,g4,Le,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,data:15,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}function y4(t,e){const n=t.set,i=e.set,l=ue(t),s=ue(e);let f=l.length===0&&s.length>0?s:l;t.set(f);const a=d=>{const h=n(d);return f=h,i(f),h};t.set=e.set=a,t.update=e.update=d=>a(d(f))}function w4(t,e){const n=t.set,i=e.set;let l=ue(e);t.set(l);const s=u=>{n(u),i(u),l=u};t.set=e.set=s,t.update=e.update=u=>s(u(l))}const b4=(t,e,n)=>{if(!n)return;const i=ue(t),l=e.set,s=n.set;let u=n?ue(n):{x:0,y:0,zoom:1};e.set(u),e.set=f=>(l(f),s(f),u=f,f),n.set=f=>(i==null||i.syncViewport(f),l(f),s(f),u=f,f),e.update=f=>{e.set(f(u))},n.update=f=>{n.set(f(u))}},v4=(t,e)=>{const{subscribe:n,set:i,update:l}=Ie([]);let s=t,u={},f=!0;const a=m=>(s=r1(m,e,{elevateNodesOnSelect:f,defaults:u}),i(s),s),d=m=>a(m(s)),h=m=>{u=m},g=m=>{f=m.elevateNodesOnSelect??f};return a(s),{subscribe:n,set:a,update:d,setDefaultOptions:h,setOptions:g}},p4=(t,e,n,i)=>{const{subscribe:l,set:s,update:u}=Ie([]);let f=t,a={};const d=m=>{const y=a?m.map(b=>({...a,...b})):m;l1(e,n,y),f=y,s(f)},h=m=>d(m(f)),g=m=>{a=m};return d(f),{subscribe:l,set:d,update:h,setDefaultOptions:g}},y1={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},S4={[Ke.Left]:Ke.Right,[Ke.Right]:Ke.Left,[Ke.Top]:Ke.Bottom,[Ke.Bottom]:Ke.Top};function k4(t,e){return mr([e,t.connectionLineType,t.connectionMode,t.nodeLookup,t.viewport],([n,i,l,s,u])=>{var I,A,z,L,W,K,M,D,B,T,V,Y;if(!((I=n.connectionStartHandle)!=null&&I.nodeId))return y1;const f=s.get((A=n.connectionStartHandle)==null?void 0:A.nodeId),a=(z=f==null?void 0:f[_t])==null?void 0:z.handleBounds,d=(a==null?void 0:a[n.connectionStartHandle.type||"source"])||[],h=d,g=l===Ai.Strict?d:h,m=(L=n.connectionStartHandle)!=null&&L.handleId?g==null?void 0:g.find(G=>{var x;return G.id===((x=n.connectionStartHandle)==null?void 0:x.handleId)}):g==null?void 0:g[0],y=m?m.x+m.width/2:(((W=f==null?void 0:f.computed)==null?void 0:W.width)??0)/2,b=m?m.y+m.height/2:((K=f==null?void 0:f.computed)==null?void 0:K.height)??0,p=(((D=(M=f==null?void 0:f.computed)==null?void 0:M.positionAbsolute)==null?void 0:D.x)??0)+y,P=(((T=(B=f==null?void 0:f.computed)==null?void 0:B.positionAbsolute)==null?void 0:T.y)??0)+b,w=m==null?void 0:m.position,H=w?S4[w]:void 0,S={sourceX:p,sourceY:P,sourcePosition:w,targetX:((((V=n.connectionPosition)==null?void 0:V.x)??0)-u.x)/u.zoom,targetY:((((Y=n.connectionPosition)==null?void 0:Y.y)??0)-u.y)/u.zoom,targetPosition:H};let O="";return i===ar.Bezier?[O]=t1(S):i===ar.Step?[O]=vr({...S,borderRadius:0}):i===ar.SmoothStep?[O]=vr(S):[O]=i1(S),{path:O,...S,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const w1={input:Y5,output:K5,default:g1,group:q5},b1={straight:h4,smoothstep:a4,default:_1,step:_4},C4=({nodes:t=[],edges:e=[],width:n,height:i,fitView:l})=>{const s=new Map,u=r1(t,s,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),f=new Map,a=new Map;l1(f,a,e);let d={x:0,y:0,zoom:1};if(l&&n&&i){const h=u.filter(m=>m.width&&m.height||m.initialWidth&&m.initialHeight),g=go(h,{nodeOrigin:[0,0]});d=sf(g,n,i,.5,2,.1)}return{flowId:Ie(null),nodes:v4(u,s),nodeLookup:On(s),edgeLookup:On(a),visibleNodes:On([]),edges:p4(e,f,a),visibleEdges:On([]),connectionLookup:On(f),height:Ie(500),width:Ie(500),minZoom:Ie(.5),maxZoom:Ie(2),nodeOrigin:Ie([0,0]),nodeDragThreshold:Ie(1),nodeExtent:Ie(ed),translateExtent:Ie(ed),autoPanOnNodeDrag:Ie(!0),autoPanOnConnect:Ie(!0),fitViewOnInit:Ie(!1),fitViewOnInitDone:Ie(!1),fitViewOptions:Ie(void 0),panZoom:Ie(null),snapGrid:Ie(null),dragging:Ie(!1),selectionRect:Ie(null),selectionKeyPressed:Ie(!1),multiselectionKeyPressed:Ie(!1),deleteKeyPressed:Ie(!1),panActivationKeyPressed:Ie(!1),zoomActivationKeyPressed:Ie(!1),selectionRectMode:Ie(null),selectionMode:Ie(Hl.Partial),nodeTypes:Ie(w1),edgeTypes:Ie(b1),viewport:Ie(d),connectionMode:Ie(Ai.Strict),domNode:Ie(null),connection:On(y1),connectionLineType:Ie(ar.Bezier),connectionRadius:Ie(20),isValidConnection:Ie(()=>!0),nodesDraggable:Ie(!0),nodesConnectable:Ie(!0),elementsSelectable:Ie(!0),selectNodesOnDrag:Ie(!0),markers:On([]),defaultMarkerColor:Ie("#b1b1b7"),lib:On("svelte"),onlyRenderVisibleElements:Ie(!1),onerror:Ie(qp),ondelete:Ie(void 0),onedgecreate:Ie(void 0),onconnect:Ie(void 0),onconnectstart:Ie(void 0),onconnectend:Ie(void 0),onbeforedelete:Ie(void 0),nodesInitialized:Ie(!1),edgesInitialized:Ie(!1),viewportInitialized:Ie(!1),initialized:On(!1)}};function E4(t){const e=mr([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,l,s,u,f])=>l&&u&&f?n.filter(d=>{const h=i.get(d.source),g=i.get(d.target);return h&&g&&$p({sourceNode:h,targetNode:g,width:u,height:f,transform:[s.x,s.y,s.zoom]})}):n);return mr([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,l,s])=>n.reduce((f,a)=>{const d=i.get(a.source),h=i.get(a.target);if(!d||!h)return f;const g=l5({id:a.id,sourceNode:d,targetNode:h,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:l,onError:s});return g&&f.push({...a,zIndex:jp({selected:a.selected,zIndex:a.zIndex,sourceNode:d,targetNode:h,elevateOnSelect:!1}),...g}),f},[]))}function A4(t){return mr([t.nodes,t.onlyRenderVisibleElements,t.width,t.height,t.viewport],([e,n,i,l,s])=>{const u=[s.x,s.y,s.zoom];return n?Zh(e,{x:0,y:0,width:i,height:l},u,!0):e})}const ql=Symbol();function v1({nodes:t,edges:e,width:n,height:i,fitView:l}){const s=C4({nodes:t,edges:e,width:n,height:i,fitView:l});function u(B){s.nodeTypes.set({...w1,...B})}function f(B){s.edgeTypes.set({...b1,...B})}function a(B){const T=ue(s.edges);s.edges.set(n5(B,T))}const d=(B,T=!1)=>{const V=ue(s.nodeLookup);B.forEach(Y=>{var x;const G=V.get(Y.id);G&&(G.position=Y.position,G.dragging=T,G.computed={...G.computed,positionAbsolute:(x=Y.computed)==null?void 0:x.positionAbsolute})}),s.nodes.set(ue(s.nodes))};function h(B){const T=f5(B,ue(s.nodes),ue(s.nodeLookup),ue(s.domNode),ue(s.nodeOrigin));if(T){if(!ue(s.fitViewOnInitDone)&&ue(s.fitViewOnInit)){const V=ue(s.fitViewOptions),Y=g(T,{...V,nodes:(V==null?void 0:V.nodes)||T});s.fitViewOnInitDone.set(Y)}s.nodes.set(T),ue(s.nodesInitialized)||s.nodesInitialized.set(!0)}}function g(B,T){const V=ue(s.panZoom);return V?Yp({nodes:B,width:ue(s.width),height:ue(s.height),minZoom:ue(s.minZoom),maxZoom:ue(s.maxZoom),panZoom:V,nodeOrigin:ue(s.nodeOrigin)},T):!1}function m(B,T){const V=ue(s.panZoom);V&&V.scaleBy(B,T)}function y(B){m(1.2,B)}function b(B){m(1/1.2,B)}function p(B){const T=ue(s.panZoom);T&&(T.setScaleExtent([B,ue(s.maxZoom)]),s.minZoom.set(B))}function P(B){const T=ue(s.panZoom);T&&(T.setScaleExtent([ue(s.minZoom),B]),s.maxZoom.set(B))}function w(B){const T=ue(s.panZoom);T&&(T.setTranslateExtent(B),s.translateExtent.set(B))}function H(B){let T=!1;return B.forEach(V=>{V.selected&&(V.selected=!1,T=!0)}),T}function S(B){H((B==null?void 0:B.nodes)||ue(s.nodes))&&s.nodes.set(ue(s.nodes)),H((B==null?void 0:B.edges)||ue(s.edges))&&s.edges.set(ue(s.edges))}s.deleteKeyPressed.subscribe(async B=>{var T;if(B){const V=ue(s.nodes),Y=ue(s.edges),G=V.filter(ce=>ce.selected),x=Y.filter(ce=>ce.selected),{nodes:ee,edges:ae}=await Jh({nodesToRemove:G,edgesToRemove:x,nodes:V,edges:Y,onBeforeDelete:ue(s.onbeforedelete)});(ee.length||ae.length)&&(s.nodes.update(ce=>ce.filter($=>!ee.some(be=>be.id===$.id))),s.edges.update(ce=>ce.filter($=>!ae.some(be=>be.id===$.id))),(T=ue(s.ondelete))==null||T({nodes:ee,edges:ae}))}});function O(B){const T=ue(s.multiselectionKeyPressed);s.nodes.update(V=>V.map(Y=>{const G=B.includes(Y.id),x=T&&Y.selected||G;return Y.selected=x,Y})),T||s.edges.update(V=>V.map(Y=>(Y.selected=!1,Y)))}function I(B){const T=ue(s.multiselectionKeyPressed);s.edges.update(V=>V.map(Y=>{const G=B.includes(Y.id),x=T&&Y.selected||G;return Y.selected=x,Y})),T||s.nodes.update(V=>V.map(Y=>(Y.selected=!1,Y)))}function A(B){var V;const T=(V=ue(s.nodes))==null?void 0:V.find(Y=>Y.id===B);if(!T){console.warn("012",ho.error012(B));return}s.selectionRect.set(null),s.selectionRectMode.set(null),T.selected?T.selected&&ue(s.multiselectionKeyPressed)&&S({nodes:[T],edges:[]}):O([B])}function z(B){const T=ue(s.viewport);return a5({delta:B,panZoom:ue(s.panZoom),transform:[T.x,T.y,T.zoom],translateExtent:ue(s.translateExtent),width:ue(s.width),height:ue(s.height)})}const L={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},W=Ie(L),K=B=>{W.set(B)};function M(){K(L)}function D(){s.fitViewOnInitDone.set(!1),s.selectionRect.set(null),s.selectionRectMode.set(null),s.snapGrid.set(null),s.isValidConnection.set(()=>!0),s.nodes.set([]),s.edges.set([]),S(),M()}return{...s,connection:k4(s,W),visibleEdges:E4(s),visibleNodes:A4(s),markers:mr([s.edges,s.defaultMarkerColor,s.flowId],([B,T,V])=>s5(B,{defaultColor:T,id:V})),initialized:(()=>{let B=!1;const T=ue(s.nodes).length,V=ue(s.edges).length;return mr([s.nodesInitialized,s.edgesInitialized,s.viewportInitialized],([Y,G,x])=>B||(T===0?B=x:V===0?B=x&&Y:B=x&&Y&&G,B))})(),syncNodeStores:B=>y4(s.nodes,B),syncEdgeStores:B=>w4(s.edges,B),syncViewport:B=>b4(s.panZoom,s.viewport,B),setNodeTypes:u,setEdgeTypes:f,addEdge:a,updateNodePositions:d,updateNodeDimensions:h,zoomIn:y,zoomOut:b,fitView:B=>g(ue(s.nodes),B),setMinZoom:p,setMaxZoom:P,setTranslateExtent:w,unselectNodesAndEdges:S,addSelectedNodes:O,addSelectedEdges:I,handleNodeSelection:A,panBy:z,updateConnection:K,cancelConnection:M,reset:D}}function dt(){const t=$r(ql);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function M4({nodes:t,edges:e,width:n,height:i,fitView:l}){const s=v1({nodes:t,edges:e,width:n,height:i,fitView:l});return jr(ql,{getStore:()=>s}),s}function P4(t,e){const{panZoom:n,minZoom:i,maxZoom:l,initialViewport:s,viewport:u,dragging:f,translateExtent:a}=e,d=A5({domNode:t,minZoom:i,maxZoom:l,translateExtent:a,viewport:s,onTransformChange:g=>u.set({x:g[0],y:g[1],zoom:g[2]}),onDraggingChange:f.set}),h=d.getViewport();return u.set(h),n.set(d),d.update(e),{update(g){d.update(g)}}}function T4(t){let e,n,i,l,s;const u=t[33].default,f=Xt(u,t,t[32],null);return{c(){e=_e("div"),f&&f.c(),C(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,d){J(a,e,d),f&&f.m(e,null),i=!0,l||(s=Gt(n=P4.call(null,e,{viewport:t[17],minZoom:t[11],maxZoom:t[12],initialViewport:t[10],dragging:t[22],panZoom:t[18],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[8],panOnDrag:t[9],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Kn.Free,zoomActivationKeyPressed:t[13],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:t[14],translateExtent:t[15],lib:t[16]})),l=!0)},p(a,d){f&&f.p&&(!i||d[1]&2)&&Ft(f,u,a,a[32],i?Yt(u,a[32],d,null):Vt(a[32]),null),n&&gt(n.update)&&d[0]&131071&&n.update.call(null,{viewport:a[17],minZoom:a[11],maxZoom:a[12],initialViewport:a[10],dragging:a[22],panZoom:a[18],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[8],panOnDrag:a[9],panOnScrollSpeed:.5,panOnScrollMode:a[3]||Kn.Free,zoomActivationKeyPressed:a[13],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:a[14],translateExtent:a[15],lib:a[16]})},i(a){i||(j(f,a),i=!0)},o(a){te(f,a),i=!1},d(a){a&&Z(e),f&&f.d(a),l=!1,s()}}}function O4(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,{$$slots:b={},$$scope:p}=e,{initialViewport:P}=e,{onMoveStart:w=void 0}=e,{onMove:H=void 0}=e,{onMoveEnd:S=void 0}=e,{panOnScrollMode:O}=e,{preventScrolling:I}=e,{zoomOnScroll:A}=e,{zoomOnDoubleClick:z}=e,{zoomOnPinch:L}=e,{panOnDrag:W}=e,{panOnScroll:K}=e;const{viewport:M,panZoom:D,selectionKeyPressed:B,minZoom:T,maxZoom:V,dragging:Y,translateExtent:G,lib:x,panActivationKeyPressed:ee,zoomActivationKeyPressed:ae,viewportInitialized:ce}=dt();return he(t,B,$=>n(14,g=$)),he(t,T,$=>n(11,a=$)),he(t,V,$=>n(12,d=$)),he(t,G,$=>n(15,m=$)),he(t,x,$=>n(16,y=$)),he(t,ee,$=>n(31,f=$)),he(t,ae,$=>n(13,h=$)),he(t,ce,$=>n(34,u=$)),fo(()=>{Cn(ce,u=!0,u)}),t.$$set=$=>{"initialViewport"in $&&n(28,P=$.initialViewport),"onMoveStart"in $&&n(0,w=$.onMoveStart),"onMove"in $&&n(1,H=$.onMove),"onMoveEnd"in $&&n(2,S=$.onMoveEnd),"panOnScrollMode"in $&&n(3,O=$.panOnScrollMode),"preventScrolling"in $&&n(4,I=$.preventScrolling),"zoomOnScroll"in $&&n(5,A=$.zoomOnScroll),"zoomOnDoubleClick"in $&&n(6,z=$.zoomOnDoubleClick),"zoomOnPinch"in $&&n(7,L=$.zoomOnPinch),"panOnDrag"in $&&n(29,W=$.panOnDrag),"panOnScroll"in $&&n(30,K=$.panOnScroll),"$$scope"in $&&n(32,p=$.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&268435456&&n(10,i=P||{x:0,y:0,zoom:1}),t.$$.dirty[0]&536870912|t.$$.dirty[1]&1&&n(9,l=f||W),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(8,s=f||K)},[w,H,S,O,I,A,z,L,s,l,i,a,d,h,g,m,y,M,D,B,T,V,Y,G,x,ee,ae,ce,P,W,K,f,p,b]}class I4 extends Ne{constructor(e){super(),ze(this,e,O4,T4,Le,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}function H4(t){let e,n,i,l;const s=t[29].default,u=Xt(s,t,t[28],null);return{c(){e=_e("div"),u&&u.c(),C(e,"class","svelte-flow__pane svelte-1esy7hx"),Xe(e,"draggable",t[0]),Xe(e,"dragging",t[4]),Xe(e,"selection",t[1])},m(f,a){J(f,e,a),u&&u.m(e,null),t[30](e),n=!0,i||(l=[He(e,"click",function(){gt(t[3]?void 0:_l(t[15],t[2]))&&(t[3]?void 0:_l(t[15],t[2])).apply(this,arguments)}),He(e,"mousedown",function(){gt(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),He(e,"mousemove",function(){gt(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),He(e,"mouseup",function(){gt(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),He(e,"mouseleave",function(){gt(t[3]?t[19]:void 0)&&(t[3]?t[19]:void 0).apply(this,arguments)}),He(e,"contextmenu",function(){gt(_l(t[20],t[2]))&&_l(t[20],t[2]).apply(this,arguments)})],i=!0)},p(f,a){t=f,u&&u.p&&(!n||a[0]&268435456)&&Ft(u,s,t,t[28],n?Yt(s,t[28],a,null):Vt(t[28]),null),(!n||a[0]&1)&&Xe(e,"draggable",t[0]),(!n||a[0]&16)&&Xe(e,"dragging",t[4]),(!n||a[0]&2)&&Xe(e,"selection",t[1])},i(f){n||(j(u,f),n=!0)},o(f){te(u,f),n=!1},d(f){f&&Z(e),u&&u.d(f),t[30](null),i=!1,vt(l)}}}function _l(t,e){return n=>{n.target===e&&(t==null||t(n))}}function bd(t){return e=>{const n=t.includes(e.id);return e.selected!==n?{...e,selected:n}:e}}function z4(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,b,p,{$$slots:P={},$$scope:w}=e,{panOnDrag:H=void 0}=e,{selectionOnDrag:S=void 0}=e;const O=Wl(),{nodes:I,edges:A,viewport:z,dragging:L,elementsSelectable:W,selectionRect:K,selectionRectMode:M,selectionKeyPressed:D,selectionMode:B,panActivationKeyPressed:T,unselectNodesAndEdges:V}=dt();he(t,I,R=>n(36,h=R)),he(t,A,R=>n(33,f=R)),he(t,z,R=>n(35,d=R)),he(t,L,R=>n(4,p=R)),he(t,W,R=>n(25,m=R)),he(t,K,R=>n(24,g=R)),he(t,M,R=>n(23,u=R)),he(t,D,R=>n(26,y=R)),he(t,B,R=>n(34,a=R)),he(t,T,R=>n(27,b=R));let Y,G=null,x=[];function ee(R){O("paneclick",{event:R}),V(),M.set(null)}function ae(R){if(G=Y.getBoundingClientRect(),!W||!l||R.button!==0||R.target!==Y||!G)return;const{x:ge,y:me}=oi(R,G);V(),K.set({width:0,height:0,startX:ge,startY:me,x:ge,y:me})}function ce(R){if(!l||!G||!g)return;const ge=oi(R,G),me=g.startX??0,oe=g.startY??0,le={...g,x:ge.x<me?ge.x:me,y:ge.y<oe?ge.y:oe,width:Math.abs(ge.x-me),height:Math.abs(ge.y-oe)},Ye=x.map(Pe=>Pe.id),Ue=Uu(x,f).map(Pe=>Pe.id);x=Zh(h,le,[d.x,d.y,d.zoom],a===Hl.Partial,!0);const et=Uu(x,f).map(Pe=>Pe.id),rt=x.map(Pe=>Pe.id);(Ye.length!==rt.length||rt.some(Pe=>!Ye.includes(Pe)))&&I.update(Pe=>Pe.map(bd(rt))),(Ue.length!==et.length||et.some(Pe=>!Ue.includes(Pe)))&&A.update(Pe=>Pe.map(bd(et))),M.set("user"),K.set(le)}function $(R){R.button===0&&(!l&&u==="user"&&R.target===Y&&(ee==null||ee(R)),K.set(null),x.length>0&&M.set("nodes"))}const be=()=>{u==="user"&&M.set(x.length>0?"nodes":null),K.set(null)},Me=R=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){R.preventDefault();return}O("panecontextmenu",{event:R})};function Ae(R){En[R?"unshift":"push"](()=>{Y=R,n(2,Y)})}return t.$$set=R=>{"panOnDrag"in R&&n(0,H=R.panOnDrag),"selectionOnDrag"in R&&n(21,S=R.selectionOnDrag),"$$scope"in R&&n(28,w=R.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217729&&n(22,i=b||H),t.$$.dirty[0]&90177536&&n(1,l=y||g||S&&i!==!0),t.$$.dirty[0]&41943042&&n(3,s=m&&(l||u==="user"))},[H,l,Y,s,p,I,A,z,L,W,K,M,D,B,T,ee,ae,ce,$,be,Me,S,i,u,g,m,y,b,w,P,Ae]}class N4 extends Ne{constructor(e){super(),ze(this,e,z4,H4,Le,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}function L4(t){let e,n;const i=t[3].default,l=Xt(i,t,t[2],null);return{c(){e=_e("div"),l&&l.c(),C(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),Be(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(s,u){J(s,e,u),l&&l.m(e,null),n=!0},p(s,[u]){l&&l.p&&(!n||u&4)&&Ft(l,i,s,s[2],n?Yt(i,s[2],u,null):Vt(s[2]),null),(!n||u&1)&&Be(e,"transform","translate("+s[0].x+"px, "+s[0].y+"px) scale("+s[0].zoom+")")},i(s){n||(j(l,s),n=!0)},o(s){te(l,s),n=!1},d(s){s&&Z(e),l&&l.d(s)}}}function R4(t,e,n){let i,{$$slots:l={},$$scope:s}=e;const{viewport:u}=dt();return he(t,u,f=>n(0,i=f)),t.$$set=f=>{"$$scope"in f&&n(2,s=f.$$scope)},[i,u,s,l]}class D4 extends Ne{constructor(e){super(),ze(this,e,R4,L4,Le,{})}}function p1(t,e){const{store:n,onDrag:i,onDragStart:l,onDragStop:s,onNodeMouseDown:u}=e,f=d5({onDrag:i,onDragStart:l,onDragStop:s,onNodeMouseDown:u,getStoreItems:()=>{const d=ue(n.snapGrid),h=ue(n.viewport);return{nodes:ue(n.nodes),nodeLookup:ue(n.nodeLookup),edges:ue(n.edges),nodeExtent:ue(n.nodeExtent),snapGrid:d||[0,0],snapToGrid:!!d,nodeOrigin:[0,0],multiSelectionActive:ue(n.multiselectionKeyPressed),domNode:ue(n.domNode),transform:[h.x,h.y,h.zoom],autoPanOnNodeDrag:ue(n.autoPanOnNodeDrag),nodesDraggable:ue(n.nodesDraggable),selectNodesOnDrag:ue(n.selectNodesOnDrag),nodeDragThreshold:ue(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(d,h){if(h.disabled){f.destroy();return}f.update({domNode:d,noDragClassName:h.noDragClass,handleSelector:h.handleSelector,nodeId:h.nodeId,isSelectable:h.isSelectable})}return a(t,e),{update(d){a(t,d)},destroy(){f.destroy()}}}function W4({width:t,height:e,initialWidth:n,initialHeight:i,computedWidth:l,computedHeight:s}){if(l===void 0&&s===void 0){const u=t??n,f=e??i;return{width:u?`width:${u}px;`:"",height:f?`height:${f}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function vd(t){let e,n,i,l,s,u=`translate(${t[13]}px, ${t[14]}px)`,f,a,d;var h=t[26];function g(m,y){return{props:{data:m[2],id:m[1],selected:m[3],sourcePosition:m[15],targetPosition:m[16],zIndex:m[17],dragging:m[8],dragHandle:m[20],type:m[24],isConnectable:m[27],positionAbsoluteX:m[11],positionAbsoluteY:m[12],width:m[18],height:m[19]}}}return h&&(n=Cl(h,g(t))),{c(){e=_e("div"),n&&ke(n.$$.fragment),C(e,"data-id",t[1]),C(e,"class",i=it(["svelte-flow__node",`svelte-flow__node-${t[24]}`,t[22]])),C(e,"style",l=(t[9]??"")+";"+t[25].width+t[25].height),Xe(e,"dragging",t[8]),Xe(e,"selected",t[3]),Xe(e,"draggable",t[4]),Xe(e,"connectable",t[6]),Xe(e,"selectable",t[5]),Xe(e,"nopan",t[4]),Xe(e,"parent",t[10]),Be(e,"z-index",t[17]),Be(e,"transform",u),Be(e,"visibility",t[21]?"visible":"hidden")},m(m,y){J(m,e,y),n&&ve(n,e,null),t[49](e),f=!0,a||(d=[Gt(s=p1.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[20],noDragClass:"nodrag",onNodeMouseDown:t[30],onDrag:t[46],onDragStart:t[47],onDragStop:t[48],store:t[28]})),He(e,"click",t[33]),He(e,"mouseenter",t[50]),He(e,"mouseleave",t[51]),He(e,"mousemove",t[52]),He(e,"contextmenu",t[53])],a=!0)},p(m,y){if(y[0]&67108864&&h!==(h=m[26])){if(n){yt();const p=n;te(p.$$.fragment,1,0,()=>{pe(p,1)}),wt()}h?(n=Cl(h,g(m)),ke(n.$$.fragment),j(n.$$.fragment,1),ve(n,e,null)):n=null}else if(h){const p={};y[0]&4&&(p.data=m[2]),y[0]&2&&(p.id=m[1]),y[0]&8&&(p.selected=m[3]),y[0]&32768&&(p.sourcePosition=m[15]),y[0]&65536&&(p.targetPosition=m[16]),y[0]&131072&&(p.zIndex=m[17]),y[0]&256&&(p.dragging=m[8]),y[0]&1048576&&(p.dragHandle=m[20]),y[0]&16777216&&(p.type=m[24]),y[0]&134217728&&(p.isConnectable=m[27]),y[0]&2048&&(p.positionAbsoluteX=m[11]),y[0]&4096&&(p.positionAbsoluteY=m[12]),y[0]&262144&&(p.width=m[18]),y[0]&524288&&(p.height=m[19]),n.$set(p)}(!f||y[0]&2)&&C(e,"data-id",m[1]),(!f||y[0]&20971520&&i!==(i=it(["svelte-flow__node",`svelte-flow__node-${m[24]}`,m[22]])))&&C(e,"class",i),(!f||y[0]&33554944&&l!==(l=(m[9]??"")+";"+m[25].width+m[25].height))&&C(e,"style",l),s&&gt(s.update)&&y[0]&1048610&&s.update.call(null,{nodeId:m[1],isSelectable:m[5],disabled:!1,handleSelector:m[20],noDragClass:"nodrag",onNodeMouseDown:m[30],onDrag:m[46],onDragStart:m[47],onDragStop:m[48],store:m[28]}),(!f||y[0]&20971776)&&Xe(e,"dragging",m[8]),(!f||y[0]&20971528)&&Xe(e,"selected",m[3]),(!f||y[0]&20971536)&&Xe(e,"draggable",m[4]),(!f||y[0]&20971584)&&Xe(e,"connectable",m[6]),(!f||y[0]&20971552)&&Xe(e,"selectable",m[5]),(!f||y[0]&20971536)&&Xe(e,"nopan",m[4]),(!f||y[0]&20972544)&&Xe(e,"parent",m[10]);const b=y[0]&33554944;(y[0]&33686016||b)&&Be(e,"z-index",m[17]),(y[0]&33579520&&u!==(u=`translate(${m[13]}px, ${m[14]}px)`)||b)&&Be(e,"transform",u),(y[0]&35652096||b)&&Be(e,"visibility",m[21]?"visible":"hidden")},i(m){f||(n&&j(n.$$.fragment,m),f=!0)},o(m){n&&te(n.$$.fragment,m),f=!1},d(m){m&&Z(e),n&&pe(n),t[49](null),a=!1,vt(d)}}}function B4(t){let e,n,i=!t[7]&&vd(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),J(l,e,s),n=!0},p(l,s){l[7]?i&&(yt(),te(i,1,1,()=>{i=null}),wt()):i?(i.p(l,s),s[0]&128&&j(i,1)):(i=vd(l),i.c(),j(i,1),i.m(e.parentNode,e))},i(l){n||(j(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}function X4(t,e,n){let i,l,s,u,f,a,{node:d}=e,{id:h}=e,{data:g={}}=e,{selected:m=!1}=e,{draggable:y=void 0}=e,{selectable:b=void 0}=e,{connectable:p=!0}=e,{hidden:P=!1}=e,{dragging:w=!1}=e,{resizeObserver:H=null}=e,{style:S=void 0}=e,{type:O="default"}=e,{isParent:I=!1}=e,{positionX:A}=e,{positionY:z}=e,{positionOriginX:L}=e,{positionOriginY:W}=e,{sourcePosition:K=void 0}=e,{targetPosition:M=void 0}=e,{zIndex:D}=e,{computedWidth:B=void 0}=e,{computedHeight:T=void 0}=e,{initialWidth:V=void 0}=e,{initialHeight:Y=void 0}=e,{width:G=void 0}=e,{height:x=void 0}=e,{dragHandle:ee=void 0}=e,{initialized:ae=!1}=e,{class:ce=""}=e;const $=dt(),{nodeTypes:be,nodeDragThreshold:Me,selectNodesOnDrag:Ae,handleNodeSelection:R,updateNodeDimensions:ge}=$;he(t,be,de=>n(45,f=de));let me,oe=null;const le=C1(),Ye=Ie(p);he(t,Ye,de=>n(27,a=de));let Ue,et,rt;jr("svelteflow__node_id",h),jr("svelteflow__node_connectable",Ye),Ju(()=>{oe&&(H==null||H.unobserve(oe))});function Pe(de){b&&(!ue(Ae)||!y||ue(Me)>0)&&R(h),le("nodeclick",{node:d,event:de})}const Je=(de,Tt,Ht,ye)=>{le("nodedrag",{event:de,targetNode:Ht,nodes:ye})},ut=(de,Tt,Ht,ye)=>{le("nodedragstart",{event:de,targetNode:Ht,nodes:ye})},rn=(de,Tt,Ht,ye)=>{le("nodedragstop",{event:de,targetNode:Ht,nodes:ye})};function hn(de){En[de?"unshift":"push"](()=>{me=de,n(23,me)})}const Ce=de=>le("nodemouseenter",{node:d,event:de}),Et=de=>le("nodemouseleave",{node:d,event:de}),Jt=de=>le("nodemousemove",{node:d,event:de}),gn=de=>le("nodecontextmenu",{node:d,event:de});return t.$$set=de=>{"node"in de&&n(0,d=de.node),"id"in de&&n(1,h=de.id),"data"in de&&n(2,g=de.data),"selected"in de&&n(3,m=de.selected),"draggable"in de&&n(4,y=de.draggable),"selectable"in de&&n(5,b=de.selectable),"connectable"in de&&n(6,p=de.connectable),"hidden"in de&&n(7,P=de.hidden),"dragging"in de&&n(8,w=de.dragging),"resizeObserver"in de&&n(34,H=de.resizeObserver),"style"in de&&n(9,S=de.style),"type"in de&&n(35,O=de.type),"isParent"in de&&n(10,I=de.isParent),"positionX"in de&&n(11,A=de.positionX),"positionY"in de&&n(12,z=de.positionY),"positionOriginX"in de&&n(13,L=de.positionOriginX),"positionOriginY"in de&&n(14,W=de.positionOriginY),"sourcePosition"in de&&n(15,K=de.sourcePosition),"targetPosition"in de&&n(16,M=de.targetPosition),"zIndex"in de&&n(17,D=de.zIndex),"computedWidth"in de&&n(36,B=de.computedWidth),"computedHeight"in de&&n(37,T=de.computedHeight),"initialWidth"in de&&n(38,V=de.initialWidth),"initialHeight"in de&&n(39,Y=de.initialHeight),"width"in de&&n(18,G=de.width),"height"in de&&n(19,x=de.height),"dragHandle"in de&&n(20,ee=de.dragHandle),"initialized"in de&&n(21,ae=de.initialized),"class"in de&&n(22,ce=de.class)},t.$$.update=()=>{t.$$.dirty[1]&16&&n(24,i=O||"default"),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(44,l=!!f[i]),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(26,s=f[i]||g1),t.$$.dirty[1]&8208&&(l||console.warn("003",ho.error003(O))),t.$$.dirty[0]&786432|t.$$.dirty[1]&480&&n(25,u=W4({width:G,height:x,initialWidth:V,initialHeight:Y,computedWidth:B,computedHeight:T})),t.$$.dirty[0]&64&&Ye.set(!!p),t.$$.dirty[0]&25264130|t.$$.dirty[1]&7168&&((Ue&&i!==Ue||et&&K!==et||rt&&M!==rt)&&requestAnimationFrame(()=>ge(new Map([[h,{id:h,nodeElement:me,forceUpdate:!0}]]))),n(41,Ue=i),n(42,et=K),n(43,rt=M)),t.$$.dirty[0]&8388608|t.$$.dirty[1]&520&&H&&me!==oe&&(oe&&H.unobserve(oe),me&&H.observe(me),n(40,oe=me))},[d,h,g,m,y,b,p,P,w,S,I,A,z,L,W,K,M,D,G,x,ee,ae,ce,me,i,u,s,a,$,be,R,le,Ye,Pe,H,O,B,T,V,Y,oe,Ue,et,rt,l,f,Je,ut,rn,hn,Ce,Et,Jt,gn]}class Y4 extends Ne{constructor(e){super(),ze(this,e,X4,B4,hh,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:34,style:9,type:35,isParent:10,positionX:11,positionY:12,positionOriginX:13,positionOriginY:14,sourcePosition:15,targetPosition:16,zIndex:17,computedWidth:36,computedHeight:37,initialWidth:38,initialHeight:39,width:18,height:19,dragHandle:20,initialized:21,class:22},null,[-1,-1])}}const{Map:F4}=xw;function pd(t,e,n){var u,f,a,d;const i=t.slice();i[18]=e[n];const l=mo(i[18]);i[19]=l;const s=xp({x:((f=(u=i[18].computed)==null?void 0:u.positionAbsolute)==null?void 0:f.x)??0,y:((d=(a=i[18].computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0,...i[19],origin:i[18].origin});return i[20]=s,i}function Sd(t,e){var s,u,f,a,d,h,g,m;let n,i,l;return i=new Y4({props:{node:e[18],id:e[18].id,data:e[18].data,selected:!!e[18].selected,hidden:!!e[18].hidden,draggable:!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u"),selectable:!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u"),connectable:!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u"),positionX:((u=(s=e[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:u.x)??0,positionY:((a=(f=e[18].computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0,positionOriginX:e[20].x??0,positionOriginY:e[20].y??0,isParent:!!((d=e[18][_t])!=null&&d.isParent),style:e[18].style,class:e[18].class,type:e[18].type??"default",sourcePosition:e[18].sourcePosition,targetPosition:e[18].targetPosition,dragging:e[18].dragging,zIndex:((h=e[18][_t])==null?void 0:h.z)??0,dragHandle:e[18].dragHandle,initialized:oo(e[18]),width:e[18].width,height:e[18].height,initialWidth:e[18].initialWidth,initialHeight:e[18].initialHeight,computedWidth:(g=e[18].computed)==null?void 0:g.width,computedHeight:(m=e[18].computed)==null?void 0:m.height,resizeObserver:e[8]}}),i.$on("nodeclick",e[9]),i.$on("nodemouseenter",e[10]),i.$on("nodemousemove",e[11]),i.$on("nodemouseleave",e[12]),i.$on("nodedrag",e[13]),i.$on("nodedragstart",e[14]),i.$on("nodedragstop",e[15]),i.$on("nodecontextmenu",e[16]),{key:t,first:null,c(){n=bt(),ke(i.$$.fragment),this.first=n},m(y,b){J(y,n,b),ve(i,y,b),l=!0},p(y,b){var P,w,H,S,O,I,A,z;e=y;const p={};b&1&&(p.node=e[18]),b&1&&(p.id=e[18].id),b&1&&(p.data=e[18].data),b&1&&(p.selected=!!e[18].selected),b&1&&(p.hidden=!!e[18].hidden),b&3&&(p.draggable=!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u")),b&5&&(p.selectable=!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u")),b&9&&(p.connectable=!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u")),b&1&&(p.positionX=((w=(P=e[18].computed)==null?void 0:P.positionAbsolute)==null?void 0:w.x)??0),b&1&&(p.positionY=((S=(H=e[18].computed)==null?void 0:H.positionAbsolute)==null?void 0:S.y)??0),b&1&&(p.positionOriginX=e[20].x??0),b&1&&(p.positionOriginY=e[20].y??0),b&1&&(p.isParent=!!((O=e[18][_t])!=null&&O.isParent)),b&1&&(p.style=e[18].style),b&1&&(p.class=e[18].class),b&1&&(p.type=e[18].type??"default"),b&1&&(p.sourcePosition=e[18].sourcePosition),b&1&&(p.targetPosition=e[18].targetPosition),b&1&&(p.dragging=e[18].dragging),b&1&&(p.zIndex=((I=e[18][_t])==null?void 0:I.z)??0),b&1&&(p.dragHandle=e[18].dragHandle),b&1&&(p.initialized=oo(e[18])),b&1&&(p.width=e[18].width),b&1&&(p.height=e[18].height),b&1&&(p.initialWidth=e[18].initialWidth),b&1&&(p.initialHeight=e[18].initialHeight),b&1&&(p.computedWidth=(A=e[18].computed)==null?void 0:A.width),b&1&&(p.computedHeight=(z=e[18].computed)==null?void 0:z.height),i.$set(p)},i(y){l||(j(i.$$.fragment,y),l=!0)},o(y){te(i.$$.fragment,y),l=!1},d(y){y&&Z(n),pe(i,y)}}}function V4(t){let e,n=[],i=new F4,l,s=Ct(t[0]);const u=f=>f[18].id;for(let f=0;f<s.length;f+=1){let a=pd(t,s,f),d=u(a);i.set(d,n[f]=Sd(d,a))}return{c(){e=_e("div");for(let f=0;f<n.length;f+=1)n[f].c();C(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(f,a){J(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&271&&(s=Ct(f[0]),yt(),n=Ei(n,a,u,1,f,s,i,e,Xi,Sd,null,pd),wt())},i(f){if(!l){for(let a=0;a<s.length;a+=1)j(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)te(n[a]);l=!1},d(f){f&&Z(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function K4(t,e,n){let i,l,s,u;const{visibleNodes:f,nodesDraggable:a,nodesConnectable:d,elementsSelectable:h,updateNodeDimensions:g}=dt();he(t,f,I=>n(0,i=I)),he(t,a,I=>n(1,l=I)),he(t,d,I=>n(3,u=I)),he(t,h,I=>n(2,s=I));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(I=>{const A=new Map;I.forEach(z=>{const L=z.target.getAttribute("data-id");A.set(L,{id:L,nodeElement:z.target,forceUpdate:!0})}),g(A)});Ju(()=>{m==null||m.disconnect()});function y(I){lt.call(this,t,I)}function b(I){lt.call(this,t,I)}function p(I){lt.call(this,t,I)}function P(I){lt.call(this,t,I)}function w(I){lt.call(this,t,I)}function H(I){lt.call(this,t,I)}function S(I){lt.call(this,t,I)}function O(I){lt.call(this,t,I)}return[i,l,s,u,f,a,d,h,m,y,b,p,P,w,H,S,O]}class U4 extends Ne{constructor(e){super(),ze(this,e,K4,V4,Le,{})}}function kd(t){let e,n,i,l,s,u,f,a;var d=t[26];function h(g,m){return{props:{id:g[0],source:g[1],target:g[2],sourceX:g[13],sourceY:g[14],targetX:g[15],targetY:g[16],sourcePosition:g[17],targetPosition:g[18],animated:g[6],selected:g[7],label:g[9],labelStyle:g[10],data:g[3],style:g[4],interactionWidth:g[20],type:g[22],sourceHandleId:g[11],targetHandleId:g[12],markerStart:g[25],markerEnd:g[24]}}}return d&&(i=Cl(d,h(t))),{c(){e=Fe("svg"),n=Fe("g"),i&&ke(i.$$.fragment),C(n,"class",l=it(["svelte-flow__edge",t[21]])),C(n,"data-id",t[0]),C(n,"aria-label",s=t[19]===null?void 0:t[19]?t[19]:`Edge from ${t[1]} to ${t[2]}`),C(n,"role","img"),Xe(n,"animated",t[6]),Xe(n,"selected",t[7]),Xe(n,"selectable",t[23]),Be(e,"z-index",t[5])},m(g,m){J(g,e,m),se(e,n),i&&ve(i,n,null),u=!0,f||(a=[He(n,"click",t[31]),He(n,"contextmenu",t[32])],f=!0)},p(g,m){if(m[0]&67108864&&d!==(d=g[26])){if(i){yt();const y=i;te(y.$$.fragment,1,0,()=>{pe(y,1)}),wt()}d?(i=Cl(d,h(g)),ke(i.$$.fragment),j(i.$$.fragment,1),ve(i,n,null)):i=null}else if(d){const y={};m[0]&1&&(y.id=g[0]),m[0]&2&&(y.source=g[1]),m[0]&4&&(y.target=g[2]),m[0]&8192&&(y.sourceX=g[13]),m[0]&16384&&(y.sourceY=g[14]),m[0]&32768&&(y.targetX=g[15]),m[0]&65536&&(y.targetY=g[16]),m[0]&131072&&(y.sourcePosition=g[17]),m[0]&262144&&(y.targetPosition=g[18]),m[0]&64&&(y.animated=g[6]),m[0]&128&&(y.selected=g[7]),m[0]&512&&(y.label=g[9]),m[0]&1024&&(y.labelStyle=g[10]),m[0]&8&&(y.data=g[3]),m[0]&16&&(y.style=g[4]),m[0]&1048576&&(y.interactionWidth=g[20]),m[0]&4194304&&(y.type=g[22]),m[0]&2048&&(y.sourceHandleId=g[11]),m[0]&4096&&(y.targetHandleId=g[12]),m[0]&33554432&&(y.markerStart=g[25]),m[0]&16777216&&(y.markerEnd=g[24]),i.$set(y)}(!u||m[0]&2097152&&l!==(l=it(["svelte-flow__edge",g[21]])))&&C(n,"class",l),(!u||m[0]&1)&&C(n,"data-id",g[0]),(!u||m[0]&524294&&s!==(s=g[19]===null?void 0:g[19]?g[19]:`Edge from ${g[1]} to ${g[2]}`))&&C(n,"aria-label",s),(!u||m[0]&2097216)&&Xe(n,"animated",g[6]),(!u||m[0]&2097280)&&Xe(n,"selected",g[7]),(!u||m[0]&10485760)&&Xe(n,"selectable",g[23]),m[0]&32&&Be(e,"z-index",g[5])},i(g){u||(i&&j(i.$$.fragment,g),u=!0)},o(g){i&&te(i.$$.fragment,g),u=!1},d(g){g&&Z(e),i&&pe(i),f=!1,vt(a)}}}function q4(t){let e,n,i=!t[8]&&kd(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),J(l,e,s),n=!0},p(l,s){l[8]?i&&(yt(),te(i,1,1,()=>{i=null}),wt()):i?(i.p(l,s),s[0]&256&&j(i,1)):(i=kd(l),i.c(),j(i,1),i.m(e.parentNode,e))},i(l){n||(j(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}function x4(t,e,n){let i,l,s,u,f,a,d,h,g,{id:m}=e,{type:y="default"}=e,{source:b=""}=e,{target:p=""}=e,{data:P={}}=e,{style:w=void 0}=e,{zIndex:H=void 0}=e,{animated:S=!1}=e,{selected:O=!1}=e,{selectable:I=void 0}=e,{hidden:A=!1}=e,{label:z=void 0}=e,{labelStyle:L=void 0}=e,{markerStart:W=void 0}=e,{markerEnd:K=void 0}=e,{sourceHandle:M=void 0}=e,{targetHandle:D=void 0}=e,{sourceX:B}=e,{sourceY:T}=e,{targetX:V}=e,{targetY:Y}=e,{sourcePosition:G}=e,{targetPosition:x}=e,{ariaLabel:ee=void 0}=e,{interactionWidth:ae=void 0}=e,{class:ce=""}=e;jr("svelteflow__edge_id",m);const{edgeLookup:$,edgeTypes:be,flowId:Me,elementsSelectable:Ae}=dt();he(t,$,le=>n(40,a=le)),he(t,be,le=>n(39,g=le)),he(t,Me,le=>n(38,h=le)),he(t,Ae,le=>n(37,d=le));const R=Wl(),ge=m1();function me(le){const Ye=a.get(m);Ye&&(ge(m),R("edgeclick",{event:le,edge:Ye}))}function oe(le){const Ye=a.get(m);Ye&&R("edgecontextmenu",{event:le,edge:Ye})}return t.$$set=le=>{"id"in le&&n(0,m=le.id),"type"in le&&n(33,y=le.type),"source"in le&&n(1,b=le.source),"target"in le&&n(2,p=le.target),"data"in le&&n(3,P=le.data),"style"in le&&n(4,w=le.style),"zIndex"in le&&n(5,H=le.zIndex),"animated"in le&&n(6,S=le.animated),"selected"in le&&n(7,O=le.selected),"selectable"in le&&n(34,I=le.selectable),"hidden"in le&&n(8,A=le.hidden),"label"in le&&n(9,z=le.label),"labelStyle"in le&&n(10,L=le.labelStyle),"markerStart"in le&&n(35,W=le.markerStart),"markerEnd"in le&&n(36,K=le.markerEnd),"sourceHandle"in le&&n(11,M=le.sourceHandle),"targetHandle"in le&&n(12,D=le.targetHandle),"sourceX"in le&&n(13,B=le.sourceX),"sourceY"in le&&n(14,T=le.sourceY),"targetX"in le&&n(15,V=le.targetX),"targetY"in le&&n(16,Y=le.targetY),"sourcePosition"in le&&n(17,G=le.sourcePosition),"targetPosition"in le&&n(18,x=le.targetPosition),"ariaLabel"in le&&n(19,ee=le.ariaLabel),"interactionWidth"in le&&n(20,ae=le.interactionWidth),"class"in le&&n(21,ce=le.class)},t.$$.update=()=>{t.$$.dirty[1]&4&&n(22,i=y||"default"),t.$$.dirty[0]&4194304|t.$$.dirty[1]&256&&n(26,l=g[i]||_1),t.$$.dirty[1]&144&&n(25,s=W?`url(#${xu(W,h)})`:void 0),t.$$.dirty[1]&160&&n(24,u=K?`url(#${xu(K,h)})`:void 0),t.$$.dirty[1]&72&&n(23,f=I||d&&typeof I>"u")},[m,b,p,P,w,H,S,O,A,z,L,M,D,B,T,V,Y,G,x,ee,ae,ce,i,f,u,s,l,$,be,Me,Ae,me,oe,y,I,W,K,d,h,g]}class G4 extends Ne{constructor(e){super(),ze(this,e,x4,q4,hh,{id:0,type:33,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:34,hidden:8,label:9,labelStyle:10,markerStart:35,markerEnd:36,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}function Z4(t,e,n){let{onMount:i=void 0}=e,{onDestroy:l=void 0}=e;return fo(()=>(i==null||i(),l)),t.$$set=s=>{"onMount"in s&&n(0,i=s.onMount),"onDestroy"in s&&n(1,l=s.onDestroy)},[i,l]}class J4 extends Ne{constructor(e){super(),ze(this,e,Z4,null,Le,{onMount:0,onDestroy:1})}}function Cd(t,e,n){const i=t.slice();return i[2]=e[n],i}function Ed(t,e){let n,i,l;const s=[e[2]];let u={};for(let f=0;f<s.length;f+=1)u=Kt(u,s[f]);return i=new r6({props:u}),{key:t,first:null,c(){n=bt(),ke(i.$$.fragment),this.first=n},m(f,a){J(f,n,a),ve(i,f,a),l=!0},p(f,a){e=f;const d=a&1?si(s,[gr(e[2])]):{};i.$set(d)},i(f){l||(j(i.$$.fragment,f),l=!0)},o(f){te(i.$$.fragment,f),l=!1},d(f){f&&Z(n),pe(i,f)}}}function Q4(t){let e,n=[],i=new Map,l,s=Ct(t[0]);const u=f=>f[2].id;for(let f=0;f<s.length;f+=1){let a=Cd(t,s,f),d=u(a);i.set(d,n[f]=Ed(d,a))}return{c(){e=Fe("defs");for(let f=0;f<n.length;f+=1)n[f].c()},m(f,a){J(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&1&&(s=Ct(f[0]),yt(),n=Ei(n,a,u,1,f,s,i,e,Xi,Ed,null,Cd),wt())},i(f){if(!l){for(let a=0;a<s.length;a+=1)j(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)te(n[a]);l=!1},d(f){f&&Z(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function j4(t,e,n){let i;const{markers:l}=dt();return he(t,l,s=>n(0,i=s)),[i,l]}class $4 extends Ne{constructor(e){super(),ze(this,e,j4,Q4,Le,{})}}function e6(t){let e;return{c(){e=Fe("polyline"),C(e,"stroke",t[6]),C(e,"stroke-linecap","round"),C(e,"stroke-linejoin","round"),C(e,"stroke-width",t[7]),C(e,"fill",t[6]),C(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){J(n,e,i)},p(n,i){i&64&&C(e,"stroke",n[6]),i&128&&C(e,"stroke-width",n[7]),i&64&&C(e,"fill",n[6])},d(n){n&&Z(e)}}}function t6(t){let e;return{c(){e=Fe("polyline"),C(e,"stroke",t[6]),C(e,"stroke-linecap","round"),C(e,"stroke-linejoin","round"),C(e,"stroke-width",t[7]),C(e,"fill","none"),C(e,"points","-5,-4 0,0 -5,4")},m(n,i){J(n,e,i)},p(n,i){i&64&&C(e,"stroke",n[6]),i&128&&C(e,"stroke-width",n[7])},d(n){n&&Z(e)}}}function n6(t){let e,n,i;function l(f,a){if(f[1]===wr.Arrow)return t6;if(f[1]===wr.ArrowClosed)return e6}let s=l(t),u=s&&s(t);return{c(){e=Fe("marker"),u&&u.c(),C(e,"class","svelte-flow__arrowhead"),C(e,"id",t[0]),C(e,"markerWidth",n=`${t[2]}`),C(e,"markerHeight",i=`${t[3]}`),C(e,"viewBox","-10 -10 20 20"),C(e,"markerUnits",t[4]),C(e,"orient",t[5]),C(e,"refX","0"),C(e,"refY","0")},m(f,a){J(f,e,a),u&&u.m(e,null)},p(f,[a]){s===(s=l(f))&&u?u.p(f,a):(u&&u.d(1),u=s&&s(f),u&&(u.c(),u.m(e,null))),a&1&&C(e,"id",f[0]),a&4&&n!==(n=`${f[2]}`)&&C(e,"markerWidth",n),a&8&&i!==(i=`${f[3]}`)&&C(e,"markerHeight",i),a&16&&C(e,"markerUnits",f[4]),a&32&&C(e,"orient",f[5])},i:Te,o:Te,d(f){f&&Z(e),u&&u.d()}}}function i6(t,e,n){let{id:i}=e,{type:l}=e,{width:s=12.5}=e,{height:u=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(0,i=g.id),"type"in g&&n(1,l=g.type),"width"in g&&n(2,s=g.width),"height"in g&&n(3,u=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(6,d=g.color),"strokeWidth"in g&&n(7,h=g.strokeWidth)},[i,l,s,u,f,a,d,h]}class r6 extends Ne{constructor(e){super(),ze(this,e,i6,n6,Le,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Ad(t,e,n){const i=t.slice();return i[10]=e[n],i}function Md(t,e){let n,i,l;return i=new G4({props:{id:e[10].id,source:e[10].source,target:e[10].target,data:e[10].data,style:e[10].style,animated:e[10].animated,selected:e[10].selected,selectable:e[10].selectable,hidden:e[10].hidden,label:e[10].label,labelStyle:e[10].labelStyle,markerStart:e[10].markerStart,markerEnd:e[10].markerEnd,sourceHandle:e[10].sourceHandle,targetHandle:e[10].targetHandle,sourceX:e[10].sourceX,sourceY:e[10].sourceY,targetX:e[10].targetX,targetY:e[10].targetY,sourcePosition:e[10].sourcePosition,targetPosition:e[10].targetPosition,ariaLabel:e[10].ariaLabel,interactionWidth:e[10].interactionWidth,class:e[10].class,type:e[10].type||"default",zIndex:e[10].zIndex}}),i.$on("edgeclick",e[5]),i.$on("edgecontextmenu",e[6]),{key:t,first:null,c(){n=bt(),ke(i.$$.fragment),this.first=n},m(s,u){J(s,n,u),ve(i,s,u),l=!0},p(s,u){e=s;const f={};u&1&&(f.id=e[10].id),u&1&&(f.source=e[10].source),u&1&&(f.target=e[10].target),u&1&&(f.data=e[10].data),u&1&&(f.style=e[10].style),u&1&&(f.animated=e[10].animated),u&1&&(f.selected=e[10].selected),u&1&&(f.selectable=e[10].selectable),u&1&&(f.hidden=e[10].hidden),u&1&&(f.label=e[10].label),u&1&&(f.labelStyle=e[10].labelStyle),u&1&&(f.markerStart=e[10].markerStart),u&1&&(f.markerEnd=e[10].markerEnd),u&1&&(f.sourceHandle=e[10].sourceHandle),u&1&&(f.targetHandle=e[10].targetHandle),u&1&&(f.sourceX=e[10].sourceX),u&1&&(f.sourceY=e[10].sourceY),u&1&&(f.targetX=e[10].targetX),u&1&&(f.targetY=e[10].targetY),u&1&&(f.sourcePosition=e[10].sourcePosition),u&1&&(f.targetPosition=e[10].targetPosition),u&1&&(f.ariaLabel=e[10].ariaLabel),u&1&&(f.interactionWidth=e[10].interactionWidth),u&1&&(f.class=e[10].class),u&1&&(f.type=e[10].type||"default"),u&1&&(f.zIndex=e[10].zIndex),i.$set(f)},i(s){l||(j(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function Pd(t){let e,n;return e=new J4({props:{onMount:t[7],onDestroy:t[8]}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&2&&(s.onMount=i[7]),l&2&&(s.onDestroy=i[8]),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function o6(t){let e,n,i,l,s=[],u=new Map,f,a;i=new $4({});let d=Ct(t[0]);const h=m=>m[10].id;for(let m=0;m<d.length;m+=1){let y=Ad(t,d,m),b=h(y);u.set(b,s[m]=Md(b,y))}let g=t[0].length>0&&Pd(t);return{c(){e=_e("div"),n=Fe("svg"),ke(i.$$.fragment),l=Se();for(let m=0;m<s.length;m+=1)s[m].c();f=Se(),g&&g.c(),C(n,"class","svelte-flow__marker"),C(e,"class","svelte-flow__edges")},m(m,y){J(m,e,y),se(e,n),ve(i,n,null),se(e,l);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(e,null);se(e,f),g&&g.m(e,null),a=!0},p(m,[y]){y&1&&(d=Ct(m[0]),yt(),s=Ei(s,y,h,1,m,d,u,e,Xi,Md,f,Ad),wt()),m[0].length>0?g?(g.p(m,y),y&1&&j(g,1)):(g=Pd(m),g.c(),j(g,1),g.m(e,null)):g&&(yt(),te(g,1,1,()=>{g=null}),wt())},i(m){if(!a){j(i.$$.fragment,m);for(let y=0;y<d.length;y+=1)j(s[y]);j(g),a=!0}},o(m){te(i.$$.fragment,m);for(let y=0;y<s.length;y+=1)te(s[y]);te(g),a=!1},d(m){m&&Z(e),pe(i);for(let y=0;y<s.length;y+=1)s[y].d();g&&g.d()}}}function l6(t,e,n){let i,l,{defaultEdgeOptions:s}=e;const{visibleEdges:u,edgesInitialized:f,edges:{setDefaultOptions:a}}=dt();he(t,u,y=>n(0,i=y)),he(t,f,y=>n(1,l=y)),fo(()=>{s&&a(s)});function d(y){lt.call(this,t,y)}function h(y){lt.call(this,t,y)}const g=()=>{Cn(f,l=!0,l)},m=()=>{Cn(f,l=!1,l)};return t.$$set=y=>{"defaultEdgeOptions"in y&&n(4,s=y.defaultEdgeOptions)},[i,l,u,f,s,d,h,g,m]}class s6 extends Ne{constructor(e){super(),ze(this,e,l6,o6,Le,{defaultEdgeOptions:4})}}function Td(t){let e;return{c(){e=_e("div"),C(e,"class","svelte-flow__selection svelte-1iugwpu"),Be(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),Be(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),Be(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){J(n,e,i)},p(n,i){i&4&&Be(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&Be(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&Be(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&Z(e)}}}function u6(t){let e,n=t[4]&&Td(t);return{c(){n&&n.c(),e=bt()},m(i,l){n&&n.m(i,l),J(i,e,l)},p(i,[l]){i[4]?n?n.p(i,l):(n=Td(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Te,o:Te,d(i){i&&Z(e),n&&n.d(i)}}}function f6(t,e,n){let{x:i=0}=e,{y:l=0}=e,{width:s=0}=e,{height:u=0}=e,{isVisible:f=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,l=a.y),"width"in a&&n(2,s=a.width),"height"in a&&n(3,u=a.height),"isVisible"in a&&n(4,f=a.isVisible)},[i,l,s,u,f]}class S1 extends Ne{constructor(e){super(),ze(this,e,f6,u6,Le,{x:0,y:1,width:2,height:3,isVisible:4})}}function a6(t){var i,l,s,u;let e,n;return e=new S1({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(l=t[0])==null?void 0:l.height,x:(s=t[0])==null?void 0:s.x,y:(u=t[0])==null?void 0:u.y}}),{c(){ke(e.$$.fragment)},m(f,a){ve(e,f,a),n=!0},p(f,[a]){var h,g,m,y;const d={};a&3&&(d.isVisible=!!(f[0]&&f[1]==="user")),a&1&&(d.width=(h=f[0])==null?void 0:h.width),a&1&&(d.height=(g=f[0])==null?void 0:g.height),a&1&&(d.x=(m=f[0])==null?void 0:m.x),a&1&&(d.y=(y=f[0])==null?void 0:y.y),e.$set(d)},i(f){n||(j(e.$$.fragment,f),n=!0)},o(f){te(e.$$.fragment,f),n=!1},d(f){pe(e,f)}}}function c6(t,e,n){let i,l;const{selectionRect:s,selectionRectMode:u}=dt();return he(t,s,f=>n(0,i=f)),he(t,u,f=>n(1,l=f)),[i,l,s,u]}class d6 extends Ne{constructor(e){super(),ze(this,e,c6,a6,Le,{})}}function Od(t){let e,n,i,l,s;return n=new S1({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=_e("div"),ke(n.$$.fragment),C(e,"class","selection-wrapper nopan svelte-5pxri"),Be(e,"width",t[1].width+"px"),Be(e,"height",t[1].height+"px"),Be(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),C(e,"role","button"),C(e,"tabindex","-1")},m(u,f){J(u,e,f),ve(n,e,null),i=!0,l||(s=[Gt(p1.call(null,e,{disabled:!1,store:t[3],onDrag:t[10],onDragStart:t[11],onDragStop:t[12]})),He(e,"contextmenu",t[7]),He(e,"click",t[8]),He(e,"keyup",g6)],l=!0)},p(u,f){(!i||f&2)&&Be(e,"width",u[1].width+"px"),(!i||f&2)&&Be(e,"height",u[1].height+"px"),(!i||f&2)&&Be(e,"transform","translate("+u[1].x+"px, "+u[1].y+"px)")},i(u){i||(j(n.$$.fragment,u),i=!0)},o(u){te(n.$$.fragment,u),i=!1},d(u){u&&Z(e),pe(n),l=!1,vt(s)}}}function h6(t){let e,n,i=t[0]&&t[2]==="nodes"&&Od(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),J(l,e,s),n=!0},p(l,[s]){l[0]&&l[2]==="nodes"?i?(i.p(l,s),s&5&&j(i,1)):(i=Od(l),i.c(),j(i,1),i.m(e.parentNode,e)):i&&(yt(),te(i,1,1,()=>{i=null}),wt())},i(l){n||(j(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}const g6=()=>{};function m6(t,e,n){let i,l,s,u;const f=dt(),{selectionRectMode:a,nodes:d}=f;he(t,a,w=>n(2,u=w)),he(t,d,w=>n(9,s=w));const h=Wl(),g=C1();function m(w){h("selectioncontextmenu",{nodes:i,event:w})}function y(w){h("selectionclick",{nodes:i,event:w})}const b=(w,H,S,O)=>{g("nodedrag",{event:w,targetNode:null,nodes:O})},p=(w,H,S,O)=>{g("nodedragstart",{event:w,targetNode:null,nodes:O})},P=(w,H,S,O)=>{g("nodedragstop",{event:w,targetNode:null,nodes:O})};return t.$$.update=()=>{t.$$.dirty&512&&n(0,i=s.filter(w=>w.selected)),t.$$.dirty&1&&n(1,l=go(i))},[i,l,u,f,a,d,g,m,y,s,b,p,P]}class _6 extends Ne{constructor(e){super(),ze(this,e,m6,h6,Le,{})}}function Fn(t,e){let{enabled:n=!0,trigger:i,type:l="keydown"}=e;function s(u){const f=Array.isArray(i)?i:[i],a={alt:u.altKey,ctrl:u.ctrlKey,shift:u.shiftKey,meta:u.metaKey};for(const d of f){const h={modifier:[],preventDefault:!1,enabled:!0,...d},{modifier:g,key:m,callback:y,preventDefault:b,enabled:p}=h;if(p){if(g.length&&!(Array.isArray(g)?g:[g]).map(H=>typeof H=="string"?[H]:H).some(H=>H.every(S=>a[S])))continue;if(u.key===m){b&&u.preventDefault();const P={node:t,trigger:h,originalEvent:u};t.dispatchEvent(new CustomEvent("shortcut",{detail:P})),y==null||y(P)}}}}return n&&t.addEventListener(l,s),{update:u=>{const{enabled:f=!0,type:a="keydown"}=u;n&&(!f||l!==a)?t.removeEventListener(l,s):!n&&f&&t.addEventListener(a,s),n=f,l=a,i=u.trigger},destroy:()=>{t.removeEventListener(l,s)}}}function y6(t){let e,n,i,l,s,u,f,a,d,h,g,m;return{c:Te,m(y,b){g||(m=[Gt(e=Fn.call(null,window,{trigger:At(t[0],t[11]),type:"keydown"})),Gt(n=Fn.call(null,window,{trigger:At(t[0],t[12]),type:"keyup"})),Gt(i=Fn.call(null,window,{trigger:At(t[1],t[13]),type:"keydown"})),Gt(l=Fn.call(null,window,{trigger:At(t[1],t[14]),type:"keyup"})),Gt(s=Fn.call(null,window,{trigger:At(t[2],t[15]),type:"keydown"})),Gt(u=Fn.call(null,window,{trigger:At(t[2],t[16]),type:"keyup"})),Gt(f=Fn.call(null,window,{trigger:At(t[3],t[17]),type:"keydown"})),Gt(a=Fn.call(null,window,{trigger:At(t[3],t[18]),type:"keyup"})),Gt(d=Fn.call(null,window,{trigger:At(t[4],t[19]),type:"keydown"})),Gt(h=Fn.call(null,window,{trigger:At(t[4],t[20]),type:"keyup"})),He(window,"blur",t[10]),He(window,"contextmenu",t[10])],g=!0)},p(y,[b]){e&&gt(e.update)&&b&1&&e.update.call(null,{trigger:At(y[0],y[11]),type:"keydown"}),n&&gt(n.update)&&b&1&&n.update.call(null,{trigger:At(y[0],y[12]),type:"keyup"}),i&&gt(i.update)&&b&2&&i.update.call(null,{trigger:At(y[1],y[13]),type:"keydown"}),l&&gt(l.update)&&b&2&&l.update.call(null,{trigger:At(y[1],y[14]),type:"keyup"}),s&&gt(s.update)&&b&4&&s.update.call(null,{trigger:At(y[2],y[15]),type:"keydown"}),u&&gt(u.update)&&b&4&&u.update.call(null,{trigger:At(y[2],y[16]),type:"keyup"}),f&&gt(f.update)&&b&8&&f.update.call(null,{trigger:At(y[3],y[17]),type:"keydown"}),a&&gt(a.update)&&b&8&&a.update.call(null,{trigger:At(y[3],y[18]),type:"keyup"}),d&&gt(d.update)&&b&16&&d.update.call(null,{trigger:At(y[4],y[19]),type:"keydown"}),h&&gt(h.update)&&b&16&&h.update.call(null,{trigger:At(y[4],y[20]),type:"keyup"})},i:Te,o:Te,d(y){g=!1,vt(m)}}}function k1(t){return t!==null&&typeof t=="object"}function w6(t){return k1(t)?t.modifier||[]:[]}function b6(t){return t==null?"":k1(t)?t.key:t}function At(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const l=b6(i);return{key:l,modifier:w6(i),enabled:l!==null,callback:e}})}function v6(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:l=Ll()?"Meta":"Control"}=e,{deleteKey:s="Backspace"}=e,{panActivationKey:u=" "}=e,{zoomActivationKey:f=Ll()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:d,deleteKeyPressed:h,panActivationKeyPressed:g,zoomActivationKeyPressed:m,selectionRect:y}=dt();function b(){y.set(null),a.set(!1),d.set(!1),h.set(!1),g.set(!1),m.set(!1)}const p=()=>a.set(!0),P=()=>a.set(!1),w=()=>d.set(!0),H=()=>d.set(!1),S=W=>{!(W.originalEvent.ctrlKey||W.originalEvent.metaKey||W.originalEvent.shiftKey)&&!Jp(W.originalEvent)&&h.set(!0)},O=()=>h.set(!1),I=()=>g.set(!0),A=()=>g.set(!1),z=()=>m.set(!0),L=()=>m.set(!1);return t.$$set=W=>{"selectionKey"in W&&n(0,i=W.selectionKey),"multiSelectionKey"in W&&n(1,l=W.multiSelectionKey),"deleteKey"in W&&n(2,s=W.deleteKey),"panActivationKey"in W&&n(3,u=W.panActivationKey),"zoomActivationKey"in W&&n(4,f=W.zoomActivationKey)},[i,l,s,u,f,a,d,h,g,m,b,p,P,w,H,S,O,I,A,z,L]}class p6 extends Ne{constructor(e){super(),ze(this,e,v6,y6,Le,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const S6=t=>({}),Id=t=>({});function Hd(t){let e,n,i,l;const s=t[10].connectionLine,u=Xt(s,t,t[9],Id);let f=!t[2]&&zd(t);return{c(){e=Fe("svg"),n=Fe("g"),u&&u.c(),f&&f.c(),C(n,"class",i=it(["svelte-flow__connection",t[3].status])),C(e,"width",t[4]),C(e,"height",t[5]),C(e,"class","svelte-flow__connectionline"),C(e,"style",t[0])},m(a,d){J(a,e,d),se(e,n),u&&u.m(n,null),f&&f.m(n,null),l=!0},p(a,d){u&&u.p&&(!l||d&512)&&Ft(u,s,a,a[9],l?Yt(s,a[9],d,S6):Vt(a[9]),Id),a[2]?f&&(f.d(1),f=null):f?f.p(a,d):(f=zd(a),f.c(),f.m(n,null)),(!l||d&8&&i!==(i=it(["svelte-flow__connection",a[3].status])))&&C(n,"class",i),(!l||d&16)&&C(e,"width",a[4]),(!l||d&32)&&C(e,"height",a[5]),(!l||d&1)&&C(e,"style",a[0])},i(a){l||(j(u,a),l=!0)},o(a){te(u,a),l=!1},d(a){a&&Z(e),u&&u.d(a),f&&f.d()}}}function zd(t){let e,n;return{c(){e=Fe("path"),C(e,"d",n=t[3].path),C(e,"style",t[1]),C(e,"fill","none"),C(e,"class","svelte-flow__connection-path")},m(i,l){J(i,e,l)},p(i,l){l&8&&n!==(n=i[3].path)&&C(e,"d",n),l&2&&C(e,"style",i[1])},d(i){i&&Z(e)}}}function k6(t){let e,n,i=t[3].path&&Hd(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),J(l,e,s),n=!0},p(l,[s]){l[3].path?i?(i.p(l,s),s&8&&j(i,1)):(i=Hd(l),i.c(),j(i,1),i.m(e.parentNode,e)):i&&(yt(),te(i,1,1,()=>{i=null}),wt())},i(l){n||(j(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}function C6(t,e,n){let i,l,s,{$$slots:u={},$$scope:f}=e,{containerStyle:a=""}=e,{style:d=""}=e,{isCustomComponent:h=!1}=e;const{width:g,height:m,connection:y}=dt();return he(t,g,b=>n(4,l=b)),he(t,m,b=>n(5,s=b)),he(t,y,b=>n(3,i=b)),t.$$set=b=>{"containerStyle"in b&&n(0,a=b.containerStyle),"style"in b&&n(1,d=b.style),"isCustomComponent"in b&&n(2,h=b.isCustomComponent),"$$scope"in b&&n(9,f=b.$$scope)},[a,d,h,i,l,s,g,m,y,f,u]}class E6 extends Ne{constructor(e){super(),ze(this,e,C6,k6,Le,{containerStyle:0,style:1,isCustomComponent:2})}}function A6(t){let e,n,i;const l=t[6].default,s=Xt(l,t,t[5],null);let u=[{class:n=it(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[3]],f={};for(let a=0;a<u.length;a+=1)f=Kt(f,u[a]);return{c(){e=_e("div"),s&&s.c(),hr(e,f)},m(a,d){J(a,e,d),s&&s.m(e,null),i=!0},p(a,[d]){s&&s.p&&(!i||d&32)&&Ft(s,l,a,a[5],i?Yt(l,a[5],d,null):Vt(a[5]),null),hr(e,f=si(u,[(!i||d&6&&n!==(n=it(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||d&1)&&{style:a[0]},d&8&&a[3]]))},i(a){i||(j(s,a),i=!0)},o(a){te(s,a),i=!1},d(a){a&&Z(e),s&&s.d(a)}}}function M6(t,e,n){let i;const l=["position","style","class"];let s=cr(e,l),{$$slots:u={},$$scope:f}=e,{position:a="top-right"}=e,{style:d=void 0}=e,{class:h=void 0}=e;return t.$$set=g=>{e=Kt(Kt({},e),Zu(g)),n(3,s=cr(e,l)),"position"in g&&n(4,a=g.position),"style"in g&&n(0,d=g.style),"class"in g&&n(1,h=g.class),"$$scope"in g&&n(5,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(2,i=`${a}`.split("-"))},[d,h,i,s,a,f,u]}class Bi extends Ne{constructor(e){super(),ze(this,e,M6,A6,Le,{position:4,style:0,class:1})}}function Nd(t){let e,n;return e=new Bi({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[P6]},$$scope:{ctx:t}}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&2&&(s.position=i[1]),l&4&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function P6(t){let e;return{c(){e=_e("a"),e.textContent="Svelte Flow",C(e,"href","https://svelteflow.dev"),C(e,"target","_blank"),C(e,"rel","noopener noreferrer"),C(e,"aria-label","Svelte Flow attribution")},m(n,i){J(n,e,i)},p:Te,d(n){n&&Z(e)}}}function T6(t){var l;let e,n,i=!((l=t[0])!=null&&l.hideAttribution)&&Nd(t);return{c(){i&&i.c(),e=bt()},m(s,u){i&&i.m(s,u),J(s,e,u),n=!0},p(s,[u]){var f;(f=s[0])!=null&&f.hideAttribution?i&&(yt(),te(i,1,1,()=>{i=null}),wt()):i?(i.p(s,u),u&1&&j(i,1)):(i=Nd(s),i.c(),j(i,1),i.m(e.parentNode,e))},i(s){n||(j(i),n=!0)},o(s){te(i),n=!1},d(s){s&&Z(e),i&&i.d(s)}}}function O6(t,e,n){let{proOptions:i=void 0}=e,{position:l="bottom-right"}=e;return t.$$set=s=>{"proOptions"in s&&n(0,i=s.proOptions),"position"in s&&n(1,l=s.position)},[i,l]}class I6 extends Ne{constructor(e){super(),ze(this,e,O6,T6,Le,{proOptions:0,position:1})}}function Ld(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:l,translateExtent:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),l!==void 0&&t.setMaxZoom(l),s!==void 0&&t.setTranslateExtent(s)}const H6=t=>Object.keys(t);function z6(t,e){H6(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function N6(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function L6(t="light"){return On("light",n=>{if(t!=="system"){n(t);return}const i=N6(),l=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",l),()=>{i==null||i.removeEventListener("change",l)}})}const R6=t=>({}),Rd=t=>({slot:"connectionLine"});function D6(t){let e;const n=t[70].connectionLine,i=Xt(n,t,t[92],Rd);return{c(){i&&i.c()},m(l,s){i&&i.m(l,s),e=!0},p(l,s){i&&i.p&&(!e||s[2]&1073741824)&&Ft(i,n,l,l[92],e?Yt(n,l[92],s,R6):Vt(l[92]),Rd)},i(l){e||(j(i,l),e=!0)},o(l){te(i,l),e=!1},d(l){i&&i.d(l)}}}function W6(t){let e,n,i,l,s,u,f,a,d,h,g,m;return e=new s6({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[73]),e.$on("edgecontextmenu",t[74]),i=new E6({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[31].connectionLine,$$slots:{connectionLine:[D6]},$$scope:{ctx:t}}}),d=new U4({}),d.$on("nodeclick",t[75]),d.$on("nodemouseenter",t[76]),d.$on("nodemousemove",t[77]),d.$on("nodemouseleave",t[78]),d.$on("nodedragstart",t[79]),d.$on("nodedrag",t[80]),d.$on("nodedragstop",t[81]),d.$on("nodecontextmenu",t[82]),g=new _6({}),g.$on("selectionclick",t[83]),g.$on("selectioncontextmenu",t[84]),g.$on("nodedragstart",t[85]),g.$on("nodedrag",t[86]),g.$on("nodedragstop",t[87]),{c(){ke(e.$$.fragment),n=Se(),ke(i.$$.fragment),l=Se(),s=_e("div"),u=Se(),f=_e("div"),a=Se(),ke(d.$$.fragment),h=Se(),ke(g.$$.fragment),C(s,"class","svelte-flow__edgelabel-renderer"),C(f,"class","svelte-flow__viewport-portal")},m(y,b){ve(e,y,b),J(y,n,b),ve(i,y,b),J(y,l,b),J(y,s,b),J(y,u,b),J(y,f,b),J(y,a,b),ve(d,y,b),J(y,h,b),ve(g,y,b),m=!0},p(y,b){const p={};b[0]&2097152&&(p.defaultEdgeOptions=y[21]),e.$set(p);const P={};b[0]&128&&(P.containerStyle=y[7]),b[0]&64&&(P.style=y[6]),b[1]&1&&(P.isCustomComponent=y[31].connectionLine),b[2]&1073741824&&(P.$$scope={dirty:b,ctx:y}),i.$set(P)},i(y){m||(j(e.$$.fragment,y),j(i.$$.fragment,y),j(d.$$.fragment,y),j(g.$$.fragment,y),m=!0)},o(y){te(e.$$.fragment,y),te(i.$$.fragment,y),te(d.$$.fragment,y),te(g.$$.fragment,y),m=!1},d(y){y&&(Z(n),Z(l),Z(s),Z(u),Z(f),Z(a),Z(h)),pe(e,y),pe(i,y),pe(d,y),pe(g,y)}}}function B6(t){let e,n,i,l;return e=new D4({props:{$$slots:{default:[W6]},$$scope:{ctx:t}}}),i=new d6({}),{c(){ke(e.$$.fragment),n=Se(),ke(i.$$.fragment)},m(s,u){ve(e,s,u),J(s,n,u),ve(i,s,u),l=!0},p(s,u){const f={};u[0]&2097344|u[1]&1|u[2]&1073741824&&(f.$$scope={dirty:u,ctx:s}),e.$set(f)},i(s){l||(j(e.$$.fragment,s),j(i.$$.fragment,s),l=!0)},o(s){te(e.$$.fragment,s),te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(e,s),pe(i,s)}}}function X6(t){let e,n;return e=new N4({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[B6]},$$scope:{ctx:t}}}),e.$on("paneclick",t[88]),e.$on("panecontextmenu",t[89]),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l[0]&131072&&(s.panOnDrag=i[17]===void 0?!0:i[17]),l[0]&262144&&(s.selectionOnDrag=i[18]),l[0]&2097344|l[1]&1|l[2]&1073741824&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function Y6(t){let e,n,i,l,s,u,f,a,d,h,g,m;n=new p6({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),l=new I4({props:{initialViewport:t[0],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Kn.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],$$slots:{default:[X6]},$$scope:{ctx:t}}}),u=new I6({props:{proOptions:t[20],position:t[19]}});const y=t[70].default,b=Xt(y,t,t[92],null);let p=[{style:t[22]},{class:a=it(["svelte-flow",t[23],t[28]])},{"data-testid":"svelte-flow__wrapper"},t[30],{role:"application"}],P={};for(let w=0;w<p.length;w+=1)P=Kt(P,p[w]);return{c(){e=_e("div"),ke(n.$$.fragment),i=Se(),ke(l.$$.fragment),s=Se(),ke(u.$$.fragment),f=Se(),b&&b.c(),hr(e,P),El(()=>t[91].call(e)),Xe(e,"svelte-12wlba6",!0)},m(w,H){J(w,e,H),ve(n,e,null),se(e,i),ve(l,e,null),se(e,s),ve(u,e,null),se(e,f),b&&b.m(e,null),t[90](e),d=Qw(e,t[91].bind(e)),h=!0,g||(m=[He(e,"dragover",t[71]),He(e,"drop",t[72])],g=!0)},p(w,H){const S={};H[0]&2&&(S.selectionKey=w[1]),H[0]&32&&(S.deleteKey=w[5]),H[0]&4&&(S.panActivationKey=w[2]),H[0]&8&&(S.multiSelectionKey=w[3]),H[0]&16&&(S.zoomActivationKey=w[4]),n.$set(S);const O={};H[0]&1&&(O.initialViewport=w[0]),H[0]&256&&(O.onMoveStart=w[8]),H[0]&512&&(O.onMove=w[9]),H[0]&1024&&(O.onMoveEnd=w[10]),H[0]&2048&&(O.panOnScrollMode=w[11]===void 0?Kn.Free:w[11]),H[0]&4096&&(O.preventScrolling=w[12]===void 0?!0:w[12]),H[0]&8192&&(O.zoomOnScroll=w[13]===void 0?!0:w[13]),H[0]&16384&&(O.zoomOnDoubleClick=w[14]===void 0?!0:w[14]),H[0]&32768&&(O.zoomOnPinch=w[15]===void 0?!0:w[15]),H[0]&65536&&(O.panOnScroll=w[16]===void 0?!1:w[16]),H[0]&131072&&(O.panOnDrag=w[17]===void 0?!0:w[17]),H[0]&2490560|H[1]&1|H[2]&1073741824&&(O.$$scope={dirty:H,ctx:w}),l.$set(O);const I={};H[0]&1048576&&(I.proOptions=w[20]),H[0]&524288&&(I.position=w[19]),u.$set(I),b&&b.p&&(!h||H[2]&1073741824)&&Ft(b,y,w,w[92],h?Yt(y,w[92],H,null):Vt(w[92]),null),hr(e,P=si(p,[(!h||H[0]&4194304)&&{style:w[22]},(!h||H[0]&276824064&&a!==(a=it(["svelte-flow",w[23],w[28]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},H[0]&1073741824&&w[30],{role:"application"}])),Xe(e,"svelte-12wlba6",!0)},i(w){h||(j(n.$$.fragment,w),j(l.$$.fragment,w),j(u.$$.fragment,w),j(b,w),h=!0)},o(w){te(n.$$.fragment,w),te(l.$$.fragment,w),te(u.$$.fragment,w),te(b,w),h=!1},d(w){w&&Z(e),pe(n),pe(l),pe(u),b&&b.d(w),t[90](null),d(),g=!1,vt(m)}}}function F6(t,e,n){let i;const l=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let s=cr(e,l),u,f,a=Te,d=()=>(a(),a=Dl(i,q=>n(28,f=q)),i);t.$$.on_destroy.push(()=>a());let{$$slots:h={},$$scope:g}=e;const m=qw(h);let{id:y="1"}=e,{nodes:b}=e,{edges:p}=e,{fitView:P=void 0}=e,{fitViewOptions:w=void 0}=e,{minZoom:H=void 0}=e,{maxZoom:S=void 0}=e,{initialViewport:O={x:0,y:0,zoom:1}}=e,{viewport:I=void 0}=e,{nodeTypes:A=void 0}=e,{edgeTypes:z=void 0}=e,{selectionKey:L=void 0}=e,{selectionMode:W=void 0}=e,{panActivationKey:K=void 0}=e,{multiSelectionKey:M=void 0}=e,{zoomActivationKey:D=void 0}=e,{nodesDraggable:B=void 0}=e,{nodesConnectable:T=void 0}=e,{nodeDragThreshold:V=void 0}=e,{elementsSelectable:Y=void 0}=e,{snapGrid:G=void 0}=e,{deleteKey:x=void 0}=e,{connectionRadius:ee=void 0}=e,{connectionLineType:ae=void 0}=e,{connectionMode:ce=Ai.Strict}=e,{connectionLineStyle:$=""}=e,{connectionLineContainerStyle:be=""}=e,{onMoveStart:Me=void 0}=e,{onMove:Ae=void 0}=e,{onMoveEnd:R=void 0}=e,{isValidConnection:ge=void 0}=e,{translateExtent:me=void 0}=e,{onlyRenderVisibleElements:oe=void 0}=e,{panOnScrollMode:le=Kn.Free}=e,{preventScrolling:Ye=!0}=e,{zoomOnScroll:Ue=!0}=e,{zoomOnDoubleClick:et=!0}=e,{zoomOnPinch:rt=!0}=e,{panOnScroll:Pe=!1}=e,{panOnDrag:Je=!0}=e,{selectionOnDrag:ut=void 0}=e,{autoPanOnConnect:rn=!0}=e,{autoPanOnNodeDrag:hn=!0}=e,{onerror:Ce=void 0}=e,{ondelete:Et=void 0}=e,{onedgecreate:Jt=void 0}=e,{attributionPosition:gn=void 0}=e,{proOptions:de=void 0}=e,{defaultEdgeOptions:Tt=void 0}=e,{width:Ht=void 0}=e,{height:ye=void 0}=e,{colorMode:Dt="light"}=e,{onconnect:Ot=void 0}=e,{onconnectstart:zt=void 0}=e,{onconnectend:Rn=void 0}=e,{onbeforedelete:Dn=void 0}=e,{oninit:mn=void 0}=e,{defaultMarkerColor:Wn="#b1b1b7"}=e,{style:qn=void 0}=e,{class:xn=void 0}=e,fi,ai,ci;const Nt=eb(ql)?dt():M4({nodes:ue(b),edges:ue(p),width:Ht,height:ye,fitView:P});fo(()=>(Nt.width.set(ai),Nt.height.set(ci),Nt.domNode.set(fi),Nt.syncNodeStores(b),Nt.syncEdgeStores(p),Nt.syncViewport(I),P!==void 0&&Nt.fitViewOnInit.set(P),w&&Nt.fitViewOptions.set(w),Ld(Nt,{nodeTypes:A,edgeTypes:z,minZoom:H,maxZoom:S,translateExtent:me}),()=>{Nt.reset()}));const{initialized:Cr}=Nt;he(t,Cr,q=>n(69,u=q));let Fi=!1;function Gl(q){lt.call(this,t,q)}function Zl(q){lt.call(this,t,q)}function Jl(q){lt.call(this,t,q)}function Ql(q){lt.call(this,t,q)}function yo(q){lt.call(this,t,q)}function jl(q){lt.call(this,t,q)}function $l(q){lt.call(this,t,q)}function es(q){lt.call(this,t,q)}function Er(q){lt.call(this,t,q)}function ts(q){lt.call(this,t,q)}function Ar(q){lt.call(this,t,q)}function ns(q){lt.call(this,t,q)}function is(q){lt.call(this,t,q)}function rs(q){lt.call(this,t,q)}function os(q){lt.call(this,t,q)}function ls(q){lt.call(this,t,q)}function ss(q){lt.call(this,t,q)}function us(q){lt.call(this,t,q)}function fs(q){lt.call(this,t,q)}function wo(q){En[q?"unshift":"push"](()=>{fi=q,n(26,fi)})}function as(){ai=this.clientWidth,ci=this.clientHeight,n(24,ai),n(25,ci)}return t.$$set=q=>{e=Kt(Kt({},e),Zu(q)),n(30,s=cr(e,l)),"id"in q&&n(32,y=q.id),"nodes"in q&&n(33,b=q.nodes),"edges"in q&&n(34,p=q.edges),"fitView"in q&&n(35,P=q.fitView),"fitViewOptions"in q&&n(36,w=q.fitViewOptions),"minZoom"in q&&n(37,H=q.minZoom),"maxZoom"in q&&n(38,S=q.maxZoom),"initialViewport"in q&&n(0,O=q.initialViewport),"viewport"in q&&n(39,I=q.viewport),"nodeTypes"in q&&n(40,A=q.nodeTypes),"edgeTypes"in q&&n(41,z=q.edgeTypes),"selectionKey"in q&&n(1,L=q.selectionKey),"selectionMode"in q&&n(42,W=q.selectionMode),"panActivationKey"in q&&n(2,K=q.panActivationKey),"multiSelectionKey"in q&&n(3,M=q.multiSelectionKey),"zoomActivationKey"in q&&n(4,D=q.zoomActivationKey),"nodesDraggable"in q&&n(43,B=q.nodesDraggable),"nodesConnectable"in q&&n(44,T=q.nodesConnectable),"nodeDragThreshold"in q&&n(45,V=q.nodeDragThreshold),"elementsSelectable"in q&&n(46,Y=q.elementsSelectable),"snapGrid"in q&&n(47,G=q.snapGrid),"deleteKey"in q&&n(5,x=q.deleteKey),"connectionRadius"in q&&n(48,ee=q.connectionRadius),"connectionLineType"in q&&n(49,ae=q.connectionLineType),"connectionMode"in q&&n(50,ce=q.connectionMode),"connectionLineStyle"in q&&n(6,$=q.connectionLineStyle),"connectionLineContainerStyle"in q&&n(7,be=q.connectionLineContainerStyle),"onMoveStart"in q&&n(8,Me=q.onMoveStart),"onMove"in q&&n(9,Ae=q.onMove),"onMoveEnd"in q&&n(10,R=q.onMoveEnd),"isValidConnection"in q&&n(51,ge=q.isValidConnection),"translateExtent"in q&&n(52,me=q.translateExtent),"onlyRenderVisibleElements"in q&&n(53,oe=q.onlyRenderVisibleElements),"panOnScrollMode"in q&&n(11,le=q.panOnScrollMode),"preventScrolling"in q&&n(12,Ye=q.preventScrolling),"zoomOnScroll"in q&&n(13,Ue=q.zoomOnScroll),"zoomOnDoubleClick"in q&&n(14,et=q.zoomOnDoubleClick),"zoomOnPinch"in q&&n(15,rt=q.zoomOnPinch),"panOnScroll"in q&&n(16,Pe=q.panOnScroll),"panOnDrag"in q&&n(17,Je=q.panOnDrag),"selectionOnDrag"in q&&n(18,ut=q.selectionOnDrag),"autoPanOnConnect"in q&&n(54,rn=q.autoPanOnConnect),"autoPanOnNodeDrag"in q&&n(55,hn=q.autoPanOnNodeDrag),"onerror"in q&&n(56,Ce=q.onerror),"ondelete"in q&&n(57,Et=q.ondelete),"onedgecreate"in q&&n(58,Jt=q.onedgecreate),"attributionPosition"in q&&n(19,gn=q.attributionPosition),"proOptions"in q&&n(20,de=q.proOptions),"defaultEdgeOptions"in q&&n(21,Tt=q.defaultEdgeOptions),"width"in q&&n(59,Ht=q.width),"height"in q&&n(60,ye=q.height),"colorMode"in q&&n(61,Dt=q.colorMode),"onconnect"in q&&n(62,Ot=q.onconnect),"onconnectstart"in q&&n(63,zt=q.onconnectstart),"onconnectend"in q&&n(64,Rn=q.onconnectend),"onbeforedelete"in q&&n(65,Dn=q.onbeforedelete),"oninit"in q&&n(66,mn=q.oninit),"defaultMarkerColor"in q&&n(67,Wn=q.defaultMarkerColor),"style"in q&&n(22,qn=q.style),"class"in q&&n(23,xn=q.class),"$$scope"in q&&n(92,g=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&50331648&&ai!==void 0&&ci!==void 0&&(Nt.width.set(ai),Nt.height.set(ci)),t.$$.dirty[2]&208&&!Fi&&u&&(mn==null||mn(),n(68,Fi=!0)),t.$$.dirty[1]&266336258|t.$$.dirty[2]&47&&z6(Nt,{flowId:y,connectionLineType:ae,connectionRadius:ee,selectionMode:W,snapGrid:G,defaultMarkerColor:Wn,nodesDraggable:B,nodesConnectable:T,elementsSelectable:Y,onlyRenderVisibleElements:oe,isValidConnection:ge,autoPanOnConnect:rn,autoPanOnNodeDrag:hn,onerror:Ce,ondelete:Et,onedgecreate:Jt,connectionMode:ce,nodeDragThreshold:V,onconnect:Ot,onconnectstart:zt,onconnectend:Rn,onbeforedelete:Dn}),t.$$.dirty[1]&2098880&&Ld(Nt,{nodeTypes:A,edgeTypes:z,minZoom:H,maxZoom:S,translateExtent:me}),t.$$.dirty[1]&1073741824&&d(n(27,i=L6(Dt)))},[O,L,K,M,D,x,$,be,Me,Ae,R,le,Ye,Ue,et,rt,Pe,Je,ut,gn,de,Tt,qn,xn,ai,ci,fi,i,f,Cr,s,m,y,b,p,P,w,H,S,I,A,z,W,B,T,V,Y,G,ee,ae,ce,ge,me,oe,rn,hn,Ce,Et,Jt,Ht,ye,Dt,Ot,zt,Rn,Dn,mn,Wn,Fi,u,h,Gl,Zl,Jl,Ql,yo,jl,$l,es,Er,ts,Ar,ns,is,rs,os,ls,ss,us,fs,wo,as,g]}class V6 extends Ne{constructor(e){super(),ze(this,e,F6,Y6,Le,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1,-1])}}function K6(t){let e;const n=t[6].default,i=Xt(n,t,t[5],null);return{c(){i&&i.c()},m(l,s){i&&i.m(l,s),e=!0},p(l,[s]){i&&i.p&&(!e||s&32)&&Ft(i,n,l,l[5],e?Yt(n,l[5],s,null):Vt(l[5]),null)},i(l){e||(j(i,l),e=!0)},o(l){te(i,l),e=!1},d(l){i&&i.d(l)}}}function U6(t,e,n){let{$$slots:i={},$$scope:l}=e,{initialNodes:s=void 0}=e,{initialEdges:u=void 0}=e,{initialWidth:f=void 0}=e,{initialHeight:a=void 0}=e,{fitView:d=void 0}=e;const h=v1({nodes:s,edges:u,width:f,height:a,fitView:d});return jr(ql,{getStore:()=>h}),Ju(()=>{h.reset()}),t.$$set=g=>{"initialNodes"in g&&n(0,s=g.initialNodes),"initialEdges"in g&&n(1,u=g.initialEdges),"initialWidth"in g&&n(2,f=g.initialWidth),"initialHeight"in g&&n(3,a=g.initialHeight),"fitView"in g&&n(4,d=g.fitView),"$$scope"in g&&n(5,l=g.$$scope)},[s,u,f,a,d,l,i]}class q6 extends Ne{constructor(e){super(),ze(this,e,U6,K6,Le,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4})}}const x6=t=>({}),Dd=t=>({class:"button-svg"});function G6(t){let e,n,i,l,s;const u=t[8].default,f=Xt(u,t,t[7],Dd);let a=[{type:"button"},{class:n=it(["svelte-flow__controls-button",t[0]])},t[6]],d={};for(let h=0;h<a.length;h+=1)d=Kt(d,a[h]);return{c(){e=_e("button"),f&&f.c(),hr(e,d),Be(e,"--xy-controls-button-background-color-props",t[1]),Be(e,"--xy-controls-button-background-color-hover-props",t[2]),Be(e,"--xy-controls-button-color-props",t[3]),Be(e,"--xy-controls-button-color-hover-props",t[4]),Be(e,"--xy-controls-button-border-color-props",t[5])},m(h,g){J(h,e,g),f&&f.m(e,null),e.autofocus&&e.focus(),i=!0,l||(s=He(e,"click",t[9]),l=!0)},p(h,[g]){f&&f.p&&(!i||g&128)&&Ft(f,u,h,h[7],i?Yt(u,h[7],g,x6):Vt(h[7]),Dd),hr(e,d=si(a,[{type:"button"},(!i||g&1&&n!==(n=it(["svelte-flow__controls-button",h[0]])))&&{class:n},g&64&&h[6]])),Be(e,"--xy-controls-button-background-color-props",h[1]),Be(e,"--xy-controls-button-background-color-hover-props",h[2]),Be(e,"--xy-controls-button-color-props",h[3]),Be(e,"--xy-controls-button-color-hover-props",h[4]),Be(e,"--xy-controls-button-border-color-props",h[5])},i(h){i||(j(f,h),i=!0)},o(h){te(f,h),i=!1},d(h){h&&Z(e),f&&f.d(h),l=!1,s()}}}function Z6(t,e,n){const i=["class"];let l=cr(e,i),{$$slots:s={},$$scope:u}=e,{class:f=void 0}=e,a,d,h,g,m;function y(b){lt.call(this,t,b)}return t.$$set=b=>{e=Kt(Kt({},e),Zu(b)),n(6,l=cr(e,i)),"class"in b&&n(0,f=b.class),"$$scope"in b&&n(7,u=b.$$scope)},[f,a,d,h,g,m,l,u,s,y]}class pr extends Ne{constructor(e){super(),ze(this,e,Z6,G6,Le,{class:0})}}function J6(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 32 32")},m(i,l){J(i,e,l),se(e,n)},p:Te,i:Te,o:Te,d(i){i&&Z(e)}}}class Q6 extends Ne{constructor(e){super(),ze(this,e,null,J6,Le,{})}}function j6(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M0 0h32v4.2H0z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 32 5")},m(i,l){J(i,e,l),se(e,n)},p:Te,i:Te,o:Te,d(i){i&&Z(e)}}}class $6 extends Ne{constructor(e){super(),ze(this,e,null,j6,Le,{})}}function e8(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 32 30")},m(i,l){J(i,e,l),se(e,n)},p:Te,i:Te,o:Te,d(i){i&&Z(e)}}}class t8 extends Ne{constructor(e){super(),ze(this,e,null,e8,Le,{})}}function n8(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 25 32")},m(i,l){J(i,e,l),se(e,n)},p:Te,i:Te,o:Te,d(i){i&&Z(e)}}}class i8 extends Ne{constructor(e){super(),ze(this,e,null,n8,Le,{})}}function r8(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 25 32")},m(i,l){J(i,e,l),se(e,n)},p:Te,i:Te,o:Te,d(i){i&&Z(e)}}}class o8 extends Ne{constructor(e){super(),ze(this,e,null,r8,Le,{})}}const l8=t=>({}),Wd=t=>({}),s8=t=>({}),Bd=t=>({});function Xd(t){let e,n,i,l;const s=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let u={$$slots:{default:[u8]},$$scope:{ctx:t}};for(let d=0;d<s.length;d+=1)u=Kt(u,s[d]);e=new pr({props:u}),e.$on("click",t[18]);const f=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[f8]},$$scope:{ctx:t}};for(let d=0;d<f.length;d+=1)a=Kt(a,f[d]);return i=new pr({props:a}),i.$on("click",t[19]),{c(){ke(e.$$.fragment),n=Se(),ke(i.$$.fragment)},m(d,h){ve(e,d,h),J(d,n,h),ve(i,d,h),l=!0},p(d,h){const g=h[0]&131584?si(s,[s[0],s[1],s[2],h[0]&512&&{disabled:d[9]},h[0]&131072&&gr(d[17])]):{};h[1]&16&&(g.$$scope={dirty:h,ctx:d}),e.$set(g);const m=h[0]&132096?si(f,[f[0],f[1],f[2],h[0]&1024&&{disabled:d[10]},h[0]&131072&&gr(d[17])]):{};h[1]&16&&(m.$$scope={dirty:h,ctx:d}),i.$set(m)},i(d){l||(j(e.$$.fragment,d),j(i.$$.fragment,d),l=!0)},o(d){te(e.$$.fragment,d),te(i.$$.fragment,d),l=!1},d(d){d&&Z(n),pe(e,d),pe(i,d)}}}function u8(t){let e,n;return e=new Q6({}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function f8(t){let e,n;return e=new $6({}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function Yd(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let l={$$slots:{default:[a8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)l=Kt(l,i[s]);return e=new pr({props:l}),e.$on("click",t[20]),{c(){ke(e.$$.fragment)},m(s,u){ve(e,s,u),n=!0},p(s,u){const f=u[0]&131072?si(i,[i[0],i[1],i[2],gr(s[17])]):{};u[1]&16&&(f.$$scope={dirty:u,ctx:s}),e.$set(f)},i(s){n||(j(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){pe(e,s)}}}function a8(t){let e,n;return e=new t8({}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function Fd(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let l={$$slots:{default:[h8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)l=Kt(l,i[s]);return e=new pr({props:l}),e.$on("click",t[21]),{c(){ke(e.$$.fragment)},m(s,u){ve(e,s,u),n=!0},p(s,u){const f=u[0]&131072?si(i,[i[0],i[1],i[2],gr(s[17])]):{};u[0]&256|u[1]&16&&(f.$$scope={dirty:u,ctx:s}),e.$set(f)},i(s){n||(j(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){pe(e,s)}}}function c8(t){let e,n;return e=new i8({}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function d8(t){let e,n;return e=new o8({}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function h8(t){let e,n,i,l;const s=[d8,c8],u=[];function f(a,d){return a[8]?0:1}return e=f(t),n=u[e]=s[e](t),{c(){n.c(),i=bt()},m(a,d){u[e].m(a,d),J(a,i,d),l=!0},p(a,d){let h=e;e=f(a),e!==h&&(yt(),te(u[h],1,1,()=>{u[h]=null}),wt(),n=u[e],n||(n=u[e]=s[e](a),n.c()),j(n,1),n.m(i.parentNode,i))},i(a){l||(j(n),l=!0)},o(a){te(n),l=!1},d(a){a&&Z(i),u[e].d(a)}}}function g8(t){let e,n,i,l,s,u;const f=t[34].before,a=Xt(f,t,t[35],Bd);let d=t[1]&&Xd(t),h=t[2]&&Yd(t),g=t[3]&&Fd(t);const m=t[34].default,y=Xt(m,t,t[35],null),b=t[34].after,p=Xt(b,t,t[35],Wd);return{c(){a&&a.c(),e=Se(),d&&d.c(),n=Se(),h&&h.c(),i=Se(),g&&g.c(),l=Se(),y&&y.c(),s=Se(),p&&p.c()},m(P,w){a&&a.m(P,w),J(P,e,w),d&&d.m(P,w),J(P,n,w),h&&h.m(P,w),J(P,i,w),g&&g.m(P,w),J(P,l,w),y&&y.m(P,w),J(P,s,w),p&&p.m(P,w),u=!0},p(P,w){a&&a.p&&(!u||w[1]&16)&&Ft(a,f,P,P[35],u?Yt(f,P[35],w,s8):Vt(P[35]),Bd),P[1]?d?(d.p(P,w),w[0]&2&&j(d,1)):(d=Xd(P),d.c(),j(d,1),d.m(n.parentNode,n)):d&&(yt(),te(d,1,1,()=>{d=null}),wt()),P[2]?h?(h.p(P,w),w[0]&4&&j(h,1)):(h=Yd(P),h.c(),j(h,1),h.m(i.parentNode,i)):h&&(yt(),te(h,1,1,()=>{h=null}),wt()),P[3]?g?(g.p(P,w),w[0]&8&&j(g,1)):(g=Fd(P),g.c(),j(g,1),g.m(l.parentNode,l)):g&&(yt(),te(g,1,1,()=>{g=null}),wt()),y&&y.p&&(!u||w[1]&16)&&Ft(y,m,P,P[35],u?Yt(m,P[35],w,null):Vt(P[35]),null),p&&p.p&&(!u||w[1]&16)&&Ft(p,b,P,P[35],u?Yt(b,P[35],w,l8):Vt(P[35]),Wd)},i(P){u||(j(a,P),j(d),j(h),j(g),j(y,P),j(p,P),u=!0)},o(P){te(a,P),te(d),te(h),te(g),te(y,P),te(p,P),u=!1},d(P){P&&(Z(e),Z(n),Z(i),Z(l),Z(s)),a&&a.d(P),d&&d.d(P),h&&h.d(P),g&&g.d(P),y&&y.d(P),p&&p.d(P)}}}function m8(t){let e,n;return e=new Bi({props:{class:it(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[g8]},$$scope:{ctx:t}}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l[0]&192&&(s.class=it(["svelte-flow__controls",i[7],i[6]])),l[0]&1&&(s.position=i[0]),l[0]&16&&(s["aria-label"]=i[4]??"Svelte Flow controls"),l[0]&32&&(s.style=i[5]),l[0]&1806|l[1]&16&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function _8(t,e,n){let i,l,s,u,f,a,d,h,g,m,{$$slots:y={},$$scope:b}=e,{position:p="bottom-left"}=e,{showZoom:P=!0}=e,{showFitView:w=!0}=e,{showLock:H=!0}=e,{buttonBgColor:S=void 0}=e,{buttonBgColorHover:O=void 0}=e,{buttonColor:I=void 0}=e,{buttonColorHover:A=void 0}=e,{buttonBorderColor:z=void 0}=e,{ariaLabel:L=void 0}=e,{style:W=void 0}=e,{orientation:K="vertical"}=e,{class:M=""}=e;const{zoomIn:D,zoomOut:B,fitView:T,viewport:V,minZoom:Y,maxZoom:G,nodesDraggable:x,nodesConnectable:ee,elementsSelectable:ae}=dt();he(t,V,R=>n(29,a=R)),he(t,Y,R=>n(30,d=R)),he(t,G,R=>n(28,f=R)),he(t,x,R=>n(33,m=R)),he(t,ee,R=>n(32,g=R)),he(t,ae,R=>n(31,h=R));const ce={bgColor:S,bgColorHover:O,color:I,colorHover:A,borderColor:z},$=()=>{D()},be=()=>{B()},Me=()=>{T()},Ae=()=>{n(8,i=!i),x.set(i),ee.set(i),ae.set(i)};return t.$$set=R=>{"position"in R&&n(0,p=R.position),"showZoom"in R&&n(1,P=R.showZoom),"showFitView"in R&&n(2,w=R.showFitView),"showLock"in R&&n(3,H=R.showLock),"buttonBgColor"in R&&n(22,S=R.buttonBgColor),"buttonBgColorHover"in R&&n(23,O=R.buttonBgColorHover),"buttonColor"in R&&n(24,I=R.buttonColor),"buttonColorHover"in R&&n(25,A=R.buttonColorHover),"buttonBorderColor"in R&&n(26,z=R.buttonBorderColor),"ariaLabel"in R&&n(4,L=R.ariaLabel),"style"in R&&n(5,W=R.style),"orientation"in R&&n(27,K=R.orientation),"class"in R&&n(6,M=R.class),"$$scope"in R&&n(35,b=R.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&7&&n(8,i=m||g||h),t.$$.dirty[0]&1610612736&&n(10,l=a.zoom<=d),t.$$.dirty[0]&805306368&&n(9,s=a.zoom>=f),t.$$.dirty[0]&134217728&&n(7,u=K==="horizontal"?"horizontal":"vertical")},[p,P,w,H,L,W,M,u,i,s,l,V,Y,G,x,ee,ae,ce,$,be,Me,Ae,S,O,I,A,z,K,f,a,d,h,g,m,y,b]}class y8 extends Ne{constructor(e){super(),ze(this,e,_8,m8,Le,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,class:6},null,[-1,-1])}}var li;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(li||(li={}));function w8(t){let e,n;return{c(){e=Fe("circle"),C(e,"cx",t[0]),C(e,"cy",t[0]),C(e,"r",t[0]),C(e,"class",n=it(["svelte-flow__background-pattern","dots",t[1]]))},m(i,l){J(i,e,l)},p(i,[l]){l&1&&C(e,"cx",i[0]),l&1&&C(e,"cy",i[0]),l&1&&C(e,"r",i[0]),l&2&&n!==(n=it(["svelte-flow__background-pattern","dots",i[1]]))&&C(e,"class",n)},i:Te,o:Te,d(i){i&&Z(e)}}}function b8(t,e,n){let{radius:i=5}=e,{class:l=""}=e;return t.$$set=s=>{"radius"in s&&n(0,i=s.radius),"class"in s&&n(1,l=s.class)},[i,l]}class v8 extends Ne{constructor(e){super(),ze(this,e,b8,w8,Le,{radius:0,class:1})}}function p8(t){let e,n,i;return{c(){e=Fe("path"),C(e,"stroke-width",t[0]),C(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),C(e,"class",i=it(["svelte-flow__background-pattern",t[2],t[3]]))},m(l,s){J(l,e,s)},p(l,[s]){s&1&&C(e,"stroke-width",l[0]),s&2&&n!==(n=`M${l[1][0]/2} 0 V${l[1][1]} M0 ${l[1][1]/2} H${l[1][0]}`)&&C(e,"d",n),s&12&&i!==(i=it(["svelte-flow__background-pattern",l[2],l[3]]))&&C(e,"class",i)},i:Te,o:Te,d(l){l&&Z(e)}}}function S8(t,e,n){let{lineWidth:i=1}=e,{dimensions:l}=e,{variant:s=void 0}=e,{class:u=""}=e;return t.$$set=f=>{"lineWidth"in f&&n(0,i=f.lineWidth),"dimensions"in f&&n(1,l=f.dimensions),"variant"in f&&n(2,s=f.variant),"class"in f&&n(3,u=f.class)},[i,l,s,u]}class k8 extends Ne{constructor(e){super(),ze(this,e,S8,p8,Le,{lineWidth:0,dimensions:1,variant:2,class:3})}}function C8(t){let e,n;return e=new k8({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&64&&(s.dimensions=i[6]),l&1&&(s.variant=i[0]),l&2&&(s.lineWidth=i[1]),l&16&&(s.class=i[4]),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function E8(t){let e,n;return e=new v8({props:{radius:t[7]/2,class:t[4]}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&128&&(s.radius=i[7]/2),l&16&&(s.class=i[4]),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function A8(t){let e,n,i,l,s,u,f,a,d,h,g,m,y;const b=[E8,C8],p=[];function P(w,H){return w[14]?0:1}return i=P(t),l=p[i]=b[i](t),{c(){e=Fe("svg"),n=Fe("pattern"),l.c(),h=Fe("rect"),C(n,"id",t[11]),C(n,"x",s=t[9].x%t[8][0]),C(n,"y",u=t[9].y%t[8][1]),C(n,"width",f=t[8][0]),C(n,"height",a=t[8][1]),C(n,"patternUnits","userSpaceOnUse"),C(n,"patternTransform",d=`translate(-${t[10][0]},-${t[10][1]})`),C(h,"x","0"),C(h,"y","0"),C(h,"width","100%"),C(h,"height","100%"),C(h,"fill",g=`url(#${t[11]})`),C(e,"class",m=dr(it(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),C(e,"data-testid","svelte-flow__background"),Be(e,"--xy-background-color-props",t[2]),Be(e,"--xy-background-pattern-color-props",t[3])},m(w,H){J(w,e,H),se(e,n),p[i].m(n,null),se(e,h),y=!0},p(w,[H]){l.p(w,H),(!y||H&2048)&&C(n,"id",w[11]),(!y||H&768&&s!==(s=w[9].x%w[8][0]))&&C(n,"x",s),(!y||H&768&&u!==(u=w[9].y%w[8][1]))&&C(n,"y",u),(!y||H&256&&f!==(f=w[8][0]))&&C(n,"width",f),(!y||H&256&&a!==(a=w[8][1]))&&C(n,"height",a),(!y||H&1024&&d!==(d=`translate(-${w[10][0]},-${w[10][1]})`))&&C(n,"patternTransform",d),(!y||H&2048&&g!==(g=`url(#${w[11]})`))&&C(h,"fill",g),(!y||H&32&&m!==(m=dr(it(["svelte-flow__background",w[5]]))+" svelte-1r7pe8d"))&&C(e,"class",m),H&4&&Be(e,"--xy-background-color-props",w[2]),H&8&&Be(e,"--xy-background-pattern-color-props",w[3])},i(w){y||(j(l),y=!0)},o(w){te(l),y=!1},d(w){w&&Z(e),p[i].d()}}}const M8={[li.Dots]:1,[li.Lines]:1,[li.Cross]:6};function P8(t,e,n){let i,l,s,u,f,a,d,{id:h=void 0}=e,{variant:g=li.Dots}=e,{gap:m=20}=e,{size:y=1}=e,{lineWidth:b=1}=e,{bgColor:p=void 0}=e,{patternColor:P=void 0}=e,{patternClass:w=void 0}=e,{class:H=""}=e;const{viewport:S,flowId:O}=dt();he(t,S,W=>n(9,a=W)),he(t,O,W=>n(18,d=W));const I=y||M8[g],A=g===li.Dots,z=g===li.Cross,L=Array.isArray(m)?m:[m,m];return t.$$set=W=>{"id"in W&&n(15,h=W.id),"variant"in W&&n(0,g=W.variant),"gap"in W&&n(16,m=W.gap),"size"in W&&n(17,y=W.size),"lineWidth"in W&&n(1,b=W.lineWidth),"bgColor"in W&&n(2,p=W.bgColor),"patternColor"in W&&n(3,P=W.patternColor),"patternClass"in W&&n(4,w=W.patternClass),"class"in W&&n(5,H=W.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${d}-${h||""}`),t.$$.dirty&512&&n(8,l=[L[0]*a.zoom||1,L[1]*a.zoom||1]),t.$$.dirty&512&&n(7,s=I*a.zoom),t.$$.dirty&384&&n(6,u=z?[s,s]:l),t.$$.dirty&192&&n(10,f=A?[s/2,s/2]:[u[0]/2,u[1]/2])},[g,b,p,P,w,H,u,s,l,a,f,i,S,O,A,h,m,y,d]}class T8 extends Ne{constructor(e){super(),ze(this,e,P8,A8,Le,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function O8(t){let e,n,i;return{c(){e=Fe("rect"),C(e,"class",n=it(["svelte-flow__minimap-node",t[10]])),C(e,"x",t[0]),C(e,"y",t[1]),C(e,"rx",t[4]),C(e,"ry",t[4]),C(e,"width",t[2]),C(e,"height",t[3]),C(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),C(e,"shape-rendering",t[6]),Xe(e,"selected",t[9])},m(l,s){J(l,e,s)},p(l,[s]){s&1024&&n!==(n=it(["svelte-flow__minimap-node",l[10]]))&&C(e,"class",n),s&1&&C(e,"x",l[0]),s&2&&C(e,"y",l[1]),s&16&&C(e,"rx",l[4]),s&16&&C(e,"ry",l[4]),s&4&&C(e,"width",l[2]),s&8&&C(e,"height",l[3]),s&416&&i!==(i=`${l[5]?`fill: ${l[5]};`:""}${l[7]?`stroke: ${l[7]};`:""}${l[8]?`stroke-width: ${l[8]};`:""}`)&&C(e,"style",i),s&64&&C(e,"shape-rendering",l[6]),s&1536&&Xe(e,"selected",l[9])},i:Te,o:Te,d(l){l&&Z(e)}}}function I8(t,e,n){let{x:i}=e,{y:l}=e,{width:s=0}=e,{height:u=0}=e,{borderRadius:f=5}=e,{color:a=void 0}=e,{shapeRendering:d}=e,{strokeColor:h=void 0}=e,{strokeWidth:g=2}=e,{selected:m=!1}=e,{class:y=""}=e;return t.$$set=b=>{"x"in b&&n(0,i=b.x),"y"in b&&n(1,l=b.y),"width"in b&&n(2,s=b.width),"height"in b&&n(3,u=b.height),"borderRadius"in b&&n(4,f=b.borderRadius),"color"in b&&n(5,a=b.color),"shapeRendering"in b&&n(6,d=b.shapeRendering),"strokeColor"in b&&n(7,h=b.strokeColor),"strokeWidth"in b&&n(8,g=b.strokeWidth),"selected"in b&&n(9,m=b.selected),"class"in b&&n(10,y=b.class)},[i,l,s,u,f,a,d,h,g,m,y]}class H8 extends Ne{constructor(e){super(),ze(this,e,I8,O8,Le,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function z8(t,e){const n=w5({domNode:t,panZoom:e.panZoom,getTransform:()=>{const l=ue(e.viewport);return[l.x,l.y,l.zoom]},getViewScale:e.getViewScale});function i(l){n.update({translateExtent:l.translateExtent,width:l.width,height:l.height,inversePan:l.inversePan,zoomStep:l.zoomStep,pannable:l.pannable,zoomable:l.zoomable})}return{update:i,destroy(){n.destroy()}}}function Vd(t,e,n){const i=t.slice();return i[53]=e[n],i}function Ou(t){const e=t.slice(),n=kr(e[53]).positionAbsolute;e[56]=n;const i=mo(e[53]);return e[57]=i,e}function Kd(t){let e,n,i=[],l=new Map,s,u,f,a,d,h,g,m=t[1]&&Ud(t),y=Ct(t[19]);const b=p=>p[53].id;for(let p=0;p<y.length;p+=1){let P=Vd(t,y,p),w=b(P);l.set(w,i[p]=xd(w,P))}return{c(){e=Fe("svg"),m&&m.c(),n=bt();for(let p=0;p<i.length;p+=1)i[p].c();s=Fe("path"),C(s,"class","svelte-flow__minimap-mask"),C(s,"d",u="M"+(t[25]-t[15])+","+(t[24]-t[15])+"h"+(t[23]+t[15]*2)+"v"+(t[22]+t[15]*2)+"h"+(-t[23]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),C(s,"fill-rule","evenodd"),C(s,"pointer-events","none"),C(e,"width",t[17]),C(e,"height",t[16]),C(e,"viewBox",f=t[25]+" "+t[24]+" "+t[23]+" "+t[22]),C(e,"class","svelte-flow__minimap-svg"),C(e,"role","img"),C(e,"aria-labelledby",t[39]),Be(e,"--xy-minimap-mask-background-color-props",t[5]),Be(e,"--xy-minimap-mask-stroke-color-props",t[6]),Be(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(p,P){J(p,e,P),m&&m.m(e,null),se(e,n);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(e,null);se(e,s),d=!0,h||(g=Gt(a=z8.call(null,e,{panZoom:t[26],viewport:t[29],getViewScale:t[40],translateExtent:t[27],width:t[21],height:t[20],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),h=!0)},p(p,P){p[1]?m?m.p(p,P):(m=Ud(p),m.c(),m.m(e,n)):m&&(m.d(1),m=null),P[0]&524300|P[1]&240&&(y=Ct(p[19]),yt(),i=Ei(i,P,b,1,p,y,l,e,Xi,xd,s,Vd),wt()),(!d||P[0]&63209472&&u!==(u="M"+(p[25]-p[15])+","+(p[24]-p[15])+"h"+(p[23]+p[15]*2)+"v"+(p[22]+p[15]*2)+"h"+(-p[23]-p[15]*2)+`z
      M`+p[18].x+","+p[18].y+"h"+p[18].width+"v"+p[18].height+"h"+-p[18].width+"z"))&&C(s,"d",u),(!d||P[0]&131072)&&C(e,"width",p[17]),(!d||P[0]&65536)&&C(e,"height",p[16]),(!d||P[0]&62914560&&f!==(f=p[25]+" "+p[24]+" "+p[23]+" "+p[22]))&&C(e,"viewBox",f),a&&gt(a.update)&&P[0]&204476160&&a.update.call(null,{panZoom:p[26],viewport:p[29],getViewScale:p[40],translateExtent:p[27],width:p[21],height:p[20],inversePan:p[10],zoomStep:p[11],pannable:p[8],zoomable:p[9]}),P[0]&32&&Be(e,"--xy-minimap-mask-background-color-props",p[5]),P[0]&64&&Be(e,"--xy-minimap-mask-stroke-color-props",p[6]),P[0]&16512&&Be(e,"--xy-minimap-mask-stroke-width-props",p[7]?p[7]*p[14]:void 0)},i(p){if(!d){for(let P=0;P<y.length;P+=1)j(i[P]);d=!0}},o(p){for(let P=0;P<i.length;P+=1)te(i[P]);d=!1},d(p){p&&Z(e),m&&m.d();for(let P=0;P<i.length;P+=1)i[P].d();h=!1,g()}}}function Ud(t){let e,n;return{c(){e=Fe("title"),n=tt(t[1]),C(e,"id",t[39])},m(i,l){J(i,e,l),se(e,n)},p(i,l){l[0]&2&&Zt(n,i[1])},d(i){i&&Z(e)}}}function qd(t){var s;let e,n;const i=[{x:t[56].x},{y:t[56].y},t[57],{selected:t[53].selected},{color:(s=t[35])==null?void 0:s.call(t,t[53])},{borderRadius:t[2]},{strokeColor:t[36](t[53])},{strokeWidth:t[3]},{shapeRendering:t[38]},{class:t[37](t[53])}];let l={};for(let u=0;u<i.length;u+=1)l=Kt(l,i[u]);return e=new H8({props:l}),{c(){ke(e.$$.fragment)},m(u,f){ve(e,u,f),n=!0},p(u,f){var d;const a=f[0]&524300|f[1]&240?si(i,[f[0]&524288&&{x:u[56].x},f[0]&524288&&{y:u[56].y},f[0]&524288&&gr(u[57]),f[0]&524288&&{selected:u[53].selected},f[0]&524288|f[1]&16&&{color:(d=u[35])==null?void 0:d.call(u,u[53])},f[0]&4&&{borderRadius:u[2]},f[0]&524288|f[1]&32&&{strokeColor:u[36](u[53])},f[0]&8&&{strokeWidth:u[3]},f[1]&128&&{shapeRendering:u[38]},f[0]&524288|f[1]&64&&{class:u[37](u[53])}]):{};e.$set(a)},i(u){n||(j(e.$$.fragment,u),n=!0)},o(u){te(e.$$.fragment,u),n=!1},d(u){pe(e,u)}}}function xd(t,e){let n,i=oo(e[53]),l,s,u=i&&qd(Ou(e));return{key:t,first:null,c(){n=bt(),u&&u.c(),l=bt(),this.first=n},m(f,a){J(f,n,a),u&&u.m(f,a),J(f,l,a),s=!0},p(f,a){e=f,a[0]&524288&&(i=oo(e[53])),i?u?(u.p(Ou(e),a),a[0]&524288&&j(u,1)):(u=qd(Ou(e)),u.c(),j(u,1),u.m(l.parentNode,l)):u&&(yt(),te(u,1,1,()=>{u=null}),wt())},i(f){s||(j(u),s=!0)},o(f){te(u),s=!1},d(f){f&&(Z(n),Z(l)),u&&u.d(f)}}}function N8(t){let e,n,i=t[26]&&Kd(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),J(l,e,s),n=!0},p(l,s){l[26]?i?(i.p(l,s),s[0]&67108864&&j(i,1)):(i=Kd(l),i.c(),j(i,1),i.m(e.parentNode,e)):i&&(yt(),te(i,1,1,()=>{i=null}),wt())},i(l){n||(j(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}function L8(t){let e,n;return e=new Bi({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:it(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[N8]},$$scope:{ctx:t}}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l[0]&1&&(s.position=i[0]),l[0]&4112&&(s.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),l[0]&8192&&(s.class=it(["svelte-flow__minimap",i[13]])),l[0]&268423150|l[1]&134217728&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}const Iu=t=>t instanceof Function?t:()=>t,R8=200,D8=150;function W8(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,b,p,P,w,H,S,O,I,A,z,{position:L="bottom-right"}=e,{ariaLabel:W="Mini map"}=e,{nodeStrokeColor:K="transparent"}=e,{nodeColor:M=void 0}=e,{nodeClass:D=""}=e,{nodeBorderRadius:B=5}=e,{nodeStrokeWidth:T=2}=e,{bgColor:V=void 0}=e,{maskColor:Y=void 0}=e,{maskStrokeColor:G=void 0}=e,{maskStrokeWidth:x=void 0}=e,{width:ee=void 0}=e,{height:ae=void 0}=e,{pannable:ce=!0}=e,{zoomable:$=!0}=e,{inversePan:be=void 0}=e,{zoomStep:Me=void 0}=e,{style:Ae=""}=e,{class:R=""}=e;const{nodes:ge,viewport:me,width:oe,height:le,flowId:Ye,panZoom:Ue,translateExtent:et}=dt();he(t,ge,Ce=>n(19,w=Ce)),he(t,me,Ce=>n(51,H=Ce)),he(t,oe,Ce=>n(21,O=Ce)),he(t,le,Ce=>n(20,S=Ce)),he(t,Ye,Ce=>n(52,I=Ce)),he(t,Ue,Ce=>n(26,A=Ce)),he(t,et,Ce=>n(27,z=Ce));const rt=M===void 0?void 0:Iu(M),Pe=Iu(K),Je=Iu(D),ut=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",rn=`svelte-flow__minimap-desc-${I}`,hn=()=>d;return t.$$set=Ce=>{"position"in Ce&&n(0,L=Ce.position),"ariaLabel"in Ce&&n(1,W=Ce.ariaLabel),"nodeStrokeColor"in Ce&&n(41,K=Ce.nodeStrokeColor),"nodeColor"in Ce&&n(42,M=Ce.nodeColor),"nodeClass"in Ce&&n(43,D=Ce.nodeClass),"nodeBorderRadius"in Ce&&n(2,B=Ce.nodeBorderRadius),"nodeStrokeWidth"in Ce&&n(3,T=Ce.nodeStrokeWidth),"bgColor"in Ce&&n(4,V=Ce.bgColor),"maskColor"in Ce&&n(5,Y=Ce.maskColor),"maskStrokeColor"in Ce&&n(6,G=Ce.maskStrokeColor),"maskStrokeWidth"in Ce&&n(7,x=Ce.maskStrokeWidth),"width"in Ce&&n(44,ee=Ce.width),"height"in Ce&&n(45,ae=Ce.height),"pannable"in Ce&&n(8,ce=Ce.pannable),"zoomable"in Ce&&n(9,$=Ce.zoomable),"inversePan"in Ce&&n(10,be=Ce.inversePan),"zoomStep"in Ce&&n(11,Me=Ce.zoomStep),"style"in Ce&&n(12,Ae=Ce.style),"class"in Ce&&n(13,R=Ce.class)},t.$$.update=()=>{t.$$.dirty[0]&3145728|t.$$.dirty[1]&1048576&&n(18,i={x:-H.x/H.zoom,y:-H.y/H.zoom,width:O/H.zoom,height:S/H.zoom}),t.$$.dirty[0]&786432&&n(48,l=w.length>0?Up(go(w),i):i),t.$$.dirty[1]&8192&&n(17,s=ee??R8),t.$$.dirty[1]&16384&&n(16,u=ae??D8),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(50,f=l.width/s),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(49,a=l.height/u),t.$$.dirty[1]&786432&&n(14,d=Math.max(f,a)),t.$$.dirty[0]&147456&&n(47,h=d*s),t.$$.dirty[0]&81920&&n(46,g=d*u),t.$$.dirty[0]&16384&&n(15,m=5*d),t.$$.dirty[0]&32768|t.$$.dirty[1]&196608&&n(25,y=l.x-(h-l.width)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&163840&&n(24,b=l.y-(g-l.height)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&65536&&n(23,p=h+m*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&32768&&n(22,P=g+m*2)},[L,W,B,T,V,Y,G,x,ce,$,be,Me,Ae,R,d,m,u,s,i,w,S,O,P,p,b,y,A,z,ge,me,oe,le,Ye,Ue,et,rt,Pe,Je,ut,rn,hn,K,M,D,ee,ae,g,h,l,a,f,H]}class B8 extends Ne{constructor(e){super(),ze(this,e,W8,L8,Le,{position:0,ariaLabel:1,nodeStrokeColor:41,nodeColor:42,nodeClass:43,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:44,height:45,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function X8(t){let e,n,i;const l=t[33].default,s=Xt(l,t,t[32],null);return{c(){e=_e("div"),s&&s.c(),C(e,"class",n=it(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),C(e,"style",t[3])},m(u,f){J(u,e,f),s&&s.m(e,null),t[34](e),i=!0},p(u,f){s&&s.p&&(!i||f[1]&2)&&Ft(s,l,u,u[32],i?Yt(l,u[32],f,null):Vt(u[32]),null),(!i||f[0]&19&&n!==(n=it(["svelte-flow__resize-control","nodrag",...u[4],u[0],u[1]])))&&C(e,"class",n),(!i||f[0]&8)&&C(e,"style",u[3])},i(u){i||(j(s,u),i=!0)},o(u){te(s,u),i=!1},d(u){u&&Z(e),s&&s.d(u),t[34](null)}}}function Y8(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,b,p,P,w,H,{$$slots:S={},$$scope:O}=e,{nodeId:I=void 0}=e,{position:A=void 0}=e,{variant:z=Jr.Handle}=e,{color:L=void 0}=e,{minWidth:W=10}=e,{minHeight:K=10}=e,{maxWidth:M=Number.MAX_VALUE}=e,{maxHeight:D=Number.MAX_VALUE}=e,{keepAspectRatio:B=!1}=e,{shouldResize:T=void 0}=e,{onResizeStart:V=void 0}=e,{onResize:Y=void 0}=e,{onResizeEnd:G=void 0}=e,{style:x=""}=e,{class:ee=""}=e;const{nodeLookup:ae,snapGrid:ce,viewport:$,nodes:be,nodeOrigin:Me}=dt();he(t,ae,oe=>n(37,p=oe)),he(t,ce,oe=>n(39,w=oe)),he(t,$,oe=>n(40,H=oe)),he(t,be,oe=>n(36,b=oe)),he(t,Me,oe=>n(38,P=oe));const Ae=$r("svelteflow__node_id");let R,ge=null;fo(()=>(R&&n(23,ge=N5({domNode:R,nodeId:f,getStoreItems:()=>({nodeLookup:p,transform:[H.x,H.y,H.zoom],snapGrid:w??void 0,snapToGrid:!!w,nodeOrigin:P}),onChange:(oe,le)=>{const Ye=p.get(f);if(Ye){Ye.height=oe.isHeightChange?oe.height:Ye.height,Ye.width=oe.isWidthChange?oe.width:Ye.width,Ye.position=oe.isXPosChange||oe.isYPosChange?{x:oe.x,y:oe.y}:Ye.position;for(const Ue of le){const et=p.get(Ue.id);et&&(et.position=Ue.position)}be.set(b)}}})),()=>{ge==null||ge.destroy()}));function me(oe){En[oe?"unshift":"push"](()=>{R=oe,n(2,R)})}return t.$$set=oe=>{"nodeId"in oe&&n(10,I=oe.nodeId),"position"in oe&&n(11,A=oe.position),"variant"in oe&&n(0,z=oe.variant),"color"in oe&&n(12,L=oe.color),"minWidth"in oe&&n(13,W=oe.minWidth),"minHeight"in oe&&n(14,K=oe.minHeight),"maxWidth"in oe&&n(15,M=oe.maxWidth),"maxHeight"in oe&&n(16,D=oe.maxHeight),"keepAspectRatio"in oe&&n(17,B=oe.keepAspectRatio),"shouldResize"in oe&&n(18,T=oe.shouldResize),"onResizeStart"in oe&&n(19,V=oe.onResizeStart),"onResize"in oe&&n(20,Y=oe.onResize),"onResizeEnd"in oe&&n(21,G=oe.onResizeEnd),"style"in oe&&n(22,x=oe.style),"class"in oe&&n(1,ee=oe.class),"$$scope"in oe&&n(32,O=oe.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&n(27,i=W??10),t.$$.dirty[0]&16384&&n(26,l=K??10),t.$$.dirty[0]&32768&&n(25,s=M??Number.MAX_VALUE),t.$$.dirty[0]&65536&&n(24,u=D??Number.MAX_VALUE),t.$$.dirty[0]&1024&&(f=typeof I=="string"?I:Ae),t.$$.dirty[0]&1&&n(31,a=z===Jr.Line?"right":"bottom-right"),t.$$.dirty[0]&2048|t.$$.dirty[1]&1&&n(28,d=A??a),t.$$.dirty[0]&268435456&&n(4,h=d.split("-")),t.$$.dirty[0]&1&&n(30,g=z===Jr.Line?"border-color":"background-color"),t.$$.dirty[0]&4194304&&n(29,m=x??""),t.$$.dirty[0]&1610616832&&n(3,y=L?`${m} ${g}: ${L};`:m),t.$$.dirty[0]&532545536&&(ge==null||ge.update({controlPosition:d,boundaries:{minWidth:i,minHeight:l,maxWidth:s,maxHeight:u},keepAspectRatio:!!B,onResizeStart:V,onResize:Y,onResizeEnd:G,shouldResize:T}))},[z,ee,R,y,h,ae,ce,$,be,Me,I,A,L,W,K,M,D,B,T,V,Y,G,x,ge,u,s,l,i,d,m,g,a,O,S,me]}class F8 extends Ne{constructor(e){super(),ze(this,e,Y8,X8,Le,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}const Gd=t=>Xp(t),C1=()=>Wl();function V8(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:l,viewport:s,width:u,height:f,minZoom:a,maxZoom:d,panZoom:h,nodes:g,edges:m,domNode:y,nodeLookup:b,edgeLookup:p}=dt(),P=H=>{const S=Gd(H)&&oo(H)?H:ue(b).get(H.id);return S?qu(S):null},w=(H,S,O={replace:!1})=>{g.update(I=>I.map(A=>{if(A.id===H){const z=typeof S=="function"?S(A):S;return O.replace&&Gd(z)?z:{...A,...z}}return A}))};return{zoomIn:t,zoomOut:e,getNode:H=>ue(b).get(H),getNodes:H=>H===void 0?ue(g):Zd(ue(b),H),getEdge:H=>ue(p).get(H),getEdges:H=>H===void 0?ue(m):Zd(ue(p),H),setZoom:(H,S)=>{var O;(O=ue(h))==null||O.scaleTo(H,{duration:S==null?void 0:S.duration})},getZoom:()=>ue(s).zoom,setViewport:(H,S)=>{var I;const O=ue(s);(I=ue(h))==null||I.setViewport({x:H.x??O.x,y:H.y??O.y,zoom:H.zoom??O.zoom},{duration:S==null?void 0:S.duration})},getViewport:()=>ue(s),setCenter:(H,S,O)=>{var A;const I=typeof(O==null?void 0:O.zoom)<"u"?O.zoom:ue(d);(A=ue(h))==null||A.setViewport({x:ue(u)/2-H*I,y:ue(f)/2-S*I,zoom:I},{duration:O==null?void 0:O.duration})},fitView:n,fitBounds:(H,S)=>{var I;const O=sf(H,ue(u),ue(f),ue(a),ue(d),(S==null?void 0:S.padding)??.1);(I=ue(h))==null||I.setViewport(O,{duration:S==null?void 0:S.duration})},getIntersectingNodes:(H,S=!0,O)=>{const I=rd(H),A=I?H:P(H);return A?(O||ue(g)).filter(z=>{var M;if(!I&&(z.id===H.id||!((M=z.computed)!=null&&M.positionAbsolute)))return!1;const L=qu(z),W=Nl(L,A);return S&&W>0||W>=A.width*A.height}):[]},isNodeIntersecting:(H,S,O=!0)=>{const A=rd(H)?H:P(H);if(!A)return!1;const z=Nl(A,S);return O&&z>0||z>=A.width*A.height},deleteElements:async({nodes:H=[],edges:S=[]})=>{const{nodes:O,edges:I}=await Jh({nodesToRemove:H,edgesToRemove:S,nodes:ue(g),edges:ue(m),onBeforeDelete:ue(i)});return O&&g.update(A=>A.filter(z=>!O.some(({id:L})=>L===z.id))),I&&m.update(A=>A.filter(z=>!I.some(({id:L})=>L===z.id))),{deletedNodes:O,deletedEdges:I}},screenToFlowPosition:(H,S={snapToGrid:!0})=>{const O=ue(y);if(!O)return H;const I=S.snapToGrid?ue(l):!1,{x:A,y:z,zoom:L}=ue(s),{x:W,y:K}=O.getBoundingClientRect(),M={x:H.x-W,y:H.y-K};return Kl(M,[A,z,L],I!==null,I||[1,1])},flowToScreenPosition:H=>{const S=ue(y);if(!S)return H;const{x:O,y:I,zoom:A}=ue(s),{x:z,y:L}=S.getBoundingClientRect(),W=jh(H,[O,I,A]);return{x:W.x+z,y:W.y+L}},toObject:()=>({nodes:ue(g).map(H=>({...H,position:{...H.position},data:{...H.data}})),edges:ue(m).map(H=>({...H})),viewport:{...ue(s)}}),updateNode:w,updateNodeData:(H,S,O)=>{w(H,I=>{const A=typeof S=="function"?S(I):S;return O!=null&&O.replace?{...I,data:A}:{...I,data:{...I.data,...A}}})},viewport:s}}function Zd(t,e){const n=[];for(const i of e){const l=t.get(i);l&&n.push(l)}return n}function K8(){const{domNode:t,updateNodeDimensions:e}=dt();return i=>{const l=Array.isArray(i)?i:[i],s=new Map;l.forEach(u=>{var a;const f=(a=ue(t))==null?void 0:a.querySelector(`.svelte-flow__node[data-id="${u}"]`);f&&s.set(u,{id:u,nodeElement:f,forceUpdate:!0})}),requestAnimationFrame(()=>e(s))}}function U8(){const{connection:t}=dt();return t}function q8(){const{nodes:t}=dt();return t}function E1(){const{edges:t}=dt();return t}var Hu={local:{},session:{}};function x8(t){return t==="local"?localStorage:sessionStorage}function uf(t,e,n){var i,l,s,u,f,a,d,h;const g=(i=void 0)!=null?i:JSON,m=(l=void 0)!=null?l:"local",y=(s=void 0)!=null?s:!0,b=(f=(u=void 0)!=null?u:void 0)!=null?f:A=>console.error(`Error when writing value from persisted store "${t}" to ${m}`,A),p=(a=void 0)!=null?a:(A,z)=>console.error(`Error when parsing ${A?'"'+A+'"':"value"} from persisted store "${t}"`,z),P=(d=void 0)!=null?d:A=>A,w=(h=void 0)!=null?h:A=>A,H=typeof window<"u"&&typeof document<"u",S=H?x8(m):null;function O(A,z){const L=w(z);try{S==null||S.setItem(A,g.stringify(L))}catch(W){b(W)}}function I(){function A(K){try{return g.parse(K)}catch(M){p(K,M)}}const z=S==null?void 0:S.getItem(t);if(z==null)return e;const L=A(z);return L==null?e:P(L)}if(!Hu[m][t]){const A=I(),z=Ie(A,K=>{if(H&&m=="local"&&y){const M=D=>{if(D.key===t&&D.newValue){let B;try{B=g.parse(D.newValue)}catch(V){p(D.newValue,V);return}const T=P(B);K(T)}};return window.addEventListener("storage",M),()=>window.removeEventListener("storage",M)}}),{subscribe:L,set:W}=z;Hu[m][t]={set(K){W(K),O(t,K)},update(K){return z.update(M=>{const D=K(M);return O(t,D),D})},reset(){this.set(e)},subscribe:L}}return Hu[m][t]}const In=[{id:crypto.randomUUID().toString(),type:"default",data:{label:"Patch",connection:"",inputs:[],outputs:["ethernet","sdi","audio","power"],group:!1},position:{x:0,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Canvas",inputs:["dante","dmx","ethernet","sdi","audio","midi","osc","power"],outputs:["dante","dmx","ethernet","sdi","audio","midi","osc"]},dragHandle:".drag-dots",position:{x:0,y:100}}],Gu=[{id:crypto.randomUUID().toString(),type:"connection",class:"",source:In[0].id,sourceHandle:"ethernet",target:In[1].id,targetHandle:"ethernet"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:In[0].id,sourceHandle:"sdi",target:In[1].id,targetHandle:"sdi"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:In[0].id,sourceHandle:"audio",target:In[1].id,targetHandle:"audio"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:In[0].id,sourceHandle:"power",target:In[1].id,targetHandle:"power"}],G8=1,kl=1,Z8={version:G8,theme:"dark"},zu=uf("preferences",Z8),ff={version:kl,uniqueFlow:[{}],title:"PatchCanvas",nodes:In,edges:Gu},Nn=uf("current",ff),J8={},Nu=uf("saves",J8);function Q8(t){let e,n,i,l,s,u,f,a;return{c(){e=_e("p"),e.textContent="Drag to the canvas!",n=Se(),i=_e("div"),l=_e("div"),l.textContent="node",s=Se(),u=_e("div"),u.textContent="group",C(e,"class","svelte-6g6phf"),C(l,"draggable",!0),C(l,"class","svelte-6g6phf"),C(u,"draggable",!0),C(u,"class","svelte-6g6phf"),C(i,"class","nodes svelte-6g6phf")},m(d,h){J(d,e,h),J(d,n,h),J(d,i,h),se(i,l),se(i,s),se(i,u),f||(a=[He(l,"dragstart",t[1]),He(u,"dragstart",t[2])],f=!0)},p:Te,i:Te,o:Te,d(d){d&&(Z(e),Z(n),Z(i)),f=!1,vt(a)}}}function j8(t){const e=(l,s)=>{if(!l.dataTransfer)return null;l.dataTransfer.setData("application/patchcanvasnode",s),l.dataTransfer.effectAllowed="move"};return[e,l=>e(l,JSON.stringify({inputs:[],outputs:[]})),l=>e(l,JSON.stringify({group:!0}))]}class $8 extends Ne{constructor(e){super(),ze(this,e,j8,Q8,Le,{})}}const e7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-audio-input-xlr"
	viewBox="0 -5 24 34"
	fill="currentColor"
	><path
		d="M12 4C16.41 4 20 7.59 20 12S16.41 20 12 20 4 16.41 4 12 7.59 4 12 4M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M13.5 16.5C13.5 15.67 12.83 15 12 15S10.5 15.67 10.5 16.5C10.5 17.33 11.17 18 12 18S13.5 17.33 13.5 16.5M9 12C9 11.17 8.33 10.5 7.5 10.5S6 11.17 6 12 6.67 13.5 7.5 13.5 9 12.83 9 12M18 12C18 11.17 17.33 10.5 16.5 10.5C15.67 10.5 15 11.17 15 12S15.67 13.5 16.5 13.5C17.33 13.5 18 12.83 18 12Z"
	/></svg
>
`,t7=`<svg
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	viewBox="350 -15 800 600"
	preserveAspectRatio="xMidYMid meet"
>
	<g
		transform="translate(0,576) scale(0.1,-0.1)"
		fill="currentColor"
		stroke="none"
	>
		<path
			d="M7125 4624 c-16 -2 -73 -9 -125 -15 -675 -76 -1339 -406 -1816 -902
-532 -551 -804 -1238 -804 -2029 l0 -78 214 0 213 0 6 203 c10 340 66 595 197
898 183 423 517 812 925 1079 141 92 417 228 570 280 295 101 591 150 908 150
l127 0 0 210 0 210 -192 -1 c-106 -1 -206 -4 -223 -5z"
		/>
		<path
			d="M7260 3773 c-786 -55 -1456 -474 -1795 -1125 -145 -279 -211 -536
-222 -870 l-6 -178 861 0 862 0 0 225 0 225 -631 0 -632 0 7 40 c12 73 67 233
116 335 189 392 539 697 976 848 92 32 272 77 309 77 13 0 15 -99 15 -875 l0
-875 210 0 210 0 0 1090 0 1090 -117 -2 c-65 -1 -138 -3 -163 -5z"
		/>
		<path
			d="M4380 1130 l0 -130 215 0 215 0 0 130 0 130 -215 0 -215 0 0 -130z"
		/>
		<path
			d="M5240 1130 l0 -130 1155 0 1155 0 0 130 0 130 -1155 0 -1155 0 0
-130z"
		/>
	</g>
</svg>
`,n7=`<svg fill="currentColor" viewBox="-2 -5 24 34" xmlns="http://www.w3.org/2000/svg"
	><title>lightbulb</title><path
		d="M12,2A7,7,0,0,0,8,14.74V17a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V14.74A7,7,0,0,0,12,2ZM9,21a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V20H9Z"
	/></svg
>
`,i7=`<svg
	viewBox="1 -3 24 28"
	id="Layer_1"
	data-name="Layer 1"
	xmlns="http://www.w3.org/2000/svg"
	><defs
		><style>
			.cls-1 {
				fill: none;
				stroke: currentColor;
				stroke-miterlimit: 10;
				stroke-width: 1.91px;
			}
		</style></defs
	><polygon
		class="cls-1"
		points="5.32 6.27 5.32 13.91 7.23 13.91 7.23 15.82 10.09 15.82 10.09 17.73 13.91 17.73 13.91 15.82 16.77 15.82 16.77 13.91 18.68 13.91 18.68 6.27 5.32 6.27"
	/><line class="cls-1" x1="8.18" y1="9.14" x2="8.18" y2="6.27" /><line
		class="cls-1"
		x1="12"
		y1="9.14"
		x2="12"
		y2="6.27"
	/><line class="cls-1" x1="15.82" y1="9.14" x2="15.82" y2="6.27" /></svg
>
`,r7=`<svg
	viewBox="0 -5 24 34"
	xmlns="http://www.w3.org/2000/svg"
	fill="currentColor"
	><path
		d="m12 2a10 10 0 0 1 10 10 10 10 0 0 1 -10 10 10 10 0 0 1 -10-10 10 10 0 0 1 10-10m8.18 10c0-3.82-2.63-7.04-6.18-7.93v1.93h-4v-1.93c-3.55.89-6.18 4.11-6.18 7.93a8.18 8.18 0 0 0 8.18 8.18 8.18 8.18 0 0 0 8.18-8.18m-13.18-1.36a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36c-.75 0-1.36-.61-1.36-1.36s.61-1.36 1.36-1.36m10 0a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36m-8.64 3.63a1.37 1.37 0 0 1 1.37 1.37c0 .75-.61 1.36-1.37 1.36a1.36 1.36 0 0 1 -1.36-1.36c0-.76.61-1.37 1.36-1.37m7.28 0c.75 0 1.36.61 1.36 1.37a1.36 1.36 0 0 1 -1.36 1.36c-.76 0-1.37-.61-1.37-1.36a1.37 1.37 0 0 1 1.37-1.37m-3.64 1.37a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36z"
	/></svg
>
`,o7=`<svg
  viewBox="-25 -128 512 750"
  xmlns="http://www.w3.org/2000/svg"
  fill="currentColor"
>
  <polygon
    points="385.128 118.178 359.868 137.822 451.732 255.944 359.813 374.18 385.076 393.82 492.268 255.94 385.128 118.178"
  />
  <polygon
    points="119.814 118.177 12.621 255.993 119.759 393.819 145.022 374.181 53.156 255.999 145.074 137.823 119.814 118.177"
  />
  <rect
    width="32"
    height="32"
    x="160"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="240"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="320"
    y="240"
  />
</svg>
`,l7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-power-plug-outline"
	viewBox="1 -4 24 30"
	fill="currentColor"
	><path
		d="M16 7V3H14V7H10V3H8V7C7 7 6 8 6 9V14.5L9.5 18V21H14.5V18L18 14.5V9C18 8 17 7 16 7M16 13.67L13.09 16.59L12.67 17H11.33L10.92 16.59L8 13.67V9.09C8 9.06 8.06 9 8.09 9H15.92C15.95 9 16 9.06 16 9.09V13.67Z"
	/></svg
>
`,s7=`<svg viewBox="-6 -16 54 80" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\r
  <title>output</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none" />\r
    </g>\r
    <g id="Layer_6" data-name="Layer 6">\r
      <g>\r
        <path\r
          d="M45.4,22.6l-7.9-8a2.1,2.1,0,0,0-2.7-.2,1.9,1.9,0,0,0-.2,3L39.2,22H16a2,2,0,0,0,0,4H39.2l-4.6,4.6a1.9,1.9,0,0,0,.2,3,2.1,2.1,0,0,0,2.7-.2l7.9-8A1.9,1.9,0,0,0,45.4,22.6Z"\r
        />\r
        <path\r
          d="M28,42H24A18,18,0,0,1,24,6h4a2,2,0,0,0,1.4-.6A2,2,0,0,0,30,4a2.4,2.4,0,0,0-.2-.9A2,2,0,0,0,28,2H23.8a22,22,0,0,0,.1,44H28a2,2,0,0,0,1.4-.6l.4-.5A2.4,2.4,0,0,0,30,44,2,2,0,0,0,28,42Z"\r
        />\r
      </g>\r
    </g>\r
  </g>\r
</svg>\r
`,Jd=["dante","dmx","sdi","ethernet","audio","midi","osc","power"],nn={dante:["red",1,t7],dmx:["dodgerblue",2,n7],sdi:["limegreen",3,s7],ethernet:["gold",4,i7],audio:["orange",5,e7],midi:["hotpink",6,r7],osc:["magenta",7,o7],power:["var(--font-colour)",8,l7]},so=Object.entries(nn);function u7(t,e){let n=Jd.indexOf(t),i=Jd.indexOf(e);return Math.sign(n-i)}const f7='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 103.38" fill="currentColor" style="enable-background:new 0 0 122.88 103.38" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"/></g></svg>';function Qd(t,e,n){const i=t.slice();return i[16]=e[n][0],i[17]=e[n][1],i}function jd(t){let e,n,i=t[17][2]+"",l,s,u,f,a;function d(){return t[9](t[16])}function h(){return t[10](t[16])}function g(...m){return t[11](t[16],...m)}return{c(){e=_e("div"),n=_e("div"),l=Se(),s=tt(t[16]),u=Se(),C(n,"class","icon"),C(e,"class","protocol svelte-16ekx3j"),Be(e,"--protocol",t[17][0]),C(e,"draggable",!0)},m(m,y){J(m,e,y),se(e,n),n.innerHTML=i,se(e,l),se(e,s),se(e,u),f||(a=[He(e,"mouseenter",d),He(e,"mouseleave",h),He(e,"dragstart",g),He(e,"dragend",t[8])],f=!0)},p(m,y){t=m},d(m){m&&Z(e),f=!1,vt(a)}}}function a7(t){let e,n,i,l,s,u,f,a,d,h=Ct(so),g=[];for(let m=0;m<h.length;m+=1)g[m]=jd(Qd(t,h,m));return{c(){e=_e("p"),e.textContent="Protocols",n=Se(),i=_e("div");for(let m=0;m<g.length;m+=1)g[m].c();l=Se(),s=_e("div"),u=new $w(!1),f=tt(" erase"),C(e,"class","svelte-16ekx3j"),C(i,"class","protocols svelte-16ekx3j"),u.a=f,C(s,"class","eraser svelte-16ekx3j"),C(s,"draggable",!0)},m(m,y){J(m,e,y),J(m,n,y),J(m,i,y);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(i,null);J(m,l,y),J(m,s,y),u.m(f7,s),se(s,f),t[12](s),a||(d=[He(s,"mouseenter",t[2]),He(s,"mouseleave",t[3]),He(s,"dragstart",t[13]),He(s,"dragend",t[8])],a=!0)},p(m,[y]){if(y&368){h=Ct(so);let b;for(b=0;b<h.length;b+=1){const p=Qd(m,h,b);g[b]?g[b].p(p,y):(g[b]=jd(p),g[b].c(),g[b].m(i,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=h.length}},i:Te,o:Te,d(m){m&&(Z(e),Z(n),Z(i),Z(l),Z(s)),mh(g,m),t[12](null),a=!1,vt(d)}}}function c7(t,e,n){let i;const l=E1();he(t,l,S=>n(15,i=S));function s(){for(let S of i)S.class+="fade-out";l.set(i);for(let S of document.querySelectorAll(".svelte-flow__node .label"))S.classList.add("fade-out");for(let S of document.querySelectorAll(".svelte-flow__handle"))S.classList.add("highlight")}function u(){var S;for(let O of i)O.class=(S=O.class)==null?void 0:S.replace("fade-out","");l.set(i);for(let O of document.querySelectorAll(".svelte-flow__node .label"))O.classList.remove("fade-out");for(let O of document.querySelectorAll(".svelte-flow__handle"))O.classList.remove("highlight")}function f(S){for(let O of i)O.sourceHandle===S?O.class+="highlight":O.class+="fade-out";l.set(i);for(let O of document.querySelectorAll(".svelte-flow__handle"))O.getAttribute("data-handleid")===S?O.classList.add("highlight"):O.classList.add("fade-out")}function a(S){var O,I;S=S;for(let A of i)A.sourceHandle===S?A.class=(O=A.class)==null?void 0:O.replace("highlight",""):A.class=(I=A.class)==null?void 0:I.replace("fade-out","");l.set(i);for(let A of document.querySelectorAll(".svelte-flow__handle"))A.getAttribute("data-handleid")===S?A.classList.remove("highlight"):A.classList.remove("fade-out")}let d;const h=(S,O)=>{if(!S.dataTransfer)return null;S.dataTransfer.setData(`patchcanvasprotocol/${O}`,""),S.dataTransfer.effectAllowed="move",d=S.target.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",d.style.setProperty("--connection",nn[O][0]),document.body.appendChild(d),S.dataTransfer.setDragImage(d,-16,0)};let g;const m=S=>{if(!S.dataTransfer)return null;S.dataTransfer.setData("application/patchcanvaseraser",""),S.dataTransfer.effectAllowed="move",d=g.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",document.body.appendChild(d),S.dataTransfer.setDragImage(d,-16,0)},y=()=>{d.remove()},b=S=>f(S),p=S=>a(S),P=(S,O)=>h(O,S);function w(S){En[S?"unshift":"push"](()=>{g=S,n(0,g)})}return[g,l,s,u,f,a,h,m,y,b,p,P,w,S=>m(S)]}class d7 extends Ne{constructor(e){super(),ze(this,e,c7,a7,Le,{})}}function h7(t){let e,n,i=t[1].title+"",l,s,u,f,a,d,h,g,m,y;return{c(){e=_e("div"),n=_e("h1"),l=tt(i),s=Se(),u=_e("button"),u.textContent="Rename",f=Se(),a=_e("div"),d=_e("button"),d.textContent="Canvases",h=Se(),g=_e("button"),g.textContent="Save",C(e,"class","title svelte-esxq2s"),C(a,"class","buttons svelte-esxq2s")},m(b,p){J(b,e,p),se(e,n),se(n,l),se(e,s),se(e,u),J(b,f,p),J(b,a,p),se(a,d),se(a,h),se(a,g),m||(y=[He(u,"click",t[2]),He(d,"click",t[3]),He(g,"click",t[4])],m=!0)},p(b,[p]){p&2&&i!==(i=b[1].title+"")&&Zt(l,i)},i:Te,o:Te,d(b){b&&(Z(e),Z(f),Z(a)),m=!1,vt(y)}}}function g7(t,e,n){let i;he(t,Nn,a=>n(1,i=a));let{showCanvases:l}=e;function s(){let a=prompt(void 0,i.title);a!==null&&Cn(Nn,i.title=a,i)}const u=()=>n(0,l=!l),f=()=>O7();return t.$$set=a=>{"showCanvases"in a&&n(0,l=a.showCanvases)},[l,i,s,u,f]}class m7 extends Ne{constructor(e){super(),ze(this,e,g7,h7,Le,{showCanvases:0})}}var Kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xl={};Object.defineProperty(xl,"__esModule",{value:!0});function A1(t,e){var n=document.createElement("a");n.href=e,n.download=t,n.click()}xl.downloadUrl=A1;function M1(t,e){var n=URL.createObjectURL(e);A1(t,n),URL.revokeObjectURL(n)}xl.downloadBlob=M1;function y7(t,e){M1(t,new Blob([e],{type:"octet/stream"}))}var w7=xl.downloadText=y7;function $d(t,e,n){const i=t.slice();return i[16]=e[n][0],i[17]=e[n][1],i}function eh(t){let e;return{c(){e=_e("p"),e.innerHTML="No canvases saved<br/>(on this browser)",C(e,"class","svelte-1qlll5m")},m(n,i){J(n,e,i)},d(n){n&&Z(e)}}}function th(t,e){let n,i,l,s=e[17].title+"",u,f,a,d,h=e[17].version+"",g,m,y,b,p=e[17].nodes.length+"",P,w,H=e[17].edges.length+"",S,O,I,A,z,L,W,K,M,D,B,T;function V(){return e[13](e[17])}function Y(){return e[14](e[17])}function G(){return e[15](e[16])}return{key:t,first:null,c(){n=_e("div"),i=_e("div"),l=_e("span"),u=tt(s),f=tt(""),a=_e("span"),d=tt("(v"),g=tt(h),m=tt(")"),y=Se(),b=_e("div"),P=tt(p),w=tt(" nodes, "),S=tt(H),O=tt(" patches"),I=Se(),A=_e("button"),A.textContent="Load",z=Se(),L=_e("button"),L.textContent="Export",W=Se(),K=_e("button"),K.textContent="Delete",M=Se(),C(l,"class","name"),C(a,"class","version"),C(i,"class","title"),C(b,"class","contents"),C(n,"class",D="save "+(e[16]===e[5].title?"current":"")+" svelte-1qlll5m"),this.first=n},m(x,ee){J(x,n,ee),se(n,i),se(i,l),se(l,u),se(i,f),se(i,a),se(a,d),se(a,g),se(a,m),se(n,y),se(n,b),se(b,P),se(b,w),se(b,S),se(b,O),se(n,I),se(n,A),se(n,z),se(n,L),se(n,W),se(n,K),se(n,M),B||(T=[He(A,"click",V),He(L,"click",Y),He(K,"click",G)],B=!0)},p(x,ee){e=x,ee&16&&s!==(s=e[17].title+"")&&Zt(u,s),ee&16&&h!==(h=e[17].version+"")&&Zt(g,h),ee&16&&p!==(p=e[17].nodes.length+"")&&Zt(P,p),ee&16&&H!==(H=e[17].edges.length+"")&&Zt(S,H),ee&48&&D!==(D="save "+(e[16]===e[5].title?"current":"")+" svelte-1qlll5m")&&C(n,"class",D)},d(x){x&&Z(n),B=!1,vt(T)}}}function b7(t){let e,n,i,l,s,u,f,a,d,h,g,m,y,b,p,P,w,H=t[5].title+"",S,O,I,A,z=t[5].version+"",L,W,K,M,D=t[5].nodes.length+"",B,T,V=t[5].edges.length+"",Y,G,x,ee,ae,ce,$,be,Me,Ae,R=Object.keys(t[4]).length===0,ge,me=[],oe=new Map,le,Ye,Ue=R&&eh(),et=Ct(Object.entries(t[4]));const rt=Pe=>Pe[16];for(let Pe=0;Pe<et.length;Pe+=1){let Je=$d(t,et,Pe),ut=rt(Je);oe.set(ut,me[Pe]=th(ut,Je))}return{c(){e=_e("h1"),e.textContent="Canvases",n=Se(),i=_e("div"),l=_e("button"),l.textContent="Back",s=Se(),u=_e("button"),u.textContent="New",f=Se(),a=_e("button"),d=tt(`Import
		`),h=_e("input"),g=Se(),m=_e("h2"),m.textContent="Loaded",y=Se(),b=_e("div"),p=_e("div"),P=_e("div"),w=_e("span"),S=tt(H),O=tt(""),I=_e("span"),A=tt("(v"),L=tt(z),W=tt(")"),K=Se(),M=_e("div"),B=tt(D),T=tt(" nodes, "),Y=tt(V),G=tt(" patches"),x=Se(),ee=_e("button"),ee.textContent="Save",ae=Se(),ce=_e("button"),ce.textContent="Export",$=Se(),be=_e("h2"),be.textContent="Saved",Me=Se(),Ae=_e("div"),Ue&&Ue.c(),ge=Se();for(let Pe=0;Pe<me.length;Pe+=1)me[Pe].c();C(e,"class","svelte-1qlll5m"),C(h,"type","file"),C(h,"accept",".patch"),C(i,"class","buttons svelte-1qlll5m"),C(m,"class","svelte-1qlll5m"),C(w,"class","name"),C(I,"class","version"),C(P,"class","title"),C(M,"class","contents"),C(p,"class","save current svelte-1qlll5m"),C(b,"class","loaded"),C(be,"class","svelte-1qlll5m"),C(Ae,"class","saves svelte-1qlll5m")},m(Pe,Je){J(Pe,e,Je),J(Pe,n,Je),J(Pe,i,Je),se(i,l),se(i,s),se(i,u),se(i,f),se(i,a),se(a,d),se(a,h),J(Pe,g,Je),J(Pe,m,Je),J(Pe,y,Je),J(Pe,b,Je),se(b,p),se(p,P),se(P,w),se(w,S),se(P,O),se(P,I),se(I,A),se(I,L),se(I,W),se(p,K),se(p,M),se(M,B),se(M,T),se(M,Y),se(M,G),se(p,x),se(p,ee),se(p,ae),se(p,ce),J(Pe,$,Je),J(Pe,be,Je),J(Pe,Me,Je),J(Pe,Ae,Je),Ue&&Ue.m(Ae,null),se(Ae,ge);for(let ut=0;ut<me.length;ut+=1)me[ut]&&me[ut].m(Ae,null);le||(Ye=[He(l,"click",t[9]),He(u,"click",P1),He(h,"change",t[10]),He(h,"change",t[6]),He(ee,"click",t[11]),He(ce,"click",t[12])],le=!0)},p(Pe,[Je]){Je&32&&H!==(H=Pe[5].title+"")&&Zt(S,H),Je&32&&z!==(z=Pe[5].version+"")&&Zt(L,z),Je&32&&D!==(D=Pe[5].nodes.length+"")&&Zt(B,D),Je&32&&V!==(V=Pe[5].edges.length+"")&&Zt(Y,V),Je&16&&(R=Object.keys(Pe[4]).length===0),R?Ue||(Ue=eh(),Ue.c(),Ue.m(Ae,ge)):Ue&&(Ue.d(1),Ue=null),Je&434&&(et=Ct(Object.entries(Pe[4])),me=Ei(me,Je,rt,1,Pe,et,oe,Ae,ob,th,null,$d))},i:Te,o:Te,d(Pe){Pe&&(Z(e),Z(n),Z(i),Z(g),Z(m),Z(y),Z(b),Z($),Z(be),Z(Me),Z(Ae)),Ue&&Ue.d();for(let Je=0;Je<me.length;Je+=1)me[Je].d();le=!1,vt(Ye)}}}function v7(t,e,n){let i,l;he(t,Nu,S=>n(4,i=S)),he(t,Nn,S=>n(5,l=S));let{showCanvases:s}=e,u;function f(){if(!u[0])return;let S=new FileReader;S.readAsText(u[0]),S.onload=O=>{var A;let I=JSON.parse((A=O.target)==null?void 0:A.result);a(I)}}function a(S){Cn(Nn,l=S,l),Cn(Nn,l.uniqueFlow=[{}],l)}function d(S){w7(l.title+".patch",JSON.stringify(S))}function h(S){Cn(Nu,i[S.title]=JSON.parse(JSON.stringify(S)),i)}function g(S){delete i[S],Nu.set(i)}const m=()=>n(0,s=!s);function y(){u=this.files,n(3,u)}const b=()=>h(l),p=()=>d(l),P=S=>a(S),w=S=>d(S),H=S=>g(S);return t.$$set=S=>{"showCanvases"in S&&n(0,s=S.showCanvases)},[s,a,h,u,i,l,f,d,g,m,y,b,p,P,w,H]}class p7 extends Ne{constructor(e){super(),ze(this,e,v7,b7,Le,{showCanvases:0,load:1,store:2})}get load(){return this.$$.ctx[1]}get store(){return this.$$.ctx[2]}}function S7(t,e,n){const i=t.slice();return i[0]=e[n][0],i[1]=e[n][1],i}function k7(t){let e,n,i=t[1][2]+"",l,s,u;return{c(){e=_e("div"),n=_e("div"),l=Se(),s=tt(t[0]),u=Se(),C(n,"class","icon"),C(e,"class","protocol svelte-1d6dozh"),Be(e,"--protocol",t[1][0])},m(f,a){J(f,e,a),se(e,n),n.innerHTML=i,se(e,l),se(e,s),se(e,u)},p:Te,d(f){f&&Z(e)}}}function C7(t){let e,n,i,l=Ct(so),s=[];for(let u=0;u<l.length;u+=1)s[u]=k7(S7(t,l,u));return{c(){e=_e("p"),e.textContent="Key",n=Se(),i=_e("div");for(let u=0;u<s.length;u+=1)s[u].c();C(e,"class","svelte-1d6dozh"),C(i,"class","protocols svelte-1d6dozh")},m(u,f){J(u,e,f),J(u,n,f),J(u,i,f);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,null)},p:Te,i:Te,o:Te,d(u){u&&(Z(e),Z(n),Z(i)),mh(s,u)}}}class E7 extends Ne{constructor(e){super(),ze(this,e,null,C7,Le,{})}}function A7(t){let e,n,i,l,s,u,f,a,d,h,g,m;function y(p){t[1](p)}let b={};return t[0]!==void 0&&(b.showCanvases=t[0]),i=new m7({props:b}),En.push(()=>wh(i,"showCanvases",y)),f=new $8({}),h=new d7({}),{c(){e=_e("aside"),n=_e("div"),ke(i.$$.fragment),s=Se(),u=_e("div"),ke(f.$$.fragment),a=Se(),d=_e("div"),ke(h.$$.fragment),C(d,"class","rotate svelte-mesmce"),C(e,"class",g=dr(t[0]?"hide":"")+" svelte-mesmce")},m(p,P){J(p,e,P),se(e,n),ve(i,n,null),se(e,s),se(e,u),ve(f,u,null),se(e,a),se(e,d),ve(h,d,null),m=!0},p(p,P){const w={};!l&&P&1&&(l=!0,w.showCanvases=p[0],_h(()=>l=!1)),i.$set(w),(!m||P&1&&g!==(g=dr(p[0]?"hide":"")+" svelte-mesmce"))&&C(e,"class",g)},i(p){m||(j(i.$$.fragment,p),j(f.$$.fragment,p),j(h.$$.fragment,p),m=!0)},o(p){te(i.$$.fragment,p),te(f.$$.fragment,p),te(h.$$.fragment,p),m=!1},d(p){p&&Z(e),pe(i),pe(f),pe(h)}}}function M7(t){let e,n;return e=new E7({}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function P7(t){let e,n,i,l,s,u;function f(d){t[2](d)}let a={};return t[0]!==void 0&&(a.showCanvases=t[0]),i=new p7({props:a}),En.push(()=>wh(i,"showCanvases",f)),t[3](i),{c(){e=_e("aside"),n=_e("div"),ke(i.$$.fragment),C(n,"class","scroller"),C(e,"class",s=dr(t[0]?"show":"")+" svelte-mesmce")},m(d,h){J(d,e,h),se(e,n),ve(i,n,null),u=!0},p(d,h){const g={};!l&&h&1&&(l=!0,g.showCanvases=d[0],_h(()=>l=!1)),i.$set(g),(!u||h&1&&s!==(s=dr(d[0]?"show":"")+" svelte-mesmce"))&&C(e,"class",s)},i(d){u||(j(i.$$.fragment,d),u=!0)},o(d){te(i.$$.fragment,d),u=!1},d(d){d&&Z(e),t[3](null),pe(i)}}}function T7(t){let e,n,i,l,s,u;return e=new Bi({props:{position:"top-left",class:"main",$$slots:{default:[A7]},$$scope:{ctx:t}}}),i=new Bi({props:{position:"top-left",class:"key",$$slots:{default:[M7]},$$scope:{ctx:t}}}),s=new Bi({props:{position:"top-left",class:"saves",$$slots:{default:[P7]},$$scope:{ctx:t}}}),{c(){ke(e.$$.fragment),n=Se(),ke(i.$$.fragment),l=Se(),ke(s.$$.fragment)},m(f,a){ve(e,f,a),J(f,n,a),ve(i,f,a),J(f,l,a),ve(s,f,a),u=!0},p(f,[a]){const d={};a&17&&(d.$$scope={dirty:a,ctx:f}),e.$set(d);const h={};a&16&&(h.$$scope={dirty:a,ctx:f}),i.$set(h);const g={};a&17&&(g.$$scope={dirty:a,ctx:f}),s.$set(g)},i(f){u||(j(e.$$.fragment,f),j(i.$$.fragment,f),j(s.$$.fragment,f),u=!0)},o(f){te(e.$$.fragment,f),te(i.$$.fragment,f),te(s.$$.fragment,f),u=!1},d(f){f&&(Z(n),Z(l)),pe(e,f),pe(i,f),pe(s,f)}}}let uo;const P1=function(){uo&&uo.load(ff)},O7=function(){uo&&uo.store(ff)};function I7(t,e,n){let i=!1;function l(f){i=f,n(0,i)}function s(f){i=f,n(0,i)}function u(f){En[f?"unshift":"push"](()=>{uo=f})}return[i,l,s,u]}class H7 extends Ne{constructor(e){super(),ze(this,e,I7,T7,Le,{})}}function z7(t){let e,n;return e=new _o({props:{path:t[6],labelX:t[5],labelY:t[4],markerStart:t[2],markerEnd:t[0],style:t[1],class:t[3]}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&64&&(s.path=i[6]),l&32&&(s.labelX=i[5]),l&16&&(s.labelY=i[4]),l&4&&(s.markerStart=i[2]),l&1&&(s.markerEnd=i[0]),l&2&&(s.style=i[1]),l&8&&(s.class=i[3]),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function N7(t,e,n){let i,l,s,{id:u}=e,{type:f}=e,{source:a}=e,{sourceX:d}=e,{sourceY:h}=e,{sourcePosition:g}=e,{sourceHandleId:m=""}=e,{target:y}=e,{targetX:b}=e,{targetY:p}=e,{targetPosition:P}=e,{targetHandleId:w=""}=e,{markerStart:H=void 0}=e,{markerEnd:S=void 0}=e,{animated:O=!1}=e,{selected:I=!1}=e,{label:A=""}=e,{labelStyle:z=""}=e,{data:L=void 0}=e,{interactionWidth:W=void 0}=e,{style:K=""}=e,{edgeClass:M=""}=e;return E1(),t.$$set=D=>{"id"in D&&n(7,u=D.id),"type"in D&&n(8,f=D.type),"source"in D&&n(9,a=D.source),"sourceX"in D&&n(10,d=D.sourceX),"sourceY"in D&&n(11,h=D.sourceY),"sourcePosition"in D&&n(12,g=D.sourcePosition),"sourceHandleId"in D&&n(13,m=D.sourceHandleId),"target"in D&&n(14,y=D.target),"targetX"in D&&n(15,b=D.targetX),"targetY"in D&&n(16,p=D.targetY),"targetPosition"in D&&n(17,P=D.targetPosition),"targetHandleId"in D&&n(18,w=D.targetHandleId),"markerStart"in D&&n(2,H=D.markerStart),"markerEnd"in D&&n(0,S=D.markerEnd),"animated"in D&&n(19,O=D.animated),"selected"in D&&n(20,I=D.selected),"label"in D&&n(21,A=D.label),"labelStyle"in D&&n(22,z=D.labelStyle),"data"in D&&n(23,L=D.data),"interactionWidth"in D&&n(24,W=D.interactionWidth),"style"in D&&n(1,K=D.style),"edgeClass"in D&&n(3,M=D.edgeClass)},t.$$.update=()=>{if(t.$$.dirty&236544&&n(6,[i,l,s]=vr({sourceX:d,sourceY:h,sourcePosition:g,targetX:b,targetY:p,targetPosition:P}),i,(n(5,l),n(10,d),n(11,h),n(12,g),n(15,b),n(16,p),n(17,P)),(n(4,s),n(10,d),n(11,h),n(12,g),n(15,b),n(16,p),n(17,P))),t.$$.dirty&8192){let D=nn[m??""][0];n(1,K=`stroke: ${D};`),n(0,S=`url(#${m})`)}},[S,K,H,M,s,l,i,u,f,a,d,h,g,m,y,b,p,P,w,O,I,A,z,L,W]}class L7 extends Ne{constructor(e){super(),ze(this,e,N7,z7,Le,{id:7,type:8,source:9,sourceX:10,sourceY:11,sourcePosition:12,sourceHandleId:13,target:14,targetX:15,targetY:16,targetPosition:17,targetHandleId:18,markerStart:2,markerEnd:0,animated:19,selected:20,label:21,labelStyle:22,data:23,interactionWidth:24,style:1,edgeClass:3})}}const R7=`<svg fill="currentColor" viewBox="4 2 8 12" xmlns="http://www.w3.org/2000/svg"\r
	><path\r
		fill-rule="evenodd"\r
		d="M7.375 3.67c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm0 8.66c0-.646-.56-1.17-1.25-1.17s-1.25.524-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17zm-1.25-5.5c.69 0 1.25.525 1.25 1.17 0 .645-.56 1.17-1.25 1.17S4.875 8.645 4.875 8c0-.645.56-1.17 1.25-1.17zm5-3.16c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm-1.25 7.49c.69 0 1.25.524 1.25 1.17 0 .645-.56 1.17-1.25 1.17s-1.25-.525-1.25-1.17c0-.646.56-1.17 1.25-1.17zM11.125 8c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17z"\r
	/></svg\r
>\r
`;function D7(t){let e,n;return e=new lo({props:{id:t[0],type:t[1]==="input"?"target":"source",position:t[1]==="input"?Ke.Top:Ke.Bottom,style:t[2]+`background: ${nn[t[0]][0]};
		left: calc( ${t[1]==="input"?"":"12px + "} (${nn[t[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`,isConnectable:!0}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&1&&(s.id=i[0]),l&2&&(s.type=i[1]==="input"?"target":"source"),l&2&&(s.position=i[1]==="input"?Ke.Top:Ke.Bottom),l&7&&(s.style=i[2]+`background: ${nn[i[0]][0]};
		left: calc( ${i[1]==="input"?"":"12px + "} (${nn[i[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function W7(t,e,n){let{id:i}=e,{io:l}=e,{style:s=""}=e,{drop:u}=e;return addEventListener("drop",u),t.$$set=f=>{"id"in f&&n(0,i=f.id),"io"in f&&n(1,l=f.io),"style"in f&&n(2,s=f.style),"drop"in f&&n(3,u=f.drop)},[i,l,s,u]}class T1 extends Ne{constructor(e){super(),ze(this,e,W7,D7,Le,{id:0,io:1,style:2,drop:3})}}function nh(t,e,n){const i=t.slice();return i[39]=e[n],i}function ih(t,e,n){const i=t.slice();return i[39]=e[n],i}function rh(t){let e,n,i,l,s,u,f;return{c(){e=_e("div"),n=Se(),i=_e("div"),l=Se(),s=_e("div"),C(e,"class","drop-target inputs svelte-zmau3w"),C(i,"class","drop-target outputs svelte-zmau3w"),C(s,"class","hover svelte-zmau3w")},m(a,d){J(a,e,d),t[24](e),J(a,n,d),J(a,i,d),t[28](i),J(a,l,d),J(a,s,d),u||(f=[He(e,"dragenter",t[25]),He(e,"dragleave",t[26]),He(e,"drop",t[27]),He(i,"dragenter",t[29]),He(i,"dragleave",t[30]),He(i,"drop",t[31])],u=!0)},p:Te,d(a){a&&(Z(e),Z(n),Z(i),Z(l),Z(s)),t[24](null),t[28](null),u=!1,vt(f)}}}function oh(t){let e,n;return e=new F8({props:{minWidth:200,minHeight:105,style:"background: transparent; border: none;",$$slots:{default:[B7]},$$scope:{ctx:t}}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function B7(t){let e,n,i,l,s,u;return{c(){e=Fe("svg"),n=Fe("path"),i=Fe("polyline"),l=Fe("line"),s=Fe("polyline"),u=Fe("line"),C(n,"stroke","none"),C(n,"d","M0 0h24v24H0z"),C(n,"fill","none"),C(i,"points","16 20 20 20 20 16"),C(l,"x1","14"),C(l,"y1","14"),C(l,"x2","20"),C(l,"y2","20"),C(s,"points","8 4 4 4 4 8"),C(u,"x1","4"),C(u,"y1","4"),C(u,"x2","10"),C(u,"y2","10"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"width","15"),C(e,"height","15"),C(e,"viewBox","0 0 24 24"),C(e,"stroke-width","2"),C(e,"stroke","var(--font-colour)"),C(e,"fill","none"),C(e,"stroke-linecap","round"),C(e,"stroke-linejoin","round"),Be(e,"position","absolute"),Be(e,"right","0.5em"),Be(e,"bottom","0.5em")},m(f,a){J(f,e,a),se(e,n),se(e,i),se(e,l),se(e,s),se(e,u)},p:Te,d(f){f&&Z(e)}}}function lh(t,e){let n,i,l;return i=new T1({props:{id:e[39],io:"input",drop:e[7]}}),{key:t,first:null,c(){n=bt(),ke(i.$$.fragment),this.first=n},m(s,u){J(s,n,u),ve(i,s,u),l=!0},p(s,u){e=s;const f={};u[0]&1&&(f.id=e[39]),i.$set(f)},i(s){l||(j(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function sh(t,e){let n,i,l;return i=new T1({props:{id:e[39],io:"output",drop:e[7]}}),{key:t,first:null,c(){n=bt(),ke(i.$$.fragment),this.first=n},m(s,u){J(s,n,u),ve(i,s,u),l=!0},p(s,u){e=s;const f={};u[0]&1&&(f.id=e[39]),i.$set(f)},i(s){l||(j(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function X7(t){let e,n,i,l,s=t[0].label+"",u,f,a,d,h,g,m,y=[],b=new Map,p,P=[],w=new Map,H,S,O,I,A=!t[0].group&&rh(t),z=t[0].group&&oh(t),L=Ct(t[0].inputs);const W=D=>D[39];for(let D=0;D<L.length;D+=1){let B=ih(t,L,D),T=W(B);b.set(T,y[D]=lh(T,B))}let K=Ct(t[0].outputs);const M=D=>D[39];for(let D=0;D<K.length;D+=1){let B=nh(t,K,D),T=M(B);w.set(T,P[D]=sh(T,B))}return{c(){A&&A.c(),e=Se(),n=_e("div"),i=_e("span"),l=Se(),u=tt(s),f=Se(),a=_e("button"),a.textContent="",d=Se(),h=_e("button"),h.textContent="",g=Se(),z&&z.c(),m=Se();for(let D=0;D<y.length;D+=1)y[D].c();p=Se();for(let D=0;D<P.length;D+=1)P[D].c();H=bt(),C(i,"class","drag-handle drag-dots svelte-zmau3w"),C(a,"class","reverse svelte-zmau3w"),C(h,"class","svelte-zmau3w"),C(n,"class","label svelte-zmau3w")},m(D,B){A&&A.m(D,B),J(D,e,B),J(D,n,B),se(n,i),i.innerHTML=R7,se(n,l),se(n,u),se(n,f),se(n,a),se(n,d),se(n,h),J(D,g,B),z&&z.m(D,B),J(D,m,B);for(let T=0;T<y.length;T+=1)y[T]&&y[T].m(D,B);J(D,p,B);for(let T=0;T<P.length;T+=1)P[T]&&P[T].m(D,B);J(D,H,B),S=!0,O||(I=[He(a,"click",t[32]),He(h,"click",t[33])],O=!0)},p(D,B){D[0].group?A&&(A.d(1),A=null):A?A.p(D,B):(A=rh(D),A.c(),A.m(e.parentNode,e)),(!S||B[0]&1)&&s!==(s=D[0].label+"")&&Zt(u,s),D[0].group?z?B[0]&1&&j(z,1):(z=oh(D),z.c(),j(z,1),z.m(m.parentNode,m)):z&&(yt(),te(z,1,1,()=>{z=null}),wt()),B[0]&129&&(L=Ct(D[0].inputs),yt(),y=Ei(y,B,W,1,D,L,b,p.parentNode,Xi,lh,p,ih),wt()),B[0]&129&&(K=Ct(D[0].outputs),yt(),P=Ei(P,B,M,1,D,K,w,H.parentNode,Xi,sh,H,nh),wt())},i(D){if(!S){j(z);for(let B=0;B<L.length;B+=1)j(y[B]);for(let B=0;B<K.length;B+=1)j(P[B]);S=!0}},o(D){te(z);for(let B=0;B<y.length;B+=1)te(y[B]);for(let B=0;B<P.length;B+=1)te(P[B]);S=!1},d(D){D&&(Z(e),Z(n),Z(g),Z(m),Z(p),Z(H)),A&&A.d(D),z&&z.d(D);for(let B=0;B<y.length;B+=1)y[B].d(D);for(let B=0;B<P.length;B+=1)P[B].d(D);O=!1,vt(I)}}}function yl(t,e){return!t.includes(e)}function Y7(t,e,n){let i;const l=q8();he(t,l,R=>n(34,i=R));let{id:s}=e,{data:u}=e,{dragHandle:f=void 0}=e,{type:a}=e,{isConnectable:d}=e,{selected:h=void 0}=e,{zIndex:g}=e,{positionAbsoluteX:m}=e,{positionAbsoluteY:y}=e,{width:b=void 0}=e,{height:p=void 0}=e,{dragging:P=!1}=e,{sourcePosition:w=void 0}=e,{targetPosition:H=void 0}=e,S=u,O,I;const A=(R,ge,me)=>{if(R.preventDefault(),R.stopPropagation(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasprotocol/")){const oe=R.dataTransfer.types[0].replace("patchcanvasprotocol/","");let le=!1;switch(ge){case"input":le=yl(S.inputs,oe);break;case"output":le=yl(S.outputs,oe);break}le?(T([...ge==="input"?S.inputs:S.outputs,oe],me),me.style.backgroundColor="green",R.dataTransfer.dropEffect="move"):(me.style.backgroundColor="red",me.style.backgroundImage="",R.dataTransfer.dropEffect="none")}},z=(R,ge)=>{R.preventDefault(),ge.style.backgroundColor="",ge===O?T(S.inputs,O):T(S.outputs,I)},L=(R,ge,me)=>{if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasprotocol/")){const oe=R.dataTransfer.types[0].replace("patchcanvasprotocol/","");let le=!1;switch(ge){case"input":le=yl(S.inputs,oe);break;case"output":le=yl(S.outputs,oe);break}le&&M(oe,ge),me.style.backgroundColor="",T(ge==="input"?S.inputs:S.outputs,me)}},W=R=>{var ge,me,oe;if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0]==="application/patchcanvaseraser"){if(((ge=R.target.attributes.getNamedItem("data-nodeid"))==null?void 0:ge.value)!==s)return null;let le=(me=R.target.attributes.getNamedItem("data-handleid"))==null?void 0:me.value,Ye=((oe=R.target.attributes.getNamedItem("data-handlepos"))==null?void 0:oe.value)==="top"?"input":"output";V(le,Ye),T(Ye==="input"?S.inputs:S.outputs,Ye==="input"?O:I)}},K=K8();function M(R,ge){switch(ge){case"input":S.inputs.push(R);break;case"output":S.outputs.push(R);break}n(0,S),K(s)}function D(){let R=prompt(`Rename '${S.label}' to:`,S.label);R!==null&&n(0,S.label=R,S)}function B(){window.confirm(`Actually delete ${S.label}?`)&&Cn(l,i=i.filter(ge=>ge.id!=s),i)}function T(R,ge){if(ge==null){setTimeout(T,0,R,ge);return}let me=[...R];me.sort(u7);let oe=[];oe.push("transparent 2%");for(const le in nn){let Ye="transparent";me.includes(le)&&(Ye=nn[le][0]);let Ue=nn[le][1];ge===I&&(Ue+=.75);let et=Ue*16/150*100;Ye+=` ${et}%`,oe.push(Ye)}oe.push("transparent"),ge.style.backgroundImage=`linear-gradient(to right, ${oe.join(", ")})`}setTimeout(()=>{T(S.inputs,O),T(S.outputs,I)},0);function V(R,ge){switch(ge){case"input":n(0,S.inputs=S.inputs.filter(me=>me!==R),S);break;case"output":n(0,S.outputs=S.outputs.filter(me=>me!==R),S);break}n(0,S),K(s)}function Y(R){En[R?"unshift":"push"](()=>{O=R,n(1,O)})}const G=R=>A(R,"input",O),x=R=>z(R,O),ee=R=>L(R,"input",O);function ae(R){En[R?"unshift":"push"](()=>{I=R,n(2,I)})}const ce=R=>A(R,"output",I),$=R=>z(R,I),be=R=>L(R,"output",I),Me=()=>D(),Ae=()=>B();return t.$$set=R=>{"id"in R&&n(10,s=R.id),"data"in R&&n(11,u=R.data),"dragHandle"in R&&n(12,f=R.dragHandle),"type"in R&&n(13,a=R.type),"isConnectable"in R&&n(14,d=R.isConnectable),"selected"in R&&n(15,h=R.selected),"zIndex"in R&&n(16,g=R.zIndex),"positionAbsoluteX"in R&&n(17,m=R.positionAbsoluteX),"positionAbsoluteY"in R&&n(18,y=R.positionAbsoluteY),"width"in R&&n(19,b=R.width),"height"in R&&n(20,p=R.height),"dragging"in R&&n(21,P=R.dragging),"sourcePosition"in R&&n(22,w=R.sourcePosition),"targetPosition"in R&&n(23,H=R.targetPosition)},[S,O,I,l,A,z,L,W,D,B,s,u,f,a,d,h,g,m,y,b,p,P,w,H,Y,G,x,ee,ae,ce,$,be,Me,Ae]}class F7 extends Ne{constructor(e){super(),ze(this,e,Y7,X7,Le,{id:10,data:11,dragHandle:12,type:13,isConnectable:14,selected:15,zIndex:16,positionAbsoluteX:17,positionAbsoluteY:18,width:19,height:20,dragging:21,sourcePosition:22,targetPosition:23},null,[-1,-1])}}function uh(t){let e,n,i,l;function s(a,d){var h,g;if(((h=a[0].startHandle)==null?void 0:h.type)=="target")return K7;if(((g=a[0].startHandle)==null?void 0:g.type)=="source")return V7}let u=s(t),f=u&&u(t);return{c(){f&&f.c(),e=Se(),n=Fe("circle"),C(n,"cx",i=t[0].targetX),C(n,"cy",l=t[0].targetY),C(n,"fill","var(--font-colour)"),C(n,"r",3),C(n,"stroke",nn[t[3]][0]??"var(--font-colour)"),C(n,"stroke-width",1.5)},m(a,d){f&&f.m(a,d),J(a,e,d),J(a,n,d)},p(a,d){u===(u=s(a))&&f?f.p(a,d):(f&&f.d(1),f=u&&u(a),f&&(f.c(),f.m(e.parentNode,e))),d&1&&i!==(i=a[0].targetX)&&C(n,"cx",i),d&1&&l!==(l=a[0].targetY)&&C(n,"cy",l)},d(a){a&&(Z(e),Z(n)),f&&f.d(a)}}}function V7(t){let e,n;return{c(){var i;e=Fe("path"),C(e,"fill","none"),C(e,"stroke-width",1.5),C(e,"class","animated"),C(e,"stroke",nn[t[3]][0]??"var(--font-colour)"),C(e,"d",t[1]),C(e,"marker-end",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,l){J(i,e,l)},p(i,l){var s;l&2&&C(e,"d",i[1]),l&1&&n!==(n="url(#"+((s=i[0].startHandle)==null?void 0:s.handleId)+"line)")&&C(e,"marker-end",n)},d(i){i&&Z(e)}}}function K7(t){let e,n;return{c(){var i;e=Fe("path"),C(e,"fill","none"),C(e,"stroke-width",1.5),C(e,"class","animated"),C(e,"stroke",nn[t[3]][0]??"var(--font-colour)"),C(e,"d",t[1]),C(e,"marker-start",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,l){J(i,e,l)},p(i,l){var s;l&2&&C(e,"d",i[1]),l&1&&n!==(n="url(#"+((s=i[0].startHandle)==null?void 0:s.handleId)+"line)")&&C(e,"marker-start",n)},d(i){i&&Z(e)}}}function U7(t){let e,n=t[0].path&&uh(t);return{c(){n&&n.c(),e=bt()},m(i,l){n&&n.m(i,l),J(i,e,l)},p(i,[l]){i[0].path?n?n.p(i,l):(n=uh(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Te,o:Te,d(i){i&&Z(e),n&&n.d(i)}}}function q7(t,e,n){var f;let i;const l=U8();he(t,l,a=>n(0,i=a));let s="",u=((f=i.startHandle)==null?void 0:f.handleId)??"";return t.$$.update=()=>{if(t.$$.dirty&1){let{sourceX:a,sourceY:d,sourcePosition:h,targetX:g,targetY:m,targetPosition:y}=i;n(1,[s]=vr({sourceX:a??0,sourceY:d??0,sourcePosition:h??Ke.Bottom,targetX:g??0,targetY:m??0,targetPosition:y??Ke.Top}),s)}},[i,s,l,u]}class x7 extends Ne{constructor(e){super(),ze(this,e,q7,U7,Le,{})}}function G7(t){let e,n,i,l,s,u,f;return{c(){e=Fe("svg"),n=Fe("defs"),i=Fe("marker"),l=Fe("polyline"),C(l,"stroke",t[0]),C(l,"stroke-linecap","round"),C(l,"stroke-linejoin","round"),C(l,"stroke-width",t[6]),C(l,"fill",t[0]),C(l,"points","-5,-4 0,0 -5,4 -5,-4"),C(i,"class","svelte-flow__arrowhead"),C(i,"id",t[1]),C(i,"markerWidth",s=`${t[2]}`),C(i,"markerHeight",u=`${t[3]}`),C(i,"viewBox","-10 -10 20 20"),C(i,"markerUnits",t[4]),C(i,"orient",t[5]),C(i,"refX",f=t[1].includes("line")?"4":"0"),C(i,"refY","0"),C(e,"class","svelte-1wqugfi")},m(a,d){J(a,e,d),se(e,n),se(n,i),se(i,l)},p(a,[d]){d&1&&C(l,"stroke",a[0]),d&64&&C(l,"stroke-width",a[6]),d&1&&C(l,"fill",a[0]),d&2&&C(i,"id",a[1]),d&4&&s!==(s=`${a[2]}`)&&C(i,"markerWidth",s),d&8&&u!==(u=`${a[3]}`)&&C(i,"markerHeight",u),d&16&&C(i,"markerUnits",a[4]),d&32&&C(i,"orient",a[5]),d&2&&f!==(f=a[1].includes("line")?"4":"0")&&C(i,"refX",f)},i:Te,o:Te,d(a){a&&Z(e)}}}function Z7(t,e,n){let{id:i}=e,{type:l}=e,{width:s=12.5}=e,{height:u=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(1,i=g.id),"type"in g&&n(7,l=g.type),"width"in g&&n(2,s=g.width),"height"in g&&n(3,u=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(0,d=g.color),"strokeWidth"in g&&n(6,h=g.strokeWidth)},t.$$.update=()=>{t.$$.dirty&2&&n(0,d=nn[i.replace("line","")??""][0])},[d,i,s,u,f,a,h,l]}class O1 extends Ne{constructor(e){super(),ze(this,e,Z7,G7,Le,{id:1,type:7,width:2,height:3,markerUnits:4,orient:5,color:0,strokeWidth:6})}}var Rl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Rl.exports;(function(t,e){(function(){var n,i="4.17.21",l=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,m=2,y=4,b=1,p=2,P=1,w=2,H=4,S=8,O=16,I=32,A=64,z=128,L=256,W=512,K=30,M="...",D=800,B=16,T=1,V=2,Y=3,G=1/0,x=9007199254740991,ee=17976931348623157e292,ae=NaN,ce=4294967295,$=ce-1,be=ce>>>1,Me=[["ary",z],["bind",P],["bindKey",w],["curry",S],["curryRight",O],["flip",W],["partial",I],["partialRight",A],["rearg",L]],Ae="[object Arguments]",R="[object Array]",ge="[object AsyncFunction]",me="[object Boolean]",oe="[object Date]",le="[object DOMException]",Ye="[object Error]",Ue="[object Function]",et="[object GeneratorFunction]",rt="[object Map]",Pe="[object Number]",Je="[object Null]",ut="[object Object]",rn="[object Promise]",hn="[object Proxy]",Ce="[object RegExp]",Et="[object Set]",Jt="[object String]",gn="[object Symbol]",de="[object Undefined]",Tt="[object WeakMap]",Ht="[object WeakSet]",ye="[object ArrayBuffer]",Dt="[object DataView]",Ot="[object Float32Array]",zt="[object Float64Array]",Rn="[object Int8Array]",Dn="[object Int16Array]",mn="[object Int32Array]",Wn="[object Uint8Array]",qn="[object Uint8ClampedArray]",xn="[object Uint16Array]",fi="[object Uint32Array]",ai=/\b__p \+= '';/g,ci=/\b(__p \+=) '' \+/g,Nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cr=/&(?:amp|lt|gt|quot|#39);/g,Fi=/[&<>"']/g,Gl=RegExp(Cr.source),Zl=RegExp(Fi.source),Jl=/<%-([\s\S]+?)%>/g,Ql=/<%([\s\S]+?)%>/g,yo=/<%=([\s\S]+?)%>/g,jl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$l=/^\w*$/,es=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Er=/[\\^$.*+?()[\]{}|]/g,ts=RegExp(Er.source),Ar=/^\s+/,ns=/\s/,is=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rs=/\{\n\/\* \[wrapped with (.+)\] \*/,os=/,? & /,ls=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ss=/[()=,{}\[\]\/\s]/,us=/\\(\\)?/g,fs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wo=/\w*$/,as=/^[-+]0x[0-9a-f]+$/i,q=/^0b[01]+$/i,I1=/^\[object .+?Constructor\]$/,H1=/^0o[0-7]+$/i,z1=/^(?:0|[1-9]\d*)$/,N1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bo=/($^)/,L1=/['\n\r\u2028\u2029\\]/g,vo="\\ud800-\\udfff",R1="\\u0300-\\u036f",D1="\\ufe20-\\ufe2f",W1="\\u20d0-\\u20ff",af=R1+D1+W1,cf="\\u2700-\\u27bf",df="a-z\\xdf-\\xf6\\xf8-\\xff",B1="\\xac\\xb1\\xd7\\xf7",X1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Y1="\\u2000-\\u206f",F1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hf="A-Z\\xc0-\\xd6\\xd8-\\xde",gf="\\ufe0e\\ufe0f",mf=B1+X1+Y1+F1,cs="[']",V1="["+vo+"]",_f="["+mf+"]",po="["+af+"]",yf="\\d+",K1="["+cf+"]",wf="["+df+"]",bf="[^"+vo+mf+yf+cf+df+hf+"]",ds="\\ud83c[\\udffb-\\udfff]",U1="(?:"+po+"|"+ds+")",vf="[^"+vo+"]",hs="(?:\\ud83c[\\udde6-\\uddff]){2}",gs="[\\ud800-\\udbff][\\udc00-\\udfff]",Vi="["+hf+"]",pf="\\u200d",Sf="(?:"+wf+"|"+bf+")",q1="(?:"+Vi+"|"+bf+")",kf="(?:"+cs+"(?:d|ll|m|re|s|t|ve))?",Cf="(?:"+cs+"(?:D|LL|M|RE|S|T|VE))?",Ef=U1+"?",Af="["+gf+"]?",x1="(?:"+pf+"(?:"+[vf,hs,gs].join("|")+")"+Af+Ef+")*",G1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Z1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mf=Af+Ef+x1,J1="(?:"+[K1,hs,gs].join("|")+")"+Mf,Q1="(?:"+[vf+po+"?",po,hs,gs,V1].join("|")+")",j1=RegExp(cs,"g"),$1=RegExp(po,"g"),ms=RegExp(ds+"(?="+ds+")|"+Q1+Mf,"g"),eg=RegExp([Vi+"?"+wf+"+"+kf+"(?="+[_f,Vi,"$"].join("|")+")",q1+"+"+Cf+"(?="+[_f,Vi+Sf,"$"].join("|")+")",Vi+"?"+Sf+"+"+kf,Vi+"+"+Cf,Z1,G1,yf,J1].join("|"),"g"),tg=RegExp("["+pf+vo+af+gf+"]"),ng=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ig=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rg=-1,ct={};ct[Ot]=ct[zt]=ct[Rn]=ct[Dn]=ct[mn]=ct[Wn]=ct[qn]=ct[xn]=ct[fi]=!0,ct[Ae]=ct[R]=ct[ye]=ct[me]=ct[Dt]=ct[oe]=ct[Ye]=ct[Ue]=ct[rt]=ct[Pe]=ct[ut]=ct[Ce]=ct[Et]=ct[Jt]=ct[Tt]=!1;var at={};at[Ae]=at[R]=at[ye]=at[Dt]=at[me]=at[oe]=at[Ot]=at[zt]=at[Rn]=at[Dn]=at[mn]=at[rt]=at[Pe]=at[ut]=at[Ce]=at[Et]=at[Jt]=at[gn]=at[Wn]=at[qn]=at[xn]=at[fi]=!0,at[Ye]=at[Ue]=at[Tt]=!1;var og={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},lg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ug={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fg=parseFloat,ag=parseInt,Pf=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,cg=typeof self=="object"&&self&&self.Object===Object&&self,Lt=Pf||cg||Function("return this")(),_s=e&&!e.nodeType&&e,Mi=_s&&!0&&t&&!t.nodeType&&t,Tf=Mi&&Mi.exports===_s,ys=Tf&&Pf.process,_n=function(){try{var F=Mi&&Mi.require&&Mi.require("util").types;return F||ys&&ys.binding&&ys.binding("util")}catch{}}(),Of=_n&&_n.isArrayBuffer,If=_n&&_n.isDate,Hf=_n&&_n.isMap,zf=_n&&_n.isRegExp,Nf=_n&&_n.isSet,Lf=_n&&_n.isTypedArray;function on(F,ne,Q){switch(Q.length){case 0:return F.call(ne);case 1:return F.call(ne,Q[0]);case 2:return F.call(ne,Q[0],Q[1]);case 3:return F.call(ne,Q[0],Q[1],Q[2])}return F.apply(ne,Q)}function dg(F,ne,Q,Ee){for(var Ve=-1,nt=F==null?0:F.length;++Ve<nt;){var Mt=F[Ve];ne(Ee,Mt,Q(Mt),F)}return Ee}function yn(F,ne){for(var Q=-1,Ee=F==null?0:F.length;++Q<Ee&&ne(F[Q],Q,F)!==!1;);return F}function hg(F,ne){for(var Q=F==null?0:F.length;Q--&&ne(F[Q],Q,F)!==!1;);return F}function Rf(F,ne){for(var Q=-1,Ee=F==null?0:F.length;++Q<Ee;)if(!ne(F[Q],Q,F))return!1;return!0}function di(F,ne){for(var Q=-1,Ee=F==null?0:F.length,Ve=0,nt=[];++Q<Ee;){var Mt=F[Q];ne(Mt,Q,F)&&(nt[Ve++]=Mt)}return nt}function So(F,ne){var Q=F==null?0:F.length;return!!Q&&Ki(F,ne,0)>-1}function ws(F,ne,Q){for(var Ee=-1,Ve=F==null?0:F.length;++Ee<Ve;)if(Q(ne,F[Ee]))return!0;return!1}function ht(F,ne){for(var Q=-1,Ee=F==null?0:F.length,Ve=Array(Ee);++Q<Ee;)Ve[Q]=ne(F[Q],Q,F);return Ve}function hi(F,ne){for(var Q=-1,Ee=ne.length,Ve=F.length;++Q<Ee;)F[Ve+Q]=ne[Q];return F}function bs(F,ne,Q,Ee){var Ve=-1,nt=F==null?0:F.length;for(Ee&&nt&&(Q=F[++Ve]);++Ve<nt;)Q=ne(Q,F[Ve],Ve,F);return Q}function gg(F,ne,Q,Ee){var Ve=F==null?0:F.length;for(Ee&&Ve&&(Q=F[--Ve]);Ve--;)Q=ne(Q,F[Ve],Ve,F);return Q}function vs(F,ne){for(var Q=-1,Ee=F==null?0:F.length;++Q<Ee;)if(ne(F[Q],Q,F))return!0;return!1}var mg=ps("length");function _g(F){return F.split("")}function yg(F){return F.match(ls)||[]}function Df(F,ne,Q){var Ee;return Q(F,function(Ve,nt,Mt){if(ne(Ve,nt,Mt))return Ee=nt,!1}),Ee}function ko(F,ne,Q,Ee){for(var Ve=F.length,nt=Q+(Ee?1:-1);Ee?nt--:++nt<Ve;)if(ne(F[nt],nt,F))return nt;return-1}function Ki(F,ne,Q){return ne===ne?Tg(F,ne,Q):ko(F,Wf,Q)}function wg(F,ne,Q,Ee){for(var Ve=Q-1,nt=F.length;++Ve<nt;)if(Ee(F[Ve],ne))return Ve;return-1}function Wf(F){return F!==F}function Bf(F,ne){var Q=F==null?0:F.length;return Q?ks(F,ne)/Q:ae}function ps(F){return function(ne){return ne==null?n:ne[F]}}function Ss(F){return function(ne){return F==null?n:F[ne]}}function Xf(F,ne,Q,Ee,Ve){return Ve(F,function(nt,Mt,ft){Q=Ee?(Ee=!1,nt):ne(Q,nt,Mt,ft)}),Q}function bg(F,ne){var Q=F.length;for(F.sort(ne);Q--;)F[Q]=F[Q].value;return F}function ks(F,ne){for(var Q,Ee=-1,Ve=F.length;++Ee<Ve;){var nt=ne(F[Ee]);nt!==n&&(Q=Q===n?nt:Q+nt)}return Q}function Cs(F,ne){for(var Q=-1,Ee=Array(F);++Q<F;)Ee[Q]=ne(Q);return Ee}function vg(F,ne){return ht(ne,function(Q){return[Q,F[Q]]})}function Yf(F){return F&&F.slice(0,Uf(F)+1).replace(Ar,"")}function ln(F){return function(ne){return F(ne)}}function Es(F,ne){return ht(ne,function(Q){return F[Q]})}function Mr(F,ne){return F.has(ne)}function Ff(F,ne){for(var Q=-1,Ee=F.length;++Q<Ee&&Ki(ne,F[Q],0)>-1;);return Q}function Vf(F,ne){for(var Q=F.length;Q--&&Ki(ne,F[Q],0)>-1;);return Q}function pg(F,ne){for(var Q=F.length,Ee=0;Q--;)F[Q]===ne&&++Ee;return Ee}var Sg=Ss(og),kg=Ss(lg);function Cg(F){return"\\"+ug[F]}function Eg(F,ne){return F==null?n:F[ne]}function Ui(F){return tg.test(F)}function Ag(F){return ng.test(F)}function Mg(F){for(var ne,Q=[];!(ne=F.next()).done;)Q.push(ne.value);return Q}function As(F){var ne=-1,Q=Array(F.size);return F.forEach(function(Ee,Ve){Q[++ne]=[Ve,Ee]}),Q}function Kf(F,ne){return function(Q){return F(ne(Q))}}function gi(F,ne){for(var Q=-1,Ee=F.length,Ve=0,nt=[];++Q<Ee;){var Mt=F[Q];(Mt===ne||Mt===h)&&(F[Q]=h,nt[Ve++]=Q)}return nt}function Co(F){var ne=-1,Q=Array(F.size);return F.forEach(function(Ee){Q[++ne]=Ee}),Q}function Pg(F){var ne=-1,Q=Array(F.size);return F.forEach(function(Ee){Q[++ne]=[Ee,Ee]}),Q}function Tg(F,ne,Q){for(var Ee=Q-1,Ve=F.length;++Ee<Ve;)if(F[Ee]===ne)return Ee;return-1}function Og(F,ne,Q){for(var Ee=Q+1;Ee--;)if(F[Ee]===ne)return Ee;return Ee}function qi(F){return Ui(F)?Hg(F):mg(F)}function An(F){return Ui(F)?zg(F):_g(F)}function Uf(F){for(var ne=F.length;ne--&&ns.test(F.charAt(ne)););return ne}var Ig=Ss(sg);function Hg(F){for(var ne=ms.lastIndex=0;ms.test(F);)++ne;return ne}function zg(F){return F.match(ms)||[]}function Ng(F){return F.match(eg)||[]}var Lg=function F(ne){ne=ne==null?Lt:xi.defaults(Lt.Object(),ne,xi.pick(Lt,ig));var Q=ne.Array,Ee=ne.Date,Ve=ne.Error,nt=ne.Function,Mt=ne.Math,ft=ne.Object,Ms=ne.RegExp,Rg=ne.String,wn=ne.TypeError,Eo=Q.prototype,Dg=nt.prototype,Gi=ft.prototype,Ao=ne["__core-js_shared__"],Mo=Dg.toString,st=Gi.hasOwnProperty,Wg=0,qf=function(){var r=/[^.]+$/.exec(Ao&&Ao.keys&&Ao.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Po=Gi.toString,Bg=Mo.call(ft),Xg=Lt._,Yg=Ms("^"+Mo.call(st).replace(Er,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),To=Tf?ne.Buffer:n,mi=ne.Symbol,Oo=ne.Uint8Array,xf=To?To.allocUnsafe:n,Io=Kf(ft.getPrototypeOf,ft),Gf=ft.create,Zf=Gi.propertyIsEnumerable,Ho=Eo.splice,Jf=mi?mi.isConcatSpreadable:n,Pr=mi?mi.iterator:n,Pi=mi?mi.toStringTag:n,zo=function(){try{var r=zi(ft,"defineProperty");return r({},"",{}),r}catch{}}(),Fg=ne.clearTimeout!==Lt.clearTimeout&&ne.clearTimeout,Vg=Ee&&Ee.now!==Lt.Date.now&&Ee.now,Kg=ne.setTimeout!==Lt.setTimeout&&ne.setTimeout,No=Mt.ceil,Lo=Mt.floor,Ps=ft.getOwnPropertySymbols,Ug=To?To.isBuffer:n,Qf=ne.isFinite,qg=Eo.join,xg=Kf(ft.keys,ft),Pt=Mt.max,Wt=Mt.min,Gg=Ee.now,Zg=ne.parseInt,jf=Mt.random,Jg=Eo.reverse,Ts=zi(ne,"DataView"),Tr=zi(ne,"Map"),Os=zi(ne,"Promise"),Zi=zi(ne,"Set"),Or=zi(ne,"WeakMap"),Ir=zi(ft,"create"),Ro=Or&&new Or,Ji={},Qg=Ni(Ts),jg=Ni(Tr),$g=Ni(Os),e0=Ni(Zi),t0=Ni(Or),Do=mi?mi.prototype:n,Hr=Do?Do.valueOf:n,$f=Do?Do.toString:n;function k(r){if(pt(r)&&!qe(r)&&!(r instanceof je)){if(r instanceof bn)return r;if(st.call(r,"__wrapped__"))return ec(r)}return new bn(r)}var Qi=function(){function r(){}return function(o){if(!mt(o))return{};if(Gf)return Gf(o);r.prototype=o;var c=new r;return r.prototype=n,c}}();function Wo(){}function bn(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}k.templateSettings={escape:Jl,evaluate:Ql,interpolate:yo,variable:"",imports:{_:k}},k.prototype=Wo.prototype,k.prototype.constructor=k,bn.prototype=Qi(Wo.prototype),bn.prototype.constructor=bn;function je(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function n0(){var r=new je(this.__wrapped__);return r.__actions__=Qt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Qt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Qt(this.__views__),r}function i0(){if(this.__filtered__){var r=new je(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function r0(){var r=this.__wrapped__.value(),o=this.__dir__,c=qe(r),_=o<0,v=c?r.length:0,E=_m(0,v,this.__views__),N=E.start,X=E.end,U=X-N,ie=_?X:N-1,re=this.__iteratees__,fe=re.length,we=0,Oe=Wt(U,this.__takeCount__);if(!c||!_&&v==U&&Oe==U)return ka(r,this.__actions__);var De=[];e:for(;U--&&we<Oe;){ie+=o;for(var Ge=-1,We=r[ie];++Ge<fe;){var Qe=re[Ge],$e=Qe.iteratee,fn=Qe.type,xt=$e(We);if(fn==V)We=xt;else if(!xt){if(fn==T)continue e;break e}}De[we++]=We}return De}je.prototype=Qi(Wo.prototype),je.prototype.constructor=je;function Ti(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var _=r[o];this.set(_[0],_[1])}}function o0(){this.__data__=Ir?Ir(null):{},this.size=0}function l0(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function s0(r){var o=this.__data__;if(Ir){var c=o[r];return c===a?n:c}return st.call(o,r)?o[r]:n}function u0(r){var o=this.__data__;return Ir?o[r]!==n:st.call(o,r)}function f0(r,o){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Ir&&o===n?a:o,this}Ti.prototype.clear=o0,Ti.prototype.delete=l0,Ti.prototype.get=s0,Ti.prototype.has=u0,Ti.prototype.set=f0;function Gn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var _=r[o];this.set(_[0],_[1])}}function a0(){this.__data__=[],this.size=0}function c0(r){var o=this.__data__,c=Bo(o,r);if(c<0)return!1;var _=o.length-1;return c==_?o.pop():Ho.call(o,c,1),--this.size,!0}function d0(r){var o=this.__data__,c=Bo(o,r);return c<0?n:o[c][1]}function h0(r){return Bo(this.__data__,r)>-1}function g0(r,o){var c=this.__data__,_=Bo(c,r);return _<0?(++this.size,c.push([r,o])):c[_][1]=o,this}Gn.prototype.clear=a0,Gn.prototype.delete=c0,Gn.prototype.get=d0,Gn.prototype.has=h0,Gn.prototype.set=g0;function Zn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var _=r[o];this.set(_[0],_[1])}}function m0(){this.size=0,this.__data__={hash:new Ti,map:new(Tr||Gn),string:new Ti}}function _0(r){var o=Qo(this,r).delete(r);return this.size-=o?1:0,o}function y0(r){return Qo(this,r).get(r)}function w0(r){return Qo(this,r).has(r)}function b0(r,o){var c=Qo(this,r),_=c.size;return c.set(r,o),this.size+=c.size==_?0:1,this}Zn.prototype.clear=m0,Zn.prototype.delete=_0,Zn.prototype.get=y0,Zn.prototype.has=w0,Zn.prototype.set=b0;function Oi(r){var o=-1,c=r==null?0:r.length;for(this.__data__=new Zn;++o<c;)this.add(r[o])}function v0(r){return this.__data__.set(r,a),this}function p0(r){return this.__data__.has(r)}Oi.prototype.add=Oi.prototype.push=v0,Oi.prototype.has=p0;function Mn(r){var o=this.__data__=new Gn(r);this.size=o.size}function S0(){this.__data__=new Gn,this.size=0}function k0(r){var o=this.__data__,c=o.delete(r);return this.size=o.size,c}function C0(r){return this.__data__.get(r)}function E0(r){return this.__data__.has(r)}function A0(r,o){var c=this.__data__;if(c instanceof Gn){var _=c.__data__;if(!Tr||_.length<l-1)return _.push([r,o]),this.size=++c.size,this;c=this.__data__=new Zn(_)}return c.set(r,o),this.size=c.size,this}Mn.prototype.clear=S0,Mn.prototype.delete=k0,Mn.prototype.get=C0,Mn.prototype.has=E0,Mn.prototype.set=A0;function ea(r,o){var c=qe(r),_=!c&&Li(r),v=!c&&!_&&vi(r),E=!c&&!_&&!v&&tr(r),N=c||_||v||E,X=N?Cs(r.length,Rg):[],U=X.length;for(var ie in r)(o||st.call(r,ie))&&!(N&&(ie=="length"||v&&(ie=="offset"||ie=="parent")||E&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||$n(ie,U)))&&X.push(ie);return X}function ta(r){var o=r.length;return o?r[Ys(0,o-1)]:n}function M0(r,o){return jo(Qt(r),Ii(o,0,r.length))}function P0(r){return jo(Qt(r))}function Is(r,o,c){(c!==n&&!Pn(r[o],c)||c===n&&!(o in r))&&Jn(r,o,c)}function zr(r,o,c){var _=r[o];(!(st.call(r,o)&&Pn(_,c))||c===n&&!(o in r))&&Jn(r,o,c)}function Bo(r,o){for(var c=r.length;c--;)if(Pn(r[c][0],o))return c;return-1}function T0(r,o,c,_){return _i(r,function(v,E,N){o(_,v,c(v),N)}),_}function na(r,o){return r&&Xn(o,It(o),r)}function O0(r,o){return r&&Xn(o,$t(o),r)}function Jn(r,o,c){o=="__proto__"&&zo?zo(r,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[o]=c}function Hs(r,o){for(var c=-1,_=o.length,v=Q(_),E=r==null;++c<_;)v[c]=E?n:du(r,o[c]);return v}function Ii(r,o,c){return r===r&&(c!==n&&(r=r<=c?r:c),o!==n&&(r=r>=o?r:o)),r}function vn(r,o,c,_,v,E){var N,X=o&g,U=o&m,ie=o&y;if(c&&(N=v?c(r,_,v,E):c(r)),N!==n)return N;if(!mt(r))return r;var re=qe(r);if(re){if(N=wm(r),!X)return Qt(r,N)}else{var fe=Bt(r),we=fe==Ue||fe==et;if(vi(r))return Aa(r,X);if(fe==ut||fe==Ae||we&&!v){if(N=U||we?{}:Ua(r),!X)return U?sm(r,O0(N,r)):lm(r,na(N,r))}else{if(!at[fe])return v?r:{};N=bm(r,fe,X)}}E||(E=new Mn);var Oe=E.get(r);if(Oe)return Oe;E.set(r,N),vc(r)?r.forEach(function(We){N.add(vn(We,o,c,We,r,E))}):wc(r)&&r.forEach(function(We,Qe){N.set(Qe,vn(We,o,c,Qe,r,E))});var De=ie?U?js:Qs:U?$t:It,Ge=re?n:De(r);return yn(Ge||r,function(We,Qe){Ge&&(Qe=We,We=r[Qe]),zr(N,Qe,vn(We,o,c,Qe,r,E))}),N}function I0(r){var o=It(r);return function(c){return ia(c,r,o)}}function ia(r,o,c){var _=c.length;if(r==null)return!_;for(r=ft(r);_--;){var v=c[_],E=o[v],N=r[v];if(N===n&&!(v in r)||!E(N))return!1}return!0}function ra(r,o,c){if(typeof r!="function")throw new wn(u);return Xr(function(){r.apply(n,c)},o)}function Nr(r,o,c,_){var v=-1,E=So,N=!0,X=r.length,U=[],ie=o.length;if(!X)return U;c&&(o=ht(o,ln(c))),_?(E=ws,N=!1):o.length>=l&&(E=Mr,N=!1,o=new Oi(o));e:for(;++v<X;){var re=r[v],fe=c==null?re:c(re);if(re=_||re!==0?re:0,N&&fe===fe){for(var we=ie;we--;)if(o[we]===fe)continue e;U.push(re)}else E(o,fe,_)||U.push(re)}return U}var _i=Ia(Bn),oa=Ia(Ns,!0);function H0(r,o){var c=!0;return _i(r,function(_,v,E){return c=!!o(_,v,E),c}),c}function Xo(r,o,c){for(var _=-1,v=r.length;++_<v;){var E=r[_],N=o(E);if(N!=null&&(X===n?N===N&&!un(N):c(N,X)))var X=N,U=E}return U}function z0(r,o,c,_){var v=r.length;for(c=xe(c),c<0&&(c=-c>v?0:v+c),_=_===n||_>v?v:xe(_),_<0&&(_+=v),_=c>_?0:Sc(_);c<_;)r[c++]=o;return r}function la(r,o){var c=[];return _i(r,function(_,v,E){o(_,v,E)&&c.push(_)}),c}function Rt(r,o,c,_,v){var E=-1,N=r.length;for(c||(c=pm),v||(v=[]);++E<N;){var X=r[E];o>0&&c(X)?o>1?Rt(X,o-1,c,_,v):hi(v,X):_||(v[v.length]=X)}return v}var zs=Ha(),sa=Ha(!0);function Bn(r,o){return r&&zs(r,o,It)}function Ns(r,o){return r&&sa(r,o,It)}function Yo(r,o){return di(o,function(c){return ei(r[c])})}function Hi(r,o){o=wi(o,r);for(var c=0,_=o.length;r!=null&&c<_;)r=r[Yn(o[c++])];return c&&c==_?r:n}function ua(r,o,c){var _=o(r);return qe(r)?_:hi(_,c(r))}function Ut(r){return r==null?r===n?de:Je:Pi&&Pi in ft(r)?mm(r):Pm(r)}function Ls(r,o){return r>o}function N0(r,o){return r!=null&&st.call(r,o)}function L0(r,o){return r!=null&&o in ft(r)}function R0(r,o,c){return r>=Wt(o,c)&&r<Pt(o,c)}function Rs(r,o,c){for(var _=c?ws:So,v=r[0].length,E=r.length,N=E,X=Q(E),U=1/0,ie=[];N--;){var re=r[N];N&&o&&(re=ht(re,ln(o))),U=Wt(re.length,U),X[N]=!c&&(o||v>=120&&re.length>=120)?new Oi(N&&re):n}re=r[0];var fe=-1,we=X[0];e:for(;++fe<v&&ie.length<U;){var Oe=re[fe],De=o?o(Oe):Oe;if(Oe=c||Oe!==0?Oe:0,!(we?Mr(we,De):_(ie,De,c))){for(N=E;--N;){var Ge=X[N];if(!(Ge?Mr(Ge,De):_(r[N],De,c)))continue e}we&&we.push(De),ie.push(Oe)}}return ie}function D0(r,o,c,_){return Bn(r,function(v,E,N){o(_,c(v),E,N)}),_}function Lr(r,o,c){o=wi(o,r),r=Za(r,o);var _=r==null?r:r[Yn(Sn(o))];return _==null?n:on(_,r,c)}function fa(r){return pt(r)&&Ut(r)==Ae}function W0(r){return pt(r)&&Ut(r)==ye}function B0(r){return pt(r)&&Ut(r)==oe}function Rr(r,o,c,_,v){return r===o?!0:r==null||o==null||!pt(r)&&!pt(o)?r!==r&&o!==o:X0(r,o,c,_,Rr,v)}function X0(r,o,c,_,v,E){var N=qe(r),X=qe(o),U=N?R:Bt(r),ie=X?R:Bt(o);U=U==Ae?ut:U,ie=ie==Ae?ut:ie;var re=U==ut,fe=ie==ut,we=U==ie;if(we&&vi(r)){if(!vi(o))return!1;N=!0,re=!1}if(we&&!re)return E||(E=new Mn),N||tr(r)?Fa(r,o,c,_,v,E):hm(r,o,U,c,_,v,E);if(!(c&b)){var Oe=re&&st.call(r,"__wrapped__"),De=fe&&st.call(o,"__wrapped__");if(Oe||De){var Ge=Oe?r.value():r,We=De?o.value():o;return E||(E=new Mn),v(Ge,We,c,_,E)}}return we?(E||(E=new Mn),gm(r,o,c,_,v,E)):!1}function Y0(r){return pt(r)&&Bt(r)==rt}function Ds(r,o,c,_){var v=c.length,E=v,N=!_;if(r==null)return!E;for(r=ft(r);v--;){var X=c[v];if(N&&X[2]?X[1]!==r[X[0]]:!(X[0]in r))return!1}for(;++v<E;){X=c[v];var U=X[0],ie=r[U],re=X[1];if(N&&X[2]){if(ie===n&&!(U in r))return!1}else{var fe=new Mn;if(_)var we=_(ie,re,U,r,o,fe);if(!(we===n?Rr(re,ie,b|p,_,fe):we))return!1}}return!0}function aa(r){if(!mt(r)||km(r))return!1;var o=ei(r)?Yg:I1;return o.test(Ni(r))}function F0(r){return pt(r)&&Ut(r)==Ce}function V0(r){return pt(r)&&Bt(r)==Et}function K0(r){return pt(r)&&rl(r.length)&&!!ct[Ut(r)]}function ca(r){return typeof r=="function"?r:r==null?en:typeof r=="object"?qe(r)?ga(r[0],r[1]):ha(r):zc(r)}function Ws(r){if(!Br(r))return xg(r);var o=[];for(var c in ft(r))st.call(r,c)&&c!="constructor"&&o.push(c);return o}function U0(r){if(!mt(r))return Mm(r);var o=Br(r),c=[];for(var _ in r)_=="constructor"&&(o||!st.call(r,_))||c.push(_);return c}function Bs(r,o){return r<o}function da(r,o){var c=-1,_=jt(r)?Q(r.length):[];return _i(r,function(v,E,N){_[++c]=o(v,E,N)}),_}function ha(r){var o=eu(r);return o.length==1&&o[0][2]?xa(o[0][0],o[0][1]):function(c){return c===r||Ds(c,r,o)}}function ga(r,o){return nu(r)&&qa(o)?xa(Yn(r),o):function(c){var _=du(c,r);return _===n&&_===o?hu(c,r):Rr(o,_,b|p)}}function Fo(r,o,c,_,v){r!==o&&zs(o,function(E,N){if(v||(v=new Mn),mt(E))q0(r,o,N,c,Fo,_,v);else{var X=_?_(ru(r,N),E,N+"",r,o,v):n;X===n&&(X=E),Is(r,N,X)}},$t)}function q0(r,o,c,_,v,E,N){var X=ru(r,c),U=ru(o,c),ie=N.get(U);if(ie){Is(r,c,ie);return}var re=E?E(X,U,c+"",r,o,N):n,fe=re===n;if(fe){var we=qe(U),Oe=!we&&vi(U),De=!we&&!Oe&&tr(U);re=U,we||Oe||De?qe(X)?re=X:St(X)?re=Qt(X):Oe?(fe=!1,re=Aa(U,!0)):De?(fe=!1,re=Ma(U,!0)):re=[]:Yr(U)||Li(U)?(re=X,Li(X)?re=kc(X):(!mt(X)||ei(X))&&(re=Ua(U))):fe=!1}fe&&(N.set(U,re),v(re,U,_,E,N),N.delete(U)),Is(r,c,re)}function ma(r,o){var c=r.length;if(c)return o+=o<0?c:0,$n(o,c)?r[o]:n}function _a(r,o,c){o.length?o=ht(o,function(E){return qe(E)?function(N){return Hi(N,E.length===1?E[0]:E)}:E}):o=[en];var _=-1;o=ht(o,ln(Re()));var v=da(r,function(E,N,X){var U=ht(o,function(ie){return ie(E)});return{criteria:U,index:++_,value:E}});return bg(v,function(E,N){return om(E,N,c)})}function x0(r,o){return ya(r,o,function(c,_){return hu(r,_)})}function ya(r,o,c){for(var _=-1,v=o.length,E={};++_<v;){var N=o[_],X=Hi(r,N);c(X,N)&&Dr(E,wi(N,r),X)}return E}function G0(r){return function(o){return Hi(o,r)}}function Xs(r,o,c,_){var v=_?wg:Ki,E=-1,N=o.length,X=r;for(r===o&&(o=Qt(o)),c&&(X=ht(r,ln(c)));++E<N;)for(var U=0,ie=o[E],re=c?c(ie):ie;(U=v(X,re,U,_))>-1;)X!==r&&Ho.call(X,U,1),Ho.call(r,U,1);return r}function wa(r,o){for(var c=r?o.length:0,_=c-1;c--;){var v=o[c];if(c==_||v!==E){var E=v;$n(v)?Ho.call(r,v,1):Ks(r,v)}}return r}function Ys(r,o){return r+Lo(jf()*(o-r+1))}function Z0(r,o,c,_){for(var v=-1,E=Pt(No((o-r)/(c||1)),0),N=Q(E);E--;)N[_?E:++v]=r,r+=c;return N}function Fs(r,o){var c="";if(!r||o<1||o>x)return c;do o%2&&(c+=r),o=Lo(o/2),o&&(r+=r);while(o);return c}function Ze(r,o){return ou(Ga(r,o,en),r+"")}function J0(r){return ta(nr(r))}function Q0(r,o){var c=nr(r);return jo(c,Ii(o,0,c.length))}function Dr(r,o,c,_){if(!mt(r))return r;o=wi(o,r);for(var v=-1,E=o.length,N=E-1,X=r;X!=null&&++v<E;){var U=Yn(o[v]),ie=c;if(U==="__proto__"||U==="constructor"||U==="prototype")return r;if(v!=N){var re=X[U];ie=_?_(re,U,X):n,ie===n&&(ie=mt(re)?re:$n(o[v+1])?[]:{})}zr(X,U,ie),X=X[U]}return r}var ba=Ro?function(r,o){return Ro.set(r,o),r}:en,j0=zo?function(r,o){return zo(r,"toString",{configurable:!0,enumerable:!1,value:mu(o),writable:!0})}:en;function $0(r){return jo(nr(r))}function pn(r,o,c){var _=-1,v=r.length;o<0&&(o=-o>v?0:v+o),c=c>v?v:c,c<0&&(c+=v),v=o>c?0:c-o>>>0,o>>>=0;for(var E=Q(v);++_<v;)E[_]=r[_+o];return E}function em(r,o){var c;return _i(r,function(_,v,E){return c=o(_,v,E),!c}),!!c}function Vo(r,o,c){var _=0,v=r==null?_:r.length;if(typeof o=="number"&&o===o&&v<=be){for(;_<v;){var E=_+v>>>1,N=r[E];N!==null&&!un(N)&&(c?N<=o:N<o)?_=E+1:v=E}return v}return Vs(r,o,en,c)}function Vs(r,o,c,_){var v=0,E=r==null?0:r.length;if(E===0)return 0;o=c(o);for(var N=o!==o,X=o===null,U=un(o),ie=o===n;v<E;){var re=Lo((v+E)/2),fe=c(r[re]),we=fe!==n,Oe=fe===null,De=fe===fe,Ge=un(fe);if(N)var We=_||De;else ie?We=De&&(_||we):X?We=De&&we&&(_||!Oe):U?We=De&&we&&!Oe&&(_||!Ge):Oe||Ge?We=!1:We=_?fe<=o:fe<o;We?v=re+1:E=re}return Wt(E,$)}function va(r,o){for(var c=-1,_=r.length,v=0,E=[];++c<_;){var N=r[c],X=o?o(N):N;if(!c||!Pn(X,U)){var U=X;E[v++]=N===0?0:N}}return E}function pa(r){return typeof r=="number"?r:un(r)?ae:+r}function sn(r){if(typeof r=="string")return r;if(qe(r))return ht(r,sn)+"";if(un(r))return $f?$f.call(r):"";var o=r+"";return o=="0"&&1/r==-1/0?"-0":o}function yi(r,o,c){var _=-1,v=So,E=r.length,N=!0,X=[],U=X;if(c)N=!1,v=ws;else if(E>=l){var ie=o?null:cm(r);if(ie)return Co(ie);N=!1,v=Mr,U=new Oi}else U=o?[]:X;e:for(;++_<E;){var re=r[_],fe=o?o(re):re;if(re=c||re!==0?re:0,N&&fe===fe){for(var we=U.length;we--;)if(U[we]===fe)continue e;o&&U.push(fe),X.push(re)}else v(U,fe,c)||(U!==X&&U.push(fe),X.push(re))}return X}function Ks(r,o){return o=wi(o,r),r=Za(r,o),r==null||delete r[Yn(Sn(o))]}function Sa(r,o,c,_){return Dr(r,o,c(Hi(r,o)),_)}function Ko(r,o,c,_){for(var v=r.length,E=_?v:-1;(_?E--:++E<v)&&o(r[E],E,r););return c?pn(r,_?0:E,_?E+1:v):pn(r,_?E+1:0,_?v:E)}function ka(r,o){var c=r;return c instanceof je&&(c=c.value()),bs(o,function(_,v){return v.func.apply(v.thisArg,hi([_],v.args))},c)}function Us(r,o,c){var _=r.length;if(_<2)return _?yi(r[0]):[];for(var v=-1,E=Q(_);++v<_;)for(var N=r[v],X=-1;++X<_;)X!=v&&(E[v]=Nr(E[v]||N,r[X],o,c));return yi(Rt(E,1),o,c)}function Ca(r,o,c){for(var _=-1,v=r.length,E=o.length,N={};++_<v;){var X=_<E?o[_]:n;c(N,r[_],X)}return N}function qs(r){return St(r)?r:[]}function xs(r){return typeof r=="function"?r:en}function wi(r,o){return qe(r)?r:nu(r,o)?[r]:$a(ot(r))}var tm=Ze;function bi(r,o,c){var _=r.length;return c=c===n?_:c,!o&&c>=_?r:pn(r,o,c)}var Ea=Fg||function(r){return Lt.clearTimeout(r)};function Aa(r,o){if(o)return r.slice();var c=r.length,_=xf?xf(c):new r.constructor(c);return r.copy(_),_}function Gs(r){var o=new r.constructor(r.byteLength);return new Oo(o).set(new Oo(r)),o}function nm(r,o){var c=o?Gs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function im(r){var o=new r.constructor(r.source,wo.exec(r));return o.lastIndex=r.lastIndex,o}function rm(r){return Hr?ft(Hr.call(r)):{}}function Ma(r,o){var c=o?Gs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function Pa(r,o){if(r!==o){var c=r!==n,_=r===null,v=r===r,E=un(r),N=o!==n,X=o===null,U=o===o,ie=un(o);if(!X&&!ie&&!E&&r>o||E&&N&&U&&!X&&!ie||_&&N&&U||!c&&U||!v)return 1;if(!_&&!E&&!ie&&r<o||ie&&c&&v&&!_&&!E||X&&c&&v||!N&&v||!U)return-1}return 0}function om(r,o,c){for(var _=-1,v=r.criteria,E=o.criteria,N=v.length,X=c.length;++_<N;){var U=Pa(v[_],E[_]);if(U){if(_>=X)return U;var ie=c[_];return U*(ie=="desc"?-1:1)}}return r.index-o.index}function Ta(r,o,c,_){for(var v=-1,E=r.length,N=c.length,X=-1,U=o.length,ie=Pt(E-N,0),re=Q(U+ie),fe=!_;++X<U;)re[X]=o[X];for(;++v<N;)(fe||v<E)&&(re[c[v]]=r[v]);for(;ie--;)re[X++]=r[v++];return re}function Oa(r,o,c,_){for(var v=-1,E=r.length,N=-1,X=c.length,U=-1,ie=o.length,re=Pt(E-X,0),fe=Q(re+ie),we=!_;++v<re;)fe[v]=r[v];for(var Oe=v;++U<ie;)fe[Oe+U]=o[U];for(;++N<X;)(we||v<E)&&(fe[Oe+c[N]]=r[v++]);return fe}function Qt(r,o){var c=-1,_=r.length;for(o||(o=Q(_));++c<_;)o[c]=r[c];return o}function Xn(r,o,c,_){var v=!c;c||(c={});for(var E=-1,N=o.length;++E<N;){var X=o[E],U=_?_(c[X],r[X],X,c,r):n;U===n&&(U=r[X]),v?Jn(c,X,U):zr(c,X,U)}return c}function lm(r,o){return Xn(r,tu(r),o)}function sm(r,o){return Xn(r,Va(r),o)}function Uo(r,o){return function(c,_){var v=qe(c)?dg:T0,E=o?o():{};return v(c,r,Re(_,2),E)}}function ji(r){return Ze(function(o,c){var _=-1,v=c.length,E=v>1?c[v-1]:n,N=v>2?c[2]:n;for(E=r.length>3&&typeof E=="function"?(v--,E):n,N&&qt(c[0],c[1],N)&&(E=v<3?n:E,v=1),o=ft(o);++_<v;){var X=c[_];X&&r(o,X,_,E)}return o})}function Ia(r,o){return function(c,_){if(c==null)return c;if(!jt(c))return r(c,_);for(var v=c.length,E=o?v:-1,N=ft(c);(o?E--:++E<v)&&_(N[E],E,N)!==!1;);return c}}function Ha(r){return function(o,c,_){for(var v=-1,E=ft(o),N=_(o),X=N.length;X--;){var U=N[r?X:++v];if(c(E[U],U,E)===!1)break}return o}}function um(r,o,c){var _=o&P,v=Wr(r);function E(){var N=this&&this!==Lt&&this instanceof E?v:r;return N.apply(_?c:this,arguments)}return E}function za(r){return function(o){o=ot(o);var c=Ui(o)?An(o):n,_=c?c[0]:o.charAt(0),v=c?bi(c,1).join(""):o.slice(1);return _[r]()+v}}function $i(r){return function(o){return bs(Ic(Oc(o).replace(j1,"")),r,"")}}function Wr(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Qi(r.prototype),_=r.apply(c,o);return mt(_)?_:c}}function fm(r,o,c){var _=Wr(r);function v(){for(var E=arguments.length,N=Q(E),X=E,U=er(v);X--;)N[X]=arguments[X];var ie=E<3&&N[0]!==U&&N[E-1]!==U?[]:gi(N,U);if(E-=ie.length,E<c)return Wa(r,o,qo,v.placeholder,n,N,ie,n,n,c-E);var re=this&&this!==Lt&&this instanceof v?_:r;return on(re,this,N)}return v}function Na(r){return function(o,c,_){var v=ft(o);if(!jt(o)){var E=Re(c,3);o=It(o),c=function(X){return E(v[X],X,v)}}var N=r(o,c,_);return N>-1?v[E?o[N]:N]:n}}function La(r){return jn(function(o){var c=o.length,_=c,v=bn.prototype.thru;for(r&&o.reverse();_--;){var E=o[_];if(typeof E!="function")throw new wn(u);if(v&&!N&&Jo(E)=="wrapper")var N=new bn([],!0)}for(_=N?_:c;++_<c;){E=o[_];var X=Jo(E),U=X=="wrapper"?$s(E):n;U&&iu(U[0])&&U[1]==(z|S|I|L)&&!U[4].length&&U[9]==1?N=N[Jo(U[0])].apply(N,U[3]):N=E.length==1&&iu(E)?N[X]():N.thru(E)}return function(){var ie=arguments,re=ie[0];if(N&&ie.length==1&&qe(re))return N.plant(re).value();for(var fe=0,we=c?o[fe].apply(this,ie):re;++fe<c;)we=o[fe].call(this,we);return we}})}function qo(r,o,c,_,v,E,N,X,U,ie){var re=o&z,fe=o&P,we=o&w,Oe=o&(S|O),De=o&W,Ge=we?n:Wr(r);function We(){for(var Qe=arguments.length,$e=Q(Qe),fn=Qe;fn--;)$e[fn]=arguments[fn];if(Oe)var xt=er(We),an=pg($e,xt);if(_&&($e=Ta($e,_,v,Oe)),E&&($e=Oa($e,E,N,Oe)),Qe-=an,Oe&&Qe<ie){var kt=gi($e,xt);return Wa(r,o,qo,We.placeholder,c,$e,kt,X,U,ie-Qe)}var Tn=fe?c:this,ni=we?Tn[r]:r;return Qe=$e.length,X?$e=Tm($e,X):De&&Qe>1&&$e.reverse(),re&&U<Qe&&($e.length=U),this&&this!==Lt&&this instanceof We&&(ni=Ge||Wr(ni)),ni.apply(Tn,$e)}return We}function Ra(r,o){return function(c,_){return D0(c,r,o(_),{})}}function xo(r,o){return function(c,_){var v;if(c===n&&_===n)return o;if(c!==n&&(v=c),_!==n){if(v===n)return _;typeof c=="string"||typeof _=="string"?(c=sn(c),_=sn(_)):(c=pa(c),_=pa(_)),v=r(c,_)}return v}}function Zs(r){return jn(function(o){return o=ht(o,ln(Re())),Ze(function(c){var _=this;return r(o,function(v){return on(v,_,c)})})})}function Go(r,o){o=o===n?" ":sn(o);var c=o.length;if(c<2)return c?Fs(o,r):o;var _=Fs(o,No(r/qi(o)));return Ui(o)?bi(An(_),0,r).join(""):_.slice(0,r)}function am(r,o,c,_){var v=o&P,E=Wr(r);function N(){for(var X=-1,U=arguments.length,ie=-1,re=_.length,fe=Q(re+U),we=this&&this!==Lt&&this instanceof N?E:r;++ie<re;)fe[ie]=_[ie];for(;U--;)fe[ie++]=arguments[++X];return on(we,v?c:this,fe)}return N}function Da(r){return function(o,c,_){return _&&typeof _!="number"&&qt(o,c,_)&&(c=_=n),o=ti(o),c===n?(c=o,o=0):c=ti(c),_=_===n?o<c?1:-1:ti(_),Z0(o,c,_,r)}}function Zo(r){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=kn(o),c=kn(c)),r(o,c)}}function Wa(r,o,c,_,v,E,N,X,U,ie){var re=o&S,fe=re?N:n,we=re?n:N,Oe=re?E:n,De=re?n:E;o|=re?I:A,o&=~(re?A:I),o&H||(o&=-4);var Ge=[r,o,v,Oe,fe,De,we,X,U,ie],We=c.apply(n,Ge);return iu(r)&&Ja(We,Ge),We.placeholder=_,Qa(We,r,o)}function Js(r){var o=Mt[r];return function(c,_){if(c=kn(c),_=_==null?0:Wt(xe(_),292),_&&Qf(c)){var v=(ot(c)+"e").split("e"),E=o(v[0]+"e"+(+v[1]+_));return v=(ot(E)+"e").split("e"),+(v[0]+"e"+(+v[1]-_))}return o(c)}}var cm=Zi&&1/Co(new Zi([,-0]))[1]==G?function(r){return new Zi(r)}:wu;function Ba(r){return function(o){var c=Bt(o);return c==rt?As(o):c==Et?Pg(o):vg(o,r(o))}}function Qn(r,o,c,_,v,E,N,X){var U=o&w;if(!U&&typeof r!="function")throw new wn(u);var ie=_?_.length:0;if(ie||(o&=-97,_=v=n),N=N===n?N:Pt(xe(N),0),X=X===n?X:xe(X),ie-=v?v.length:0,o&A){var re=_,fe=v;_=v=n}var we=U?n:$s(r),Oe=[r,o,c,_,v,re,fe,E,N,X];if(we&&Am(Oe,we),r=Oe[0],o=Oe[1],c=Oe[2],_=Oe[3],v=Oe[4],X=Oe[9]=Oe[9]===n?U?0:r.length:Pt(Oe[9]-ie,0),!X&&o&(S|O)&&(o&=-25),!o||o==P)var De=um(r,o,c);else o==S||o==O?De=fm(r,o,X):(o==I||o==(P|I))&&!v.length?De=am(r,o,c,_):De=qo.apply(n,Oe);var Ge=we?ba:Ja;return Qa(Ge(De,Oe),r,o)}function Xa(r,o,c,_){return r===n||Pn(r,Gi[c])&&!st.call(_,c)?o:r}function Ya(r,o,c,_,v,E){return mt(r)&&mt(o)&&(E.set(o,r),Fo(r,o,n,Ya,E),E.delete(o)),r}function dm(r){return Yr(r)?n:r}function Fa(r,o,c,_,v,E){var N=c&b,X=r.length,U=o.length;if(X!=U&&!(N&&U>X))return!1;var ie=E.get(r),re=E.get(o);if(ie&&re)return ie==o&&re==r;var fe=-1,we=!0,Oe=c&p?new Oi:n;for(E.set(r,o),E.set(o,r);++fe<X;){var De=r[fe],Ge=o[fe];if(_)var We=N?_(Ge,De,fe,o,r,E):_(De,Ge,fe,r,o,E);if(We!==n){if(We)continue;we=!1;break}if(Oe){if(!vs(o,function(Qe,$e){if(!Mr(Oe,$e)&&(De===Qe||v(De,Qe,c,_,E)))return Oe.push($e)})){we=!1;break}}else if(!(De===Ge||v(De,Ge,c,_,E))){we=!1;break}}return E.delete(r),E.delete(o),we}function hm(r,o,c,_,v,E,N){switch(c){case Dt:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case ye:return!(r.byteLength!=o.byteLength||!E(new Oo(r),new Oo(o)));case me:case oe:case Pe:return Pn(+r,+o);case Ye:return r.name==o.name&&r.message==o.message;case Ce:case Jt:return r==o+"";case rt:var X=As;case Et:var U=_&b;if(X||(X=Co),r.size!=o.size&&!U)return!1;var ie=N.get(r);if(ie)return ie==o;_|=p,N.set(r,o);var re=Fa(X(r),X(o),_,v,E,N);return N.delete(r),re;case gn:if(Hr)return Hr.call(r)==Hr.call(o)}return!1}function gm(r,o,c,_,v,E){var N=c&b,X=Qs(r),U=X.length,ie=Qs(o),re=ie.length;if(U!=re&&!N)return!1;for(var fe=U;fe--;){var we=X[fe];if(!(N?we in o:st.call(o,we)))return!1}var Oe=E.get(r),De=E.get(o);if(Oe&&De)return Oe==o&&De==r;var Ge=!0;E.set(r,o),E.set(o,r);for(var We=N;++fe<U;){we=X[fe];var Qe=r[we],$e=o[we];if(_)var fn=N?_($e,Qe,we,o,r,E):_(Qe,$e,we,r,o,E);if(!(fn===n?Qe===$e||v(Qe,$e,c,_,E):fn)){Ge=!1;break}We||(We=we=="constructor")}if(Ge&&!We){var xt=r.constructor,an=o.constructor;xt!=an&&"constructor"in r&&"constructor"in o&&!(typeof xt=="function"&&xt instanceof xt&&typeof an=="function"&&an instanceof an)&&(Ge=!1)}return E.delete(r),E.delete(o),Ge}function jn(r){return ou(Ga(r,n,ic),r+"")}function Qs(r){return ua(r,It,tu)}function js(r){return ua(r,$t,Va)}var $s=Ro?function(r){return Ro.get(r)}:wu;function Jo(r){for(var o=r.name+"",c=Ji[o],_=st.call(Ji,o)?c.length:0;_--;){var v=c[_],E=v.func;if(E==null||E==r)return v.name}return o}function er(r){var o=st.call(k,"placeholder")?k:r;return o.placeholder}function Re(){var r=k.iteratee||_u;return r=r===_u?ca:r,arguments.length?r(arguments[0],arguments[1]):r}function Qo(r,o){var c=r.__data__;return Sm(o)?c[typeof o=="string"?"string":"hash"]:c.map}function eu(r){for(var o=It(r),c=o.length;c--;){var _=o[c],v=r[_];o[c]=[_,v,qa(v)]}return o}function zi(r,o){var c=Eg(r,o);return aa(c)?c:n}function mm(r){var o=st.call(r,Pi),c=r[Pi];try{r[Pi]=n;var _=!0}catch{}var v=Po.call(r);return _&&(o?r[Pi]=c:delete r[Pi]),v}var tu=Ps?function(r){return r==null?[]:(r=ft(r),di(Ps(r),function(o){return Zf.call(r,o)}))}:bu,Va=Ps?function(r){for(var o=[];r;)hi(o,tu(r)),r=Io(r);return o}:bu,Bt=Ut;(Ts&&Bt(new Ts(new ArrayBuffer(1)))!=Dt||Tr&&Bt(new Tr)!=rt||Os&&Bt(Os.resolve())!=rn||Zi&&Bt(new Zi)!=Et||Or&&Bt(new Or)!=Tt)&&(Bt=function(r){var o=Ut(r),c=o==ut?r.constructor:n,_=c?Ni(c):"";if(_)switch(_){case Qg:return Dt;case jg:return rt;case $g:return rn;case e0:return Et;case t0:return Tt}return o});function _m(r,o,c){for(var _=-1,v=c.length;++_<v;){var E=c[_],N=E.size;switch(E.type){case"drop":r+=N;break;case"dropRight":o-=N;break;case"take":o=Wt(o,r+N);break;case"takeRight":r=Pt(r,o-N);break}}return{start:r,end:o}}function ym(r){var o=r.match(rs);return o?o[1].split(os):[]}function Ka(r,o,c){o=wi(o,r);for(var _=-1,v=o.length,E=!1;++_<v;){var N=Yn(o[_]);if(!(E=r!=null&&c(r,N)))break;r=r[N]}return E||++_!=v?E:(v=r==null?0:r.length,!!v&&rl(v)&&$n(N,v)&&(qe(r)||Li(r)))}function wm(r){var o=r.length,c=new r.constructor(o);return o&&typeof r[0]=="string"&&st.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function Ua(r){return typeof r.constructor=="function"&&!Br(r)?Qi(Io(r)):{}}function bm(r,o,c){var _=r.constructor;switch(o){case ye:return Gs(r);case me:case oe:return new _(+r);case Dt:return nm(r,c);case Ot:case zt:case Rn:case Dn:case mn:case Wn:case qn:case xn:case fi:return Ma(r,c);case rt:return new _;case Pe:case Jt:return new _(r);case Ce:return im(r);case Et:return new _;case gn:return rm(r)}}function vm(r,o){var c=o.length;if(!c)return r;var _=c-1;return o[_]=(c>1?"& ":"")+o[_],o=o.join(c>2?", ":" "),r.replace(is,`{
/* [wrapped with `+o+`] */
`)}function pm(r){return qe(r)||Li(r)||!!(Jf&&r&&r[Jf])}function $n(r,o){var c=typeof r;return o=o??x,!!o&&(c=="number"||c!="symbol"&&z1.test(r))&&r>-1&&r%1==0&&r<o}function qt(r,o,c){if(!mt(c))return!1;var _=typeof o;return(_=="number"?jt(c)&&$n(o,c.length):_=="string"&&o in c)?Pn(c[o],r):!1}function nu(r,o){if(qe(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||un(r)?!0:$l.test(r)||!jl.test(r)||o!=null&&r in ft(o)}function Sm(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function iu(r){var o=Jo(r),c=k[o];if(typeof c!="function"||!(o in je.prototype))return!1;if(r===c)return!0;var _=$s(c);return!!_&&r===_[0]}function km(r){return!!qf&&qf in r}var Cm=Ao?ei:vu;function Br(r){var o=r&&r.constructor,c=typeof o=="function"&&o.prototype||Gi;return r===c}function qa(r){return r===r&&!mt(r)}function xa(r,o){return function(c){return c==null?!1:c[r]===o&&(o!==n||r in ft(c))}}function Em(r){var o=nl(r,function(_){return c.size===d&&c.clear(),_}),c=o.cache;return o}function Am(r,o){var c=r[1],_=o[1],v=c|_,E=v<(P|w|z),N=_==z&&c==S||_==z&&c==L&&r[7].length<=o[8]||_==(z|L)&&o[7].length<=o[8]&&c==S;if(!(E||N))return r;_&P&&(r[2]=o[2],v|=c&P?0:H);var X=o[3];if(X){var U=r[3];r[3]=U?Ta(U,X,o[4]):X,r[4]=U?gi(r[3],h):o[4]}return X=o[5],X&&(U=r[5],r[5]=U?Oa(U,X,o[6]):X,r[6]=U?gi(r[5],h):o[6]),X=o[7],X&&(r[7]=X),_&z&&(r[8]=r[8]==null?o[8]:Wt(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=v,r}function Mm(r){var o=[];if(r!=null)for(var c in ft(r))o.push(c);return o}function Pm(r){return Po.call(r)}function Ga(r,o,c){return o=Pt(o===n?r.length-1:o,0),function(){for(var _=arguments,v=-1,E=Pt(_.length-o,0),N=Q(E);++v<E;)N[v]=_[o+v];v=-1;for(var X=Q(o+1);++v<o;)X[v]=_[v];return X[o]=c(N),on(r,this,X)}}function Za(r,o){return o.length<2?r:Hi(r,pn(o,0,-1))}function Tm(r,o){for(var c=r.length,_=Wt(o.length,c),v=Qt(r);_--;){var E=o[_];r[_]=$n(E,c)?v[E]:n}return r}function ru(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var Ja=ja(ba),Xr=Kg||function(r,o){return Lt.setTimeout(r,o)},ou=ja(j0);function Qa(r,o,c){var _=o+"";return ou(r,vm(_,Om(ym(_),c)))}function ja(r){var o=0,c=0;return function(){var _=Gg(),v=B-(_-c);if(c=_,v>0){if(++o>=D)return arguments[0]}else o=0;return r.apply(n,arguments)}}function jo(r,o){var c=-1,_=r.length,v=_-1;for(o=o===n?_:o;++c<o;){var E=Ys(c,v),N=r[E];r[E]=r[c],r[c]=N}return r.length=o,r}var $a=Em(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(es,function(c,_,v,E){o.push(v?E.replace(us,"$1"):_||c)}),o});function Yn(r){if(typeof r=="string"||un(r))return r;var o=r+"";return o=="0"&&1/r==-1/0?"-0":o}function Ni(r){if(r!=null){try{return Mo.call(r)}catch{}try{return r+""}catch{}}return""}function Om(r,o){return yn(Me,function(c){var _="_."+c[0];o&c[1]&&!So(r,_)&&r.push(_)}),r.sort()}function ec(r){if(r instanceof je)return r.clone();var o=new bn(r.__wrapped__,r.__chain__);return o.__actions__=Qt(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function Im(r,o,c){(c?qt(r,o,c):o===n)?o=1:o=Pt(xe(o),0);var _=r==null?0:r.length;if(!_||o<1)return[];for(var v=0,E=0,N=Q(No(_/o));v<_;)N[E++]=pn(r,v,v+=o);return N}function Hm(r){for(var o=-1,c=r==null?0:r.length,_=0,v=[];++o<c;){var E=r[o];E&&(v[_++]=E)}return v}function zm(){var r=arguments.length;if(!r)return[];for(var o=Q(r-1),c=arguments[0],_=r;_--;)o[_-1]=arguments[_];return hi(qe(c)?Qt(c):[c],Rt(o,1))}var Nm=Ze(function(r,o){return St(r)?Nr(r,Rt(o,1,St,!0)):[]}),Lm=Ze(function(r,o){var c=Sn(o);return St(c)&&(c=n),St(r)?Nr(r,Rt(o,1,St,!0),Re(c,2)):[]}),Rm=Ze(function(r,o){var c=Sn(o);return St(c)&&(c=n),St(r)?Nr(r,Rt(o,1,St,!0),n,c):[]});function Dm(r,o,c){var _=r==null?0:r.length;return _?(o=c||o===n?1:xe(o),pn(r,o<0?0:o,_)):[]}function Wm(r,o,c){var _=r==null?0:r.length;return _?(o=c||o===n?1:xe(o),o=_-o,pn(r,0,o<0?0:o)):[]}function Bm(r,o){return r&&r.length?Ko(r,Re(o,3),!0,!0):[]}function Xm(r,o){return r&&r.length?Ko(r,Re(o,3),!0):[]}function Ym(r,o,c,_){var v=r==null?0:r.length;return v?(c&&typeof c!="number"&&qt(r,o,c)&&(c=0,_=v),z0(r,o,c,_)):[]}function tc(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var v=c==null?0:xe(c);return v<0&&(v=Pt(_+v,0)),ko(r,Re(o,3),v)}function nc(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var v=_-1;return c!==n&&(v=xe(c),v=c<0?Pt(_+v,0):Wt(v,_-1)),ko(r,Re(o,3),v,!0)}function ic(r){var o=r==null?0:r.length;return o?Rt(r,1):[]}function Fm(r){var o=r==null?0:r.length;return o?Rt(r,G):[]}function Vm(r,o){var c=r==null?0:r.length;return c?(o=o===n?1:xe(o),Rt(r,o)):[]}function Km(r){for(var o=-1,c=r==null?0:r.length,_={};++o<c;){var v=r[o];_[v[0]]=v[1]}return _}function rc(r){return r&&r.length?r[0]:n}function Um(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var v=c==null?0:xe(c);return v<0&&(v=Pt(_+v,0)),Ki(r,o,v)}function qm(r){var o=r==null?0:r.length;return o?pn(r,0,-1):[]}var xm=Ze(function(r){var o=ht(r,qs);return o.length&&o[0]===r[0]?Rs(o):[]}),Gm=Ze(function(r){var o=Sn(r),c=ht(r,qs);return o===Sn(c)?o=n:c.pop(),c.length&&c[0]===r[0]?Rs(c,Re(o,2)):[]}),Zm=Ze(function(r){var o=Sn(r),c=ht(r,qs);return o=typeof o=="function"?o:n,o&&c.pop(),c.length&&c[0]===r[0]?Rs(c,n,o):[]});function Jm(r,o){return r==null?"":qg.call(r,o)}function Sn(r){var o=r==null?0:r.length;return o?r[o-1]:n}function Qm(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var v=_;return c!==n&&(v=xe(c),v=v<0?Pt(_+v,0):Wt(v,_-1)),o===o?Og(r,o,v):ko(r,Wf,v,!0)}function jm(r,o){return r&&r.length?ma(r,xe(o)):n}var $m=Ze(oc);function oc(r,o){return r&&r.length&&o&&o.length?Xs(r,o):r}function e_(r,o,c){return r&&r.length&&o&&o.length?Xs(r,o,Re(c,2)):r}function t_(r,o,c){return r&&r.length&&o&&o.length?Xs(r,o,n,c):r}var n_=jn(function(r,o){var c=r==null?0:r.length,_=Hs(r,o);return wa(r,ht(o,function(v){return $n(v,c)?+v:v}).sort(Pa)),_});function i_(r,o){var c=[];if(!(r&&r.length))return c;var _=-1,v=[],E=r.length;for(o=Re(o,3);++_<E;){var N=r[_];o(N,_,r)&&(c.push(N),v.push(_))}return wa(r,v),c}function lu(r){return r==null?r:Jg.call(r)}function r_(r,o,c){var _=r==null?0:r.length;return _?(c&&typeof c!="number"&&qt(r,o,c)?(o=0,c=_):(o=o==null?0:xe(o),c=c===n?_:xe(c)),pn(r,o,c)):[]}function o_(r,o){return Vo(r,o)}function l_(r,o,c){return Vs(r,o,Re(c,2))}function s_(r,o){var c=r==null?0:r.length;if(c){var _=Vo(r,o);if(_<c&&Pn(r[_],o))return _}return-1}function u_(r,o){return Vo(r,o,!0)}function f_(r,o,c){return Vs(r,o,Re(c,2),!0)}function a_(r,o){var c=r==null?0:r.length;if(c){var _=Vo(r,o,!0)-1;if(Pn(r[_],o))return _}return-1}function c_(r){return r&&r.length?va(r):[]}function d_(r,o){return r&&r.length?va(r,Re(o,2)):[]}function h_(r){var o=r==null?0:r.length;return o?pn(r,1,o):[]}function g_(r,o,c){return r&&r.length?(o=c||o===n?1:xe(o),pn(r,0,o<0?0:o)):[]}function m_(r,o,c){var _=r==null?0:r.length;return _?(o=c||o===n?1:xe(o),o=_-o,pn(r,o<0?0:o,_)):[]}function __(r,o){return r&&r.length?Ko(r,Re(o,3),!1,!0):[]}function y_(r,o){return r&&r.length?Ko(r,Re(o,3)):[]}var w_=Ze(function(r){return yi(Rt(r,1,St,!0))}),b_=Ze(function(r){var o=Sn(r);return St(o)&&(o=n),yi(Rt(r,1,St,!0),Re(o,2))}),v_=Ze(function(r){var o=Sn(r);return o=typeof o=="function"?o:n,yi(Rt(r,1,St,!0),n,o)});function p_(r){return r&&r.length?yi(r):[]}function S_(r,o){return r&&r.length?yi(r,Re(o,2)):[]}function k_(r,o){return o=typeof o=="function"?o:n,r&&r.length?yi(r,n,o):[]}function su(r){if(!(r&&r.length))return[];var o=0;return r=di(r,function(c){if(St(c))return o=Pt(c.length,o),!0}),Cs(o,function(c){return ht(r,ps(c))})}function lc(r,o){if(!(r&&r.length))return[];var c=su(r);return o==null?c:ht(c,function(_){return on(o,n,_)})}var C_=Ze(function(r,o){return St(r)?Nr(r,o):[]}),E_=Ze(function(r){return Us(di(r,St))}),A_=Ze(function(r){var o=Sn(r);return St(o)&&(o=n),Us(di(r,St),Re(o,2))}),M_=Ze(function(r){var o=Sn(r);return o=typeof o=="function"?o:n,Us(di(r,St),n,o)}),P_=Ze(su);function T_(r,o){return Ca(r||[],o||[],zr)}function O_(r,o){return Ca(r||[],o||[],Dr)}var I_=Ze(function(r){var o=r.length,c=o>1?r[o-1]:n;return c=typeof c=="function"?(r.pop(),c):n,lc(r,c)});function sc(r){var o=k(r);return o.__chain__=!0,o}function H_(r,o){return o(r),r}function $o(r,o){return o(r)}var z_=jn(function(r){var o=r.length,c=o?r[0]:0,_=this.__wrapped__,v=function(E){return Hs(E,r)};return o>1||this.__actions__.length||!(_ instanceof je)||!$n(c)?this.thru(v):(_=_.slice(c,+c+(o?1:0)),_.__actions__.push({func:$o,args:[v],thisArg:n}),new bn(_,this.__chain__).thru(function(E){return o&&!E.length&&E.push(n),E}))});function N_(){return sc(this)}function L_(){return new bn(this.value(),this.__chain__)}function R_(){this.__values__===n&&(this.__values__=pc(this.value()));var r=this.__index__>=this.__values__.length,o=r?n:this.__values__[this.__index__++];return{done:r,value:o}}function D_(){return this}function W_(r){for(var o,c=this;c instanceof Wo;){var _=ec(c);_.__index__=0,_.__values__=n,o?v.__wrapped__=_:o=_;var v=_;c=c.__wrapped__}return v.__wrapped__=r,o}function B_(){var r=this.__wrapped__;if(r instanceof je){var o=r;return this.__actions__.length&&(o=new je(this)),o=o.reverse(),o.__actions__.push({func:$o,args:[lu],thisArg:n}),new bn(o,this.__chain__)}return this.thru(lu)}function X_(){return ka(this.__wrapped__,this.__actions__)}var Y_=Uo(function(r,o,c){st.call(r,c)?++r[c]:Jn(r,c,1)});function F_(r,o,c){var _=qe(r)?Rf:H0;return c&&qt(r,o,c)&&(o=n),_(r,Re(o,3))}function V_(r,o){var c=qe(r)?di:la;return c(r,Re(o,3))}var K_=Na(tc),U_=Na(nc);function q_(r,o){return Rt(el(r,o),1)}function x_(r,o){return Rt(el(r,o),G)}function G_(r,o,c){return c=c===n?1:xe(c),Rt(el(r,o),c)}function uc(r,o){var c=qe(r)?yn:_i;return c(r,Re(o,3))}function fc(r,o){var c=qe(r)?hg:oa;return c(r,Re(o,3))}var Z_=Uo(function(r,o,c){st.call(r,c)?r[c].push(o):Jn(r,c,[o])});function J_(r,o,c,_){r=jt(r)?r:nr(r),c=c&&!_?xe(c):0;var v=r.length;return c<0&&(c=Pt(v+c,0)),ol(r)?c<=v&&r.indexOf(o,c)>-1:!!v&&Ki(r,o,c)>-1}var Q_=Ze(function(r,o,c){var _=-1,v=typeof o=="function",E=jt(r)?Q(r.length):[];return _i(r,function(N){E[++_]=v?on(o,N,c):Lr(N,o,c)}),E}),j_=Uo(function(r,o,c){Jn(r,c,o)});function el(r,o){var c=qe(r)?ht:da;return c(r,Re(o,3))}function $_(r,o,c,_){return r==null?[]:(qe(o)||(o=o==null?[]:[o]),c=_?n:c,qe(c)||(c=c==null?[]:[c]),_a(r,o,c))}var e2=Uo(function(r,o,c){r[c?0:1].push(o)},function(){return[[],[]]});function t2(r,o,c){var _=qe(r)?bs:Xf,v=arguments.length<3;return _(r,Re(o,4),c,v,_i)}function n2(r,o,c){var _=qe(r)?gg:Xf,v=arguments.length<3;return _(r,Re(o,4),c,v,oa)}function i2(r,o){var c=qe(r)?di:la;return c(r,il(Re(o,3)))}function r2(r){var o=qe(r)?ta:J0;return o(r)}function o2(r,o,c){(c?qt(r,o,c):o===n)?o=1:o=xe(o);var _=qe(r)?M0:Q0;return _(r,o)}function l2(r){var o=qe(r)?P0:$0;return o(r)}function s2(r){if(r==null)return 0;if(jt(r))return ol(r)?qi(r):r.length;var o=Bt(r);return o==rt||o==Et?r.size:Ws(r).length}function u2(r,o,c){var _=qe(r)?vs:em;return c&&qt(r,o,c)&&(o=n),_(r,Re(o,3))}var f2=Ze(function(r,o){if(r==null)return[];var c=o.length;return c>1&&qt(r,o[0],o[1])?o=[]:c>2&&qt(o[0],o[1],o[2])&&(o=[o[0]]),_a(r,Rt(o,1),[])}),tl=Vg||function(){return Lt.Date.now()};function a2(r,o){if(typeof o!="function")throw new wn(u);return r=xe(r),function(){if(--r<1)return o.apply(this,arguments)}}function ac(r,o,c){return o=c?n:o,o=r&&o==null?r.length:o,Qn(r,z,n,n,n,n,o)}function cc(r,o){var c;if(typeof o!="function")throw new wn(u);return r=xe(r),function(){return--r>0&&(c=o.apply(this,arguments)),r<=1&&(o=n),c}}var uu=Ze(function(r,o,c){var _=P;if(c.length){var v=gi(c,er(uu));_|=I}return Qn(r,_,o,c,v)}),dc=Ze(function(r,o,c){var _=P|w;if(c.length){var v=gi(c,er(dc));_|=I}return Qn(o,_,r,c,v)});function hc(r,o,c){o=c?n:o;var _=Qn(r,S,n,n,n,n,n,o);return _.placeholder=hc.placeholder,_}function gc(r,o,c){o=c?n:o;var _=Qn(r,O,n,n,n,n,n,o);return _.placeholder=gc.placeholder,_}function mc(r,o,c){var _,v,E,N,X,U,ie=0,re=!1,fe=!1,we=!0;if(typeof r!="function")throw new wn(u);o=kn(o)||0,mt(c)&&(re=!!c.leading,fe="maxWait"in c,E=fe?Pt(kn(c.maxWait)||0,o):E,we="trailing"in c?!!c.trailing:we);function Oe(kt){var Tn=_,ni=v;return _=v=n,ie=kt,N=r.apply(ni,Tn),N}function De(kt){return ie=kt,X=Xr(Qe,o),re?Oe(kt):N}function Ge(kt){var Tn=kt-U,ni=kt-ie,Nc=o-Tn;return fe?Wt(Nc,E-ni):Nc}function We(kt){var Tn=kt-U,ni=kt-ie;return U===n||Tn>=o||Tn<0||fe&&ni>=E}function Qe(){var kt=tl();if(We(kt))return $e(kt);X=Xr(Qe,Ge(kt))}function $e(kt){return X=n,we&&_?Oe(kt):(_=v=n,N)}function fn(){X!==n&&Ea(X),ie=0,_=U=v=X=n}function xt(){return X===n?N:$e(tl())}function an(){var kt=tl(),Tn=We(kt);if(_=arguments,v=this,U=kt,Tn){if(X===n)return De(U);if(fe)return Ea(X),X=Xr(Qe,o),Oe(U)}return X===n&&(X=Xr(Qe,o)),N}return an.cancel=fn,an.flush=xt,an}var c2=Ze(function(r,o){return ra(r,1,o)}),d2=Ze(function(r,o,c){return ra(r,kn(o)||0,c)});function h2(r){return Qn(r,W)}function nl(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new wn(u);var c=function(){var _=arguments,v=o?o.apply(this,_):_[0],E=c.cache;if(E.has(v))return E.get(v);var N=r.apply(this,_);return c.cache=E.set(v,N)||E,N};return c.cache=new(nl.Cache||Zn),c}nl.Cache=Zn;function il(r){if(typeof r!="function")throw new wn(u);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function g2(r){return cc(2,r)}var m2=tm(function(r,o){o=o.length==1&&qe(o[0])?ht(o[0],ln(Re())):ht(Rt(o,1),ln(Re()));var c=o.length;return Ze(function(_){for(var v=-1,E=Wt(_.length,c);++v<E;)_[v]=o[v].call(this,_[v]);return on(r,this,_)})}),fu=Ze(function(r,o){var c=gi(o,er(fu));return Qn(r,I,n,o,c)}),_c=Ze(function(r,o){var c=gi(o,er(_c));return Qn(r,A,n,o,c)}),_2=jn(function(r,o){return Qn(r,L,n,n,n,o)});function y2(r,o){if(typeof r!="function")throw new wn(u);return o=o===n?o:xe(o),Ze(r,o)}function w2(r,o){if(typeof r!="function")throw new wn(u);return o=o==null?0:Pt(xe(o),0),Ze(function(c){var _=c[o],v=bi(c,0,o);return _&&hi(v,_),on(r,this,v)})}function b2(r,o,c){var _=!0,v=!0;if(typeof r!="function")throw new wn(u);return mt(c)&&(_="leading"in c?!!c.leading:_,v="trailing"in c?!!c.trailing:v),mc(r,o,{leading:_,maxWait:o,trailing:v})}function v2(r){return ac(r,1)}function p2(r,o){return fu(xs(o),r)}function S2(){if(!arguments.length)return[];var r=arguments[0];return qe(r)?r:[r]}function k2(r){return vn(r,y)}function C2(r,o){return o=typeof o=="function"?o:n,vn(r,y,o)}function E2(r){return vn(r,g|y)}function A2(r,o){return o=typeof o=="function"?o:n,vn(r,g|y,o)}function M2(r,o){return o==null||ia(r,o,It(o))}function Pn(r,o){return r===o||r!==r&&o!==o}var P2=Zo(Ls),T2=Zo(function(r,o){return r>=o}),Li=fa(function(){return arguments}())?fa:function(r){return pt(r)&&st.call(r,"callee")&&!Zf.call(r,"callee")},qe=Q.isArray,O2=Of?ln(Of):W0;function jt(r){return r!=null&&rl(r.length)&&!ei(r)}function St(r){return pt(r)&&jt(r)}function I2(r){return r===!0||r===!1||pt(r)&&Ut(r)==me}var vi=Ug||vu,H2=If?ln(If):B0;function z2(r){return pt(r)&&r.nodeType===1&&!Yr(r)}function N2(r){if(r==null)return!0;if(jt(r)&&(qe(r)||typeof r=="string"||typeof r.splice=="function"||vi(r)||tr(r)||Li(r)))return!r.length;var o=Bt(r);if(o==rt||o==Et)return!r.size;if(Br(r))return!Ws(r).length;for(var c in r)if(st.call(r,c))return!1;return!0}function L2(r,o){return Rr(r,o)}function R2(r,o,c){c=typeof c=="function"?c:n;var _=c?c(r,o):n;return _===n?Rr(r,o,n,c):!!_}function au(r){if(!pt(r))return!1;var o=Ut(r);return o==Ye||o==le||typeof r.message=="string"&&typeof r.name=="string"&&!Yr(r)}function D2(r){return typeof r=="number"&&Qf(r)}function ei(r){if(!mt(r))return!1;var o=Ut(r);return o==Ue||o==et||o==ge||o==hn}function yc(r){return typeof r=="number"&&r==xe(r)}function rl(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=x}function mt(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function pt(r){return r!=null&&typeof r=="object"}var wc=Hf?ln(Hf):Y0;function W2(r,o){return r===o||Ds(r,o,eu(o))}function B2(r,o,c){return c=typeof c=="function"?c:n,Ds(r,o,eu(o),c)}function X2(r){return bc(r)&&r!=+r}function Y2(r){if(Cm(r))throw new Ve(s);return aa(r)}function F2(r){return r===null}function V2(r){return r==null}function bc(r){return typeof r=="number"||pt(r)&&Ut(r)==Pe}function Yr(r){if(!pt(r)||Ut(r)!=ut)return!1;var o=Io(r);if(o===null)return!0;var c=st.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Mo.call(c)==Bg}var cu=zf?ln(zf):F0;function K2(r){return yc(r)&&r>=-9007199254740991&&r<=x}var vc=Nf?ln(Nf):V0;function ol(r){return typeof r=="string"||!qe(r)&&pt(r)&&Ut(r)==Jt}function un(r){return typeof r=="symbol"||pt(r)&&Ut(r)==gn}var tr=Lf?ln(Lf):K0;function U2(r){return r===n}function q2(r){return pt(r)&&Bt(r)==Tt}function x2(r){return pt(r)&&Ut(r)==Ht}var G2=Zo(Bs),Z2=Zo(function(r,o){return r<=o});function pc(r){if(!r)return[];if(jt(r))return ol(r)?An(r):Qt(r);if(Pr&&r[Pr])return Mg(r[Pr]());var o=Bt(r),c=o==rt?As:o==Et?Co:nr;return c(r)}function ti(r){if(!r)return r===0?r:0;if(r=kn(r),r===G||r===-1/0){var o=r<0?-1:1;return o*ee}return r===r?r:0}function xe(r){var o=ti(r),c=o%1;return o===o?c?o-c:o:0}function Sc(r){return r?Ii(xe(r),0,ce):0}function kn(r){if(typeof r=="number")return r;if(un(r))return ae;if(mt(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=mt(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=Yf(r);var c=q.test(r);return c||H1.test(r)?ag(r.slice(2),c?2:8):as.test(r)?ae:+r}function kc(r){return Xn(r,$t(r))}function J2(r){return r?Ii(xe(r),-9007199254740991,x):r===0?r:0}function ot(r){return r==null?"":sn(r)}var Q2=ji(function(r,o){if(Br(o)||jt(o)){Xn(o,It(o),r);return}for(var c in o)st.call(o,c)&&zr(r,c,o[c])}),Cc=ji(function(r,o){Xn(o,$t(o),r)}),ll=ji(function(r,o,c,_){Xn(o,$t(o),r,_)}),j2=ji(function(r,o,c,_){Xn(o,It(o),r,_)}),$2=jn(Hs);function ey(r,o){var c=Qi(r);return o==null?c:na(c,o)}var ty=Ze(function(r,o){r=ft(r);var c=-1,_=o.length,v=_>2?o[2]:n;for(v&&qt(o[0],o[1],v)&&(_=1);++c<_;)for(var E=o[c],N=$t(E),X=-1,U=N.length;++X<U;){var ie=N[X],re=r[ie];(re===n||Pn(re,Gi[ie])&&!st.call(r,ie))&&(r[ie]=E[ie])}return r}),ny=Ze(function(r){return r.push(n,Ya),on(Ec,n,r)});function iy(r,o){return Df(r,Re(o,3),Bn)}function ry(r,o){return Df(r,Re(o,3),Ns)}function oy(r,o){return r==null?r:zs(r,Re(o,3),$t)}function ly(r,o){return r==null?r:sa(r,Re(o,3),$t)}function sy(r,o){return r&&Bn(r,Re(o,3))}function uy(r,o){return r&&Ns(r,Re(o,3))}function fy(r){return r==null?[]:Yo(r,It(r))}function ay(r){return r==null?[]:Yo(r,$t(r))}function du(r,o,c){var _=r==null?n:Hi(r,o);return _===n?c:_}function cy(r,o){return r!=null&&Ka(r,o,N0)}function hu(r,o){return r!=null&&Ka(r,o,L0)}var dy=Ra(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Po.call(o)),r[o]=c},mu(en)),hy=Ra(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Po.call(o)),st.call(r,o)?r[o].push(c):r[o]=[c]},Re),gy=Ze(Lr);function It(r){return jt(r)?ea(r):Ws(r)}function $t(r){return jt(r)?ea(r,!0):U0(r)}function my(r,o){var c={};return o=Re(o,3),Bn(r,function(_,v,E){Jn(c,o(_,v,E),_)}),c}function _y(r,o){var c={};return o=Re(o,3),Bn(r,function(_,v,E){Jn(c,v,o(_,v,E))}),c}var yy=ji(function(r,o,c){Fo(r,o,c)}),Ec=ji(function(r,o,c,_){Fo(r,o,c,_)}),wy=jn(function(r,o){var c={};if(r==null)return c;var _=!1;o=ht(o,function(E){return E=wi(E,r),_||(_=E.length>1),E}),Xn(r,js(r),c),_&&(c=vn(c,g|m|y,dm));for(var v=o.length;v--;)Ks(c,o[v]);return c});function by(r,o){return Ac(r,il(Re(o)))}var vy=jn(function(r,o){return r==null?{}:x0(r,o)});function Ac(r,o){if(r==null)return{};var c=ht(js(r),function(_){return[_]});return o=Re(o),ya(r,c,function(_,v){return o(_,v[0])})}function py(r,o,c){o=wi(o,r);var _=-1,v=o.length;for(v||(v=1,r=n);++_<v;){var E=r==null?n:r[Yn(o[_])];E===n&&(_=v,E=c),r=ei(E)?E.call(r):E}return r}function Sy(r,o,c){return r==null?r:Dr(r,o,c)}function ky(r,o,c,_){return _=typeof _=="function"?_:n,r==null?r:Dr(r,o,c,_)}var Mc=Ba(It),Pc=Ba($t);function Cy(r,o,c){var _=qe(r),v=_||vi(r)||tr(r);if(o=Re(o,4),c==null){var E=r&&r.constructor;v?c=_?new E:[]:mt(r)?c=ei(E)?Qi(Io(r)):{}:c={}}return(v?yn:Bn)(r,function(N,X,U){return o(c,N,X,U)}),c}function Ey(r,o){return r==null?!0:Ks(r,o)}function Ay(r,o,c){return r==null?r:Sa(r,o,xs(c))}function My(r,o,c,_){return _=typeof _=="function"?_:n,r==null?r:Sa(r,o,xs(c),_)}function nr(r){return r==null?[]:Es(r,It(r))}function Py(r){return r==null?[]:Es(r,$t(r))}function Ty(r,o,c){return c===n&&(c=o,o=n),c!==n&&(c=kn(c),c=c===c?c:0),o!==n&&(o=kn(o),o=o===o?o:0),Ii(kn(r),o,c)}function Oy(r,o,c){return o=ti(o),c===n?(c=o,o=0):c=ti(c),r=kn(r),R0(r,o,c)}function Iy(r,o,c){if(c&&typeof c!="boolean"&&qt(r,o,c)&&(o=c=n),c===n&&(typeof o=="boolean"?(c=o,o=n):typeof r=="boolean"&&(c=r,r=n)),r===n&&o===n?(r=0,o=1):(r=ti(r),o===n?(o=r,r=0):o=ti(o)),r>o){var _=r;r=o,o=_}if(c||r%1||o%1){var v=jf();return Wt(r+v*(o-r+fg("1e-"+((v+"").length-1))),o)}return Ys(r,o)}var Hy=$i(function(r,o,c){return o=o.toLowerCase(),r+(c?Tc(o):o)});function Tc(r){return gu(ot(r).toLowerCase())}function Oc(r){return r=ot(r),r&&r.replace(N1,Sg).replace($1,"")}function zy(r,o,c){r=ot(r),o=sn(o);var _=r.length;c=c===n?_:Ii(xe(c),0,_);var v=c;return c-=o.length,c>=0&&r.slice(c,v)==o}function Ny(r){return r=ot(r),r&&Zl.test(r)?r.replace(Fi,kg):r}function Ly(r){return r=ot(r),r&&ts.test(r)?r.replace(Er,"\\$&"):r}var Ry=$i(function(r,o,c){return r+(c?"-":"")+o.toLowerCase()}),Dy=$i(function(r,o,c){return r+(c?" ":"")+o.toLowerCase()}),Wy=za("toLowerCase");function By(r,o,c){r=ot(r),o=xe(o);var _=o?qi(r):0;if(!o||_>=o)return r;var v=(o-_)/2;return Go(Lo(v),c)+r+Go(No(v),c)}function Xy(r,o,c){r=ot(r),o=xe(o);var _=o?qi(r):0;return o&&_<o?r+Go(o-_,c):r}function Yy(r,o,c){r=ot(r),o=xe(o);var _=o?qi(r):0;return o&&_<o?Go(o-_,c)+r:r}function Fy(r,o,c){return c||o==null?o=0:o&&(o=+o),Zg(ot(r).replace(Ar,""),o||0)}function Vy(r,o,c){return(c?qt(r,o,c):o===n)?o=1:o=xe(o),Fs(ot(r),o)}function Ky(){var r=arguments,o=ot(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var Uy=$i(function(r,o,c){return r+(c?"_":"")+o.toLowerCase()});function qy(r,o,c){return c&&typeof c!="number"&&qt(r,o,c)&&(o=c=n),c=c===n?ce:c>>>0,c?(r=ot(r),r&&(typeof o=="string"||o!=null&&!cu(o))&&(o=sn(o),!o&&Ui(r))?bi(An(r),0,c):r.split(o,c)):[]}var xy=$i(function(r,o,c){return r+(c?" ":"")+gu(o)});function Gy(r,o,c){return r=ot(r),c=c==null?0:Ii(xe(c),0,r.length),o=sn(o),r.slice(c,c+o.length)==o}function Zy(r,o,c){var _=k.templateSettings;c&&qt(r,o,c)&&(o=n),r=ot(r),o=ll({},o,_,Xa);var v=ll({},o.imports,_.imports,Xa),E=It(v),N=Es(v,E),X,U,ie=0,re=o.interpolate||bo,fe="__p += '",we=Ms((o.escape||bo).source+"|"+re.source+"|"+(re===yo?fs:bo).source+"|"+(o.evaluate||bo).source+"|$","g"),Oe="//# sourceURL="+(st.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rg+"]")+`
`;r.replace(we,function(We,Qe,$e,fn,xt,an){return $e||($e=fn),fe+=r.slice(ie,an).replace(L1,Cg),Qe&&(X=!0,fe+=`' +
__e(`+Qe+`) +
'`),xt&&(U=!0,fe+=`';
`+xt+`;
__p += '`),$e&&(fe+=`' +
((__t = (`+$e+`)) == null ? '' : __t) +
'`),ie=an+We.length,We}),fe+=`';
`;var De=st.call(o,"variable")&&o.variable;if(!De)fe=`with (obj) {
`+fe+`
}
`;else if(ss.test(De))throw new Ve(f);fe=(U?fe.replace(ai,""):fe).replace(ci,"$1").replace(Nt,"$1;"),fe="function("+(De||"obj")+`) {
`+(De?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(X?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fe+`return __p
}`;var Ge=Hc(function(){return nt(E,Oe+"return "+fe).apply(n,N)});if(Ge.source=fe,au(Ge))throw Ge;return Ge}function Jy(r){return ot(r).toLowerCase()}function Qy(r){return ot(r).toUpperCase()}function jy(r,o,c){if(r=ot(r),r&&(c||o===n))return Yf(r);if(!r||!(o=sn(o)))return r;var _=An(r),v=An(o),E=Ff(_,v),N=Vf(_,v)+1;return bi(_,E,N).join("")}function $y(r,o,c){if(r=ot(r),r&&(c||o===n))return r.slice(0,Uf(r)+1);if(!r||!(o=sn(o)))return r;var _=An(r),v=Vf(_,An(o))+1;return bi(_,0,v).join("")}function ew(r,o,c){if(r=ot(r),r&&(c||o===n))return r.replace(Ar,"");if(!r||!(o=sn(o)))return r;var _=An(r),v=Ff(_,An(o));return bi(_,v).join("")}function tw(r,o){var c=K,_=M;if(mt(o)){var v="separator"in o?o.separator:v;c="length"in o?xe(o.length):c,_="omission"in o?sn(o.omission):_}r=ot(r);var E=r.length;if(Ui(r)){var N=An(r);E=N.length}if(c>=E)return r;var X=c-qi(_);if(X<1)return _;var U=N?bi(N,0,X).join(""):r.slice(0,X);if(v===n)return U+_;if(N&&(X+=U.length-X),cu(v)){if(r.slice(X).search(v)){var ie,re=U;for(v.global||(v=Ms(v.source,ot(wo.exec(v))+"g")),v.lastIndex=0;ie=v.exec(re);)var fe=ie.index;U=U.slice(0,fe===n?X:fe)}}else if(r.indexOf(sn(v),X)!=X){var we=U.lastIndexOf(v);we>-1&&(U=U.slice(0,we))}return U+_}function nw(r){return r=ot(r),r&&Gl.test(r)?r.replace(Cr,Ig):r}var iw=$i(function(r,o,c){return r+(c?" ":"")+o.toUpperCase()}),gu=za("toUpperCase");function Ic(r,o,c){return r=ot(r),o=c?n:o,o===n?Ag(r)?Ng(r):yg(r):r.match(o)||[]}var Hc=Ze(function(r,o){try{return on(r,n,o)}catch(c){return au(c)?c:new Ve(c)}}),rw=jn(function(r,o){return yn(o,function(c){c=Yn(c),Jn(r,c,uu(r[c],r))}),r});function ow(r){var o=r==null?0:r.length,c=Re();return r=o?ht(r,function(_){if(typeof _[1]!="function")throw new wn(u);return[c(_[0]),_[1]]}):[],Ze(function(_){for(var v=-1;++v<o;){var E=r[v];if(on(E[0],this,_))return on(E[1],this,_)}})}function lw(r){return I0(vn(r,g))}function mu(r){return function(){return r}}function sw(r,o){return r==null||r!==r?o:r}var uw=La(),fw=La(!0);function en(r){return r}function _u(r){return ca(typeof r=="function"?r:vn(r,g))}function aw(r){return ha(vn(r,g))}function cw(r,o){return ga(r,vn(o,g))}var dw=Ze(function(r,o){return function(c){return Lr(c,r,o)}}),hw=Ze(function(r,o){return function(c){return Lr(r,c,o)}});function yu(r,o,c){var _=It(o),v=Yo(o,_);c==null&&!(mt(o)&&(v.length||!_.length))&&(c=o,o=r,r=this,v=Yo(o,It(o)));var E=!(mt(c)&&"chain"in c)||!!c.chain,N=ei(r);return yn(v,function(X){var U=o[X];r[X]=U,N&&(r.prototype[X]=function(){var ie=this.__chain__;if(E||ie){var re=r(this.__wrapped__),fe=re.__actions__=Qt(this.__actions__);return fe.push({func:U,args:arguments,thisArg:r}),re.__chain__=ie,re}return U.apply(r,hi([this.value()],arguments))})}),r}function gw(){return Lt._===this&&(Lt._=Xg),this}function wu(){}function mw(r){return r=xe(r),Ze(function(o){return ma(o,r)})}var _w=Zs(ht),yw=Zs(Rf),ww=Zs(vs);function zc(r){return nu(r)?ps(Yn(r)):G0(r)}function bw(r){return function(o){return r==null?n:Hi(r,o)}}var vw=Da(),pw=Da(!0);function bu(){return[]}function vu(){return!1}function Sw(){return{}}function kw(){return""}function Cw(){return!0}function Ew(r,o){if(r=xe(r),r<1||r>x)return[];var c=ce,_=Wt(r,ce);o=Re(o),r-=ce;for(var v=Cs(_,o);++c<r;)o(c);return v}function Aw(r){return qe(r)?ht(r,Yn):un(r)?[r]:Qt($a(ot(r)))}function Mw(r){var o=++Wg;return ot(r)+o}var Pw=xo(function(r,o){return r+o},0),Tw=Js("ceil"),Ow=xo(function(r,o){return r/o},1),Iw=Js("floor");function Hw(r){return r&&r.length?Xo(r,en,Ls):n}function zw(r,o){return r&&r.length?Xo(r,Re(o,2),Ls):n}function Nw(r){return Bf(r,en)}function Lw(r,o){return Bf(r,Re(o,2))}function Rw(r){return r&&r.length?Xo(r,en,Bs):n}function Dw(r,o){return r&&r.length?Xo(r,Re(o,2),Bs):n}var Ww=xo(function(r,o){return r*o},1),Bw=Js("round"),Xw=xo(function(r,o){return r-o},0);function Yw(r){return r&&r.length?ks(r,en):0}function Fw(r,o){return r&&r.length?ks(r,Re(o,2)):0}return k.after=a2,k.ary=ac,k.assign=Q2,k.assignIn=Cc,k.assignInWith=ll,k.assignWith=j2,k.at=$2,k.before=cc,k.bind=uu,k.bindAll=rw,k.bindKey=dc,k.castArray=S2,k.chain=sc,k.chunk=Im,k.compact=Hm,k.concat=zm,k.cond=ow,k.conforms=lw,k.constant=mu,k.countBy=Y_,k.create=ey,k.curry=hc,k.curryRight=gc,k.debounce=mc,k.defaults=ty,k.defaultsDeep=ny,k.defer=c2,k.delay=d2,k.difference=Nm,k.differenceBy=Lm,k.differenceWith=Rm,k.drop=Dm,k.dropRight=Wm,k.dropRightWhile=Bm,k.dropWhile=Xm,k.fill=Ym,k.filter=V_,k.flatMap=q_,k.flatMapDeep=x_,k.flatMapDepth=G_,k.flatten=ic,k.flattenDeep=Fm,k.flattenDepth=Vm,k.flip=h2,k.flow=uw,k.flowRight=fw,k.fromPairs=Km,k.functions=fy,k.functionsIn=ay,k.groupBy=Z_,k.initial=qm,k.intersection=xm,k.intersectionBy=Gm,k.intersectionWith=Zm,k.invert=dy,k.invertBy=hy,k.invokeMap=Q_,k.iteratee=_u,k.keyBy=j_,k.keys=It,k.keysIn=$t,k.map=el,k.mapKeys=my,k.mapValues=_y,k.matches=aw,k.matchesProperty=cw,k.memoize=nl,k.merge=yy,k.mergeWith=Ec,k.method=dw,k.methodOf=hw,k.mixin=yu,k.negate=il,k.nthArg=mw,k.omit=wy,k.omitBy=by,k.once=g2,k.orderBy=$_,k.over=_w,k.overArgs=m2,k.overEvery=yw,k.overSome=ww,k.partial=fu,k.partialRight=_c,k.partition=e2,k.pick=vy,k.pickBy=Ac,k.property=zc,k.propertyOf=bw,k.pull=$m,k.pullAll=oc,k.pullAllBy=e_,k.pullAllWith=t_,k.pullAt=n_,k.range=vw,k.rangeRight=pw,k.rearg=_2,k.reject=i2,k.remove=i_,k.rest=y2,k.reverse=lu,k.sampleSize=o2,k.set=Sy,k.setWith=ky,k.shuffle=l2,k.slice=r_,k.sortBy=f2,k.sortedUniq=c_,k.sortedUniqBy=d_,k.split=qy,k.spread=w2,k.tail=h_,k.take=g_,k.takeRight=m_,k.takeRightWhile=__,k.takeWhile=y_,k.tap=H_,k.throttle=b2,k.thru=$o,k.toArray=pc,k.toPairs=Mc,k.toPairsIn=Pc,k.toPath=Aw,k.toPlainObject=kc,k.transform=Cy,k.unary=v2,k.union=w_,k.unionBy=b_,k.unionWith=v_,k.uniq=p_,k.uniqBy=S_,k.uniqWith=k_,k.unset=Ey,k.unzip=su,k.unzipWith=lc,k.update=Ay,k.updateWith=My,k.values=nr,k.valuesIn=Py,k.without=C_,k.words=Ic,k.wrap=p2,k.xor=E_,k.xorBy=A_,k.xorWith=M_,k.zip=P_,k.zipObject=T_,k.zipObjectDeep=O_,k.zipWith=I_,k.entries=Mc,k.entriesIn=Pc,k.extend=Cc,k.extendWith=ll,yu(k,k),k.add=Pw,k.attempt=Hc,k.camelCase=Hy,k.capitalize=Tc,k.ceil=Tw,k.clamp=Ty,k.clone=k2,k.cloneDeep=E2,k.cloneDeepWith=A2,k.cloneWith=C2,k.conformsTo=M2,k.deburr=Oc,k.defaultTo=sw,k.divide=Ow,k.endsWith=zy,k.eq=Pn,k.escape=Ny,k.escapeRegExp=Ly,k.every=F_,k.find=K_,k.findIndex=tc,k.findKey=iy,k.findLast=U_,k.findLastIndex=nc,k.findLastKey=ry,k.floor=Iw,k.forEach=uc,k.forEachRight=fc,k.forIn=oy,k.forInRight=ly,k.forOwn=sy,k.forOwnRight=uy,k.get=du,k.gt=P2,k.gte=T2,k.has=cy,k.hasIn=hu,k.head=rc,k.identity=en,k.includes=J_,k.indexOf=Um,k.inRange=Oy,k.invoke=gy,k.isArguments=Li,k.isArray=qe,k.isArrayBuffer=O2,k.isArrayLike=jt,k.isArrayLikeObject=St,k.isBoolean=I2,k.isBuffer=vi,k.isDate=H2,k.isElement=z2,k.isEmpty=N2,k.isEqual=L2,k.isEqualWith=R2,k.isError=au,k.isFinite=D2,k.isFunction=ei,k.isInteger=yc,k.isLength=rl,k.isMap=wc,k.isMatch=W2,k.isMatchWith=B2,k.isNaN=X2,k.isNative=Y2,k.isNil=V2,k.isNull=F2,k.isNumber=bc,k.isObject=mt,k.isObjectLike=pt,k.isPlainObject=Yr,k.isRegExp=cu,k.isSafeInteger=K2,k.isSet=vc,k.isString=ol,k.isSymbol=un,k.isTypedArray=tr,k.isUndefined=U2,k.isWeakMap=q2,k.isWeakSet=x2,k.join=Jm,k.kebabCase=Ry,k.last=Sn,k.lastIndexOf=Qm,k.lowerCase=Dy,k.lowerFirst=Wy,k.lt=G2,k.lte=Z2,k.max=Hw,k.maxBy=zw,k.mean=Nw,k.meanBy=Lw,k.min=Rw,k.minBy=Dw,k.stubArray=bu,k.stubFalse=vu,k.stubObject=Sw,k.stubString=kw,k.stubTrue=Cw,k.multiply=Ww,k.nth=jm,k.noConflict=gw,k.noop=wu,k.now=tl,k.pad=By,k.padEnd=Xy,k.padStart=Yy,k.parseInt=Fy,k.random=Iy,k.reduce=t2,k.reduceRight=n2,k.repeat=Vy,k.replace=Ky,k.result=py,k.round=Bw,k.runInContext=F,k.sample=r2,k.size=s2,k.snakeCase=Uy,k.some=u2,k.sortedIndex=o_,k.sortedIndexBy=l_,k.sortedIndexOf=s_,k.sortedLastIndex=u_,k.sortedLastIndexBy=f_,k.sortedLastIndexOf=a_,k.startCase=xy,k.startsWith=Gy,k.subtract=Xw,k.sum=Yw,k.sumBy=Fw,k.template=Zy,k.times=Ew,k.toFinite=ti,k.toInteger=xe,k.toLength=Sc,k.toLower=Jy,k.toNumber=kn,k.toSafeInteger=J2,k.toString=ot,k.toUpper=Qy,k.trim=jy,k.trimEnd=$y,k.trimStart=ew,k.truncate=tw,k.unescape=nw,k.uniqueId=Mw,k.upperCase=iw,k.upperFirst=gu,k.each=uc,k.eachRight=fc,k.first=rc,yu(k,function(){var r={};return Bn(k,function(o,c){st.call(k.prototype,c)||(r[c]=o)}),r}(),{chain:!1}),k.VERSION=i,yn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){k[r].placeholder=k}),yn(["drop","take"],function(r,o){je.prototype[r]=function(c){c=c===n?1:Pt(xe(c),0);var _=this.__filtered__&&!o?new je(this):this.clone();return _.__filtered__?_.__takeCount__=Wt(c,_.__takeCount__):_.__views__.push({size:Wt(c,ce),type:r+(_.__dir__<0?"Right":"")}),_},je.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),yn(["filter","map","takeWhile"],function(r,o){var c=o+1,_=c==T||c==Y;je.prototype[r]=function(v){var E=this.clone();return E.__iteratees__.push({iteratee:Re(v,3),type:c}),E.__filtered__=E.__filtered__||_,E}}),yn(["head","last"],function(r,o){var c="take"+(o?"Right":"");je.prototype[r]=function(){return this[c](1).value()[0]}}),yn(["initial","tail"],function(r,o){var c="drop"+(o?"":"Right");je.prototype[r]=function(){return this.__filtered__?new je(this):this[c](1)}}),je.prototype.compact=function(){return this.filter(en)},je.prototype.find=function(r){return this.filter(r).head()},je.prototype.findLast=function(r){return this.reverse().find(r)},je.prototype.invokeMap=Ze(function(r,o){return typeof r=="function"?new je(this):this.map(function(c){return Lr(c,r,o)})}),je.prototype.reject=function(r){return this.filter(il(Re(r)))},je.prototype.slice=function(r,o){r=xe(r);var c=this;return c.__filtered__&&(r>0||o<0)?new je(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),o!==n&&(o=xe(o),c=o<0?c.dropRight(-o):c.take(o-r)),c)},je.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},je.prototype.toArray=function(){return this.take(ce)},Bn(je.prototype,function(r,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),_=/^(?:head|last)$/.test(o),v=k[_?"take"+(o=="last"?"Right":""):o],E=_||/^find/.test(o);v&&(k.prototype[o]=function(){var N=this.__wrapped__,X=_?[1]:arguments,U=N instanceof je,ie=X[0],re=U||qe(N),fe=function(Qe){var $e=v.apply(k,hi([Qe],X));return _&&we?$e[0]:$e};re&&c&&typeof ie=="function"&&ie.length!=1&&(U=re=!1);var we=this.__chain__,Oe=!!this.__actions__.length,De=E&&!we,Ge=U&&!Oe;if(!E&&re){N=Ge?N:new je(this);var We=r.apply(N,X);return We.__actions__.push({func:$o,args:[fe],thisArg:n}),new bn(We,we)}return De&&Ge?r.apply(this,X):(We=this.thru(fe),De?_?We.value()[0]:We.value():We)})}),yn(["pop","push","shift","sort","splice","unshift"],function(r){var o=Eo[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",_=/^(?:pop|shift)$/.test(r);k.prototype[r]=function(){var v=arguments;if(_&&!this.__chain__){var E=this.value();return o.apply(qe(E)?E:[],v)}return this[c](function(N){return o.apply(qe(N)?N:[],v)})}}),Bn(je.prototype,function(r,o){var c=k[o];if(c){var _=c.name+"";st.call(Ji,_)||(Ji[_]=[]),Ji[_].push({name:o,func:c})}}),Ji[qo(n,w).name]=[{name:"wrapper",func:n}],je.prototype.clone=n0,je.prototype.reverse=i0,je.prototype.value=r0,k.prototype.at=z_,k.prototype.chain=N_,k.prototype.commit=L_,k.prototype.next=R_,k.prototype.plant=W_,k.prototype.reverse=B_,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=X_,k.prototype.first=k.prototype.head,Pr&&(k.prototype[Pr]=D_),k},xi=Lg();Mi?((Mi.exports=xi)._=xi,_s._=xi):Lt._=xi}).call(Kr)})(Rl,Rl.exports);var J7=Rl.exports;const fh=_7(J7);function Q7(t,e,n){const i=t.slice();return i[18]=e[n][0],i[19]=e[n][1],i}function j7(t,e,n){const i=t.slice();return i[18]=e[n][0],i[19]=e[n][1],i}function $7(t,e){let n,i,l;return i=new O1({props:{id:e[18],type:wr.ArrowClosed}}),{key:t,first:null,c(){n=bt(),ke(i.$$.fragment),this.first=n},m(s,u){J(s,n,u),ve(i,s,u),l=!0},p:Te,i(s){l||(j(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function eS(t,e){let n,i,l;return i=new O1({props:{id:e[18]+"line",type:wr.ArrowClosed}}),{key:t,first:null,c(){n=bt(),ke(i.$$.fragment),this.first=n},m(s,u){J(s,n,u),ve(i,s,u),l=!0},p:Te,i(s){l||(j(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function tS(t){let e;return{c(){e=tt("")},m(n,i){J(n,e,i)},d(n){n&&Z(e)}}}function nS(t){let e;return{c(){e=tt("")},m(n,i){J(n,e,i)},d(n){n&&Z(e)}}}function iS(t){let e,n,i,l;return e=new pr({props:{$$slots:{default:[tS]},$$scope:{ctx:t}}}),e.$on("click",t[11]),i=new pr({props:{$$slots:{default:[nS]},$$scope:{ctx:t}}}),i.$on("click",t[12]),{c(){ke(e.$$.fragment),n=Se(),ke(i.$$.fragment)},m(s,u){ve(e,s,u),J(s,n,u),ve(i,s,u),l=!0},p(s,u){const f={};u&16777216&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const a={};u&16777216&&(a.$$scope={dirty:u,ctx:s}),i.$set(a)},i(s){l||(j(e.$$.fragment,s),j(i.$$.fragment,s),l=!0)},o(s){te(e.$$.fragment,s),te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(e,s),pe(i,s)}}}function rS(t){let e,n,i;return{c(){e=_e("a"),e.textContent="GitHub",n=_e("br"),i=tt(" 2024 Craig Anderson"),C(e,"href","https://github.com/theonlytechnohead/patchcanvas")},m(l,s){J(l,e,s),J(l,n,s),J(l,i,s)},p:Te,d(l){l&&(Z(e),Z(n),Z(i))}}}function oS(t){let e=[],n=new Map,i,l=[],s=new Map,u,f,a,d,h,g,m,y,b,p,P,w=Ct(so);const H=I=>I[19][1];for(let I=0;I<w.length;I+=1){let A=j7(t,w,I),z=H(A);n.set(z,e[I]=$7(z,A))}let S=Ct(so);const O=I=>I[19][1];for(let I=0;I<S.length;I+=1){let A=Q7(t,S,I),z=O(A);s.set(z,l[I]=eS(z,A))}return f=new T8({props:{variant:li.Dots}}),d=new B8({props:{position:"top-right",pannable:!1,zoomable:!1,width:visualViewport!=null&&visualViewport.width?(visualViewport==null?void 0:visualViewport.width)/10:void 0,height:visualViewport!=null&&visualViewport.height?(visualViewport==null?void 0:visualViewport.height)/10:void 0}}),g=new y8({props:{position:"bottom-right",showFitView:!1,showLock:!1,$$slots:{default:[iS]},$$scope:{ctx:t}}}),y=new Bi({props:{position:"bottom-left",$$slots:{default:[rS]},$$scope:{ctx:t}}}),p=new H7({}),{c(){for(let I=0;I<e.length;I+=1)e[I].c();i=Se();for(let I=0;I<l.length;I+=1)l[I].c();u=Se(),ke(f.$$.fragment),a=Se(),ke(d.$$.fragment),h=Se(),ke(g.$$.fragment),m=Se(),ke(y.$$.fragment),b=Se(),ke(p.$$.fragment)},m(I,A){for(let z=0;z<e.length;z+=1)e[z]&&e[z].m(I,A);J(I,i,A);for(let z=0;z<l.length;z+=1)l[z]&&l[z].m(I,A);J(I,u,A),ve(f,I,A),J(I,a,A),ve(d,I,A),J(I,h,A),ve(g,I,A),J(I,m,A),ve(y,I,A),J(I,b,A),ve(p,I,A),P=!0},p(I,A){const z={};A&16777217&&(z.$$scope={dirty:A,ctx:I}),g.$set(z);const L={};A&16777216&&(L.$$scope={dirty:A,ctx:I}),y.$set(L)},i(I){if(!P){for(let A=0;A<w.length;A+=1)j(e[A]);for(let A=0;A<S.length;A+=1)j(l[A]);j(f.$$.fragment,I),j(d.$$.fragment,I),j(g.$$.fragment,I),j(y.$$.fragment,I),j(p.$$.fragment,I),P=!0}},o(I){for(let A=0;A<e.length;A+=1)te(e[A]);for(let A=0;A<l.length;A+=1)te(l[A]);te(f.$$.fragment,I),te(d.$$.fragment,I),te(g.$$.fragment,I),te(y.$$.fragment,I),te(p.$$.fragment,I),P=!1},d(I){I&&(Z(i),Z(u),Z(a),Z(h),Z(m),Z(b));for(let A=0;A<e.length;A+=1)e[A].d(I);for(let A=0;A<l.length;A+=1)l[A].d(I);pe(f,I),pe(d,I),pe(g,I),pe(y,I),pe(p,I)}}}function lS(t){let e,n;return e=new x7({props:{slot:"connectionLine"}}),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p:Te,i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function sS(t){let e,n;return e=new V6({props:{nodes:t[3],nodeTypes:t[1],edges:t[4],edgeTypes:t[2],defaultEdgeOptions:t[5],isValidConnection:uS,snapGrid:[25,25],colorMode:t[0].theme,fitView:!0,fitViewOptions:t[6],minZoom:.75,maxZoom:10,onlyRenderVisibleElements:!0,attributionPosition:"top-right",deleteKey:"Delete",$$slots:{connectionLine:[lS],default:[oS]},$$scope:{ctx:t}}}),e.$on("dragover",t[7]),e.$on("drop",t[8]),e.$on("nodeclick",t[13]),e.$on("edgeclick",t[14]),{c(){ke(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&1&&(s.colorMode=i[0].theme),l&16777217&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(j(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function uS(t){return t.sourceHandle===t.targetHandle}function fS(t){var e;document.fullscreenElement||(e=document.querySelector('[media="screen"]'))==null||e.setAttribute("media","print")}function aS(t,e,n){var I;let i,l,s,u;he(t,Nn,A=>n(15,s=A)),he(t,zu,A=>n(0,u=A)),s.version!=kl?(console.log("Version mismatch: "+s.version+" != "+kl),s.nodes.length===In.length&&s.edges.length===Gu.length&&s.nodes.every((A,z,L)=>fh.isMatch(A,In[z]))&&s.edges.every((A,z,L)=>fh.isMatch(A,Gu[z]))?(console.log("Still default, updating without confirmation"),setTimeout(()=>{P1()},0)):(console.log("Edited, prompt for confirmation"),confirm(`Your canvas is out of date
Do you want to update to the latest version?
(v${s.version} -> v${kl})`))):console.log("Using latest save version: "+s.version),document.documentElement.setAttribute("data-theme",u.theme),(I=document.querySelector('meta[name="color-scheme"]'))==null||I.setAttribute("content",u.theme),document.documentElement.setAttribute("print-preview",String(!1)),document.addEventListener("keyup",A=>{if(A.code==="KeyP"){const z=document.documentElement.getAttribute("print-preview")===String(!0);document.documentElement.setAttribute("print-preview",`${!z}`)}});const f={default:F7},a={connection:L7},d=Ie(JSON.parse(JSON.stringify(ue(Nn).nodes)));he(t,d,A=>n(9,i=A));const h=Ie(JSON.parse(JSON.stringify(ue(Nn).edges)));he(t,h,A=>n(10,l=A));const g={animated:!1,type:"connection",class:""},m={padding:1,duration:1e3},{screenToFlowPosition:y}=V8(),b=A=>{if(A.preventDefault(),A.dataTransfer){const z=document.elementFromPoint(A.clientX,A.clientY);let L="";A.dataTransfer.types[0]==="application/patchcanvasnode"?L=".svelte-flow__pane, .svelte-flow__edge, .svelte-flow__node.group":A.dataTransfer.types[0].includes("patchcanvasprotocol/")?L=".drop-target":A.dataTransfer.types[0]==="application/patchcanvaseraser"&&(L=".svelte-flow__handle"),z!=null&&z.matches(L)?A.dataTransfer.dropEffect="move":A.dataTransfer.dropEffect="none"}},p=A=>{if(A.preventDefault(),!A.dataTransfer)return null;if(A.dataTransfer.types[0]==="application/patchcanvasnode"){const z=JSON.parse(A.dataTransfer.getData("application/patchcanvasnode"));P(z,A.clientX,A.clientY)}};function P(A,z,L){const W=y({x:z,y:L}),K={id:crypto.randomUUID().toString(),type:"default",position:W,connectable:!A.group,data:{label:"Unnamed "+(A.group?"group":"node"),group:A.group??!1,inputs:A.inputs??[],outputs:A.outputs??[]},class:A.group?"group":void 0,dragHandle:".drag-dots",origin:[.5,0]};i.push(K),i.sort((M,D)=>M.data.group?D.data.group?0:-1:D.data.group?1:0),d.set(i)}const w=function(){var A;(A=document.querySelector('[media="print"]'))==null||A.setAttribute("media","screen"),document.addEventListener("fullscreenchange",fS),document.documentElement.requestFullscreen()},H=()=>{var A;u.theme==="dark"?Cn(zu,u.theme="light",u):Cn(zu,u.theme="dark",u),document.documentElement.setAttribute("data-theme",u.theme),(A=document.querySelector('meta[name="color-scheme"]'))==null||A.setAttribute("content",u.theme)},S=A=>console.log("on node click",A.detail.node),O=A=>console.log("on edge click: ",A.detail.edge);return t.$$.update=()=>{t.$$.dirty&1536&&(Cn(Nn,s.nodes=i,s),Cn(Nn,s.edges=l,s))},[u,f,a,d,h,g,m,b,p,i,l,w,H,S,O]}class cS extends Ne{constructor(e){super(),ze(this,e,aS,sS,Le,{})}}function ah(t,e,n){const i=t.slice();return i[1]=e[n],i}function ch(t,e){let n,i,l;return i=new cS({}),{key:t,first:null,c(){n=bt(),ke(i.$$.fragment),this.first=n},m(s,u){J(s,n,u),ve(i,s,u),l=!0},p(s,u){},i(s){l||(j(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function dS(t){let e=[],n=new Map,i,l,s=Ct(t[0].uniqueFlow);const u=f=>f[1];for(let f=0;f<s.length;f+=1){let a=ah(t,s,f),d=u(a);n.set(d,e[f]=ch(d))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();i=bt()},m(f,a){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(f,a);J(f,i,a),l=!0},p(f,a){a&1&&(s=Ct(f[0].uniqueFlow),yt(),e=Ei(e,a,u,0,f,s,n,i.parentNode,Xi,ch,i,ah),wt())},i(f){if(!l){for(let a=0;a<s.length;a+=1)j(e[a]);l=!0}},o(f){for(let a=0;a<e.length;a+=1)te(e[a]);l=!1},d(f){f&&Z(i);for(let a=0;a<e.length;a+=1)e[a].d(f)}}}function hS(t){let e,n,i,l;return i=new q6({props:{$$slots:{default:[dS]},$$scope:{ctx:t}}}),{c(){e=_e("main"),n=_e("div"),ke(i.$$.fragment),Be(n,"height","100%")},m(s,u){J(s,e,u),se(e,n),ve(i,n,null),l=!0},p(s,[u]){const f={};u&17&&(f.$$scope={dirty:u,ctx:s}),i.$set(f)},i(s){l||(j(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(e),pe(i)}}}function gS(t,e,n){let i;return he(t,Nn,l=>n(0,i=l)),[i]}class mS extends Ne{constructor(e){super(),ze(this,e,gS,hS,Le,{})}}new mS({target:document.body});
