var Yw=Object.defineProperty;var Fw=(t,e,n)=>e in t?Yw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pi=(t,e,n)=>(Fw(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Te(){}function Vt(t,e){for(const n in e)t[n]=e[n];return t}function ah(t){return t()}function Hc(){return Object.create(null)}function bt(t){t.forEach(ah)}function dt(t){return typeof t=="function"}function ze(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ch(t,e){return t!=t?e==e:t!==e}function Vw(t){return Object.keys(t).length===0}function Rl(t,...e){if(t==null){for(const i of e)i(void 0);return Te}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ue(t){let e;return Rl(t,n=>e=n)(),e}function de(t,e,n){t.$$.on_destroy.push(Rl(e,n))}function Bt(t,e,n,i){if(t){const l=dh(t,e,n,i);return t[0](l)}}function dh(t,e,n,i){return t[1]&&i?Vt(n.ctx.slice(),t[1](i(e))):n.ctx}function Xt(t,e,n,i){if(t[2]&&i){const l=t[2](i(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],u=Math.max(e.dirty.length,l.length);for(let f=0;f<u;f+=1)s[f]=e.dirty[f]|l[f];return s}return e.dirty|l}return e.dirty}function Yt(t,e,n,i,l,s){if(l){const u=dh(e,n,i,s);t.p(u,l)}}function Ft(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Gu(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ar(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function Kw(t){const e={};for(const n in t)e[n]=!0;return e}function cr(t){return t??""}function zn(t,e,n){return t.set(n),e}function qt(t){return t&&dt(t.destroy)?t.destroy:Te}const Uw=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function he(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function xw(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function pe(t){return document.createElement(t)}function Ve(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ft(t){return document.createTextNode(t)}function Me(){return ft(" ")}function yt(){return ft("")}function Le(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const qw=["width","height"];function dr(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&qw.indexOf(i)===-1?t[i]=e[i]:E(t,i,e[i])}function Gw(t){return Array.from(t.childNodes)}function kn(t,e){e=""+e,t.data!==e&&(t.data=e)}function Xe(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let ol;function Zw(){if(ol===void 0){ol=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ol=!0}}return ol}function Jw(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=pe("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const l=Zw();let s;return l?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=Le(window,"message",u=>{u.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{s=Le(i.contentWindow,"resize",e),e()}),he(t,i),()=>{(l||s&&i.contentWindow)&&s(),j(i)}}function Ye(t,e,n){t.classList.toggle(e,!!n)}function Qw(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class jw{constructor(e=!1){pi(this,"is_svg",!1);pi(this,"e");pi(this,"n");pi(this,"t");pi(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Ve(n.nodeName):this.e=pe(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)$(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(j)}}function Sl(t,e){return new t(e)}let Qr;function Gr(t){Qr=t}function Sr(){if(!Qr)throw new Error("Function called outside component initialization");return Qr}function so(t){Sr().$$.on_mount.push(t)}function Zu(t){Sr().$$.on_destroy.push(t)}function Dl(){const t=Sr();return(e,n,{cancelable:i=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=Qw(e,n,{cancelable:i});return l.slice().forEach(u=>{u.call(t,s)}),!s.defaultPrevented}return!0}}function jr(t,e){return Sr().$$.context.set(t,e),e}function $r(t){return Sr().$$.context.get(t)}function $w(t){return Sr().$$.context.has(t)}function rt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const rr=[],Cn=[];let lr=[];const Hu=[],eb=Promise.resolve();let zu=!1;function tb(){zu||(zu=!0,eb.then(gh))}function kl(t){lr.push(t)}function hh(t){Hu.push(t)}const vu=new Set;let nr=0;function gh(){if(nr!==0)return;const t=Qr;do{try{for(;nr<rr.length;){const e=rr[nr];nr++,Gr(e),nb(e.$$)}}catch(e){throw rr.length=0,nr=0,e}for(Gr(null),rr.length=0,nr=0;Cn.length;)Cn.pop()();for(let e=0;e<lr.length;e+=1){const n=lr[e];vu.has(n)||(vu.add(n),n())}lr.length=0}while(rr.length);for(;Hu.length;)Hu.pop()();zu=!1,vu.clear(),Gr(t)}function nb(t){if(t.fragment!==null){t.update(),bt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(kl)}}function ib(t){const e=[],n=[];lr.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),lr=e}const _l=new Set;let Ri;function mt(){Ri={r:0,c:[],p:Ri}}function _t(){Ri.r||bt(Ri.c),Ri=Ri.p}function Q(t,e){t&&t.i&&(_l.delete(t),t.i(e))}function te(t,e,n,i){if(t&&t.o){if(_l.has(t))return;_l.add(t),Ri.c.push(()=>{_l.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function Ct(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function rb(t,e){t.d(1),e.delete(t.key)}function Bi(t,e){te(t,1,1,()=>{e.delete(t.key)})}function Ei(t,e,n,i,l,s,u,f,a,d,h,g){let m=t.length,y=s.length,v=m;const p={};for(;v--;)p[t[v].key]=v;const P=[],w=new Map,N=new Map,C=[];for(v=y;v--;){const H=g(l,s,v),L=n(H);let B=u.get(L);B?i&&C.push(()=>B.p(H,e)):(B=d(L,H),B.c()),w.set(L,P[v]=B),L in p&&N.set(L,Math.abs(v-p[L]))}const A=new Set,T=new Set;function O(H){Q(H,1),H.m(f,h),u.set(H.key,H),h=H.first,y--}for(;m&&y;){const H=P[y-1],L=t[m-1],B=H.key,x=L.key;H===L?(h=H.first,m--,y--):w.has(x)?!u.has(B)||A.has(B)?O(H):T.has(x)?m--:N.get(B)>N.get(x)?(T.add(B),O(H)):(A.add(x),m--):(a(L,u),m--)}for(;m--;){const H=t[m];w.has(H.key)||a(H,u)}for(;y;)O(P[y-1]);return bt(C),P}function si(t,e){const n={},i={},l={$$scope:1};let s=t.length;for(;s--;){const u=t[s],f=e[s];if(f){for(const a in u)a in f||(i[a]=1);for(const a in f)l[a]||(n[a]=f[a],l[a]=1);t[s]=f}else for(const a in u)l[a]=1}for(const u in i)u in n||(n[u]=void 0);return n}function hr(t){return typeof t=="object"&&t!==null?t:{}}function mh(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Se(t){t&&t.c()}function we(t,e,n){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,n),kl(()=>{const s=t.$$.on_mount.map(ah).filter(dt);t.$$.on_destroy?t.$$.on_destroy.push(...s):bt(s),t.$$.on_mount=[]}),l.forEach(kl)}function be(t,e){const n=t.$$;n.fragment!==null&&(ib(n.after_update),bt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ob(t,e){t.$$.dirty[0]===-1&&(rr.push(t),tb(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ne(t,e,n,i,l,s,u=null,f=[-1]){const a=Qr;Gr(t);const d=t.$$={fragment:null,ctx:[],props:s,update:Te,not_equal:l,bound:Hc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Hc(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};u&&u(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},(g,m,...y)=>{const v=y.length?y[0]:m;return d.ctx&&l(d.ctx[g],d.ctx[g]=v)&&(!d.skip_bound&&d.bound[g]&&d.bound[g](v),h&&ob(t,g)),m}):[],d.update(),h=!0,bt(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const g=Gw(e.target);d.fragment&&d.fragment.l(g),g.forEach(j)}else d.fragment&&d.fragment.c();e.intro&&Q(t.$$.fragment),we(t,e.target,e.anchor),gh()}Gr(a)}class He{constructor(){pi(this,"$$");pi(this,"$$set")}$destroy(){be(this,1),this.$destroy=Te}$on(e,n){if(!dt(n))return Te;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!Vw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lb="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lb);const ir=[];function In(t,e){return{subscribe:Oe(t,e).subscribe}}function Oe(t,e=Te){let n;const i=new Set;function l(f){if(ze(t,f)&&(t=f,n)){const a=!ir.length;for(const d of i)d[1](),ir.push(d,t);if(a){for(let d=0;d<ir.length;d+=2)ir[d][0](ir[d+1]);ir.length=0}}}function s(f){l(f(t))}function u(f,a=Te){const d=[f,a];return i.add(d),i.size===1&&(n=e(l,s)||Te),f(t),()=>{i.delete(d),i.size===0&&n&&(n(),n=null)}}return{set:l,update:s,subscribe:u}}function gr(t,e,n){const i=!Array.isArray(t),l=i?[t]:t;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return In(n,(u,f)=>{let a=!1;const d=[];let h=0,g=Te;const m=()=>{if(h)return;g();const v=e(i?d[0]:d,u,f);s?u(v):g=dt(v)?v:Te},y=l.map((v,p)=>Rl(v,P=>{d[p]=P,h&=~(1<<p),a&&m()},()=>{h|=1<<p}));return a=!0,m(),function(){bt(y),g(),a=!1}})}function tt(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=tt(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var sb={value:()=>{}};function Wl(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new yl(n)}function yl(t){this._=t}function ub(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",l=n.indexOf(".");if(l>=0&&(i=n.slice(l+1),n=n.slice(0,l)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}yl.prototype=Wl.prototype={constructor:yl,on:function(t,e){var n=this._,i=ub(t+"",n),l,s=-1,u=i.length;if(arguments.length<2){for(;++s<u;)if((l=(t=i[s]).type)&&(l=fb(n[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<u;)if(l=(t=i[s]).type)n[l]=zc(n[l],t.name,e);else if(e==null)for(l in n)n[l]=zc(n[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yl(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var n=new Array(l),i=0,l,s;i<l;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,l=s.length;i<l;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],l=0,s=i.length;l<s;++l)i[l].value.apply(e,n)}};function fb(t,e){for(var n=0,i=t.length,l;n<i;++n)if((l=t[n]).name===e)return l.value}function zc(t,e,n){for(var i=0,l=t.length;i<l;++i)if(t[i].name===e){t[i]=sb,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Lu="http://www.w3.org/1999/xhtml";const Lc={svg:"http://www.w3.org/2000/svg",xhtml:Lu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bl(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Lc.hasOwnProperty(e)?{space:Lc[e],local:t}:t}function ab(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Lu&&e.documentElement.namespaceURI===Lu?e.createElement(t):e.createElementNS(n,t)}}function cb(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function _h(t){var e=Bl(t);return(e.local?cb:ab)(e)}function db(){}function Ju(t){return t==null?db:function(){return this.querySelector(t)}}function hb(t){typeof t!="function"&&(t=Ju(t));for(var e=this._groups,n=e.length,i=new Array(n),l=0;l<n;++l)for(var s=e[l],u=s.length,f=i[l]=new Array(u),a,d,h=0;h<u;++h)(a=s[h])&&(d=t.call(a,a.__data__,h,s))&&("__data__"in a&&(d.__data__=a.__data__),f[h]=d);return new an(i,this._parents)}function gb(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function mb(){return[]}function yh(t){return t==null?mb:function(){return this.querySelectorAll(t)}}function _b(t){return function(){return gb(t.apply(this,arguments))}}function yb(t){typeof t=="function"?t=_b(t):t=yh(t);for(var e=this._groups,n=e.length,i=[],l=[],s=0;s<n;++s)for(var u=e[s],f=u.length,a,d=0;d<f;++d)(a=u[d])&&(i.push(t.call(a,a.__data__,d,u)),l.push(a));return new an(i,l)}function wh(t){return function(){return this.matches(t)}}function bh(t){return function(e){return e.matches(t)}}var wb=Array.prototype.find;function bb(t){return function(){return wb.call(this.children,t)}}function vb(){return this.firstElementChild}function pb(t){return this.select(t==null?vb:bb(typeof t=="function"?t:bh(t)))}var Sb=Array.prototype.filter;function kb(){return Array.from(this.children)}function Cb(t){return function(){return Sb.call(this.children,t)}}function Eb(t){return this.selectAll(t==null?kb:Cb(typeof t=="function"?t:bh(t)))}function Ab(t){typeof t!="function"&&(t=wh(t));for(var e=this._groups,n=e.length,i=new Array(n),l=0;l<n;++l)for(var s=e[l],u=s.length,f=i[l]=[],a,d=0;d<u;++d)(a=s[d])&&t.call(a,a.__data__,d,s)&&f.push(a);return new an(i,this._parents)}function vh(t){return new Array(t.length)}function Mb(){return new an(this._enter||this._groups.map(vh),this._parents)}function Cl(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Cl.prototype={constructor:Cl,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Pb(t){return function(){return t}}function Tb(t,e,n,i,l,s){for(var u=0,f,a=e.length,d=s.length;u<d;++u)(f=e[u])?(f.__data__=s[u],i[u]=f):n[u]=new Cl(t,s[u]);for(;u<a;++u)(f=e[u])&&(l[u]=f)}function Ib(t,e,n,i,l,s,u){var f,a,d=new Map,h=e.length,g=s.length,m=new Array(h),y;for(f=0;f<h;++f)(a=e[f])&&(m[f]=y=u.call(a,a.__data__,f,e)+"",d.has(y)?l[f]=a:d.set(y,a));for(f=0;f<g;++f)y=u.call(t,s[f],f,s)+"",(a=d.get(y))?(i[f]=a,a.__data__=s[f],d.delete(y)):n[f]=new Cl(t,s[f]);for(f=0;f<h;++f)(a=e[f])&&d.get(m[f])===a&&(l[f]=a)}function Ob(t){return t.__data__}function Nb(t,e){if(!arguments.length)return Array.from(this,Ob);var n=e?Ib:Tb,i=this._parents,l=this._groups;typeof t!="function"&&(t=Pb(t));for(var s=l.length,u=new Array(s),f=new Array(s),a=new Array(s),d=0;d<s;++d){var h=i[d],g=l[d],m=g.length,y=Hb(t.call(h,h&&h.__data__,d,i)),v=y.length,p=f[d]=new Array(v),P=u[d]=new Array(v),w=a[d]=new Array(m);n(h,g,p,P,w,y,e);for(var N=0,C=0,A,T;N<v;++N)if(A=p[N]){for(N>=C&&(C=N+1);!(T=P[C])&&++C<v;);A._next=T||null}}return u=new an(u,i),u._enter=f,u._exit=a,u}function Hb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zb(){return new an(this._exit||this._groups.map(vh),this._parents)}function Lb(t,e,n){var i=this.enter(),l=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),n==null?s.remove():n(s),i&&l?i.merge(l).order():l}function Rb(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,l=n.length,s=i.length,u=Math.min(l,s),f=new Array(l),a=0;a<u;++a)for(var d=n[a],h=i[a],g=d.length,m=f[a]=new Array(g),y,v=0;v<g;++v)(y=d[v]||h[v])&&(m[v]=y);for(;a<l;++a)f[a]=n[a];return new an(f,this._parents)}function Db(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],l=i.length-1,s=i[l],u;--l>=0;)(u=i[l])&&(s&&u.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(u,s),s=u);return this}function Wb(t){t||(t=Bb);function e(g,m){return g&&m?t(g.__data__,m.__data__):!g-!m}for(var n=this._groups,i=n.length,l=new Array(i),s=0;s<i;++s){for(var u=n[s],f=u.length,a=l[s]=new Array(f),d,h=0;h<f;++h)(d=u[h])&&(a[h]=d);a.sort(e)}return new an(l,this._parents).order()}function Bb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Yb(){return Array.from(this)}function Fb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],l=0,s=i.length;l<s;++l){var u=i[l];if(u)return u}return null}function Vb(){let t=0;for(const e of this)++t;return t}function Kb(){return!this.node()}function Ub(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var l=e[n],s=0,u=l.length,f;s<u;++s)(f=l[s])&&t.call(f,f.__data__,s,l);return this}function xb(t){return function(){this.removeAttribute(t)}}function qb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gb(t,e){return function(){this.setAttribute(t,e)}}function Zb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Jb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Qb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jb(t,e){var n=Bl(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?qb:xb:typeof e=="function"?n.local?Qb:Jb:n.local?Zb:Gb)(n,e))}function ph(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function $b(t){return function(){this.style.removeProperty(t)}}function e3(t,e,n){return function(){this.style.setProperty(t,e,n)}}function t3(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function n3(t,e,n){return arguments.length>1?this.each((e==null?$b:typeof e=="function"?t3:e3)(t,e,n??"")):mr(this.node(),t)}function mr(t,e){return t.style.getPropertyValue(e)||ph(t).getComputedStyle(t,null).getPropertyValue(e)}function i3(t){return function(){delete this[t]}}function r3(t,e){return function(){this[t]=e}}function o3(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function l3(t,e){return arguments.length>1?this.each((e==null?i3:typeof e=="function"?o3:r3)(t,e)):this.node()[t]}function Sh(t){return t.trim().split(/^|\s+/)}function Qu(t){return t.classList||new kh(t)}function kh(t){this._node=t,this._names=Sh(t.getAttribute("class")||"")}kh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ch(t,e){for(var n=Qu(t),i=-1,l=e.length;++i<l;)n.add(e[i])}function Eh(t,e){for(var n=Qu(t),i=-1,l=e.length;++i<l;)n.remove(e[i])}function s3(t){return function(){Ch(this,t)}}function u3(t){return function(){Eh(this,t)}}function f3(t,e){return function(){(e.apply(this,arguments)?Ch:Eh)(this,t)}}function a3(t,e){var n=Sh(t+"");if(arguments.length<2){for(var i=Qu(this.node()),l=-1,s=n.length;++l<s;)if(!i.contains(n[l]))return!1;return!0}return this.each((typeof e=="function"?f3:e?s3:u3)(n,e))}function c3(){this.textContent=""}function d3(t){return function(){this.textContent=t}}function h3(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function g3(t){return arguments.length?this.each(t==null?c3:(typeof t=="function"?h3:d3)(t)):this.node().textContent}function m3(){this.innerHTML=""}function _3(t){return function(){this.innerHTML=t}}function y3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function w3(t){return arguments.length?this.each(t==null?m3:(typeof t=="function"?y3:_3)(t)):this.node().innerHTML}function b3(){this.nextSibling&&this.parentNode.appendChild(this)}function v3(){return this.each(b3)}function p3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function S3(){return this.each(p3)}function k3(t){var e=typeof t=="function"?t:_h(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function C3(){return null}function E3(t,e){var n=typeof t=="function"?t:_h(t),i=e==null?C3:typeof e=="function"?e:Ju(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function A3(){var t=this.parentNode;t&&t.removeChild(this)}function M3(){return this.each(A3)}function P3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function T3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function I3(t){return this.select(t?T3:P3)}function O3(t){return arguments.length?this.property("__data__",t):this.node().__data__}function N3(t){return function(e){t.call(this,e,this.__data__)}}function H3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function z3(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,l=e.length,s;n<l;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function L3(t,e,n){return function(){var i=this.__on,l,s=N3(e);if(i){for(var u=0,f=i.length;u<f;++u)if((l=i[u]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=s,l.options=n),l.value=e;return}}this.addEventListener(t.type,s,n),l={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(l):this.__on=[l]}}function R3(t,e,n){var i=H3(t+""),l,s=i.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var a=0,d=f.length,h;a<d;++a)for(l=0,h=f[a];l<s;++l)if((u=i[l]).type===h.type&&u.name===h.name)return h.value}return}for(f=e?L3:z3,l=0;l<s;++l)this.each(f(i[l],e,n));return this}function Ah(t,e,n){var i=ph(t),l=i.CustomEvent;typeof l=="function"?l=new l(e,n):(l=i.document.createEvent("Event"),n?(l.initEvent(e,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function D3(t,e){return function(){return Ah(this,t,e)}}function W3(t,e){return function(){return Ah(this,t,e.apply(this,arguments))}}function B3(t,e){return this.each((typeof e=="function"?W3:D3)(t,e))}function*X3(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],l=0,s=i.length,u;l<s;++l)(u=i[l])&&(yield u)}var Mh=[null];function an(t,e){this._groups=t,this._parents=e}function uo(){return new an([[document.documentElement]],Mh)}function Y3(){return this}an.prototype=uo.prototype={constructor:an,select:hb,selectAll:yb,selectChild:pb,selectChildren:Eb,filter:Ab,data:Nb,enter:Mb,exit:zb,join:Lb,merge:Rb,selection:Y3,order:Db,sort:Wb,call:Xb,nodes:Yb,node:Fb,size:Vb,empty:Kb,each:Ub,attr:jb,style:n3,property:l3,classed:a3,text:g3,html:w3,raise:v3,lower:S3,append:k3,insert:E3,remove:M3,clone:I3,datum:O3,on:R3,dispatch:B3,[Symbol.iterator]:X3};function fn(t){return typeof t=="string"?new an([[document.querySelector(t)]],[document.documentElement]):new an([[t]],Mh)}function F3(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Nn(t,e){if(t=F3(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}const V3={passive:!1},eo={capture:!0,passive:!1};function pu(t){t.stopImmediatePropagation()}function sr(t){t.preventDefault(),t.stopImmediatePropagation()}function Ph(t){var e=t.document.documentElement,n=fn(t).on("dragstart.drag",sr,eo);"onselectstart"in e?n.on("selectstart.drag",sr,eo):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Th(t,e){var n=t.document.documentElement,i=fn(t).on("dragstart.drag",null);e&&(i.on("click.drag",sr,eo),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ll=t=>()=>t;function Ru(t,{sourceEvent:e,subject:n,target:i,identifier:l,active:s,x:u,y:f,dx:a,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}Ru.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function K3(t){return!t.ctrlKey&&!t.button}function U3(){return this.parentNode}function x3(t,e){return e??{x:t.x,y:t.y}}function q3(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ih(){var t=K3,e=U3,n=x3,i=q3,l={},s=Wl("start","drag","end"),u=0,f,a,d,h,g=0;function m(A){A.on("mousedown.drag",y).filter(i).on("touchstart.drag",P).on("touchmove.drag",w,V3).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(A,T){if(!(h||!t.call(this,A,T))){var O=C(this,e.call(this,A,T),A,T,"mouse");O&&(fn(A.view).on("mousemove.drag",v,eo).on("mouseup.drag",p,eo),Ph(A.view),pu(A),d=!1,f=A.clientX,a=A.clientY,O("start",A))}}function v(A){if(sr(A),!d){var T=A.clientX-f,O=A.clientY-a;d=T*T+O*O>g}l.mouse("drag",A)}function p(A){fn(A.view).on("mousemove.drag mouseup.drag",null),Th(A.view,d),sr(A),l.mouse("end",A)}function P(A,T){if(t.call(this,A,T)){var O=A.changedTouches,H=e.call(this,A,T),L=O.length,B,x;for(B=0;B<L;++B)(x=C(this,H,A,T,O[B].identifier,O[B]))&&(pu(A),x("start",A,O[B]))}}function w(A){var T=A.changedTouches,O=T.length,H,L;for(H=0;H<O;++H)(L=l[T[H].identifier])&&(sr(A),L("drag",A,T[H]))}function N(A){var T=A.changedTouches,O=T.length,H,L;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),H=0;H<O;++H)(L=l[T[H].identifier])&&(pu(A),L("end",A,T[H]))}function C(A,T,O,H,L,B){var x=s.copy(),I=Nn(B||O,T),X,D,M;if((M=n.call(A,new Ru("beforestart",{sourceEvent:O,target:m,identifier:L,active:u,x:I[0],y:I[1],dx:0,dy:0,dispatch:x}),H))!=null)return X=M.x-I[0]||0,D=M.y-I[1]||0,function V(Y,G,q){var ee=I,fe;switch(Y){case"start":l[L]=V,fe=u++;break;case"end":delete l[L],--u;case"drag":I=Nn(q||G,T),fe=u;break}x.call(Y,A,new Ru(Y,{sourceEvent:G,subject:M,target:m,identifier:L,active:fe,x:I[0]+X,y:I[1]+D,dx:I[0]-ee[0],dy:I[1]-ee[1],dispatch:x}),H)}}return m.filter=function(A){return arguments.length?(t=typeof A=="function"?A:ll(!!A),m):t},m.container=function(A){return arguments.length?(e=typeof A=="function"?A:ll(A),m):e},m.subject=function(A){return arguments.length?(n=typeof A=="function"?A:ll(A),m):n},m.touchable=function(A){return arguments.length?(i=typeof A=="function"?A:ll(!!A),m):i},m.on=function(){var A=s.on.apply(s,arguments);return A===s?m:A},m.clickDistance=function(A){return arguments.length?(g=(A=+A)*A,m):Math.sqrt(g)},m}function ju(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Oh(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function fo(){}var to=.7,El=1/to,ur="\\s*([+-]?\\d+)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",G3=/^#([0-9a-f]{3,8})$/,Z3=new RegExp(`^rgb\\(${ur},${ur},${ur}\\)$`),J3=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),Q3=new RegExp(`^rgba\\(${ur},${ur},${ur},${no}\\)$`),j3=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${no}\\)$`),$3=new RegExp(`^hsl\\(${no},${Vn},${Vn}\\)$`),ev=new RegExp(`^hsla\\(${no},${Vn},${Vn},${no}\\)$`),Rc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ju(fo,io,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Dc,formatHex:Dc,formatHex8:tv,formatHsl:nv,formatRgb:Wc,toString:Wc});function Dc(){return this.rgb().formatHex()}function tv(){return this.rgb().formatHex8()}function nv(){return Nh(this).formatHsl()}function Wc(){return this.rgb().formatRgb()}function io(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=G3.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Bc(e):n===3?new $t(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?sl(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?sl(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Z3.exec(t))?new $t(e[1],e[2],e[3],1):(e=J3.exec(t))?new $t(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Q3.exec(t))?sl(e[1],e[2],e[3],e[4]):(e=j3.exec(t))?sl(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=$3.exec(t))?Fc(e[1],e[2]/100,e[3]/100,1):(e=ev.exec(t))?Fc(e[1],e[2]/100,e[3]/100,e[4]):Rc.hasOwnProperty(t)?Bc(Rc[t]):t==="transparent"?new $t(NaN,NaN,NaN,0):null}function Bc(t){return new $t(t>>16&255,t>>8&255,t&255,1)}function sl(t,e,n,i){return i<=0&&(t=e=n=NaN),new $t(t,e,n,i)}function iv(t){return t instanceof fo||(t=io(t)),t?(t=t.rgb(),new $t(t.r,t.g,t.b,t.opacity)):new $t}function Du(t,e,n,i){return arguments.length===1?iv(t):new $t(t,e,n,i??1)}function $t(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}ju($t,Du,Oh(fo,{brighter(t){return t=t==null?El:Math.pow(El,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?to:Math.pow(to,t),new $t(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $t(Wi(this.r),Wi(this.g),Wi(this.b),Al(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xc,formatHex:Xc,formatHex8:rv,formatRgb:Yc,toString:Yc}));function Xc(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}`}function rv(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}${Di((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yc(){const t=Al(this.opacity);return`${t===1?"rgb(":"rgba("}${Wi(this.r)}, ${Wi(this.g)}, ${Wi(this.b)}${t===1?")":`, ${t})`}`}function Al(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Di(t){return t=Wi(t),(t<16?"0":"")+t.toString(16)}function Fc(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hn(t,e,n,i)}function Nh(t){if(t instanceof Hn)return new Hn(t.h,t.s,t.l,t.opacity);if(t instanceof fo||(t=io(t)),!t)return new Hn;if(t instanceof Hn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,l=Math.min(e,n,i),s=Math.max(e,n,i),u=NaN,f=s-l,a=(s+l)/2;return f?(e===s?u=(n-i)/f+(n<i)*6:n===s?u=(i-e)/f+2:u=(e-n)/f+4,f/=a<.5?s+l:2-s-l,u*=60):f=a>0&&a<1?0:u,new Hn(u,f,a,t.opacity)}function ov(t,e,n,i){return arguments.length===1?Nh(t):new Hn(t,e,n,i??1)}function Hn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}ju(Hn,ov,Oh(fo,{brighter(t){return t=t==null?El:Math.pow(El,t),new Hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?to:Math.pow(to,t),new Hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,l=2*n-i;return new $t(Su(t>=240?t-240:t+120,l,i),Su(t,l,i),Su(t<120?t+240:t-120,l,i),this.opacity)},clamp(){return new Hn(Vc(this.h),ul(this.s),ul(this.l),Al(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Al(this.opacity);return`${t===1?"hsl(":"hsla("}${Vc(this.h)}, ${ul(this.s)*100}%, ${ul(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Vc(t){return t=(t||0)%360,t<0?t+360:t}function ul(t){return Math.max(0,Math.min(1,t||0))}function Su(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Hh=t=>()=>t;function lv(t,e){return function(n){return t+n*e}}function sv(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function uv(t){return(t=+t)==1?zh:function(e,n){return n-e?sv(e,n,t):Hh(isNaN(e)?n:e)}}function zh(t,e){var n=e-t;return n?lv(t,n):Hh(isNaN(t)?e:t)}const Kc=function t(e){var n=uv(e);function i(l,s){var u=n((l=Du(l)).r,(s=Du(s)).r),f=n(l.g,s.g),a=n(l.b,s.b),d=zh(l.opacity,s.opacity);return function(h){return l.r=u(h),l.g=f(h),l.b=a(h),l.opacity=d(h),l+""}}return i.gamma=t,i}(1);function Ci(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Wu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ku=new RegExp(Wu.source,"g");function fv(t){return function(){return t}}function av(t){return function(e){return t(e)+""}}function cv(t,e){var n=Wu.lastIndex=ku.lastIndex=0,i,l,s,u=-1,f=[],a=[];for(t=t+"",e=e+"";(i=Wu.exec(t))&&(l=ku.exec(e));)(s=l.index)>n&&(s=e.slice(n,s),f[u]?f[u]+=s:f[++u]=s),(i=i[0])===(l=l[0])?f[u]?f[u]+=l:f[++u]=l:(f[++u]=null,a.push({i:u,x:Ci(i,l)})),n=ku.lastIndex;return n<e.length&&(s=e.slice(n),f[u]?f[u]+=s:f[++u]=s),f.length<2?a[0]?av(a[0].x):fv(e):(e=a.length,function(d){for(var h=0,g;h<e;++h)f[(g=a[h]).i]=g.x(d);return f.join("")})}var Uc=180/Math.PI,Bu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lh(t,e,n,i,l,s){var u,f,a;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(f=Math.sqrt(n*n+i*i))&&(n/=f,i/=f,a/=f),t*i<e*n&&(t=-t,e=-e,a=-a,u=-u),{translateX:l,translateY:s,rotate:Math.atan2(e,t)*Uc,skewX:Math.atan(a)*Uc,scaleX:u,scaleY:f}}var fl;function dv(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Bu:Lh(e.a,e.b,e.c,e.d,e.e,e.f)}function hv(t){return t==null||(fl||(fl=document.createElementNS("http://www.w3.org/2000/svg","g")),fl.setAttribute("transform",t),!(t=fl.transform.baseVal.consolidate()))?Bu:(t=t.matrix,Lh(t.a,t.b,t.c,t.d,t.e,t.f))}function Rh(t,e,n,i){function l(d){return d.length?d.pop()+" ":""}function s(d,h,g,m,y,v){if(d!==g||h!==m){var p=y.push("translate(",null,e,null,n);v.push({i:p-4,x:Ci(d,g)},{i:p-2,x:Ci(h,m)})}else(g||m)&&y.push("translate("+g+e+m+n)}function u(d,h,g,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:g.push(l(g)+"rotate(",null,i)-2,x:Ci(d,h)})):h&&g.push(l(g)+"rotate("+h+i)}function f(d,h,g,m){d!==h?m.push({i:g.push(l(g)+"skewX(",null,i)-2,x:Ci(d,h)}):h&&g.push(l(g)+"skewX("+h+i)}function a(d,h,g,m,y,v){if(d!==g||h!==m){var p=y.push(l(y)+"scale(",null,",",null,")");v.push({i:p-4,x:Ci(d,g)},{i:p-2,x:Ci(h,m)})}else(g!==1||m!==1)&&y.push(l(y)+"scale("+g+","+m+")")}return function(d,h){var g=[],m=[];return d=t(d),h=t(h),s(d.translateX,d.translateY,h.translateX,h.translateY,g,m),u(d.rotate,h.rotate,g,m),f(d.skewX,h.skewX,g,m),a(d.scaleX,d.scaleY,h.scaleX,h.scaleY,g,m),d=h=null,function(y){for(var v=-1,p=m.length,P;++v<p;)g[(P=m[v]).i]=P.x(y);return g.join("")}}}var gv=Rh(dv,"px, ","px)","deg)"),mv=Rh(hv,", ",")",")"),_v=1e-12;function xc(t){return((t=Math.exp(t))+1/t)/2}function yv(t){return((t=Math.exp(t))-1/t)/2}function wv(t){return((t=Math.exp(2*t))-1)/(t+1)}const bv=function t(e,n,i){function l(s,u){var f=s[0],a=s[1],d=s[2],h=u[0],g=u[1],m=u[2],y=h-f,v=g-a,p=y*y+v*v,P,w;if(p<_v)w=Math.log(m/d)/e,P=function(H){return[f+H*y,a+H*v,d*Math.exp(e*H*w)]};else{var N=Math.sqrt(p),C=(m*m-d*d+i*p)/(2*d*n*N),A=(m*m-d*d-i*p)/(2*m*n*N),T=Math.log(Math.sqrt(C*C+1)-C),O=Math.log(Math.sqrt(A*A+1)-A);w=(O-T)/e,P=function(H){var L=H*w,B=xc(T),x=d/(n*N)*(B*wv(e*L+T)-yv(T));return[f+x*y,a+x*v,d*B/xc(e*L+T)]}}return P.duration=w*1e3*e/Math.SQRT2,P}return l.rho=function(s){var u=Math.max(.001,+s),f=u*u,a=f*f;return t(u,f,a)},l}(Math.SQRT2,2,4);var _r=0,Ur=0,Fr=0,Dh=1e3,Ml,xr,Pl=0,Xi=0,Xl=0,ro=typeof performance=="object"&&performance.now?performance:Date,Wh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function $u(){return Xi||(Wh(vv),Xi=ro.now()+Xl)}function vv(){Xi=0}function Tl(){this._call=this._time=this._next=null}Tl.prototype=Bh.prototype={constructor:Tl,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?$u():+n)+(e==null?0:+e),!this._next&&xr!==this&&(xr?xr._next=this:Ml=this,xr=this),this._call=t,this._time=n,Xu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xu())}};function Bh(t,e,n){var i=new Tl;return i.restart(t,e,n),i}function pv(){$u(),++_r;for(var t=Ml,e;t;)(e=Xi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_r}function qc(){Xi=(Pl=ro.now())+Xl,_r=Ur=0;try{pv()}finally{_r=0,kv(),Xi=0}}function Sv(){var t=ro.now(),e=t-Pl;e>Dh&&(Xl-=e,Pl=t)}function kv(){for(var t,e=Ml,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ml=n);xr=t,Xu(i)}function Xu(t){if(!_r){Ur&&(Ur=clearTimeout(Ur));var e=t-Xi;e>24?(t<1/0&&(Ur=setTimeout(qc,t-ro.now()-Xl)),Fr&&(Fr=clearInterval(Fr))):(Fr||(Pl=ro.now(),Fr=setInterval(Sv,Dh)),_r=1,Wh(qc))}}function Gc(t,e,n){var i=new Tl;return e=e==null?0:+e,i.restart(l=>{i.stop(),t(l+e)},e,n),i}var Cv=Wl("start","end","cancel","interrupt"),Ev=[],Xh=0,Zc=1,Yu=2,wl=3,Jc=4,Fu=5,bl=6;function Yl(t,e,n,i,l,s){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;Av(t,n,{name:e,index:i,group:l,on:Cv,tween:Ev,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Xh})}function ef(t,e){var n=Ln(t,e);if(n.state>Xh)throw new Error("too late; already scheduled");return n}function Un(t,e){var n=Ln(t,e);if(n.state>wl)throw new Error("too late; already running");return n}function Ln(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Av(t,e,n){var i=t.__transition,l;i[e]=n,n.timer=Bh(s,0,n.time);function s(d){n.state=Zc,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var h,g,m,y;if(n.state!==Zc)return a();for(h in i)if(y=i[h],y.name===n.name){if(y.state===wl)return Gc(u);y.state===Jc?(y.state=bl,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete i[h]):+h<e&&(y.state=bl,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete i[h])}if(Gc(function(){n.state===wl&&(n.state=Jc,n.timer.restart(f,n.delay,n.time),f(d))}),n.state=Yu,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Yu){for(n.state=wl,l=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(y=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(l[++g]=y);l.length=g+1}}function f(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(a),n.state=Fu,1),g=-1,m=l.length;++g<m;)l[g].call(t,h);n.state===Fu&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=bl,n.timer.stop(),delete i[e];for(var d in i)return;delete t.__transition}}function vl(t,e){var n=t.__transition,i,l,s=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((i=n[u]).name!==e){s=!1;continue}l=i.state>Yu&&i.state<Fu,i.state=bl,i.timer.stop(),i.on.call(l?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}s&&delete t.__transition}}function Mv(t){return this.each(function(){vl(this,t)})}function Pv(t,e){var n,i;return function(){var l=Un(this,t),s=l.tween;if(s!==n){i=n=s;for(var u=0,f=i.length;u<f;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}l.tween=i}}function Tv(t,e,n){var i,l;if(typeof n!="function")throw new Error;return function(){var s=Un(this,t),u=s.tween;if(u!==i){l=(i=u).slice();for(var f={name:e,value:n},a=0,d=l.length;a<d;++a)if(l[a].name===e){l[a]=f;break}a===d&&l.push(f)}s.tween=l}}function Iv(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ln(this.node(),n).tween,l=0,s=i.length,u;l<s;++l)if((u=i[l]).name===t)return u.value;return null}return this.each((e==null?Pv:Tv)(n,t,e))}function tf(t,e,n){var i=t._id;return t.each(function(){var l=Un(this,i);(l.value||(l.value={}))[e]=n.apply(this,arguments)}),function(l){return Ln(l,i).value[e]}}function Yh(t,e){var n;return(typeof e=="number"?Ci:e instanceof io?Kc:(n=io(e))?(e=n,Kc):cv)(t,e)}function Ov(t){return function(){this.removeAttribute(t)}}function Nv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hv(t,e,n){var i,l=n+"",s;return function(){var u=this.getAttribute(t);return u===l?null:u===i?s:s=e(i=u,n)}}function zv(t,e,n){var i,l=n+"",s;return function(){var u=this.getAttributeNS(t.space,t.local);return u===l?null:u===i?s:s=e(i=u,n)}}function Lv(t,e,n){var i,l,s;return function(){var u,f=n(this),a;return f==null?void this.removeAttribute(t):(u=this.getAttribute(t),a=f+"",u===a?null:u===i&&a===l?s:(l=a,s=e(i=u,f)))}}function Rv(t,e,n){var i,l,s;return function(){var u,f=n(this),a;return f==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),a=f+"",u===a?null:u===i&&a===l?s:(l=a,s=e(i=u,f)))}}function Dv(t,e){var n=Bl(t),i=n==="transform"?mv:Yh;return this.attrTween(t,typeof e=="function"?(n.local?Rv:Lv)(n,i,tf(this,"attr."+t,e)):e==null?(n.local?Nv:Ov)(n):(n.local?zv:Hv)(n,i,e))}function Wv(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Bv(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Xv(t,e){var n,i;function l(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Bv(t,s)),n}return l._value=e,l}function Yv(t,e){var n,i;function l(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Wv(t,s)),n}return l._value=e,l}function Fv(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Bl(t);return this.tween(n,(i.local?Xv:Yv)(i,e))}function Vv(t,e){return function(){ef(this,t).delay=+e.apply(this,arguments)}}function Kv(t,e){return e=+e,function(){ef(this,t).delay=e}}function Uv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Vv:Kv)(e,t)):Ln(this.node(),e).delay}function xv(t,e){return function(){Un(this,t).duration=+e.apply(this,arguments)}}function qv(t,e){return e=+e,function(){Un(this,t).duration=e}}function Gv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xv:qv)(e,t)):Ln(this.node(),e).duration}function Zv(t,e){if(typeof e!="function")throw new Error;return function(){Un(this,t).ease=e}}function Jv(t){var e=this._id;return arguments.length?this.each(Zv(e,t)):Ln(this.node(),e).ease}function Qv(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Un(this,t).ease=n}}function jv(t){if(typeof t!="function")throw new Error;return this.each(Qv(this._id,t))}function $v(t){typeof t!="function"&&(t=wh(t));for(var e=this._groups,n=e.length,i=new Array(n),l=0;l<n;++l)for(var s=e[l],u=s.length,f=i[l]=[],a,d=0;d<u;++d)(a=s[d])&&t.call(a,a.__data__,d,s)&&f.push(a);return new ui(i,this._parents,this._name,this._id)}function ep(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,l=n.length,s=Math.min(i,l),u=new Array(i),f=0;f<s;++f)for(var a=e[f],d=n[f],h=a.length,g=u[f]=new Array(h),m,y=0;y<h;++y)(m=a[y]||d[y])&&(g[y]=m);for(;f<i;++f)u[f]=e[f];return new ui(u,this._parents,this._name,this._id)}function tp(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function np(t,e,n){var i,l,s=tp(e)?ef:Un;return function(){var u=s(this,t),f=u.on;f!==i&&(l=(i=f).copy()).on(e,n),u.on=l}}function ip(t,e){var n=this._id;return arguments.length<2?Ln(this.node(),n).on.on(t):this.each(np(n,t,e))}function rp(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function op(){return this.on("end.remove",rp(this._id))}function lp(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Ju(t));for(var i=this._groups,l=i.length,s=new Array(l),u=0;u<l;++u)for(var f=i[u],a=f.length,d=s[u]=new Array(a),h,g,m=0;m<a;++m)(h=f[m])&&(g=t.call(h,h.__data__,m,f))&&("__data__"in h&&(g.__data__=h.__data__),d[m]=g,Yl(d[m],e,n,m,d,Ln(h,n)));return new ui(s,this._parents,e,n)}function sp(t){var e=this._name,n=this._id;typeof t!="function"&&(t=yh(t));for(var i=this._groups,l=i.length,s=[],u=[],f=0;f<l;++f)for(var a=i[f],d=a.length,h,g=0;g<d;++g)if(h=a[g]){for(var m=t.call(h,h.__data__,g,a),y,v=Ln(h,n),p=0,P=m.length;p<P;++p)(y=m[p])&&Yl(y,e,n,p,m,v);s.push(m),u.push(h)}return new ui(s,u,e,n)}var up=uo.prototype.constructor;function fp(){return new up(this._groups,this._parents)}function ap(t,e){var n,i,l;return function(){var s=mr(this,t),u=(this.style.removeProperty(t),mr(this,t));return s===u?null:s===n&&u===i?l:l=e(n=s,i=u)}}function Fh(t){return function(){this.style.removeProperty(t)}}function cp(t,e,n){var i,l=n+"",s;return function(){var u=mr(this,t);return u===l?null:u===i?s:s=e(i=u,n)}}function dp(t,e,n){var i,l,s;return function(){var u=mr(this,t),f=n(this),a=f+"";return f==null&&(a=f=(this.style.removeProperty(t),mr(this,t))),u===a?null:u===i&&a===l?s:(l=a,s=e(i=u,f))}}function hp(t,e){var n,i,l,s="style."+e,u="end."+s,f;return function(){var a=Un(this,t),d=a.on,h=a.value[s]==null?f||(f=Fh(e)):void 0;(d!==n||l!==h)&&(i=(n=d).copy()).on(u,l=h),a.on=i}}function gp(t,e,n){var i=(t+="")=="transform"?gv:Yh;return e==null?this.styleTween(t,ap(t,i)).on("end.style."+t,Fh(t)):typeof e=="function"?this.styleTween(t,dp(t,i,tf(this,"style."+t,e))).each(hp(this._id,t)):this.styleTween(t,cp(t,i,e),n).on("end.style."+t,null)}function mp(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function _p(t,e,n){var i,l;function s(){var u=e.apply(this,arguments);return u!==l&&(i=(l=u)&&mp(t,u,n)),i}return s._value=e,s}function yp(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,_p(t,e,n??""))}function wp(t){return function(){this.textContent=t}}function bp(t){return function(){var e=t(this);this.textContent=e??""}}function vp(t){return this.tween("text",typeof t=="function"?bp(tf(this,"text",t)):wp(t==null?"":t+""))}function pp(t){return function(e){this.textContent=t.call(this,e)}}function Sp(t){var e,n;function i(){var l=t.apply(this,arguments);return l!==n&&(e=(n=l)&&pp(l)),e}return i._value=t,i}function kp(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Sp(t))}function Cp(){for(var t=this._name,e=this._id,n=Vh(),i=this._groups,l=i.length,s=0;s<l;++s)for(var u=i[s],f=u.length,a,d=0;d<f;++d)if(a=u[d]){var h=Ln(a,e);Yl(a,t,n,d,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ui(i,this._parents,t,n)}function Ep(){var t,e,n=this,i=n._id,l=n.size();return new Promise(function(s,u){var f={value:u},a={value:function(){--l===0&&s()}};n.each(function(){var d=Un(this,i),h=d.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(a)),d.on=e}),l===0&&s()})}var Ap=0;function ui(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Vh(){return++Ap}var ii=uo.prototype;ui.prototype={constructor:ui,select:lp,selectAll:sp,selectChild:ii.selectChild,selectChildren:ii.selectChildren,filter:$v,merge:ep,selection:fp,transition:Cp,call:ii.call,nodes:ii.nodes,node:ii.node,size:ii.size,empty:ii.empty,each:ii.each,on:ip,attr:Dv,attrTween:Fv,style:gp,styleTween:yp,text:vp,textTween:kp,remove:op,tween:Iv,delay:Uv,duration:Gv,ease:Jv,easeVarying:jv,end:Ep,[Symbol.iterator]:ii[Symbol.iterator]};function Mp(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Pp={time:null,delay:0,duration:250,ease:Mp};function Tp(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ip(t){var e,n;t instanceof ui?(e=t._id,t=t._name):(e=Vh(),(n=Pp).time=$u(),t=t==null?null:t+"");for(var i=this._groups,l=i.length,s=0;s<l;++s)for(var u=i[s],f=u.length,a,d=0;d<f;++d)(a=u[d])&&Yl(a,t,e,d,u,n||Tp(a,e));return new ui(i,this._parents,t,e)}uo.prototype.interrupt=Mv;uo.prototype.transition=Ip;const al=t=>()=>t;function Op(t,{sourceEvent:e,target:n,transform:i,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:l}})}function ri(t,e,n){this.k=t,this.x=e,this.y=n}ri.prototype={constructor:ri,scale:function(t){return t===1?this:new ri(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ri(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fl=new ri(1,0,0);Kh.prototype=ri.prototype;function Kh(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Fl;return t.__zoom}function Cu(t){t.stopImmediatePropagation()}function Vr(t){t.preventDefault(),t.stopImmediatePropagation()}function Np(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Hp(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Qc(){return this.__zoom||Fl}function zp(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Lp(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rp(t,e,n){var i=t.invertX(e[0][0])-n[0][0],l=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l),u>s?(s+u)/2:Math.min(0,s)||Math.max(0,u))}function Uh(){var t=Np,e=Hp,n=Rp,i=zp,l=Lp,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],f=250,a=bv,d=Wl("start","zoom","end"),h,g,m,y=500,v=150,p=0,P=10;function w(M){M.property("__zoom",Qc).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",x).filter(l).on("touchstart.zoom",I).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(M,V,Y,G){var q=M.selection?M.selection():M;q.property("__zoom",Qc),M!==q?T(M,V,Y,G):q.interrupt().each(function(){O(this,arguments).event(G).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},w.scaleBy=function(M,V,Y,G){w.scaleTo(M,function(){var q=this.__zoom.k,ee=typeof V=="function"?V.apply(this,arguments):V;return q*ee},Y,G)},w.scaleTo=function(M,V,Y,G){w.transform(M,function(){var q=e.apply(this,arguments),ee=this.__zoom,fe=Y==null?A(q):typeof Y=="function"?Y.apply(this,arguments):Y,se=ee.invert(fe),J=typeof V=="function"?V.apply(this,arguments):V;return n(C(N(ee,J),fe,se),q,u)},Y,G)},w.translateBy=function(M,V,Y,G){w.transform(M,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof Y=="function"?Y.apply(this,arguments):Y),e.apply(this,arguments),u)},null,G)},w.translateTo=function(M,V,Y,G,q){w.transform(M,function(){var ee=e.apply(this,arguments),fe=this.__zoom,se=G==null?A(ee):typeof G=="function"?G.apply(this,arguments):G;return n(Fl.translate(se[0],se[1]).scale(fe.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof Y=="function"?-Y.apply(this,arguments):-Y),ee,u)},G,q)};function N(M,V){return V=Math.max(s[0],Math.min(s[1],V)),V===M.k?M:new ri(V,M.x,M.y)}function C(M,V,Y){var G=V[0]-Y[0]*M.k,q=V[1]-Y[1]*M.k;return G===M.x&&q===M.y?M:new ri(M.k,G,q)}function A(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function T(M,V,Y,G){M.on("start.zoom",function(){O(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(G).end()}).tween("zoom",function(){var q=this,ee=arguments,fe=O(q,ee).event(G),se=e.apply(q,ee),J=Y==null?A(se):typeof Y=="function"?Y.apply(q,ee):Y,ve=Math.max(se[1][0]-se[0][0],se[1][1]-se[0][1]),Ae=q.__zoom,ke=typeof V=="function"?V.apply(q,ee):V,R=a(Ae.invert(J).concat(ve/Ae.k),ke.invert(J).concat(ve/ke.k));return function(ge){if(ge===1)ge=ke;else{var ye=R(ge),ie=ve/ye[2];ge=new ri(ie,J[0]-ye[0]*ie,J[1]-ye[1]*ie)}fe.zoom(null,ge)}})}function O(M,V,Y){return!Y&&M.__zooming||new H(M,V)}function H(M,V){this.that=M,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(M,V),this.taps=0}H.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,V){return this.mouse&&M!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var V=fn(this.that).datum();d.call(M,this.that,new Op(M,{sourceEvent:this.sourceEvent,target:w,type:M,transform:this.that.__zoom,dispatch:d}),V)}};function L(M,...V){if(!t.apply(this,arguments))return;var Y=O(this,V).event(M),G=this.__zoom,q=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,i.apply(this,arguments)))),ee=Nn(M);if(Y.wheel)(Y.mouse[0][0]!==ee[0]||Y.mouse[0][1]!==ee[1])&&(Y.mouse[1]=G.invert(Y.mouse[0]=ee)),clearTimeout(Y.wheel);else{if(G.k===q)return;Y.mouse=[ee,G.invert(ee)],vl(this),Y.start()}Vr(M),Y.wheel=setTimeout(fe,v),Y.zoom("mouse",n(C(N(G,q),Y.mouse[0],Y.mouse[1]),Y.extent,u));function fe(){Y.wheel=null,Y.end()}}function B(M,...V){if(m||!t.apply(this,arguments))return;var Y=M.currentTarget,G=O(this,V,!0).event(M),q=fn(M.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",ve,!0),ee=Nn(M,Y),fe=M.clientX,se=M.clientY;Ph(M.view),Cu(M),G.mouse=[ee,this.__zoom.invert(ee)],vl(this),G.start();function J(Ae){if(Vr(Ae),!G.moved){var ke=Ae.clientX-fe,R=Ae.clientY-se;G.moved=ke*ke+R*R>p}G.event(Ae).zoom("mouse",n(C(G.that.__zoom,G.mouse[0]=Nn(Ae,Y),G.mouse[1]),G.extent,u))}function ve(Ae){q.on("mousemove.zoom mouseup.zoom",null),Th(Ae.view,G.moved),Vr(Ae),G.event(Ae).end()}}function x(M,...V){if(t.apply(this,arguments)){var Y=this.__zoom,G=Nn(M.changedTouches?M.changedTouches[0]:M,this),q=Y.invert(G),ee=Y.k*(M.shiftKey?.5:2),fe=n(C(N(Y,ee),G,q),e.apply(this,V),u);Vr(M),f>0?fn(this).transition().duration(f).call(T,fe,G,M):fn(this).call(w.transform,fe,G,M)}}function I(M,...V){if(t.apply(this,arguments)){var Y=M.touches,G=Y.length,q=O(this,V,M.changedTouches.length===G).event(M),ee,fe,se,J;for(Cu(M),fe=0;fe<G;++fe)se=Y[fe],J=Nn(se,this),J=[J,this.__zoom.invert(J),se.identifier],q.touch0?!q.touch1&&q.touch0[2]!==J[2]&&(q.touch1=J,q.taps=0):(q.touch0=J,ee=!0,q.taps=1+!!h);h&&(h=clearTimeout(h)),ee&&(q.taps<2&&(g=J[0],h=setTimeout(function(){h=null},y)),vl(this),q.start())}}function X(M,...V){if(this.__zooming){var Y=O(this,V).event(M),G=M.changedTouches,q=G.length,ee,fe,se,J;for(Vr(M),ee=0;ee<q;++ee)fe=G[ee],se=Nn(fe,this),Y.touch0&&Y.touch0[2]===fe.identifier?Y.touch0[0]=se:Y.touch1&&Y.touch1[2]===fe.identifier&&(Y.touch1[0]=se);if(fe=Y.that.__zoom,Y.touch1){var ve=Y.touch0[0],Ae=Y.touch0[1],ke=Y.touch1[0],R=Y.touch1[1],ge=(ge=ke[0]-ve[0])*ge+(ge=ke[1]-ve[1])*ge,ye=(ye=R[0]-Ae[0])*ye+(ye=R[1]-Ae[1])*ye;fe=N(fe,Math.sqrt(ge/ye)),se=[(ve[0]+ke[0])/2,(ve[1]+ke[1])/2],J=[(Ae[0]+R[0])/2,(Ae[1]+R[1])/2]}else if(Y.touch0)se=Y.touch0[0],J=Y.touch0[1];else return;Y.zoom("touch",n(C(fe,se,J),Y.extent,u))}}function D(M,...V){if(this.__zooming){var Y=O(this,V).event(M),G=M.changedTouches,q=G.length,ee,fe;for(Cu(M),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),ee=0;ee<q;++ee)fe=G[ee],Y.touch0&&Y.touch0[2]===fe.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===fe.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(fe=Nn(fe,this),Math.hypot(g[0]-fe[0],g[1]-fe[1])<P)){var se=fn(this).on("dblclick.zoom");se&&se.apply(this,arguments)}}}return w.wheelDelta=function(M){return arguments.length?(i=typeof M=="function"?M:al(+M),w):i},w.filter=function(M){return arguments.length?(t=typeof M=="function"?M:al(!!M),w):t},w.touchable=function(M){return arguments.length?(l=typeof M=="function"?M:al(!!M),w):l},w.extent=function(M){return arguments.length?(e=typeof M=="function"?M:al([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),w):e},w.scaleExtent=function(M){return arguments.length?(s[0]=+M[0],s[1]=+M[1],w):[s[0],s[1]]},w.translateExtent=function(M){return arguments.length?(u[0][0]=+M[0][0],u[1][0]=+M[1][0],u[0][1]=+M[0][1],u[1][1]=+M[1][1],w):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},w.constrain=function(M){return arguments.length?(n=M,w):n},w.duration=function(M){return arguments.length?(f=+M,w):f},w.interpolate=function(M){return arguments.length?(a=M,w):a},w.on=function(){var M=d.on.apply(d,arguments);return M===d?w:M},w.clickDistance=function(M){return arguments.length?(p=(M=+M)*M,w):Math.sqrt(p)},w.tapDistance=function(M){return arguments.length?(P=+M,w):P},w}const ao={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},gt=Symbol.for("internals"),jc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ai;(function(t){t.Strict="strict",t.Loose="loose"})(Ai||(Ai={}));var Kn;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Kn||(Kn={}));var Il;(function(t){t.Partial="partial",t.Full="full"})(Il||(Il={}));var fr;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(fr||(fr={}));var yr;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(yr||(yr={}));var Ue;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ue||(Ue={}));function Dp(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function $c(t,e,n){if(!n)return;const i=[];t.forEach((l,s)=>{e!=null&&e.has(s)||i.push(l)}),i.length&&n(i)}const Wp=t=>"id"in t&&"source"in t&&"target"in t,Bp=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),kr=(t,e=[0,0])=>{var f;if(!t)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const{width:n,height:i}=ho(t),l=n*e[0],s=i*e[1],u={x:t.position.x-l,y:t.position.y-s};return{position:u,positionAbsolute:(f=t.computed)!=null&&f.positionAbsolute?{x:t.computed.positionAbsolute.x-l,y:t.computed.positionAbsolute.y-s}:u}},co=(t,e={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,l)=>{const s=kr(l,l.origin||e.nodeOrigin);return nf(i,Ol({...s[e.useRelativePosition?"position":"positionAbsolute"],...ho(l)}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return rf(n)},xh=(t,e,[n,i,l]=[0,0,1],s=!1,u=!1,f=[0,0])=>{const a={...Vl(e,[n,i,l]),width:e.width/l,height:e.height/l};return t.reduce((h,g)=>{const{computed:m,selectable:y=!0,hidden:v=!1}=g,p=(m==null?void 0:m.width)??g.width??g.initialWidth??null,P=(m==null?void 0:m.height)??g.height??g.initialHeight??null;if(u&&!y||v)return h;const w=Nl(a,Ku(g,f)),N=p===null||P===null,C=s&&w>0,A=(p??0)*(P??0);return(N||C||w>=A||g.dragging)&&h.push(g),h},[])},Vu=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Xp({nodes:t,width:e,height:n,panZoom:i,minZoom:l,maxZoom:s,nodeOrigin:u=[0,0]},f){const a=t.filter(d=>{var g,m,y;const h=((g=d.computed)==null?void 0:g.width)&&((m=d.computed)==null?void 0:m.height)&&((f==null?void 0:f.includeHiddenNodes)||!d.hidden);return(y=f==null?void 0:f.nodes)!=null&&y.length?h&&(f==null?void 0:f.nodes.some(v=>v.id===d.id)):h});if(a.length>0){const d=co(a,{nodeOrigin:u}),h=lf(d,e,n,(f==null?void 0:f.minZoom)??l,(f==null?void 0:f.maxZoom)??s,(f==null?void 0:f.padding)??.1);return i.setViewport(h,{duration:f==null?void 0:f.duration}),!0}return!1}function Yp(t,e){var n,i;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.computed)==null?void 0:n.width)??0),e[1][1]-(((i=t.computed)==null?void 0:i.height)??0)]]}function Fp({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:l,onError:s}){var m,y,v,p;const u=n.get(t),f=u.parentNode?n.get(u.parentNode):void 0,{x:a,y:d}=f?kr(f,f.origin||i).positionAbsolute:{x:0,y:0};let h=Yp(u,u.extent||l);if(u.extent==="parent"&&!u.expandParent)if(!f)s==null||s("005",ao.error005());else{const P=(m=u.computed)==null?void 0:m.width,w=(y=u.computed)==null?void 0:y.height,N=(v=f==null?void 0:f.computed)==null?void 0:v.width,C=(p=f==null?void 0:f.computed)==null?void 0:p.height;if(P&&w&&N&&C){const A=u.origin||i,T=a+P*A[0],O=d+w*A[1];h=[[T,O],[T+N-P,O+C-w]]}}else f&&id(u.extent)&&(h=[[u.extent[0][0]+a,u.extent[0][1]+d],[u.extent[1][0]+a,u.extent[1][1]+d]]);const g=id(h)?Vp(e,h):e;return{position:{x:g.x-a,y:g.y-d},positionAbsolute:g}}async function qh({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:l}){const s=t.map(m=>m.id),u=[];for(const m of n){if(m.deletable===!1)continue;const y=s.includes(m.id),v=!y&&m.parentNode&&u.find(p=>p.id===m.parentNode);(y||v)&&u.push(m)}const f=e.map(m=>m.id),a=i.filter(m=>m.deletable!==!1),h=Vu(u,a);for(const m of a)f.includes(m.id)&&!h.find(v=>v.id===m.id)&&h.push(m);if(!l)return{edges:h,nodes:u};const g=await l({nodes:u,edges:h});return typeof g=="boolean"?g?{edges:h,nodes:u}:{edges:[],nodes:[]}:g}const wr=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Vp=(t={x:0,y:0},e)=>({x:wr(t.x,e[0][0],e[1][0]),y:wr(t.y,e[0][1],e[1][1])}),ed=(t,e,n)=>t<e?wr(Math.abs(t-e),1,50)/50:t>n?-wr(Math.abs(t-n),1,50)/50:0,Gh=(t,e)=>{const n=ed(t.x,35,e.width-35)*20,i=ed(t.y,35,e.height-35)*20;return[n,i]},nf=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Ol=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),rf=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Ku=(t,e=[0,0])=>{var i,l;const{positionAbsolute:n}=kr(t,t.origin||e);return{...n,width:((i=t.computed)==null?void 0:i.width)??t.width??0,height:((l=t.computed)==null?void 0:l.height)??t.height??0}},td=(t,e=[0,0])=>{var i,l;const{positionAbsolute:n}=kr(t,t.origin||e);return{...n,x2:n.x+(((i=t.computed)==null?void 0:i.width)??t.width??0),y2:n.y+(((l=t.computed)==null?void 0:l.height)??t.height??0)}},Kp=(t,e)=>rf(nf(Ol(t),Ol(e))),Nl=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},nd=t=>qr(t.width)&&qr(t.height)&&qr(t.x)&&qr(t.y),qr=t=>!isNaN(t)&&isFinite(t),Up=(t,e)=>{},xp=({x:t,y:e,width:n,height:i,origin:l=[0,0]})=>!n||!i||l[0]<0||l[1]<0||l[0]>1||l[1]>1?{x:t,y:e}:{x:t-n*l[0],y:e-i*l[1]},of=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Vl=({x:t,y:e},[n,i,l],s=!1,u=[1,1])=>{const f={x:(t-n)/l,y:(e-i)/l};return s?of(f,u):f},Zh=({x:t,y:e},[n,i,l])=>({x:t*l+n,y:e*l+i}),lf=(t,e,n,i,l,s)=>{const u=e/(t.width*(1+s)),f=n/(t.height*(1+s)),a=Math.min(u,f),d=wr(a,i,l),h=t.x+t.width/2,g=t.y+t.height/2,m=e/2-h*d,y=n/2-g*d;return{x:m,y,zoom:d}},Hl=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function id(t){return t!==void 0&&t!=="parent"}function ho(t){var e,n;return{width:((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight??0}}function oo(t){var e,n;return(((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Zr(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:l,y:s}=oi(t),u=Vl({x:l,y:s},i),{x:f,y:a}=n?of(u,e):u;return{xSnapped:f,ySnapped:a,...u}}const Jh=t=>({width:t.offsetWidth,height:t.offsetHeight}),qp=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Gp=["INPUT","SELECT","TEXTAREA"];function Zp(t){var i,l;const e=((l=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:l[0])||t.target;return Gp.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const Qh=t=>"clientX"in t,oi=(t,e)=>{var s,u;const n=Qh(t),i=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,l=n?t.clientY:(u=t.touches)==null?void 0:u[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:l-((e==null?void 0:e.top)??0)}},rd=(t,e,n,i=[0,0])=>{const l=e.querySelectorAll(t);if(!l||!l.length)return null;const s=Array.from(l),u=e.getBoundingClientRect(),f={x:u.width*i[0],y:u.height*i[1]};return s.map(a=>{const d=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(d.left-u.left-f.x)/n,y:(d.top-u.top-f.y)/n,...Jh(a)}})};function Jp({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:l,sourceControlY:s,targetControlX:u,targetControlY:f}){const a=t*.125+l*.375+u*.375+n*.125,d=e*.125+s*.375+f*.375+i*.125,h=Math.abs(a-t),g=Math.abs(d-e);return[a,d,h,g]}function cl(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function od({pos:t,x1:e,y1:n,x2:i,y2:l,c:s}){switch(t){case Ue.Left:return[e-cl(e-i,s),n];case Ue.Right:return[e+cl(i-e,s),n];case Ue.Top:return[e,n-cl(n-l,s)];case Ue.Bottom:return[e,n+cl(l-n,s)]}}function jh({sourceX:t,sourceY:e,sourcePosition:n=Ue.Bottom,targetX:i,targetY:l,targetPosition:s=Ue.Top,curvature:u=.25}){const[f,a]=od({pos:n,x1:t,y1:e,x2:i,y2:l,c:u}),[d,h]=od({pos:s,x1:i,y1:l,x2:t,y2:e,c:u}),[g,m,y,v]=Jp({sourceX:t,sourceY:e,targetX:i,targetY:l,sourceControlX:f,sourceControlY:a,targetControlX:d,targetControlY:h});return[`M${t},${e} C${f},${a} ${d},${h} ${i},${l}`,g,m,y,v]}function $h({sourceX:t,sourceY:e,targetX:n,targetY:i}){const l=Math.abs(n-t)/2,s=n<t?n+l:n-l,u=Math.abs(i-e)/2,f=i<e?i+u:i-u;return[s,f,l,u]}function Qp({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:l=!1}){var f,a;if(!l)return i;const s=n||e.selected||t.selected,u=Math.max(((f=t[gt])==null?void 0:f.z)||0,((a=e[gt])==null?void 0:a.z)||0,1e3);return i+(s?u:0)}function jp({sourceNode:t,targetNode:e,width:n,height:i,transform:l}){const s=nf(td(t),td(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const u={x:-l[0]/l[2],y:-l[1]/l[2],width:n/l[2],height:i/l[2]};return Nl(u,rf(s))>0}const $p=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,e5=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),t5=(t,e)=>{if(!t.source||!t.target)return e;let n;return Wp(t)?n={...t}:n={...t,id:$p(t)},e5(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function e1({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[l,s,u,f]=$h({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,l,s,u,f]}const ld={[Ue.Left]:{x:-1,y:0},[Ue.Right]:{x:1,y:0},[Ue.Top]:{x:0,y:-1},[Ue.Bottom]:{x:0,y:1}},n5=({source:t,sourcePosition:e=Ue.Bottom,target:n})=>e===Ue.Left||e===Ue.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},sd=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function i5({source:t,sourcePosition:e=Ue.Bottom,target:n,targetPosition:i=Ue.Top,center:l,offset:s}){const u=ld[e],f=ld[i],a={x:t.x+u.x*s,y:t.y+u.y*s},d={x:n.x+f.x*s,y:n.y+f.y*s},h=n5({source:a,sourcePosition:e,target:d}),g=h.x!==0?"x":"y",m=h[g];let y=[],v,p;const P={x:0,y:0},w={x:0,y:0},[N,C,A,T]=$h({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[g]*f[g]===-1){v=l.x??N,p=l.y??C;const H=[{x:v,y:a.y},{x:v,y:d.y}],L=[{x:a.x,y:p},{x:d.x,y:p}];u[g]===m?y=g==="x"?H:L:y=g==="x"?L:H}else{const H=[{x:a.x,y:d.y}],L=[{x:d.x,y:a.y}];if(g==="x"?y=u.x===m?L:H:y=u.y===m?H:L,e===i){const D=Math.abs(t[g]-n[g]);if(D<=s){const M=Math.min(s-1,s-D);u[g]===m?P[g]=(a[g]>t[g]?-1:1)*M:w[g]=(d[g]>n[g]?-1:1)*M}}if(e!==i){const D=g==="x"?"y":"x",M=u[g]===f[D],V=a[D]>d[D],Y=a[D]<d[D];(u[g]===1&&(!M&&V||M&&Y)||u[g]!==1&&(!M&&Y||M&&V))&&(y=g==="x"?H:L)}const B={x:a.x+P.x,y:a.y+P.y},x={x:d.x+w.x,y:d.y+w.y},I=Math.max(Math.abs(B.x-y[0].x),Math.abs(x.x-y[0].x)),X=Math.max(Math.abs(B.y-y[0].y),Math.abs(x.y-y[0].y));I>=X?(v=(B.x+x.x)/2,p=y[0].y):(v=y[0].x,p=(B.y+x.y)/2)}return[[t,{x:a.x+P.x,y:a.y+P.y},...y,{x:d.x+w.x,y:d.y+w.y},n],v,p,A,T]}function r5(t,e,n,i){const l=Math.min(sd(t,e)/2,sd(e,n)/2,i),{x:s,y:u}=e;if(t.x===s&&s===n.x||t.y===u&&u===n.y)return`L${s} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${s+l*d},${u}Q ${s},${u} ${s},${u+l*h}`}const f=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${s},${u+l*a}Q ${s},${u} ${s+l*f},${u}`}function br({sourceX:t,sourceY:e,sourcePosition:n=Ue.Bottom,targetX:i,targetY:l,targetPosition:s=Ue.Top,borderRadius:u=5,centerX:f,centerY:a,offset:d=20}){const[h,g,m,y,v]=i5({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:l},targetPosition:s,center:{x:f,y:a},offset:d});return[h.reduce((P,w,N)=>{let C="";return N>0&&N<h.length-1?C=r5(h[N-1],w,h[N+1],u):C=`${N===0?"M":"L"}${w.x} ${w.y}`,P+=C,P},""),g,m,y,v]}function ud(t){var e,n,i;return!!((e=t==null?void 0:t[gt])!=null&&e.handleBounds||(n=t==null?void 0:t.handles)!=null&&n.length)&&!!((i=t==null?void 0:t.computed)!=null&&i.width||t!=null&&t.width||t!=null&&t.initialWidth)}function o5(t){var y,v,p;const{sourceNode:e,targetNode:n}=t;if(!ud(e)||!ud(n))return null;const i=((y=e[gt])==null?void 0:y.handleBounds)||fd(e.handles),l=((v=n[gt])==null?void 0:v.handleBounds)||fd(n.handles),s=cd((i==null?void 0:i.source)??[],t.sourceHandle),u=cd(t.connectionMode===Ai.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),t.targetHandle),f=(s==null?void 0:s.position)||Ue.Bottom,a=(u==null?void 0:u.position)||Ue.Top;if(!s||!u)return(p=t.onError)==null||p.call(t,"008",ao.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const[d,h]=ad(f,e,s),[g,m]=ad(a,n,u);return{sourceX:d,sourceY:h,targetX:g,targetY:m,sourcePosition:f,targetPosition:a}}function fd(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function ad(t,e,n=null){var f,a,d,h;const i=((n==null?void 0:n.x)??0)+(((a=(f=e.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.x)??0),l=((n==null?void 0:n.y)??0)+(((h=(d=e.computed)==null?void 0:d.positionAbsolute)==null?void 0:h.y)??0),{width:s,height:u}=n??ho(e);switch(t){case Ue.Top:return[i+s/2,l];case Ue.Right:return[i+s,l+u/2];case Ue.Bottom:return[i+s/2,l+u];case Ue.Left:return[i,l+u/2]}}function cd(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Uu(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function l5(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:l}){const s=new Set;return t.reduce((u,f)=>([f.markerStart||i,f.markerEnd||l].forEach(a=>{if(a&&typeof a=="object"){const d=Uu(a,e);s.has(d)||(u.push({id:d,color:a.color||n,...a}),s.add(d))}}),u),[]).sort((u,f)=>u.id.localeCompare(f.id))}function s5(t,e,n=[0,0],i){return t.map(l=>{var s,u,f,a,d,h;if(l.parentNode&&!e.has(l.parentNode))throw new Error(`Parent node ${l.parentNode} not found`);if(l.parentNode||i!=null&&i[l.id]){const g=l.parentNode?e.get(l.parentNode):null,{x:m,y,z:v}=n1(l,t,e,{...l.position,z:((s=l[gt])==null?void 0:s.z)??0},(g==null?void 0:g.origin)||n),p=m!==((f=(u=l.computed)==null?void 0:u.positionAbsolute)==null?void 0:f.x)||y!==((d=(a=l.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y);l.computed.positionAbsolute=p?{x:m,y}:(h=l.computed)==null?void 0:h.positionAbsolute,l[gt].z=v,i!=null&&i[l.id]&&(l[gt].isParent=!0)}return l})}function t1(t,e,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i=new Map(e);e.clear();const l={},s=n!=null&&n.elevateNodesOnSelect?1e3:0,u=t.map(a=>{var y,v,p;const d=i.get(a.id);if(a===((y=d==null?void 0:d[gt])==null?void 0:y.userProvidedNode))return e.set(a.id,d),d;const h={...n.defaults,...a,computed:{positionAbsolute:a.position,width:(v=a.computed)==null?void 0:v.width,height:(p=a.computed)==null?void 0:p.height}},g=(qr(a.zIndex)?a.zIndex:0)+(a.selected?s:0),m=(a==null?void 0:a[gt])||(d==null?void 0:d[gt]);return h.parentNode&&(l[h.parentNode]=!0),Object.defineProperty(h,gt,{enumerable:!1,value:{handleBounds:m==null?void 0:m.handleBounds,z:g,userProvidedNode:a}}),e.set(h.id,h),h});return s5(u,e,n.nodeOrigin,l)}function n1(t,e,n,i,l){var f,a;if(!t.parentNode)return i;const s=n.get(t.parentNode),{position:u}=kr(s,(s==null?void 0:s.origin)||l);return n1(s,e,n,{x:(i.x??0)+u.x,y:(i.y??0)+u.y,z:(((f=s[gt])==null?void 0:f.z)??0)>(i.z??0)?((a=s[gt])==null?void 0:a.z)??0:i.z??0},s.origin||l)}function u5(t,e,n,i,l,s){const u=i==null?void 0:i.querySelector(".xyflow__viewport");if(!u)return null;const f=window.getComputedStyle(u),{m22:a}=new window.DOMMatrixReadOnly(f.transform);return e.map(h=>{var m,y;const g=t.get(h.id);if(g){const v=Jh(g.nodeElement);if(!!(v.width&&v.height&&(((m=h.computed)==null?void 0:m.width)!==v.width||((y=h.computed)==null?void 0:y.height)!==v.height||g.forceUpdate))){s==null||s(h.id,v);const P={...h,computed:{...h.computed,...v},[gt]:{...h[gt],handleBounds:{source:rd(".source",g.nodeElement,a,h.origin||l),target:rd(".target",g.nodeElement,a,h.origin||l)}}};return n.set(h.id,P),P}}return h})}function f5({delta:t,panZoom:e,transform:n,translateExtent:i,width:l,height:s}){if(!e||!t.x&&!t.y)return!1;const u=e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[l,s]],i);return!!u&&(u.x!==n[0]||u.y!==n[1]||u.k!==n[2])}function i1(t,e,n){t.clear(),e.clear();for(const i of n){const{source:l,target:s,sourceHandle:u=null,targetHandle:f=null}=i,a=`${l}-source-${u}`,d=`${s}-target-${f}`,h=t.get(a)||new Map,g=t.get(d)||new Map,m={edgeId:i.id,source:l,target:s,sourceHandle:u,targetHandle:f};e.set(i.id,i),t.set(a,h.set(`${s}-${f}`,m)),t.set(d,g.set(`${l}-${u}`,m))}}function Eu(t){return(e,n,i)=>t==null?void 0:t(e,i)}function r1(t,e){if(!t.parentNode)return!1;const n=e.find(i=>i.id===i.parentNode);return n?n.selected?!0:r1(n,e):!1}function dd(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function a5(t,e,n,i){return t.filter(l=>(l.selected||l.id===i)&&(!l.parentNode||!r1(l,t))&&(l.draggable||e&&typeof l.draggable>"u")).map(l=>{var s,u,f,a,d,h,g;return{id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-(((u=(s=l.computed)==null?void 0:s.positionAbsolute)==null?void 0:u.x)??0),y:n.y-(((a=(f=l.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:l.extent,parentNode:l.parentNode,origin:l.origin,expandParent:l.expandParent,computed:{positionAbsolute:((d=l.computed)==null?void 0:d.positionAbsolute)||{x:0,y:0},width:((h=l.computed)==null?void 0:h.width)||0,height:((g=l.computed)==null?void 0:g.height)||0}}})}function Au({nodeId:t,dragItems:e,nodeLookup:n}){const i=e.map(l=>({...n.get(l.id),position:l.position,computed:{...l.computed,positionAbsolute:l.computed.positionAbsolute}}));return[t?i.find(l=>l.id===t):i[0],i]}function c5({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:l}){let s={x:null,y:null},u=0,f=[],a=!1,d={x:0,y:0},h=null,g=!1,m=null;function y({noDragClassName:p,handleSelector:P,domNode:w,isSelectable:N,nodeId:C}){m=fn(w);function A({x:L,y:B},x){const{nodeLookup:I,nodeExtent:X,snapGrid:D,snapToGrid:M,nodeOrigin:V,onNodeDrag:Y,onSelectionDrag:G,onError:q,updateNodePositions:ee}=e();s={x:L,y:B};let fe=!1,se={x:0,y:0,x2:0,y2:0};if(f.length>1&&X){const J=co(f,{nodeOrigin:V});se=Ol(J)}if(f=f.map(J=>{var ge,ye;let ve={x:L-J.distance.x,y:B-J.distance.y};M&&(ve=of(ve,D));const Ae=[[X[0][0],X[0][1]],[X[1][0],X[1][1]]];f.length>1&&X&&!J.extent&&(Ae[0][0]=J.computed.positionAbsolute.x-se.x+X[0][0],Ae[1][0]=J.computed.positionAbsolute.x+(((ge=J.computed)==null?void 0:ge.width)??0)-se.x2+X[1][0],Ae[0][1]=J.computed.positionAbsolute.y-se.y+X[0][1],Ae[1][1]=J.computed.positionAbsolute.y+(((ye=J.computed)==null?void 0:ye.height)??0)-se.y2+X[1][1]);const{position:ke,positionAbsolute:R}=Fp({nodeId:J.id,nextPosition:ve,nodeLookup:I,nodeExtent:Ae,nodeOrigin:V,onError:q});return fe=fe||J.position.x!==ke.x||J.position.y!==ke.y,J.position=ke,J.computed.positionAbsolute=R,J}),!!fe&&(ee(f,!0),x&&(i||Y||!C&&G))){const[J,ve]=Au({nodeId:C,dragItems:f,nodeLookup:I});i==null||i(x,f,J,ve),Y==null||Y(x,J,ve),C||Eu(G)(x,J,ve)}}function T(){if(!h)return;const[L,B]=Gh(d,h);if(L!==0||B!==0){const{transform:x,panBy:I}=e();s.x=(s.x??0)-L/x[2],s.y=(s.y??0)-B/x[2],I({x:L,y:B})&&A(s,null)}u=requestAnimationFrame(T)}function O(L){var se;const{nodes:B,nodeLookup:x,multiSelectionActive:I,nodesDraggable:X,transform:D,snapGrid:M,snapToGrid:V,selectNodesOnDrag:Y,onNodeDragStart:G,onSelectionDragStart:q,unselectNodesAndEdges:ee}=e();g=!0,(!Y||!N)&&!I&&C&&((se=x.get(C))!=null&&se.selected||ee()),N&&Y&&C&&(t==null||t(C));const fe=Zr(L.sourceEvent,{transform:D,snapGrid:M,snapToGrid:V});if(s=fe,f=a5(B,X,fe,C),f.length>0&&(n||G||!C&&q)){const[J,ve]=Au({nodeId:C,dragItems:f,nodeLookup:x});n==null||n(L.sourceEvent,f,J,ve),G==null||G(L.sourceEvent,J,ve),C||Eu(q)(L.sourceEvent,J,ve)}}const H=Ih().on("start",L=>{const{domNode:B,nodeDragThreshold:x,transform:I,snapGrid:X,snapToGrid:D}=e();x===0&&O(L),s=Zr(L.sourceEvent,{transform:I,snapGrid:X,snapToGrid:D}),h=(B==null?void 0:B.getBoundingClientRect())||null,d=oi(L.sourceEvent,h)}).on("drag",L=>{const{autoPanOnNodeDrag:B,transform:x,snapGrid:I,snapToGrid:X,nodeDragThreshold:D}=e(),M=Zr(L.sourceEvent,{transform:x,snapGrid:I,snapToGrid:X});if(!a&&B&&g&&(a=!0,T()),!g){const V=M.xSnapped-(s.x??0),Y=M.ySnapped-(s.y??0);Math.sqrt(V*V+Y*Y)>D&&O(L)}(s.x!==M.xSnapped||s.y!==M.ySnapped)&&f&&g&&(d=oi(L.sourceEvent,h),A(M,L.sourceEvent))}).on("end",L=>{if(g&&(a=!1,g=!1,cancelAnimationFrame(u),f.length>0)){const{nodeLookup:B,updateNodePositions:x,onNodeDragStop:I,onSelectionDragStop:X}=e();if(x(f,!1),l||I||!C&&X){const[D,M]=Au({nodeId:C,dragItems:f,nodeLookup:B});l==null||l(L.sourceEvent,f,D,M),I==null||I(L.sourceEvent,D,M),C||Eu(X)(L.sourceEvent,D,M)}}}).filter(L=>{const B=L.target;return!L.button&&(!p||!dd(B,`.${p}`,w))&&(!P||dd(B,P,w))});m.call(H)}function v(){m==null||m.on(".drag",null)}return{update:y,destroy:v}}function hd(t,e,n,i){return(e[n]||[]).reduce((l,s)=>{var u,f,a,d;return`${t.id}-${s.id}-${n}`!==i&&l.push({id:s.id||null,type:n,nodeId:t.id,x:(((f=(u=t.computed)==null?void 0:u.positionAbsolute)==null?void 0:f.x)??0)+s.x+s.width/2,y:(((d=(a=t.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0)+s.y+s.height/2}),l},[])}function d5(t,e,n){let i=[],l=1/0;for(const s of n){const u=Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2));u<=e&&(u<l?i=[s]:u===l&&i.push(s),l=u)}return i.length?i.length===1?i[0]:i.find(s=>s.type==="target")||i[0]:null}function h5({nodes:t,nodeId:e,handleId:n,handleType:i}){return t.reduce((l,s)=>{if(s[gt]){const{handleBounds:u}=s[gt];let f=[],a=[];u&&(f=hd(s,u,"source",`${e}-${n}-${i}`),a=hd(s,u,"target",`${e}-${n}-${i}`)),l.push(...f,...a)}return l},[])}function o1(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function g5(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}const l1=()=>!0;let dl=null;function m5(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:l,edgeUpdaterType:s,isTarget:u,domNode:f,nodes:a,lib:d,autoPanOnConnect:h,flowId:g,panBy:m,cancelConnection:y,onConnectStart:v,onConnect:p,onConnectEnd:P,isValidConnection:w=l1,onEdgeUpdateEnd:N,updateConnection:C,getTransform:A,getConnectionStartHandle:T}){const O=qp(t.target);let H=0,L;const{x:B,y:x}=oi(t),I=O==null?void 0:O.elementFromPoint(B,x),X=o1(s,I),D=f==null?void 0:f.getBoundingClientRect();if(!D||!X)return;let M=oi(t,D),V=!1,Y=null,G=!1,q=null;const ee=h5({nodes:a,nodeId:l,handleId:i,handleType:X});function fe(){if(!h||!D)return;const[ve,Ae]=Gh(M,D);m({x:ve,y:Ae}),H=requestAnimationFrame(fe)}dl={nodeId:l,handleId:i,type:X},C({connectionPosition:M,connectionStatus:null,connectionStartHandle:dl,connectionEndHandle:null}),v==null||v(t,{nodeId:l,handleId:i,handleType:X});function se(ve){T()||J(ve);const Ae=A();M=oi(ve,D),L=d5(Vl(M,Ae,!1,[1,1]),n,ee),V||(fe(),V=!0);const ke=s1(ve,{handle:L,connectionMode:e,fromNodeId:l,fromHandleId:i,fromType:u?"target":"source",isValidConnection:w,doc:O,lib:d,flowId:g});q=ke.handleDomNode,Y=ke.connection,G=ke.isValid,C({connectionStartHandle:dl,connectionPosition:L&&G?Zh({x:L.x,y:L.y},Ae):M,connectionStatus:g5(!!L,G),connectionEndHandle:ke.endHandle})}function J(ve){(L||q)&&Y&&G&&(p==null||p(Y)),P==null||P(ve),s&&(N==null||N(ve)),y(),cancelAnimationFrame(H),V=!1,G=!1,Y=null,q=null,dl=null,O.removeEventListener("mousemove",se),O.removeEventListener("mouseup",J),O.removeEventListener("touchmove",se),O.removeEventListener("touchend",J)}O.addEventListener("mousemove",se),O.addEventListener("mouseup",J),O.addEventListener("touchmove",se),O.addEventListener("touchend",J)}function s1(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:l,fromType:s,doc:u,lib:f,flowId:a,isValidConnection:d=l1}){const h=s==="target",g=e?u.querySelector(`.${f}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:m,y}=oi(t),v=u.elementFromPoint(m,y),p=v!=null&&v.classList.contains(`${f}-flow__handle`)?v:g,P={handleDomNode:p,isValid:!1,connection:null,endHandle:null};if(p){const w=o1(void 0,p),N=p.getAttribute("data-nodeid"),C=p.getAttribute("data-handleid"),A=p.classList.contains("connectable"),T=p.classList.contains("connectableend");if(!N)return P;const O={source:h?N:i,sourceHandle:h?C:l,target:h?i:N,targetHandle:h?l:C};P.connection=O,A&&T&&(n===Ai.Strict?h&&w==="source"||!h&&w==="target":N!==i||C!==l)&&(P.endHandle={nodeId:N,handleId:C,type:w},P.isValid=d(O))}return P}const _5={onPointerDown:m5,isValid:s1};function y5({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const l=fn(t);function s({translateExtent:f,width:a,height:d,zoomStep:h=10,pannable:g=!0,zoomable:m=!0,inversePan:y=!1}){const v=w=>{const N=n();if(w.sourceEvent.type!=="wheel"||!e)return;const C=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*h,A=N[2]*Math.pow(2,C);e.scaleTo(A)},p=w=>{const N=n();if(w.sourceEvent.type!=="mousemove"||!e)return;const C=i()*Math.max(N[2],Math.log(N[2]))*(y?-1:1),A={x:N[0]-w.sourceEvent.movementX*C,y:N[1]-w.sourceEvent.movementY*C},T=[[0,0],[a,d]];e.setViewportConstrained({x:A.x,y:A.y,zoom:N[2]},T,f)},P=Uh().on("zoom",g?p:null).on("zoom.wheel",m?v:null);l.call(P,{})}function u(){l.on("zoom",null)}return{update:s,destroy:u,pointer:Nn}}const w5=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Kl=t=>({x:t.x,y:t.y,zoom:t.k}),Mu=({x:t,y:e,zoom:n})=>Fl.translate(t,e).scale(n),or=(t,e)=>t.target.closest(`.${e}`),u1=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Pu=(t,e=0)=>typeof e=="number"&&e>0?t.transition().duration(e):t,f1=t=>{const e=t.ctrlKey&&Hl()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function b5({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:l,panOnScrollSpeed:s,zoomOnPinch:u,onPanZoomStart:f,onPanZoom:a,onPanZoomEnd:d}){return h=>{if(or(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const g=n.property("__zoom").k||1,m=Hl();if(h.ctrlKey&&u&&m){const w=Nn(h),N=f1(h),C=g*Math.pow(2,N);i.scaleTo(n,C,w,h);return}const y=h.deltaMode===1?20:1;let v=l===Kn.Vertical?0:h.deltaX*y,p=l===Kn.Horizontal?0:h.deltaY*y;!m&&h.shiftKey&&l!==Kn.Vertical&&(v=h.deltaY*y,p=0),i.translateBy(n,-(v/g)*s,-(p/g)*s,{internal:!0});const P=Kl(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,f==null||f(h,P)),t.isPanScrolling&&(a==null||a(h,P),t.panScrollTimeout=setTimeout(()=>{d==null||d(h,P),t.isPanScrolling=!1},150))}}function v5({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,l){if(!e||or(i,t))return null;i.preventDefault(),n.call(this,i,l)}}function p5({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var s,u,f;if((s=i.sourceEvent)!=null&&s.internal)return;const l=Kl(i.transform);t.mouseButton=((u=i.sourceEvent)==null?void 0:u.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=l,((f=i.sourceEvent)==null?void 0:f.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,l))}}function S5({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:l}){return s=>{var u,f;t.usedRightMouseButton=!!(n&&u1(e,t.mouseButton??0)),(u=s.sourceEvent)!=null&&u.sync||i([s.transform.x,s.transform.y,s.transform.k]),l&&!((f=s.sourceEvent)!=null&&f.internal)&&(l==null||l(s.sourceEvent,Kl(s.transform)))}}function k5({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:l,onPaneContextMenu:s}){return u=>{var f;if(!((f=u.sourceEvent)!=null&&f.internal)&&(t.isZoomingOrPanning=!1,s&&u1(e,t.mouseButton??0)&&!t.usedRightMouseButton&&u.sourceEvent&&s(u.sourceEvent),t.usedRightMouseButton=!1,i(!1),l&&w5(t.prevViewport,u.transform))){const a=Kl(u.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{l==null||l(u.sourceEvent,a)},n?150:0)}}}function C5({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:l,zoomOnDoubleClick:s,userSelectionActive:u,noWheelClassName:f,noPanClassName:a,lib:d}){return h=>{const g=t||e,m=n&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(or(h,`${d}-flow__node`)||or(h,`${d}-flow__edge`)))return!0;if(!i&&!g&&!l&&!s&&!n||u||!s&&h.type==="dblclick"||or(h,f)&&h.type==="wheel"||or(h,a)&&(h.type!=="wheel"||l&&h.type==="wheel"&&!t)||!n&&h.ctrlKey&&h.type==="wheel"||!g&&!l&&!m&&h.type==="wheel"||!i&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(i)&&!i.includes(h.button)&&(h.type==="mousedown"||h.type==="touchstart"))return!1;const y=Array.isArray(i)&&i.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function E5({domNode:t,minZoom:e,maxZoom:n,translateExtent:i,viewport:l,onPanZoom:s,onPanZoomStart:u,onPanZoomEnd:f,onTransformChange:a,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=t.getBoundingClientRect(),m=Uh().scaleExtent([e,n]).translateExtent(i),y=fn(t).call(m);N({x:l.x,y:l.y,zoom:wr(l.zoom,e,n)},[[0,0],[g.width,g.height]],i);const v=y.on("wheel.zoom");m.wheelDelta(f1);function p(x,I){y&&(m==null||m.transform(Pu(y,I==null?void 0:I.duration),x))}function P({noWheelClassName:x,noPanClassName:I,onPaneContextMenu:X,userSelectionActive:D,panOnScroll:M,panOnDrag:V,panOnScrollMode:Y,panOnScrollSpeed:G,preventScrolling:q,zoomOnPinch:ee,zoomOnScroll:fe,zoomOnDoubleClick:se,zoomActivationKeyPressed:J,lib:ve}){D&&!h.isZoomingOrPanning&&w();const ke=M&&!J&&!D?b5({zoomPanValues:h,noWheelClassName:x,d3Selection:y,d3Zoom:m,panOnScrollMode:Y,panOnScrollSpeed:G,zoomOnPinch:ee,onPanZoomStart:u,onPanZoom:s,onPanZoomEnd:f}):v5({noWheelClassName:x,preventScrolling:q,d3ZoomHandler:v});if(y.on("wheel.zoom",ke,{passive:!1}),!D){const ge=p5({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:u});m.on("start",ge);const ye=S5({zoomPanValues:h,panOnDrag:V,onPaneContextMenu:!!X,onPanZoom:s,onTransformChange:a});m.on("zoom",ye);const ie=k5({zoomPanValues:h,panOnDrag:V,panOnScroll:M,onPaneContextMenu:X,onPanZoomEnd:f,onDraggingChange:d});m.on("end",ie)}const R=C5({zoomActivationKeyPressed:J,panOnDrag:V,zoomOnScroll:fe,panOnScroll:M,zoomOnDoubleClick:se,zoomOnPinch:ee,userSelectionActive:D,noPanClassName:I,noWheelClassName:x,lib:ve});m.filter(R)}function w(){m.on("zoom",null)}function N(x,I,X){const D=Mu(x),M=m==null?void 0:m.constrain()(D,I,X);return M&&p(M),M}function C(x,I){const X=Mu(x);return p(X,I),X}function A(x){if(y){const I=Mu(x),X=y.property("__zoom");(X.k!==x.zoom||X.x!==x.x||X.y!==x.y)&&(m==null||m.transform(y,I,null,{sync:!0}))}}function T(){const x=y?Kh(y.node()):{x:0,y:0,k:1};return{x:x.x,y:x.y,zoom:x.k}}function O(x,I){y&&(m==null||m.scaleTo(Pu(y,I==null?void 0:I.duration),x))}function H(x,I){y&&(m==null||m.scaleBy(Pu(y,I==null?void 0:I.duration),x))}function L(x){m==null||m.scaleExtent(x)}function B(x){m==null||m.translateExtent(x)}return{update:P,destroy:w,setViewport:C,setViewportConstrained:N,getViewport:T,scaleTo:O,scaleBy:H,setScaleExtent:L,setTranslateExtent:B,syncViewport:A}}var Jr;(function(t){t.Line="line",t.Handle="handle"})(Jr||(Jr={}));function A5({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:l,affectsY:s}){const u=t-e,f=n-i,a=[u>0?1:u<0?-1:0,f>0?1:f<0?-1:0];return u&&l&&(a[0]=a[0]*-1),f&&s&&(a[1]=a[1]*-1),a}function M5(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),l=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:l}}function Si(t,e){return Math.max(0,e-t)}function ki(t,e){return Math.max(0,t-e)}function hl(t,e,n){return Math.max(0,e-t,t-n)}function gd(t,e){return t?!e:e}function P5(t,e,n,i,l,s,u,f){let{affectsX:a,affectsY:d}=e;const{isHorizontal:h,isVertical:g}=e,m=h&&g,{xSnapped:y,ySnapped:v}=n,{minWidth:p,maxWidth:P,minHeight:w,maxHeight:N}=i,{x:C,y:A,width:T,height:O,aspectRatio:H}=t;let L=Math.floor(h?y-t.pointerX:0),B=Math.floor(g?v-t.pointerY:0);const x=T+(a?-L:L),I=O+(d?-B:B),X=-s[0]*T,D=-s[1]*O;let M=hl(x,p,P),V=hl(I,w,N);if(u){let q=0,ee=0;a&&L<0?q=Si(C+L+X,u[0][0]):!a&&L>0&&(q=ki(C+x+X,u[1][0])),d&&B<0?ee=Si(A+B+D,u[0][1]):!d&&B>0&&(ee=ki(A+I+D,u[1][1])),M=Math.max(M,q),V=Math.max(V,ee)}if(f){let q=0,ee=0;a&&L>0?q=ki(C+L,f[0][0]):!a&&L<0&&(q=Si(C+x,f[1][0])),d&&B>0?ee=ki(A+B,f[0][1]):!d&&B<0&&(ee=Si(A+I,f[1][1])),M=Math.max(M,q),V=Math.max(V,ee)}if(l){if(h){const q=hl(x/H,w,N)*H;if(M=Math.max(M,q),u){let ee=0;!a&&!d||a&&!d&&m?ee=ki(A+D+x/H,u[1][1])*H:ee=Si(A+D+(a?L:-L)/H,u[0][1])*H,M=Math.max(M,ee)}if(f){let ee=0;!a&&!d||a&&!d&&m?ee=Si(A+x/H,f[1][1])*H:ee=ki(A+(a?L:-L)/H,f[0][1])*H,M=Math.max(M,ee)}}if(g){const q=hl(I*H,p,P)/H;if(V=Math.max(V,q),u){let ee=0;!a&&!d||d&&!a&&m?ee=ki(C+I*H+X,u[1][0])/H:ee=Si(C+(d?B:-B)*H+X,u[0][0])/H,V=Math.max(V,ee)}if(f){let ee=0;!a&&!d||d&&!a&&m?ee=Si(C+I*H,f[1][0])/H:ee=ki(C+(d?B:-B)*H,f[0][0])/H,V=Math.max(V,ee)}}}B=B+(B<0?V:-V),L=L+(L<0?M:-M),l&&(m?x>I*H?B=(gd(a,d)?-L:L)/H:L=(gd(a,d)?-B:B)*H:h?(B=L/H,d=a):(L=B*H,a=d));const Y=a?C+L:C,G=d?A+B:A;return{width:T+(a?-L:L),height:O+(d?-B:B),x:s[0]*L*(a?-1:1)+Y,y:s[1]*B*(d?-1:1)+G}}const a1={width:0,height:0,x:0,y:0},T5={...a1,pointerX:0,pointerY:0,aspectRatio:1},I5={x:0,y:0,width:0,height:0,isXPosChange:!1,isYPosChange:!1,isWidthChange:!1,isHeightChange:!1};function O5(t){return[[0,0],[t.computed.width,t.computed.height]]}function N5(t,e,n){const i=e.position.x+t.position.x,l=e.position.y+t.position.y,s=t.computed.width??0,u=t.computed.height??0,f=n[0]*s,a=n[1]*u;return[[i-f,l-a],[i+s-f,l+u-a]]}function H5({domNode:t,nodeId:e,getStoreItems:n,onChange:i}){const l=fn(t);function s({controlPosition:f,boundaries:a,keepAspectRatio:d,onResizeStart:h,onResize:g,onResizeEnd:m,shouldResize:y}){let v={...a1},p={...T5};const P=M5(f);let w,N=[],C,A,T;const O=Ih().on("start",H=>{var D,M;const{nodeLookup:L,transform:B,snapGrid:x,snapToGrid:I,nodeOrigin:X}=n();if(w=L.get(e),w){const{xSnapped:V,ySnapped:Y}=Zr(H.sourceEvent,{transform:B,snapGrid:x,snapToGrid:I});v={width:((D=w.computed)==null?void 0:D.width)??0,height:((M=w.computed)==null?void 0:M.height)??0,x:w.position.x??0,y:w.position.y??0},p={...v,pointerX:V,pointerY:Y,aspectRatio:v.width/v.height},C=void 0,(w.extent==="parent"||w.expandParent)&&(C=L.get(w.parentNode),C&&w.extent==="parent"&&(A=O5(C))),N=[],T=void 0;for(const[G,q]of L)if(q.parentNode===e&&(N.push({id:G,position:{...q.position},extent:q.extent}),q.extent==="parent"||q.expandParent)){const ee=N5(q,w,q.origin??X);T?T=[[Math.min(ee[0][0],T[0][0]),Math.min(ee[0][1],T[0][1])],[Math.max(ee[1][0],T[1][0]),Math.max(ee[1][1],T[1][1])]]:T=ee}h==null||h(H,{...v})}}).on("drag",H=>{const{transform:L,snapGrid:B,snapToGrid:x,nodeOrigin:I}=n(),X=Zr(H.sourceEvent,{transform:L,snapGrid:B,snapToGrid:x}),D=[];if(w){const{x:M,y:V,width:Y,height:G}=v,q={...I5},ee=w.origin??I,{width:fe,height:se,x:J,y:ve}=P5(p,P,X,a,d,ee,A,T),Ae=fe!==Y,ke=se!==G,R=J!==M&&Ae,ge=ve!==V&&ke;if((R||ge||ee[0]===1||ee[1]==1)&&(q.isXPosChange=R,q.isYPosChange=ge,q.x=R?J:M,q.y=ge?ve:V,v.x=q.x,v.y=q.y,C&&w.expandParent&&(q.x<0&&(v.x=0,p.x=p.x-q.x),q.y<0&&(v.y=0,p.y=p.y-q.y)),N.length>0)){const Fe=J-M,Ie=ve-V;for(const Re of N)Re.position={x:Re.position.x-Fe+ee[0]*(fe-Y),y:Re.position.y-Ie+ee[1]*(se-G)},D.push(Re)}if((Ae||ke)&&(q.isWidthChange=Ae,q.isHeightChange=ke,q.width=fe,q.height=se,v.width=q.width,v.height=q.height),!q.isXPosChange&&!q.isYPosChange&&!Ae&&!ke)return;const ye=A5({width:v.width,prevWidth:Y,height:v.height,prevHeight:G,affectsX:P.affectsX,affectsY:P.affectsY}),ie={...v,direction:ye};if((y==null?void 0:y(H,ie))===!1)return;g==null||g(H,ie),i(q,D)}}).on("end",H=>{m==null||m(H,{...v})});l.call(O)}function u(){l.on(".drag",null)}return{update:s,destroy:u}}function z5(t){let e,n,i,l,s,u;const f=t[43].default,a=Bt(f,t,t[42],null);return{c(){e=pe("div"),a&&a.c(),E(e,"data-handleid",t[15]),E(e,"data-nodeid",t[13]),E(e,"data-handlepos",t[3]),E(e,"data-id",n=t[11]+"-"+t[13]+"-"+(t[1]||null)+"-"+t[2]),E(e,"class",i=tt(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),E(e,"style",t[4]),E(e,"role","button"),E(e,"tabindex","-1"),Ye(e,"valid",t[7]),Ye(e,"connectingto",t[6]),Ye(e,"connectingfrom",t[9]),Ye(e,"source",!t[12]),Ye(e,"target",t[12]),Ye(e,"connectablestart",t[0]),Ye(e,"connectableend",t[0]),Ye(e,"connectable",t[0]),Ye(e,"connectionindicator",t[0]&&(!t[10]||t[8]))},m(d,h){$(d,e,h),a&&a.m(e,null),l=!0,s||(u=[Le(e,"mousedown",t[32]),Le(e,"touchstart",t[32])],s=!0)},p(d,h){a&&a.p&&(!l||h[1]&2048)&&Yt(a,f,d,d[42],l?Xt(f,d[42],h,null):Ft(d[42]),null),(!l||h[0]&8)&&E(e,"data-handlepos",d[3]),(!l||h[0]&2054&&n!==(n=d[11]+"-"+d[13]+"-"+(d[1]||null)+"-"+d[2]))&&E(e,"data-id",n),(!l||h[0]&40&&i!==(i=tt(["svelte-flow__handle",`svelte-flow__handle-${d[3]}`,"nodrag","nopan",d[3],d[5]])))&&E(e,"class",i),(!l||h[0]&16)&&E(e,"style",d[4]),(!l||h[0]&168)&&Ye(e,"valid",d[7]),(!l||h[0]&104)&&Ye(e,"connectingto",d[6]),(!l||h[0]&552)&&Ye(e,"connectingfrom",d[9]),(!l||h[0]&4136)&&Ye(e,"source",!d[12]),(!l||h[0]&4136)&&Ye(e,"target",d[12]),(!l||h[0]&41)&&Ye(e,"connectablestart",d[0]),(!l||h[0]&41)&&Ye(e,"connectableend",d[0]),(!l||h[0]&41)&&Ye(e,"connectable",d[0]),(!l||h[0]&1321)&&Ye(e,"connectionindicator",d[0]&&(!d[10]||d[8]))},i(d){l||(Q(a,d),l=!0)},o(d){te(a,d),l=!1},d(d){d&&j(e),a&&a.d(d),s=!1,bt(u)}}}function L5(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,v,p,P,w,N,C,A,T,O,H,L,{$$slots:B={},$$scope:x}=e,{id:I=void 0}=e,{type:X="source"}=e,{position:D=Ue.Top}=e,{style:M=void 0}=e,{isConnectable:V=void 0}=e,{onconnect:Y=void 0}=e,{ondisconnect:G=void 0}=e,{class:q=void 0}=e;const ee=X==="target",fe=$r("svelteflow__node_id"),se=$r("svelteflow__node_connectable");de(t,se,me=>n(41,L=me));const J=I||null,ve=at(),{connectionMode:Ae,domNode:ke,nodes:R,connectionRadius:ge,viewport:ye,isValidConnection:ie,lib:le,addEdge:Fe,onedgecreate:Ie,panBy:Re,cancelConnection:je,updateConnection:nt,autoPanOnConnect:En,edges:Et,connectionLookup:tn,onconnect:cn,onconnectstart:Ce,onconnectend:St,flowId:Gt,connection:dn}=ve;de(t,Ae,me=>n(38,d=me)),de(t,ke,me=>n(53,O=me)),de(t,R,me=>n(52,T=me)),de(t,ge,me=>n(54,H=me)),de(t,ye,me=>n(44,m=me)),de(t,ie,me=>n(49,w=me)),de(t,le,me=>n(51,A=me)),de(t,Ie,me=>n(48,P=me)),de(t,En,me=>n(50,C=me)),de(t,Et,me=>n(40,g=me)),de(t,tn,me=>n(39,h=me)),de(t,cn,me=>n(47,p=me)),de(t,Ce,me=>n(46,v=me)),de(t,St,me=>n(45,y=me)),de(t,Gt,me=>n(11,N=me)),de(t,dn,me=>n(37,a=me));function ce(me){const Rt=Qh(me);(Rt&&me.button===0||!Rt)&&_5.onPointerDown(me,{handleId:J,nodeId:fe,isTarget:ee,connectionRadius:H,domNode:O,nodes:T,connectionMode:d,lib:A,autoPanOnConnect:C,flowId:N,isValidConnection:w,updateConnection:nt,cancelConnection:je,panBy:Re,onConnect:Tt=>{const Nt=P?P(Tt):Tt;Nt&&(Fe(Nt),p==null||p(Tt))},onConnectStart:(Tt,Nt)=>{v==null||v(Tt,{nodeId:Nt.nodeId,handleId:Nt.handleId,handleType:Nt.handleType})},onConnectEnd:Tt=>{y==null||y(Tt)},getTransform:()=>[m.x,m.y,m.zoom],getConnectionStartHandle:()=>a.startHandle})}let Pt=null,Ot;return t.$$set=me=>{"id"in me&&n(1,I=me.id),"type"in me&&n(2,X=me.type),"position"in me&&n(3,D=me.position),"style"in me&&n(4,M=me.style),"isConnectable"in me&&n(0,V=me.isConnectable),"onconnect"in me&&n(33,Y=me.onconnect),"ondisconnect"in me&&n(34,G=me.ondisconnect),"class"in me&&n(5,q=me.class),"$$scope"in me&&n(42,x=me.$$scope)},t.$$.update=()=>{var me,Rt,Tt,Nt,Rn,Dn,hn,Wn,xn;if(t.$$.dirty[0]&1|t.$$.dirty[1]&1024&&n(0,V=V!==void 0?V:L),t.$$.dirty[0]&6|t.$$.dirty[1]&780&&(Y||G)&&n(36,Ot=h.get(`${fe}-${X}-${I||null}`)),t.$$.dirty[1]&60){if(Pt&&!Dp(Ot,Pt)){const qn=Ot??new Map;$c(Pt,qn,G),$c(qn,Pt,Y)}n(35,Pt=Ot??new Map)}t.$$.dirty[1]&64&&n(10,i=!!a.startHandle),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(9,l=((me=a.startHandle)==null?void 0:me.nodeId)===fe&&((Rt=a.startHandle)==null?void 0:Rt.type)===X&&((Tt=a.startHandle)==null?void 0:Tt.handleId)===J),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(6,s=((Nt=a.endHandle)==null?void 0:Nt.nodeId)===fe&&((Rn=a.endHandle)==null?void 0:Rn.type)===X&&((Dn=a.endHandle)==null?void 0:Dn.handleId)===J),t.$$.dirty[0]&4|t.$$.dirty[1]&192&&n(8,u=d===Ai.Strict?((hn=a.startHandle)==null?void 0:hn.type)!==X:fe!==((Wn=a.startHandle)==null?void 0:Wn.nodeId)||J!==((xn=a.startHandle)==null?void 0:xn.handleId)),t.$$.dirty[0]&64|t.$$.dirty[1]&64&&n(7,f=s&&a.status==="valid")},[V,I,X,D,M,q,s,f,u,l,i,N,ee,fe,se,J,Ae,ke,R,ge,ye,ie,le,Ie,En,Et,tn,cn,Ce,St,Gt,dn,ce,Y,G,Pt,Ot,a,d,h,g,L,x,B]}class R5 extends He{constructor(e){super(),Ne(this,e,L5,z5,ze,{id:1,type:2,position:3,style:4,isConnectable:0,onconnect:33,ondisconnect:34,class:5},null,[-1,-1])}}const lo=R5;function D5(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",l,s,u,f;return e=new lo({props:{type:"target",position:t[1]}}),u=new lo({props:{type:"source",position:t[2]}}),{c(){Se(e.$$.fragment),n=Me(),l=ft(i),s=Me(),Se(u.$$.fragment)},m(d,h){we(e,d,h),$(d,n,h),$(d,l,h),$(d,s,h),we(u,d,h),f=!0},p(d,[h]){var y;const g={};h&2&&(g.position=d[1]),e.$set(g),(!f||h&1)&&i!==(i=((y=d[0])==null?void 0:y.label)+"")&&kn(l,i);const m={};h&4&&(m.position=d[2]),u.$set(m)},i(d){f||(Q(e.$$.fragment,d),Q(u.$$.fragment,d),f=!0)},o(d){te(e.$$.fragment,d),te(u.$$.fragment,d),f=!1},d(d){d&&(j(n),j(l),j(s)),be(e,d),be(u,d)}}}function W5(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:l=Ue.Top}=e,{sourcePosition:s=Ue.Bottom}=e,{id:u=""}=e,{width:f=void 0}=e,{height:a=void 0}=e,{selected:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:v=0}=e,{isConnectable:p}=e,{zIndex:P}=e;return t.$$set=w=>{"data"in w&&n(0,i=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"sourcePosition"in w&&n(2,s=w.sourcePosition),"id"in w&&n(3,u=w.id),"width"in w&&n(4,f=w.width),"height"in w&&n(5,a=w.height),"selected"in w&&n(6,d=w.selected),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,v=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,P=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,v,p,P]}class B5 extends He{constructor(e){super(),Ne(this,e,W5,D5,ze,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const c1=B5;function X5(t){var u;let e=((u=t[0])==null?void 0:u.label)+"",n,i,l,s;return l=new lo({props:{type:"source",position:t[1]}}),{c(){n=ft(e),i=Me(),Se(l.$$.fragment)},m(f,a){$(f,n,a),$(f,i,a),we(l,f,a),s=!0},p(f,[a]){var h;(!s||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&kn(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){s||(Q(l.$$.fragment,f),s=!0)},o(f){te(l.$$.fragment,f),s=!1},d(f){f&&(j(n),j(i)),be(l,f)}}}function Y5(t,e,n){let{data:i={label:"Node"}}=e,{sourcePosition:l=Ue.Bottom}=e,{id:s=""}=e,{width:u=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:v=0}=e,{isConnectable:p}=e,{zIndex:P}=e;return t.$$set=w=>{"data"in w&&n(0,i=w.data),"sourcePosition"in w&&n(1,l=w.sourcePosition),"id"in w&&n(2,s=w.id),"width"in w&&n(3,u=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,v=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,P=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,v,p,P]}class F5 extends He{constructor(e){super(),Ne(this,e,Y5,X5,ze,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const V5=F5;function K5(t){var u;let e=((u=t[0])==null?void 0:u.label)+"",n,i,l,s;return l=new lo({props:{type:"target",position:t[1]}}),{c(){n=ft(e),i=Me(),Se(l.$$.fragment)},m(f,a){$(f,n,a),$(f,i,a),we(l,f,a),s=!0},p(f,[a]){var h;(!s||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&kn(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){s||(Q(l.$$.fragment,f),s=!0)},o(f){te(l.$$.fragment,f),s=!1},d(f){f&&(j(n),j(i)),be(l,f)}}}function U5(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:l=Ue.Top}=e,{id:s=""}=e,{width:u=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{sourcePosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:v=0}=e,{isConnectable:p}=e,{zIndex:P}=e;return t.$$set=w=>{"data"in w&&n(0,i=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"id"in w&&n(2,s=w.id),"width"in w&&n(3,u=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"sourcePosition"in w&&n(6,d=w.sourcePosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,v=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,P=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,v,p,P]}class x5 extends He{constructor(e){super(),Ne(this,e,U5,K5,ze,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const q5=x5;function G5(t,e,n){let{id:i=""}=e,{width:l=void 0}=e,{height:s=void 0}=e,{data:u={}}=e,{selected:f=void 0}=e,{sourcePosition:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:v=0}=e,{isConnectable:p}=e,{zIndex:P}=e;return t.$$set=w=>{"id"in w&&n(0,i=w.id),"width"in w&&n(1,l=w.width),"height"in w&&n(2,s=w.height),"data"in w&&n(3,u=w.data),"selected"in w&&n(4,f=w.selected),"sourcePosition"in w&&n(5,a=w.sourcePosition),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,v=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,P=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,v,p,P]}class Z5 extends He{constructor(e){super(),Ne(this,e,G5,null,ze,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const J5=Z5;function md(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function Q5(t,{target:e,domNode:n}){return md(t,n,e),{async update({target:i,domNode:l}){md(t,l,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function j5(t){let e,n,i,l,s;const u=t[3].default,f=Bt(u,t,t[2],null);return{c(){e=pe("div"),f&&f.c()},m(a,d){$(a,e,d),f&&f.m(e,null),i=!0,l||(s=qt(n=Q5.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),l=!0)},p(a,[d]){f&&f.p&&(!i||d&4)&&Yt(f,u,a,a[2],i?Xt(u,a[2],d,null):Ft(a[2]),null),n&&dt(n.update)&&d&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||(Q(f,a),i=!0)},o(a){te(f,a),i=!1},d(a){a&&j(e),f&&f.d(a),l=!1,s()}}}function $5(t,e,n){let i,{$$slots:l={},$$scope:s}=e;const{domNode:u}=at();return de(t,u,f=>n(0,i=f)),t.$$set=f=>{"$$scope"in f&&n(2,s=f.$$scope)},[i,u,s,l]}class e4 extends He{constructor(e){super(),Ne(this,e,$5,j5,ze,{})}}function d1(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:l,unselectNodesAndEdges:s,elementsSelectable:u}=at();return f=>{const a=ue(t).get(f);if(!a){console.warn("012",ao.error012(f));return}(a.selectable||ue(u)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&ue(i)&&s({nodes:[],edges:[a]}):l([f]))}}function t4(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,l,s,u;const f=t[5].default,a=Bt(f,t,t[7],null);return{c(){e=pe("div"),a&&a.c(),E(e,"class","svelte-flow__edge-label"),E(e,"style",n="pointer-events: all;"+t[0]),E(e,"role","button"),E(e,"tabindex","-1"),Xe(e,"transform",i)},m(d,h){$(d,e,h),a&&a.m(e,null),l=!0,s||(u=[Le(e,"keyup",i4),Le(e,"click",t[6])],s=!0)},p(d,h){a&&a.p&&(!l||h&128)&&Yt(a,f,d,d[7],l?Xt(f,d[7],h,null):Ft(d[7]),null),(!l||h&1&&n!==(n="pointer-events: all;"+d[0]))&&E(e,"style",n);const g=h&1;(h&7&&i!==(i=`translate(-50%, -50%) translate(${d[1]}px,${d[2]}px)`)||g)&&Xe(e,"transform",i)},i(d){l||(Q(a,d),l=!0)},o(d){te(a,d),l=!1},d(d){d&&j(e),a&&a.d(d),s=!1,bt(u)}}}function n4(t){let e,n;return e=new e4({props:{$$slots:{default:[t4]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,[l]){const s={};l&135&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}const i4=()=>{};function r4(t,e,n){let{$$slots:i={},$$scope:l}=e,{style:s=void 0}=e,{x:u=void 0}=e,{y:f=void 0}=e;const a=d1(),d=$r("svelteflow__edge_id"),h=()=>{d&&a(d)};return t.$$set=g=>{"style"in g&&n(0,s=g.style),"x"in g&&n(1,u=g.x),"y"in g&&n(2,f=g.y),"$$scope"in g&&n(7,l=g.$$scope)},[s,u,f,a,d,i,h,l]}class o4 extends He{constructor(e){super(),Ne(this,e,r4,n4,ze,{style:0,x:1,y:2})}}const l4=o4;function s4(t){let e;return{c(){e=Ve("path"),E(e,"d",t[1]),E(e,"stroke-opacity",0),E(e,"stroke-width",t[10]),E(e,"fill","none"),E(e,"class","svelte-flow__edge-interaction")},m(n,i){$(n,e,i)},p(n,i){i&2&&E(e,"d",n[1])},d(n){n&&j(e)}}}function _d(t){let e,n;return e=new l4({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[u4]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,l){const s={};l&8&&(s.x=i[3]),l&16&&(s.y=i[4]),l&32&&(s.style=i[5]),l&4100&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function u4(t){let e;return{c(){e=ft(t[2])},m(n,i){$(n,e,i)},p(n,i){i&4&&kn(e,n[2])},d(n){n&&j(e)}}}function f4(t){let e,n,i,l,s,u,f=t[10]&&s4(t),a=t[2]&&_d(t);return{c(){e=Ve("path"),i=Me(),f&&f.c(),l=Me(),a&&a.c(),s=yt(),E(e,"id",t[0]),E(e,"d",t[1]),E(e,"class",n=tt(["svelte-flow__edge-path",t[9]])),E(e,"marker-start",t[6]),E(e,"marker-end",t[7]),E(e,"fill","none"),E(e,"style",t[8])},m(d,h){$(d,e,h),$(d,i,h),f&&f.m(d,h),$(d,l,h),a&&a.m(d,h),$(d,s,h),u=!0},p(d,[h]){(!u||h&1)&&E(e,"id",d[0]),(!u||h&2)&&E(e,"d",d[1]),(!u||h&512&&n!==(n=tt(["svelte-flow__edge-path",d[9]])))&&E(e,"class",n),(!u||h&64)&&E(e,"marker-start",d[6]),(!u||h&128)&&E(e,"marker-end",d[7]),(!u||h&256)&&E(e,"style",d[8]),d[10]&&f.p(d,h),d[2]?a?(a.p(d,h),h&4&&Q(a,1)):(a=_d(d),a.c(),Q(a,1),a.m(s.parentNode,s)):a&&(mt(),te(a,1,1,()=>{a=null}),_t())},i(d){u||(Q(a),u=!0)},o(d){te(a),u=!1},d(d){d&&(j(e),j(i),j(l),j(s)),f&&f.d(d),a&&a.d(d)}}}function a4(t,e,n){let{id:i=void 0}=e,{path:l}=e,{label:s=void 0}=e,{labelX:u=void 0}=e,{labelY:f=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:d=void 0}=e,{markerEnd:h=void 0}=e,{style:g=void 0}=e,{interactionWidth:m=20}=e,{class:y=void 0}=e,v=m===void 0?20:m;return t.$$set=p=>{"id"in p&&n(0,i=p.id),"path"in p&&n(1,l=p.path),"label"in p&&n(2,s=p.label),"labelX"in p&&n(3,u=p.labelX),"labelY"in p&&n(4,f=p.labelY),"labelStyle"in p&&n(5,a=p.labelStyle),"markerStart"in p&&n(6,d=p.markerStart),"markerEnd"in p&&n(7,h=p.markerEnd),"style"in p&&n(8,g=p.style),"interactionWidth"in p&&n(11,m=p.interactionWidth),"class"in p&&n(9,y=p.class)},[i,l,s,u,f,a,d,h,g,y,v,m]}class c4 extends He{constructor(e){super(),Ne(this,e,a4,f4,ze,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const go=c4;function d4(t){let e,n;return e=new go({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function h4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="default"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:v=void 0}=e,{style:p=void 0}=e,{markerStart:P=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:N=void 0}=e,{sourceX:C}=e,{sourceY:A}=e,{sourcePosition:T}=e,{sourceHandleId:O=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:B}=e,{targetHandleId:x=void 0}=e;return t.$$set=I=>{"id"in I&&n(9,u=I.id),"source"in I&&n(10,f=I.source),"target"in I&&n(11,a=I.target),"type"in I&&n(12,d=I.type),"animated"in I&&n(13,h=I.animated),"selected"in I&&n(14,g=I.selected),"label"in I&&n(0,m=I.label),"labelStyle"in I&&n(1,y=I.labelStyle),"data"in I&&n(15,v=I.data),"style"in I&&n(2,p=I.style),"markerStart"in I&&n(3,P=I.markerStart),"markerEnd"in I&&n(4,w=I.markerEnd),"interactionWidth"in I&&n(5,N=I.interactionWidth),"sourceX"in I&&n(16,C=I.sourceX),"sourceY"in I&&n(17,A=I.sourceY),"sourcePosition"in I&&n(18,T=I.sourcePosition),"sourceHandleId"in I&&n(19,O=I.sourceHandleId),"targetX"in I&&n(20,H=I.targetX),"targetY"in I&&n(21,L=I.targetY),"targetPosition"in I&&n(22,B=I.targetPosition),"targetHandleId"in I&&n(23,x=I.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,l,s]=jh({sourceX:C,sourceY:A,targetX:H,targetY:L,sourcePosition:T,targetPosition:B}),i,(n(7,l),n(16,C),n(17,A),n(20,H),n(21,L),n(18,T),n(22,B)),(n(6,s),n(16,C),n(17,A),n(20,H),n(21,L),n(18,T),n(22,B)))},[m,y,p,P,w,N,s,l,i,u,f,a,d,h,g,v,C,A,T,O,H,L,B,x]}class g4 extends He{constructor(e){super(),Ne(this,e,h4,d4,ze,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const h1=g4;function m4(t){let e,n;return e=new go({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function _4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="smoothstep"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:v=void 0}=e,{style:p=void 0}=e,{markerStart:P=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:N=void 0}=e,{sourceX:C}=e,{sourceY:A}=e,{sourcePosition:T}=e,{sourceHandleId:O=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:B}=e,{targetHandleId:x=void 0}=e;return t.$$set=I=>{"id"in I&&n(9,u=I.id),"source"in I&&n(10,f=I.source),"target"in I&&n(11,a=I.target),"type"in I&&n(12,d=I.type),"animated"in I&&n(13,h=I.animated),"selected"in I&&n(14,g=I.selected),"label"in I&&n(0,m=I.label),"labelStyle"in I&&n(1,y=I.labelStyle),"data"in I&&n(15,v=I.data),"style"in I&&n(2,p=I.style),"markerStart"in I&&n(3,P=I.markerStart),"markerEnd"in I&&n(4,w=I.markerEnd),"interactionWidth"in I&&n(5,N=I.interactionWidth),"sourceX"in I&&n(16,C=I.sourceX),"sourceY"in I&&n(17,A=I.sourceY),"sourcePosition"in I&&n(18,T=I.sourcePosition),"sourceHandleId"in I&&n(19,O=I.sourceHandleId),"targetX"in I&&n(20,H=I.targetX),"targetY"in I&&n(21,L=I.targetY),"targetPosition"in I&&n(22,B=I.targetPosition),"targetHandleId"in I&&n(23,x=I.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,l,s]=br({sourceX:C,sourceY:A,targetX:H,targetY:L,sourcePosition:T,targetPosition:B}),i,(n(7,l),n(16,C),n(17,A),n(20,H),n(21,L),n(18,T),n(22,B)),(n(6,s),n(16,C),n(17,A),n(20,H),n(21,L),n(18,T),n(22,B)))},[m,y,p,P,w,N,s,l,i,u,f,a,d,h,g,v,C,A,T,O,H,L,B,x]}class y4 extends He{constructor(e){super(),Ne(this,e,_4,m4,ze,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const w4=y4;function b4(t){let e,n;return e=new go({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function v4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="straight"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:v=void 0}=e,{style:p=void 0}=e,{markerStart:P=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:N=void 0}=e,{sourceX:C}=e,{sourceY:A}=e,{sourcePosition:T}=e,{sourceHandleId:O=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:B}=e,{targetHandleId:x=void 0}=e;return t.$$set=I=>{"id"in I&&n(9,u=I.id),"source"in I&&n(10,f=I.source),"target"in I&&n(11,a=I.target),"type"in I&&n(12,d=I.type),"animated"in I&&n(13,h=I.animated),"selected"in I&&n(14,g=I.selected),"label"in I&&n(0,m=I.label),"labelStyle"in I&&n(1,y=I.labelStyle),"data"in I&&n(15,v=I.data),"style"in I&&n(2,p=I.style),"markerStart"in I&&n(3,P=I.markerStart),"markerEnd"in I&&n(4,w=I.markerEnd),"interactionWidth"in I&&n(5,N=I.interactionWidth),"sourceX"in I&&n(16,C=I.sourceX),"sourceY"in I&&n(17,A=I.sourceY),"sourcePosition"in I&&n(18,T=I.sourcePosition),"sourceHandleId"in I&&n(19,O=I.sourceHandleId),"targetX"in I&&n(20,H=I.targetX),"targetY"in I&&n(21,L=I.targetY),"targetPosition"in I&&n(22,B=I.targetPosition),"targetHandleId"in I&&n(23,x=I.targetHandleId)},t.$$.update=()=>{t.$$.dirty&3342336&&n(8,[i,l,s]=e1({sourceX:C,sourceY:A,targetX:H,targetY:L}),i,(n(7,l),n(16,C),n(17,A),n(20,H),n(21,L)),(n(6,s),n(16,C),n(17,A),n(20,H),n(21,L)))},[m,y,p,P,w,N,s,l,i,u,f,a,d,h,g,v,C,A,T,O,H,L,B,x]}class p4 extends He{constructor(e){super(),Ne(this,e,v4,b4,ze,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const S4=p4;function k4(t){let e,n;return e=new go({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function C4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="step"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{data:y=void 0}=e,{labelStyle:v=void 0}=e,{style:p=void 0}=e,{markerStart:P=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:N=void 0}=e,{sourceX:C}=e,{sourceY:A}=e,{sourcePosition:T}=e,{sourceHandleId:O=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:B}=e,{targetHandleId:x=void 0}=e;return t.$$set=I=>{"id"in I&&n(9,u=I.id),"source"in I&&n(10,f=I.source),"target"in I&&n(11,a=I.target),"type"in I&&n(12,d=I.type),"animated"in I&&n(13,h=I.animated),"selected"in I&&n(14,g=I.selected),"label"in I&&n(0,m=I.label),"data"in I&&n(15,y=I.data),"labelStyle"in I&&n(1,v=I.labelStyle),"style"in I&&n(2,p=I.style),"markerStart"in I&&n(3,P=I.markerStart),"markerEnd"in I&&n(4,w=I.markerEnd),"interactionWidth"in I&&n(5,N=I.interactionWidth),"sourceX"in I&&n(16,C=I.sourceX),"sourceY"in I&&n(17,A=I.sourceY),"sourcePosition"in I&&n(18,T=I.sourcePosition),"sourceHandleId"in I&&n(19,O=I.sourceHandleId),"targetX"in I&&n(20,H=I.targetX),"targetY"in I&&n(21,L=I.targetY),"targetPosition"in I&&n(22,B=I.targetPosition),"targetHandleId"in I&&n(23,x=I.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,l,s]=br({sourceX:C,sourceY:A,targetX:H,targetY:L,sourcePosition:T,targetPosition:B,borderRadius:0}),i,(n(7,l),n(16,C),n(17,A),n(20,H),n(21,L),n(18,T),n(22,B)),(n(6,s),n(16,C),n(17,A),n(20,H),n(21,L),n(18,T),n(22,B)))},[m,v,p,P,w,N,s,l,i,u,f,a,d,h,g,y,C,A,T,O,H,L,B,x]}class E4 extends He{constructor(e){super(),Ne(this,e,C4,k4,ze,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,data:15,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const A4=E4;function M4(t,e){const n=t.set,i=e.set,l=ue(t),s=ue(e);let f=l.length===0&&s.length>0?s:l;t.set(f);const a=d=>{const h=n(d);return f=h,i(f),h};t.set=e.set=a,t.update=e.update=d=>a(d(f))}function P4(t,e){const n=t.set,i=e.set;let l=ue(e);t.set(l);const s=u=>{n(u),i(u),l=u};t.set=e.set=s,t.update=e.update=u=>s(u(l))}const T4=(t,e,n)=>{if(!n)return;const i=ue(t),l=e.set,s=n.set;let u=n?ue(n):{x:0,y:0,zoom:1};e.set(u),e.set=f=>(l(f),s(f),u=f,f),n.set=f=>(i==null||i.syncViewport(f),l(f),s(f),u=f,f),e.update=f=>{e.set(f(u))},n.update=f=>{n.set(f(u))}},I4=(t,e)=>{const{subscribe:n,set:i,update:l}=Oe([]);let s=t,u={},f=!0;const a=m=>(s=t1(m,e,{elevateNodesOnSelect:f,defaults:u}),i(s),s),d=m=>a(m(s)),h=m=>{u=m},g=m=>{f=m.elevateNodesOnSelect??f};return a(s),{subscribe:n,set:a,update:d,setDefaultOptions:h,setOptions:g}},O4=(t,e,n,i)=>{const{subscribe:l,set:s,update:u}=Oe([]);let f=t,a=i||{};const d=m=>{const y=a?m.map(v=>({...a,...v})):m;i1(e,n,y),f=y,s(f)},h=m=>d(m(f)),g=m=>{a=m};return d(f),{subscribe:l,set:d,update:h,setDefaultOptions:g}},g1={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},N4={[Ue.Left]:Ue.Right,[Ue.Right]:Ue.Left,[Ue.Top]:Ue.Bottom,[Ue.Bottom]:Ue.Top};function H4(t,e){return gr([e,t.connectionLineType,t.connectionMode,t.nodeLookup,t.viewport],([n,i,l,s,u])=>{var T,O,H,L,B,x,I,X,D,M,V,Y,G;if(!((T=n.connectionStartHandle)!=null&&T.nodeId))return g1;const f=s.get((O=n.connectionStartHandle)==null?void 0:O.nodeId),a=(H=f==null?void 0:f[gt])==null?void 0:H.handleBounds,d=(a==null?void 0:a[n.connectionStartHandle.type||"source"])||[],h=d||(a==null?void 0:a[((L=n==null?void 0:n.connectionStartHandle)==null?void 0:L.type)==="source"?"target":"source"]),g=l===Ai.Strict?d:h,m=(B=n.connectionStartHandle)!=null&&B.handleId?g==null?void 0:g.find(q=>{var ee;return q.id===((ee=n.connectionStartHandle)==null?void 0:ee.handleId)}):g==null?void 0:g[0],y=m?m.x+m.width/2:(((x=f==null?void 0:f.computed)==null?void 0:x.width)??0)/2,v=m?m.y+m.height/2:((I=f==null?void 0:f.computed)==null?void 0:I.height)??0,p=(((D=(X=f==null?void 0:f.computed)==null?void 0:X.positionAbsolute)==null?void 0:D.x)??0)+y,P=(((V=(M=f==null?void 0:f.computed)==null?void 0:M.positionAbsolute)==null?void 0:V.y)??0)+v,w=m==null?void 0:m.position,N=w?N4[w]:void 0,C={sourceX:p,sourceY:P,sourcePosition:w,targetX:((((Y=n.connectionPosition)==null?void 0:Y.x)??0)-u.x)/u.zoom,targetY:((((G=n.connectionPosition)==null?void 0:G.y)??0)-u.y)/u.zoom,targetPosition:N};let A="";return i===fr.Bezier?[A]=jh(C):i===fr.Step?[A]=br({...C,borderRadius:0}):i===fr.SmoothStep?[A]=br(C):[A]=e1(C),{path:A,...C,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const m1={input:V5,output:q5,default:c1,group:J5},_1={straight:S4,smoothstep:w4,default:h1,step:A4},z4=({nodes:t=[],edges:e=[],width:n,height:i,fitView:l})=>{const s=new Map,u=t1(t,s,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),f=new Map,a=new Map;i1(f,a,e);let d={x:0,y:0,zoom:1};if(l&&n&&i){const h=u.filter(m=>m.width&&m.height||m.initialWidth&&m.initialHeight),g=co(h,{nodeOrigin:[0,0]});d=lf(g,n,i,.5,2,.1)}return{flowId:Oe(null),nodes:I4(u,s),nodeLookup:In(s),edgeLookup:In(a),visibleNodes:In([]),edges:O4(e,f,a),visibleEdges:In([]),connectionLookup:In(f),height:Oe(500),width:Oe(500),minZoom:Oe(.5),maxZoom:Oe(2),nodeOrigin:Oe([0,0]),nodeDragThreshold:Oe(1),nodeExtent:Oe(jc),translateExtent:Oe(jc),autoPanOnNodeDrag:Oe(!0),autoPanOnConnect:Oe(!0),fitViewOnInit:Oe(!1),fitViewOnInitDone:Oe(!1),fitViewOptions:Oe(void 0),panZoom:Oe(null),snapGrid:Oe(null),dragging:Oe(!1),selectionRect:Oe(null),selectionKeyPressed:Oe(!1),multiselectionKeyPressed:Oe(!1),deleteKeyPressed:Oe(!1),panActivationKeyPressed:Oe(!1),zoomActivationKeyPressed:Oe(!1),selectionRectMode:Oe(null),selectionMode:Oe(Il.Partial),nodeTypes:Oe(m1),edgeTypes:Oe(_1),viewport:Oe(d),connectionMode:Oe(Ai.Strict),domNode:Oe(null),connection:In(g1),connectionLineType:Oe(fr.Bezier),connectionRadius:Oe(20),isValidConnection:Oe(()=>!0),nodesDraggable:Oe(!0),nodesConnectable:Oe(!0),elementsSelectable:Oe(!0),selectNodesOnDrag:Oe(!0),markers:In([]),defaultMarkerColor:Oe("#b1b1b7"),lib:In("svelte"),onlyRenderVisibleElements:Oe(!1),onerror:Oe(Up),ondelete:Oe(void 0),onedgecreate:Oe(void 0),onconnect:Oe(void 0),onconnectstart:Oe(void 0),onconnectend:Oe(void 0),onbeforedelete:Oe(void 0),nodesInitialized:Oe(!1),edgesInitialized:Oe(!1),viewportInitialized:Oe(!1),initialized:In(!1)}};function L4(t){const e=gr([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,l,s,u,f])=>l&&u&&f?n.filter(d=>{const h=i.get(d.source),g=i.get(d.target);return h&&g&&jp({sourceNode:h,targetNode:g,width:u,height:f,transform:[s.x,s.y,s.zoom]})}):n);return gr([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,l,s])=>n.reduce((f,a)=>{const d=i.get(a.source),h=i.get(a.target);if(!d||!h)return f;const g=o5({id:a.id,sourceNode:d,targetNode:h,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:l,onError:s});return g&&f.push({...a,zIndex:Qp({selected:a.selected,zIndex:a.zIndex,sourceNode:d,targetNode:h,elevateOnSelect:!1}),...g}),f},[]))}function R4(t){return gr([t.nodes,t.onlyRenderVisibleElements,t.width,t.height,t.viewport],([e,n,i,l,s])=>{const u=[s.x,s.y,s.zoom];return n?xh(e,{x:0,y:0,width:i,height:l},u,!0):e})}const Ul=Symbol();function y1({nodes:t,edges:e,width:n,height:i,fitView:l}){const s=z4({nodes:t,edges:e,width:n,height:i,fitView:l});function u(D){s.nodeTypes.set({...m1,...D})}function f(D){s.edgeTypes.set({..._1,...D})}function a(D){const M=ue(s.edges);s.edges.set(t5(D,M))}const d=(D,M=!1)=>{const V=ue(s.nodeLookup);D.forEach(Y=>{var q;const G=V.get(Y.id);G&&(G.position=Y.position,G.dragging=M,G.computed={...G.computed,positionAbsolute:(q=Y.computed)==null?void 0:q.positionAbsolute})}),s.nodes.set(ue(s.nodes))};function h(D){const M=u5(D,ue(s.nodes),ue(s.nodeLookup),ue(s.domNode),ue(s.nodeOrigin));if(M){if(!ue(s.fitViewOnInitDone)&&ue(s.fitViewOnInit)){const V=ue(s.fitViewOptions),Y=g(M,{...V,nodes:(V==null?void 0:V.nodes)||M});s.fitViewOnInitDone.set(Y)}s.nodes.set(M),ue(s.nodesInitialized)||s.nodesInitialized.set(!0)}}function g(D,M){const V=ue(s.panZoom);return V?Xp({nodes:D,width:ue(s.width),height:ue(s.height),minZoom:ue(s.minZoom),maxZoom:ue(s.maxZoom),panZoom:V,nodeOrigin:ue(s.nodeOrigin)},M):!1}function m(D,M){const V=ue(s.panZoom);V&&V.scaleBy(D,M)}function y(D){m(1.2,D)}function v(D){m(1/1.2,D)}function p(D){const M=ue(s.panZoom);M&&(M.setScaleExtent([D,ue(s.maxZoom)]),s.minZoom.set(D))}function P(D){const M=ue(s.panZoom);M&&(M.setScaleExtent([ue(s.minZoom),D]),s.maxZoom.set(D))}function w(D){const M=ue(s.panZoom);M&&(M.setTranslateExtent(D),s.translateExtent.set(D))}function N(D){let M=!1;return D.forEach(V=>{V.selected&&(V.selected=!1,M=!0)}),M}function C(D){N((D==null?void 0:D.nodes)||ue(s.nodes))&&s.nodes.set(ue(s.nodes)),N((D==null?void 0:D.edges)||ue(s.edges))&&s.edges.set(ue(s.edges))}s.deleteKeyPressed.subscribe(async D=>{var M;if(D){const V=ue(s.nodes),Y=ue(s.edges),G=V.filter(se=>se.selected),q=Y.filter(se=>se.selected),{nodes:ee,edges:fe}=await qh({nodesToRemove:G,edgesToRemove:q,nodes:V,edges:Y,onBeforeDelete:ue(s.onbeforedelete)});(ee.length||fe.length)&&(s.nodes.update(se=>se.filter(J=>!ee.some(ve=>ve.id===J.id))),s.edges.update(se=>se.filter(J=>!fe.some(ve=>ve.id===J.id))),(M=ue(s.ondelete))==null||M({nodes:ee,edges:fe}))}});function A(D){const M=ue(s.multiselectionKeyPressed);s.nodes.update(V=>V.map(Y=>{const G=D.includes(Y.id),q=M&&Y.selected||G;return Y.selected=q,Y})),M||s.edges.update(V=>V.map(Y=>(Y.selected=!1,Y)))}function T(D){const M=ue(s.multiselectionKeyPressed);s.edges.update(V=>V.map(Y=>{const G=D.includes(Y.id),q=M&&Y.selected||G;return Y.selected=q,Y})),M||s.nodes.update(V=>V.map(Y=>(Y.selected=!1,Y)))}function O(D){var V;const M=(V=ue(s.nodes))==null?void 0:V.find(Y=>Y.id===D);if(!M){console.warn("012",ao.error012(D));return}s.selectionRect.set(null),s.selectionRectMode.set(null),M.selected?M.selected&&ue(s.multiselectionKeyPressed)&&C({nodes:[M],edges:[]}):A([D])}function H(D){const M=ue(s.viewport);return f5({delta:D,panZoom:ue(s.panZoom),transform:[M.x,M.y,M.zoom],translateExtent:ue(s.translateExtent),width:ue(s.width),height:ue(s.height)})}const L={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},B=Oe(L),x=D=>{B.set(D)};function I(){x(L)}function X(){s.fitViewOnInitDone.set(!1),s.selectionRect.set(null),s.selectionRectMode.set(null),s.snapGrid.set(null),s.isValidConnection.set(()=>!0),s.nodes.set([]),s.edges.set([]),C(),I()}return{...s,connection:H4(s,B),visibleEdges:L4(s),visibleNodes:R4(s),markers:gr([s.edges,s.defaultMarkerColor,s.flowId],([D,M,V])=>l5(D,{defaultColor:M,id:V})),initialized:(()=>{let D=!1;const M=ue(s.nodes).length,V=ue(s.edges).length;return gr([s.nodesInitialized,s.edgesInitialized,s.viewportInitialized],([Y,G,q])=>D||(M===0?D=q:V===0?D=q&&Y:D=q&&Y&&G,D))})(),syncNodeStores:D=>M4(s.nodes,D),syncEdgeStores:D=>P4(s.edges,D),syncViewport:D=>T4(s.panZoom,s.viewport,D),setNodeTypes:u,setEdgeTypes:f,addEdge:a,updateNodePositions:d,updateNodeDimensions:h,zoomIn:y,zoomOut:v,fitView:D=>g(ue(s.nodes),D),setMinZoom:p,setMaxZoom:P,setTranslateExtent:w,unselectNodesAndEdges:C,addSelectedNodes:A,addSelectedEdges:T,handleNodeSelection:O,panBy:H,updateConnection:x,cancelConnection:I,reset:X}}function at(){const t=$r(Ul);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function D4({nodes:t,edges:e,width:n,height:i,fitView:l}){const s=y1({nodes:t,edges:e,width:n,height:i,fitView:l});return jr(Ul,{getStore:()=>s}),s}function W4(t,e){const{panZoom:n,minZoom:i,maxZoom:l,initialViewport:s,viewport:u,dragging:f,translateExtent:a}=e,d=E5({domNode:t,minZoom:i,maxZoom:l,translateExtent:a,viewport:s,onTransformChange:g=>u.set({x:g[0],y:g[1],zoom:g[2]}),onDraggingChange:f.set}),h=d.getViewport();return u.set(h),n.set(d),d.update(e),{update(g){d.update(g)}}}function B4(t){let e,n,i,l,s;const u=t[33].default,f=Bt(u,t,t[32],null);return{c(){e=pe("div"),f&&f.c(),E(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,d){$(a,e,d),f&&f.m(e,null),i=!0,l||(s=qt(n=W4.call(null,e,{viewport:t[17],minZoom:t[11],maxZoom:t[12],initialViewport:t[10],dragging:t[22],panZoom:t[18],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[8],panOnDrag:t[9],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Kn.Free,zoomActivationKeyPressed:t[13],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:t[14],translateExtent:t[15],lib:t[16]})),l=!0)},p(a,d){f&&f.p&&(!i||d[1]&2)&&Yt(f,u,a,a[32],i?Xt(u,a[32],d,null):Ft(a[32]),null),n&&dt(n.update)&&d[0]&131071&&n.update.call(null,{viewport:a[17],minZoom:a[11],maxZoom:a[12],initialViewport:a[10],dragging:a[22],panZoom:a[18],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[8],panOnDrag:a[9],panOnScrollSpeed:.5,panOnScrollMode:a[3]||Kn.Free,zoomActivationKeyPressed:a[13],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:a[14],translateExtent:a[15],lib:a[16]})},i(a){i||(Q(f,a),i=!0)},o(a){te(f,a),i=!1},d(a){a&&j(e),f&&f.d(a),l=!1,s()}}}function X4(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,{$$slots:v={},$$scope:p}=e,{initialViewport:P}=e,{onMoveStart:w=void 0}=e,{onMove:N=void 0}=e,{onMoveEnd:C=void 0}=e,{panOnScrollMode:A}=e,{preventScrolling:T}=e,{zoomOnScroll:O}=e,{zoomOnDoubleClick:H}=e,{zoomOnPinch:L}=e,{panOnDrag:B}=e,{panOnScroll:x}=e;const{viewport:I,panZoom:X,selectionKeyPressed:D,minZoom:M,maxZoom:V,dragging:Y,translateExtent:G,lib:q,panActivationKeyPressed:ee,zoomActivationKeyPressed:fe,viewportInitialized:se}=at();return de(t,D,J=>n(14,g=J)),de(t,M,J=>n(11,a=J)),de(t,V,J=>n(12,d=J)),de(t,G,J=>n(15,m=J)),de(t,q,J=>n(16,y=J)),de(t,ee,J=>n(31,f=J)),de(t,fe,J=>n(13,h=J)),de(t,se,J=>n(34,u=J)),so(()=>{zn(se,u=!0,u)}),t.$$set=J=>{"initialViewport"in J&&n(28,P=J.initialViewport),"onMoveStart"in J&&n(0,w=J.onMoveStart),"onMove"in J&&n(1,N=J.onMove),"onMoveEnd"in J&&n(2,C=J.onMoveEnd),"panOnScrollMode"in J&&n(3,A=J.panOnScrollMode),"preventScrolling"in J&&n(4,T=J.preventScrolling),"zoomOnScroll"in J&&n(5,O=J.zoomOnScroll),"zoomOnDoubleClick"in J&&n(6,H=J.zoomOnDoubleClick),"zoomOnPinch"in J&&n(7,L=J.zoomOnPinch),"panOnDrag"in J&&n(29,B=J.panOnDrag),"panOnScroll"in J&&n(30,x=J.panOnScroll),"$$scope"in J&&n(32,p=J.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&268435456&&n(10,i=P||{x:0,y:0,zoom:1}),t.$$.dirty[0]&536870912|t.$$.dirty[1]&1&&n(9,l=f||B),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(8,s=f||x)},[w,N,C,A,T,O,H,L,s,l,i,a,d,h,g,m,y,I,X,D,M,V,Y,G,q,ee,fe,se,P,B,x,f,p,v]}class Y4 extends He{constructor(e){super(),Ne(this,e,X4,B4,ze,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}const F4=Y4;function V4(t){let e,n,i,l;const s=t[29].default,u=Bt(s,t,t[28],null);return{c(){e=pe("div"),u&&u.c(),E(e,"class","svelte-flow__pane svelte-1esy7hx"),Ye(e,"draggable",t[0]),Ye(e,"dragging",t[4]),Ye(e,"selection",t[1])},m(f,a){$(f,e,a),u&&u.m(e,null),t[30](e),n=!0,i||(l=[Le(e,"click",function(){dt(t[3]?void 0:gl(t[15],t[2]))&&(t[3]?void 0:gl(t[15],t[2])).apply(this,arguments)}),Le(e,"mousedown",function(){dt(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),Le(e,"mousemove",function(){dt(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),Le(e,"mouseup",function(){dt(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),Le(e,"mouseleave",function(){dt(t[3]?t[19]:void 0)&&(t[3]?t[19]:void 0).apply(this,arguments)}),Le(e,"contextmenu",function(){dt(gl(t[20],t[2]))&&gl(t[20],t[2]).apply(this,arguments)})],i=!0)},p(f,a){t=f,u&&u.p&&(!n||a[0]&268435456)&&Yt(u,s,t,t[28],n?Xt(s,t[28],a,null):Ft(t[28]),null),(!n||a[0]&1)&&Ye(e,"draggable",t[0]),(!n||a[0]&16)&&Ye(e,"dragging",t[4]),(!n||a[0]&2)&&Ye(e,"selection",t[1])},i(f){n||(Q(u,f),n=!0)},o(f){te(u,f),n=!1},d(f){f&&j(e),u&&u.d(f),t[30](null),i=!1,bt(l)}}}function gl(t,e){return n=>{n.target===e&&(t==null||t(n))}}function yd(t){return e=>{const n=t.includes(e.id);return e.selected!==n?{...e,selected:n}:e}}function K4(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,v,p,{$$slots:P={},$$scope:w}=e,{panOnDrag:N=void 0}=e,{selectionOnDrag:C=void 0}=e;const A=Dl(),{nodes:T,edges:O,viewport:H,dragging:L,elementsSelectable:B,selectionRect:x,selectionRectMode:I,selectionKeyPressed:X,selectionMode:D,panActivationKeyPressed:M,unselectNodesAndEdges:V}=at();de(t,T,R=>n(36,h=R)),de(t,O,R=>n(33,f=R)),de(t,H,R=>n(35,d=R)),de(t,L,R=>n(4,p=R)),de(t,B,R=>n(25,m=R)),de(t,x,R=>n(24,g=R)),de(t,I,R=>n(23,u=R)),de(t,X,R=>n(26,y=R)),de(t,D,R=>n(34,a=R)),de(t,M,R=>n(27,v=R));let Y,G=null,q=[];function ee(R){A("paneclick",{event:R}),V(),I.set(null)}function fe(R){if(G=Y.getBoundingClientRect(),!B||!l||R.button!==0||R.target!==Y||!G)return;const{x:ge,y:ye}=oi(R,G);V(),x.set({width:0,height:0,startX:ge,startY:ye,x:ge,y:ye})}function se(R){if(!l||!G||!g)return;const ge=oi(R,G),ye=g.startX??0,ie=g.startY??0,le={...g,x:ge.x<ye?ge.x:ye,y:ge.y<ie?ge.y:ie,width:Math.abs(ge.x-ye),height:Math.abs(ge.y-ie)},Fe=q.map(nt=>nt.id),Ie=Vu(q,f).map(nt=>nt.id);q=xh(h,le,[d.x,d.y,d.zoom],a===Il.Partial,!0);const Re=Vu(q,f).map(nt=>nt.id),je=q.map(nt=>nt.id);(Fe.length!==je.length||je.some(nt=>!Fe.includes(nt)))&&T.update(nt=>nt.map(yd(je))),(Ie.length!==Re.length||Re.some(nt=>!Ie.includes(nt)))&&O.update(nt=>nt.map(yd(Re))),I.set("user"),x.set(le)}function J(R){R.button===0&&(!l&&u==="user"&&R.target===Y&&(ee==null||ee(R)),x.set(null),q.length>0&&I.set("nodes"))}const ve=()=>{u==="user"&&I.set(q.length>0?"nodes":null),x.set(null)},Ae=R=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){R.preventDefault();return}A("panecontextmenu",{event:R})};function ke(R){Cn[R?"unshift":"push"](()=>{Y=R,n(2,Y)})}return t.$$set=R=>{"panOnDrag"in R&&n(0,N=R.panOnDrag),"selectionOnDrag"in R&&n(21,C=R.selectionOnDrag),"$$scope"in R&&n(28,w=R.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217729&&n(22,i=v||N),t.$$.dirty[0]&90177536&&n(1,l=y||g||C&&i!==!0),t.$$.dirty[0]&41943042&&n(3,s=m&&(l||u==="user"))},[N,l,Y,s,p,T,O,H,L,B,x,I,X,D,M,ee,fe,se,J,ve,Ae,C,i,u,g,m,y,v,w,P,ke]}class U4 extends He{constructor(e){super(),Ne(this,e,K4,V4,ze,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}const x4=U4;function q4(t){let e,n;const i=t[3].default,l=Bt(i,t,t[2],null);return{c(){e=pe("div"),l&&l.c(),E(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),Xe(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(s,u){$(s,e,u),l&&l.m(e,null),n=!0},p(s,[u]){l&&l.p&&(!n||u&4)&&Yt(l,i,s,s[2],n?Xt(i,s[2],u,null):Ft(s[2]),null),(!n||u&1)&&Xe(e,"transform","translate("+s[0].x+"px, "+s[0].y+"px) scale("+s[0].zoom+")")},i(s){n||(Q(l,s),n=!0)},o(s){te(l,s),n=!1},d(s){s&&j(e),l&&l.d(s)}}}function G4(t,e,n){let i,{$$slots:l={},$$scope:s}=e;const{viewport:u}=at();return de(t,u,f=>n(0,i=f)),t.$$set=f=>{"$$scope"in f&&n(2,s=f.$$scope)},[i,u,s,l]}class Z4 extends He{constructor(e){super(),Ne(this,e,G4,q4,ze,{})}}function w1(t,e){const{store:n,onDrag:i,onDragStart:l,onDragStop:s,onNodeMouseDown:u}=e,f=c5({onDrag:i,onDragStart:l,onDragStop:s,onNodeMouseDown:u,getStoreItems:()=>{const d=ue(n.snapGrid),h=ue(n.viewport);return{nodes:ue(n.nodes),nodeLookup:ue(n.nodeLookup),edges:ue(n.edges),nodeExtent:ue(n.nodeExtent),snapGrid:d||[0,0],snapToGrid:!!d,nodeOrigin:[0,0],multiSelectionActive:ue(n.multiselectionKeyPressed),domNode:ue(n.domNode),transform:[h.x,h.y,h.zoom],autoPanOnNodeDrag:ue(n.autoPanOnNodeDrag),nodesDraggable:ue(n.nodesDraggable),selectNodesOnDrag:ue(n.selectNodesOnDrag),nodeDragThreshold:ue(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(d,h){if(h.disabled){f.destroy();return}f.update({domNode:d,noDragClassName:h.noDragClass,handleSelector:h.handleSelector,nodeId:h.nodeId,isSelectable:h.isSelectable})}return a(t,e),{update(d){a(t,d)},destroy(){f.destroy()}}}function J4({width:t,height:e,initialWidth:n,initialHeight:i,computedWidth:l,computedHeight:s}){if(l===void 0&&s===void 0){const u=t??n,f=e??i;return{width:u?`width:${u}px;`:"",height:f?`height:${f}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function wd(t){let e,n,i,l,s,u=`translate(${t[13]}px, ${t[14]}px)`,f,a,d;var h=t[26];function g(m,y){return{props:{data:m[2],id:m[1],selected:m[3],sourcePosition:m[15],targetPosition:m[16],zIndex:m[17],dragging:m[8],dragHandle:m[20],type:m[24],isConnectable:m[27],positionAbsoluteX:m[11],positionAbsoluteY:m[12],width:m[18],height:m[19]}}}return h&&(n=Sl(h,g(t))),{c(){e=pe("div"),n&&Se(n.$$.fragment),E(e,"data-id",t[1]),E(e,"class",i=tt(["svelte-flow__node",`svelte-flow__node-${t[24]}`,t[22]])),E(e,"style",l=(t[9]??"")+";"+t[25].width+t[25].height),Ye(e,"dragging",t[8]),Ye(e,"selected",t[3]),Ye(e,"draggable",t[4]),Ye(e,"connectable",t[6]),Ye(e,"selectable",t[5]),Ye(e,"nopan",t[4]),Ye(e,"parent",t[10]),Xe(e,"z-index",t[17]),Xe(e,"transform",u),Xe(e,"visibility",t[21]?"visible":"hidden")},m(m,y){$(m,e,y),n&&we(n,e,null),t[49](e),f=!0,a||(d=[qt(s=w1.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[20],noDragClass:"nodrag",onNodeMouseDown:t[30],onDrag:t[46],onDragStart:t[47],onDragStop:t[48],store:t[28]})),Le(e,"click",t[33]),Le(e,"mouseenter",t[50]),Le(e,"mouseleave",t[51]),Le(e,"mousemove",t[52]),Le(e,"contextmenu",t[53])],a=!0)},p(m,y){if(y[0]&67108864&&h!==(h=m[26])){if(n){mt();const p=n;te(p.$$.fragment,1,0,()=>{be(p,1)}),_t()}h?(n=Sl(h,g(m)),Se(n.$$.fragment),Q(n.$$.fragment,1),we(n,e,null)):n=null}else if(h){const p={};y[0]&4&&(p.data=m[2]),y[0]&2&&(p.id=m[1]),y[0]&8&&(p.selected=m[3]),y[0]&32768&&(p.sourcePosition=m[15]),y[0]&65536&&(p.targetPosition=m[16]),y[0]&131072&&(p.zIndex=m[17]),y[0]&256&&(p.dragging=m[8]),y[0]&1048576&&(p.dragHandle=m[20]),y[0]&16777216&&(p.type=m[24]),y[0]&134217728&&(p.isConnectable=m[27]),y[0]&2048&&(p.positionAbsoluteX=m[11]),y[0]&4096&&(p.positionAbsoluteY=m[12]),y[0]&262144&&(p.width=m[18]),y[0]&524288&&(p.height=m[19]),n.$set(p)}(!f||y[0]&2)&&E(e,"data-id",m[1]),(!f||y[0]&20971520&&i!==(i=tt(["svelte-flow__node",`svelte-flow__node-${m[24]}`,m[22]])))&&E(e,"class",i),(!f||y[0]&33554944&&l!==(l=(m[9]??"")+";"+m[25].width+m[25].height))&&E(e,"style",l),s&&dt(s.update)&&y[0]&1048610&&s.update.call(null,{nodeId:m[1],isSelectable:m[5],disabled:!1,handleSelector:m[20],noDragClass:"nodrag",onNodeMouseDown:m[30],onDrag:m[46],onDragStart:m[47],onDragStop:m[48],store:m[28]}),(!f||y[0]&20971776)&&Ye(e,"dragging",m[8]),(!f||y[0]&20971528)&&Ye(e,"selected",m[3]),(!f||y[0]&20971536)&&Ye(e,"draggable",m[4]),(!f||y[0]&20971584)&&Ye(e,"connectable",m[6]),(!f||y[0]&20971552)&&Ye(e,"selectable",m[5]),(!f||y[0]&20971536)&&Ye(e,"nopan",m[4]),(!f||y[0]&20972544)&&Ye(e,"parent",m[10]);const v=y[0]&33554944;(y[0]&33686016||v)&&Xe(e,"z-index",m[17]),(y[0]&33579520&&u!==(u=`translate(${m[13]}px, ${m[14]}px)`)||v)&&Xe(e,"transform",u),(y[0]&35652096||v)&&Xe(e,"visibility",m[21]?"visible":"hidden")},i(m){f||(n&&Q(n.$$.fragment,m),f=!0)},o(m){n&&te(n.$$.fragment,m),f=!1},d(m){m&&j(e),n&&be(n),t[49](null),a=!1,bt(d)}}}function Q4(t){let e,n,i=!t[7]&&wd(t);return{c(){i&&i.c(),e=yt()},m(l,s){i&&i.m(l,s),$(l,e,s),n=!0},p(l,s){l[7]?i&&(mt(),te(i,1,1,()=>{i=null}),_t()):i?(i.p(l,s),s[0]&128&&Q(i,1)):(i=wd(l),i.c(),Q(i,1),i.m(e.parentNode,e))},i(l){n||(Q(i),n=!0)},o(l){te(i),n=!1},d(l){l&&j(e),i&&i.d(l)}}}function j4(t,e,n){let i,l,s,u,f,a,{node:d}=e,{id:h}=e,{data:g={}}=e,{selected:m=!1}=e,{draggable:y=void 0}=e,{selectable:v=void 0}=e,{connectable:p=!0}=e,{hidden:P=!1}=e,{dragging:w=!1}=e,{resizeObserver:N=null}=e,{style:C=void 0}=e,{type:A="default"}=e,{isParent:T=!1}=e,{positionX:O}=e,{positionY:H}=e,{positionOriginX:L}=e,{positionOriginY:B}=e,{sourcePosition:x=void 0}=e,{targetPosition:I=void 0}=e,{zIndex:X}=e,{computedWidth:D=void 0}=e,{computedHeight:M=void 0}=e,{initialWidth:V=void 0}=e,{initialHeight:Y=void 0}=e,{width:G=void 0}=e,{height:q=void 0}=e,{dragHandle:ee=void 0}=e,{initialized:fe=!1}=e,{class:se=""}=e;const J=at(),{nodeTypes:ve,nodeDragThreshold:Ae,selectNodesOnDrag:ke,handleNodeSelection:R,updateNodeDimensions:ge}=J;de(t,ve,ce=>n(45,f=ce));let ye,ie=null;const le=p1(),Fe=Oe(p);de(t,Fe,ce=>n(27,a=ce));let Ie,Re,je;jr("svelteflow__node_id",h),jr("svelteflow__node_connectable",Fe),Zu(()=>{ie&&(N==null||N.unobserve(ie))});function nt(ce){v&&(!ue(ke)||!y||ue(Ae)>0)&&R(h),le("nodeclick",{node:d,event:ce})}const En=(ce,Pt,Ot,me)=>{le("nodedrag",{event:ce,targetNode:Ot,nodes:me})},Et=(ce,Pt,Ot,me)=>{le("nodedragstart",{event:ce,targetNode:Ot,nodes:me})},tn=(ce,Pt,Ot,me)=>{le("nodedragstop",{event:ce,targetNode:Ot,nodes:me})};function cn(ce){Cn[ce?"unshift":"push"](()=>{ye=ce,n(23,ye)})}const Ce=ce=>le("nodemouseenter",{node:d,event:ce}),St=ce=>le("nodemouseleave",{node:d,event:ce}),Gt=ce=>le("nodemousemove",{node:d,event:ce}),dn=ce=>le("nodecontextmenu",{node:d,event:ce});return t.$$set=ce=>{"node"in ce&&n(0,d=ce.node),"id"in ce&&n(1,h=ce.id),"data"in ce&&n(2,g=ce.data),"selected"in ce&&n(3,m=ce.selected),"draggable"in ce&&n(4,y=ce.draggable),"selectable"in ce&&n(5,v=ce.selectable),"connectable"in ce&&n(6,p=ce.connectable),"hidden"in ce&&n(7,P=ce.hidden),"dragging"in ce&&n(8,w=ce.dragging),"resizeObserver"in ce&&n(34,N=ce.resizeObserver),"style"in ce&&n(9,C=ce.style),"type"in ce&&n(35,A=ce.type),"isParent"in ce&&n(10,T=ce.isParent),"positionX"in ce&&n(11,O=ce.positionX),"positionY"in ce&&n(12,H=ce.positionY),"positionOriginX"in ce&&n(13,L=ce.positionOriginX),"positionOriginY"in ce&&n(14,B=ce.positionOriginY),"sourcePosition"in ce&&n(15,x=ce.sourcePosition),"targetPosition"in ce&&n(16,I=ce.targetPosition),"zIndex"in ce&&n(17,X=ce.zIndex),"computedWidth"in ce&&n(36,D=ce.computedWidth),"computedHeight"in ce&&n(37,M=ce.computedHeight),"initialWidth"in ce&&n(38,V=ce.initialWidth),"initialHeight"in ce&&n(39,Y=ce.initialHeight),"width"in ce&&n(18,G=ce.width),"height"in ce&&n(19,q=ce.height),"dragHandle"in ce&&n(20,ee=ce.dragHandle),"initialized"in ce&&n(21,fe=ce.initialized),"class"in ce&&n(22,se=ce.class)},t.$$.update=()=>{t.$$.dirty[1]&16&&n(24,i=A||"default"),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(44,l=!!f[i]),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(26,s=f[i]||c1),t.$$.dirty[1]&8208&&(l||console.warn("003",ao.error003(A))),t.$$.dirty[0]&786432|t.$$.dirty[1]&480&&n(25,u=J4({width:G,height:q,initialWidth:V,initialHeight:Y,computedWidth:D,computedHeight:M})),t.$$.dirty[0]&64&&Fe.set(!!p),t.$$.dirty[0]&25264130|t.$$.dirty[1]&7168&&((Ie&&i!==Ie||Re&&x!==Re||je&&I!==je)&&requestAnimationFrame(()=>ge(new Map([[h,{id:h,nodeElement:ye,forceUpdate:!0}]]))),n(41,Ie=i),n(42,Re=x),n(43,je=I)),t.$$.dirty[0]&8388608|t.$$.dirty[1]&520&&N&&ye!==ie&&(ie&&N.unobserve(ie),ye&&N.observe(ye),n(40,ie=ye))},[d,h,g,m,y,v,p,P,w,C,T,O,H,L,B,x,I,X,G,q,ee,fe,se,ye,i,u,s,a,J,ve,R,le,Fe,nt,N,A,D,M,V,Y,ie,Ie,Re,je,l,f,En,Et,tn,cn,Ce,St,Gt,dn]}class $4 extends He{constructor(e){super(),Ne(this,e,j4,Q4,ch,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:34,style:9,type:35,isParent:10,positionX:11,positionY:12,positionOriginX:13,positionOriginY:14,sourcePosition:15,targetPosition:16,zIndex:17,computedWidth:36,computedHeight:37,initialWidth:38,initialHeight:39,width:18,height:19,dragHandle:20,initialized:21,class:22},null,[-1,-1])}}const e6=$4,{Map:t6}=Uw;function bd(t,e,n){var u,f,a,d;const i=t.slice();i[18]=e[n];const l=ho(i[18]);i[19]=l;const s=xp({x:((f=(u=i[18].computed)==null?void 0:u.positionAbsolute)==null?void 0:f.x)??0,y:((d=(a=i[18].computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0,...i[19],origin:i[18].origin});return i[20]=s,i}function vd(t,e){var s,u,f,a,d,h,g,m;let n,i,l;return i=new e6({props:{node:e[18],id:e[18].id,data:e[18].data,selected:!!e[18].selected,hidden:!!e[18].hidden,draggable:!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u"),selectable:!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u"),connectable:!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u"),positionX:((u=(s=e[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:u.x)??0,positionY:((a=(f=e[18].computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0,positionOriginX:e[20].x??0,positionOriginY:e[20].y??0,isParent:!!((d=e[18][gt])!=null&&d.isParent),style:e[18].style,class:e[18].class,type:e[18].type??"default",sourcePosition:e[18].sourcePosition,targetPosition:e[18].targetPosition,dragging:e[18].dragging,zIndex:((h=e[18][gt])==null?void 0:h.z)??0,dragHandle:e[18].dragHandle,initialized:oo(e[18]),width:e[18].width,height:e[18].height,initialWidth:e[18].initialWidth,initialHeight:e[18].initialHeight,computedWidth:(g=e[18].computed)==null?void 0:g.width,computedHeight:(m=e[18].computed)==null?void 0:m.height,resizeObserver:e[8]}}),i.$on("nodeclick",e[9]),i.$on("nodemouseenter",e[10]),i.$on("nodemousemove",e[11]),i.$on("nodemouseleave",e[12]),i.$on("nodedrag",e[13]),i.$on("nodedragstart",e[14]),i.$on("nodedragstop",e[15]),i.$on("nodecontextmenu",e[16]),{key:t,first:null,c(){n=yt(),Se(i.$$.fragment),this.first=n},m(y,v){$(y,n,v),we(i,y,v),l=!0},p(y,v){var P,w,N,C,A,T,O,H;e=y;const p={};v&1&&(p.node=e[18]),v&1&&(p.id=e[18].id),v&1&&(p.data=e[18].data),v&1&&(p.selected=!!e[18].selected),v&1&&(p.hidden=!!e[18].hidden),v&3&&(p.draggable=!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u")),v&5&&(p.selectable=!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u")),v&9&&(p.connectable=!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u")),v&1&&(p.positionX=((w=(P=e[18].computed)==null?void 0:P.positionAbsolute)==null?void 0:w.x)??0),v&1&&(p.positionY=((C=(N=e[18].computed)==null?void 0:N.positionAbsolute)==null?void 0:C.y)??0),v&1&&(p.positionOriginX=e[20].x??0),v&1&&(p.positionOriginY=e[20].y??0),v&1&&(p.isParent=!!((A=e[18][gt])!=null&&A.isParent)),v&1&&(p.style=e[18].style),v&1&&(p.class=e[18].class),v&1&&(p.type=e[18].type??"default"),v&1&&(p.sourcePosition=e[18].sourcePosition),v&1&&(p.targetPosition=e[18].targetPosition),v&1&&(p.dragging=e[18].dragging),v&1&&(p.zIndex=((T=e[18][gt])==null?void 0:T.z)??0),v&1&&(p.dragHandle=e[18].dragHandle),v&1&&(p.initialized=oo(e[18])),v&1&&(p.width=e[18].width),v&1&&(p.height=e[18].height),v&1&&(p.initialWidth=e[18].initialWidth),v&1&&(p.initialHeight=e[18].initialHeight),v&1&&(p.computedWidth=(O=e[18].computed)==null?void 0:O.width),v&1&&(p.computedHeight=(H=e[18].computed)==null?void 0:H.height),i.$set(p)},i(y){l||(Q(i.$$.fragment,y),l=!0)},o(y){te(i.$$.fragment,y),l=!1},d(y){y&&j(n),be(i,y)}}}function n6(t){let e,n=[],i=new t6,l,s=Ct(t[0]);const u=f=>f[18].id;for(let f=0;f<s.length;f+=1){let a=bd(t,s,f),d=u(a);i.set(d,n[f]=vd(d,a))}return{c(){e=pe("div");for(let f=0;f<n.length;f+=1)n[f].c();E(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(f,a){$(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&271&&(s=Ct(f[0]),mt(),n=Ei(n,a,u,1,f,s,i,e,Bi,vd,null,bd),_t())},i(f){if(!l){for(let a=0;a<s.length;a+=1)Q(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)te(n[a]);l=!1},d(f){f&&j(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function i6(t,e,n){let i,l,s,u;const{visibleNodes:f,nodesDraggable:a,nodesConnectable:d,elementsSelectable:h,updateNodeDimensions:g}=at();de(t,f,T=>n(0,i=T)),de(t,a,T=>n(1,l=T)),de(t,d,T=>n(3,u=T)),de(t,h,T=>n(2,s=T));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(T=>{const O=new Map;T.forEach(H=>{const L=H.target.getAttribute("data-id");O.set(L,{id:L,nodeElement:H.target,forceUpdate:!0})}),g(O)});Zu(()=>{m==null||m.disconnect()});function y(T){rt.call(this,t,T)}function v(T){rt.call(this,t,T)}function p(T){rt.call(this,t,T)}function P(T){rt.call(this,t,T)}function w(T){rt.call(this,t,T)}function N(T){rt.call(this,t,T)}function C(T){rt.call(this,t,T)}function A(T){rt.call(this,t,T)}return[i,l,s,u,f,a,d,h,m,y,v,p,P,w,N,C,A]}class r6 extends He{constructor(e){super(),Ne(this,e,i6,n6,ze,{})}}function pd(t){let e,n,i,l,s,u,f,a;var d=t[26];function h(g,m){return{props:{id:g[0],source:g[1],target:g[2],sourceX:g[13],sourceY:g[14],targetX:g[15],targetY:g[16],sourcePosition:g[17],targetPosition:g[18],animated:g[6],selected:g[7],label:g[9],labelStyle:g[10],data:g[3],style:g[4],interactionWidth:g[20],type:g[22],sourceHandleId:g[11],targetHandleId:g[12],markerStart:g[25],markerEnd:g[24]}}}return d&&(i=Sl(d,h(t))),{c(){e=Ve("svg"),n=Ve("g"),i&&Se(i.$$.fragment),E(n,"class",l=tt(["svelte-flow__edge",t[21]])),E(n,"data-id",t[0]),E(n,"aria-label",s=t[19]===null?void 0:t[19]?t[19]:`Edge from ${t[1]} to ${t[2]}`),E(n,"role","img"),Ye(n,"animated",t[6]),Ye(n,"selected",t[7]),Ye(n,"selectable",t[23]),Xe(e,"z-index",t[5])},m(g,m){$(g,e,m),he(e,n),i&&we(i,n,null),u=!0,f||(a=[Le(n,"click",t[31]),Le(n,"contextmenu",t[32])],f=!0)},p(g,m){if(m[0]&67108864&&d!==(d=g[26])){if(i){mt();const y=i;te(y.$$.fragment,1,0,()=>{be(y,1)}),_t()}d?(i=Sl(d,h(g)),Se(i.$$.fragment),Q(i.$$.fragment,1),we(i,n,null)):i=null}else if(d){const y={};m[0]&1&&(y.id=g[0]),m[0]&2&&(y.source=g[1]),m[0]&4&&(y.target=g[2]),m[0]&8192&&(y.sourceX=g[13]),m[0]&16384&&(y.sourceY=g[14]),m[0]&32768&&(y.targetX=g[15]),m[0]&65536&&(y.targetY=g[16]),m[0]&131072&&(y.sourcePosition=g[17]),m[0]&262144&&(y.targetPosition=g[18]),m[0]&64&&(y.animated=g[6]),m[0]&128&&(y.selected=g[7]),m[0]&512&&(y.label=g[9]),m[0]&1024&&(y.labelStyle=g[10]),m[0]&8&&(y.data=g[3]),m[0]&16&&(y.style=g[4]),m[0]&1048576&&(y.interactionWidth=g[20]),m[0]&4194304&&(y.type=g[22]),m[0]&2048&&(y.sourceHandleId=g[11]),m[0]&4096&&(y.targetHandleId=g[12]),m[0]&33554432&&(y.markerStart=g[25]),m[0]&16777216&&(y.markerEnd=g[24]),i.$set(y)}(!u||m[0]&2097152&&l!==(l=tt(["svelte-flow__edge",g[21]])))&&E(n,"class",l),(!u||m[0]&1)&&E(n,"data-id",g[0]),(!u||m[0]&524294&&s!==(s=g[19]===null?void 0:g[19]?g[19]:`Edge from ${g[1]} to ${g[2]}`))&&E(n,"aria-label",s),(!u||m[0]&2097216)&&Ye(n,"animated",g[6]),(!u||m[0]&2097280)&&Ye(n,"selected",g[7]),(!u||m[0]&10485760)&&Ye(n,"selectable",g[23]),m[0]&32&&Xe(e,"z-index",g[5])},i(g){u||(i&&Q(i.$$.fragment,g),u=!0)},o(g){i&&te(i.$$.fragment,g),u=!1},d(g){g&&j(e),i&&be(i),f=!1,bt(a)}}}function o6(t){let e,n,i=!t[8]&&pd(t);return{c(){i&&i.c(),e=yt()},m(l,s){i&&i.m(l,s),$(l,e,s),n=!0},p(l,s){l[8]?i&&(mt(),te(i,1,1,()=>{i=null}),_t()):i?(i.p(l,s),s[0]&256&&Q(i,1)):(i=pd(l),i.c(),Q(i,1),i.m(e.parentNode,e))},i(l){n||(Q(i),n=!0)},o(l){te(i),n=!1},d(l){l&&j(e),i&&i.d(l)}}}function l6(t,e,n){let i,l,s,u,f,a,d,h,g,{id:m}=e,{type:y="default"}=e,{source:v=""}=e,{target:p=""}=e,{data:P={}}=e,{style:w=void 0}=e,{zIndex:N=void 0}=e,{animated:C=!1}=e,{selected:A=!1}=e,{selectable:T=void 0}=e,{hidden:O=!1}=e,{label:H=void 0}=e,{labelStyle:L=void 0}=e,{markerStart:B=void 0}=e,{markerEnd:x=void 0}=e,{sourceHandle:I=void 0}=e,{targetHandle:X=void 0}=e,{sourceX:D}=e,{sourceY:M}=e,{targetX:V}=e,{targetY:Y}=e,{sourcePosition:G}=e,{targetPosition:q}=e,{ariaLabel:ee=void 0}=e,{interactionWidth:fe=void 0}=e,{class:se=""}=e;jr("svelteflow__edge_id",m);const{edgeLookup:J,edgeTypes:ve,flowId:Ae,elementsSelectable:ke}=at();de(t,J,le=>n(40,a=le)),de(t,ve,le=>n(39,g=le)),de(t,Ae,le=>n(38,h=le)),de(t,ke,le=>n(37,d=le));const R=Dl(),ge=d1();function ye(le){const Fe=a.get(m);Fe&&(ge(m),R("edgeclick",{event:le,edge:Fe}))}function ie(le){const Fe=a.get(m);Fe&&R("edgecontextmenu",{event:le,edge:Fe})}return t.$$set=le=>{"id"in le&&n(0,m=le.id),"type"in le&&n(33,y=le.type),"source"in le&&n(1,v=le.source),"target"in le&&n(2,p=le.target),"data"in le&&n(3,P=le.data),"style"in le&&n(4,w=le.style),"zIndex"in le&&n(5,N=le.zIndex),"animated"in le&&n(6,C=le.animated),"selected"in le&&n(7,A=le.selected),"selectable"in le&&n(34,T=le.selectable),"hidden"in le&&n(8,O=le.hidden),"label"in le&&n(9,H=le.label),"labelStyle"in le&&n(10,L=le.labelStyle),"markerStart"in le&&n(35,B=le.markerStart),"markerEnd"in le&&n(36,x=le.markerEnd),"sourceHandle"in le&&n(11,I=le.sourceHandle),"targetHandle"in le&&n(12,X=le.targetHandle),"sourceX"in le&&n(13,D=le.sourceX),"sourceY"in le&&n(14,M=le.sourceY),"targetX"in le&&n(15,V=le.targetX),"targetY"in le&&n(16,Y=le.targetY),"sourcePosition"in le&&n(17,G=le.sourcePosition),"targetPosition"in le&&n(18,q=le.targetPosition),"ariaLabel"in le&&n(19,ee=le.ariaLabel),"interactionWidth"in le&&n(20,fe=le.interactionWidth),"class"in le&&n(21,se=le.class)},t.$$.update=()=>{t.$$.dirty[1]&4&&n(22,i=y||"default"),t.$$.dirty[0]&4194304|t.$$.dirty[1]&256&&n(26,l=g[i]||h1),t.$$.dirty[1]&144&&n(25,s=B?`url(#${Uu(B,h)})`:void 0),t.$$.dirty[1]&160&&n(24,u=x?`url(#${Uu(x,h)})`:void 0),t.$$.dirty[1]&72&&n(23,f=T||d&&typeof T>"u")},[m,v,p,P,w,N,C,A,O,H,L,I,X,D,M,V,Y,G,q,ee,fe,se,i,f,u,s,l,J,ve,Ae,ke,ye,ie,y,T,B,x,d,h,g]}class s6 extends He{constructor(e){super(),Ne(this,e,l6,o6,ch,{id:0,type:33,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:34,hidden:8,label:9,labelStyle:10,markerStart:35,markerEnd:36,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}const u6=s6;function f6(t,e,n){let{onMount:i=void 0}=e,{onDestroy:l=void 0}=e;return so(()=>(i==null||i(),l)),t.$$set=s=>{"onMount"in s&&n(0,i=s.onMount),"onDestroy"in s&&n(1,l=s.onDestroy)},[i,l]}class a6 extends He{constructor(e){super(),Ne(this,e,f6,null,ze,{onMount:0,onDestroy:1})}}const c6=a6;function Sd(t,e,n){const i=t.slice();return i[2]=e[n],i}function kd(t,e){let n,i,l;const s=[e[2]];let u={};for(let f=0;f<s.length;f+=1)u=Vt(u,s[f]);return i=new b6({props:u}),{key:t,first:null,c(){n=yt(),Se(i.$$.fragment),this.first=n},m(f,a){$(f,n,a),we(i,f,a),l=!0},p(f,a){e=f;const d=a&1?si(s,[hr(e[2])]):{};i.$set(d)},i(f){l||(Q(i.$$.fragment,f),l=!0)},o(f){te(i.$$.fragment,f),l=!1},d(f){f&&j(n),be(i,f)}}}function d6(t){let e,n=[],i=new Map,l,s=Ct(t[0]);const u=f=>f[2].id;for(let f=0;f<s.length;f+=1){let a=Sd(t,s,f),d=u(a);i.set(d,n[f]=kd(d,a))}return{c(){e=Ve("defs");for(let f=0;f<n.length;f+=1)n[f].c()},m(f,a){$(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&1&&(s=Ct(f[0]),mt(),n=Ei(n,a,u,1,f,s,i,e,Bi,kd,null,Sd),_t())},i(f){if(!l){for(let a=0;a<s.length;a+=1)Q(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)te(n[a]);l=!1},d(f){f&&j(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function h6(t,e,n){let i;const{markers:l}=at();return de(t,l,s=>n(0,i=s)),[i,l]}class g6 extends He{constructor(e){super(),Ne(this,e,h6,d6,ze,{})}}function m6(t){let e;return{c(){e=Ve("polyline"),E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill",t[6]),E(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){$(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7]),i&64&&E(e,"fill",n[6])},d(n){n&&j(e)}}}function _6(t){let e;return{c(){e=Ve("polyline"),E(e,"stroke",t[6]),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width",t[7]),E(e,"fill","none"),E(e,"points","-5,-4 0,0 -5,4")},m(n,i){$(n,e,i)},p(n,i){i&64&&E(e,"stroke",n[6]),i&128&&E(e,"stroke-width",n[7])},d(n){n&&j(e)}}}function y6(t){let e,n,i;function l(f,a){if(f[1]===yr.Arrow)return _6;if(f[1]===yr.ArrowClosed)return m6}let s=l(t),u=s&&s(t);return{c(){e=Ve("marker"),u&&u.c(),E(e,"class","svelte-flow__arrowhead"),E(e,"id",t[0]),E(e,"markerWidth",n=`${t[2]}`),E(e,"markerHeight",i=`${t[3]}`),E(e,"viewBox","-10 -10 20 20"),E(e,"markerUnits",t[4]),E(e,"orient",t[5]),E(e,"refX","0"),E(e,"refY","0")},m(f,a){$(f,e,a),u&&u.m(e,null)},p(f,[a]){s===(s=l(f))&&u?u.p(f,a):(u&&u.d(1),u=s&&s(f),u&&(u.c(),u.m(e,null))),a&1&&E(e,"id",f[0]),a&4&&n!==(n=`${f[2]}`)&&E(e,"markerWidth",n),a&8&&i!==(i=`${f[3]}`)&&E(e,"markerHeight",i),a&16&&E(e,"markerUnits",f[4]),a&32&&E(e,"orient",f[5])},i:Te,o:Te,d(f){f&&j(e),u&&u.d()}}}function w6(t,e,n){let{id:i}=e,{type:l}=e,{width:s=12.5}=e,{height:u=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(0,i=g.id),"type"in g&&n(1,l=g.type),"width"in g&&n(2,s=g.width),"height"in g&&n(3,u=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(6,d=g.color),"strokeWidth"in g&&n(7,h=g.strokeWidth)},[i,l,s,u,f,a,d,h]}class b6 extends He{constructor(e){super(),Ne(this,e,w6,y6,ze,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Cd(t,e,n){const i=t.slice();return i[10]=e[n],i}function Ed(t,e){let n,i,l;return i=new u6({props:{id:e[10].id,source:e[10].source,target:e[10].target,data:e[10].data,style:e[10].style,animated:e[10].animated,selected:e[10].selected,selectable:e[10].selectable,hidden:e[10].hidden,label:e[10].label,labelStyle:e[10].labelStyle,markerStart:e[10].markerStart,markerEnd:e[10].markerEnd,sourceHandle:e[10].sourceHandle,targetHandle:e[10].targetHandle,sourceX:e[10].sourceX,sourceY:e[10].sourceY,targetX:e[10].targetX,targetY:e[10].targetY,sourcePosition:e[10].sourcePosition,targetPosition:e[10].targetPosition,ariaLabel:e[10].ariaLabel,interactionWidth:e[10].interactionWidth,class:e[10].class,type:e[10].type||"default",zIndex:e[10].zIndex}}),i.$on("edgeclick",e[5]),i.$on("edgecontextmenu",e[6]),{key:t,first:null,c(){n=yt(),Se(i.$$.fragment),this.first=n},m(s,u){$(s,n,u),we(i,s,u),l=!0},p(s,u){e=s;const f={};u&1&&(f.id=e[10].id),u&1&&(f.source=e[10].source),u&1&&(f.target=e[10].target),u&1&&(f.data=e[10].data),u&1&&(f.style=e[10].style),u&1&&(f.animated=e[10].animated),u&1&&(f.selected=e[10].selected),u&1&&(f.selectable=e[10].selectable),u&1&&(f.hidden=e[10].hidden),u&1&&(f.label=e[10].label),u&1&&(f.labelStyle=e[10].labelStyle),u&1&&(f.markerStart=e[10].markerStart),u&1&&(f.markerEnd=e[10].markerEnd),u&1&&(f.sourceHandle=e[10].sourceHandle),u&1&&(f.targetHandle=e[10].targetHandle),u&1&&(f.sourceX=e[10].sourceX),u&1&&(f.sourceY=e[10].sourceY),u&1&&(f.targetX=e[10].targetX),u&1&&(f.targetY=e[10].targetY),u&1&&(f.sourcePosition=e[10].sourcePosition),u&1&&(f.targetPosition=e[10].targetPosition),u&1&&(f.ariaLabel=e[10].ariaLabel),u&1&&(f.interactionWidth=e[10].interactionWidth),u&1&&(f.class=e[10].class),u&1&&(f.type=e[10].type||"default"),u&1&&(f.zIndex=e[10].zIndex),i.$set(f)},i(s){l||(Q(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&j(n),be(i,s)}}}function Ad(t){let e,n;return e=new c6({props:{onMount:t[7],onDestroy:t[8]}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,l){const s={};l&2&&(s.onMount=i[7]),l&2&&(s.onDestroy=i[8]),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function v6(t){let e,n,i,l,s=[],u=new Map,f,a;i=new g6({});let d=Ct(t[0]);const h=m=>m[10].id;for(let m=0;m<d.length;m+=1){let y=Cd(t,d,m),v=h(y);u.set(v,s[m]=Ed(v,y))}let g=t[0].length>0&&Ad(t);return{c(){e=pe("div"),n=Ve("svg"),Se(i.$$.fragment),l=Me();for(let m=0;m<s.length;m+=1)s[m].c();f=Me(),g&&g.c(),E(n,"class","svelte-flow__marker"),E(e,"class","svelte-flow__edges")},m(m,y){$(m,e,y),he(e,n),we(i,n,null),he(e,l);for(let v=0;v<s.length;v+=1)s[v]&&s[v].m(e,null);he(e,f),g&&g.m(e,null),a=!0},p(m,[y]){y&1&&(d=Ct(m[0]),mt(),s=Ei(s,y,h,1,m,d,u,e,Bi,Ed,f,Cd),_t()),m[0].length>0?g?(g.p(m,y),y&1&&Q(g,1)):(g=Ad(m),g.c(),Q(g,1),g.m(e,null)):g&&(mt(),te(g,1,1,()=>{g=null}),_t())},i(m){if(!a){Q(i.$$.fragment,m);for(let y=0;y<d.length;y+=1)Q(s[y]);Q(g),a=!0}},o(m){te(i.$$.fragment,m);for(let y=0;y<s.length;y+=1)te(s[y]);te(g),a=!1},d(m){m&&j(e),be(i);for(let y=0;y<s.length;y+=1)s[y].d();g&&g.d()}}}function p6(t,e,n){let i,l,{defaultEdgeOptions:s}=e;const{visibleEdges:u,edgesInitialized:f,edges:{setDefaultOptions:a}}=at();de(t,u,y=>n(0,i=y)),de(t,f,y=>n(1,l=y)),so(()=>{s&&a(s)});function d(y){rt.call(this,t,y)}function h(y){rt.call(this,t,y)}const g=()=>{zn(f,l=!0,l)},m=()=>{zn(f,l=!1,l)};return t.$$set=y=>{"defaultEdgeOptions"in y&&n(4,s=y.defaultEdgeOptions)},[i,l,u,f,s,d,h,g,m]}class S6 extends He{constructor(e){super(),Ne(this,e,p6,v6,ze,{defaultEdgeOptions:4})}}const k6=S6;function Md(t){let e;return{c(){e=pe("div"),E(e,"class","svelte-flow__selection svelte-1iugwpu"),Xe(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),Xe(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),Xe(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){$(n,e,i)},p(n,i){i&4&&Xe(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&Xe(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&Xe(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&j(e)}}}function C6(t){let e,n=t[4]&&Md(t);return{c(){n&&n.c(),e=yt()},m(i,l){n&&n.m(i,l),$(i,e,l)},p(i,[l]){i[4]?n?n.p(i,l):(n=Md(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Te,o:Te,d(i){i&&j(e),n&&n.d(i)}}}function E6(t,e,n){let{x:i=0}=e,{y:l=0}=e,{width:s=0}=e,{height:u=0}=e,{isVisible:f=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,l=a.y),"width"in a&&n(2,s=a.width),"height"in a&&n(3,u=a.height),"isVisible"in a&&n(4,f=a.isVisible)},[i,l,s,u,f]}class A6 extends He{constructor(e){super(),Ne(this,e,E6,C6,ze,{x:0,y:1,width:2,height:3,isVisible:4})}}const b1=A6;function M6(t){var i,l,s,u;let e,n;return e=new b1({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(l=t[0])==null?void 0:l.height,x:(s=t[0])==null?void 0:s.x,y:(u=t[0])==null?void 0:u.y}}),{c(){Se(e.$$.fragment)},m(f,a){we(e,f,a),n=!0},p(f,[a]){var h,g,m,y;const d={};a&3&&(d.isVisible=!!(f[0]&&f[1]==="user")),a&1&&(d.width=(h=f[0])==null?void 0:h.width),a&1&&(d.height=(g=f[0])==null?void 0:g.height),a&1&&(d.x=(m=f[0])==null?void 0:m.x),a&1&&(d.y=(y=f[0])==null?void 0:y.y),e.$set(d)},i(f){n||(Q(e.$$.fragment,f),n=!0)},o(f){te(e.$$.fragment,f),n=!1},d(f){be(e,f)}}}function P6(t,e,n){let i,l;const{selectionRect:s,selectionRectMode:u}=at();return de(t,s,f=>n(0,i=f)),de(t,u,f=>n(1,l=f)),[i,l,s,u]}class T6 extends He{constructor(e){super(),Ne(this,e,P6,M6,ze,{})}}function Pd(t){let e,n,i,l,s;return n=new b1({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=pe("div"),Se(n.$$.fragment),E(e,"class","selection-wrapper nopan svelte-5pxri"),Xe(e,"width",t[1].width+"px"),Xe(e,"height",t[1].height+"px"),Xe(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),E(e,"role","button"),E(e,"tabindex","-1")},m(u,f){$(u,e,f),we(n,e,null),i=!0,l||(s=[qt(w1.call(null,e,{disabled:!1,store:t[3],onDrag:t[10],onDragStart:t[11],onDragStop:t[12]})),Le(e,"contextmenu",t[7]),Le(e,"click",t[8]),Le(e,"keyup",O6)],l=!0)},p(u,f){(!i||f&2)&&Xe(e,"width",u[1].width+"px"),(!i||f&2)&&Xe(e,"height",u[1].height+"px"),(!i||f&2)&&Xe(e,"transform","translate("+u[1].x+"px, "+u[1].y+"px)")},i(u){i||(Q(n.$$.fragment,u),i=!0)},o(u){te(n.$$.fragment,u),i=!1},d(u){u&&j(e),be(n),l=!1,bt(s)}}}function I6(t){let e,n,i=t[0]&&t[2]==="nodes"&&Pd(t);return{c(){i&&i.c(),e=yt()},m(l,s){i&&i.m(l,s),$(l,e,s),n=!0},p(l,[s]){l[0]&&l[2]==="nodes"?i?(i.p(l,s),s&5&&Q(i,1)):(i=Pd(l),i.c(),Q(i,1),i.m(e.parentNode,e)):i&&(mt(),te(i,1,1,()=>{i=null}),_t())},i(l){n||(Q(i),n=!0)},o(l){te(i),n=!1},d(l){l&&j(e),i&&i.d(l)}}}const O6=()=>{};function N6(t,e,n){let i,l,s,u;const f=at(),{selectionRectMode:a,nodes:d}=f;de(t,a,w=>n(2,u=w)),de(t,d,w=>n(9,s=w));const h=Dl(),g=p1();function m(w){h("selectioncontextmenu",{nodes:i,event:w})}function y(w){h("selectionclick",{nodes:i,event:w})}const v=(w,N,C,A)=>{g("nodedrag",{event:w,targetNode:null,nodes:A})},p=(w,N,C,A)=>{g("nodedragstart",{event:w,targetNode:null,nodes:A})},P=(w,N,C,A)=>{g("nodedragstop",{event:w,targetNode:null,nodes:A})};return t.$$.update=()=>{t.$$.dirty&512&&n(0,i=s.filter(w=>w.selected)),t.$$.dirty&1&&n(1,l=co(i))},[i,l,u,f,a,d,g,m,y,s,v,p,P]}class H6 extends He{constructor(e){super(),Ne(this,e,N6,I6,ze,{})}}function Fn(t,e){let{enabled:n=!0,trigger:i,type:l="keydown"}=e;function s(u){const f=Array.isArray(i)?i:[i],a={alt:u.altKey,ctrl:u.ctrlKey,shift:u.shiftKey,meta:u.metaKey};for(const d of f){const h={modifier:[],preventDefault:!1,enabled:!0,...d},{modifier:g,key:m,callback:y,preventDefault:v,enabled:p}=h;if(p){if(g.length&&!(Array.isArray(g)?g:[g]).map(N=>typeof N=="string"?[N]:N).some(N=>N.every(C=>a[C])))continue;if(u.key===m){v&&u.preventDefault();const P={node:t,trigger:h,originalEvent:u};t.dispatchEvent(new CustomEvent("shortcut",{detail:P})),y==null||y(P)}}}}return n&&t.addEventListener(l,s),{update:u=>{const{enabled:f=!0,type:a="keydown"}=u;n&&(!f||l!==a)?t.removeEventListener(l,s):!n&&f&&t.addEventListener(a,s),n=f,l=a,i=u.trigger},destroy:()=>{t.removeEventListener(l,s)}}}function z6(t){let e,n,i,l,s,u,f,a,d,h,g,m;return{c:Te,m(y,v){g||(m=[qt(e=Fn.call(null,window,{trigger:kt(t[0],t[11]),type:"keydown"})),qt(n=Fn.call(null,window,{trigger:kt(t[0],t[12]),type:"keyup"})),qt(i=Fn.call(null,window,{trigger:kt(t[1],t[13]),type:"keydown"})),qt(l=Fn.call(null,window,{trigger:kt(t[1],t[14]),type:"keyup"})),qt(s=Fn.call(null,window,{trigger:kt(t[2],t[15]),type:"keydown"})),qt(u=Fn.call(null,window,{trigger:kt(t[2],t[16]),type:"keyup"})),qt(f=Fn.call(null,window,{trigger:kt(t[3],t[17]),type:"keydown"})),qt(a=Fn.call(null,window,{trigger:kt(t[3],t[18]),type:"keyup"})),qt(d=Fn.call(null,window,{trigger:kt(t[4],t[19]),type:"keydown"})),qt(h=Fn.call(null,window,{trigger:kt(t[4],t[20]),type:"keyup"})),Le(window,"blur",t[10]),Le(window,"contextmenu",t[10])],g=!0)},p(y,[v]){e&&dt(e.update)&&v&1&&e.update.call(null,{trigger:kt(y[0],y[11]),type:"keydown"}),n&&dt(n.update)&&v&1&&n.update.call(null,{trigger:kt(y[0],y[12]),type:"keyup"}),i&&dt(i.update)&&v&2&&i.update.call(null,{trigger:kt(y[1],y[13]),type:"keydown"}),l&&dt(l.update)&&v&2&&l.update.call(null,{trigger:kt(y[1],y[14]),type:"keyup"}),s&&dt(s.update)&&v&4&&s.update.call(null,{trigger:kt(y[2],y[15]),type:"keydown"}),u&&dt(u.update)&&v&4&&u.update.call(null,{trigger:kt(y[2],y[16]),type:"keyup"}),f&&dt(f.update)&&v&8&&f.update.call(null,{trigger:kt(y[3],y[17]),type:"keydown"}),a&&dt(a.update)&&v&8&&a.update.call(null,{trigger:kt(y[3],y[18]),type:"keyup"}),d&&dt(d.update)&&v&16&&d.update.call(null,{trigger:kt(y[4],y[19]),type:"keydown"}),h&&dt(h.update)&&v&16&&h.update.call(null,{trigger:kt(y[4],y[20]),type:"keyup"})},i:Te,o:Te,d(y){g=!1,bt(m)}}}function v1(t){return t!==null&&typeof t=="object"}function L6(t){return v1(t)?t.modifier||[]:[]}function R6(t){return t==null?"":v1(t)?t.key:t}function kt(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const l=R6(i);return{key:l,modifier:L6(i),enabled:l!==null,callback:e}})}function D6(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:l=Hl()?"Meta":"Control"}=e,{deleteKey:s="Backspace"}=e,{panActivationKey:u=" "}=e,{zoomActivationKey:f=Hl()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:d,deleteKeyPressed:h,panActivationKeyPressed:g,zoomActivationKeyPressed:m,selectionRect:y}=at();function v(){y.set(null),a.set(!1),d.set(!1),h.set(!1),g.set(!1),m.set(!1)}const p=()=>a.set(!0),P=()=>a.set(!1),w=()=>d.set(!0),N=()=>d.set(!1),C=B=>{!(B.originalEvent.ctrlKey||B.originalEvent.metaKey||B.originalEvent.shiftKey)&&!Zp(B.originalEvent)&&h.set(!0)},A=()=>h.set(!1),T=()=>g.set(!0),O=()=>g.set(!1),H=()=>m.set(!0),L=()=>m.set(!1);return t.$$set=B=>{"selectionKey"in B&&n(0,i=B.selectionKey),"multiSelectionKey"in B&&n(1,l=B.multiSelectionKey),"deleteKey"in B&&n(2,s=B.deleteKey),"panActivationKey"in B&&n(3,u=B.panActivationKey),"zoomActivationKey"in B&&n(4,f=B.zoomActivationKey)},[i,l,s,u,f,a,d,h,g,m,v,p,P,w,N,C,A,T,O,H,L]}class W6 extends He{constructor(e){super(),Ne(this,e,D6,z6,ze,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const B6=W6,X6=t=>({}),Td=t=>({});function Id(t){let e,n,i,l;const s=t[10].connectionLine,u=Bt(s,t,t[9],Td);let f=!t[2]&&Od(t);return{c(){e=Ve("svg"),n=Ve("g"),u&&u.c(),f&&f.c(),E(n,"class",i=tt(["svelte-flow__connection",t[3].status])),E(e,"width",t[4]),E(e,"height",t[5]),E(e,"class","svelte-flow__connectionline"),E(e,"style",t[0])},m(a,d){$(a,e,d),he(e,n),u&&u.m(n,null),f&&f.m(n,null),l=!0},p(a,d){u&&u.p&&(!l||d&512)&&Yt(u,s,a,a[9],l?Xt(s,a[9],d,X6):Ft(a[9]),Td),a[2]?f&&(f.d(1),f=null):f?f.p(a,d):(f=Od(a),f.c(),f.m(n,null)),(!l||d&8&&i!==(i=tt(["svelte-flow__connection",a[3].status])))&&E(n,"class",i),(!l||d&16)&&E(e,"width",a[4]),(!l||d&32)&&E(e,"height",a[5]),(!l||d&1)&&E(e,"style",a[0])},i(a){l||(Q(u,a),l=!0)},o(a){te(u,a),l=!1},d(a){a&&j(e),u&&u.d(a),f&&f.d()}}}function Od(t){let e,n;return{c(){e=Ve("path"),E(e,"d",n=t[3].path),E(e,"style",t[1]),E(e,"fill","none"),E(e,"class","svelte-flow__connection-path")},m(i,l){$(i,e,l)},p(i,l){l&8&&n!==(n=i[3].path)&&E(e,"d",n),l&2&&E(e,"style",i[1])},d(i){i&&j(e)}}}function Y6(t){let e,n,i=t[3].path&&Id(t);return{c(){i&&i.c(),e=yt()},m(l,s){i&&i.m(l,s),$(l,e,s),n=!0},p(l,[s]){l[3].path?i?(i.p(l,s),s&8&&Q(i,1)):(i=Id(l),i.c(),Q(i,1),i.m(e.parentNode,e)):i&&(mt(),te(i,1,1,()=>{i=null}),_t())},i(l){n||(Q(i),n=!0)},o(l){te(i),n=!1},d(l){l&&j(e),i&&i.d(l)}}}function F6(t,e,n){let i,l,s,{$$slots:u={},$$scope:f}=e,{containerStyle:a=""}=e,{style:d=""}=e,{isCustomComponent:h=!1}=e;const{width:g,height:m,connection:y}=at();return de(t,g,v=>n(4,l=v)),de(t,m,v=>n(5,s=v)),de(t,y,v=>n(3,i=v)),t.$$set=v=>{"containerStyle"in v&&n(0,a=v.containerStyle),"style"in v&&n(1,d=v.style),"isCustomComponent"in v&&n(2,h=v.isCustomComponent),"$$scope"in v&&n(9,f=v.$$scope)},[a,d,h,i,l,s,g,m,y,f,u]}class V6 extends He{constructor(e){super(),Ne(this,e,F6,Y6,ze,{containerStyle:0,style:1,isCustomComponent:2})}}const K6=V6;function U6(t){let e,n,i;const l=t[6].default,s=Bt(l,t,t[5],null);let u=[{class:n=tt(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[3]],f={};for(let a=0;a<u.length;a+=1)f=Vt(f,u[a]);return{c(){e=pe("div"),s&&s.c(),dr(e,f)},m(a,d){$(a,e,d),s&&s.m(e,null),i=!0},p(a,[d]){s&&s.p&&(!i||d&32)&&Yt(s,l,a,a[5],i?Xt(l,a[5],d,null):Ft(a[5]),null),dr(e,f=si(u,[(!i||d&6&&n!==(n=tt(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||d&1)&&{style:a[0]},d&8&&a[3]]))},i(a){i||(Q(s,a),i=!0)},o(a){te(s,a),i=!1},d(a){a&&j(e),s&&s.d(a)}}}function x6(t,e,n){let i;const l=["position","style","class"];let s=ar(e,l),{$$slots:u={},$$scope:f}=e,{position:a="top-right"}=e,{style:d=void 0}=e,{class:h=void 0}=e;return t.$$set=g=>{e=Vt(Vt({},e),Gu(g)),n(3,s=ar(e,l)),"position"in g&&n(4,a=g.position),"style"in g&&n(0,d=g.style),"class"in g&&n(1,h=g.class),"$$scope"in g&&n(5,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(2,i=`${a}`.split("-"))},[d,h,i,s,a,f,u]}class vr extends He{constructor(e){super(),Ne(this,e,x6,U6,ze,{position:4,style:0,class:1})}}function Nd(t){let e,n;return e=new vr({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[q6]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,l){const s={};l&2&&(s.position=i[1]),l&4&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function q6(t){let e;return{c(){e=pe("a"),e.textContent="Svelte Flow",E(e,"href","https://svelteflow.dev"),E(e,"target","_blank"),E(e,"rel","noopener noreferrer"),E(e,"aria-label","Svelte Flow attribution")},m(n,i){$(n,e,i)},p:Te,d(n){n&&j(e)}}}function G6(t){var l;let e,n,i=!((l=t[0])!=null&&l.hideAttribution)&&Nd(t);return{c(){i&&i.c(),e=yt()},m(s,u){i&&i.m(s,u),$(s,e,u),n=!0},p(s,[u]){var f;(f=s[0])!=null&&f.hideAttribution?i&&(mt(),te(i,1,1,()=>{i=null}),_t()):i?(i.p(s,u),u&1&&Q(i,1)):(i=Nd(s),i.c(),Q(i,1),i.m(e.parentNode,e))},i(s){n||(Q(i),n=!0)},o(s){te(i),n=!1},d(s){s&&j(e),i&&i.d(s)}}}function Z6(t,e,n){let{proOptions:i=void 0}=e,{position:l="bottom-right"}=e;return t.$$set=s=>{"proOptions"in s&&n(0,i=s.proOptions),"position"in s&&n(1,l=s.position)},[i,l]}class J6 extends He{constructor(e){super(),Ne(this,e,Z6,G6,ze,{proOptions:0,position:1})}}const Q6=J6;function Hd(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:l,translateExtent:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),l!==void 0&&t.setMaxZoom(l),s!==void 0&&t.setTranslateExtent(s)}const j6=t=>Object.keys(t);function $6(t,e){j6(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function e8(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function t8(t="light"){return In("light",n=>{if(t!=="system"){n(t);return}const i=e8(),l=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",l),()=>{i==null||i.removeEventListener("change",l)}})}const n8=t=>({}),zd=t=>({slot:"connectionLine"});function i8(t){let e;const n=t[70].connectionLine,i=Bt(n,t,t[92],zd);return{c(){i&&i.c()},m(l,s){i&&i.m(l,s),e=!0},p(l,s){i&&i.p&&(!e||s[2]&1073741824)&&Yt(i,n,l,l[92],e?Xt(n,l[92],s,n8):Ft(l[92]),zd)},i(l){e||(Q(i,l),e=!0)},o(l){te(i,l),e=!1},d(l){i&&i.d(l)}}}function r8(t){let e,n,i,l,s,u,f,a,d,h,g,m;return e=new k6({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[73]),e.$on("edgecontextmenu",t[74]),i=new K6({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[31].connectionLine,$$slots:{connectionLine:[i8]},$$scope:{ctx:t}}}),d=new r6({}),d.$on("nodeclick",t[75]),d.$on("nodemouseenter",t[76]),d.$on("nodemousemove",t[77]),d.$on("nodemouseleave",t[78]),d.$on("nodedragstart",t[79]),d.$on("nodedrag",t[80]),d.$on("nodedragstop",t[81]),d.$on("nodecontextmenu",t[82]),g=new H6({}),g.$on("selectionclick",t[83]),g.$on("selectioncontextmenu",t[84]),g.$on("nodedragstart",t[85]),g.$on("nodedrag",t[86]),g.$on("nodedragstop",t[87]),{c(){Se(e.$$.fragment),n=Me(),Se(i.$$.fragment),l=Me(),s=pe("div"),u=Me(),f=pe("div"),a=Me(),Se(d.$$.fragment),h=Me(),Se(g.$$.fragment),E(s,"class","svelte-flow__edgelabel-renderer"),E(f,"class","svelte-flow__viewport-portal")},m(y,v){we(e,y,v),$(y,n,v),we(i,y,v),$(y,l,v),$(y,s,v),$(y,u,v),$(y,f,v),$(y,a,v),we(d,y,v),$(y,h,v),we(g,y,v),m=!0},p(y,v){const p={};v[0]&2097152&&(p.defaultEdgeOptions=y[21]),e.$set(p);const P={};v[0]&128&&(P.containerStyle=y[7]),v[0]&64&&(P.style=y[6]),v[1]&1&&(P.isCustomComponent=y[31].connectionLine),v[2]&1073741824&&(P.$$scope={dirty:v,ctx:y}),i.$set(P)},i(y){m||(Q(e.$$.fragment,y),Q(i.$$.fragment,y),Q(d.$$.fragment,y),Q(g.$$.fragment,y),m=!0)},o(y){te(e.$$.fragment,y),te(i.$$.fragment,y),te(d.$$.fragment,y),te(g.$$.fragment,y),m=!1},d(y){y&&(j(n),j(l),j(s),j(u),j(f),j(a),j(h)),be(e,y),be(i,y),be(d,y),be(g,y)}}}function o8(t){let e,n,i,l;return e=new Z4({props:{$$slots:{default:[r8]},$$scope:{ctx:t}}}),i=new T6({}),{c(){Se(e.$$.fragment),n=Me(),Se(i.$$.fragment)},m(s,u){we(e,s,u),$(s,n,u),we(i,s,u),l=!0},p(s,u){const f={};u[0]&2097344|u[1]&1|u[2]&1073741824&&(f.$$scope={dirty:u,ctx:s}),e.$set(f)},i(s){l||(Q(e.$$.fragment,s),Q(i.$$.fragment,s),l=!0)},o(s){te(e.$$.fragment,s),te(i.$$.fragment,s),l=!1},d(s){s&&j(n),be(e,s),be(i,s)}}}function l8(t){let e,n;return e=new x4({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[o8]},$$scope:{ctx:t}}}),e.$on("paneclick",t[88]),e.$on("panecontextmenu",t[89]),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,l){const s={};l[0]&131072&&(s.panOnDrag=i[17]===void 0?!0:i[17]),l[0]&262144&&(s.selectionOnDrag=i[18]),l[0]&2097344|l[1]&1|l[2]&1073741824&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function s8(t){let e,n,i,l,s,u,f,a,d,h,g,m;n=new B6({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),l=new F4({props:{initialViewport:t[0],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Kn.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],$$slots:{default:[l8]},$$scope:{ctx:t}}}),u=new Q6({props:{proOptions:t[20],position:t[19]}});const y=t[70].default,v=Bt(y,t,t[92],null);let p=[{style:t[22]},{class:a=tt(["svelte-flow",t[23],t[28]])},{"data-testid":"svelte-flow__wrapper"},t[30],{role:"application"}],P={};for(let w=0;w<p.length;w+=1)P=Vt(P,p[w]);return{c(){e=pe("div"),Se(n.$$.fragment),i=Me(),Se(l.$$.fragment),s=Me(),Se(u.$$.fragment),f=Me(),v&&v.c(),dr(e,P),kl(()=>t[91].call(e)),Ye(e,"svelte-12wlba6",!0)},m(w,N){$(w,e,N),we(n,e,null),he(e,i),we(l,e,null),he(e,s),we(u,e,null),he(e,f),v&&v.m(e,null),t[90](e),d=Jw(e,t[91].bind(e)),h=!0,g||(m=[Le(e,"dragover",t[71]),Le(e,"drop",t[72])],g=!0)},p(w,N){const C={};N[0]&2&&(C.selectionKey=w[1]),N[0]&32&&(C.deleteKey=w[5]),N[0]&4&&(C.panActivationKey=w[2]),N[0]&8&&(C.multiSelectionKey=w[3]),N[0]&16&&(C.zoomActivationKey=w[4]),n.$set(C);const A={};N[0]&1&&(A.initialViewport=w[0]),N[0]&256&&(A.onMoveStart=w[8]),N[0]&512&&(A.onMove=w[9]),N[0]&1024&&(A.onMoveEnd=w[10]),N[0]&2048&&(A.panOnScrollMode=w[11]===void 0?Kn.Free:w[11]),N[0]&4096&&(A.preventScrolling=w[12]===void 0?!0:w[12]),N[0]&8192&&(A.zoomOnScroll=w[13]===void 0?!0:w[13]),N[0]&16384&&(A.zoomOnDoubleClick=w[14]===void 0?!0:w[14]),N[0]&32768&&(A.zoomOnPinch=w[15]===void 0?!0:w[15]),N[0]&65536&&(A.panOnScroll=w[16]===void 0?!1:w[16]),N[0]&131072&&(A.panOnDrag=w[17]===void 0?!0:w[17]),N[0]&2490560|N[1]&1|N[2]&1073741824&&(A.$$scope={dirty:N,ctx:w}),l.$set(A);const T={};N[0]&1048576&&(T.proOptions=w[20]),N[0]&524288&&(T.position=w[19]),u.$set(T),v&&v.p&&(!h||N[2]&1073741824)&&Yt(v,y,w,w[92],h?Xt(y,w[92],N,null):Ft(w[92]),null),dr(e,P=si(p,[(!h||N[0]&4194304)&&{style:w[22]},(!h||N[0]&276824064&&a!==(a=tt(["svelte-flow",w[23],w[28]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},N[0]&1073741824&&w[30],{role:"application"}])),Ye(e,"svelte-12wlba6",!0)},i(w){h||(Q(n.$$.fragment,w),Q(l.$$.fragment,w),Q(u.$$.fragment,w),Q(v,w),h=!0)},o(w){te(n.$$.fragment,w),te(l.$$.fragment,w),te(u.$$.fragment,w),te(v,w),h=!1},d(w){w&&j(e),be(n),be(l),be(u),v&&v.d(w),t[90](null),d(),g=!1,bt(m)}}}function u8(t,e,n){let i;const l=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let s=ar(e,l),u,f,a=Te,d=()=>(a(),a=Rl(i,U=>n(28,f=U)),i);t.$$.on_destroy.push(()=>a());let{$$slots:h={},$$scope:g}=e;const m=Kw(h);let{id:y="1"}=e,{nodes:v}=e,{edges:p}=e,{fitView:P=void 0}=e,{fitViewOptions:w=void 0}=e,{minZoom:N=void 0}=e,{maxZoom:C=void 0}=e,{initialViewport:A={x:0,y:0,zoom:1}}=e,{viewport:T=void 0}=e,{nodeTypes:O=void 0}=e,{edgeTypes:H=void 0}=e,{selectionKey:L=void 0}=e,{selectionMode:B=void 0}=e,{panActivationKey:x=void 0}=e,{multiSelectionKey:I=void 0}=e,{zoomActivationKey:X=void 0}=e,{nodesDraggable:D=void 0}=e,{nodesConnectable:M=void 0}=e,{nodeDragThreshold:V=void 0}=e,{elementsSelectable:Y=void 0}=e,{snapGrid:G=void 0}=e,{deleteKey:q=void 0}=e,{connectionRadius:ee=void 0}=e,{connectionLineType:fe=void 0}=e,{connectionMode:se=Ai.Strict}=e,{connectionLineStyle:J=""}=e,{connectionLineContainerStyle:ve=""}=e,{onMoveStart:Ae=void 0}=e,{onMove:ke=void 0}=e,{onMoveEnd:R=void 0}=e,{isValidConnection:ge=void 0}=e,{translateExtent:ye=void 0}=e,{onlyRenderVisibleElements:ie=void 0}=e,{panOnScrollMode:le=Kn.Free}=e,{preventScrolling:Fe=!0}=e,{zoomOnScroll:Ie=!0}=e,{zoomOnDoubleClick:Re=!0}=e,{zoomOnPinch:je=!0}=e,{panOnScroll:nt=!1}=e,{panOnDrag:En=!0}=e,{selectionOnDrag:Et=void 0}=e,{autoPanOnConnect:tn=!0}=e,{autoPanOnNodeDrag:cn=!0}=e,{onerror:Ce=void 0}=e,{ondelete:St=void 0}=e,{onedgecreate:Gt=void 0}=e,{attributionPosition:dn=void 0}=e,{proOptions:ce=void 0}=e,{defaultEdgeOptions:Pt=void 0}=e,{width:Ot=void 0}=e,{height:me=void 0}=e,{colorMode:Rt="light"}=e,{onconnect:Tt=void 0}=e,{onconnectstart:Nt=void 0}=e,{onconnectend:Rn=void 0}=e,{onbeforedelete:Dn=void 0}=e,{oninit:hn=void 0}=e,{defaultMarkerColor:Wn="#b1b1b7"}=e,{style:xn=void 0}=e,{class:qn=void 0}=e,fi,ai,ci;const Ht=$w(Ul)?at():D4({nodes:ue(v),edges:ue(p),width:Ot,height:me,fitView:P});so(()=>(Ht.width.set(ai),Ht.height.set(ci),Ht.domNode.set(fi),Ht.syncNodeStores(v),Ht.syncEdgeStores(p),Ht.syncViewport(T),P!==void 0&&Ht.fitViewOnInit.set(P),w&&Ht.fitViewOptions.set(w),Hd(Ht,{nodeTypes:O,edgeTypes:H,minZoom:N,maxZoom:C,translateExtent:ye}),()=>{Ht.reset()}));const{initialized:Cr}=Ht;de(t,Cr,U=>n(69,u=U));let Yi=!1;function ql(U){rt.call(this,t,U)}function Gl(U){rt.call(this,t,U)}function Zl(U){rt.call(this,t,U)}function Jl(U){rt.call(this,t,U)}function mo(U){rt.call(this,t,U)}function Ql(U){rt.call(this,t,U)}function jl(U){rt.call(this,t,U)}function $l(U){rt.call(this,t,U)}function Er(U){rt.call(this,t,U)}function es(U){rt.call(this,t,U)}function Ar(U){rt.call(this,t,U)}function ts(U){rt.call(this,t,U)}function ns(U){rt.call(this,t,U)}function is(U){rt.call(this,t,U)}function rs(U){rt.call(this,t,U)}function os(U){rt.call(this,t,U)}function ls(U){rt.call(this,t,U)}function ss(U){rt.call(this,t,U)}function us(U){rt.call(this,t,U)}function _o(U){Cn[U?"unshift":"push"](()=>{fi=U,n(26,fi)})}function fs(){ai=this.clientWidth,ci=this.clientHeight,n(24,ai),n(25,ci)}return t.$$set=U=>{e=Vt(Vt({},e),Gu(U)),n(30,s=ar(e,l)),"id"in U&&n(32,y=U.id),"nodes"in U&&n(33,v=U.nodes),"edges"in U&&n(34,p=U.edges),"fitView"in U&&n(35,P=U.fitView),"fitViewOptions"in U&&n(36,w=U.fitViewOptions),"minZoom"in U&&n(37,N=U.minZoom),"maxZoom"in U&&n(38,C=U.maxZoom),"initialViewport"in U&&n(0,A=U.initialViewport),"viewport"in U&&n(39,T=U.viewport),"nodeTypes"in U&&n(40,O=U.nodeTypes),"edgeTypes"in U&&n(41,H=U.edgeTypes),"selectionKey"in U&&n(1,L=U.selectionKey),"selectionMode"in U&&n(42,B=U.selectionMode),"panActivationKey"in U&&n(2,x=U.panActivationKey),"multiSelectionKey"in U&&n(3,I=U.multiSelectionKey),"zoomActivationKey"in U&&n(4,X=U.zoomActivationKey),"nodesDraggable"in U&&n(43,D=U.nodesDraggable),"nodesConnectable"in U&&n(44,M=U.nodesConnectable),"nodeDragThreshold"in U&&n(45,V=U.nodeDragThreshold),"elementsSelectable"in U&&n(46,Y=U.elementsSelectable),"snapGrid"in U&&n(47,G=U.snapGrid),"deleteKey"in U&&n(5,q=U.deleteKey),"connectionRadius"in U&&n(48,ee=U.connectionRadius),"connectionLineType"in U&&n(49,fe=U.connectionLineType),"connectionMode"in U&&n(50,se=U.connectionMode),"connectionLineStyle"in U&&n(6,J=U.connectionLineStyle),"connectionLineContainerStyle"in U&&n(7,ve=U.connectionLineContainerStyle),"onMoveStart"in U&&n(8,Ae=U.onMoveStart),"onMove"in U&&n(9,ke=U.onMove),"onMoveEnd"in U&&n(10,R=U.onMoveEnd),"isValidConnection"in U&&n(51,ge=U.isValidConnection),"translateExtent"in U&&n(52,ye=U.translateExtent),"onlyRenderVisibleElements"in U&&n(53,ie=U.onlyRenderVisibleElements),"panOnScrollMode"in U&&n(11,le=U.panOnScrollMode),"preventScrolling"in U&&n(12,Fe=U.preventScrolling),"zoomOnScroll"in U&&n(13,Ie=U.zoomOnScroll),"zoomOnDoubleClick"in U&&n(14,Re=U.zoomOnDoubleClick),"zoomOnPinch"in U&&n(15,je=U.zoomOnPinch),"panOnScroll"in U&&n(16,nt=U.panOnScroll),"panOnDrag"in U&&n(17,En=U.panOnDrag),"selectionOnDrag"in U&&n(18,Et=U.selectionOnDrag),"autoPanOnConnect"in U&&n(54,tn=U.autoPanOnConnect),"autoPanOnNodeDrag"in U&&n(55,cn=U.autoPanOnNodeDrag),"onerror"in U&&n(56,Ce=U.onerror),"ondelete"in U&&n(57,St=U.ondelete),"onedgecreate"in U&&n(58,Gt=U.onedgecreate),"attributionPosition"in U&&n(19,dn=U.attributionPosition),"proOptions"in U&&n(20,ce=U.proOptions),"defaultEdgeOptions"in U&&n(21,Pt=U.defaultEdgeOptions),"width"in U&&n(59,Ot=U.width),"height"in U&&n(60,me=U.height),"colorMode"in U&&n(61,Rt=U.colorMode),"onconnect"in U&&n(62,Tt=U.onconnect),"onconnectstart"in U&&n(63,Nt=U.onconnectstart),"onconnectend"in U&&n(64,Rn=U.onconnectend),"onbeforedelete"in U&&n(65,Dn=U.onbeforedelete),"oninit"in U&&n(66,hn=U.oninit),"defaultMarkerColor"in U&&n(67,Wn=U.defaultMarkerColor),"style"in U&&n(22,xn=U.style),"class"in U&&n(23,qn=U.class),"$$scope"in U&&n(92,g=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&50331648&&ai!==void 0&&ci!==void 0&&(Ht.width.set(ai),Ht.height.set(ci)),t.$$.dirty[2]&208&&!Yi&&u&&(hn==null||hn(),n(68,Yi=!0)),t.$$.dirty[1]&266336258|t.$$.dirty[2]&47&&$6(Ht,{flowId:y,connectionLineType:fe,connectionRadius:ee,selectionMode:B,snapGrid:G,defaultMarkerColor:Wn,nodesDraggable:D,nodesConnectable:M,elementsSelectable:Y,onlyRenderVisibleElements:ie,isValidConnection:ge,autoPanOnConnect:tn,autoPanOnNodeDrag:cn,onerror:Ce,ondelete:St,onedgecreate:Gt,connectionMode:se,nodeDragThreshold:V,onconnect:Tt,onconnectstart:Nt,onconnectend:Rn,onbeforedelete:Dn}),t.$$.dirty[1]&2098880&&Hd(Ht,{nodeTypes:O,edgeTypes:H,minZoom:N,maxZoom:C,translateExtent:ye}),t.$$.dirty[1]&1073741824&&d(n(27,i=t8(Rt)))},[A,L,x,I,X,q,J,ve,Ae,ke,R,le,Fe,Ie,Re,je,nt,En,Et,dn,ce,Pt,xn,qn,ai,ci,fi,i,f,Cr,s,m,y,v,p,P,w,N,C,T,O,H,B,D,M,V,Y,G,ee,fe,se,ge,ye,ie,tn,cn,Ce,St,Gt,Ot,me,Rt,Tt,Nt,Rn,Dn,hn,Wn,Yi,u,h,ql,Gl,Zl,Jl,mo,Ql,jl,$l,Er,es,Ar,ts,ns,is,rs,os,ls,ss,us,_o,fs,g]}class f8 extends He{constructor(e){super(),Ne(this,e,u8,s8,ze,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1,-1])}}const a8=f8;function c8(t){let e;const n=t[6].default,i=Bt(n,t,t[5],null);return{c(){i&&i.c()},m(l,s){i&&i.m(l,s),e=!0},p(l,[s]){i&&i.p&&(!e||s&32)&&Yt(i,n,l,l[5],e?Xt(n,l[5],s,null):Ft(l[5]),null)},i(l){e||(Q(i,l),e=!0)},o(l){te(i,l),e=!1},d(l){i&&i.d(l)}}}function d8(t,e,n){let{$$slots:i={},$$scope:l}=e,{initialNodes:s=void 0}=e,{initialEdges:u=void 0}=e,{initialWidth:f=void 0}=e,{initialHeight:a=void 0}=e,{fitView:d=void 0}=e;const h=y1({nodes:s,edges:u,width:f,height:a,fitView:d});return jr(Ul,{getStore:()=>h}),Zu(()=>{h.reset()}),t.$$set=g=>{"initialNodes"in g&&n(0,s=g.initialNodes),"initialEdges"in g&&n(1,u=g.initialEdges),"initialWidth"in g&&n(2,f=g.initialWidth),"initialHeight"in g&&n(3,a=g.initialHeight),"fitView"in g&&n(4,d=g.fitView),"$$scope"in g&&n(5,l=g.$$scope)},[s,u,f,a,d,l,i]}class h8 extends He{constructor(e){super(),Ne(this,e,d8,c8,ze,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4})}}const g8=t=>({}),Ld=t=>({class:"button-svg"});function m8(t){let e,n,i,l,s;const u=t[8].default,f=Bt(u,t,t[7],Ld);let a=[{type:"button"},{class:n=tt(["svelte-flow__controls-button",t[0]])},t[6]],d={};for(let h=0;h<a.length;h+=1)d=Vt(d,a[h]);return{c(){e=pe("button"),f&&f.c(),dr(e,d),Xe(e,"--xy-controls-button-background-color-props",t[1]),Xe(e,"--xy-controls-button-background-color-hover-props",t[2]),Xe(e,"--xy-controls-button-color-props",t[3]),Xe(e,"--xy-controls-button-color-hover-props",t[4]),Xe(e,"--xy-controls-button-border-color-props",t[5])},m(h,g){$(h,e,g),f&&f.m(e,null),e.autofocus&&e.focus(),i=!0,l||(s=Le(e,"click",t[9]),l=!0)},p(h,[g]){f&&f.p&&(!i||g&128)&&Yt(f,u,h,h[7],i?Xt(u,h[7],g,g8):Ft(h[7]),Ld),dr(e,d=si(a,[{type:"button"},(!i||g&1&&n!==(n=tt(["svelte-flow__controls-button",h[0]])))&&{class:n},g&64&&h[6]])),Xe(e,"--xy-controls-button-background-color-props",h[1]),Xe(e,"--xy-controls-button-background-color-hover-props",h[2]),Xe(e,"--xy-controls-button-color-props",h[3]),Xe(e,"--xy-controls-button-color-hover-props",h[4]),Xe(e,"--xy-controls-button-border-color-props",h[5])},i(h){i||(Q(f,h),i=!0)},o(h){te(f,h),i=!1},d(h){h&&j(e),f&&f.d(h),l=!1,s()}}}function _8(t,e,n){const i=["class"];let l=ar(e,i),{$$slots:s={},$$scope:u}=e,{class:f=void 0}=e,a,d,h,g,m;function y(v){rt.call(this,t,v)}return t.$$set=v=>{e=Vt(Vt({},e),Gu(v)),n(6,l=ar(e,i)),"class"in v&&n(0,f=v.class),"$$scope"in v&&n(7,u=v.$$scope)},[f,a,d,h,g,m,l,u,s,y]}class pr extends He{constructor(e){super(),Ne(this,e,_8,m8,ze,{class:0})}}function y8(t){let e,n;return{c(){e=Ve("svg"),n=Ve("path"),E(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 32")},m(i,l){$(i,e,l),he(e,n)},p:Te,i:Te,o:Te,d(i){i&&j(e)}}}class w8 extends He{constructor(e){super(),Ne(this,e,null,y8,ze,{})}}function b8(t){let e,n;return{c(){e=Ve("svg"),n=Ve("path"),E(n,"d","M0 0h32v4.2H0z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 5")},m(i,l){$(i,e,l),he(e,n)},p:Te,i:Te,o:Te,d(i){i&&j(e)}}}class v8 extends He{constructor(e){super(),Ne(this,e,null,b8,ze,{})}}function p8(t){let e,n;return{c(){e=Ve("svg"),n=Ve("path"),E(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 32 30")},m(i,l){$(i,e,l),he(e,n)},p:Te,i:Te,o:Te,d(i){i&&j(e)}}}class S8 extends He{constructor(e){super(),Ne(this,e,null,p8,ze,{})}}function k8(t){let e,n;return{c(){e=Ve("svg"),n=Ve("path"),E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,l){$(i,e,l),he(e,n)},p:Te,i:Te,o:Te,d(i){i&&j(e)}}}class C8 extends He{constructor(e){super(),Ne(this,e,null,k8,ze,{})}}function E8(t){let e,n;return{c(){e=Ve("svg"),n=Ve("path"),E(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 25 32")},m(i,l){$(i,e,l),he(e,n)},p:Te,i:Te,o:Te,d(i){i&&j(e)}}}class A8 extends He{constructor(e){super(),Ne(this,e,null,E8,ze,{})}}const M8=t=>({}),Rd=t=>({}),P8=t=>({}),Dd=t=>({});function Wd(t){let e,n,i,l;const s=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let u={$$slots:{default:[T8]},$$scope:{ctx:t}};for(let d=0;d<s.length;d+=1)u=Vt(u,s[d]);e=new pr({props:u}),e.$on("click",t[18]);const f=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[I8]},$$scope:{ctx:t}};for(let d=0;d<f.length;d+=1)a=Vt(a,f[d]);return i=new pr({props:a}),i.$on("click",t[19]),{c(){Se(e.$$.fragment),n=Me(),Se(i.$$.fragment)},m(d,h){we(e,d,h),$(d,n,h),we(i,d,h),l=!0},p(d,h){const g=h[0]&131584?si(s,[s[0],s[1],s[2],h[0]&512&&{disabled:d[9]},h[0]&131072&&hr(d[17])]):{};h[1]&16&&(g.$$scope={dirty:h,ctx:d}),e.$set(g);const m=h[0]&132096?si(f,[f[0],f[1],f[2],h[0]&1024&&{disabled:d[10]},h[0]&131072&&hr(d[17])]):{};h[1]&16&&(m.$$scope={dirty:h,ctx:d}),i.$set(m)},i(d){l||(Q(e.$$.fragment,d),Q(i.$$.fragment,d),l=!0)},o(d){te(e.$$.fragment,d),te(i.$$.fragment,d),l=!1},d(d){d&&j(n),be(e,d),be(i,d)}}}function T8(t){let e,n;return e=new w8({}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function I8(t){let e,n;return e=new v8({}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function Bd(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let l={$$slots:{default:[O8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)l=Vt(l,i[s]);return e=new pr({props:l}),e.$on("click",t[20]),{c(){Se(e.$$.fragment)},m(s,u){we(e,s,u),n=!0},p(s,u){const f=u[0]&131072?si(i,[i[0],i[1],i[2],hr(s[17])]):{};u[1]&16&&(f.$$scope={dirty:u,ctx:s}),e.$set(f)},i(s){n||(Q(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){be(e,s)}}}function O8(t){let e,n;return e=new S8({}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function Xd(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let l={$$slots:{default:[z8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)l=Vt(l,i[s]);return e=new pr({props:l}),e.$on("click",t[21]),{c(){Se(e.$$.fragment)},m(s,u){we(e,s,u),n=!0},p(s,u){const f=u[0]&131072?si(i,[i[0],i[1],i[2],hr(s[17])]):{};u[0]&256|u[1]&16&&(f.$$scope={dirty:u,ctx:s}),e.$set(f)},i(s){n||(Q(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){be(e,s)}}}function N8(t){let e,n;return e=new C8({}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function H8(t){let e,n;return e=new A8({}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function z8(t){let e,n,i,l;const s=[H8,N8],u=[];function f(a,d){return a[8]?0:1}return e=f(t),n=u[e]=s[e](t),{c(){n.c(),i=yt()},m(a,d){u[e].m(a,d),$(a,i,d),l=!0},p(a,d){let h=e;e=f(a),e!==h&&(mt(),te(u[h],1,1,()=>{u[h]=null}),_t(),n=u[e],n||(n=u[e]=s[e](a),n.c()),Q(n,1),n.m(i.parentNode,i))},i(a){l||(Q(n),l=!0)},o(a){te(n),l=!1},d(a){a&&j(i),u[e].d(a)}}}function L8(t){let e,n,i,l,s,u;const f=t[34].before,a=Bt(f,t,t[35],Dd);let d=t[1]&&Wd(t),h=t[2]&&Bd(t),g=t[3]&&Xd(t);const m=t[34].default,y=Bt(m,t,t[35],null),v=t[34].after,p=Bt(v,t,t[35],Rd);return{c(){a&&a.c(),e=Me(),d&&d.c(),n=Me(),h&&h.c(),i=Me(),g&&g.c(),l=Me(),y&&y.c(),s=Me(),p&&p.c()},m(P,w){a&&a.m(P,w),$(P,e,w),d&&d.m(P,w),$(P,n,w),h&&h.m(P,w),$(P,i,w),g&&g.m(P,w),$(P,l,w),y&&y.m(P,w),$(P,s,w),p&&p.m(P,w),u=!0},p(P,w){a&&a.p&&(!u||w[1]&16)&&Yt(a,f,P,P[35],u?Xt(f,P[35],w,P8):Ft(P[35]),Dd),P[1]?d?(d.p(P,w),w[0]&2&&Q(d,1)):(d=Wd(P),d.c(),Q(d,1),d.m(n.parentNode,n)):d&&(mt(),te(d,1,1,()=>{d=null}),_t()),P[2]?h?(h.p(P,w),w[0]&4&&Q(h,1)):(h=Bd(P),h.c(),Q(h,1),h.m(i.parentNode,i)):h&&(mt(),te(h,1,1,()=>{h=null}),_t()),P[3]?g?(g.p(P,w),w[0]&8&&Q(g,1)):(g=Xd(P),g.c(),Q(g,1),g.m(l.parentNode,l)):g&&(mt(),te(g,1,1,()=>{g=null}),_t()),y&&y.p&&(!u||w[1]&16)&&Yt(y,m,P,P[35],u?Xt(m,P[35],w,null):Ft(P[35]),null),p&&p.p&&(!u||w[1]&16)&&Yt(p,v,P,P[35],u?Xt(v,P[35],w,M8):Ft(P[35]),Rd)},i(P){u||(Q(a,P),Q(d),Q(h),Q(g),Q(y,P),Q(p,P),u=!0)},o(P){te(a,P),te(d),te(h),te(g),te(y,P),te(p,P),u=!1},d(P){P&&(j(e),j(n),j(i),j(l),j(s)),a&&a.d(P),d&&d.d(P),h&&h.d(P),g&&g.d(P),y&&y.d(P),p&&p.d(P)}}}function R8(t){let e,n;return e=new vr({props:{class:tt(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[L8]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,l){const s={};l[0]&192&&(s.class=tt(["svelte-flow__controls",i[7],i[6]])),l[0]&1&&(s.position=i[0]),l[0]&16&&(s["aria-label"]=i[4]??"Svelte Flow controls"),l[0]&32&&(s.style=i[5]),l[0]&1806|l[1]&16&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function D8(t,e,n){let i,l,s,u,f,a,d,h,g,m,{$$slots:y={},$$scope:v}=e,{position:p="bottom-left"}=e,{showZoom:P=!0}=e,{showFitView:w=!0}=e,{showLock:N=!0}=e,{buttonBgColor:C=void 0}=e,{buttonBgColorHover:A=void 0}=e,{buttonColor:T=void 0}=e,{buttonColorHover:O=void 0}=e,{buttonBorderColor:H=void 0}=e,{ariaLabel:L=void 0}=e,{style:B=void 0}=e,{orientation:x="vertical"}=e,{class:I=""}=e;const{zoomIn:X,zoomOut:D,fitView:M,viewport:V,minZoom:Y,maxZoom:G,nodesDraggable:q,nodesConnectable:ee,elementsSelectable:fe}=at();de(t,V,R=>n(29,a=R)),de(t,Y,R=>n(30,d=R)),de(t,G,R=>n(28,f=R)),de(t,q,R=>n(33,m=R)),de(t,ee,R=>n(32,g=R)),de(t,fe,R=>n(31,h=R));const se={bgColor:C,bgColorHover:A,color:T,colorHover:O,borderColor:H},J=()=>{X()},ve=()=>{D()},Ae=()=>{M()},ke=()=>{n(8,i=!i),q.set(i),ee.set(i),fe.set(i)};return t.$$set=R=>{"position"in R&&n(0,p=R.position),"showZoom"in R&&n(1,P=R.showZoom),"showFitView"in R&&n(2,w=R.showFitView),"showLock"in R&&n(3,N=R.showLock),"buttonBgColor"in R&&n(22,C=R.buttonBgColor),"buttonBgColorHover"in R&&n(23,A=R.buttonBgColorHover),"buttonColor"in R&&n(24,T=R.buttonColor),"buttonColorHover"in R&&n(25,O=R.buttonColorHover),"buttonBorderColor"in R&&n(26,H=R.buttonBorderColor),"ariaLabel"in R&&n(4,L=R.ariaLabel),"style"in R&&n(5,B=R.style),"orientation"in R&&n(27,x=R.orientation),"class"in R&&n(6,I=R.class),"$$scope"in R&&n(35,v=R.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&7&&n(8,i=m||g||h),t.$$.dirty[0]&1610612736&&n(10,l=a.zoom<=d),t.$$.dirty[0]&805306368&&n(9,s=a.zoom>=f),t.$$.dirty[0]&134217728&&n(7,u=x==="horizontal"?"horizontal":"vertical")},[p,P,w,N,L,B,I,u,i,s,l,V,Y,G,q,ee,fe,se,J,ve,Ae,ke,C,A,T,O,H,x,f,a,d,h,g,m,y,v]}class W8 extends He{constructor(e){super(),Ne(this,e,D8,R8,ze,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,class:6},null,[-1,-1])}}var li;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(li||(li={}));function B8(t){let e,n;return{c(){e=Ve("circle"),E(e,"cx",t[0]),E(e,"cy",t[0]),E(e,"r",t[0]),E(e,"class",n=tt(["svelte-flow__background-pattern","dots",t[1]]))},m(i,l){$(i,e,l)},p(i,[l]){l&1&&E(e,"cx",i[0]),l&1&&E(e,"cy",i[0]),l&1&&E(e,"r",i[0]),l&2&&n!==(n=tt(["svelte-flow__background-pattern","dots",i[1]]))&&E(e,"class",n)},i:Te,o:Te,d(i){i&&j(e)}}}function X8(t,e,n){let{radius:i=5}=e,{class:l=""}=e;return t.$$set=s=>{"radius"in s&&n(0,i=s.radius),"class"in s&&n(1,l=s.class)},[i,l]}class Y8 extends He{constructor(e){super(),Ne(this,e,X8,B8,ze,{radius:0,class:1})}}const F8=Y8;function V8(t){let e,n,i;return{c(){e=Ve("path"),E(e,"stroke-width",t[0]),E(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),E(e,"class",i=tt(["svelte-flow__background-pattern",t[2],t[3]]))},m(l,s){$(l,e,s)},p(l,[s]){s&1&&E(e,"stroke-width",l[0]),s&2&&n!==(n=`M${l[1][0]/2} 0 V${l[1][1]} M0 ${l[1][1]/2} H${l[1][0]}`)&&E(e,"d",n),s&12&&i!==(i=tt(["svelte-flow__background-pattern",l[2],l[3]]))&&E(e,"class",i)},i:Te,o:Te,d(l){l&&j(e)}}}function K8(t,e,n){let{lineWidth:i=1}=e,{dimensions:l}=e,{variant:s=void 0}=e,{class:u=""}=e;return t.$$set=f=>{"lineWidth"in f&&n(0,i=f.lineWidth),"dimensions"in f&&n(1,l=f.dimensions),"variant"in f&&n(2,s=f.variant),"class"in f&&n(3,u=f.class)},[i,l,s,u]}class U8 extends He{constructor(e){super(),Ne(this,e,K8,V8,ze,{lineWidth:0,dimensions:1,variant:2,class:3})}}const x8=U8;function q8(t){let e,n;return e=new x8({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,l){const s={};l&64&&(s.dimensions=i[6]),l&1&&(s.variant=i[0]),l&2&&(s.lineWidth=i[1]),l&16&&(s.class=i[4]),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function G8(t){let e,n;return e=new F8({props:{radius:t[7]/2,class:t[4]}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,l){const s={};l&128&&(s.radius=i[7]/2),l&16&&(s.class=i[4]),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function Z8(t){let e,n,i,l,s,u,f,a,d,h,g,m,y;const v=[G8,q8],p=[];function P(w,N){return w[14]?0:1}return i=P(t),l=p[i]=v[i](t),{c(){e=Ve("svg"),n=Ve("pattern"),l.c(),h=Ve("rect"),E(n,"id",t[11]),E(n,"x",s=t[9].x%t[8][0]),E(n,"y",u=t[9].y%t[8][1]),E(n,"width",f=t[8][0]),E(n,"height",a=t[8][1]),E(n,"patternUnits","userSpaceOnUse"),E(n,"patternTransform",d=`translate(-${t[10][0]},-${t[10][1]})`),E(h,"x","0"),E(h,"y","0"),E(h,"width","100%"),E(h,"height","100%"),E(h,"fill",g=`url(#${t[11]})`),E(e,"class",m=cr(tt(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),E(e,"data-testid","svelte-flow__background"),Xe(e,"--xy-background-color-props",t[2]),Xe(e,"--xy-background-pattern-color-props",t[3])},m(w,N){$(w,e,N),he(e,n),p[i].m(n,null),he(e,h),y=!0},p(w,[N]){l.p(w,N),(!y||N&2048)&&E(n,"id",w[11]),(!y||N&768&&s!==(s=w[9].x%w[8][0]))&&E(n,"x",s),(!y||N&768&&u!==(u=w[9].y%w[8][1]))&&E(n,"y",u),(!y||N&256&&f!==(f=w[8][0]))&&E(n,"width",f),(!y||N&256&&a!==(a=w[8][1]))&&E(n,"height",a),(!y||N&1024&&d!==(d=`translate(-${w[10][0]},-${w[10][1]})`))&&E(n,"patternTransform",d),(!y||N&2048&&g!==(g=`url(#${w[11]})`))&&E(h,"fill",g),(!y||N&32&&m!==(m=cr(tt(["svelte-flow__background",w[5]]))+" svelte-1r7pe8d"))&&E(e,"class",m),N&4&&Xe(e,"--xy-background-color-props",w[2]),N&8&&Xe(e,"--xy-background-pattern-color-props",w[3])},i(w){y||(Q(l),y=!0)},o(w){te(l),y=!1},d(w){w&&j(e),p[i].d()}}}const J8={[li.Dots]:1,[li.Lines]:1,[li.Cross]:6};function Q8(t,e,n){let i,l,s,u,f,a,d,{id:h=void 0}=e,{variant:g=li.Dots}=e,{gap:m=20}=e,{size:y=1}=e,{lineWidth:v=1}=e,{bgColor:p=void 0}=e,{patternColor:P=void 0}=e,{patternClass:w=void 0}=e,{class:N=""}=e;const{viewport:C,flowId:A}=at();de(t,C,B=>n(9,a=B)),de(t,A,B=>n(18,d=B));const T=y||J8[g],O=g===li.Dots,H=g===li.Cross,L=Array.isArray(m)?m:[m,m];return t.$$set=B=>{"id"in B&&n(15,h=B.id),"variant"in B&&n(0,g=B.variant),"gap"in B&&n(16,m=B.gap),"size"in B&&n(17,y=B.size),"lineWidth"in B&&n(1,v=B.lineWidth),"bgColor"in B&&n(2,p=B.bgColor),"patternColor"in B&&n(3,P=B.patternColor),"patternClass"in B&&n(4,w=B.patternClass),"class"in B&&n(5,N=B.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${d}-${h||""}`),t.$$.dirty&512&&n(8,l=[L[0]*a.zoom||1,L[1]*a.zoom||1]),t.$$.dirty&512&&n(7,s=T*a.zoom),t.$$.dirty&384&&n(6,u=H?[s,s]:l),t.$$.dirty&192&&n(10,f=O?[s/2,s/2]:[u[0]/2,u[1]/2])},[g,v,p,P,w,N,u,s,l,a,f,i,C,A,O,h,m,y,d]}class j8 extends He{constructor(e){super(),Ne(this,e,Q8,Z8,ze,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const $8=j8;function e7(t){let e,n,i;return{c(){e=Ve("rect"),E(e,"class",n=tt(["svelte-flow__minimap-node",t[10]])),E(e,"x",t[0]),E(e,"y",t[1]),E(e,"rx",t[4]),E(e,"ry",t[4]),E(e,"width",t[2]),E(e,"height",t[3]),E(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),E(e,"shape-rendering",t[6]),Ye(e,"selected",t[9])},m(l,s){$(l,e,s)},p(l,[s]){s&1024&&n!==(n=tt(["svelte-flow__minimap-node",l[10]]))&&E(e,"class",n),s&1&&E(e,"x",l[0]),s&2&&E(e,"y",l[1]),s&16&&E(e,"rx",l[4]),s&16&&E(e,"ry",l[4]),s&4&&E(e,"width",l[2]),s&8&&E(e,"height",l[3]),s&416&&i!==(i=`${l[5]?`fill: ${l[5]};`:""}${l[7]?`stroke: ${l[7]};`:""}${l[8]?`stroke-width: ${l[8]};`:""}`)&&E(e,"style",i),s&64&&E(e,"shape-rendering",l[6]),s&1536&&Ye(e,"selected",l[9])},i:Te,o:Te,d(l){l&&j(e)}}}function t7(t,e,n){let{x:i}=e,{y:l}=e,{width:s=0}=e,{height:u=0}=e,{borderRadius:f=5}=e,{color:a=void 0}=e,{shapeRendering:d}=e,{strokeColor:h=void 0}=e,{strokeWidth:g=2}=e,{selected:m=!1}=e,{class:y=""}=e;return t.$$set=v=>{"x"in v&&n(0,i=v.x),"y"in v&&n(1,l=v.y),"width"in v&&n(2,s=v.width),"height"in v&&n(3,u=v.height),"borderRadius"in v&&n(4,f=v.borderRadius),"color"in v&&n(5,a=v.color),"shapeRendering"in v&&n(6,d=v.shapeRendering),"strokeColor"in v&&n(7,h=v.strokeColor),"strokeWidth"in v&&n(8,g=v.strokeWidth),"selected"in v&&n(9,m=v.selected),"class"in v&&n(10,y=v.class)},[i,l,s,u,f,a,d,h,g,m,y]}class n7 extends He{constructor(e){super(),Ne(this,e,t7,e7,ze,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function i7(t,e){const n=y5({domNode:t,panZoom:e.panZoom,getTransform:()=>{const l=ue(e.viewport);return[l.x,l.y,l.zoom]},getViewScale:e.getViewScale});function i(l){n.update({translateExtent:l.translateExtent,width:l.width,height:l.height,inversePan:l.inversePan,zoomStep:l.zoomStep,pannable:l.pannable,zoomable:l.zoomable})}return{update:i,destroy(){n.destroy()}}}function Yd(t,e,n){const i=t.slice();return i[53]=e[n],i}function Tu(t){const e=t.slice(),n=kr(e[53]).positionAbsolute;e[56]=n;const i=ho(e[53]);return e[57]=i,e}function Fd(t){let e,n,i=[],l=new Map,s,u,f,a,d,h,g,m=t[1]&&Vd(t),y=Ct(t[19]);const v=p=>p[53].id;for(let p=0;p<y.length;p+=1){let P=Yd(t,y,p),w=v(P);l.set(w,i[p]=Ud(w,P))}return{c(){e=Ve("svg"),m&&m.c(),n=yt();for(let p=0;p<i.length;p+=1)i[p].c();s=Ve("path"),E(s,"class","svelte-flow__minimap-mask"),E(s,"d",u="M"+(t[25]-t[15])+","+(t[24]-t[15])+"h"+(t[23]+t[15]*2)+"v"+(t[22]+t[15]*2)+"h"+(-t[23]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),E(s,"fill-rule","evenodd"),E(s,"pointer-events","none"),E(e,"width",t[17]),E(e,"height",t[16]),E(e,"viewBox",f=t[25]+" "+t[24]+" "+t[23]+" "+t[22]),E(e,"class","svelte-flow__minimap-svg"),E(e,"role","img"),E(e,"aria-labelledby",t[39]),Xe(e,"--xy-minimap-mask-background-color-props",t[5]),Xe(e,"--xy-minimap-mask-stroke-color-props",t[6]),Xe(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(p,P){$(p,e,P),m&&m.m(e,null),he(e,n);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(e,null);he(e,s),d=!0,h||(g=qt(a=i7.call(null,e,{panZoom:t[26],viewport:t[29],getViewScale:t[40],translateExtent:t[27],width:t[21],height:t[20],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),h=!0)},p(p,P){p[1]?m?m.p(p,P):(m=Vd(p),m.c(),m.m(e,n)):m&&(m.d(1),m=null),P[0]&524300|P[1]&240&&(y=Ct(p[19]),mt(),i=Ei(i,P,v,1,p,y,l,e,Bi,Ud,s,Yd),_t()),(!d||P[0]&63209472&&u!==(u="M"+(p[25]-p[15])+","+(p[24]-p[15])+"h"+(p[23]+p[15]*2)+"v"+(p[22]+p[15]*2)+"h"+(-p[23]-p[15]*2)+`z
      M`+p[18].x+","+p[18].y+"h"+p[18].width+"v"+p[18].height+"h"+-p[18].width+"z"))&&E(s,"d",u),(!d||P[0]&131072)&&E(e,"width",p[17]),(!d||P[0]&65536)&&E(e,"height",p[16]),(!d||P[0]&62914560&&f!==(f=p[25]+" "+p[24]+" "+p[23]+" "+p[22]))&&E(e,"viewBox",f),a&&dt(a.update)&&P[0]&204476160&&a.update.call(null,{panZoom:p[26],viewport:p[29],getViewScale:p[40],translateExtent:p[27],width:p[21],height:p[20],inversePan:p[10],zoomStep:p[11],pannable:p[8],zoomable:p[9]}),P[0]&32&&Xe(e,"--xy-minimap-mask-background-color-props",p[5]),P[0]&64&&Xe(e,"--xy-minimap-mask-stroke-color-props",p[6]),P[0]&16512&&Xe(e,"--xy-minimap-mask-stroke-width-props",p[7]?p[7]*p[14]:void 0)},i(p){if(!d){for(let P=0;P<y.length;P+=1)Q(i[P]);d=!0}},o(p){for(let P=0;P<i.length;P+=1)te(i[P]);d=!1},d(p){p&&j(e),m&&m.d();for(let P=0;P<i.length;P+=1)i[P].d();h=!1,g()}}}function Vd(t){let e,n;return{c(){e=Ve("title"),n=ft(t[1]),E(e,"id",t[39])},m(i,l){$(i,e,l),he(e,n)},p(i,l){l[0]&2&&kn(n,i[1])},d(i){i&&j(e)}}}function Kd(t){var s;let e,n;const i=[{x:t[56].x},{y:t[56].y},t[57],{selected:t[53].selected},{color:(s=t[35])==null?void 0:s.call(t,t[53])},{borderRadius:t[2]},{strokeColor:t[36](t[53])},{strokeWidth:t[3]},{shapeRendering:t[38]},{class:t[37](t[53])}];let l={};for(let u=0;u<i.length;u+=1)l=Vt(l,i[u]);return e=new n7({props:l}),{c(){Se(e.$$.fragment)},m(u,f){we(e,u,f),n=!0},p(u,f){var d;const a=f[0]&524300|f[1]&240?si(i,[f[0]&524288&&{x:u[56].x},f[0]&524288&&{y:u[56].y},f[0]&524288&&hr(u[57]),f[0]&524288&&{selected:u[53].selected},f[0]&524288|f[1]&16&&{color:(d=u[35])==null?void 0:d.call(u,u[53])},f[0]&4&&{borderRadius:u[2]},f[0]&524288|f[1]&32&&{strokeColor:u[36](u[53])},f[0]&8&&{strokeWidth:u[3]},f[1]&128&&{shapeRendering:u[38]},f[0]&524288|f[1]&64&&{class:u[37](u[53])}]):{};e.$set(a)},i(u){n||(Q(e.$$.fragment,u),n=!0)},o(u){te(e.$$.fragment,u),n=!1},d(u){be(e,u)}}}function Ud(t,e){let n,i=oo(e[53]),l,s,u=i&&Kd(Tu(e));return{key:t,first:null,c(){n=yt(),u&&u.c(),l=yt(),this.first=n},m(f,a){$(f,n,a),u&&u.m(f,a),$(f,l,a),s=!0},p(f,a){e=f,a[0]&524288&&(i=oo(e[53])),i?u?(u.p(Tu(e),a),a[0]&524288&&Q(u,1)):(u=Kd(Tu(e)),u.c(),Q(u,1),u.m(l.parentNode,l)):u&&(mt(),te(u,1,1,()=>{u=null}),_t())},i(f){s||(Q(u),s=!0)},o(f){te(u),s=!1},d(f){f&&(j(n),j(l)),u&&u.d(f)}}}function r7(t){let e,n,i=t[26]&&Fd(t);return{c(){i&&i.c(),e=yt()},m(l,s){i&&i.m(l,s),$(l,e,s),n=!0},p(l,s){l[26]?i?(i.p(l,s),s[0]&67108864&&Q(i,1)):(i=Fd(l),i.c(),Q(i,1),i.m(e.parentNode,e)):i&&(mt(),te(i,1,1,()=>{i=null}),_t())},i(l){n||(Q(i),n=!0)},o(l){te(i),n=!1},d(l){l&&j(e),i&&i.d(l)}}}function o7(t){let e,n;return e=new vr({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:tt(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[r7]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,l){const s={};l[0]&1&&(s.position=i[0]),l[0]&4112&&(s.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),l[0]&8192&&(s.class=tt(["svelte-flow__minimap",i[13]])),l[0]&268423150|l[1]&134217728&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}const Iu=t=>t instanceof Function?t:()=>t,l7=200,s7=150;function u7(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,v,p,P,w,N,C,A,T,O,H,{position:L="bottom-right"}=e,{ariaLabel:B="Mini map"}=e,{nodeStrokeColor:x="transparent"}=e,{nodeColor:I=void 0}=e,{nodeClass:X=""}=e,{nodeBorderRadius:D=5}=e,{nodeStrokeWidth:M=2}=e,{bgColor:V=void 0}=e,{maskColor:Y=void 0}=e,{maskStrokeColor:G=void 0}=e,{maskStrokeWidth:q=void 0}=e,{width:ee=void 0}=e,{height:fe=void 0}=e,{pannable:se=!0}=e,{zoomable:J=!0}=e,{inversePan:ve=void 0}=e,{zoomStep:Ae=void 0}=e,{style:ke=""}=e,{class:R=""}=e;const{nodes:ge,viewport:ye,width:ie,height:le,flowId:Fe,panZoom:Ie,translateExtent:Re}=at();de(t,ge,Ce=>n(19,w=Ce)),de(t,ye,Ce=>n(51,N=Ce)),de(t,ie,Ce=>n(21,A=Ce)),de(t,le,Ce=>n(20,C=Ce)),de(t,Fe,Ce=>n(52,T=Ce)),de(t,Ie,Ce=>n(26,O=Ce)),de(t,Re,Ce=>n(27,H=Ce));const je=I===void 0?void 0:Iu(I),nt=Iu(x),En=Iu(X),Et=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",tn=`svelte-flow__minimap-desc-${T}`,cn=()=>d;return t.$$set=Ce=>{"position"in Ce&&n(0,L=Ce.position),"ariaLabel"in Ce&&n(1,B=Ce.ariaLabel),"nodeStrokeColor"in Ce&&n(41,x=Ce.nodeStrokeColor),"nodeColor"in Ce&&n(42,I=Ce.nodeColor),"nodeClass"in Ce&&n(43,X=Ce.nodeClass),"nodeBorderRadius"in Ce&&n(2,D=Ce.nodeBorderRadius),"nodeStrokeWidth"in Ce&&n(3,M=Ce.nodeStrokeWidth),"bgColor"in Ce&&n(4,V=Ce.bgColor),"maskColor"in Ce&&n(5,Y=Ce.maskColor),"maskStrokeColor"in Ce&&n(6,G=Ce.maskStrokeColor),"maskStrokeWidth"in Ce&&n(7,q=Ce.maskStrokeWidth),"width"in Ce&&n(44,ee=Ce.width),"height"in Ce&&n(45,fe=Ce.height),"pannable"in Ce&&n(8,se=Ce.pannable),"zoomable"in Ce&&n(9,J=Ce.zoomable),"inversePan"in Ce&&n(10,ve=Ce.inversePan),"zoomStep"in Ce&&n(11,Ae=Ce.zoomStep),"style"in Ce&&n(12,ke=Ce.style),"class"in Ce&&n(13,R=Ce.class)},t.$$.update=()=>{t.$$.dirty[0]&3145728|t.$$.dirty[1]&1048576&&n(18,i={x:-N.x/N.zoom,y:-N.y/N.zoom,width:A/N.zoom,height:C/N.zoom}),t.$$.dirty[0]&786432&&n(48,l=w.length>0?Kp(co(w),i):i),t.$$.dirty[1]&8192&&n(17,s=ee??l7),t.$$.dirty[1]&16384&&n(16,u=fe??s7),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(50,f=l.width/s),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(49,a=l.height/u),t.$$.dirty[1]&786432&&n(14,d=Math.max(f,a)),t.$$.dirty[0]&147456&&n(47,h=d*s),t.$$.dirty[0]&81920&&n(46,g=d*u),t.$$.dirty[0]&16384&&n(15,m=5*d),t.$$.dirty[0]&32768|t.$$.dirty[1]&196608&&n(25,y=l.x-(h-l.width)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&163840&&n(24,v=l.y-(g-l.height)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&65536&&n(23,p=h+m*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&32768&&n(22,P=g+m*2)},[L,B,D,M,V,Y,G,q,se,J,ve,Ae,ke,R,d,m,u,s,i,w,C,A,P,p,v,y,O,H,ge,ye,ie,le,Fe,Ie,Re,je,nt,En,Et,tn,cn,x,I,X,ee,fe,g,h,l,a,f,N]}class f7 extends He{constructor(e){super(),Ne(this,e,u7,o7,ze,{position:0,ariaLabel:1,nodeStrokeColor:41,nodeColor:42,nodeClass:43,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:44,height:45,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function a7(t){let e,n,i;const l=t[33].default,s=Bt(l,t,t[32],null);return{c(){e=pe("div"),s&&s.c(),E(e,"class",n=tt(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),E(e,"style",t[3])},m(u,f){$(u,e,f),s&&s.m(e,null),t[34](e),i=!0},p(u,f){s&&s.p&&(!i||f[1]&2)&&Yt(s,l,u,u[32],i?Xt(l,u[32],f,null):Ft(u[32]),null),(!i||f[0]&19&&n!==(n=tt(["svelte-flow__resize-control","nodrag",...u[4],u[0],u[1]])))&&E(e,"class",n),(!i||f[0]&8)&&E(e,"style",u[3])},i(u){i||(Q(s,u),i=!0)},o(u){te(s,u),i=!1},d(u){u&&j(e),s&&s.d(u),t[34](null)}}}function c7(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,v,p,P,w,N,{$$slots:C={},$$scope:A}=e,{nodeId:T=void 0}=e,{position:O=void 0}=e,{variant:H=Jr.Handle}=e,{color:L=void 0}=e,{minWidth:B=10}=e,{minHeight:x=10}=e,{maxWidth:I=Number.MAX_VALUE}=e,{maxHeight:X=Number.MAX_VALUE}=e,{keepAspectRatio:D=!1}=e,{shouldResize:M=void 0}=e,{onResizeStart:V=void 0}=e,{onResize:Y=void 0}=e,{onResizeEnd:G=void 0}=e,{style:q=""}=e,{class:ee=""}=e;const{nodeLookup:fe,snapGrid:se,viewport:J,nodes:ve,nodeOrigin:Ae}=at();de(t,fe,ie=>n(37,p=ie)),de(t,se,ie=>n(39,w=ie)),de(t,J,ie=>n(40,N=ie)),de(t,ve,ie=>n(36,v=ie)),de(t,Ae,ie=>n(38,P=ie));const ke=$r("svelteflow__node_id");let R,ge=null;so(()=>(R&&n(23,ge=H5({domNode:R,nodeId:f,getStoreItems:()=>({nodeLookup:p,transform:[N.x,N.y,N.zoom],snapGrid:w??void 0,snapToGrid:!!w,nodeOrigin:P}),onChange:(ie,le)=>{const Fe=p.get(f);if(Fe){Fe.height=ie.isHeightChange?ie.height:Fe.height,Fe.width=ie.isWidthChange?ie.width:Fe.width,Fe.position=ie.isXPosChange||ie.isYPosChange?{x:ie.x,y:ie.y}:Fe.position;for(const Ie of le){const Re=p.get(Ie.id);Re&&(Re.position=Ie.position)}ve.set(v)}}})),()=>{ge==null||ge.destroy()}));function ye(ie){Cn[ie?"unshift":"push"](()=>{R=ie,n(2,R)})}return t.$$set=ie=>{"nodeId"in ie&&n(10,T=ie.nodeId),"position"in ie&&n(11,O=ie.position),"variant"in ie&&n(0,H=ie.variant),"color"in ie&&n(12,L=ie.color),"minWidth"in ie&&n(13,B=ie.minWidth),"minHeight"in ie&&n(14,x=ie.minHeight),"maxWidth"in ie&&n(15,I=ie.maxWidth),"maxHeight"in ie&&n(16,X=ie.maxHeight),"keepAspectRatio"in ie&&n(17,D=ie.keepAspectRatio),"shouldResize"in ie&&n(18,M=ie.shouldResize),"onResizeStart"in ie&&n(19,V=ie.onResizeStart),"onResize"in ie&&n(20,Y=ie.onResize),"onResizeEnd"in ie&&n(21,G=ie.onResizeEnd),"style"in ie&&n(22,q=ie.style),"class"in ie&&n(1,ee=ie.class),"$$scope"in ie&&n(32,A=ie.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&n(27,i=B??10),t.$$.dirty[0]&16384&&n(26,l=x??10),t.$$.dirty[0]&32768&&n(25,s=I??Number.MAX_VALUE),t.$$.dirty[0]&65536&&n(24,u=X??Number.MAX_VALUE),t.$$.dirty[0]&1024&&(f=typeof T=="string"?T:ke),t.$$.dirty[0]&1&&n(31,a=H===Jr.Line?"right":"bottom-right"),t.$$.dirty[0]&2048|t.$$.dirty[1]&1&&n(28,d=O??a),t.$$.dirty[0]&268435456&&n(4,h=d.split("-")),t.$$.dirty[0]&1&&n(30,g=H===Jr.Line?"border-color":"background-color"),t.$$.dirty[0]&4194304&&n(29,m=q??""),t.$$.dirty[0]&1610616832&&n(3,y=L?`${m} ${g}: ${L};`:m),t.$$.dirty[0]&532545536&&(ge==null||ge.update({controlPosition:d,boundaries:{minWidth:i,minHeight:l,maxWidth:s,maxHeight:u},keepAspectRatio:!!D,onResizeStart:V,onResize:Y,onResizeEnd:G,shouldResize:M}))},[H,ee,R,y,h,fe,se,J,ve,Ae,T,O,L,B,x,I,X,D,M,V,Y,G,q,ge,u,s,l,i,d,m,g,a,A,C,ye]}class d7 extends He{constructor(e){super(),Ne(this,e,c7,a7,ze,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}const xd=t=>Bp(t),p1=()=>Dl();function h7(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:l,viewport:s,width:u,height:f,minZoom:a,maxZoom:d,panZoom:h,nodes:g,edges:m,domNode:y,nodeLookup:v,edgeLookup:p}=at(),P=N=>{const C=xd(N)&&oo(N)?N:ue(v).get(N.id);return C?Ku(C):null},w=(N,C,A={replace:!1})=>{g.update(T=>T.map(O=>{if(O.id===N){const H=typeof C=="function"?C(O):C;return A.replace&&xd(H)?H:{...O,...H}}return O}))};return{zoomIn:t,zoomOut:e,getNode:N=>ue(v).get(N),getNodes:N=>N===void 0?ue(g):qd(ue(v),N),getEdge:N=>ue(p).get(N),getEdges:N=>N===void 0?ue(m):qd(ue(p),N),setZoom:(N,C)=>{var A;(A=ue(h))==null||A.scaleTo(N,{duration:C==null?void 0:C.duration})},getZoom:()=>ue(s).zoom,setViewport:(N,C)=>{var T;const A=ue(s);(T=ue(h))==null||T.setViewport({x:N.x??A.x,y:N.y??A.y,zoom:N.zoom??A.zoom},{duration:C==null?void 0:C.duration})},getViewport:()=>ue(s),setCenter:(N,C,A)=>{var O;const T=typeof(A==null?void 0:A.zoom)<"u"?A.zoom:ue(d);(O=ue(h))==null||O.setViewport({x:ue(u)/2-N*T,y:ue(f)/2-C*T,zoom:T},{duration:A==null?void 0:A.duration})},fitView:n,fitBounds:(N,C)=>{var T;const A=lf(N,ue(u),ue(f),ue(a),ue(d),(C==null?void 0:C.padding)??.1);(T=ue(h))==null||T.setViewport(A,{duration:C==null?void 0:C.duration})},getIntersectingNodes:(N,C=!0,A)=>{const T=nd(N),O=T?N:P(N);return O?(A||ue(g)).filter(H=>{var I;if(!T&&(H.id===N.id||!((I=H.computed)!=null&&I.positionAbsolute)))return!1;const L=Ku(H),B=Nl(L,O);return C&&B>0||B>=O.width*O.height}):[]},isNodeIntersecting:(N,C,A=!0)=>{const O=nd(N)?N:P(N);if(!O)return!1;const H=Nl(O,C);return A&&H>0||H>=O.width*O.height},deleteElements:async({nodes:N=[],edges:C=[]})=>{const{nodes:A,edges:T}=await qh({nodesToRemove:N,edgesToRemove:C,nodes:ue(g),edges:ue(m),onBeforeDelete:ue(i)});return A&&g.update(O=>O.filter(H=>!A.some(({id:L})=>L===H.id))),T&&m.update(O=>O.filter(H=>!T.some(({id:L})=>L===H.id))),{deletedNodes:A,deletedEdges:T}},screenToFlowPosition:(N,C={snapToGrid:!0})=>{const A=ue(y);if(!A)return N;const T=C.snapToGrid?ue(l):!1,{x:O,y:H,zoom:L}=ue(s),{x:B,y:x}=A.getBoundingClientRect(),I={x:N.x-B,y:N.y-x};return Vl(I,[O,H,L],T!==null,T||[1,1])},flowToScreenPosition:N=>{const C=ue(y);if(!C)return N;const{x:A,y:T,zoom:O}=ue(s),{x:H,y:L}=C.getBoundingClientRect(),B=Zh(N,[A,T,O]);return{x:B.x+H,y:B.y+L}},toObject:()=>({nodes:ue(g).map(N=>({...N,position:{...N.position},data:{...N.data}})),edges:ue(m).map(N=>({...N})),viewport:{...ue(s)}}),updateNode:w,updateNodeData:(N,C,A)=>{w(N,T=>{const O=typeof C=="function"?C(T):C;return A!=null&&A.replace?{...T,data:O}:{...T,data:{...T.data,...O}}})},viewport:s}}function qd(t,e){const n=[];for(const i of e){const l=t.get(i);l&&n.push(l)}return n}function g7(){const{domNode:t,updateNodeDimensions:e}=at();return i=>{const l=Array.isArray(i)?i:[i],s=new Map;l.forEach(u=>{var a;const f=(a=ue(t))==null?void 0:a.querySelector(`.svelte-flow__node[data-id="${u}"]`);f&&s.set(u,{id:u,nodeElement:f,forceUpdate:!0})}),requestAnimationFrame(()=>e(s))}}function m7(){const{connection:t}=at();return t}function _7(){const{nodes:t}=at();return t}function S1(){const{edges:t}=at();return t}var Ou={local:{},session:{}};function y7(t){return t==="local"?localStorage:sessionStorage}function sf(t,e,n){var i,l,s,u;const f=(i=n==null?void 0:n.serializer)!=null?i:JSON,a=(l=n==null?void 0:n.storage)!=null?l:"local",d=(s=n==null?void 0:n.syncTabs)!=null?s:!0,h=(u=n==null?void 0:n.onError)!=null?u:p=>console.error(`Error when writing value from persisted store "${t}" to ${a}`,p),g=typeof window<"u"&&typeof document<"u",m=g?y7(a):null;function y(p,P){try{m==null||m.setItem(p,f.stringify(P))}catch(w){h(w)}}function v(){const p=m==null?void 0:m.getItem(t);return p?f.parse(p):e}if(!Ou[a][t]){const p=v(),P=Oe(p,C=>{if(g&&a=="local"&&d){const A=T=>{T.key===t&&C(T.newValue?f.parse(T.newValue):null)};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)}}),{subscribe:w,set:N}=P;Ou[a][t]={set(C){N(C),y(t,C)},update(C){return P.update(A=>{const T=C(A);return y(t,T),T})},subscribe:w}}return Ou[a][t]}const On=[{id:crypto.randomUUID().toString(),type:"default",data:{label:"Patch",connection:"",inputs:[],outputs:["ethernet","sdi","audio","power"],group:!1},position:{x:0,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Canvas",inputs:["dante","dmx","ethernet","sdi","audio","midi","osc","power"],outputs:["dante","dmx","ethernet","sdi","audio","midi","osc"]},dragHandle:".drag-dots",position:{x:0,y:100}}],xu=[{id:crypto.randomUUID().toString(),type:"connection",class:"",source:On[0].id,sourceHandle:"ethernet",target:On[1].id,targetHandle:"ethernet"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:On[0].id,sourceHandle:"sdi",target:On[1].id,targetHandle:"sdi"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:On[0].id,sourceHandle:"audio",target:On[1].id,targetHandle:"audio"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:On[0].id,sourceHandle:"power",target:On[1].id,targetHandle:"power"}],w7=1,pl=1,b7={version:w7,theme:"dark"},Nu=sf("preferences",b7),k1={version:pl,uniqueFlow:[{}],title:"PatchCanvas",nodes:On,edges:xu},Sn=sf("current",k1),v7=[],p7=sf("saves",v7);function S7(t){let e,n,i,l,s,u,f,a;return{c(){e=pe("p"),e.textContent="Drag to the canvas!",n=Me(),i=pe("div"),l=pe("div"),l.textContent="node",s=Me(),u=pe("div"),u.textContent="group",E(e,"class","svelte-6g6phf"),E(l,"draggable",!0),E(l,"class","svelte-6g6phf"),E(u,"draggable",!0),E(u,"class","svelte-6g6phf"),E(i,"class","nodes svelte-6g6phf")},m(d,h){$(d,e,h),$(d,n,h),$(d,i,h),he(i,l),he(i,s),he(i,u),f||(a=[Le(l,"dragstart",t[1]),Le(u,"dragstart",t[2])],f=!0)},p:Te,i:Te,o:Te,d(d){d&&(j(e),j(n),j(i)),f=!1,bt(a)}}}function k7(t){const e=(l,s)=>{if(!l.dataTransfer)return null;l.dataTransfer.setData("application/patchcanvasnode",s),l.dataTransfer.effectAllowed="move"};return[e,l=>e(l,JSON.stringify({inputs:[],outputs:[]})),l=>e(l,JSON.stringify({group:!0}))]}class C7 extends He{constructor(e){super(),Ne(this,e,k7,S7,ze,{})}}const E7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-audio-input-xlr"
	viewBox="0 -5 24 34"
	fill="currentColor"
	><path
		d="M12 4C16.41 4 20 7.59 20 12S16.41 20 12 20 4 16.41 4 12 7.59 4 12 4M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M13.5 16.5C13.5 15.67 12.83 15 12 15S10.5 15.67 10.5 16.5C10.5 17.33 11.17 18 12 18S13.5 17.33 13.5 16.5M9 12C9 11.17 8.33 10.5 7.5 10.5S6 11.17 6 12 6.67 13.5 7.5 13.5 9 12.83 9 12M18 12C18 11.17 17.33 10.5 16.5 10.5C15.67 10.5 15 11.17 15 12S15.67 13.5 16.5 13.5C17.33 13.5 18 12.83 18 12Z"
	/></svg
>
`,A7=`<svg
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	viewBox="350 -15 800 600"
	preserveAspectRatio="xMidYMid meet"
>
	<g
		transform="translate(0,576) scale(0.1,-0.1)"
		fill="currentColor"
		stroke="none"
	>
		<path
			d="M7125 4624 c-16 -2 -73 -9 -125 -15 -675 -76 -1339 -406 -1816 -902
-532 -551 -804 -1238 -804 -2029 l0 -78 214 0 213 0 6 203 c10 340 66 595 197
898 183 423 517 812 925 1079 141 92 417 228 570 280 295 101 591 150 908 150
l127 0 0 210 0 210 -192 -1 c-106 -1 -206 -4 -223 -5z"
		/>
		<path
			d="M7260 3773 c-786 -55 -1456 -474 -1795 -1125 -145 -279 -211 -536
-222 -870 l-6 -178 861 0 862 0 0 225 0 225 -631 0 -632 0 7 40 c12 73 67 233
116 335 189 392 539 697 976 848 92 32 272 77 309 77 13 0 15 -99 15 -875 l0
-875 210 0 210 0 0 1090 0 1090 -117 -2 c-65 -1 -138 -3 -163 -5z"
		/>
		<path
			d="M4380 1130 l0 -130 215 0 215 0 0 130 0 130 -215 0 -215 0 0 -130z"
		/>
		<path
			d="M5240 1130 l0 -130 1155 0 1155 0 0 130 0 130 -1155 0 -1155 0 0
-130z"
		/>
	</g>
</svg>
`,M7=`<svg fill="currentColor" viewBox="-2 -5 24 34" xmlns="http://www.w3.org/2000/svg"
	><title>lightbulb</title><path
		d="M12,2A7,7,0,0,0,8,14.74V17a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V14.74A7,7,0,0,0,12,2ZM9,21a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V20H9Z"
	/></svg
>
`,P7=`<svg
	viewBox="1 -3 24 28"
	id="Layer_1"
	data-name="Layer 1"
	xmlns="http://www.w3.org/2000/svg"
	><defs
		><style>
			.cls-1 {
				fill: none;
				stroke: currentColor;
				stroke-miterlimit: 10;
				stroke-width: 1.91px;
			}
		</style></defs
	><polygon
		class="cls-1"
		points="5.32 6.27 5.32 13.91 7.23 13.91 7.23 15.82 10.09 15.82 10.09 17.73 13.91 17.73 13.91 15.82 16.77 15.82 16.77 13.91 18.68 13.91 18.68 6.27 5.32 6.27"
	/><line class="cls-1" x1="8.18" y1="9.14" x2="8.18" y2="6.27" /><line
		class="cls-1"
		x1="12"
		y1="9.14"
		x2="12"
		y2="6.27"
	/><line class="cls-1" x1="15.82" y1="9.14" x2="15.82" y2="6.27" /></svg
>
`,T7=`<svg
	viewBox="0 -5 24 34"
	xmlns="http://www.w3.org/2000/svg"
	fill="currentColor"
	><path
		d="m12 2a10 10 0 0 1 10 10 10 10 0 0 1 -10 10 10 10 0 0 1 -10-10 10 10 0 0 1 10-10m8.18 10c0-3.82-2.63-7.04-6.18-7.93v1.93h-4v-1.93c-3.55.89-6.18 4.11-6.18 7.93a8.18 8.18 0 0 0 8.18 8.18 8.18 8.18 0 0 0 8.18-8.18m-13.18-1.36a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36c-.75 0-1.36-.61-1.36-1.36s.61-1.36 1.36-1.36m10 0a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36m-8.64 3.63a1.37 1.37 0 0 1 1.37 1.37c0 .75-.61 1.36-1.37 1.36a1.36 1.36 0 0 1 -1.36-1.36c0-.76.61-1.37 1.36-1.37m7.28 0c.75 0 1.36.61 1.36 1.37a1.36 1.36 0 0 1 -1.36 1.36c-.76 0-1.37-.61-1.37-1.36a1.37 1.37 0 0 1 1.37-1.37m-3.64 1.37a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36z"
	/></svg
>
`,I7=`<svg
  viewBox="-25 -128 512 750"
  xmlns="http://www.w3.org/2000/svg"
  fill="currentColor"
>
  <polygon
    points="385.128 118.178 359.868 137.822 451.732 255.944 359.813 374.18 385.076 393.82 492.268 255.94 385.128 118.178"
  />
  <polygon
    points="119.814 118.177 12.621 255.993 119.759 393.819 145.022 374.181 53.156 255.999 145.074 137.823 119.814 118.177"
  />
  <rect
    width="32"
    height="32"
    x="160"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="240"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="320"
    y="240"
  />
</svg>
`,O7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-power-plug-outline"
	viewBox="1 -4 24 30"
	fill="currentColor"
	><path
		d="M16 7V3H14V7H10V3H8V7C7 7 6 8 6 9V14.5L9.5 18V21H14.5V18L18 14.5V9C18 8 17 7 16 7M16 13.67L13.09 16.59L12.67 17H11.33L10.92 16.59L8 13.67V9.09C8 9.06 8.06 9 8.09 9H15.92C15.95 9 16 9.06 16 9.09V13.67Z"
	/></svg
>
`,N7=`<svg viewBox="-6 -16 54 80" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\r
  <title>output</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none" />\r
    </g>\r
    <g id="Layer_6" data-name="Layer 6">\r
      <g>\r
        <path\r
          d="M45.4,22.6l-7.9-8a2.1,2.1,0,0,0-2.7-.2,1.9,1.9,0,0,0-.2,3L39.2,22H16a2,2,0,0,0,0,4H39.2l-4.6,4.6a1.9,1.9,0,0,0,.2,3,2.1,2.1,0,0,0,2.7-.2l7.9-8A1.9,1.9,0,0,0,45.4,22.6Z"\r
        />\r
        <path\r
          d="M28,42H24A18,18,0,0,1,24,6h4a2,2,0,0,0,1.4-.6A2,2,0,0,0,30,4a2.4,2.4,0,0,0-.2-.9A2,2,0,0,0,28,2H23.8a22,22,0,0,0,.1,44H28a2,2,0,0,0,1.4-.6l.4-.5A2.4,2.4,0,0,0,30,44,2,2,0,0,0,28,42Z"\r
        />\r
      </g>\r
    </g>\r
  </g>\r
</svg>\r
`,Gd=["dante","dmx","sdi","ethernet","audio","midi","osc","power"],en={dante:["red",1,A7],dmx:["dodgerblue",2,M7],sdi:["limegreen",3,N7],ethernet:["gold",4,P7],audio:["orange",5,E7],midi:["hotpink",6,T7],osc:["magenta",7,I7],power:["var(--font-colour)",8,O7]},zl=Object.entries(en);function H7(t,e){let n=Gd.indexOf(t),i=Gd.indexOf(e);return Math.sign(n-i)}const z7='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 103.38" fill="currentColor" style="enable-background:new 0 0 122.88 103.38" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"/></g></svg>';function Zd(t,e,n){const i=t.slice();return i[16]=e[n][0],i[17]=e[n][1],i}function Jd(t){let e,n,i=t[17][2]+"",l,s,u,f,a;function d(){return t[9](t[16])}function h(){return t[10](t[16])}function g(...m){return t[11](t[16],...m)}return{c(){e=pe("div"),n=pe("div"),l=Me(),s=ft(t[16]),u=Me(),E(n,"class","icon"),E(e,"class","protocol svelte-16ekx3j"),Xe(e,"--protocol",t[17][0]),E(e,"draggable",!0)},m(m,y){$(m,e,y),he(e,n),n.innerHTML=i,he(e,l),he(e,s),he(e,u),f||(a=[Le(e,"mouseenter",d),Le(e,"mouseleave",h),Le(e,"dragstart",g),Le(e,"dragend",t[8])],f=!0)},p(m,y){t=m},d(m){m&&j(e),f=!1,bt(a)}}}function L7(t){let e,n,i,l,s,u,f,a,d,h=Ct(zl),g=[];for(let m=0;m<h.length;m+=1)g[m]=Jd(Zd(t,h,m));return{c(){e=pe("p"),e.textContent="Protocols",n=Me(),i=pe("div");for(let m=0;m<g.length;m+=1)g[m].c();l=Me(),s=pe("div"),u=new jw(!1),f=ft(" erase"),E(e,"class","svelte-16ekx3j"),E(i,"class","protocols svelte-16ekx3j"),u.a=f,E(s,"class","eraser svelte-16ekx3j"),E(s,"draggable",!0)},m(m,y){$(m,e,y),$(m,n,y),$(m,i,y);for(let v=0;v<g.length;v+=1)g[v]&&g[v].m(i,null);$(m,l,y),$(m,s,y),u.m(z7,s),he(s,f),t[12](s),a||(d=[Le(s,"mouseenter",t[2]),Le(s,"mouseleave",t[3]),Le(s,"dragstart",t[13]),Le(s,"dragend",t[8])],a=!0)},p(m,[y]){if(y&368){h=Ct(zl);let v;for(v=0;v<h.length;v+=1){const p=Zd(m,h,v);g[v]?g[v].p(p,y):(g[v]=Jd(p),g[v].c(),g[v].m(i,null))}for(;v<g.length;v+=1)g[v].d(1);g.length=h.length}},i:Te,o:Te,d(m){m&&(j(e),j(n),j(i),j(l),j(s)),xw(g,m),t[12](null),a=!1,bt(d)}}}function R7(t,e,n){let i;const l=S1();de(t,l,C=>n(15,i=C));function s(){for(let C of i)C.class+="fade-out";l.set(i);for(let C of document.querySelectorAll(".svelte-flow__node .label"))C.classList.add("fade-out");for(let C of document.querySelectorAll(".svelte-flow__handle"))C.classList.add("highlight")}function u(){var C;for(let A of i)A.class=(C=A.class)==null?void 0:C.replace("fade-out","");l.set(i);for(let A of document.querySelectorAll(".svelte-flow__node .label"))A.classList.remove("fade-out");for(let A of document.querySelectorAll(".svelte-flow__handle"))A.classList.remove("highlight")}function f(C){for(let A of i)A.sourceHandle===C?A.class+="highlight":A.class+="fade-out";l.set(i);for(let A of document.querySelectorAll(".svelte-flow__handle"))A.getAttribute("data-handleid")===C?A.classList.add("highlight"):A.classList.add("fade-out")}function a(C){var A,T;C=C;for(let O of i)O.sourceHandle===C?O.class=(A=O.class)==null?void 0:A.replace("highlight",""):O.class=(T=O.class)==null?void 0:T.replace("fade-out","");l.set(i);for(let O of document.querySelectorAll(".svelte-flow__handle"))O.getAttribute("data-handleid")===C?O.classList.remove("highlight"):O.classList.remove("fade-out")}let d;const h=(C,A)=>{if(!C.dataTransfer)return null;C.dataTransfer.setData(`patchcanvasprotocol/${A}`,""),C.dataTransfer.effectAllowed="move",d=C.target.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",d.style.setProperty("--connection",en[A][0]),document.body.appendChild(d),C.dataTransfer.setDragImage(d,-16,0)};let g;const m=C=>{if(!C.dataTransfer)return null;C.dataTransfer.setData("application/patchcanvaseraser",""),C.dataTransfer.effectAllowed="move",d=g.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",document.body.appendChild(d),C.dataTransfer.setDragImage(d,-16,0)},y=()=>{d.remove()},v=C=>f(C),p=C=>a(C),P=(C,A)=>h(A,C);function w(C){Cn[C?"unshift":"push"](()=>{g=C,n(0,g)})}return[g,l,s,u,f,a,h,m,y,v,p,P,w,C=>m(C)]}class D7 extends He{constructor(e){super(),Ne(this,e,R7,L7,ze,{})}}function W7(t){let e,n,i=t[1].title+"",l,s,u,f,a,d,h,g,m,y;return{c(){e=pe("div"),n=pe("h1"),l=ft(i),s=Me(),u=pe("button"),u.textContent="Rename",f=Me(),a=pe("div"),d=pe("button"),d.textContent="Canvases",h=Me(),g=pe("button"),g.textContent="Save",E(e,"class","title svelte-1hifbg3"),E(a,"class","buttons svelte-1hifbg3")},m(v,p){$(v,e,p),he(e,n),he(n,l),he(e,s),he(e,u),$(v,f,p),$(v,a,p),he(a,d),he(a,h),he(a,g),m||(y=[Le(u,"click",t[2]),Le(d,"click",t[3])],m=!0)},p(v,[p]){p&2&&i!==(i=v[1].title+"")&&kn(l,i)},i:Te,o:Te,d(v){v&&(j(e),j(f),j(a)),m=!1,bt(y)}}}function B7(t,e,n){let i;de(t,Sn,f=>n(1,i=f));let{showCanvases:l}=e;function s(){let f=prompt(void 0,i.title);f!==null&&zn(Sn,i.title=f,i)}const u=()=>n(0,l=!l);return t.$$set=f=>{"showCanvases"in f&&n(0,l=f.showCanvases)},[l,i,s,u]}class X7 extends He{constructor(e){super(),Ne(this,e,B7,W7,ze,{showCanvases:0})}}var Kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xl={};Object.defineProperty(xl,"__esModule",{value:!0});function C1(t,e){var n=document.createElement("a");n.href=e,n.download=t,n.click()}xl.downloadUrl=C1;function E1(t,e){var n=URL.createObjectURL(e);C1(t,n),URL.revokeObjectURL(n)}xl.downloadBlob=E1;function F7(t,e){E1(t,new Blob([e],{type:"octet/stream"}))}var V7=xl.downloadText=F7;function Qd(t,e,n){const i=t.slice();return i[9]=e[n],i}function jd(t){let e;return{c(){e=pe("p"),e.textContent="No canvases currently stored on this browser",E(e,"class","svelte-1pwcuxb")},m(n,i){$(n,e,i)},d(n){n&&j(e)}}}function $d(t,e){let n,i=e[9]+"",l,s;return{key:t,first:null,c(){n=pe("div"),l=ft(i),s=Me(),E(n,"class","save svelte-1pwcuxb"),this.first=n},m(u,f){$(u,n,f),he(n,l),he(n,s)},p(u,f){e=u,f&8&&i!==(i=e[9]+"")&&kn(l,i)},d(u){u&&j(n)}}}function K7(t){let e,n,i,l,s,u,f,a,d,h,g,m,y,v,p,P,w,N,C,A=t[2].title+"",T,O,H,L,B=t[2].version+"",x,I,X,D,M=t[2].nodes.length+"",V,Y,G=t[2].edges.length+"",q,ee,fe,se,J,ve,Ae,ke=[],R=new Map,ge,ye,ie=t[3].length===0&&jd(),le=Ct(t[3]);const Fe=Ie=>Ie[9];for(let Ie=0;Ie<le.length;Ie+=1){let Re=Qd(t,le,Ie),je=Fe(Re);R.set(je,ke[Ie]=$d(je,Re))}return{c(){e=pe("h1"),e.textContent="Canvases",n=Me(),i=pe("div"),l=pe("button"),l.textContent="Back",s=Me(),u=pe("button"),u.textContent="New",f=Me(),a=pe("button"),d=ft(`Import
		`),h=pe("input"),g=Me(),m=pe("button"),m.textContent="Export",y=Me(),v=pe("div"),p=pe("h2"),p.textContent="Loaded",P=Me(),w=pe("div"),N=pe("div"),C=pe("span"),T=ft(A),O=ft(" "),H=pe("span"),L=ft("(v"),x=ft(B),I=ft(")"),X=Me(),D=pe("div"),V=ft(M),Y=ft(" nodes, "),q=ft(G),ee=ft(" patches"),fe=Me(),se=pe("div"),J=pe("h2"),J.textContent="Stored",ve=Me(),ie&&ie.c(),Ae=Me();for(let Ie=0;Ie<ke.length;Ie+=1)ke[Ie].c();E(e,"class","svelte-1pwcuxb"),E(h,"type","file"),E(h,"accept",".patch"),E(i,"class","buttons svelte-1pwcuxb"),E(p,"class","svelte-1pwcuxb"),E(C,"class","name"),E(H,"class","version"),E(N,"class","title"),E(D,"class","contents"),E(w,"class","save svelte-1pwcuxb"),E(v,"class","current svelte-1pwcuxb"),E(J,"class","svelte-1pwcuxb"),E(se,"class","saves svelte-1pwcuxb")},m(Ie,Re){$(Ie,e,Re),$(Ie,n,Re),$(Ie,i,Re),he(i,l),he(i,s),he(i,u),he(i,f),he(i,a),he(a,d),he(a,h),he(i,g),he(i,m),$(Ie,y,Re),$(Ie,v,Re),he(v,p),he(v,P),he(v,w),he(w,N),he(N,C),he(C,T),he(N,O),he(N,H),he(H,L),he(H,x),he(H,I),he(w,X),he(w,D),he(D,V),he(D,Y),he(D,q),he(D,ee),$(Ie,fe,Re),$(Ie,se,Re),he(se,J),he(se,ve),ie&&ie.m(se,null),he(se,Ae);for(let je=0;je<ke.length;je+=1)ke[je]&&ke[je].m(se,null);ge||(ye=[Le(l,"click",t[7]),Le(u,"click",A1),Le(h,"change",t[8]),Le(h,"change",t[4]),Le(m,"click",t[5])],ge=!0)},p(Ie,[Re]){Re&4&&A!==(A=Ie[2].title+"")&&kn(T,A),Re&4&&B!==(B=Ie[2].version+"")&&kn(x,B),Re&4&&M!==(M=Ie[2].nodes.length+"")&&kn(V,M),Re&4&&G!==(G=Ie[2].edges.length+"")&&kn(q,G),Ie[3].length===0?ie||(ie=jd(),ie.c(),ie.m(se,Ae)):ie&&(ie.d(1),ie=null),Re&8&&(le=Ct(Ie[3]),ke=Ei(ke,Re,Fe,1,Ie,le,R,se,rb,$d,null,Qd))},i:Te,o:Te,d(Ie){Ie&&(j(e),j(n),j(i),j(y),j(v),j(fe),j(se)),ie&&ie.d();for(let Re=0;Re<ke.length;Re+=1)ke[Re].d();ge=!1,bt(ye)}}}function U7(t,e,n){let i,l;de(t,Sn,m=>n(2,i=m)),de(t,p7,m=>n(3,l=m));let{showCanvases:s}=e,u;function f(){if(!u[0])return;let m=new FileReader;m.readAsText(u[0]),m.onload=y=>{var p;let v=JSON.parse((p=y.target)==null?void 0:p.result);a(v)}}function a(m){zn(Sn,i=m,i),zn(Sn,i.uniqueFlow=[{}],i)}function d(){let m=JSON.stringify(ue(Sn));V7(i.title+".patch",m)}const h=()=>n(0,s=!s);function g(){u=this.files,n(1,u)}return t.$$set=m=>{"showCanvases"in m&&n(0,s=m.showCanvases)},[s,u,i,l,f,d,a,h,g]}class x7 extends He{constructor(e){super(),Ne(this,e,U7,K7,ze,{showCanvases:0,load:6})}get load(){return this.$$.ctx[6]}}function q7(t){let e,n,i,l,s,u,f,a,d,h,g,m;function y(p){t[1](p)}let v={};return t[0]!==void 0&&(v.showCanvases=t[0]),i=new X7({props:v}),Cn.push(()=>mh(i,"showCanvases",y)),f=new C7({}),h=new D7({}),{c(){e=pe("aside"),n=pe("div"),Se(i.$$.fragment),s=Me(),u=pe("div"),Se(f.$$.fragment),a=Me(),d=pe("div"),Se(h.$$.fragment),E(d,"class","rotate svelte-k1upvq"),E(e,"class",g=cr(t[0]?"hide":"")+" svelte-k1upvq")},m(p,P){$(p,e,P),he(e,n),we(i,n,null),he(e,s),he(e,u),we(f,u,null),he(e,a),he(e,d),we(h,d,null),m=!0},p(p,P){const w={};!l&&P&1&&(l=!0,w.showCanvases=p[0],hh(()=>l=!1)),i.$set(w),(!m||P&1&&g!==(g=cr(p[0]?"hide":"")+" svelte-k1upvq"))&&E(e,"class",g)},i(p){m||(Q(i.$$.fragment,p),Q(f.$$.fragment,p),Q(h.$$.fragment,p),m=!0)},o(p){te(i.$$.fragment,p),te(f.$$.fragment,p),te(h.$$.fragment,p),m=!1},d(p){p&&j(e),be(i),be(f),be(h)}}}function G7(t){let e,n,i,l,s,u;function f(d){t[2](d)}let a={};return t[0]!==void 0&&(a.showCanvases=t[0]),i=new x7({props:a}),Cn.push(()=>mh(i,"showCanvases",f)),t[3](i),{c(){e=pe("aside"),n=pe("div"),Se(i.$$.fragment),E(e,"class",s=cr(t[0]?"show":"")+" svelte-k1upvq")},m(d,h){$(d,e,h),he(e,n),we(i,n,null),u=!0},p(d,h){const g={};!l&&h&1&&(l=!0,g.showCanvases=d[0],hh(()=>l=!1)),i.$set(g),(!u||h&1&&s!==(s=cr(d[0]?"show":"")+" svelte-k1upvq"))&&E(e,"class",s)},i(d){u||(Q(i.$$.fragment,d),u=!0)},o(d){te(i.$$.fragment,d),u=!1},d(d){d&&j(e),t[3](null),be(i)}}}function Z7(t){let e,n,i,l;return e=new vr({props:{position:"top-left",class:"main",$$slots:{default:[q7]},$$scope:{ctx:t}}}),i=new vr({props:{position:"top-left",class:"saves",$$slots:{default:[G7]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment),n=Me(),Se(i.$$.fragment)},m(s,u){we(e,s,u),$(s,n,u),we(i,s,u),l=!0},p(s,[u]){const f={};u&17&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const a={};u&17&&(a.$$scope={dirty:u,ctx:s}),i.$set(a)},i(s){l||(Q(e.$$.fragment,s),Q(i.$$.fragment,s),l=!0)},o(s){te(e.$$.fragment,s),te(i.$$.fragment,s),l=!1},d(s){s&&j(n),be(e,s),be(i,s)}}}let qu;const A1=function(){qu&&qu.load(k1)};function J7(t,e,n){let i=!1;function l(f){i=f,n(0,i)}function s(f){i=f,n(0,i)}function u(f){Cn[f?"unshift":"push"](()=>{qu=f})}return[i,l,s,u]}class Q7 extends He{constructor(e){super(),Ne(this,e,J7,Z7,ze,{})}}function j7(t){let e,n;return e=new go({props:{path:t[6],labelX:t[5],labelY:t[4],markerStart:t[2],markerEnd:t[0],style:t[1],class:t[3]}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,[l]){const s={};l&64&&(s.path=i[6]),l&32&&(s.labelX=i[5]),l&16&&(s.labelY=i[4]),l&4&&(s.markerStart=i[2]),l&1&&(s.markerEnd=i[0]),l&2&&(s.style=i[1]),l&8&&(s.class=i[3]),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function $7(t,e,n){let i,l,s,{id:u}=e,{type:f}=e,{source:a}=e,{sourceX:d}=e,{sourceY:h}=e,{sourcePosition:g}=e,{sourceHandleId:m=""}=e,{target:y}=e,{targetX:v}=e,{targetY:p}=e,{targetPosition:P}=e,{targetHandleId:w=""}=e,{markerStart:N=void 0}=e,{markerEnd:C=void 0}=e,{animated:A=!1}=e,{selected:T=!1}=e,{label:O=""}=e,{labelStyle:H=""}=e,{data:L=void 0}=e,{interactionWidth:B=void 0}=e,{style:x=""}=e,{edgeClass:I=""}=e;return S1(),t.$$set=X=>{"id"in X&&n(7,u=X.id),"type"in X&&n(8,f=X.type),"source"in X&&n(9,a=X.source),"sourceX"in X&&n(10,d=X.sourceX),"sourceY"in X&&n(11,h=X.sourceY),"sourcePosition"in X&&n(12,g=X.sourcePosition),"sourceHandleId"in X&&n(13,m=X.sourceHandleId),"target"in X&&n(14,y=X.target),"targetX"in X&&n(15,v=X.targetX),"targetY"in X&&n(16,p=X.targetY),"targetPosition"in X&&n(17,P=X.targetPosition),"targetHandleId"in X&&n(18,w=X.targetHandleId),"markerStart"in X&&n(2,N=X.markerStart),"markerEnd"in X&&n(0,C=X.markerEnd),"animated"in X&&n(19,A=X.animated),"selected"in X&&n(20,T=X.selected),"label"in X&&n(21,O=X.label),"labelStyle"in X&&n(22,H=X.labelStyle),"data"in X&&n(23,L=X.data),"interactionWidth"in X&&n(24,B=X.interactionWidth),"style"in X&&n(1,x=X.style),"edgeClass"in X&&n(3,I=X.edgeClass)},t.$$.update=()=>{if(t.$$.dirty&236544&&n(6,[i,l,s]=br({sourceX:d,sourceY:h,sourcePosition:g,targetX:v,targetY:p,targetPosition:P}),i,(n(5,l),n(10,d),n(11,h),n(12,g),n(15,v),n(16,p),n(17,P)),(n(4,s),n(10,d),n(11,h),n(12,g),n(15,v),n(16,p),n(17,P))),t.$$.dirty&8192){let X=en[m??""][0];n(1,x=`stroke: ${X};`),n(0,C=`url(#${m})`)}},[C,x,N,I,s,l,i,u,f,a,d,h,g,m,y,v,p,P,w,A,T,O,H,L,B]}class eS extends He{constructor(e){super(),Ne(this,e,$7,j7,ze,{id:7,type:8,source:9,sourceX:10,sourceY:11,sourcePosition:12,sourceHandleId:13,target:14,targetX:15,targetY:16,targetPosition:17,targetHandleId:18,markerStart:2,markerEnd:0,animated:19,selected:20,label:21,labelStyle:22,data:23,interactionWidth:24,style:1,edgeClass:3})}}const tS=`<svg fill="currentColor" viewBox="4 2 8 12" xmlns="http://www.w3.org/2000/svg"\r
	><path\r
		fill-rule="evenodd"\r
		d="M7.375 3.67c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm0 8.66c0-.646-.56-1.17-1.25-1.17s-1.25.524-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17zm-1.25-5.5c.69 0 1.25.525 1.25 1.17 0 .645-.56 1.17-1.25 1.17S4.875 8.645 4.875 8c0-.645.56-1.17 1.25-1.17zm5-3.16c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm-1.25 7.49c.69 0 1.25.524 1.25 1.17 0 .645-.56 1.17-1.25 1.17s-1.25-.525-1.25-1.17c0-.646.56-1.17 1.25-1.17zM11.125 8c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17z"\r
	/></svg\r
>\r
`;function nS(t){let e,n;return e=new lo({props:{id:t[0],type:t[1]==="input"?"target":"source",position:t[1]==="input"?Ue.Top:Ue.Bottom,style:t[2]+`background: ${en[t[0]][0]};
		left: calc( ${t[1]==="input"?"":"12px + "} (${en[t[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`,isConnectable:!0}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,[l]){const s={};l&1&&(s.id=i[0]),l&2&&(s.type=i[1]==="input"?"target":"source"),l&2&&(s.position=i[1]==="input"?Ue.Top:Ue.Bottom),l&7&&(s.style=i[2]+`background: ${en[i[0]][0]};
		left: calc( ${i[1]==="input"?"":"12px + "} (${en[i[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function iS(t,e,n){let{id:i}=e,{io:l}=e,{style:s=""}=e,{drop:u}=e;return addEventListener("drop",u),t.$$set=f=>{"id"in f&&n(0,i=f.id),"io"in f&&n(1,l=f.io),"style"in f&&n(2,s=f.style),"drop"in f&&n(3,u=f.drop)},[i,l,s,u]}class M1 extends He{constructor(e){super(),Ne(this,e,iS,nS,ze,{id:0,io:1,style:2,drop:3})}}function eh(t,e,n){const i=t.slice();return i[39]=e[n],i}function th(t,e,n){const i=t.slice();return i[39]=e[n],i}function nh(t){let e,n,i,l,s,u,f;return{c(){e=pe("div"),n=Me(),i=pe("div"),l=Me(),s=pe("div"),E(e,"class","drop-target inputs svelte-zmau3w"),E(i,"class","drop-target outputs svelte-zmau3w"),E(s,"class","hover svelte-zmau3w")},m(a,d){$(a,e,d),t[24](e),$(a,n,d),$(a,i,d),t[28](i),$(a,l,d),$(a,s,d),u||(f=[Le(e,"dragenter",t[25]),Le(e,"dragleave",t[26]),Le(e,"drop",t[27]),Le(i,"dragenter",t[29]),Le(i,"dragleave",t[30]),Le(i,"drop",t[31])],u=!0)},p:Te,d(a){a&&(j(e),j(n),j(i),j(l),j(s)),t[24](null),t[28](null),u=!1,bt(f)}}}function ih(t){let e,n;return e=new d7({props:{minWidth:200,minHeight:105,style:"background: transparent; border: none;",$$slots:{default:[rS]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function rS(t){let e,n,i,l,s,u;return{c(){e=Ve("svg"),n=Ve("path"),i=Ve("polyline"),l=Ve("line"),s=Ve("polyline"),u=Ve("line"),E(n,"stroke","none"),E(n,"d","M0 0h24v24H0z"),E(n,"fill","none"),E(i,"points","16 20 20 20 20 16"),E(l,"x1","14"),E(l,"y1","14"),E(l,"x2","20"),E(l,"y2","20"),E(s,"points","8 4 4 4 4 8"),E(u,"x1","4"),E(u,"y1","4"),E(u,"x2","10"),E(u,"y2","10"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"width","15"),E(e,"height","15"),E(e,"viewBox","0 0 24 24"),E(e,"stroke-width","2"),E(e,"stroke","var(--font-colour)"),E(e,"fill","none"),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),Xe(e,"position","absolute"),Xe(e,"right","0.5em"),Xe(e,"bottom","0.5em")},m(f,a){$(f,e,a),he(e,n),he(e,i),he(e,l),he(e,s),he(e,u)},p:Te,d(f){f&&j(e)}}}function rh(t,e){let n,i,l;return i=new M1({props:{id:e[39],io:"input",drop:e[7]}}),{key:t,first:null,c(){n=yt(),Se(i.$$.fragment),this.first=n},m(s,u){$(s,n,u),we(i,s,u),l=!0},p(s,u){e=s;const f={};u[0]&1&&(f.id=e[39]),i.$set(f)},i(s){l||(Q(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&j(n),be(i,s)}}}function oh(t,e){let n,i,l;return i=new M1({props:{id:e[39],io:"output",drop:e[7]}}),{key:t,first:null,c(){n=yt(),Se(i.$$.fragment),this.first=n},m(s,u){$(s,n,u),we(i,s,u),l=!0},p(s,u){e=s;const f={};u[0]&1&&(f.id=e[39]),i.$set(f)},i(s){l||(Q(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&j(n),be(i,s)}}}function oS(t){let e,n,i,l,s=t[0].label+"",u,f,a,d,h,g,m,y=[],v=new Map,p,P=[],w=new Map,N,C,A,T,O=!t[0].group&&nh(t),H=t[0].group&&ih(t),L=Ct(t[0].inputs);const B=X=>X[39];for(let X=0;X<L.length;X+=1){let D=th(t,L,X),M=B(D);v.set(M,y[X]=rh(M,D))}let x=Ct(t[0].outputs);const I=X=>X[39];for(let X=0;X<x.length;X+=1){let D=eh(t,x,X),M=I(D);w.set(M,P[X]=oh(M,D))}return{c(){O&&O.c(),e=Me(),n=pe("div"),i=pe("span"),l=Me(),u=ft(s),f=Me(),a=pe("button"),a.textContent="✎",d=Me(),h=pe("button"),h.textContent="❌",g=Me(),H&&H.c(),m=Me();for(let X=0;X<y.length;X+=1)y[X].c();p=Me();for(let X=0;X<P.length;X+=1)P[X].c();N=yt(),E(i,"class","drag-handle drag-dots svelte-zmau3w"),E(a,"class","reverse svelte-zmau3w"),E(h,"class","svelte-zmau3w"),E(n,"class","label svelte-zmau3w")},m(X,D){O&&O.m(X,D),$(X,e,D),$(X,n,D),he(n,i),i.innerHTML=tS,he(n,l),he(n,u),he(n,f),he(n,a),he(n,d),he(n,h),$(X,g,D),H&&H.m(X,D),$(X,m,D);for(let M=0;M<y.length;M+=1)y[M]&&y[M].m(X,D);$(X,p,D);for(let M=0;M<P.length;M+=1)P[M]&&P[M].m(X,D);$(X,N,D),C=!0,A||(T=[Le(a,"click",t[32]),Le(h,"click",t[33])],A=!0)},p(X,D){X[0].group?O&&(O.d(1),O=null):O?O.p(X,D):(O=nh(X),O.c(),O.m(e.parentNode,e)),(!C||D[0]&1)&&s!==(s=X[0].label+"")&&kn(u,s),X[0].group?H?D[0]&1&&Q(H,1):(H=ih(X),H.c(),Q(H,1),H.m(m.parentNode,m)):H&&(mt(),te(H,1,1,()=>{H=null}),_t()),D[0]&129&&(L=Ct(X[0].inputs),mt(),y=Ei(y,D,B,1,X,L,v,p.parentNode,Bi,rh,p,th),_t()),D[0]&129&&(x=Ct(X[0].outputs),mt(),P=Ei(P,D,I,1,X,x,w,N.parentNode,Bi,oh,N,eh),_t())},i(X){if(!C){Q(H);for(let D=0;D<L.length;D+=1)Q(y[D]);for(let D=0;D<x.length;D+=1)Q(P[D]);C=!0}},o(X){te(H);for(let D=0;D<y.length;D+=1)te(y[D]);for(let D=0;D<P.length;D+=1)te(P[D]);C=!1},d(X){X&&(j(e),j(n),j(g),j(m),j(p),j(N)),O&&O.d(X),H&&H.d(X);for(let D=0;D<y.length;D+=1)y[D].d(X);for(let D=0;D<P.length;D+=1)P[D].d(X);A=!1,bt(T)}}}function ml(t,e){return!t.includes(e)}function lS(t,e,n){let i;const l=_7();de(t,l,R=>n(34,i=R));let{id:s}=e,{data:u}=e,{dragHandle:f=void 0}=e,{type:a}=e,{isConnectable:d}=e,{selected:h=void 0}=e,{zIndex:g}=e,{positionAbsoluteX:m}=e,{positionAbsoluteY:y}=e,{width:v=void 0}=e,{height:p=void 0}=e,{dragging:P=!1}=e,{sourcePosition:w=void 0}=e,{targetPosition:N=void 0}=e,C=u,A,T;const O=(R,ge,ye)=>{if(R.preventDefault(),R.stopPropagation(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasprotocol/")){const ie=R.dataTransfer.types[0].replace("patchcanvasprotocol/","");let le=!1;switch(ge){case"input":le=ml(C.inputs,ie);break;case"output":le=ml(C.outputs,ie);break}le?(M([...ge==="input"?C.inputs:C.outputs,ie],ye),ye.style.backgroundColor="green",R.dataTransfer.dropEffect="move"):(ye.style.backgroundColor="red",ye.style.backgroundImage="",R.dataTransfer.dropEffect="none")}},H=(R,ge)=>{R.preventDefault(),ge.style.backgroundColor="",ge===A?M(C.inputs,A):M(C.outputs,T)},L=(R,ge,ye)=>{if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasprotocol/")){const ie=R.dataTransfer.types[0].replace("patchcanvasprotocol/","");let le=!1;switch(ge){case"input":le=ml(C.inputs,ie);break;case"output":le=ml(C.outputs,ie);break}le&&I(ie,ge),ye.style.backgroundColor="",M(ge==="input"?C.inputs:C.outputs,ye)}},B=R=>{var ge,ye,ie;if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0]==="application/patchcanvaseraser"){if(((ge=R.target.attributes.getNamedItem("data-nodeid"))==null?void 0:ge.value)!==s)return null;let le=(ye=R.target.attributes.getNamedItem("data-handleid"))==null?void 0:ye.value,Fe=((ie=R.target.attributes.getNamedItem("data-handlepos"))==null?void 0:ie.value)==="top"?"input":"output";V(le,Fe),M(Fe==="input"?C.inputs:C.outputs,Fe==="input"?A:T)}},x=g7();function I(R,ge){switch(ge){case"input":C.inputs.push(R);break;case"output":C.outputs.push(R);break}n(0,C),x(s)}function X(){let R=prompt(`Rename '${C.label}' to:`,C.label);R!==null&&n(0,C.label=R,C)}function D(){window.confirm(`Actually delete ${C.label}?`)&&zn(l,i=i.filter(ge=>ge.id!=s),i)}function M(R,ge){if(ge==null){setTimeout(M,0,R,ge);return}let ye=[...R];ye.sort(H7);let ie=[];ie.push("transparent 2%");for(const le in en){let Fe="transparent";ye.includes(le)&&(Fe=en[le][0]);let Ie=en[le][1];ge===T&&(Ie+=.75);let Re=Ie*16/150*100;Fe+=` ${Re}%`,ie.push(Fe)}ie.push("transparent"),ge.style.backgroundImage=`linear-gradient(to right, ${ie.join(", ")})`}setTimeout(()=>{M(C.inputs,A),M(C.outputs,T)},0);function V(R,ge){switch(ge){case"input":n(0,C.inputs=C.inputs.filter(ye=>ye!==R),C);break;case"output":n(0,C.outputs=C.outputs.filter(ye=>ye!==R),C);break}n(0,C),x(s)}function Y(R){Cn[R?"unshift":"push"](()=>{A=R,n(1,A)})}const G=R=>O(R,"input",A),q=R=>H(R,A),ee=R=>L(R,"input",A);function fe(R){Cn[R?"unshift":"push"](()=>{T=R,n(2,T)})}const se=R=>O(R,"output",T),J=R=>H(R,T),ve=R=>L(R,"output",T),Ae=()=>X(),ke=()=>D();return t.$$set=R=>{"id"in R&&n(10,s=R.id),"data"in R&&n(11,u=R.data),"dragHandle"in R&&n(12,f=R.dragHandle),"type"in R&&n(13,a=R.type),"isConnectable"in R&&n(14,d=R.isConnectable),"selected"in R&&n(15,h=R.selected),"zIndex"in R&&n(16,g=R.zIndex),"positionAbsoluteX"in R&&n(17,m=R.positionAbsoluteX),"positionAbsoluteY"in R&&n(18,y=R.positionAbsoluteY),"width"in R&&n(19,v=R.width),"height"in R&&n(20,p=R.height),"dragging"in R&&n(21,P=R.dragging),"sourcePosition"in R&&n(22,w=R.sourcePosition),"targetPosition"in R&&n(23,N=R.targetPosition)},[C,A,T,l,O,H,L,B,X,D,s,u,f,a,d,h,g,m,y,v,p,P,w,N,Y,G,q,ee,fe,se,J,ve,Ae,ke]}class sS extends He{constructor(e){super(),Ne(this,e,lS,oS,ze,{id:10,data:11,dragHandle:12,type:13,isConnectable:14,selected:15,zIndex:16,positionAbsoluteX:17,positionAbsoluteY:18,width:19,height:20,dragging:21,sourcePosition:22,targetPosition:23},null,[-1,-1])}}function lh(t){let e,n,i,l;function s(a,d){var h,g;if(((h=a[0].startHandle)==null?void 0:h.type)=="target")return fS;if(((g=a[0].startHandle)==null?void 0:g.type)=="source")return uS}let u=s(t),f=u&&u(t);return{c(){f&&f.c(),e=Me(),n=Ve("circle"),E(n,"cx",i=t[0].targetX),E(n,"cy",l=t[0].targetY),E(n,"fill","var(--font-colour)"),E(n,"r",3),E(n,"stroke",en[t[3]][0]??"var(--font-colour)"),E(n,"stroke-width",1.5)},m(a,d){f&&f.m(a,d),$(a,e,d),$(a,n,d)},p(a,d){u===(u=s(a))&&f?f.p(a,d):(f&&f.d(1),f=u&&u(a),f&&(f.c(),f.m(e.parentNode,e))),d&1&&i!==(i=a[0].targetX)&&E(n,"cx",i),d&1&&l!==(l=a[0].targetY)&&E(n,"cy",l)},d(a){a&&(j(e),j(n)),f&&f.d(a)}}}function uS(t){let e,n;return{c(){var i;e=Ve("path"),E(e,"fill","none"),E(e,"stroke-width",1.5),E(e,"class","animated"),E(e,"stroke",en[t[3]][0]??"var(--font-colour)"),E(e,"d",t[1]),E(e,"marker-end",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,l){$(i,e,l)},p(i,l){var s;l&2&&E(e,"d",i[1]),l&1&&n!==(n="url(#"+((s=i[0].startHandle)==null?void 0:s.handleId)+"line)")&&E(e,"marker-end",n)},d(i){i&&j(e)}}}function fS(t){let e,n;return{c(){var i;e=Ve("path"),E(e,"fill","none"),E(e,"stroke-width",1.5),E(e,"class","animated"),E(e,"stroke",en[t[3]][0]??"var(--font-colour)"),E(e,"d",t[1]),E(e,"marker-start",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,l){$(i,e,l)},p(i,l){var s;l&2&&E(e,"d",i[1]),l&1&&n!==(n="url(#"+((s=i[0].startHandle)==null?void 0:s.handleId)+"line)")&&E(e,"marker-start",n)},d(i){i&&j(e)}}}function aS(t){let e,n=t[0].path&&lh(t);return{c(){n&&n.c(),e=yt()},m(i,l){n&&n.m(i,l),$(i,e,l)},p(i,[l]){i[0].path?n?n.p(i,l):(n=lh(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Te,o:Te,d(i){i&&j(e),n&&n.d(i)}}}function cS(t,e,n){var f;let i;const l=m7();de(t,l,a=>n(0,i=a));let s="",u=((f=i.startHandle)==null?void 0:f.handleId)??"";return t.$$.update=()=>{if(t.$$.dirty&1){let{sourceX:a,sourceY:d,sourcePosition:h,targetX:g,targetY:m,targetPosition:y}=i;n(1,[s]=br({sourceX:a??0,sourceY:d??0,sourcePosition:h??Ue.Bottom,targetX:g??0,targetY:m??0,targetPosition:y??Ue.Top}),s)}},[i,s,l,u]}class dS extends He{constructor(e){super(),Ne(this,e,cS,aS,ze,{})}}function hS(t){let e,n,i,l,s,u,f;return{c(){e=Ve("svg"),n=Ve("defs"),i=Ve("marker"),l=Ve("polyline"),E(l,"stroke",t[0]),E(l,"stroke-linecap","round"),E(l,"stroke-linejoin","round"),E(l,"stroke-width",t[6]),E(l,"fill",t[0]),E(l,"points","-5,-4 0,0 -5,4 -5,-4"),E(i,"class","svelte-flow__arrowhead"),E(i,"id",t[1]),E(i,"markerWidth",s=`${t[2]}`),E(i,"markerHeight",u=`${t[3]}`),E(i,"viewBox","-10 -10 20 20"),E(i,"markerUnits",t[4]),E(i,"orient",t[5]),E(i,"refX",f=t[1].includes("line")?"4":"0"),E(i,"refY","0"),E(e,"class","svelte-1wqugfi")},m(a,d){$(a,e,d),he(e,n),he(n,i),he(i,l)},p(a,[d]){d&1&&E(l,"stroke",a[0]),d&64&&E(l,"stroke-width",a[6]),d&1&&E(l,"fill",a[0]),d&2&&E(i,"id",a[1]),d&4&&s!==(s=`${a[2]}`)&&E(i,"markerWidth",s),d&8&&u!==(u=`${a[3]}`)&&E(i,"markerHeight",u),d&16&&E(i,"markerUnits",a[4]),d&32&&E(i,"orient",a[5]),d&2&&f!==(f=a[1].includes("line")?"4":"0")&&E(i,"refX",f)},i:Te,o:Te,d(a){a&&j(e)}}}function gS(t,e,n){let{id:i}=e,{type:l}=e,{width:s=12.5}=e,{height:u=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(1,i=g.id),"type"in g&&n(7,l=g.type),"width"in g&&n(2,s=g.width),"height"in g&&n(3,u=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(0,d=g.color),"strokeWidth"in g&&n(6,h=g.strokeWidth)},t.$$.update=()=>{t.$$.dirty&2&&n(0,d=en[i.replace("line","")??""][0])},[d,i,s,u,f,a,h,l]}class P1 extends He{constructor(e){super(),Ne(this,e,gS,hS,ze,{id:1,type:7,width:2,height:3,markerUnits:4,orient:5,color:0,strokeWidth:6})}}var Ll={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ll.exports;(function(t,e){(function(){var n,i="4.17.21",l=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,m=2,y=4,v=1,p=2,P=1,w=2,N=4,C=8,A=16,T=32,O=64,H=128,L=256,B=512,x=30,I="...",X=800,D=16,M=1,V=2,Y=3,G=1/0,q=9007199254740991,ee=17976931348623157e292,fe=NaN,se=4294967295,J=se-1,ve=se>>>1,Ae=[["ary",H],["bind",P],["bindKey",w],["curry",C],["curryRight",A],["flip",B],["partial",T],["partialRight",O],["rearg",L]],ke="[object Arguments]",R="[object Array]",ge="[object AsyncFunction]",ye="[object Boolean]",ie="[object Date]",le="[object DOMException]",Fe="[object Error]",Ie="[object Function]",Re="[object GeneratorFunction]",je="[object Map]",nt="[object Number]",En="[object Null]",Et="[object Object]",tn="[object Promise]",cn="[object Proxy]",Ce="[object RegExp]",St="[object Set]",Gt="[object String]",dn="[object Symbol]",ce="[object Undefined]",Pt="[object WeakMap]",Ot="[object WeakSet]",me="[object ArrayBuffer]",Rt="[object DataView]",Tt="[object Float32Array]",Nt="[object Float64Array]",Rn="[object Int8Array]",Dn="[object Int16Array]",hn="[object Int32Array]",Wn="[object Uint8Array]",xn="[object Uint8ClampedArray]",qn="[object Uint16Array]",fi="[object Uint32Array]",ai=/\b__p \+= '';/g,ci=/\b(__p \+=) '' \+/g,Ht=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cr=/&(?:amp|lt|gt|quot|#39);/g,Yi=/[&<>"']/g,ql=RegExp(Cr.source),Gl=RegExp(Yi.source),Zl=/<%-([\s\S]+?)%>/g,Jl=/<%([\s\S]+?)%>/g,mo=/<%=([\s\S]+?)%>/g,Ql=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jl=/^\w*$/,$l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Er=/[\\^$.*+?()[\]{}|]/g,es=RegExp(Er.source),Ar=/^\s+/,ts=/\s/,ns=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,is=/\{\n\/\* \[wrapped with (.+)\] \*/,rs=/,? & /,os=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ls=/[()=,{}\[\]\/\s]/,ss=/\\(\\)?/g,us=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_o=/\w*$/,fs=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,T1=/^\[object .+?Constructor\]$/,I1=/^0o[0-7]+$/i,O1=/^(?:0|[1-9]\d*)$/,N1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yo=/($^)/,H1=/['\n\r\u2028\u2029\\]/g,wo="\\ud800-\\udfff",z1="\\u0300-\\u036f",L1="\\ufe20-\\ufe2f",R1="\\u20d0-\\u20ff",uf=z1+L1+R1,ff="\\u2700-\\u27bf",af="a-z\\xdf-\\xf6\\xf8-\\xff",D1="\\xac\\xb1\\xd7\\xf7",W1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",B1="\\u2000-\\u206f",X1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cf="A-Z\\xc0-\\xd6\\xd8-\\xde",df="\\ufe0e\\ufe0f",hf=D1+W1+B1+X1,as="['’]",Y1="["+wo+"]",gf="["+hf+"]",bo="["+uf+"]",mf="\\d+",F1="["+ff+"]",_f="["+af+"]",yf="[^"+wo+hf+mf+ff+af+cf+"]",cs="\\ud83c[\\udffb-\\udfff]",V1="(?:"+bo+"|"+cs+")",wf="[^"+wo+"]",ds="(?:\\ud83c[\\udde6-\\uddff]){2}",hs="[\\ud800-\\udbff][\\udc00-\\udfff]",Fi="["+cf+"]",bf="\\u200d",vf="(?:"+_f+"|"+yf+")",K1="(?:"+Fi+"|"+yf+")",pf="(?:"+as+"(?:d|ll|m|re|s|t|ve))?",Sf="(?:"+as+"(?:D|LL|M|RE|S|T|VE))?",kf=V1+"?",Cf="["+df+"]?",U1="(?:"+bf+"(?:"+[wf,ds,hs].join("|")+")"+Cf+kf+")*",x1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",q1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ef=Cf+kf+U1,G1="(?:"+[F1,ds,hs].join("|")+")"+Ef,Z1="(?:"+[wf+bo+"?",bo,ds,hs,Y1].join("|")+")",J1=RegExp(as,"g"),Q1=RegExp(bo,"g"),gs=RegExp(cs+"(?="+cs+")|"+Z1+Ef,"g"),j1=RegExp([Fi+"?"+_f+"+"+pf+"(?="+[gf,Fi,"$"].join("|")+")",K1+"+"+Sf+"(?="+[gf,Fi+vf,"$"].join("|")+")",Fi+"?"+vf+"+"+pf,Fi+"+"+Sf,q1,x1,mf,G1].join("|"),"g"),$1=RegExp("["+bf+wo+uf+df+"]"),eg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ng=-1,ut={};ut[Tt]=ut[Nt]=ut[Rn]=ut[Dn]=ut[hn]=ut[Wn]=ut[xn]=ut[qn]=ut[fi]=!0,ut[ke]=ut[R]=ut[me]=ut[ye]=ut[Rt]=ut[ie]=ut[Fe]=ut[Ie]=ut[je]=ut[nt]=ut[Et]=ut[Ce]=ut[St]=ut[Gt]=ut[Pt]=!1;var st={};st[ke]=st[R]=st[me]=st[Rt]=st[ye]=st[ie]=st[Tt]=st[Nt]=st[Rn]=st[Dn]=st[hn]=st[je]=st[nt]=st[Et]=st[Ce]=st[St]=st[Gt]=st[dn]=st[Wn]=st[xn]=st[qn]=st[fi]=!0,st[Fe]=st[Ie]=st[Pt]=!1;var ig={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},rg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},og={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},sg=parseFloat,ug=parseInt,Af=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,fg=typeof self=="object"&&self&&self.Object===Object&&self,zt=Af||fg||Function("return this")(),ms=e&&!e.nodeType&&e,Mi=ms&&!0&&t&&!t.nodeType&&t,Mf=Mi&&Mi.exports===ms,_s=Mf&&Af.process,gn=function(){try{var F=Mi&&Mi.require&&Mi.require("util").types;return F||_s&&_s.binding&&_s.binding("util")}catch{}}(),Pf=gn&&gn.isArrayBuffer,Tf=gn&&gn.isDate,If=gn&&gn.isMap,Of=gn&&gn.isRegExp,Nf=gn&&gn.isSet,Hf=gn&&gn.isTypedArray;function nn(F,ne,Z){switch(Z.length){case 0:return F.call(ne);case 1:return F.call(ne,Z[0]);case 2:return F.call(ne,Z[0],Z[1]);case 3:return F.call(ne,Z[0],Z[1],Z[2])}return F.apply(ne,Z)}function ag(F,ne,Z,Ee){for(var Ke=-1,et=F==null?0:F.length;++Ke<et;){var At=F[Ke];ne(Ee,At,Z(At),F)}return Ee}function mn(F,ne){for(var Z=-1,Ee=F==null?0:F.length;++Z<Ee&&ne(F[Z],Z,F)!==!1;);return F}function cg(F,ne){for(var Z=F==null?0:F.length;Z--&&ne(F[Z],Z,F)!==!1;);return F}function zf(F,ne){for(var Z=-1,Ee=F==null?0:F.length;++Z<Ee;)if(!ne(F[Z],Z,F))return!1;return!0}function di(F,ne){for(var Z=-1,Ee=F==null?0:F.length,Ke=0,et=[];++Z<Ee;){var At=F[Z];ne(At,Z,F)&&(et[Ke++]=At)}return et}function vo(F,ne){var Z=F==null?0:F.length;return!!Z&&Vi(F,ne,0)>-1}function ys(F,ne,Z){for(var Ee=-1,Ke=F==null?0:F.length;++Ee<Ke;)if(Z(ne,F[Ee]))return!0;return!1}function ct(F,ne){for(var Z=-1,Ee=F==null?0:F.length,Ke=Array(Ee);++Z<Ee;)Ke[Z]=ne(F[Z],Z,F);return Ke}function hi(F,ne){for(var Z=-1,Ee=ne.length,Ke=F.length;++Z<Ee;)F[Ke+Z]=ne[Z];return F}function ws(F,ne,Z,Ee){var Ke=-1,et=F==null?0:F.length;for(Ee&&et&&(Z=F[++Ke]);++Ke<et;)Z=ne(Z,F[Ke],Ke,F);return Z}function dg(F,ne,Z,Ee){var Ke=F==null?0:F.length;for(Ee&&Ke&&(Z=F[--Ke]);Ke--;)Z=ne(Z,F[Ke],Ke,F);return Z}function bs(F,ne){for(var Z=-1,Ee=F==null?0:F.length;++Z<Ee;)if(ne(F[Z],Z,F))return!0;return!1}var hg=vs("length");function gg(F){return F.split("")}function mg(F){return F.match(os)||[]}function Lf(F,ne,Z){var Ee;return Z(F,function(Ke,et,At){if(ne(Ke,et,At))return Ee=et,!1}),Ee}function po(F,ne,Z,Ee){for(var Ke=F.length,et=Z+(Ee?1:-1);Ee?et--:++et<Ke;)if(ne(F[et],et,F))return et;return-1}function Vi(F,ne,Z){return ne===ne?Mg(F,ne,Z):po(F,Rf,Z)}function _g(F,ne,Z,Ee){for(var Ke=Z-1,et=F.length;++Ke<et;)if(Ee(F[Ke],ne))return Ke;return-1}function Rf(F){return F!==F}function Df(F,ne){var Z=F==null?0:F.length;return Z?Ss(F,ne)/Z:fe}function vs(F){return function(ne){return ne==null?n:ne[F]}}function ps(F){return function(ne){return F==null?n:F[ne]}}function Wf(F,ne,Z,Ee,Ke){return Ke(F,function(et,At,lt){Z=Ee?(Ee=!1,et):ne(Z,et,At,lt)}),Z}function yg(F,ne){var Z=F.length;for(F.sort(ne);Z--;)F[Z]=F[Z].value;return F}function Ss(F,ne){for(var Z,Ee=-1,Ke=F.length;++Ee<Ke;){var et=ne(F[Ee]);et!==n&&(Z=Z===n?et:Z+et)}return Z}function ks(F,ne){for(var Z=-1,Ee=Array(F);++Z<F;)Ee[Z]=ne(Z);return Ee}function wg(F,ne){return ct(ne,function(Z){return[Z,F[Z]]})}function Bf(F){return F&&F.slice(0,Vf(F)+1).replace(Ar,"")}function rn(F){return function(ne){return F(ne)}}function Cs(F,ne){return ct(ne,function(Z){return F[Z]})}function Mr(F,ne){return F.has(ne)}function Xf(F,ne){for(var Z=-1,Ee=F.length;++Z<Ee&&Vi(ne,F[Z],0)>-1;);return Z}function Yf(F,ne){for(var Z=F.length;Z--&&Vi(ne,F[Z],0)>-1;);return Z}function bg(F,ne){for(var Z=F.length,Ee=0;Z--;)F[Z]===ne&&++Ee;return Ee}var vg=ps(ig),pg=ps(rg);function Sg(F){return"\\"+lg[F]}function kg(F,ne){return F==null?n:F[ne]}function Ki(F){return $1.test(F)}function Cg(F){return eg.test(F)}function Eg(F){for(var ne,Z=[];!(ne=F.next()).done;)Z.push(ne.value);return Z}function Es(F){var ne=-1,Z=Array(F.size);return F.forEach(function(Ee,Ke){Z[++ne]=[Ke,Ee]}),Z}function Ff(F,ne){return function(Z){return F(ne(Z))}}function gi(F,ne){for(var Z=-1,Ee=F.length,Ke=0,et=[];++Z<Ee;){var At=F[Z];(At===ne||At===h)&&(F[Z]=h,et[Ke++]=Z)}return et}function So(F){var ne=-1,Z=Array(F.size);return F.forEach(function(Ee){Z[++ne]=Ee}),Z}function Ag(F){var ne=-1,Z=Array(F.size);return F.forEach(function(Ee){Z[++ne]=[Ee,Ee]}),Z}function Mg(F,ne,Z){for(var Ee=Z-1,Ke=F.length;++Ee<Ke;)if(F[Ee]===ne)return Ee;return-1}function Pg(F,ne,Z){for(var Ee=Z+1;Ee--;)if(F[Ee]===ne)return Ee;return Ee}function Ui(F){return Ki(F)?Ig(F):hg(F)}function An(F){return Ki(F)?Og(F):gg(F)}function Vf(F){for(var ne=F.length;ne--&&ts.test(F.charAt(ne)););return ne}var Tg=ps(og);function Ig(F){for(var ne=gs.lastIndex=0;gs.test(F);)++ne;return ne}function Og(F){return F.match(gs)||[]}function Ng(F){return F.match(j1)||[]}var Hg=function F(ne){ne=ne==null?zt:xi.defaults(zt.Object(),ne,xi.pick(zt,tg));var Z=ne.Array,Ee=ne.Date,Ke=ne.Error,et=ne.Function,At=ne.Math,lt=ne.Object,As=ne.RegExp,zg=ne.String,_n=ne.TypeError,ko=Z.prototype,Lg=et.prototype,qi=lt.prototype,Co=ne["__core-js_shared__"],Eo=Lg.toString,ot=qi.hasOwnProperty,Rg=0,Kf=function(){var r=/[^.]+$/.exec(Co&&Co.keys&&Co.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Ao=qi.toString,Dg=Eo.call(lt),Wg=zt._,Bg=As("^"+Eo.call(ot).replace(Er,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mo=Mf?ne.Buffer:n,mi=ne.Symbol,Po=ne.Uint8Array,Uf=Mo?Mo.allocUnsafe:n,To=Ff(lt.getPrototypeOf,lt),xf=lt.create,qf=qi.propertyIsEnumerable,Io=ko.splice,Gf=mi?mi.isConcatSpreadable:n,Pr=mi?mi.iterator:n,Pi=mi?mi.toStringTag:n,Oo=function(){try{var r=Hi(lt,"defineProperty");return r({},"",{}),r}catch{}}(),Xg=ne.clearTimeout!==zt.clearTimeout&&ne.clearTimeout,Yg=Ee&&Ee.now!==zt.Date.now&&Ee.now,Fg=ne.setTimeout!==zt.setTimeout&&ne.setTimeout,No=At.ceil,Ho=At.floor,Ms=lt.getOwnPropertySymbols,Vg=Mo?Mo.isBuffer:n,Zf=ne.isFinite,Kg=ko.join,Ug=Ff(lt.keys,lt),Mt=At.max,Dt=At.min,xg=Ee.now,qg=ne.parseInt,Jf=At.random,Gg=ko.reverse,Ps=Hi(ne,"DataView"),Tr=Hi(ne,"Map"),Ts=Hi(ne,"Promise"),Gi=Hi(ne,"Set"),Ir=Hi(ne,"WeakMap"),Or=Hi(lt,"create"),zo=Ir&&new Ir,Zi={},Zg=zi(Ps),Jg=zi(Tr),Qg=zi(Ts),jg=zi(Gi),$g=zi(Ir),Lo=mi?mi.prototype:n,Nr=Lo?Lo.valueOf:n,Qf=Lo?Lo.toString:n;function S(r){if(wt(r)&&!xe(r)&&!(r instanceof Qe)){if(r instanceof yn)return r;if(ot.call(r,"__wrapped__"))return ja(r)}return new yn(r)}var Ji=function(){function r(){}return function(o){if(!ht(o))return{};if(xf)return xf(o);r.prototype=o;var c=new r;return r.prototype=n,c}}();function Ro(){}function yn(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}S.templateSettings={escape:Zl,evaluate:Jl,interpolate:mo,variable:"",imports:{_:S}},S.prototype=Ro.prototype,S.prototype.constructor=S,yn.prototype=Ji(Ro.prototype),yn.prototype.constructor=yn;function Qe(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function e0(){var r=new Qe(this.__wrapped__);return r.__actions__=Zt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Zt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Zt(this.__views__),r}function t0(){if(this.__filtered__){var r=new Qe(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function n0(){var r=this.__wrapped__.value(),o=this.__dir__,c=xe(r),_=o<0,b=c?r.length:0,k=gm(0,b,this.__views__),z=k.start,W=k.end,K=W-z,re=_?W:z-1,oe=this.__iteratees__,ae=oe.length,_e=0,Pe=Dt(K,this.__takeCount__);if(!c||!_&&b==K&&Pe==K)return pa(r,this.__actions__);var We=[];e:for(;K--&&_e<Pe;){re+=o;for(var Ge=-1,Be=r[re];++Ge<ae;){var Je=oe[Ge],$e=Je.iteratee,sn=Je.type,xt=$e(Be);if(sn==V)Be=xt;else if(!xt){if(sn==M)continue e;break e}}We[_e++]=Be}return We}Qe.prototype=Ji(Ro.prototype),Qe.prototype.constructor=Qe;function Ti(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var _=r[o];this.set(_[0],_[1])}}function i0(){this.__data__=Or?Or(null):{},this.size=0}function r0(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function o0(r){var o=this.__data__;if(Or){var c=o[r];return c===a?n:c}return ot.call(o,r)?o[r]:n}function l0(r){var o=this.__data__;return Or?o[r]!==n:ot.call(o,r)}function s0(r,o){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Or&&o===n?a:o,this}Ti.prototype.clear=i0,Ti.prototype.delete=r0,Ti.prototype.get=o0,Ti.prototype.has=l0,Ti.prototype.set=s0;function Gn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var _=r[o];this.set(_[0],_[1])}}function u0(){this.__data__=[],this.size=0}function f0(r){var o=this.__data__,c=Do(o,r);if(c<0)return!1;var _=o.length-1;return c==_?o.pop():Io.call(o,c,1),--this.size,!0}function a0(r){var o=this.__data__,c=Do(o,r);return c<0?n:o[c][1]}function c0(r){return Do(this.__data__,r)>-1}function d0(r,o){var c=this.__data__,_=Do(c,r);return _<0?(++this.size,c.push([r,o])):c[_][1]=o,this}Gn.prototype.clear=u0,Gn.prototype.delete=f0,Gn.prototype.get=a0,Gn.prototype.has=c0,Gn.prototype.set=d0;function Zn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var _=r[o];this.set(_[0],_[1])}}function h0(){this.size=0,this.__data__={hash:new Ti,map:new(Tr||Gn),string:new Ti}}function g0(r){var o=Zo(this,r).delete(r);return this.size-=o?1:0,o}function m0(r){return Zo(this,r).get(r)}function _0(r){return Zo(this,r).has(r)}function y0(r,o){var c=Zo(this,r),_=c.size;return c.set(r,o),this.size+=c.size==_?0:1,this}Zn.prototype.clear=h0,Zn.prototype.delete=g0,Zn.prototype.get=m0,Zn.prototype.has=_0,Zn.prototype.set=y0;function Ii(r){var o=-1,c=r==null?0:r.length;for(this.__data__=new Zn;++o<c;)this.add(r[o])}function w0(r){return this.__data__.set(r,a),this}function b0(r){return this.__data__.has(r)}Ii.prototype.add=Ii.prototype.push=w0,Ii.prototype.has=b0;function Mn(r){var o=this.__data__=new Gn(r);this.size=o.size}function v0(){this.__data__=new Gn,this.size=0}function p0(r){var o=this.__data__,c=o.delete(r);return this.size=o.size,c}function S0(r){return this.__data__.get(r)}function k0(r){return this.__data__.has(r)}function C0(r,o){var c=this.__data__;if(c instanceof Gn){var _=c.__data__;if(!Tr||_.length<l-1)return _.push([r,o]),this.size=++c.size,this;c=this.__data__=new Zn(_)}return c.set(r,o),this.size=c.size,this}Mn.prototype.clear=v0,Mn.prototype.delete=p0,Mn.prototype.get=S0,Mn.prototype.has=k0,Mn.prototype.set=C0;function jf(r,o){var c=xe(r),_=!c&&Li(r),b=!c&&!_&&vi(r),k=!c&&!_&&!b&&er(r),z=c||_||b||k,W=z?ks(r.length,zg):[],K=W.length;for(var re in r)(o||ot.call(r,re))&&!(z&&(re=="length"||b&&(re=="offset"||re=="parent")||k&&(re=="buffer"||re=="byteLength"||re=="byteOffset")||$n(re,K)))&&W.push(re);return W}function $f(r){var o=r.length;return o?r[Xs(0,o-1)]:n}function E0(r,o){return Jo(Zt(r),Oi(o,0,r.length))}function A0(r){return Jo(Zt(r))}function Is(r,o,c){(c!==n&&!Pn(r[o],c)||c===n&&!(o in r))&&Jn(r,o,c)}function Hr(r,o,c){var _=r[o];(!(ot.call(r,o)&&Pn(_,c))||c===n&&!(o in r))&&Jn(r,o,c)}function Do(r,o){for(var c=r.length;c--;)if(Pn(r[c][0],o))return c;return-1}function M0(r,o,c,_){return _i(r,function(b,k,z){o(_,b,c(b),z)}),_}function ea(r,o){return r&&Xn(o,It(o),r)}function P0(r,o){return r&&Xn(o,Qt(o),r)}function Jn(r,o,c){o=="__proto__"&&Oo?Oo(r,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[o]=c}function Os(r,o){for(var c=-1,_=o.length,b=Z(_),k=r==null;++c<_;)b[c]=k?n:cu(r,o[c]);return b}function Oi(r,o,c){return r===r&&(c!==n&&(r=r<=c?r:c),o!==n&&(r=r>=o?r:o)),r}function wn(r,o,c,_,b,k){var z,W=o&g,K=o&m,re=o&y;if(c&&(z=b?c(r,_,b,k):c(r)),z!==n)return z;if(!ht(r))return r;var oe=xe(r);if(oe){if(z=_m(r),!W)return Zt(r,z)}else{var ae=Wt(r),_e=ae==Ie||ae==Re;if(vi(r))return Ca(r,W);if(ae==Et||ae==ke||_e&&!b){if(z=K||_e?{}:Va(r),!W)return K?om(r,P0(z,r)):rm(r,ea(z,r))}else{if(!st[ae])return b?r:{};z=ym(r,ae,W)}}k||(k=new Mn);var Pe=k.get(r);if(Pe)return Pe;k.set(r,z),wc(r)?r.forEach(function(Be){z.add(wn(Be,o,c,Be,r,k))}):_c(r)&&r.forEach(function(Be,Je){z.set(Je,wn(Be,o,c,Je,r,k))});var We=re?K?Qs:Js:K?Qt:It,Ge=oe?n:We(r);return mn(Ge||r,function(Be,Je){Ge&&(Je=Be,Be=r[Je]),Hr(z,Je,wn(Be,o,c,Je,r,k))}),z}function T0(r){var o=It(r);return function(c){return ta(c,r,o)}}function ta(r,o,c){var _=c.length;if(r==null)return!_;for(r=lt(r);_--;){var b=c[_],k=o[b],z=r[b];if(z===n&&!(b in r)||!k(z))return!1}return!0}function na(r,o,c){if(typeof r!="function")throw new _n(u);return Xr(function(){r.apply(n,c)},o)}function zr(r,o,c,_){var b=-1,k=vo,z=!0,W=r.length,K=[],re=o.length;if(!W)return K;c&&(o=ct(o,rn(c))),_?(k=ys,z=!1):o.length>=l&&(k=Mr,z=!1,o=new Ii(o));e:for(;++b<W;){var oe=r[b],ae=c==null?oe:c(oe);if(oe=_||oe!==0?oe:0,z&&ae===ae){for(var _e=re;_e--;)if(o[_e]===ae)continue e;K.push(oe)}else k(o,ae,_)||K.push(oe)}return K}var _i=Ta(Bn),ia=Ta(Hs,!0);function I0(r,o){var c=!0;return _i(r,function(_,b,k){return c=!!o(_,b,k),c}),c}function Wo(r,o,c){for(var _=-1,b=r.length;++_<b;){var k=r[_],z=o(k);if(z!=null&&(W===n?z===z&&!ln(z):c(z,W)))var W=z,K=k}return K}function O0(r,o,c,_){var b=r.length;for(c=qe(c),c<0&&(c=-c>b?0:b+c),_=_===n||_>b?b:qe(_),_<0&&(_+=b),_=c>_?0:vc(_);c<_;)r[c++]=o;return r}function ra(r,o){var c=[];return _i(r,function(_,b,k){o(_,b,k)&&c.push(_)}),c}function Lt(r,o,c,_,b){var k=-1,z=r.length;for(c||(c=bm),b||(b=[]);++k<z;){var W=r[k];o>0&&c(W)?o>1?Lt(W,o-1,c,_,b):hi(b,W):_||(b[b.length]=W)}return b}var Ns=Ia(),oa=Ia(!0);function Bn(r,o){return r&&Ns(r,o,It)}function Hs(r,o){return r&&oa(r,o,It)}function Bo(r,o){return di(o,function(c){return ei(r[c])})}function Ni(r,o){o=wi(o,r);for(var c=0,_=o.length;r!=null&&c<_;)r=r[Yn(o[c++])];return c&&c==_?r:n}function la(r,o,c){var _=o(r);return xe(r)?_:hi(_,c(r))}function Kt(r){return r==null?r===n?ce:En:Pi&&Pi in lt(r)?hm(r):Am(r)}function zs(r,o){return r>o}function N0(r,o){return r!=null&&ot.call(r,o)}function H0(r,o){return r!=null&&o in lt(r)}function z0(r,o,c){return r>=Dt(o,c)&&r<Mt(o,c)}function Ls(r,o,c){for(var _=c?ys:vo,b=r[0].length,k=r.length,z=k,W=Z(k),K=1/0,re=[];z--;){var oe=r[z];z&&o&&(oe=ct(oe,rn(o))),K=Dt(oe.length,K),W[z]=!c&&(o||b>=120&&oe.length>=120)?new Ii(z&&oe):n}oe=r[0];var ae=-1,_e=W[0];e:for(;++ae<b&&re.length<K;){var Pe=oe[ae],We=o?o(Pe):Pe;if(Pe=c||Pe!==0?Pe:0,!(_e?Mr(_e,We):_(re,We,c))){for(z=k;--z;){var Ge=W[z];if(!(Ge?Mr(Ge,We):_(r[z],We,c)))continue e}_e&&_e.push(We),re.push(Pe)}}return re}function L0(r,o,c,_){return Bn(r,function(b,k,z){o(_,c(b),k,z)}),_}function Lr(r,o,c){o=wi(o,r),r=qa(r,o);var _=r==null?r:r[Yn(vn(o))];return _==null?n:nn(_,r,c)}function sa(r){return wt(r)&&Kt(r)==ke}function R0(r){return wt(r)&&Kt(r)==me}function D0(r){return wt(r)&&Kt(r)==ie}function Rr(r,o,c,_,b){return r===o?!0:r==null||o==null||!wt(r)&&!wt(o)?r!==r&&o!==o:W0(r,o,c,_,Rr,b)}function W0(r,o,c,_,b,k){var z=xe(r),W=xe(o),K=z?R:Wt(r),re=W?R:Wt(o);K=K==ke?Et:K,re=re==ke?Et:re;var oe=K==Et,ae=re==Et,_e=K==re;if(_e&&vi(r)){if(!vi(o))return!1;z=!0,oe=!1}if(_e&&!oe)return k||(k=new Mn),z||er(r)?Xa(r,o,c,_,b,k):cm(r,o,K,c,_,b,k);if(!(c&v)){var Pe=oe&&ot.call(r,"__wrapped__"),We=ae&&ot.call(o,"__wrapped__");if(Pe||We){var Ge=Pe?r.value():r,Be=We?o.value():o;return k||(k=new Mn),b(Ge,Be,c,_,k)}}return _e?(k||(k=new Mn),dm(r,o,c,_,b,k)):!1}function B0(r){return wt(r)&&Wt(r)==je}function Rs(r,o,c,_){var b=c.length,k=b,z=!_;if(r==null)return!k;for(r=lt(r);b--;){var W=c[b];if(z&&W[2]?W[1]!==r[W[0]]:!(W[0]in r))return!1}for(;++b<k;){W=c[b];var K=W[0],re=r[K],oe=W[1];if(z&&W[2]){if(re===n&&!(K in r))return!1}else{var ae=new Mn;if(_)var _e=_(re,oe,K,r,o,ae);if(!(_e===n?Rr(oe,re,v|p,_,ae):_e))return!1}}return!0}function ua(r){if(!ht(r)||pm(r))return!1;var o=ei(r)?Bg:T1;return o.test(zi(r))}function X0(r){return wt(r)&&Kt(r)==Ce}function Y0(r){return wt(r)&&Wt(r)==St}function F0(r){return wt(r)&&nl(r.length)&&!!ut[Kt(r)]}function fa(r){return typeof r=="function"?r:r==null?jt:typeof r=="object"?xe(r)?da(r[0],r[1]):ca(r):Oc(r)}function Ds(r){if(!Br(r))return Ug(r);var o=[];for(var c in lt(r))ot.call(r,c)&&c!="constructor"&&o.push(c);return o}function V0(r){if(!ht(r))return Em(r);var o=Br(r),c=[];for(var _ in r)_=="constructor"&&(o||!ot.call(r,_))||c.push(_);return c}function Ws(r,o){return r<o}function aa(r,o){var c=-1,_=Jt(r)?Z(r.length):[];return _i(r,function(b,k,z){_[++c]=o(b,k,z)}),_}function ca(r){var o=$s(r);return o.length==1&&o[0][2]?Ua(o[0][0],o[0][1]):function(c){return c===r||Rs(c,r,o)}}function da(r,o){return tu(r)&&Ka(o)?Ua(Yn(r),o):function(c){var _=cu(c,r);return _===n&&_===o?du(c,r):Rr(o,_,v|p)}}function Xo(r,o,c,_,b){r!==o&&Ns(o,function(k,z){if(b||(b=new Mn),ht(k))K0(r,o,z,c,Xo,_,b);else{var W=_?_(iu(r,z),k,z+"",r,o,b):n;W===n&&(W=k),Is(r,z,W)}},Qt)}function K0(r,o,c,_,b,k,z){var W=iu(r,c),K=iu(o,c),re=z.get(K);if(re){Is(r,c,re);return}var oe=k?k(W,K,c+"",r,o,z):n,ae=oe===n;if(ae){var _e=xe(K),Pe=!_e&&vi(K),We=!_e&&!Pe&&er(K);oe=K,_e||Pe||We?xe(W)?oe=W:vt(W)?oe=Zt(W):Pe?(ae=!1,oe=Ca(K,!0)):We?(ae=!1,oe=Ea(K,!0)):oe=[]:Yr(K)||Li(K)?(oe=W,Li(W)?oe=pc(W):(!ht(W)||ei(W))&&(oe=Va(K))):ae=!1}ae&&(z.set(K,oe),b(oe,K,_,k,z),z.delete(K)),Is(r,c,oe)}function ha(r,o){var c=r.length;if(c)return o+=o<0?c:0,$n(o,c)?r[o]:n}function ga(r,o,c){o.length?o=ct(o,function(k){return xe(k)?function(z){return Ni(z,k.length===1?k[0]:k)}:k}):o=[jt];var _=-1;o=ct(o,rn(De()));var b=aa(r,function(k,z,W){var K=ct(o,function(re){return re(k)});return{criteria:K,index:++_,value:k}});return yg(b,function(k,z){return im(k,z,c)})}function U0(r,o){return ma(r,o,function(c,_){return du(r,_)})}function ma(r,o,c){for(var _=-1,b=o.length,k={};++_<b;){var z=o[_],W=Ni(r,z);c(W,z)&&Dr(k,wi(z,r),W)}return k}function x0(r){return function(o){return Ni(o,r)}}function Bs(r,o,c,_){var b=_?_g:Vi,k=-1,z=o.length,W=r;for(r===o&&(o=Zt(o)),c&&(W=ct(r,rn(c)));++k<z;)for(var K=0,re=o[k],oe=c?c(re):re;(K=b(W,oe,K,_))>-1;)W!==r&&Io.call(W,K,1),Io.call(r,K,1);return r}function _a(r,o){for(var c=r?o.length:0,_=c-1;c--;){var b=o[c];if(c==_||b!==k){var k=b;$n(b)?Io.call(r,b,1):Vs(r,b)}}return r}function Xs(r,o){return r+Ho(Jf()*(o-r+1))}function q0(r,o,c,_){for(var b=-1,k=Mt(No((o-r)/(c||1)),0),z=Z(k);k--;)z[_?k:++b]=r,r+=c;return z}function Ys(r,o){var c="";if(!r||o<1||o>q)return c;do o%2&&(c+=r),o=Ho(o/2),o&&(r+=r);while(o);return c}function Ze(r,o){return ru(xa(r,o,jt),r+"")}function G0(r){return $f(tr(r))}function Z0(r,o){var c=tr(r);return Jo(c,Oi(o,0,c.length))}function Dr(r,o,c,_){if(!ht(r))return r;o=wi(o,r);for(var b=-1,k=o.length,z=k-1,W=r;W!=null&&++b<k;){var K=Yn(o[b]),re=c;if(K==="__proto__"||K==="constructor"||K==="prototype")return r;if(b!=z){var oe=W[K];re=_?_(oe,K,W):n,re===n&&(re=ht(oe)?oe:$n(o[b+1])?[]:{})}Hr(W,K,re),W=W[K]}return r}var ya=zo?function(r,o){return zo.set(r,o),r}:jt,J0=Oo?function(r,o){return Oo(r,"toString",{configurable:!0,enumerable:!1,value:gu(o),writable:!0})}:jt;function Q0(r){return Jo(tr(r))}function bn(r,o,c){var _=-1,b=r.length;o<0&&(o=-o>b?0:b+o),c=c>b?b:c,c<0&&(c+=b),b=o>c?0:c-o>>>0,o>>>=0;for(var k=Z(b);++_<b;)k[_]=r[_+o];return k}function j0(r,o){var c;return _i(r,function(_,b,k){return c=o(_,b,k),!c}),!!c}function Yo(r,o,c){var _=0,b=r==null?_:r.length;if(typeof o=="number"&&o===o&&b<=ve){for(;_<b;){var k=_+b>>>1,z=r[k];z!==null&&!ln(z)&&(c?z<=o:z<o)?_=k+1:b=k}return b}return Fs(r,o,jt,c)}function Fs(r,o,c,_){var b=0,k=r==null?0:r.length;if(k===0)return 0;o=c(o);for(var z=o!==o,W=o===null,K=ln(o),re=o===n;b<k;){var oe=Ho((b+k)/2),ae=c(r[oe]),_e=ae!==n,Pe=ae===null,We=ae===ae,Ge=ln(ae);if(z)var Be=_||We;else re?Be=We&&(_||_e):W?Be=We&&_e&&(_||!Pe):K?Be=We&&_e&&!Pe&&(_||!Ge):Pe||Ge?Be=!1:Be=_?ae<=o:ae<o;Be?b=oe+1:k=oe}return Dt(k,J)}function wa(r,o){for(var c=-1,_=r.length,b=0,k=[];++c<_;){var z=r[c],W=o?o(z):z;if(!c||!Pn(W,K)){var K=W;k[b++]=z===0?0:z}}return k}function ba(r){return typeof r=="number"?r:ln(r)?fe:+r}function on(r){if(typeof r=="string")return r;if(xe(r))return ct(r,on)+"";if(ln(r))return Qf?Qf.call(r):"";var o=r+"";return o=="0"&&1/r==-G?"-0":o}function yi(r,o,c){var _=-1,b=vo,k=r.length,z=!0,W=[],K=W;if(c)z=!1,b=ys;else if(k>=l){var re=o?null:fm(r);if(re)return So(re);z=!1,b=Mr,K=new Ii}else K=o?[]:W;e:for(;++_<k;){var oe=r[_],ae=o?o(oe):oe;if(oe=c||oe!==0?oe:0,z&&ae===ae){for(var _e=K.length;_e--;)if(K[_e]===ae)continue e;o&&K.push(ae),W.push(oe)}else b(K,ae,c)||(K!==W&&K.push(ae),W.push(oe))}return W}function Vs(r,o){return o=wi(o,r),r=qa(r,o),r==null||delete r[Yn(vn(o))]}function va(r,o,c,_){return Dr(r,o,c(Ni(r,o)),_)}function Fo(r,o,c,_){for(var b=r.length,k=_?b:-1;(_?k--:++k<b)&&o(r[k],k,r););return c?bn(r,_?0:k,_?k+1:b):bn(r,_?k+1:0,_?b:k)}function pa(r,o){var c=r;return c instanceof Qe&&(c=c.value()),ws(o,function(_,b){return b.func.apply(b.thisArg,hi([_],b.args))},c)}function Ks(r,o,c){var _=r.length;if(_<2)return _?yi(r[0]):[];for(var b=-1,k=Z(_);++b<_;)for(var z=r[b],W=-1;++W<_;)W!=b&&(k[b]=zr(k[b]||z,r[W],o,c));return yi(Lt(k,1),o,c)}function Sa(r,o,c){for(var _=-1,b=r.length,k=o.length,z={};++_<b;){var W=_<k?o[_]:n;c(z,r[_],W)}return z}function Us(r){return vt(r)?r:[]}function xs(r){return typeof r=="function"?r:jt}function wi(r,o){return xe(r)?r:tu(r,o)?[r]:Qa(it(r))}var $0=Ze;function bi(r,o,c){var _=r.length;return c=c===n?_:c,!o&&c>=_?r:bn(r,o,c)}var ka=Xg||function(r){return zt.clearTimeout(r)};function Ca(r,o){if(o)return r.slice();var c=r.length,_=Uf?Uf(c):new r.constructor(c);return r.copy(_),_}function qs(r){var o=new r.constructor(r.byteLength);return new Po(o).set(new Po(r)),o}function em(r,o){var c=o?qs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function tm(r){var o=new r.constructor(r.source,_o.exec(r));return o.lastIndex=r.lastIndex,o}function nm(r){return Nr?lt(Nr.call(r)):{}}function Ea(r,o){var c=o?qs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function Aa(r,o){if(r!==o){var c=r!==n,_=r===null,b=r===r,k=ln(r),z=o!==n,W=o===null,K=o===o,re=ln(o);if(!W&&!re&&!k&&r>o||k&&z&&K&&!W&&!re||_&&z&&K||!c&&K||!b)return 1;if(!_&&!k&&!re&&r<o||re&&c&&b&&!_&&!k||W&&c&&b||!z&&b||!K)return-1}return 0}function im(r,o,c){for(var _=-1,b=r.criteria,k=o.criteria,z=b.length,W=c.length;++_<z;){var K=Aa(b[_],k[_]);if(K){if(_>=W)return K;var re=c[_];return K*(re=="desc"?-1:1)}}return r.index-o.index}function Ma(r,o,c,_){for(var b=-1,k=r.length,z=c.length,W=-1,K=o.length,re=Mt(k-z,0),oe=Z(K+re),ae=!_;++W<K;)oe[W]=o[W];for(;++b<z;)(ae||b<k)&&(oe[c[b]]=r[b]);for(;re--;)oe[W++]=r[b++];return oe}function Pa(r,o,c,_){for(var b=-1,k=r.length,z=-1,W=c.length,K=-1,re=o.length,oe=Mt(k-W,0),ae=Z(oe+re),_e=!_;++b<oe;)ae[b]=r[b];for(var Pe=b;++K<re;)ae[Pe+K]=o[K];for(;++z<W;)(_e||b<k)&&(ae[Pe+c[z]]=r[b++]);return ae}function Zt(r,o){var c=-1,_=r.length;for(o||(o=Z(_));++c<_;)o[c]=r[c];return o}function Xn(r,o,c,_){var b=!c;c||(c={});for(var k=-1,z=o.length;++k<z;){var W=o[k],K=_?_(c[W],r[W],W,c,r):n;K===n&&(K=r[W]),b?Jn(c,W,K):Hr(c,W,K)}return c}function rm(r,o){return Xn(r,eu(r),o)}function om(r,o){return Xn(r,Ya(r),o)}function Vo(r,o){return function(c,_){var b=xe(c)?ag:M0,k=o?o():{};return b(c,r,De(_,2),k)}}function Qi(r){return Ze(function(o,c){var _=-1,b=c.length,k=b>1?c[b-1]:n,z=b>2?c[2]:n;for(k=r.length>3&&typeof k=="function"?(b--,k):n,z&&Ut(c[0],c[1],z)&&(k=b<3?n:k,b=1),o=lt(o);++_<b;){var W=c[_];W&&r(o,W,_,k)}return o})}function Ta(r,o){return function(c,_){if(c==null)return c;if(!Jt(c))return r(c,_);for(var b=c.length,k=o?b:-1,z=lt(c);(o?k--:++k<b)&&_(z[k],k,z)!==!1;);return c}}function Ia(r){return function(o,c,_){for(var b=-1,k=lt(o),z=_(o),W=z.length;W--;){var K=z[r?W:++b];if(c(k[K],K,k)===!1)break}return o}}function lm(r,o,c){var _=o&P,b=Wr(r);function k(){var z=this&&this!==zt&&this instanceof k?b:r;return z.apply(_?c:this,arguments)}return k}function Oa(r){return function(o){o=it(o);var c=Ki(o)?An(o):n,_=c?c[0]:o.charAt(0),b=c?bi(c,1).join(""):o.slice(1);return _[r]()+b}}function ji(r){return function(o){return ws(Tc(Pc(o).replace(J1,"")),r,"")}}function Wr(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Ji(r.prototype),_=r.apply(c,o);return ht(_)?_:c}}function sm(r,o,c){var _=Wr(r);function b(){for(var k=arguments.length,z=Z(k),W=k,K=$i(b);W--;)z[W]=arguments[W];var re=k<3&&z[0]!==K&&z[k-1]!==K?[]:gi(z,K);if(k-=re.length,k<c)return Ra(r,o,Ko,b.placeholder,n,z,re,n,n,c-k);var oe=this&&this!==zt&&this instanceof b?_:r;return nn(oe,this,z)}return b}function Na(r){return function(o,c,_){var b=lt(o);if(!Jt(o)){var k=De(c,3);o=It(o),c=function(W){return k(b[W],W,b)}}var z=r(o,c,_);return z>-1?b[k?o[z]:z]:n}}function Ha(r){return jn(function(o){var c=o.length,_=c,b=yn.prototype.thru;for(r&&o.reverse();_--;){var k=o[_];if(typeof k!="function")throw new _n(u);if(b&&!z&&Go(k)=="wrapper")var z=new yn([],!0)}for(_=z?_:c;++_<c;){k=o[_];var W=Go(k),K=W=="wrapper"?js(k):n;K&&nu(K[0])&&K[1]==(H|C|T|L)&&!K[4].length&&K[9]==1?z=z[Go(K[0])].apply(z,K[3]):z=k.length==1&&nu(k)?z[W]():z.thru(k)}return function(){var re=arguments,oe=re[0];if(z&&re.length==1&&xe(oe))return z.plant(oe).value();for(var ae=0,_e=c?o[ae].apply(this,re):oe;++ae<c;)_e=o[ae].call(this,_e);return _e}})}function Ko(r,o,c,_,b,k,z,W,K,re){var oe=o&H,ae=o&P,_e=o&w,Pe=o&(C|A),We=o&B,Ge=_e?n:Wr(r);function Be(){for(var Je=arguments.length,$e=Z(Je),sn=Je;sn--;)$e[sn]=arguments[sn];if(Pe)var xt=$i(Be),un=bg($e,xt);if(_&&($e=Ma($e,_,b,Pe)),k&&($e=Pa($e,k,z,Pe)),Je-=un,Pe&&Je<re){var pt=gi($e,xt);return Ra(r,o,Ko,Be.placeholder,c,$e,pt,W,K,re-Je)}var Tn=ae?c:this,ni=_e?Tn[r]:r;return Je=$e.length,W?$e=Mm($e,W):We&&Je>1&&$e.reverse(),oe&&K<Je&&($e.length=K),this&&this!==zt&&this instanceof Be&&(ni=Ge||Wr(ni)),ni.apply(Tn,$e)}return Be}function za(r,o){return function(c,_){return L0(c,r,o(_),{})}}function Uo(r,o){return function(c,_){var b;if(c===n&&_===n)return o;if(c!==n&&(b=c),_!==n){if(b===n)return _;typeof c=="string"||typeof _=="string"?(c=on(c),_=on(_)):(c=ba(c),_=ba(_)),b=r(c,_)}return b}}function Gs(r){return jn(function(o){return o=ct(o,rn(De())),Ze(function(c){var _=this;return r(o,function(b){return nn(b,_,c)})})})}function xo(r,o){o=o===n?" ":on(o);var c=o.length;if(c<2)return c?Ys(o,r):o;var _=Ys(o,No(r/Ui(o)));return Ki(o)?bi(An(_),0,r).join(""):_.slice(0,r)}function um(r,o,c,_){var b=o&P,k=Wr(r);function z(){for(var W=-1,K=arguments.length,re=-1,oe=_.length,ae=Z(oe+K),_e=this&&this!==zt&&this instanceof z?k:r;++re<oe;)ae[re]=_[re];for(;K--;)ae[re++]=arguments[++W];return nn(_e,b?c:this,ae)}return z}function La(r){return function(o,c,_){return _&&typeof _!="number"&&Ut(o,c,_)&&(c=_=n),o=ti(o),c===n?(c=o,o=0):c=ti(c),_=_===n?o<c?1:-1:ti(_),q0(o,c,_,r)}}function qo(r){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=pn(o),c=pn(c)),r(o,c)}}function Ra(r,o,c,_,b,k,z,W,K,re){var oe=o&C,ae=oe?z:n,_e=oe?n:z,Pe=oe?k:n,We=oe?n:k;o|=oe?T:O,o&=~(oe?O:T),o&N||(o&=~(P|w));var Ge=[r,o,b,Pe,ae,We,_e,W,K,re],Be=c.apply(n,Ge);return nu(r)&&Ga(Be,Ge),Be.placeholder=_,Za(Be,r,o)}function Zs(r){var o=At[r];return function(c,_){if(c=pn(c),_=_==null?0:Dt(qe(_),292),_&&Zf(c)){var b=(it(c)+"e").split("e"),k=o(b[0]+"e"+(+b[1]+_));return b=(it(k)+"e").split("e"),+(b[0]+"e"+(+b[1]-_))}return o(c)}}var fm=Gi&&1/So(new Gi([,-0]))[1]==G?function(r){return new Gi(r)}:yu;function Da(r){return function(o){var c=Wt(o);return c==je?Es(o):c==St?Ag(o):wg(o,r(o))}}function Qn(r,o,c,_,b,k,z,W){var K=o&w;if(!K&&typeof r!="function")throw new _n(u);var re=_?_.length:0;if(re||(o&=~(T|O),_=b=n),z=z===n?z:Mt(qe(z),0),W=W===n?W:qe(W),re-=b?b.length:0,o&O){var oe=_,ae=b;_=b=n}var _e=K?n:js(r),Pe=[r,o,c,_,b,oe,ae,k,z,W];if(_e&&Cm(Pe,_e),r=Pe[0],o=Pe[1],c=Pe[2],_=Pe[3],b=Pe[4],W=Pe[9]=Pe[9]===n?K?0:r.length:Mt(Pe[9]-re,0),!W&&o&(C|A)&&(o&=~(C|A)),!o||o==P)var We=lm(r,o,c);else o==C||o==A?We=sm(r,o,W):(o==T||o==(P|T))&&!b.length?We=um(r,o,c,_):We=Ko.apply(n,Pe);var Ge=_e?ya:Ga;return Za(Ge(We,Pe),r,o)}function Wa(r,o,c,_){return r===n||Pn(r,qi[c])&&!ot.call(_,c)?o:r}function Ba(r,o,c,_,b,k){return ht(r)&&ht(o)&&(k.set(o,r),Xo(r,o,n,Ba,k),k.delete(o)),r}function am(r){return Yr(r)?n:r}function Xa(r,o,c,_,b,k){var z=c&v,W=r.length,K=o.length;if(W!=K&&!(z&&K>W))return!1;var re=k.get(r),oe=k.get(o);if(re&&oe)return re==o&&oe==r;var ae=-1,_e=!0,Pe=c&p?new Ii:n;for(k.set(r,o),k.set(o,r);++ae<W;){var We=r[ae],Ge=o[ae];if(_)var Be=z?_(Ge,We,ae,o,r,k):_(We,Ge,ae,r,o,k);if(Be!==n){if(Be)continue;_e=!1;break}if(Pe){if(!bs(o,function(Je,$e){if(!Mr(Pe,$e)&&(We===Je||b(We,Je,c,_,k)))return Pe.push($e)})){_e=!1;break}}else if(!(We===Ge||b(We,Ge,c,_,k))){_e=!1;break}}return k.delete(r),k.delete(o),_e}function cm(r,o,c,_,b,k,z){switch(c){case Rt:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case me:return!(r.byteLength!=o.byteLength||!k(new Po(r),new Po(o)));case ye:case ie:case nt:return Pn(+r,+o);case Fe:return r.name==o.name&&r.message==o.message;case Ce:case Gt:return r==o+"";case je:var W=Es;case St:var K=_&v;if(W||(W=So),r.size!=o.size&&!K)return!1;var re=z.get(r);if(re)return re==o;_|=p,z.set(r,o);var oe=Xa(W(r),W(o),_,b,k,z);return z.delete(r),oe;case dn:if(Nr)return Nr.call(r)==Nr.call(o)}return!1}function dm(r,o,c,_,b,k){var z=c&v,W=Js(r),K=W.length,re=Js(o),oe=re.length;if(K!=oe&&!z)return!1;for(var ae=K;ae--;){var _e=W[ae];if(!(z?_e in o:ot.call(o,_e)))return!1}var Pe=k.get(r),We=k.get(o);if(Pe&&We)return Pe==o&&We==r;var Ge=!0;k.set(r,o),k.set(o,r);for(var Be=z;++ae<K;){_e=W[ae];var Je=r[_e],$e=o[_e];if(_)var sn=z?_($e,Je,_e,o,r,k):_(Je,$e,_e,r,o,k);if(!(sn===n?Je===$e||b(Je,$e,c,_,k):sn)){Ge=!1;break}Be||(Be=_e=="constructor")}if(Ge&&!Be){var xt=r.constructor,un=o.constructor;xt!=un&&"constructor"in r&&"constructor"in o&&!(typeof xt=="function"&&xt instanceof xt&&typeof un=="function"&&un instanceof un)&&(Ge=!1)}return k.delete(r),k.delete(o),Ge}function jn(r){return ru(xa(r,n,tc),r+"")}function Js(r){return la(r,It,eu)}function Qs(r){return la(r,Qt,Ya)}var js=zo?function(r){return zo.get(r)}:yu;function Go(r){for(var o=r.name+"",c=Zi[o],_=ot.call(Zi,o)?c.length:0;_--;){var b=c[_],k=b.func;if(k==null||k==r)return b.name}return o}function $i(r){var o=ot.call(S,"placeholder")?S:r;return o.placeholder}function De(){var r=S.iteratee||mu;return r=r===mu?fa:r,arguments.length?r(arguments[0],arguments[1]):r}function Zo(r,o){var c=r.__data__;return vm(o)?c[typeof o=="string"?"string":"hash"]:c.map}function $s(r){for(var o=It(r),c=o.length;c--;){var _=o[c],b=r[_];o[c]=[_,b,Ka(b)]}return o}function Hi(r,o){var c=kg(r,o);return ua(c)?c:n}function hm(r){var o=ot.call(r,Pi),c=r[Pi];try{r[Pi]=n;var _=!0}catch{}var b=Ao.call(r);return _&&(o?r[Pi]=c:delete r[Pi]),b}var eu=Ms?function(r){return r==null?[]:(r=lt(r),di(Ms(r),function(o){return qf.call(r,o)}))}:wu,Ya=Ms?function(r){for(var o=[];r;)hi(o,eu(r)),r=To(r);return o}:wu,Wt=Kt;(Ps&&Wt(new Ps(new ArrayBuffer(1)))!=Rt||Tr&&Wt(new Tr)!=je||Ts&&Wt(Ts.resolve())!=tn||Gi&&Wt(new Gi)!=St||Ir&&Wt(new Ir)!=Pt)&&(Wt=function(r){var o=Kt(r),c=o==Et?r.constructor:n,_=c?zi(c):"";if(_)switch(_){case Zg:return Rt;case Jg:return je;case Qg:return tn;case jg:return St;case $g:return Pt}return o});function gm(r,o,c){for(var _=-1,b=c.length;++_<b;){var k=c[_],z=k.size;switch(k.type){case"drop":r+=z;break;case"dropRight":o-=z;break;case"take":o=Dt(o,r+z);break;case"takeRight":r=Mt(r,o-z);break}}return{start:r,end:o}}function mm(r){var o=r.match(is);return o?o[1].split(rs):[]}function Fa(r,o,c){o=wi(o,r);for(var _=-1,b=o.length,k=!1;++_<b;){var z=Yn(o[_]);if(!(k=r!=null&&c(r,z)))break;r=r[z]}return k||++_!=b?k:(b=r==null?0:r.length,!!b&&nl(b)&&$n(z,b)&&(xe(r)||Li(r)))}function _m(r){var o=r.length,c=new r.constructor(o);return o&&typeof r[0]=="string"&&ot.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function Va(r){return typeof r.constructor=="function"&&!Br(r)?Ji(To(r)):{}}function ym(r,o,c){var _=r.constructor;switch(o){case me:return qs(r);case ye:case ie:return new _(+r);case Rt:return em(r,c);case Tt:case Nt:case Rn:case Dn:case hn:case Wn:case xn:case qn:case fi:return Ea(r,c);case je:return new _;case nt:case Gt:return new _(r);case Ce:return tm(r);case St:return new _;case dn:return nm(r)}}function wm(r,o){var c=o.length;if(!c)return r;var _=c-1;return o[_]=(c>1?"& ":"")+o[_],o=o.join(c>2?", ":" "),r.replace(ns,`{
/* [wrapped with `+o+`] */
`)}function bm(r){return xe(r)||Li(r)||!!(Gf&&r&&r[Gf])}function $n(r,o){var c=typeof r;return o=o??q,!!o&&(c=="number"||c!="symbol"&&O1.test(r))&&r>-1&&r%1==0&&r<o}function Ut(r,o,c){if(!ht(c))return!1;var _=typeof o;return(_=="number"?Jt(c)&&$n(o,c.length):_=="string"&&o in c)?Pn(c[o],r):!1}function tu(r,o){if(xe(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||ln(r)?!0:jl.test(r)||!Ql.test(r)||o!=null&&r in lt(o)}function vm(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function nu(r){var o=Go(r),c=S[o];if(typeof c!="function"||!(o in Qe.prototype))return!1;if(r===c)return!0;var _=js(c);return!!_&&r===_[0]}function pm(r){return!!Kf&&Kf in r}var Sm=Co?ei:bu;function Br(r){var o=r&&r.constructor,c=typeof o=="function"&&o.prototype||qi;return r===c}function Ka(r){return r===r&&!ht(r)}function Ua(r,o){return function(c){return c==null?!1:c[r]===o&&(o!==n||r in lt(c))}}function km(r){var o=el(r,function(_){return c.size===d&&c.clear(),_}),c=o.cache;return o}function Cm(r,o){var c=r[1],_=o[1],b=c|_,k=b<(P|w|H),z=_==H&&c==C||_==H&&c==L&&r[7].length<=o[8]||_==(H|L)&&o[7].length<=o[8]&&c==C;if(!(k||z))return r;_&P&&(r[2]=o[2],b|=c&P?0:N);var W=o[3];if(W){var K=r[3];r[3]=K?Ma(K,W,o[4]):W,r[4]=K?gi(r[3],h):o[4]}return W=o[5],W&&(K=r[5],r[5]=K?Pa(K,W,o[6]):W,r[6]=K?gi(r[5],h):o[6]),W=o[7],W&&(r[7]=W),_&H&&(r[8]=r[8]==null?o[8]:Dt(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=b,r}function Em(r){var o=[];if(r!=null)for(var c in lt(r))o.push(c);return o}function Am(r){return Ao.call(r)}function xa(r,o,c){return o=Mt(o===n?r.length-1:o,0),function(){for(var _=arguments,b=-1,k=Mt(_.length-o,0),z=Z(k);++b<k;)z[b]=_[o+b];b=-1;for(var W=Z(o+1);++b<o;)W[b]=_[b];return W[o]=c(z),nn(r,this,W)}}function qa(r,o){return o.length<2?r:Ni(r,bn(o,0,-1))}function Mm(r,o){for(var c=r.length,_=Dt(o.length,c),b=Zt(r);_--;){var k=o[_];r[_]=$n(k,c)?b[k]:n}return r}function iu(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var Ga=Ja(ya),Xr=Fg||function(r,o){return zt.setTimeout(r,o)},ru=Ja(J0);function Za(r,o,c){var _=o+"";return ru(r,wm(_,Pm(mm(_),c)))}function Ja(r){var o=0,c=0;return function(){var _=xg(),b=D-(_-c);if(c=_,b>0){if(++o>=X)return arguments[0]}else o=0;return r.apply(n,arguments)}}function Jo(r,o){var c=-1,_=r.length,b=_-1;for(o=o===n?_:o;++c<o;){var k=Xs(c,b),z=r[k];r[k]=r[c],r[c]=z}return r.length=o,r}var Qa=km(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace($l,function(c,_,b,k){o.push(b?k.replace(ss,"$1"):_||c)}),o});function Yn(r){if(typeof r=="string"||ln(r))return r;var o=r+"";return o=="0"&&1/r==-G?"-0":o}function zi(r){if(r!=null){try{return Eo.call(r)}catch{}try{return r+""}catch{}}return""}function Pm(r,o){return mn(Ae,function(c){var _="_."+c[0];o&c[1]&&!vo(r,_)&&r.push(_)}),r.sort()}function ja(r){if(r instanceof Qe)return r.clone();var o=new yn(r.__wrapped__,r.__chain__);return o.__actions__=Zt(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function Tm(r,o,c){(c?Ut(r,o,c):o===n)?o=1:o=Mt(qe(o),0);var _=r==null?0:r.length;if(!_||o<1)return[];for(var b=0,k=0,z=Z(No(_/o));b<_;)z[k++]=bn(r,b,b+=o);return z}function Im(r){for(var o=-1,c=r==null?0:r.length,_=0,b=[];++o<c;){var k=r[o];k&&(b[_++]=k)}return b}function Om(){var r=arguments.length;if(!r)return[];for(var o=Z(r-1),c=arguments[0],_=r;_--;)o[_-1]=arguments[_];return hi(xe(c)?Zt(c):[c],Lt(o,1))}var Nm=Ze(function(r,o){return vt(r)?zr(r,Lt(o,1,vt,!0)):[]}),Hm=Ze(function(r,o){var c=vn(o);return vt(c)&&(c=n),vt(r)?zr(r,Lt(o,1,vt,!0),De(c,2)):[]}),zm=Ze(function(r,o){var c=vn(o);return vt(c)&&(c=n),vt(r)?zr(r,Lt(o,1,vt,!0),n,c):[]});function Lm(r,o,c){var _=r==null?0:r.length;return _?(o=c||o===n?1:qe(o),bn(r,o<0?0:o,_)):[]}function Rm(r,o,c){var _=r==null?0:r.length;return _?(o=c||o===n?1:qe(o),o=_-o,bn(r,0,o<0?0:o)):[]}function Dm(r,o){return r&&r.length?Fo(r,De(o,3),!0,!0):[]}function Wm(r,o){return r&&r.length?Fo(r,De(o,3),!0):[]}function Bm(r,o,c,_){var b=r==null?0:r.length;return b?(c&&typeof c!="number"&&Ut(r,o,c)&&(c=0,_=b),O0(r,o,c,_)):[]}function $a(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var b=c==null?0:qe(c);return b<0&&(b=Mt(_+b,0)),po(r,De(o,3),b)}function ec(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var b=_-1;return c!==n&&(b=qe(c),b=c<0?Mt(_+b,0):Dt(b,_-1)),po(r,De(o,3),b,!0)}function tc(r){var o=r==null?0:r.length;return o?Lt(r,1):[]}function Xm(r){var o=r==null?0:r.length;return o?Lt(r,G):[]}function Ym(r,o){var c=r==null?0:r.length;return c?(o=o===n?1:qe(o),Lt(r,o)):[]}function Fm(r){for(var o=-1,c=r==null?0:r.length,_={};++o<c;){var b=r[o];_[b[0]]=b[1]}return _}function nc(r){return r&&r.length?r[0]:n}function Vm(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var b=c==null?0:qe(c);return b<0&&(b=Mt(_+b,0)),Vi(r,o,b)}function Km(r){var o=r==null?0:r.length;return o?bn(r,0,-1):[]}var Um=Ze(function(r){var o=ct(r,Us);return o.length&&o[0]===r[0]?Ls(o):[]}),xm=Ze(function(r){var o=vn(r),c=ct(r,Us);return o===vn(c)?o=n:c.pop(),c.length&&c[0]===r[0]?Ls(c,De(o,2)):[]}),qm=Ze(function(r){var o=vn(r),c=ct(r,Us);return o=typeof o=="function"?o:n,o&&c.pop(),c.length&&c[0]===r[0]?Ls(c,n,o):[]});function Gm(r,o){return r==null?"":Kg.call(r,o)}function vn(r){var o=r==null?0:r.length;return o?r[o-1]:n}function Zm(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var b=_;return c!==n&&(b=qe(c),b=b<0?Mt(_+b,0):Dt(b,_-1)),o===o?Pg(r,o,b):po(r,Rf,b,!0)}function Jm(r,o){return r&&r.length?ha(r,qe(o)):n}var Qm=Ze(ic);function ic(r,o){return r&&r.length&&o&&o.length?Bs(r,o):r}function jm(r,o,c){return r&&r.length&&o&&o.length?Bs(r,o,De(c,2)):r}function $m(r,o,c){return r&&r.length&&o&&o.length?Bs(r,o,n,c):r}var e_=jn(function(r,o){var c=r==null?0:r.length,_=Os(r,o);return _a(r,ct(o,function(b){return $n(b,c)?+b:b}).sort(Aa)),_});function t_(r,o){var c=[];if(!(r&&r.length))return c;var _=-1,b=[],k=r.length;for(o=De(o,3);++_<k;){var z=r[_];o(z,_,r)&&(c.push(z),b.push(_))}return _a(r,b),c}function ou(r){return r==null?r:Gg.call(r)}function n_(r,o,c){var _=r==null?0:r.length;return _?(c&&typeof c!="number"&&Ut(r,o,c)?(o=0,c=_):(o=o==null?0:qe(o),c=c===n?_:qe(c)),bn(r,o,c)):[]}function i_(r,o){return Yo(r,o)}function r_(r,o,c){return Fs(r,o,De(c,2))}function o_(r,o){var c=r==null?0:r.length;if(c){var _=Yo(r,o);if(_<c&&Pn(r[_],o))return _}return-1}function l_(r,o){return Yo(r,o,!0)}function s_(r,o,c){return Fs(r,o,De(c,2),!0)}function u_(r,o){var c=r==null?0:r.length;if(c){var _=Yo(r,o,!0)-1;if(Pn(r[_],o))return _}return-1}function f_(r){return r&&r.length?wa(r):[]}function a_(r,o){return r&&r.length?wa(r,De(o,2)):[]}function c_(r){var o=r==null?0:r.length;return o?bn(r,1,o):[]}function d_(r,o,c){return r&&r.length?(o=c||o===n?1:qe(o),bn(r,0,o<0?0:o)):[]}function h_(r,o,c){var _=r==null?0:r.length;return _?(o=c||o===n?1:qe(o),o=_-o,bn(r,o<0?0:o,_)):[]}function g_(r,o){return r&&r.length?Fo(r,De(o,3),!1,!0):[]}function m_(r,o){return r&&r.length?Fo(r,De(o,3)):[]}var __=Ze(function(r){return yi(Lt(r,1,vt,!0))}),y_=Ze(function(r){var o=vn(r);return vt(o)&&(o=n),yi(Lt(r,1,vt,!0),De(o,2))}),w_=Ze(function(r){var o=vn(r);return o=typeof o=="function"?o:n,yi(Lt(r,1,vt,!0),n,o)});function b_(r){return r&&r.length?yi(r):[]}function v_(r,o){return r&&r.length?yi(r,De(o,2)):[]}function p_(r,o){return o=typeof o=="function"?o:n,r&&r.length?yi(r,n,o):[]}function lu(r){if(!(r&&r.length))return[];var o=0;return r=di(r,function(c){if(vt(c))return o=Mt(c.length,o),!0}),ks(o,function(c){return ct(r,vs(c))})}function rc(r,o){if(!(r&&r.length))return[];var c=lu(r);return o==null?c:ct(c,function(_){return nn(o,n,_)})}var S_=Ze(function(r,o){return vt(r)?zr(r,o):[]}),k_=Ze(function(r){return Ks(di(r,vt))}),C_=Ze(function(r){var o=vn(r);return vt(o)&&(o=n),Ks(di(r,vt),De(o,2))}),E_=Ze(function(r){var o=vn(r);return o=typeof o=="function"?o:n,Ks(di(r,vt),n,o)}),A_=Ze(lu);function M_(r,o){return Sa(r||[],o||[],Hr)}function P_(r,o){return Sa(r||[],o||[],Dr)}var T_=Ze(function(r){var o=r.length,c=o>1?r[o-1]:n;return c=typeof c=="function"?(r.pop(),c):n,rc(r,c)});function oc(r){var o=S(r);return o.__chain__=!0,o}function I_(r,o){return o(r),r}function Qo(r,o){return o(r)}var O_=jn(function(r){var o=r.length,c=o?r[0]:0,_=this.__wrapped__,b=function(k){return Os(k,r)};return o>1||this.__actions__.length||!(_ instanceof Qe)||!$n(c)?this.thru(b):(_=_.slice(c,+c+(o?1:0)),_.__actions__.push({func:Qo,args:[b],thisArg:n}),new yn(_,this.__chain__).thru(function(k){return o&&!k.length&&k.push(n),k}))});function N_(){return oc(this)}function H_(){return new yn(this.value(),this.__chain__)}function z_(){this.__values__===n&&(this.__values__=bc(this.value()));var r=this.__index__>=this.__values__.length,o=r?n:this.__values__[this.__index__++];return{done:r,value:o}}function L_(){return this}function R_(r){for(var o,c=this;c instanceof Ro;){var _=ja(c);_.__index__=0,_.__values__=n,o?b.__wrapped__=_:o=_;var b=_;c=c.__wrapped__}return b.__wrapped__=r,o}function D_(){var r=this.__wrapped__;if(r instanceof Qe){var o=r;return this.__actions__.length&&(o=new Qe(this)),o=o.reverse(),o.__actions__.push({func:Qo,args:[ou],thisArg:n}),new yn(o,this.__chain__)}return this.thru(ou)}function W_(){return pa(this.__wrapped__,this.__actions__)}var B_=Vo(function(r,o,c){ot.call(r,c)?++r[c]:Jn(r,c,1)});function X_(r,o,c){var _=xe(r)?zf:I0;return c&&Ut(r,o,c)&&(o=n),_(r,De(o,3))}function Y_(r,o){var c=xe(r)?di:ra;return c(r,De(o,3))}var F_=Na($a),V_=Na(ec);function K_(r,o){return Lt(jo(r,o),1)}function U_(r,o){return Lt(jo(r,o),G)}function x_(r,o,c){return c=c===n?1:qe(c),Lt(jo(r,o),c)}function lc(r,o){var c=xe(r)?mn:_i;return c(r,De(o,3))}function sc(r,o){var c=xe(r)?cg:ia;return c(r,De(o,3))}var q_=Vo(function(r,o,c){ot.call(r,c)?r[c].push(o):Jn(r,c,[o])});function G_(r,o,c,_){r=Jt(r)?r:tr(r),c=c&&!_?qe(c):0;var b=r.length;return c<0&&(c=Mt(b+c,0)),il(r)?c<=b&&r.indexOf(o,c)>-1:!!b&&Vi(r,o,c)>-1}var Z_=Ze(function(r,o,c){var _=-1,b=typeof o=="function",k=Jt(r)?Z(r.length):[];return _i(r,function(z){k[++_]=b?nn(o,z,c):Lr(z,o,c)}),k}),J_=Vo(function(r,o,c){Jn(r,c,o)});function jo(r,o){var c=xe(r)?ct:aa;return c(r,De(o,3))}function Q_(r,o,c,_){return r==null?[]:(xe(o)||(o=o==null?[]:[o]),c=_?n:c,xe(c)||(c=c==null?[]:[c]),ga(r,o,c))}var j_=Vo(function(r,o,c){r[c?0:1].push(o)},function(){return[[],[]]});function $_(r,o,c){var _=xe(r)?ws:Wf,b=arguments.length<3;return _(r,De(o,4),c,b,_i)}function e2(r,o,c){var _=xe(r)?dg:Wf,b=arguments.length<3;return _(r,De(o,4),c,b,ia)}function t2(r,o){var c=xe(r)?di:ra;return c(r,tl(De(o,3)))}function n2(r){var o=xe(r)?$f:G0;return o(r)}function i2(r,o,c){(c?Ut(r,o,c):o===n)?o=1:o=qe(o);var _=xe(r)?E0:Z0;return _(r,o)}function r2(r){var o=xe(r)?A0:Q0;return o(r)}function o2(r){if(r==null)return 0;if(Jt(r))return il(r)?Ui(r):r.length;var o=Wt(r);return o==je||o==St?r.size:Ds(r).length}function l2(r,o,c){var _=xe(r)?bs:j0;return c&&Ut(r,o,c)&&(o=n),_(r,De(o,3))}var s2=Ze(function(r,o){if(r==null)return[];var c=o.length;return c>1&&Ut(r,o[0],o[1])?o=[]:c>2&&Ut(o[0],o[1],o[2])&&(o=[o[0]]),ga(r,Lt(o,1),[])}),$o=Yg||function(){return zt.Date.now()};function u2(r,o){if(typeof o!="function")throw new _n(u);return r=qe(r),function(){if(--r<1)return o.apply(this,arguments)}}function uc(r,o,c){return o=c?n:o,o=r&&o==null?r.length:o,Qn(r,H,n,n,n,n,o)}function fc(r,o){var c;if(typeof o!="function")throw new _n(u);return r=qe(r),function(){return--r>0&&(c=o.apply(this,arguments)),r<=1&&(o=n),c}}var su=Ze(function(r,o,c){var _=P;if(c.length){var b=gi(c,$i(su));_|=T}return Qn(r,_,o,c,b)}),ac=Ze(function(r,o,c){var _=P|w;if(c.length){var b=gi(c,$i(ac));_|=T}return Qn(o,_,r,c,b)});function cc(r,o,c){o=c?n:o;var _=Qn(r,C,n,n,n,n,n,o);return _.placeholder=cc.placeholder,_}function dc(r,o,c){o=c?n:o;var _=Qn(r,A,n,n,n,n,n,o);return _.placeholder=dc.placeholder,_}function hc(r,o,c){var _,b,k,z,W,K,re=0,oe=!1,ae=!1,_e=!0;if(typeof r!="function")throw new _n(u);o=pn(o)||0,ht(c)&&(oe=!!c.leading,ae="maxWait"in c,k=ae?Mt(pn(c.maxWait)||0,o):k,_e="trailing"in c?!!c.trailing:_e);function Pe(pt){var Tn=_,ni=b;return _=b=n,re=pt,z=r.apply(ni,Tn),z}function We(pt){return re=pt,W=Xr(Je,o),oe?Pe(pt):z}function Ge(pt){var Tn=pt-K,ni=pt-re,Nc=o-Tn;return ae?Dt(Nc,k-ni):Nc}function Be(pt){var Tn=pt-K,ni=pt-re;return K===n||Tn>=o||Tn<0||ae&&ni>=k}function Je(){var pt=$o();if(Be(pt))return $e(pt);W=Xr(Je,Ge(pt))}function $e(pt){return W=n,_e&&_?Pe(pt):(_=b=n,z)}function sn(){W!==n&&ka(W),re=0,_=K=b=W=n}function xt(){return W===n?z:$e($o())}function un(){var pt=$o(),Tn=Be(pt);if(_=arguments,b=this,K=pt,Tn){if(W===n)return We(K);if(ae)return ka(W),W=Xr(Je,o),Pe(K)}return W===n&&(W=Xr(Je,o)),z}return un.cancel=sn,un.flush=xt,un}var f2=Ze(function(r,o){return na(r,1,o)}),a2=Ze(function(r,o,c){return na(r,pn(o)||0,c)});function c2(r){return Qn(r,B)}function el(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new _n(u);var c=function(){var _=arguments,b=o?o.apply(this,_):_[0],k=c.cache;if(k.has(b))return k.get(b);var z=r.apply(this,_);return c.cache=k.set(b,z)||k,z};return c.cache=new(el.Cache||Zn),c}el.Cache=Zn;function tl(r){if(typeof r!="function")throw new _n(u);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function d2(r){return fc(2,r)}var h2=$0(function(r,o){o=o.length==1&&xe(o[0])?ct(o[0],rn(De())):ct(Lt(o,1),rn(De()));var c=o.length;return Ze(function(_){for(var b=-1,k=Dt(_.length,c);++b<k;)_[b]=o[b].call(this,_[b]);return nn(r,this,_)})}),uu=Ze(function(r,o){var c=gi(o,$i(uu));return Qn(r,T,n,o,c)}),gc=Ze(function(r,o){var c=gi(o,$i(gc));return Qn(r,O,n,o,c)}),g2=jn(function(r,o){return Qn(r,L,n,n,n,o)});function m2(r,o){if(typeof r!="function")throw new _n(u);return o=o===n?o:qe(o),Ze(r,o)}function _2(r,o){if(typeof r!="function")throw new _n(u);return o=o==null?0:Mt(qe(o),0),Ze(function(c){var _=c[o],b=bi(c,0,o);return _&&hi(b,_),nn(r,this,b)})}function y2(r,o,c){var _=!0,b=!0;if(typeof r!="function")throw new _n(u);return ht(c)&&(_="leading"in c?!!c.leading:_,b="trailing"in c?!!c.trailing:b),hc(r,o,{leading:_,maxWait:o,trailing:b})}function w2(r){return uc(r,1)}function b2(r,o){return uu(xs(o),r)}function v2(){if(!arguments.length)return[];var r=arguments[0];return xe(r)?r:[r]}function p2(r){return wn(r,y)}function S2(r,o){return o=typeof o=="function"?o:n,wn(r,y,o)}function k2(r){return wn(r,g|y)}function C2(r,o){return o=typeof o=="function"?o:n,wn(r,g|y,o)}function E2(r,o){return o==null||ta(r,o,It(o))}function Pn(r,o){return r===o||r!==r&&o!==o}var A2=qo(zs),M2=qo(function(r,o){return r>=o}),Li=sa(function(){return arguments}())?sa:function(r){return wt(r)&&ot.call(r,"callee")&&!qf.call(r,"callee")},xe=Z.isArray,P2=Pf?rn(Pf):R0;function Jt(r){return r!=null&&nl(r.length)&&!ei(r)}function vt(r){return wt(r)&&Jt(r)}function T2(r){return r===!0||r===!1||wt(r)&&Kt(r)==ye}var vi=Vg||bu,I2=Tf?rn(Tf):D0;function O2(r){return wt(r)&&r.nodeType===1&&!Yr(r)}function N2(r){if(r==null)return!0;if(Jt(r)&&(xe(r)||typeof r=="string"||typeof r.splice=="function"||vi(r)||er(r)||Li(r)))return!r.length;var o=Wt(r);if(o==je||o==St)return!r.size;if(Br(r))return!Ds(r).length;for(var c in r)if(ot.call(r,c))return!1;return!0}function H2(r,o){return Rr(r,o)}function z2(r,o,c){c=typeof c=="function"?c:n;var _=c?c(r,o):n;return _===n?Rr(r,o,n,c):!!_}function fu(r){if(!wt(r))return!1;var o=Kt(r);return o==Fe||o==le||typeof r.message=="string"&&typeof r.name=="string"&&!Yr(r)}function L2(r){return typeof r=="number"&&Zf(r)}function ei(r){if(!ht(r))return!1;var o=Kt(r);return o==Ie||o==Re||o==ge||o==cn}function mc(r){return typeof r=="number"&&r==qe(r)}function nl(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=q}function ht(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function wt(r){return r!=null&&typeof r=="object"}var _c=If?rn(If):B0;function R2(r,o){return r===o||Rs(r,o,$s(o))}function D2(r,o,c){return c=typeof c=="function"?c:n,Rs(r,o,$s(o),c)}function W2(r){return yc(r)&&r!=+r}function B2(r){if(Sm(r))throw new Ke(s);return ua(r)}function X2(r){return r===null}function Y2(r){return r==null}function yc(r){return typeof r=="number"||wt(r)&&Kt(r)==nt}function Yr(r){if(!wt(r)||Kt(r)!=Et)return!1;var o=To(r);if(o===null)return!0;var c=ot.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Eo.call(c)==Dg}var au=Of?rn(Of):X0;function F2(r){return mc(r)&&r>=-q&&r<=q}var wc=Nf?rn(Nf):Y0;function il(r){return typeof r=="string"||!xe(r)&&wt(r)&&Kt(r)==Gt}function ln(r){return typeof r=="symbol"||wt(r)&&Kt(r)==dn}var er=Hf?rn(Hf):F0;function V2(r){return r===n}function K2(r){return wt(r)&&Wt(r)==Pt}function U2(r){return wt(r)&&Kt(r)==Ot}var x2=qo(Ws),q2=qo(function(r,o){return r<=o});function bc(r){if(!r)return[];if(Jt(r))return il(r)?An(r):Zt(r);if(Pr&&r[Pr])return Eg(r[Pr]());var o=Wt(r),c=o==je?Es:o==St?So:tr;return c(r)}function ti(r){if(!r)return r===0?r:0;if(r=pn(r),r===G||r===-G){var o=r<0?-1:1;return o*ee}return r===r?r:0}function qe(r){var o=ti(r),c=o%1;return o===o?c?o-c:o:0}function vc(r){return r?Oi(qe(r),0,se):0}function pn(r){if(typeof r=="number")return r;if(ln(r))return fe;if(ht(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=ht(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=Bf(r);var c=U.test(r);return c||I1.test(r)?ug(r.slice(2),c?2:8):fs.test(r)?fe:+r}function pc(r){return Xn(r,Qt(r))}function G2(r){return r?Oi(qe(r),-q,q):r===0?r:0}function it(r){return r==null?"":on(r)}var Z2=Qi(function(r,o){if(Br(o)||Jt(o)){Xn(o,It(o),r);return}for(var c in o)ot.call(o,c)&&Hr(r,c,o[c])}),Sc=Qi(function(r,o){Xn(o,Qt(o),r)}),rl=Qi(function(r,o,c,_){Xn(o,Qt(o),r,_)}),J2=Qi(function(r,o,c,_){Xn(o,It(o),r,_)}),Q2=jn(Os);function j2(r,o){var c=Ji(r);return o==null?c:ea(c,o)}var $2=Ze(function(r,o){r=lt(r);var c=-1,_=o.length,b=_>2?o[2]:n;for(b&&Ut(o[0],o[1],b)&&(_=1);++c<_;)for(var k=o[c],z=Qt(k),W=-1,K=z.length;++W<K;){var re=z[W],oe=r[re];(oe===n||Pn(oe,qi[re])&&!ot.call(r,re))&&(r[re]=k[re])}return r}),ey=Ze(function(r){return r.push(n,Ba),nn(kc,n,r)});function ty(r,o){return Lf(r,De(o,3),Bn)}function ny(r,o){return Lf(r,De(o,3),Hs)}function iy(r,o){return r==null?r:Ns(r,De(o,3),Qt)}function ry(r,o){return r==null?r:oa(r,De(o,3),Qt)}function oy(r,o){return r&&Bn(r,De(o,3))}function ly(r,o){return r&&Hs(r,De(o,3))}function sy(r){return r==null?[]:Bo(r,It(r))}function uy(r){return r==null?[]:Bo(r,Qt(r))}function cu(r,o,c){var _=r==null?n:Ni(r,o);return _===n?c:_}function fy(r,o){return r!=null&&Fa(r,o,N0)}function du(r,o){return r!=null&&Fa(r,o,H0)}var ay=za(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Ao.call(o)),r[o]=c},gu(jt)),cy=za(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Ao.call(o)),ot.call(r,o)?r[o].push(c):r[o]=[c]},De),dy=Ze(Lr);function It(r){return Jt(r)?jf(r):Ds(r)}function Qt(r){return Jt(r)?jf(r,!0):V0(r)}function hy(r,o){var c={};return o=De(o,3),Bn(r,function(_,b,k){Jn(c,o(_,b,k),_)}),c}function gy(r,o){var c={};return o=De(o,3),Bn(r,function(_,b,k){Jn(c,b,o(_,b,k))}),c}var my=Qi(function(r,o,c){Xo(r,o,c)}),kc=Qi(function(r,o,c,_){Xo(r,o,c,_)}),_y=jn(function(r,o){var c={};if(r==null)return c;var _=!1;o=ct(o,function(k){return k=wi(k,r),_||(_=k.length>1),k}),Xn(r,Qs(r),c),_&&(c=wn(c,g|m|y,am));for(var b=o.length;b--;)Vs(c,o[b]);return c});function yy(r,o){return Cc(r,tl(De(o)))}var wy=jn(function(r,o){return r==null?{}:U0(r,o)});function Cc(r,o){if(r==null)return{};var c=ct(Qs(r),function(_){return[_]});return o=De(o),ma(r,c,function(_,b){return o(_,b[0])})}function by(r,o,c){o=wi(o,r);var _=-1,b=o.length;for(b||(b=1,r=n);++_<b;){var k=r==null?n:r[Yn(o[_])];k===n&&(_=b,k=c),r=ei(k)?k.call(r):k}return r}function vy(r,o,c){return r==null?r:Dr(r,o,c)}function py(r,o,c,_){return _=typeof _=="function"?_:n,r==null?r:Dr(r,o,c,_)}var Ec=Da(It),Ac=Da(Qt);function Sy(r,o,c){var _=xe(r),b=_||vi(r)||er(r);if(o=De(o,4),c==null){var k=r&&r.constructor;b?c=_?new k:[]:ht(r)?c=ei(k)?Ji(To(r)):{}:c={}}return(b?mn:Bn)(r,function(z,W,K){return o(c,z,W,K)}),c}function ky(r,o){return r==null?!0:Vs(r,o)}function Cy(r,o,c){return r==null?r:va(r,o,xs(c))}function Ey(r,o,c,_){return _=typeof _=="function"?_:n,r==null?r:va(r,o,xs(c),_)}function tr(r){return r==null?[]:Cs(r,It(r))}function Ay(r){return r==null?[]:Cs(r,Qt(r))}function My(r,o,c){return c===n&&(c=o,o=n),c!==n&&(c=pn(c),c=c===c?c:0),o!==n&&(o=pn(o),o=o===o?o:0),Oi(pn(r),o,c)}function Py(r,o,c){return o=ti(o),c===n?(c=o,o=0):c=ti(c),r=pn(r),z0(r,o,c)}function Ty(r,o,c){if(c&&typeof c!="boolean"&&Ut(r,o,c)&&(o=c=n),c===n&&(typeof o=="boolean"?(c=o,o=n):typeof r=="boolean"&&(c=r,r=n)),r===n&&o===n?(r=0,o=1):(r=ti(r),o===n?(o=r,r=0):o=ti(o)),r>o){var _=r;r=o,o=_}if(c||r%1||o%1){var b=Jf();return Dt(r+b*(o-r+sg("1e-"+((b+"").length-1))),o)}return Xs(r,o)}var Iy=ji(function(r,o,c){return o=o.toLowerCase(),r+(c?Mc(o):o)});function Mc(r){return hu(it(r).toLowerCase())}function Pc(r){return r=it(r),r&&r.replace(N1,vg).replace(Q1,"")}function Oy(r,o,c){r=it(r),o=on(o);var _=r.length;c=c===n?_:Oi(qe(c),0,_);var b=c;return c-=o.length,c>=0&&r.slice(c,b)==o}function Ny(r){return r=it(r),r&&Gl.test(r)?r.replace(Yi,pg):r}function Hy(r){return r=it(r),r&&es.test(r)?r.replace(Er,"\\$&"):r}var zy=ji(function(r,o,c){return r+(c?"-":"")+o.toLowerCase()}),Ly=ji(function(r,o,c){return r+(c?" ":"")+o.toLowerCase()}),Ry=Oa("toLowerCase");function Dy(r,o,c){r=it(r),o=qe(o);var _=o?Ui(r):0;if(!o||_>=o)return r;var b=(o-_)/2;return xo(Ho(b),c)+r+xo(No(b),c)}function Wy(r,o,c){r=it(r),o=qe(o);var _=o?Ui(r):0;return o&&_<o?r+xo(o-_,c):r}function By(r,o,c){r=it(r),o=qe(o);var _=o?Ui(r):0;return o&&_<o?xo(o-_,c)+r:r}function Xy(r,o,c){return c||o==null?o=0:o&&(o=+o),qg(it(r).replace(Ar,""),o||0)}function Yy(r,o,c){return(c?Ut(r,o,c):o===n)?o=1:o=qe(o),Ys(it(r),o)}function Fy(){var r=arguments,o=it(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var Vy=ji(function(r,o,c){return r+(c?"_":"")+o.toLowerCase()});function Ky(r,o,c){return c&&typeof c!="number"&&Ut(r,o,c)&&(o=c=n),c=c===n?se:c>>>0,c?(r=it(r),r&&(typeof o=="string"||o!=null&&!au(o))&&(o=on(o),!o&&Ki(r))?bi(An(r),0,c):r.split(o,c)):[]}var Uy=ji(function(r,o,c){return r+(c?" ":"")+hu(o)});function xy(r,o,c){return r=it(r),c=c==null?0:Oi(qe(c),0,r.length),o=on(o),r.slice(c,c+o.length)==o}function qy(r,o,c){var _=S.templateSettings;c&&Ut(r,o,c)&&(o=n),r=it(r),o=rl({},o,_,Wa);var b=rl({},o.imports,_.imports,Wa),k=It(b),z=Cs(b,k),W,K,re=0,oe=o.interpolate||yo,ae="__p += '",_e=As((o.escape||yo).source+"|"+oe.source+"|"+(oe===mo?us:yo).source+"|"+(o.evaluate||yo).source+"|$","g"),Pe="//# sourceURL="+(ot.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ng+"]")+`
`;r.replace(_e,function(Be,Je,$e,sn,xt,un){return $e||($e=sn),ae+=r.slice(re,un).replace(H1,Sg),Je&&(W=!0,ae+=`' +
__e(`+Je+`) +
'`),xt&&(K=!0,ae+=`';
`+xt+`;
__p += '`),$e&&(ae+=`' +
((__t = (`+$e+`)) == null ? '' : __t) +
'`),re=un+Be.length,Be}),ae+=`';
`;var We=ot.call(o,"variable")&&o.variable;if(!We)ae=`with (obj) {
`+ae+`
}
`;else if(ls.test(We))throw new Ke(f);ae=(K?ae.replace(ai,""):ae).replace(ci,"$1").replace(Ht,"$1;"),ae="function("+(We||"obj")+`) {
`+(We?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(W?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ae+`return __p
}`;var Ge=Ic(function(){return et(k,Pe+"return "+ae).apply(n,z)});if(Ge.source=ae,fu(Ge))throw Ge;return Ge}function Gy(r){return it(r).toLowerCase()}function Zy(r){return it(r).toUpperCase()}function Jy(r,o,c){if(r=it(r),r&&(c||o===n))return Bf(r);if(!r||!(o=on(o)))return r;var _=An(r),b=An(o),k=Xf(_,b),z=Yf(_,b)+1;return bi(_,k,z).join("")}function Qy(r,o,c){if(r=it(r),r&&(c||o===n))return r.slice(0,Vf(r)+1);if(!r||!(o=on(o)))return r;var _=An(r),b=Yf(_,An(o))+1;return bi(_,0,b).join("")}function jy(r,o,c){if(r=it(r),r&&(c||o===n))return r.replace(Ar,"");if(!r||!(o=on(o)))return r;var _=An(r),b=Xf(_,An(o));return bi(_,b).join("")}function $y(r,o){var c=x,_=I;if(ht(o)){var b="separator"in o?o.separator:b;c="length"in o?qe(o.length):c,_="omission"in o?on(o.omission):_}r=it(r);var k=r.length;if(Ki(r)){var z=An(r);k=z.length}if(c>=k)return r;var W=c-Ui(_);if(W<1)return _;var K=z?bi(z,0,W).join(""):r.slice(0,W);if(b===n)return K+_;if(z&&(W+=K.length-W),au(b)){if(r.slice(W).search(b)){var re,oe=K;for(b.global||(b=As(b.source,it(_o.exec(b))+"g")),b.lastIndex=0;re=b.exec(oe);)var ae=re.index;K=K.slice(0,ae===n?W:ae)}}else if(r.indexOf(on(b),W)!=W){var _e=K.lastIndexOf(b);_e>-1&&(K=K.slice(0,_e))}return K+_}function ew(r){return r=it(r),r&&ql.test(r)?r.replace(Cr,Tg):r}var tw=ji(function(r,o,c){return r+(c?" ":"")+o.toUpperCase()}),hu=Oa("toUpperCase");function Tc(r,o,c){return r=it(r),o=c?n:o,o===n?Cg(r)?Ng(r):mg(r):r.match(o)||[]}var Ic=Ze(function(r,o){try{return nn(r,n,o)}catch(c){return fu(c)?c:new Ke(c)}}),nw=jn(function(r,o){return mn(o,function(c){c=Yn(c),Jn(r,c,su(r[c],r))}),r});function iw(r){var o=r==null?0:r.length,c=De();return r=o?ct(r,function(_){if(typeof _[1]!="function")throw new _n(u);return[c(_[0]),_[1]]}):[],Ze(function(_){for(var b=-1;++b<o;){var k=r[b];if(nn(k[0],this,_))return nn(k[1],this,_)}})}function rw(r){return T0(wn(r,g))}function gu(r){return function(){return r}}function ow(r,o){return r==null||r!==r?o:r}var lw=Ha(),sw=Ha(!0);function jt(r){return r}function mu(r){return fa(typeof r=="function"?r:wn(r,g))}function uw(r){return ca(wn(r,g))}function fw(r,o){return da(r,wn(o,g))}var aw=Ze(function(r,o){return function(c){return Lr(c,r,o)}}),cw=Ze(function(r,o){return function(c){return Lr(r,c,o)}});function _u(r,o,c){var _=It(o),b=Bo(o,_);c==null&&!(ht(o)&&(b.length||!_.length))&&(c=o,o=r,r=this,b=Bo(o,It(o)));var k=!(ht(c)&&"chain"in c)||!!c.chain,z=ei(r);return mn(b,function(W){var K=o[W];r[W]=K,z&&(r.prototype[W]=function(){var re=this.__chain__;if(k||re){var oe=r(this.__wrapped__),ae=oe.__actions__=Zt(this.__actions__);return ae.push({func:K,args:arguments,thisArg:r}),oe.__chain__=re,oe}return K.apply(r,hi([this.value()],arguments))})}),r}function dw(){return zt._===this&&(zt._=Wg),this}function yu(){}function hw(r){return r=qe(r),Ze(function(o){return ha(o,r)})}var gw=Gs(ct),mw=Gs(zf),_w=Gs(bs);function Oc(r){return tu(r)?vs(Yn(r)):x0(r)}function yw(r){return function(o){return r==null?n:Ni(r,o)}}var ww=La(),bw=La(!0);function wu(){return[]}function bu(){return!1}function vw(){return{}}function pw(){return""}function Sw(){return!0}function kw(r,o){if(r=qe(r),r<1||r>q)return[];var c=se,_=Dt(r,se);o=De(o),r-=se;for(var b=ks(_,o);++c<r;)o(c);return b}function Cw(r){return xe(r)?ct(r,Yn):ln(r)?[r]:Zt(Qa(it(r)))}function Ew(r){var o=++Rg;return it(r)+o}var Aw=Uo(function(r,o){return r+o},0),Mw=Zs("ceil"),Pw=Uo(function(r,o){return r/o},1),Tw=Zs("floor");function Iw(r){return r&&r.length?Wo(r,jt,zs):n}function Ow(r,o){return r&&r.length?Wo(r,De(o,2),zs):n}function Nw(r){return Df(r,jt)}function Hw(r,o){return Df(r,De(o,2))}function zw(r){return r&&r.length?Wo(r,jt,Ws):n}function Lw(r,o){return r&&r.length?Wo(r,De(o,2),Ws):n}var Rw=Uo(function(r,o){return r*o},1),Dw=Zs("round"),Ww=Uo(function(r,o){return r-o},0);function Bw(r){return r&&r.length?Ss(r,jt):0}function Xw(r,o){return r&&r.length?Ss(r,De(o,2)):0}return S.after=u2,S.ary=uc,S.assign=Z2,S.assignIn=Sc,S.assignInWith=rl,S.assignWith=J2,S.at=Q2,S.before=fc,S.bind=su,S.bindAll=nw,S.bindKey=ac,S.castArray=v2,S.chain=oc,S.chunk=Tm,S.compact=Im,S.concat=Om,S.cond=iw,S.conforms=rw,S.constant=gu,S.countBy=B_,S.create=j2,S.curry=cc,S.curryRight=dc,S.debounce=hc,S.defaults=$2,S.defaultsDeep=ey,S.defer=f2,S.delay=a2,S.difference=Nm,S.differenceBy=Hm,S.differenceWith=zm,S.drop=Lm,S.dropRight=Rm,S.dropRightWhile=Dm,S.dropWhile=Wm,S.fill=Bm,S.filter=Y_,S.flatMap=K_,S.flatMapDeep=U_,S.flatMapDepth=x_,S.flatten=tc,S.flattenDeep=Xm,S.flattenDepth=Ym,S.flip=c2,S.flow=lw,S.flowRight=sw,S.fromPairs=Fm,S.functions=sy,S.functionsIn=uy,S.groupBy=q_,S.initial=Km,S.intersection=Um,S.intersectionBy=xm,S.intersectionWith=qm,S.invert=ay,S.invertBy=cy,S.invokeMap=Z_,S.iteratee=mu,S.keyBy=J_,S.keys=It,S.keysIn=Qt,S.map=jo,S.mapKeys=hy,S.mapValues=gy,S.matches=uw,S.matchesProperty=fw,S.memoize=el,S.merge=my,S.mergeWith=kc,S.method=aw,S.methodOf=cw,S.mixin=_u,S.negate=tl,S.nthArg=hw,S.omit=_y,S.omitBy=yy,S.once=d2,S.orderBy=Q_,S.over=gw,S.overArgs=h2,S.overEvery=mw,S.overSome=_w,S.partial=uu,S.partialRight=gc,S.partition=j_,S.pick=wy,S.pickBy=Cc,S.property=Oc,S.propertyOf=yw,S.pull=Qm,S.pullAll=ic,S.pullAllBy=jm,S.pullAllWith=$m,S.pullAt=e_,S.range=ww,S.rangeRight=bw,S.rearg=g2,S.reject=t2,S.remove=t_,S.rest=m2,S.reverse=ou,S.sampleSize=i2,S.set=vy,S.setWith=py,S.shuffle=r2,S.slice=n_,S.sortBy=s2,S.sortedUniq=f_,S.sortedUniqBy=a_,S.split=Ky,S.spread=_2,S.tail=c_,S.take=d_,S.takeRight=h_,S.takeRightWhile=g_,S.takeWhile=m_,S.tap=I_,S.throttle=y2,S.thru=Qo,S.toArray=bc,S.toPairs=Ec,S.toPairsIn=Ac,S.toPath=Cw,S.toPlainObject=pc,S.transform=Sy,S.unary=w2,S.union=__,S.unionBy=y_,S.unionWith=w_,S.uniq=b_,S.uniqBy=v_,S.uniqWith=p_,S.unset=ky,S.unzip=lu,S.unzipWith=rc,S.update=Cy,S.updateWith=Ey,S.values=tr,S.valuesIn=Ay,S.without=S_,S.words=Tc,S.wrap=b2,S.xor=k_,S.xorBy=C_,S.xorWith=E_,S.zip=A_,S.zipObject=M_,S.zipObjectDeep=P_,S.zipWith=T_,S.entries=Ec,S.entriesIn=Ac,S.extend=Sc,S.extendWith=rl,_u(S,S),S.add=Aw,S.attempt=Ic,S.camelCase=Iy,S.capitalize=Mc,S.ceil=Mw,S.clamp=My,S.clone=p2,S.cloneDeep=k2,S.cloneDeepWith=C2,S.cloneWith=S2,S.conformsTo=E2,S.deburr=Pc,S.defaultTo=ow,S.divide=Pw,S.endsWith=Oy,S.eq=Pn,S.escape=Ny,S.escapeRegExp=Hy,S.every=X_,S.find=F_,S.findIndex=$a,S.findKey=ty,S.findLast=V_,S.findLastIndex=ec,S.findLastKey=ny,S.floor=Tw,S.forEach=lc,S.forEachRight=sc,S.forIn=iy,S.forInRight=ry,S.forOwn=oy,S.forOwnRight=ly,S.get=cu,S.gt=A2,S.gte=M2,S.has=fy,S.hasIn=du,S.head=nc,S.identity=jt,S.includes=G_,S.indexOf=Vm,S.inRange=Py,S.invoke=dy,S.isArguments=Li,S.isArray=xe,S.isArrayBuffer=P2,S.isArrayLike=Jt,S.isArrayLikeObject=vt,S.isBoolean=T2,S.isBuffer=vi,S.isDate=I2,S.isElement=O2,S.isEmpty=N2,S.isEqual=H2,S.isEqualWith=z2,S.isError=fu,S.isFinite=L2,S.isFunction=ei,S.isInteger=mc,S.isLength=nl,S.isMap=_c,S.isMatch=R2,S.isMatchWith=D2,S.isNaN=W2,S.isNative=B2,S.isNil=Y2,S.isNull=X2,S.isNumber=yc,S.isObject=ht,S.isObjectLike=wt,S.isPlainObject=Yr,S.isRegExp=au,S.isSafeInteger=F2,S.isSet=wc,S.isString=il,S.isSymbol=ln,S.isTypedArray=er,S.isUndefined=V2,S.isWeakMap=K2,S.isWeakSet=U2,S.join=Gm,S.kebabCase=zy,S.last=vn,S.lastIndexOf=Zm,S.lowerCase=Ly,S.lowerFirst=Ry,S.lt=x2,S.lte=q2,S.max=Iw,S.maxBy=Ow,S.mean=Nw,S.meanBy=Hw,S.min=zw,S.minBy=Lw,S.stubArray=wu,S.stubFalse=bu,S.stubObject=vw,S.stubString=pw,S.stubTrue=Sw,S.multiply=Rw,S.nth=Jm,S.noConflict=dw,S.noop=yu,S.now=$o,S.pad=Dy,S.padEnd=Wy,S.padStart=By,S.parseInt=Xy,S.random=Ty,S.reduce=$_,S.reduceRight=e2,S.repeat=Yy,S.replace=Fy,S.result=by,S.round=Dw,S.runInContext=F,S.sample=n2,S.size=o2,S.snakeCase=Vy,S.some=l2,S.sortedIndex=i_,S.sortedIndexBy=r_,S.sortedIndexOf=o_,S.sortedLastIndex=l_,S.sortedLastIndexBy=s_,S.sortedLastIndexOf=u_,S.startCase=Uy,S.startsWith=xy,S.subtract=Ww,S.sum=Bw,S.sumBy=Xw,S.template=qy,S.times=kw,S.toFinite=ti,S.toInteger=qe,S.toLength=vc,S.toLower=Gy,S.toNumber=pn,S.toSafeInteger=G2,S.toString=it,S.toUpper=Zy,S.trim=Jy,S.trimEnd=Qy,S.trimStart=jy,S.truncate=$y,S.unescape=ew,S.uniqueId=Ew,S.upperCase=tw,S.upperFirst=hu,S.each=lc,S.eachRight=sc,S.first=nc,_u(S,function(){var r={};return Bn(S,function(o,c){ot.call(S.prototype,c)||(r[c]=o)}),r}(),{chain:!1}),S.VERSION=i,mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){S[r].placeholder=S}),mn(["drop","take"],function(r,o){Qe.prototype[r]=function(c){c=c===n?1:Mt(qe(c),0);var _=this.__filtered__&&!o?new Qe(this):this.clone();return _.__filtered__?_.__takeCount__=Dt(c,_.__takeCount__):_.__views__.push({size:Dt(c,se),type:r+(_.__dir__<0?"Right":"")}),_},Qe.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),mn(["filter","map","takeWhile"],function(r,o){var c=o+1,_=c==M||c==Y;Qe.prototype[r]=function(b){var k=this.clone();return k.__iteratees__.push({iteratee:De(b,3),type:c}),k.__filtered__=k.__filtered__||_,k}}),mn(["head","last"],function(r,o){var c="take"+(o?"Right":"");Qe.prototype[r]=function(){return this[c](1).value()[0]}}),mn(["initial","tail"],function(r,o){var c="drop"+(o?"":"Right");Qe.prototype[r]=function(){return this.__filtered__?new Qe(this):this[c](1)}}),Qe.prototype.compact=function(){return this.filter(jt)},Qe.prototype.find=function(r){return this.filter(r).head()},Qe.prototype.findLast=function(r){return this.reverse().find(r)},Qe.prototype.invokeMap=Ze(function(r,o){return typeof r=="function"?new Qe(this):this.map(function(c){return Lr(c,r,o)})}),Qe.prototype.reject=function(r){return this.filter(tl(De(r)))},Qe.prototype.slice=function(r,o){r=qe(r);var c=this;return c.__filtered__&&(r>0||o<0)?new Qe(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),o!==n&&(o=qe(o),c=o<0?c.dropRight(-o):c.take(o-r)),c)},Qe.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Qe.prototype.toArray=function(){return this.take(se)},Bn(Qe.prototype,function(r,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),_=/^(?:head|last)$/.test(o),b=S[_?"take"+(o=="last"?"Right":""):o],k=_||/^find/.test(o);b&&(S.prototype[o]=function(){var z=this.__wrapped__,W=_?[1]:arguments,K=z instanceof Qe,re=W[0],oe=K||xe(z),ae=function(Je){var $e=b.apply(S,hi([Je],W));return _&&_e?$e[0]:$e};oe&&c&&typeof re=="function"&&re.length!=1&&(K=oe=!1);var _e=this.__chain__,Pe=!!this.__actions__.length,We=k&&!_e,Ge=K&&!Pe;if(!k&&oe){z=Ge?z:new Qe(this);var Be=r.apply(z,W);return Be.__actions__.push({func:Qo,args:[ae],thisArg:n}),new yn(Be,_e)}return We&&Ge?r.apply(this,W):(Be=this.thru(ae),We?_?Be.value()[0]:Be.value():Be)})}),mn(["pop","push","shift","sort","splice","unshift"],function(r){var o=ko[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",_=/^(?:pop|shift)$/.test(r);S.prototype[r]=function(){var b=arguments;if(_&&!this.__chain__){var k=this.value();return o.apply(xe(k)?k:[],b)}return this[c](function(z){return o.apply(xe(z)?z:[],b)})}}),Bn(Qe.prototype,function(r,o){var c=S[o];if(c){var _=c.name+"";ot.call(Zi,_)||(Zi[_]=[]),Zi[_].push({name:o,func:c})}}),Zi[Ko(n,w).name]=[{name:"wrapper",func:n}],Qe.prototype.clone=e0,Qe.prototype.reverse=t0,Qe.prototype.value=n0,S.prototype.at=O_,S.prototype.chain=N_,S.prototype.commit=H_,S.prototype.next=z_,S.prototype.plant=R_,S.prototype.reverse=D_,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=W_,S.prototype.first=S.prototype.head,Pr&&(S.prototype[Pr]=L_),S},xi=Hg();Mi?((Mi.exports=xi)._=xi,ms._=xi):zt._=xi}).call(Kr)})(Ll,Ll.exports);var mS=Ll.exports;const sh=Y7(mS);function _S(t,e,n){const i=t.slice();return i[18]=e[n][0],i[19]=e[n][1],i}function yS(t,e,n){const i=t.slice();return i[18]=e[n][0],i[19]=e[n][1],i}function wS(t,e){let n,i,l;return i=new P1({props:{id:e[18],type:yr.ArrowClosed}}),{key:t,first:null,c(){n=yt(),Se(i.$$.fragment),this.first=n},m(s,u){$(s,n,u),we(i,s,u),l=!0},p:Te,i(s){l||(Q(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&j(n),be(i,s)}}}function bS(t,e){let n,i,l;return i=new P1({props:{id:e[18]+"line",type:yr.ArrowClosed}}),{key:t,first:null,c(){n=yt(),Se(i.$$.fragment),this.first=n},m(s,u){$(s,n,u),we(i,s,u),l=!0},p:Te,i(s){l||(Q(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&j(n),be(i,s)}}}function vS(t){let e;return{c(){e=ft("⛶")},m(n,i){$(n,e,i)},d(n){n&&j(e)}}}function pS(t){let e;return{c(){e=ft("🌙")},m(n,i){$(n,e,i)},d(n){n&&j(e)}}}function SS(t){let e,n,i,l;return e=new pr({props:{$$slots:{default:[vS]},$$scope:{ctx:t}}}),e.$on("click",t[11]),i=new pr({props:{$$slots:{default:[pS]},$$scope:{ctx:t}}}),i.$on("click",t[12]),{c(){Se(e.$$.fragment),n=Me(),Se(i.$$.fragment)},m(s,u){we(e,s,u),$(s,n,u),we(i,s,u),l=!0},p(s,u){const f={};u&16777216&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const a={};u&16777216&&(a.$$scope={dirty:u,ctx:s}),i.$set(a)},i(s){l||(Q(e.$$.fragment,s),Q(i.$$.fragment,s),l=!0)},o(s){te(e.$$.fragment,s),te(i.$$.fragment,s),l=!1},d(s){s&&j(n),be(e,s),be(i,s)}}}function kS(t){let e,n,i;return{c(){e=pe("a"),e.textContent="GitHub",n=pe("br"),i=ft("© 2024 Craig Anderson"),E(e,"href","https://github.com/theonlytechnohead/patchcanvas")},m(l,s){$(l,e,s),$(l,n,s),$(l,i,s)},p:Te,d(l){l&&(j(e),j(n),j(i))}}}function CS(t){let e=[],n=new Map,i,l=[],s=new Map,u,f,a,d,h,g,m,y,v,p,P,w=Ct(zl);const N=T=>T[19][1];for(let T=0;T<w.length;T+=1){let O=yS(t,w,T),H=N(O);n.set(H,e[T]=wS(H,O))}let C=Ct(zl);const A=T=>T[19][1];for(let T=0;T<C.length;T+=1){let O=_S(t,C,T),H=A(O);s.set(H,l[T]=bS(H,O))}return f=new $8({props:{variant:li.Dots}}),d=new f7({props:{position:"top-right",pannable:!1,zoomable:!1,width:visualViewport!=null&&visualViewport.width?(visualViewport==null?void 0:visualViewport.width)/10:void 0,height:visualViewport!=null&&visualViewport.height?(visualViewport==null?void 0:visualViewport.height)/10:void 0}}),g=new W8({props:{position:"bottom-right",showFitView:!1,showLock:!1,$$slots:{default:[SS]},$$scope:{ctx:t}}}),y=new vr({props:{position:"bottom-left",$$slots:{default:[kS]},$$scope:{ctx:t}}}),p=new Q7({}),{c(){for(let T=0;T<e.length;T+=1)e[T].c();i=Me();for(let T=0;T<l.length;T+=1)l[T].c();u=Me(),Se(f.$$.fragment),a=Me(),Se(d.$$.fragment),h=Me(),Se(g.$$.fragment),m=Me(),Se(y.$$.fragment),v=Me(),Se(p.$$.fragment)},m(T,O){for(let H=0;H<e.length;H+=1)e[H]&&e[H].m(T,O);$(T,i,O);for(let H=0;H<l.length;H+=1)l[H]&&l[H].m(T,O);$(T,u,O),we(f,T,O),$(T,a,O),we(d,T,O),$(T,h,O),we(g,T,O),$(T,m,O),we(y,T,O),$(T,v,O),we(p,T,O),P=!0},p(T,O){const H={};O&16777217&&(H.$$scope={dirty:O,ctx:T}),g.$set(H);const L={};O&16777216&&(L.$$scope={dirty:O,ctx:T}),y.$set(L)},i(T){if(!P){for(let O=0;O<w.length;O+=1)Q(e[O]);for(let O=0;O<C.length;O+=1)Q(l[O]);Q(f.$$.fragment,T),Q(d.$$.fragment,T),Q(g.$$.fragment,T),Q(y.$$.fragment,T),Q(p.$$.fragment,T),P=!0}},o(T){for(let O=0;O<e.length;O+=1)te(e[O]);for(let O=0;O<l.length;O+=1)te(l[O]);te(f.$$.fragment,T),te(d.$$.fragment,T),te(g.$$.fragment,T),te(y.$$.fragment,T),te(p.$$.fragment,T),P=!1},d(T){T&&(j(i),j(u),j(a),j(h),j(m),j(v));for(let O=0;O<e.length;O+=1)e[O].d(T);for(let O=0;O<l.length;O+=1)l[O].d(T);be(f,T),be(d,T),be(g,T),be(y,T),be(p,T)}}}function ES(t){let e,n;return e=new dS({props:{slot:"connectionLine"}}),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p:Te,i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function AS(t){let e,n;return e=new a8({props:{nodes:t[3],nodeTypes:t[1],edges:t[4],edgeTypes:t[2],defaultEdgeOptions:t[5],isValidConnection:MS,snapGrid:[25,25],colorMode:t[0].theme,fitView:!0,fitViewOptions:t[6],minZoom:.75,maxZoom:10,onlyRenderVisibleElements:!0,attributionPosition:"top-right",deleteKey:"Delete",$$slots:{connectionLine:[ES],default:[CS]},$$scope:{ctx:t}}}),e.$on("dragover",t[7]),e.$on("drop",t[8]),e.$on("nodeclick",t[13]),e.$on("edgeclick",t[14]),{c(){Se(e.$$.fragment)},m(i,l){we(e,i,l),n=!0},p(i,[l]){const s={};l&1&&(s.colorMode=i[0].theme),l&16777217&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||(Q(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){be(e,i)}}}function MS(t){return t.sourceHandle===t.targetHandle}function PS(t){var e;document.fullscreenElement||(e=document.querySelector('[media="screen"]'))==null||e.setAttribute("media","print")}function TS(t,e,n){var T;let i,l,s,u;de(t,Sn,O=>n(15,s=O)),de(t,Nu,O=>n(0,u=O)),s.version!=pl?(console.log("Version mismatch: "+s.version+" != "+pl),s.nodes.length===On.length&&s.edges.length===xu.length&&s.nodes.every((O,H,L)=>sh.isMatch(O,On[H]))&&s.edges.every((O,H,L)=>sh.isMatch(O,xu[H]))?(console.log("Still default, updating without confirmation"),setTimeout(()=>{A1()},0)):(console.log("Edited, prompt for confirmation"),confirm(`Your canvas is out of date
Do you want to update to the latest version?
(v${s.version} -> v${pl})`))):console.log("Using latest save version: "+s.version),document.documentElement.setAttribute("data-theme",u.theme),(T=document.querySelector('meta[name="color-scheme"]'))==null||T.setAttribute("content",u.theme);const f={default:sS},a={connection:eS},d=Oe(JSON.parse(JSON.stringify(ue(Sn).nodes)));de(t,d,O=>n(9,i=O));const h=Oe(JSON.parse(JSON.stringify(ue(Sn).edges)));de(t,h,O=>n(10,l=O));const g={animated:!1,type:"connection",class:""},m={padding:1,duration:1e3},{screenToFlowPosition:y}=h7(),v=O=>{if(O.preventDefault(),O.dataTransfer){const H=document.elementFromPoint(O.clientX,O.clientY);let L="";O.dataTransfer.types[0]==="application/patchcanvasnode"?L=".svelte-flow__pane, .svelte-flow__edge, .svelte-flow__node.group":O.dataTransfer.types[0].includes("patchcanvasprotocol/")?L=".drop-target":O.dataTransfer.types[0]==="application/patchcanvaseraser"&&(L=".svelte-flow__handle"),H!=null&&H.matches(L)?O.dataTransfer.dropEffect="move":O.dataTransfer.dropEffect="none"}},p=O=>{if(O.preventDefault(),!O.dataTransfer)return null;if(O.dataTransfer.types[0]==="application/patchcanvasnode"){const H=JSON.parse(O.dataTransfer.getData("application/patchcanvasnode"));P(H,O.clientX,O.clientY)}};function P(O,H,L){const B=y({x:H,y:L}),x={id:crypto.randomUUID().toString(),type:"default",position:B,connectable:!O.group,data:{label:"Unnamed "+(O.group?"group":"node"),group:O.group??!1,inputs:O.inputs??[],outputs:O.outputs??[]},class:O.group?"group":void 0,dragHandle:".drag-dots",origin:[.5,0]};i.push(x),i.sort((I,X)=>I.data.group?X.data.group?0:-1:X.data.group?1:0),d.set(i)}const w=function(){var O;(O=document.querySelector('[media="print"]'))==null||O.setAttribute("media","screen"),document.addEventListener("fullscreenchange",PS),document.documentElement.requestFullscreen()},N=()=>{var O;u.theme==="dark"?zn(Nu,u.theme="light",u):zn(Nu,u.theme="dark",u),document.documentElement.setAttribute("data-theme",u.theme),(O=document.querySelector('meta[name="color-scheme"]'))==null||O.setAttribute("content",u.theme)},C=O=>console.log("on node click",O.detail.node),A=O=>console.log("on edge click: ",O.detail.edge);return t.$$.update=()=>{t.$$.dirty&1536&&(zn(Sn,s.nodes=i,s),zn(Sn,s.edges=l,s))},[u,f,a,d,h,g,m,v,p,i,l,w,N,C,A]}class IS extends He{constructor(e){super(),Ne(this,e,TS,AS,ze,{})}}function uh(t,e,n){const i=t.slice();return i[1]=e[n],i}function fh(t,e){let n,i,l;return i=new IS({}),{key:t,first:null,c(){n=yt(),Se(i.$$.fragment),this.first=n},m(s,u){$(s,n,u),we(i,s,u),l=!0},p(s,u){},i(s){l||(Q(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&j(n),be(i,s)}}}function OS(t){let e=[],n=new Map,i,l,s=Ct(t[0].uniqueFlow);const u=f=>f[1];for(let f=0;f<s.length;f+=1){let a=uh(t,s,f),d=u(a);n.set(d,e[f]=fh(d))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();i=yt()},m(f,a){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(f,a);$(f,i,a),l=!0},p(f,a){a&1&&(s=Ct(f[0].uniqueFlow),mt(),e=Ei(e,a,u,0,f,s,n,i.parentNode,Bi,fh,i,uh),_t())},i(f){if(!l){for(let a=0;a<s.length;a+=1)Q(e[a]);l=!0}},o(f){for(let a=0;a<e.length;a+=1)te(e[a]);l=!1},d(f){f&&j(i);for(let a=0;a<e.length;a+=1)e[a].d(f)}}}function NS(t){let e,n,i,l;return i=new h8({props:{$$slots:{default:[OS]},$$scope:{ctx:t}}}),{c(){e=pe("main"),n=pe("div"),Se(i.$$.fragment),Xe(n,"height","100%")},m(s,u){$(s,e,u),he(e,n),we(i,n,null),l=!0},p(s,[u]){const f={};u&17&&(f.$$scope={dirty:u,ctx:s}),i.$set(f)},i(s){l||(Q(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&j(e),be(i)}}}function HS(t,e,n){let i;return de(t,Sn,l=>n(0,i=l)),[i]}class zS extends He{constructor(e){super(),Ne(this,e,HS,NS,ze,{})}}new zS({target:document.body});
