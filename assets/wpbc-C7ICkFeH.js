import{S as C,i as x,s as S,a as F,e as _,c as k,b as P,d as u,f as j,m as b,t as f,g as d,h as p,j as y,k as h,v as m,w as L,l as w,n as q,o as M,u as R,p as B,C as N,q as U,r as g}from"./Canvas-C9J1ERwK.js";function $(l,n,r){const t=l.slice();return t[2]=n[r],t}function v(l,n){let r,t,c;return t=new N({}),{key:l,first:null,c(){r=q(),k(t.$$.fragment),this.first=r},m(e,s){u(e,r,s),b(t,e,s),c=!0},p(e,s){},i(e){c||(f(t.$$.fragment,e),c=!0)},o(e){d(t.$$.fragment,e),c=!1},d(e){e&&p(r),y(t,e)}}}function W(l){let n=[],r=new Map,t,c,e=w(l[0].uniqueFlow);const s=o=>o[2];for(let o=0;o<e.length;o+=1){let a=$(l,e,o),i=s(a);r.set(i,n[o]=v(i))}return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=q()},m(o,a){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,a);u(o,t,a),c=!0},p(o,a){a&1&&(e=w(o[0].uniqueFlow),M(),n=R(n,a,s,0,o,e,r,t.parentNode,U,v,t,$),B())},i(o){if(!c){for(let a=0;a<e.length;a+=1)f(n[a]);c=!0}},o(o){for(let a=0;a<n.length;a+=1)d(n[a]);c=!1},d(o){o&&p(t);for(let a=0;a<n.length;a+=1)n[a].d(o)}}}function z(l){let n,r,t,c;return t=new F({props:{$$slots:{default:[W]},$$scope:{ctx:l}}}),{c(){n=_("main"),r=_("div"),k(t.$$.fragment),P(r,"height","100%")},m(e,s){u(e,n,s),j(n,r),b(t,r,null),c=!0},p(e,[s]){const o={};s&33&&(o.$$scope={dirty:s,ctx:e}),t.$set(o)},i(e){c||(f(t.$$.fragment,e),c=!0)},o(e){d(t.$$.fragment,e),c=!1},d(e){e&&p(n),y(t)}}}function A(l,n,r){let t,c;return h(l,m,e=>r(1,t=e)),h(l,g,e=>r(0,c=e)),m.set("wpbc"),L(()=>{if(t==="wpbc"){const e=new URLSearchParams(window.location.search).get("canvas");e!==null&&typeof e=="string"&&0<e.length?(console.log("Requested canvas is:",e),fetch(`https://anderserver.ddns.net/patchcanvas/wpbc/${e}.patch`).then(s=>s.json()).then(s=>{console.log("Loaded requested canvas:",s),g.set(s)}).catch(s=>{console.log("Couldn't fetch requested canvas:",s),window.location.pathname="/",window.location.search=""})):window.location.pathname="/"}}),[c]}class D extends C{constructor(n){super(),x(this,n,A,z,S,{})}}new D({target:document.body});
