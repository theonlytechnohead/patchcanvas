var tb=Object.defineProperty;var nb=(t,e,n)=>e in t?tb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Si=(t,e,n)=>nb(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Ne(){}function ot(t,e){for(const n in e)t[n]=e[n];return t}function O1(t){return t()}function jc(){return Object.create(null)}function At(t){t.forEach(O1)}function vt(t){return typeof t=="function"}function Ye(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function N1(t,e){return t!=t?e==e:t!==e}function ib(t){return Object.keys(t).length===0}function ao(t,...e){if(t==null){for(const i of e)i(void 0);return Ne}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function he(t){let e;return ao(t,n=>e=n)(),e}function pe(t,e,n){t.$$.on_destroy.push(ao(e,n))}function Xt(t,e,n,i){if(t){const o=L1(t,e,n,i);return t[0](o)}}function L1(t,e,n,i){return t[1]&&i?ot(n.ctx.slice(),t[1](i(e))):n.ctx}function Ft(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const s=[],u=Math.max(e.dirty.length,o.length);for(let a=0;a<u;a+=1)s[a]=e.dirty[a]|o[a];return s}return e.dirty|o}return e.dirty}function xt(t,e,n,i,o,s){if(o){const u=L1(e,n,i,s);t.p(u,o)}}function Vt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function _n(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function St(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function rb(t){const e={};for(const n in t)e[n]=!0;return e}function vr(t){return t??""}function zn(t,e,n){return t.set(n),e}function $t(t){return t&&vt(t.destroy)?t.destroy:Ne}const ob=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function we(t,e){t.appendChild(e)}function oe(t,e,n){t.insertBefore(e,n||null)}function re(t){t.parentNode&&t.parentNode.removeChild(t)}function D1(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Ee(t){return document.createElement(t)}function Ge(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function rt(t){return document.createTextNode(t)}function Ie(){return rt(" ")}function Pt(){return rt("")}function We(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function O(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const lb=["width","height"];function kr(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&lb.indexOf(i)===-1?t[i]=e[i]:O(t,i,e[i])}function $c(t,e){for(const n in e)O(t,n,e[n])}function sb(t){return Array.from(t.childNodes)}function qt(t,e){e=""+e,t.data!==e&&(t.data=e)}function Xe(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}let kl;function ub(){if(kl===void 0){kl=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{kl=!0}}return kl}function ab(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=Ee("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=ub();let s;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=We(window,"message",u=>{u.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{s=We(i.contentWindow,"resize",e),e()}),we(t,i),()=>{(o||s&&i.contentWindow)&&s(),re(i)}}function Ke(t,e,n){t.classList.toggle(e,!!n)}function fb(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class cb{constructor(e=!1){Si(this,"is_svg",!1);Si(this,"e");Si(this,"n");Si(this,"t");Si(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Ge(n.nodeName):this.e=Ee(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)oe(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(re)}}function Bl(t,e){return new t(e)}let fo;function lo(t){fo=t}function Dr(){if(!fo)throw new Error("Function called outside component initialization");return fo}function Rr(t){Dr().$$.on_mount.push(t)}function ca(t){Dr().$$.on_destroy.push(t)}function Eo(){const t=Dr();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=fb(e,n,{cancelable:i});return o.slice().forEach(u=>{u.call(t,s)}),!s.defaultPrevented}return!0}}function co(t,e){return Dr().$$.context.set(t,e),e}function ho(t){return Dr().$$.context.get(t)}function db(t){return Dr().$$.context.has(t)}function lt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const gr=[],Tn=[];let _r=[];const qu=[],hb=Promise.resolve();let Ju=!1;function gb(){Ju||(Ju=!0,hb.then(R1))}function Wl(t){_r.push(t)}function mb(t){qu.push(t)}const Hu=new Set;let dr=0;function R1(){if(dr!==0)return;const t=fo;do{try{for(;dr<gr.length;){const e=gr[dr];dr++,lo(e),_b(e.$$)}}catch(e){throw gr.length=0,dr=0,e}for(lo(null),gr.length=0,dr=0;Tn.length;)Tn.pop()();for(let e=0;e<_r.length;e+=1){const n=_r[e];Hu.has(n)||(Hu.add(n),n())}_r.length=0}while(gr.length);for(;qu.length;)qu.pop()();Ju=!1,Hu.clear(),lo(t)}function _b(t){if(t.fragment!==null){t.update(),At(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Wl)}}function yb(t){const e=[],n=[];_r.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),_r=e}const Nl=new Set;let Yi;function Ct(){Yi={r:0,c:[],p:Yi}}function Et(){Yi.r||At(Yi.c),Yi=Yi.p}function se(t,e){t&&t.i&&(Nl.delete(t),t.i(e))}function fe(t,e,n,i){if(t&&t.o){if(Nl.has(t))return;Nl.add(t),Yi.c.push(()=>{Nl.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function Dt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function wb(t,e){t.d(1),e.delete(t.key)}function Cr(t,e){fe(t,1,1,()=>{e.delete(t.key)})}function xi(t,e,n,i,o,s,u,a,f,d,h,m){let g=t.length,y=s.length,v=g;const C={};for(;v--;)C[t[v].key]=v;const N=[],k=new Map,R=new Map,T=[];for(v=y;v--;){const w=m(o,s,v),I=n(w);let A=u.get(I);A?T.push(()=>A.p(w,e)):(A=d(I,w),A.c()),k.set(I,N[v]=A),I in C&&R.set(I,Math.abs(v-C[I]))}const B=new Set,S=new Set;function P(w){se(w,1),w.m(a,h),u.set(w.key,w),h=w.first,y--}for(;g&&y;){const w=N[y-1],I=t[g-1],A=w.key,W=I.key;w===I?(h=w.first,g--,y--):k.has(W)?!u.has(A)||B.has(A)?P(w):S.has(W)?g--:R.get(A)>R.get(W)?(S.add(A),P(w)):(B.add(W),g--):(f(I,u),g--)}for(;g--;){const w=t[g];k.has(w.key)||f(w,u)}for(;y;)P(N[y-1]);return At(T),N}function qn(t,e){const n={},i={},o={$$scope:1};let s=t.length;for(;s--;){const u=t[s],a=e[s];if(a){for(const f in u)f in a||(i[f]=1);for(const f in a)o[f]||(n[f]=a[f],o[f]=1);t[s]=a}else for(const f in u)o[f]=1}for(const u in i)u in n||(n[u]=void 0);return n}function Er(t){return typeof t=="object"&&t!==null?t:{}}function bb(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Te(t){t&&t.c()}function Ae(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Wl(()=>{const s=t.$$.on_mount.map(O1).filter(vt);t.$$.on_destroy?t.$$.on_destroy.push(...s):At(s),t.$$.on_mount=[]}),o.forEach(Wl)}function Me(t,e){const n=t.$$;n.fragment!==null&&(yb(n.after_update),At(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pb(t,e){t.$$.dirty[0]===-1&&(gr.push(t),gb(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,n,i,o,s,u=null,a=[-1]){const f=fo;lo(t);const d=t.$$={fragment:null,ctx:[],props:s,update:Ne,not_equal:o,bound:jc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:jc(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};u&&u(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},(m,g,...y)=>{const v=y.length?y[0]:g;return d.ctx&&o(d.ctx[m],d.ctx[m]=v)&&(!d.skip_bound&&d.bound[m]&&d.bound[m](v),h&&pb(t,m)),g}):[],d.update(),h=!0,At(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const m=sb(e.target);d.fragment&&d.fragment.l(m),m.forEach(re)}else d.fragment&&d.fragment.c();e.intro&&se(t.$$.fragment),Ae(t,e.target,e.anchor),R1()}lo(f)}class Be{constructor(){Si(this,"$$");Si(this,"$$set")}$destroy(){Me(this,1),this.$destroy=Ne}$on(e,n){if(!vt(n))return Ne;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!ib(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const vb="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(vb);const hr=[];function Mn(t,e){return{subscribe:He(t,e).subscribe}}function He(t,e=Ne){let n;const i=new Set;function o(a){if(Ye(t,a)&&(t=a,n)){const f=!hr.length;for(const d of i)d[1](),hr.push(d,t);if(f){for(let d=0;d<hr.length;d+=2)hr[d][0](hr[d+1]);hr.length=0}}}function s(a){o(a(t))}function u(a,f=Ne){const d=[a,f];return i.add(d),i.size===1&&(n=e(o,s)||Ne),a(t),()=>{i.delete(d),i.size===0&&n&&(n(),n=null)}}return{set:o,update:s,subscribe:u}}function yr(t,e,n){const i=!Array.isArray(t),o=i?[t]:t;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return Mn(n,(u,a)=>{let f=!1;const d=[];let h=0,m=Ne;const g=()=>{if(h)return;m();const v=e(i?d[0]:d,u,a);s?u(v):m=vt(v)?v:Ne},y=o.map((v,C)=>ao(v,N=>{d[C]=N,h&=~(1<<C),f&&g()},()=>{h|=1<<C}));return f=!0,g(),function(){At(y),m(),f=!1}})}function ut(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=ut(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var kb={value:()=>{}};function jl(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ll(n)}function Ll(t){this._=t}function Cb(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ll.prototype=jl.prototype={constructor:Ll,on:function(t,e){var n=this._,i=Cb(t+"",n),o,s=-1,u=i.length;if(arguments.length<2){for(;++s<u;)if((o=(t=i[s]).type)&&(o=Eb(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<u;)if(o=(t=i[s]).type)n[o]=ed(n[o],t.name,e);else if(e==null)for(o in n)n[o]=ed(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ll(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,s;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,o=s.length;i<o;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,s=i.length;o<s;++o)i[o].value.apply(e,n)}};function Eb(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function ed(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=kb,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Qu="http://www.w3.org/1999/xhtml";const td={svg:"http://www.w3.org/2000/svg",xhtml:Qu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $l(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),td.hasOwnProperty(e)?{space:td[e],local:t}:t}function Sb(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Qu&&e.documentElement.namespaceURI===Qu?e.createElement(t):e.createElementNS(n,t)}}function Ab(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function H1(t){var e=$l(t);return(e.local?Ab:Sb)(e)}function Mb(){}function da(t){return t==null?Mb:function(){return this.querySelector(t)}}function Tb(t){typeof t!="function"&&(t=da(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],u=s.length,a=i[o]=new Array(u),f,d,h=0;h<u;++h)(f=s[h])&&(d=t.call(f,f.__data__,h,s))&&("__data__"in f&&(d.__data__=f.__data__),a[h]=d);return new yn(i,this._parents)}function Pb(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ib(){return[]}function z1(t){return t==null?Ib:function(){return this.querySelectorAll(t)}}function Ob(t){return function(){return Pb(t.apply(this,arguments))}}function Nb(t){typeof t=="function"?t=Ob(t):t=z1(t);for(var e=this._groups,n=e.length,i=[],o=[],s=0;s<n;++s)for(var u=e[s],a=u.length,f,d=0;d<a;++d)(f=u[d])&&(i.push(t.call(f,f.__data__,d,u)),o.push(f));return new yn(i,o)}function B1(t){return function(){return this.matches(t)}}function W1(t){return function(e){return e.matches(t)}}var Lb=Array.prototype.find;function Db(t){return function(){return Lb.call(this.children,t)}}function Rb(){return this.firstElementChild}function Hb(t){return this.select(t==null?Rb:Db(typeof t=="function"?t:W1(t)))}var zb=Array.prototype.filter;function Bb(){return Array.from(this.children)}function Wb(t){return function(){return zb.call(this.children,t)}}function Yb(t){return this.selectAll(t==null?Bb:Wb(typeof t=="function"?t:W1(t)))}function Xb(t){typeof t!="function"&&(t=B1(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],u=s.length,a=i[o]=[],f,d=0;d<u;++d)(f=s[d])&&t.call(f,f.__data__,d,s)&&a.push(f);return new yn(i,this._parents)}function Y1(t){return new Array(t.length)}function Fb(){return new yn(this._enter||this._groups.map(Y1),this._parents)}function Yl(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Yl.prototype={constructor:Yl,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function xb(t){return function(){return t}}function Vb(t,e,n,i,o,s){for(var u=0,a,f=e.length,d=s.length;u<d;++u)(a=e[u])?(a.__data__=s[u],i[u]=a):n[u]=new Yl(t,s[u]);for(;u<f;++u)(a=e[u])&&(o[u]=a)}function Ub(t,e,n,i,o,s,u){var a,f,d=new Map,h=e.length,m=s.length,g=new Array(h),y;for(a=0;a<h;++a)(f=e[a])&&(g[a]=y=u.call(f,f.__data__,a,e)+"",d.has(y)?o[a]=f:d.set(y,f));for(a=0;a<m;++a)y=u.call(t,s[a],a,s)+"",(f=d.get(y))?(i[a]=f,f.__data__=s[a],d.delete(y)):n[a]=new Yl(t,s[a]);for(a=0;a<h;++a)(f=e[a])&&d.get(g[a])===f&&(o[a]=f)}function Kb(t){return t.__data__}function Zb(t,e){if(!arguments.length)return Array.from(this,Kb);var n=e?Ub:Vb,i=this._parents,o=this._groups;typeof t!="function"&&(t=xb(t));for(var s=o.length,u=new Array(s),a=new Array(s),f=new Array(s),d=0;d<s;++d){var h=i[d],m=o[d],g=m.length,y=Gb(t.call(h,h&&h.__data__,d,i)),v=y.length,C=a[d]=new Array(v),N=u[d]=new Array(v),k=f[d]=new Array(g);n(h,m,C,N,k,y,e);for(var R=0,T=0,B,S;R<v;++R)if(B=C[R]){for(R>=T&&(T=R+1);!(S=N[T])&&++T<v;);B._next=S||null}}return u=new yn(u,i),u._enter=a,u._exit=f,u}function Gb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qb(){return new yn(this._exit||this._groups.map(Y1),this._parents)}function Jb(t,e,n){var i=this.enter(),o=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?s.remove():n(s),i&&o?i.merge(o).order():o}function Qb(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,s=i.length,u=Math.min(o,s),a=new Array(o),f=0;f<u;++f)for(var d=n[f],h=i[f],m=d.length,g=a[f]=new Array(m),y,v=0;v<m;++v)(y=d[v]||h[v])&&(g[v]=y);for(;f<o;++f)a[f]=n[f];return new yn(a,this._parents)}function jb(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,s=i[o],u;--o>=0;)(u=i[o])&&(s&&u.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(u,s),s=u);return this}function $b(t){t||(t=e4);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s){for(var u=n[s],a=u.length,f=o[s]=new Array(a),d,h=0;h<a;++h)(d=u[h])&&(f[h]=d);f.sort(e)}return new yn(o,this._parents).order()}function e4(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function t4(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function n4(){return Array.from(this)}function i4(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length;o<s;++o){var u=i[o];if(u)return u}return null}function r4(){let t=0;for(const e of this)++t;return t}function o4(){return!this.node()}function l4(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],s=0,u=o.length,a;s<u;++s)(a=o[s])&&t.call(a,a.__data__,s,o);return this}function s4(t){return function(){this.removeAttribute(t)}}function u4(t){return function(){this.removeAttributeNS(t.space,t.local)}}function a4(t,e){return function(){this.setAttribute(t,e)}}function f4(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function c4(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function d4(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function h4(t,e){var n=$l(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?u4:s4:typeof e=="function"?n.local?d4:c4:n.local?f4:a4)(n,e))}function X1(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function g4(t){return function(){this.style.removeProperty(t)}}function m4(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _4(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function y4(t,e,n){return arguments.length>1?this.each((e==null?g4:typeof e=="function"?_4:m4)(t,e,n??"")):Sr(this.node(),t)}function Sr(t,e){return t.style.getPropertyValue(e)||X1(t).getComputedStyle(t,null).getPropertyValue(e)}function w4(t){return function(){delete this[t]}}function b4(t,e){return function(){this[t]=e}}function p4(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function v4(t,e){return arguments.length>1?this.each((e==null?w4:typeof e=="function"?p4:b4)(t,e)):this.node()[t]}function F1(t){return t.trim().split(/^|\s+/)}function ha(t){return t.classList||new x1(t)}function x1(t){this._node=t,this._names=F1(t.getAttribute("class")||"")}x1.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function V1(t,e){for(var n=ha(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function U1(t,e){for(var n=ha(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function k4(t){return function(){V1(this,t)}}function C4(t){return function(){U1(this,t)}}function E4(t,e){return function(){(e.apply(this,arguments)?V1:U1)(this,t)}}function S4(t,e){var n=F1(t+"");if(arguments.length<2){for(var i=ha(this.node()),o=-1,s=n.length;++o<s;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?E4:e?k4:C4)(n,e))}function A4(){this.textContent=""}function M4(t){return function(){this.textContent=t}}function T4(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function P4(t){return arguments.length?this.each(t==null?A4:(typeof t=="function"?T4:M4)(t)):this.node().textContent}function I4(){this.innerHTML=""}function O4(t){return function(){this.innerHTML=t}}function N4(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function L4(t){return arguments.length?this.each(t==null?I4:(typeof t=="function"?N4:O4)(t)):this.node().innerHTML}function D4(){this.nextSibling&&this.parentNode.appendChild(this)}function R4(){return this.each(D4)}function H4(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function z4(){return this.each(H4)}function B4(t){var e=typeof t=="function"?t:H1(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function W4(){return null}function Y4(t,e){var n=typeof t=="function"?t:H1(t),i=e==null?W4:typeof e=="function"?e:da(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function X4(){var t=this.parentNode;t&&t.removeChild(this)}function F4(){return this.each(X4)}function x4(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function V4(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function U4(t){return this.select(t?V4:x4)}function K4(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Z4(t){return function(e){t.call(this,e,this.__data__)}}function G4(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function q4(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,s;n<o;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function J4(t,e,n){return function(){var i=this.__on,o,s=Z4(e);if(i){for(var u=0,a=i.length;u<a;++u)if((o=i[u]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=e;return}}this.addEventListener(t.type,s,n),o={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(o):this.__on=[o]}}function Q4(t,e,n){var i=G4(t+""),o,s=i.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var f=0,d=a.length,h;f<d;++f)for(o=0,h=a[f];o<s;++o)if((u=i[o]).type===h.type&&u.name===h.name)return h.value}return}for(a=e?J4:q4,o=0;o<s;++o)this.each(a(i[o],e,n));return this}function K1(t,e,n){var i=X1(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function j4(t,e){return function(){return K1(this,t,e)}}function $4(t,e){return function(){return K1(this,t,e.apply(this,arguments))}}function ep(t,e){return this.each((typeof e=="function"?$4:j4)(t,e))}function*tp(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,s=i.length,u;o<s;++o)(u=i[o])&&(yield u)}var Z1=[null];function yn(t,e){this._groups=t,this._parents=e}function So(){return new yn([[document.documentElement]],Z1)}function np(){return this}yn.prototype=So.prototype={constructor:yn,select:Tb,selectAll:Nb,selectChild:Hb,selectChildren:Yb,filter:Xb,data:Zb,enter:Fb,exit:qb,join:Jb,merge:Qb,selection:np,order:jb,sort:$b,call:t4,nodes:n4,node:i4,size:r4,empty:o4,each:l4,attr:h4,style:y4,property:v4,classed:S4,text:P4,html:L4,raise:R4,lower:z4,append:B4,insert:Y4,remove:F4,clone:U4,datum:K4,on:Q4,dispatch:ep,[Symbol.iterator]:tp};function mn(t){return typeof t=="string"?new yn([[document.querySelector(t)]],[document.documentElement]):new yn([[t]],Z1)}function ip(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Dn(t,e){if(t=ip(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const rp={passive:!1},go={capture:!0,passive:!1};function zu(t){t.stopImmediatePropagation()}function wr(t){t.preventDefault(),t.stopImmediatePropagation()}function G1(t){var e=t.document.documentElement,n=mn(t).on("dragstart.drag",wr,go);"onselectstart"in e?n.on("selectstart.drag",wr,go):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function q1(t,e){var n=t.document.documentElement,i=mn(t).on("dragstart.drag",null);e&&(i.on("click.drag",wr,go),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Cl=t=>()=>t;function ju(t,{sourceEvent:e,subject:n,target:i,identifier:o,active:s,x:u,y:a,dx:f,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}ju.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function op(t){return!t.ctrlKey&&!t.button}function lp(){return this.parentNode}function sp(t,e){return e??{x:t.x,y:t.y}}function up(){return navigator.maxTouchPoints||"ontouchstart"in this}function J1(){var t=op,e=lp,n=sp,i=up,o={},s=jl("start","drag","end"),u=0,a,f,d,h,m=0;function g(B){B.on("mousedown.drag",y).filter(i).on("touchstart.drag",N).on("touchmove.drag",k,rp).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(B,S){if(!(h||!t.call(this,B,S))){var P=T(this,e.call(this,B,S),B,S,"mouse");P&&(mn(B.view).on("mousemove.drag",v,go).on("mouseup.drag",C,go),G1(B.view),zu(B),d=!1,a=B.clientX,f=B.clientY,P("start",B))}}function v(B){if(wr(B),!d){var S=B.clientX-a,P=B.clientY-f;d=S*S+P*P>m}o.mouse("drag",B)}function C(B){mn(B.view).on("mousemove.drag mouseup.drag",null),q1(B.view,d),wr(B),o.mouse("end",B)}function N(B,S){if(t.call(this,B,S)){var P=B.changedTouches,w=e.call(this,B,S),I=P.length,A,W;for(A=0;A<I;++A)(W=T(this,w,B,S,P[A].identifier,P[A]))&&(zu(B),W("start",B,P[A]))}}function k(B){var S=B.changedTouches,P=S.length,w,I;for(w=0;w<P;++w)(I=o[S[w].identifier])&&(wr(B),I("drag",B,S[w]))}function R(B){var S=B.changedTouches,P=S.length,w,I;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),w=0;w<P;++w)(I=o[S[w].identifier])&&(zu(B),I("end",B,S[w]))}function T(B,S,P,w,I,A){var W=s.copy(),H=Dn(A||P,S),E,Y,b;if((b=n.call(B,new ju("beforestart",{sourceEvent:P,target:g,identifier:I,active:u,x:H[0],y:H[1],dx:0,dy:0,dispatch:W}),w))!=null)return E=b.x-H[0]||0,Y=b.y-H[1]||0,function X(D,V,G){var Z=H,ie;switch(D){case"start":o[I]=X,ie=u++;break;case"end":delete o[I],--u;case"drag":H=Dn(G||V,S),ie=u;break}W.call(D,B,new ju(D,{sourceEvent:V,subject:b,target:g,identifier:I,active:ie,x:H[0]+E,y:H[1]+Y,dx:H[0]-Z[0],dy:H[1]-Z[1],dispatch:W}),w)}}return g.filter=function(B){return arguments.length?(t=typeof B=="function"?B:Cl(!!B),g):t},g.container=function(B){return arguments.length?(e=typeof B=="function"?B:Cl(B),g):e},g.subject=function(B){return arguments.length?(n=typeof B=="function"?B:Cl(B),g):n},g.touchable=function(B){return arguments.length?(i=typeof B=="function"?B:Cl(!!B),g):i},g.on=function(){var B=s.on.apply(s,arguments);return B===s?g:B},g.clickDistance=function(B){return arguments.length?(m=(B=+B)*B,g):Math.sqrt(m)},g}function ga(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Q1(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ao(){}var mo=.7,Xl=1/mo,br="\\s*([+-]?\\d+)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ap=/^#([0-9a-f]{3,8})$/,fp=new RegExp(`^rgb\\(${br},${br},${br}\\)$`),cp=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),dp=new RegExp(`^rgba\\(${br},${br},${br},${_o}\\)$`),hp=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${_o}\\)$`),gp=new RegExp(`^hsl\\(${_o},${Zn},${Zn}\\)$`),mp=new RegExp(`^hsla\\(${_o},${Zn},${Zn},${_o}\\)$`),nd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ga(Ao,yo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:id,formatHex:id,formatHex8:_p,formatHsl:yp,formatRgb:rd,toString:rd});function id(){return this.rgb().formatHex()}function _p(){return this.rgb().formatHex8()}function yp(){return j1(this).formatHsl()}function rd(){return this.rgb().formatRgb()}function yo(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ap.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?od(e):n===3?new ln(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?El(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?El(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=fp.exec(t))?new ln(e[1],e[2],e[3],1):(e=cp.exec(t))?new ln(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=dp.exec(t))?El(e[1],e[2],e[3],e[4]):(e=hp.exec(t))?El(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gp.exec(t))?ud(e[1],e[2]/100,e[3]/100,1):(e=mp.exec(t))?ud(e[1],e[2]/100,e[3]/100,e[4]):nd.hasOwnProperty(t)?od(nd[t]):t==="transparent"?new ln(NaN,NaN,NaN,0):null}function od(t){return new ln(t>>16&255,t>>8&255,t&255,1)}function El(t,e,n,i){return i<=0&&(t=e=n=NaN),new ln(t,e,n,i)}function wp(t){return t instanceof Ao||(t=yo(t)),t?(t=t.rgb(),new ln(t.r,t.g,t.b,t.opacity)):new ln}function $u(t,e,n,i){return arguments.length===1?wp(t):new ln(t,e,n,i??1)}function ln(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}ga(ln,$u,Q1(Ao,{brighter(t){return t=t==null?Xl:Math.pow(Xl,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mo:Math.pow(mo,t),new ln(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ln(Fi(this.r),Fi(this.g),Fi(this.b),Fl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ld,formatHex:ld,formatHex8:bp,formatRgb:sd,toString:sd}));function ld(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}`}function bp(){return`#${Xi(this.r)}${Xi(this.g)}${Xi(this.b)}${Xi((isNaN(this.opacity)?1:this.opacity)*255)}`}function sd(){const t=Fl(this.opacity);return`${t===1?"rgb(":"rgba("}${Fi(this.r)}, ${Fi(this.g)}, ${Fi(this.b)}${t===1?")":`, ${t})`}`}function Fl(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xi(t){return t=Fi(t),(t<16?"0":"")+t.toString(16)}function ud(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rn(t,e,n,i)}function j1(t){if(t instanceof Rn)return new Rn(t.h,t.s,t.l,t.opacity);if(t instanceof Ao||(t=yo(t)),!t)return new Rn;if(t instanceof Rn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),s=Math.max(e,n,i),u=NaN,a=s-o,f=(s+o)/2;return a?(e===s?u=(n-i)/a+(n<i)*6:n===s?u=(i-e)/a+2:u=(e-n)/a+4,a/=f<.5?s+o:2-s-o,u*=60):a=f>0&&f<1?0:u,new Rn(u,a,f,t.opacity)}function pp(t,e,n,i){return arguments.length===1?j1(t):new Rn(t,e,n,i??1)}function Rn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}ga(Rn,pp,Q1(Ao,{brighter(t){return t=t==null?Xl:Math.pow(Xl,t),new Rn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mo:Math.pow(mo,t),new Rn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new ln(Bu(t>=240?t-240:t+120,o,i),Bu(t,o,i),Bu(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Rn(ad(this.h),Sl(this.s),Sl(this.l),Fl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fl(this.opacity);return`${t===1?"hsl(":"hsla("}${ad(this.h)}, ${Sl(this.s)*100}%, ${Sl(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ad(t){return t=(t||0)%360,t<0?t+360:t}function Sl(t){return Math.max(0,Math.min(1,t||0))}function Bu(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const $1=t=>()=>t;function vp(t,e){return function(n){return t+n*e}}function kp(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Cp(t){return(t=+t)==1?eh:function(e,n){return n-e?kp(e,n,t):$1(isNaN(e)?n:e)}}function eh(t,e){var n=e-t;return n?vp(t,n):$1(isNaN(t)?e:t)}const fd=function t(e){var n=Cp(e);function i(o,s){var u=n((o=$u(o)).r,(s=$u(s)).r),a=n(o.g,s.g),f=n(o.b,s.b),d=eh(o.opacity,s.opacity);return function(h){return o.r=u(h),o.g=a(h),o.b=f(h),o.opacity=d(h),o+""}}return i.gamma=t,i}(1);function Ti(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var ea=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wu=new RegExp(ea.source,"g");function Ep(t){return function(){return t}}function Sp(t){return function(e){return t(e)+""}}function Ap(t,e){var n=ea.lastIndex=Wu.lastIndex=0,i,o,s,u=-1,a=[],f=[];for(t=t+"",e=e+"";(i=ea.exec(t))&&(o=Wu.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),a[u]?a[u]+=s:a[++u]=s),(i=i[0])===(o=o[0])?a[u]?a[u]+=o:a[++u]=o:(a[++u]=null,f.push({i:u,x:Ti(i,o)})),n=Wu.lastIndex;return n<e.length&&(s=e.slice(n),a[u]?a[u]+=s:a[++u]=s),a.length<2?f[0]?Sp(f[0].x):Ep(e):(e=f.length,function(d){for(var h=0,m;h<e;++h)a[(m=f[h]).i]=m.x(d);return a.join("")})}var cd=180/Math.PI,ta={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function th(t,e,n,i,o,s){var u,a,f;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(f=t*n+e*i)&&(n-=t*f,i-=e*f),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,f/=a),t*i<e*n&&(t=-t,e=-e,f=-f,u=-u),{translateX:o,translateY:s,rotate:Math.atan2(e,t)*cd,skewX:Math.atan(f)*cd,scaleX:u,scaleY:a}}var Al;function Mp(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ta:th(e.a,e.b,e.c,e.d,e.e,e.f)}function Tp(t){return t==null||(Al||(Al=document.createElementNS("http://www.w3.org/2000/svg","g")),Al.setAttribute("transform",t),!(t=Al.transform.baseVal.consolidate()))?ta:(t=t.matrix,th(t.a,t.b,t.c,t.d,t.e,t.f))}function nh(t,e,n,i){function o(d){return d.length?d.pop()+" ":""}function s(d,h,m,g,y,v){if(d!==m||h!==g){var C=y.push("translate(",null,e,null,n);v.push({i:C-4,x:Ti(d,m)},{i:C-2,x:Ti(h,g)})}else(m||g)&&y.push("translate("+m+e+g+n)}function u(d,h,m,g){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),g.push({i:m.push(o(m)+"rotate(",null,i)-2,x:Ti(d,h)})):h&&m.push(o(m)+"rotate("+h+i)}function a(d,h,m,g){d!==h?g.push({i:m.push(o(m)+"skewX(",null,i)-2,x:Ti(d,h)}):h&&m.push(o(m)+"skewX("+h+i)}function f(d,h,m,g,y,v){if(d!==m||h!==g){var C=y.push(o(y)+"scale(",null,",",null,")");v.push({i:C-4,x:Ti(d,m)},{i:C-2,x:Ti(h,g)})}else(m!==1||g!==1)&&y.push(o(y)+"scale("+m+","+g+")")}return function(d,h){var m=[],g=[];return d=t(d),h=t(h),s(d.translateX,d.translateY,h.translateX,h.translateY,m,g),u(d.rotate,h.rotate,m,g),a(d.skewX,h.skewX,m,g),f(d.scaleX,d.scaleY,h.scaleX,h.scaleY,m,g),d=h=null,function(y){for(var v=-1,C=g.length,N;++v<C;)m[(N=g[v]).i]=N.x(y);return m.join("")}}}var Pp=nh(Mp,"px, ","px)","deg)"),Ip=nh(Tp,", ",")",")"),Op=1e-12;function dd(t){return((t=Math.exp(t))+1/t)/2}function Np(t){return((t=Math.exp(t))-1/t)/2}function Lp(t){return((t=Math.exp(2*t))-1)/(t+1)}const Dp=function t(e,n,i){function o(s,u){var a=s[0],f=s[1],d=s[2],h=u[0],m=u[1],g=u[2],y=h-a,v=m-f,C=y*y+v*v,N,k;if(C<Op)k=Math.log(g/d)/e,N=function(w){return[a+w*y,f+w*v,d*Math.exp(e*w*k)]};else{var R=Math.sqrt(C),T=(g*g-d*d+i*C)/(2*d*n*R),B=(g*g-d*d-i*C)/(2*g*n*R),S=Math.log(Math.sqrt(T*T+1)-T),P=Math.log(Math.sqrt(B*B+1)-B);k=(P-S)/e,N=function(w){var I=w*k,A=dd(S),W=d/(n*R)*(A*Lp(e*I+S)-Np(S));return[a+W*y,f+W*v,d*A/dd(e*I+S)]}}return N.duration=k*1e3*e/Math.SQRT2,N}return o.rho=function(s){var u=Math.max(.001,+s),a=u*u,f=a*a;return t(u,a,f)},o}(Math.SQRT2,2,4);var Ar=0,ro=0,to=0,ih=1e3,xl,oo,Vl=0,Vi=0,es=0,wo=typeof performance=="object"&&performance.now?performance:Date,rh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ma(){return Vi||(rh(Rp),Vi=wo.now()+es)}function Rp(){Vi=0}function Ul(){this._call=this._time=this._next=null}Ul.prototype=oh.prototype={constructor:Ul,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ma():+n)+(e==null?0:+e),!this._next&&oo!==this&&(oo?oo._next=this:xl=this,oo=this),this._call=t,this._time=n,na()},stop:function(){this._call&&(this._call=null,this._time=1/0,na())}};function oh(t,e,n){var i=new Ul;return i.restart(t,e,n),i}function Hp(){ma(),++Ar;for(var t=xl,e;t;)(e=Vi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ar}function hd(){Vi=(Vl=wo.now())+es,Ar=ro=0;try{Hp()}finally{Ar=0,Bp(),Vi=0}}function zp(){var t=wo.now(),e=t-Vl;e>ih&&(es-=e,Vl=t)}function Bp(){for(var t,e=xl,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:xl=n);oo=t,na(i)}function na(t){if(!Ar){ro&&(ro=clearTimeout(ro));var e=t-Vi;e>24?(t<1/0&&(ro=setTimeout(hd,t-wo.now()-es)),to&&(to=clearInterval(to))):(to||(Vl=wo.now(),to=setInterval(zp,ih)),Ar=1,rh(hd))}}function gd(t,e,n){var i=new Ul;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var Wp=jl("start","end","cancel","interrupt"),Yp=[],lh=0,md=1,ia=2,Dl=3,_d=4,ra=5,Rl=6;function ts(t,e,n,i,o,s){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;Xp(t,n,{name:e,index:i,group:o,on:Wp,tween:Yp,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:lh})}function _a(t,e){var n=Bn(t,e);if(n.state>lh)throw new Error("too late; already scheduled");return n}function Jn(t,e){var n=Bn(t,e);if(n.state>Dl)throw new Error("too late; already running");return n}function Bn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Xp(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=oh(s,0,n.time);function s(d){n.state=md,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var h,m,g,y;if(n.state!==md)return f();for(h in i)if(y=i[h],y.name===n.name){if(y.state===Dl)return gd(u);y.state===_d?(y.state=Rl,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete i[h]):+h<e&&(y.state=Rl,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete i[h])}if(gd(function(){n.state===Dl&&(n.state=_d,n.timer.restart(a,n.delay,n.time),a(d))}),n.state=ia,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ia){for(n.state=Dl,o=new Array(g=n.tween.length),h=0,m=-1;h<g;++h)(y=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(o[++m]=y);o.length=m+1}}function a(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=ra,1),m=-1,g=o.length;++m<g;)o[m].call(t,h);n.state===ra&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=Rl,n.timer.stop(),delete i[e];for(var d in i)return;delete t.__transition}}function Hl(t,e){var n=t.__transition,i,o,s=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((i=n[u]).name!==e){s=!1;continue}o=i.state>ia&&i.state<ra,i.state=Rl,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}s&&delete t.__transition}}function Fp(t){return this.each(function(){Hl(this,t)})}function xp(t,e){var n,i;return function(){var o=Jn(this,t),s=o.tween;if(s!==n){i=n=s;for(var u=0,a=i.length;u<a;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function Vp(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var s=Jn(this,t),u=s.tween;if(u!==i){o=(i=u).slice();for(var a={name:e,value:n},f=0,d=o.length;f<d;++f)if(o[f].name===e){o[f]=a;break}f===d&&o.push(a)}s.tween=o}}function Up(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Bn(this.node(),n).tween,o=0,s=i.length,u;o<s;++o)if((u=i[o]).name===t)return u.value;return null}return this.each((e==null?xp:Vp)(n,t,e))}function ya(t,e,n){var i=t._id;return t.each(function(){var o=Jn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Bn(o,i).value[e]}}function sh(t,e){var n;return(typeof e=="number"?Ti:e instanceof yo?fd:(n=yo(e))?(e=n,fd):Ap)(t,e)}function Kp(t){return function(){this.removeAttribute(t)}}function Zp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gp(t,e,n){var i,o=n+"",s;return function(){var u=this.getAttribute(t);return u===o?null:u===i?s:s=e(i=u,n)}}function qp(t,e,n){var i,o=n+"",s;return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===i?s:s=e(i=u,n)}}function Jp(t,e,n){var i,o,s;return function(){var u,a=n(this),f;return a==null?void this.removeAttribute(t):(u=this.getAttribute(t),f=a+"",u===f?null:u===i&&f===o?s:(o=f,s=e(i=u,a)))}}function Qp(t,e,n){var i,o,s;return function(){var u,a=n(this),f;return a==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),f=a+"",u===f?null:u===i&&f===o?s:(o=f,s=e(i=u,a)))}}function jp(t,e){var n=$l(t),i=n==="transform"?Ip:sh;return this.attrTween(t,typeof e=="function"?(n.local?Qp:Jp)(n,i,ya(this,"attr."+t,e)):e==null?(n.local?Zp:Kp)(n):(n.local?qp:Gp)(n,i,e))}function $p(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ev(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function tv(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&ev(t,s)),n}return o._value=e,o}function nv(t,e){var n,i;function o(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&$p(t,s)),n}return o._value=e,o}function iv(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=$l(t);return this.tween(n,(i.local?tv:nv)(i,e))}function rv(t,e){return function(){_a(this,t).delay=+e.apply(this,arguments)}}function ov(t,e){return e=+e,function(){_a(this,t).delay=e}}function lv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?rv:ov)(e,t)):Bn(this.node(),e).delay}function sv(t,e){return function(){Jn(this,t).duration=+e.apply(this,arguments)}}function uv(t,e){return e=+e,function(){Jn(this,t).duration=e}}function av(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?sv:uv)(e,t)):Bn(this.node(),e).duration}function fv(t,e){if(typeof e!="function")throw new Error;return function(){Jn(this,t).ease=e}}function cv(t){var e=this._id;return arguments.length?this.each(fv(e,t)):Bn(this.node(),e).ease}function dv(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Jn(this,t).ease=n}}function hv(t){if(typeof t!="function")throw new Error;return this.each(dv(this._id,t))}function gv(t){typeof t!="function"&&(t=B1(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var s=e[o],u=s.length,a=i[o]=[],f,d=0;d<u;++d)(f=s[d])&&t.call(f,f.__data__,d,s)&&a.push(f);return new hi(i,this._parents,this._name,this._id)}function mv(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,s=Math.min(i,o),u=new Array(i),a=0;a<s;++a)for(var f=e[a],d=n[a],h=f.length,m=u[a]=new Array(h),g,y=0;y<h;++y)(g=f[y]||d[y])&&(m[y]=g);for(;a<i;++a)u[a]=e[a];return new hi(u,this._parents,this._name,this._id)}function _v(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function yv(t,e,n){var i,o,s=_v(e)?_a:Jn;return function(){var u=s(this,t),a=u.on;a!==i&&(o=(i=a).copy()).on(e,n),u.on=o}}function wv(t,e){var n=this._id;return arguments.length<2?Bn(this.node(),n).on.on(t):this.each(yv(n,t,e))}function bv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function pv(){return this.on("end.remove",bv(this._id))}function vv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=da(t));for(var i=this._groups,o=i.length,s=new Array(o),u=0;u<o;++u)for(var a=i[u],f=a.length,d=s[u]=new Array(f),h,m,g=0;g<f;++g)(h=a[g])&&(m=t.call(h,h.__data__,g,a))&&("__data__"in h&&(m.__data__=h.__data__),d[g]=m,ts(d[g],e,n,g,d,Bn(h,n)));return new hi(s,this._parents,e,n)}function kv(t){var e=this._name,n=this._id;typeof t!="function"&&(t=z1(t));for(var i=this._groups,o=i.length,s=[],u=[],a=0;a<o;++a)for(var f=i[a],d=f.length,h,m=0;m<d;++m)if(h=f[m]){for(var g=t.call(h,h.__data__,m,f),y,v=Bn(h,n),C=0,N=g.length;C<N;++C)(y=g[C])&&ts(y,e,n,C,g,v);s.push(g),u.push(h)}return new hi(s,u,e,n)}var Cv=So.prototype.constructor;function Ev(){return new Cv(this._groups,this._parents)}function Sv(t,e){var n,i,o;return function(){var s=Sr(this,t),u=(this.style.removeProperty(t),Sr(this,t));return s===u?null:s===n&&u===i?o:o=e(n=s,i=u)}}function uh(t){return function(){this.style.removeProperty(t)}}function Av(t,e,n){var i,o=n+"",s;return function(){var u=Sr(this,t);return u===o?null:u===i?s:s=e(i=u,n)}}function Mv(t,e,n){var i,o,s;return function(){var u=Sr(this,t),a=n(this),f=a+"";return a==null&&(f=a=(this.style.removeProperty(t),Sr(this,t))),u===f?null:u===i&&f===o?s:(o=f,s=e(i=u,a))}}function Tv(t,e){var n,i,o,s="style."+e,u="end."+s,a;return function(){var f=Jn(this,t),d=f.on,h=f.value[s]==null?a||(a=uh(e)):void 0;(d!==n||o!==h)&&(i=(n=d).copy()).on(u,o=h),f.on=i}}function Pv(t,e,n){var i=(t+="")=="transform"?Pp:sh;return e==null?this.styleTween(t,Sv(t,i)).on("end.style."+t,uh(t)):typeof e=="function"?this.styleTween(t,Mv(t,i,ya(this,"style."+t,e))).each(Tv(this._id,t)):this.styleTween(t,Av(t,i,e),n).on("end.style."+t,null)}function Iv(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function Ov(t,e,n){var i,o;function s(){var u=e.apply(this,arguments);return u!==o&&(i=(o=u)&&Iv(t,u,n)),i}return s._value=e,s}function Nv(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,Ov(t,e,n??""))}function Lv(t){return function(){this.textContent=t}}function Dv(t){return function(){var e=t(this);this.textContent=e??""}}function Rv(t){return this.tween("text",typeof t=="function"?Dv(ya(this,"text",t)):Lv(t==null?"":t+""))}function Hv(t){return function(e){this.textContent=t.call(this,e)}}function zv(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&Hv(o)),e}return i._value=t,i}function Bv(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,zv(t))}function Wv(){for(var t=this._name,e=this._id,n=ah(),i=this._groups,o=i.length,s=0;s<o;++s)for(var u=i[s],a=u.length,f,d=0;d<a;++d)if(f=u[d]){var h=Bn(f,e);ts(f,t,n,d,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new hi(i,this._parents,t,n)}function Yv(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(s,u){var a={value:u},f={value:function(){--o===0&&s()}};n.each(function(){var d=Jn(this,i),h=d.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(f)),d.on=e}),o===0&&s()})}var Xv=0;function hi(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ah(){return++Xv}var ui=So.prototype;hi.prototype={constructor:hi,select:vv,selectAll:kv,selectChild:ui.selectChild,selectChildren:ui.selectChildren,filter:gv,merge:mv,selection:Ev,transition:Wv,call:ui.call,nodes:ui.nodes,node:ui.node,size:ui.size,empty:ui.empty,each:ui.each,on:wv,attr:jp,attrTween:iv,style:Pv,styleTween:Nv,text:Rv,textTween:Bv,remove:pv,tween:Up,delay:lv,duration:av,ease:cv,easeVarying:hv,end:Yv,[Symbol.iterator]:ui[Symbol.iterator]};function Fv(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var xv={time:null,delay:0,duration:250,ease:Fv};function Vv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Uv(t){var e,n;t instanceof hi?(e=t._id,t=t._name):(e=ah(),(n=xv).time=ma(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,s=0;s<o;++s)for(var u=i[s],a=u.length,f,d=0;d<a;++d)(f=u[d])&&ts(f,t,e,d,u,n||Vv(f,e));return new hi(i,this._parents,t,e)}So.prototype.interrupt=Fp;So.prototype.transition=Uv;const Ml=t=>()=>t;function Kv(t,{sourceEvent:e,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function fi(t,e,n){this.k=t,this.x=e,this.y=n}fi.prototype={constructor:fi,scale:function(t){return t===1?this:new fi(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new fi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ns=new fi(1,0,0);fh.prototype=fi.prototype;function fh(t){for(;!t.__zoom;)if(!(t=t.parentNode))return ns;return t.__zoom}function Yu(t){t.stopImmediatePropagation()}function no(t){t.preventDefault(),t.stopImmediatePropagation()}function Zv(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Gv(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function yd(){return this.__zoom||ns}function qv(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Jv(){return navigator.maxTouchPoints||"ontouchstart"in this}function Qv(t,e,n){var i=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),u>s?(s+u)/2:Math.min(0,s)||Math.max(0,u))}function ch(){var t=Zv,e=Gv,n=Qv,i=qv,o=Jv,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],a=250,f=Dp,d=jl("start","zoom","end"),h,m,g,y=500,v=150,C=0,N=10;function k(b){b.property("__zoom",yd).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",W).filter(o).on("touchstart.zoom",H).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}k.transform=function(b,X,D,V){var G=b.selection?b.selection():b;G.property("__zoom",yd),b!==G?S(b,X,D,V):G.interrupt().each(function(){P(this,arguments).event(V).start().zoom(null,typeof X=="function"?X.apply(this,arguments):X).end()})},k.scaleBy=function(b,X,D,V){k.scaleTo(b,function(){var G=this.__zoom.k,Z=typeof X=="function"?X.apply(this,arguments):X;return G*Z},D,V)},k.scaleTo=function(b,X,D,V){k.transform(b,function(){var G=e.apply(this,arguments),Z=this.__zoom,ie=D==null?B(G):typeof D=="function"?D.apply(this,arguments):D,ce=Z.invert(ie),be=typeof X=="function"?X.apply(this,arguments):X;return n(T(R(Z,be),ie,ce),G,u)},D,V)},k.translateBy=function(b,X,D,V){k.transform(b,function(){return n(this.__zoom.translate(typeof X=="function"?X.apply(this,arguments):X,typeof D=="function"?D.apply(this,arguments):D),e.apply(this,arguments),u)},null,V)},k.translateTo=function(b,X,D,V,G){k.transform(b,function(){var Z=e.apply(this,arguments),ie=this.__zoom,ce=V==null?B(Z):typeof V=="function"?V.apply(this,arguments):V;return n(ns.translate(ce[0],ce[1]).scale(ie.k).translate(typeof X=="function"?-X.apply(this,arguments):-X,typeof D=="function"?-D.apply(this,arguments):-D),Z,u)},V,G)};function R(b,X){return X=Math.max(s[0],Math.min(s[1],X)),X===b.k?b:new fi(X,b.x,b.y)}function T(b,X,D){var V=X[0]-D[0]*b.k,G=X[1]-D[1]*b.k;return V===b.x&&G===b.y?b:new fi(b.k,V,G)}function B(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,X,D,V){b.on("start.zoom",function(){P(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(V).end()}).tween("zoom",function(){var G=this,Z=arguments,ie=P(G,Z).event(V),ce=e.apply(G,Z),be=D==null?B(ce):typeof D=="function"?D.apply(G,Z):D,ve=Math.max(ce[1][0]-ce[0][0],ce[1][1]-ce[0][1]),le=G.__zoom,ke=typeof X=="function"?X.apply(G,Z):X,Ce=f(le.invert(be).concat(ve/le.k),ke.invert(be).concat(ve/ke.k));return function(ue){if(ue===1)ue=ke;else{var Q=Ce(ue),$=ve/Q[2];ue=new fi($,be[0]-Q[0]*$,be[1]-Q[1]*$)}ie.zoom(null,ue)}})}function P(b,X,D){return!D&&b.__zooming||new w(b,X)}function w(b,X){this.that=b,this.args=X,this.active=0,this.sourceEvent=null,this.extent=e.apply(b,X),this.taps=0}w.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,X){return this.mouse&&b!=="mouse"&&(this.mouse[1]=X.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=X.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=X.invert(this.touch1[0])),this.that.__zoom=X,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var X=mn(this.that).datum();d.call(b,this.that,new Kv(b,{sourceEvent:this.sourceEvent,target:k,type:b,transform:this.that.__zoom,dispatch:d}),X)}};function I(b,...X){if(!t.apply(this,arguments))return;var D=P(this,X).event(b),V=this.__zoom,G=Math.max(s[0],Math.min(s[1],V.k*Math.pow(2,i.apply(this,arguments)))),Z=Dn(b);if(D.wheel)(D.mouse[0][0]!==Z[0]||D.mouse[0][1]!==Z[1])&&(D.mouse[1]=V.invert(D.mouse[0]=Z)),clearTimeout(D.wheel);else{if(V.k===G)return;D.mouse=[Z,V.invert(Z)],Hl(this),D.start()}no(b),D.wheel=setTimeout(ie,v),D.zoom("mouse",n(T(R(V,G),D.mouse[0],D.mouse[1]),D.extent,u));function ie(){D.wheel=null,D.end()}}function A(b,...X){if(g||!t.apply(this,arguments))return;var D=b.currentTarget,V=P(this,X,!0).event(b),G=mn(b.view).on("mousemove.zoom",be,!0).on("mouseup.zoom",ve,!0),Z=Dn(b,D),ie=b.clientX,ce=b.clientY;G1(b.view),Yu(b),V.mouse=[Z,this.__zoom.invert(Z)],Hl(this),V.start();function be(le){if(no(le),!V.moved){var ke=le.clientX-ie,Ce=le.clientY-ce;V.moved=ke*ke+Ce*Ce>C}V.event(le).zoom("mouse",n(T(V.that.__zoom,V.mouse[0]=Dn(le,D),V.mouse[1]),V.extent,u))}function ve(le){G.on("mousemove.zoom mouseup.zoom",null),q1(le.view,V.moved),no(le),V.event(le).end()}}function W(b,...X){if(t.apply(this,arguments)){var D=this.__zoom,V=Dn(b.changedTouches?b.changedTouches[0]:b,this),G=D.invert(V),Z=D.k*(b.shiftKey?.5:2),ie=n(T(R(D,Z),V,G),e.apply(this,X),u);no(b),a>0?mn(this).transition().duration(a).call(S,ie,V,b):mn(this).call(k.transform,ie,V,b)}}function H(b,...X){if(t.apply(this,arguments)){var D=b.touches,V=D.length,G=P(this,X,b.changedTouches.length===V).event(b),Z,ie,ce,be;for(Yu(b),ie=0;ie<V;++ie)ce=D[ie],be=Dn(ce,this),be=[be,this.__zoom.invert(be),ce.identifier],G.touch0?!G.touch1&&G.touch0[2]!==be[2]&&(G.touch1=be,G.taps=0):(G.touch0=be,Z=!0,G.taps=1+!!h);h&&(h=clearTimeout(h)),Z&&(G.taps<2&&(m=be[0],h=setTimeout(function(){h=null},y)),Hl(this),G.start())}}function E(b,...X){if(this.__zooming){var D=P(this,X).event(b),V=b.changedTouches,G=V.length,Z,ie,ce,be;for(no(b),Z=0;Z<G;++Z)ie=V[Z],ce=Dn(ie,this),D.touch0&&D.touch0[2]===ie.identifier?D.touch0[0]=ce:D.touch1&&D.touch1[2]===ie.identifier&&(D.touch1[0]=ce);if(ie=D.that.__zoom,D.touch1){var ve=D.touch0[0],le=D.touch0[1],ke=D.touch1[0],Ce=D.touch1[1],ue=(ue=ke[0]-ve[0])*ue+(ue=ke[1]-ve[1])*ue,Q=(Q=Ce[0]-le[0])*Q+(Q=Ce[1]-le[1])*Q;ie=R(ie,Math.sqrt(ue/Q)),ce=[(ve[0]+ke[0])/2,(ve[1]+ke[1])/2],be=[(le[0]+Ce[0])/2,(le[1]+Ce[1])/2]}else if(D.touch0)ce=D.touch0[0],be=D.touch0[1];else return;D.zoom("touch",n(T(ie,ce,be),D.extent,u))}}function Y(b,...X){if(this.__zooming){var D=P(this,X).event(b),V=b.changedTouches,G=V.length,Z,ie;for(Yu(b),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),Z=0;Z<G;++Z)ie=V[Z],D.touch0&&D.touch0[2]===ie.identifier?delete D.touch0:D.touch1&&D.touch1[2]===ie.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(ie=Dn(ie,this),Math.hypot(m[0]-ie[0],m[1]-ie[1])<N)){var ce=mn(this).on("dblclick.zoom");ce&&ce.apply(this,arguments)}}}return k.wheelDelta=function(b){return arguments.length?(i=typeof b=="function"?b:Ml(+b),k):i},k.filter=function(b){return arguments.length?(t=typeof b=="function"?b:Ml(!!b),k):t},k.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:Ml(!!b),k):o},k.extent=function(b){return arguments.length?(e=typeof b=="function"?b:Ml([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),k):e},k.scaleExtent=function(b){return arguments.length?(s[0]=+b[0],s[1]=+b[1],k):[s[0],s[1]]},k.translateExtent=function(b){return arguments.length?(u[0][0]=+b[0][0],u[1][0]=+b[1][0],u[0][1]=+b[0][1],u[1][1]=+b[1][1],k):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},k.constrain=function(b){return arguments.length?(n=b,k):n},k.duration=function(b){return arguments.length?(a=+b,k):a},k.interpolate=function(b){return arguments.length?(f=b,k):f},k.on=function(){var b=d.on.apply(d,arguments);return b===d?k:b},k.clickDistance=function(b){return arguments.length?(C=(b=+b)*b,k):Math.sqrt(C)},k.tapDistance=function(b){return arguments.length?(N=+b,k):N},k}const Mr={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Kl=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ui;(function(t){t.Strict="strict",t.Loose="loose"})(Ui||(Ui={}));var Gn;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Gn||(Gn={}));var Zl;(function(t){t.Partial="partial",t.Full="full"})(Zl||(Zl={}));const oa={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var pr;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(pr||(pr={}));var Tr;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Tr||(Tr={}));var Ue;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ue||(Ue={}));const wd={[Ue.Left]:Ue.Right,[Ue.Right]:Ue.Left,[Ue.Top]:Ue.Bottom,[Ue.Bottom]:Ue.Top};function jv(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function bd(t,e,n){if(!n)return;const i=[];t.forEach((o,s)=>{e!=null&&e.has(s)||i.push(o)}),i.length&&n(i)}function pd(t){return t===null?null:t?"valid":"invalid"}const $v=t=>"id"in t&&"source"in t&&"target"in t,e3=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),wa=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Mo=(t,e=[0,0])=>{const{width:n,height:i}=Pi(t),o=t.origin??e,s=n*o[0],u=i*o[1];return{x:t.position.x-s,y:t.position.y-u}},t3=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,o)=>{const s=typeof o=="string";let u=!e.nodeLookup&&!s?o:void 0;e.nodeLookup&&(u=s?e.nodeLookup.get(o):wa(o)?o:e.nodeLookup.get(o.id));const a=u?Gl(u,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return is(i,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return rs(n)},To=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(i=>{if(e.filter===void 0||e.filter(i)){const o=Gl(i);n=is(n,o)}}),rs(n)},dh=(t,e,[n,i,o]=[0,0,1],s=!1,u=!1)=>{const a={...Po(e,[n,i,o]),width:e.width/o,height:e.height/o},f=[];for(const d of t.values()){const{measured:h,selectable:m=!0,hidden:g=!1}=d;if(u&&!m||g)continue;const y=h.width??d.width??d.initialWidth??null,v=h.height??d.height??d.initialHeight??null,C=bo(a,Ir(d)),N=(y??0)*(v??0),k=s&&C>0;(!d.internals.handleBounds||k||C>=N||d.dragging)&&f.push(d)}return f},la=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function vd(t,e){const n=new Map,i=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return t.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!i||i.has(o.id))&&n.set(o.id,o)}),n}async function kd({nodes:t,width:e,height:n,panZoom:i,minZoom:o,maxZoom:s},u){if(t.size===0)return Promise.resolve(!1);const a=To(t),f=pa(a,e,n,(u==null?void 0:u.minZoom)??o,(u==null?void 0:u.maxZoom)??s,(u==null?void 0:u.padding)??.1);return await i.setViewport(f,{duration:u==null?void 0:u.duration}),Promise.resolve(!0)}function n3({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:o,onError:s}){const u=n.get(t),a=u.parentId?n.get(u.parentId):void 0,{x:f,y:d}=a?a.internals.positionAbsolute:{x:0,y:0},h=u.origin??i;let m=o;if(u.extent==="parent"&&!u.expandParent)if(!a)s==null||s("005",Mr.error005());else{const y=a.measured.width,v=a.measured.height;y&&v&&(m=[[f,d],[f+y,d+v]])}else a&&Or(u.extent)&&(m=[[u.extent[0][0]+f,u.extent[0][1]+d],[u.extent[1][0]+f,u.extent[1][1]+d]]);const g=Or(m)?Ki(e,m,u.measured):e;return(u.measured.width===void 0||u.measured.height===void 0)&&(s==null||s("015",Mr.error015())),{position:{x:g.x-f+(u.measured.width??0)*h[0],y:g.y-d+(u.measured.height??0)*h[1]},positionAbsolute:g}}async function hh({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:o}){const s=new Set(t.map(g=>g.id)),u=[];for(const g of n){if(g.deletable===!1)continue;const y=s.has(g.id),v=!y&&g.parentId&&u.find(C=>C.id===g.parentId);(y||v)&&u.push(g)}const a=new Set(e.map(g=>g.id)),f=i.filter(g=>g.deletable!==!1),h=la(u,f);for(const g of f)a.has(g.id)&&!h.find(v=>v.id===g.id)&&h.push(g);if(!o)return{edges:h,nodes:u};const m=await o({nodes:u,edges:h});return typeof m=="boolean"?m?{edges:h,nodes:u}:{edges:[],nodes:[]}:m}const Pr=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Ki=(t={x:0,y:0},e,n)=>({x:Pr(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Pr(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function gh(t,e,n){const{width:i,height:o}=Pi(n),{x:s,y:u}=n.internals.positionAbsolute;return Ki(t,[[s,u],[s+i,u+o]],e)}const Cd=(t,e,n)=>t<e?Pr(Math.abs(t-e),1,e)/e:t>n?-Pr(Math.abs(t-n),1,e)/e:0,mh=(t,e,n=15,i=40)=>{const o=Cd(t.x,i,e.width-i)*n,s=Cd(t.y,i,e.height-i)*n;return[o,s]},is=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),sa=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),rs=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),Ir=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=wa(t)?t.internals.positionAbsolute:Mo(t,e);return{x:n,y:i,width:((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},Gl=(t,e=[0,0])=>{var o,s;const{x:n,y:i}=wa(t)?t.internals.positionAbsolute:Mo(t,e);return{x:n,y:i,x2:n+(((o=t.measured)==null?void 0:o.width)??t.width??t.initialWidth??0),y2:i+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},_h=(t,e)=>rs(is(sa(t),sa(e))),bo=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},Ed=t=>Hn(t.width)&&Hn(t.height)&&Hn(t.x)&&Hn(t.y),Hn=t=>!isNaN(t)&&isFinite(t),i3=(t,e)=>{},ba=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Po=({x:t,y:e},[n,i,o],s=!1,u=[1,1])=>{const a={x:(t-n)/o,y:(e-i)/o};return s?ba(a,u):a},yh=({x:t,y:e},[n,i,o])=>({x:t*o+n,y:e*o+i}),pa=(t,e,n,i,o,s)=>{const u=e/(t.width*(1+s)),a=n/(t.height*(1+s)),f=Math.min(u,a),d=Pr(f,i,o),h=t.x+t.width/2,m=t.y+t.height/2,g=e/2-h*d,y=n/2-m*d;return{x:g,y,zoom:d}},ql=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Or(t){return t!==void 0&&t!=="parent"}function Pi(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Jl(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function r3(t,e={width:0,height:0},n,i,o){const s={...t},u=i.get(n);if(u){const a=u.origin||o;s.x+=u.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=u.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function so(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i,containerBounds:o}){const{x:s,y:u}=ci(t),a=Po({x:s-((o==null?void 0:o.left)??0),y:u-((o==null?void 0:o.top)??0)},i),{x:f,y:d}=n?ba(a,e):a;return{xSnapped:f,ySnapped:d,...a}}const va=t=>({width:t.offsetWidth,height:t.offsetHeight}),o3=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},l3=["INPUT","SELECT","TEXTAREA"];function s3(t){var i,o;const e=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:l3.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const wh=t=>"clientX"in t,ci=(t,e)=>{var s,u;const n=wh(t),i=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,o=n?t.clientY:(u=t.touches)==null?void 0:u[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},Sd=(t,e,n,i,o)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(u=>{const a=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),type:t,nodeId:o,position:u.getAttribute("data-handlepos"),x:(a.left-n.left)/i,y:(a.top-n.top)/i,...va(u)}})};function u3({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:o,sourceControlY:s,targetControlX:u,targetControlY:a}){const f=t*.125+o*.375+u*.375+n*.125,d=e*.125+s*.375+a*.375+i*.125,h=Math.abs(f-t),m=Math.abs(d-e);return[f,d,h,m]}function Tl(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function Ad({pos:t,x1:e,y1:n,x2:i,y2:o,c:s}){switch(t){case Ue.Left:return[e-Tl(e-i,s),n];case Ue.Right:return[e+Tl(i-e,s),n];case Ue.Top:return[e,n-Tl(n-o,s)];case Ue.Bottom:return[e,n+Tl(o-n,s)]}}function bh({sourceX:t,sourceY:e,sourcePosition:n=Ue.Bottom,targetX:i,targetY:o,targetPosition:s=Ue.Top,curvature:u=.25}){const[a,f]=Ad({pos:n,x1:t,y1:e,x2:i,y2:o,c:u}),[d,h]=Ad({pos:s,x1:i,y1:o,x2:t,y2:e,c:u}),[m,g,y,v]=u3({sourceX:t,sourceY:e,targetX:i,targetY:o,sourceControlX:a,sourceControlY:f,targetControlX:d,targetControlY:h});return[`M${t},${e} C${a},${f} ${d},${h} ${i},${o}`,m,g,y,v]}function ph({sourceX:t,sourceY:e,targetX:n,targetY:i}){const o=Math.abs(n-t)/2,s=n<t?n+o:n-o,u=Math.abs(i-e)/2,a=i<e?i+u:i-u;return[s,a,o,u]}function a3({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:o=!1}){if(!o)return i;const s=n||e.selected||t.selected,u=Math.max(t.internals.z||0,e.internals.z||0,1e3);return i+(s?u:0)}function f3({sourceNode:t,targetNode:e,width:n,height:i,transform:o}){const s=is(Gl(t),Gl(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const u={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:i/o[2]};return bo(u,rs(s))>0}const c3=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,d3=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),h3=(t,e)=>{if(!t.source||!t.target)return e;let n;return $v(t)?n={...t}:n={...t,id:c3(t)},d3(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function vh({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[o,s,u,a]=ph({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,o,s,u,a]}const Md={[Ue.Left]:{x:-1,y:0},[Ue.Right]:{x:1,y:0},[Ue.Top]:{x:0,y:-1},[Ue.Bottom]:{x:0,y:1}},g3=({source:t,sourcePosition:e=Ue.Bottom,target:n})=>e===Ue.Left||e===Ue.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Td=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function m3({source:t,sourcePosition:e=Ue.Bottom,target:n,targetPosition:i=Ue.Top,center:o,offset:s}){const u=Md[e],a=Md[i],f={x:t.x+u.x*s,y:t.y+u.y*s},d={x:n.x+a.x*s,y:n.y+a.y*s},h=g3({source:f,sourcePosition:e,target:d}),m=h.x!==0?"x":"y",g=h[m];let y=[],v,C;const N={x:0,y:0},k={x:0,y:0},[R,T,B,S]=ph({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[m]*a[m]===-1){v=o.x??R,C=o.y??T;const w=[{x:v,y:f.y},{x:v,y:d.y}],I=[{x:f.x,y:C},{x:d.x,y:C}];u[m]===g?y=m==="x"?w:I:y=m==="x"?I:w}else{const w=[{x:f.x,y:d.y}],I=[{x:d.x,y:f.y}];if(m==="x"?y=u.x===g?I:w:y=u.y===g?w:I,e===i){const Y=Math.abs(t[m]-n[m]);if(Y<=s){const b=Math.min(s-1,s-Y);u[m]===g?N[m]=(f[m]>t[m]?-1:1)*b:k[m]=(d[m]>n[m]?-1:1)*b}}if(e!==i){const Y=m==="x"?"y":"x",b=u[m]===a[Y],X=f[Y]>d[Y],D=f[Y]<d[Y];(u[m]===1&&(!b&&X||b&&D)||u[m]!==1&&(!b&&D||b&&X))&&(y=m==="x"?w:I)}const A={x:f.x+N.x,y:f.y+N.y},W={x:d.x+k.x,y:d.y+k.y},H=Math.max(Math.abs(A.x-y[0].x),Math.abs(W.x-y[0].x)),E=Math.max(Math.abs(A.y-y[0].y),Math.abs(W.y-y[0].y));H>=E?(v=(A.x+W.x)/2,C=y[0].y):(v=y[0].x,C=(A.y+W.y)/2)}return[[t,{x:f.x+N.x,y:f.y+N.y},...y,{x:d.x+k.x,y:d.y+k.y},n],v,C,B,S]}function _3(t,e,n,i){const o=Math.min(Td(t,e)/2,Td(e,n)/2,i),{x:s,y:u}=e;if(t.x===s&&s===n.x||t.y===u&&u===n.y)return`L${s} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${s+o*d},${u}Q ${s},${u} ${s},${u+o*h}`}const a=t.x<n.x?1:-1,f=t.y<n.y?-1:1;return`L ${s},${u+o*f}Q ${s},${u} ${s+o*a},${u}`}function Nr({sourceX:t,sourceY:e,sourcePosition:n=Ue.Bottom,targetX:i,targetY:o,targetPosition:s=Ue.Top,borderRadius:u=5,centerX:a,centerY:f,offset:d=20}){const[h,m,g,y,v]=m3({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:o},targetPosition:s,center:{x:a,y:f},offset:d});return[h.reduce((N,k,R)=>{let T="";return R>0&&R<h.length-1?T=_3(h[R-1],k,h[R+1],u):T=`${R===0?"M":"L"}${k.x} ${k.y}`,N+=T,N},""),m,g,y,v]}function Pd(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function y3(t){var m;const{sourceNode:e,targetNode:n}=t;if(!Pd(e)||!Pd(n))return null;const i=e.internals.handleBounds||Id(e.handles),o=n.internals.handleBounds||Id(n.handles),s=Od((i==null?void 0:i.source)??[],t.sourceHandle),u=Od(t.connectionMode===Ui.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),t.targetHandle);if(!s||!u)return(m=t.onError)==null||m.call(t,"008",Mr.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||Ue.Bottom,f=(u==null?void 0:u.position)||Ue.Top,d=po(e,s,a),h=po(n,u,f);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y,sourcePosition:a,targetPosition:f}}function Id(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function po(t,e,n=Ue.Left,i=!1){const o=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:u,height:a}=e??Pi(t);if(i)return{x:o+u/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case Ue.Top:return{x:o+u/2,y:s};case Ue.Right:return{x:o+u,y:s+a/2};case Ue.Bottom:return{x:o+u/2,y:s+a};case Ue.Left:return{x:o,y:s+a/2}}}function Od(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function ua(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function w3(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:o}){const s=new Set;return t.reduce((u,a)=>([a.markerStart||i,a.markerEnd||o].forEach(f=>{if(f&&typeof f=="object"){const d=ua(f,e);s.has(d)||(u.push({id:d,color:f.color||n,...f}),s.add(d))}}),u),[]).sort((u,a)=>u.id.localeCompare(a.id))}const ka={nodeOrigin:[0,0],nodeExtent:Kl,elevateNodesOnSelect:!0,defaults:{}},b3={...ka,checkEquality:!0};function Ca(t,e){const n={...t};for(const i in e)e[i]!==void 0&&(n[i]=e[i]);return n}function p3(t,e,n){const i=Ca(ka,n);for(const o of t.values())if(o.parentId)Ea(o,t,e,i);else{const s=Mo(o,i.nodeOrigin),u=Or(o.extent)?o.extent:i.nodeExtent,a=Ki(s,u,Pi(o));o.internals.positionAbsolute=a}}function kh(t,e,n,i){var a,f;const o=Ca(b3,i),s=new Map(e),u=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const d of t){let h=s.get(d.id);if(o.checkEquality&&d===(h==null?void 0:h.internals.userNode))e.set(d.id,h);else{const m=Mo(d,o.nodeOrigin),g=Or(d.extent)?d.extent:o.nodeExtent,y=Ki(m,g,Pi(d));h={...o.defaults,...d,measured:{width:(a=d.measured)==null?void 0:a.width,height:(f=d.measured)==null?void 0:f.height},internals:{positionAbsolute:y,handleBounds:d.measured?h==null?void 0:h.internals.handleBounds:void 0,z:Ch(d,u),userNode:d}},e.set(d.id,h)}d.parentId&&Ea(h,e,n,i)}}function v3(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Ea(t,e,n,i){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:u}=Ca(ka,i),a=t.parentId,f=e.get(a);if(!f){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}v3(t,n);const d=o?1e3:0,{x:h,y:m,z:g}=k3(t,f,s,u,d),{positionAbsolute:y}=t.internals,v=h!==y.x||m!==y.y;(v||g!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:v?{x:h,y:m}:y,z:g}})}function Ch(t,e){return(Hn(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function k3(t,e,n,i,o){const{x:s,y:u}=e.internals.positionAbsolute,a=Pi(t),f=Mo(t,n),d=Or(t.extent)?Ki(f,t.extent,a):f;let h=Ki({x:s+d.x,y:u+d.y},i,a);t.extent==="parent"&&(h=gh(h,a,e));const m=Ch(t,o),g=e.internals.z??0;return{x:h.x,y:h.y,z:g>m?g:m}}function C3(t,e,n,i=[0,0]){var u;const o=[],s=new Map;for(const a of t){const f=e.get(a.parentId);if(!f)continue;const d=((u=s.get(a.parentId))==null?void 0:u.expandedRect)??Ir(f),h=_h(d,a.rect);s.set(a.parentId,{expandedRect:h,parent:f})}return s.size>0&&s.forEach(({expandedRect:a,parent:f},d)=>{var T;const h=f.internals.positionAbsolute,m=Pi(f),g=f.origin??i,y=a.x<h.x?Math.round(Math.abs(h.x-a.x)):0,v=a.y<h.y?Math.round(Math.abs(h.y-a.y)):0,C=Math.max(m.width,Math.round(a.width)),N=Math.max(m.height,Math.round(a.height)),k=(C-m.width)*g[0],R=(N-m.height)*g[1];(y>0||v>0||k||R)&&(o.push({id:d,type:"position",position:{x:f.position.x-y+k,y:f.position.y-v+R}}),(T=n.get(d))==null||T.forEach(B=>{t.some(S=>S.id===B.id)||o.push({id:B.id,type:"position",position:{x:B.position.x+y,y:B.position.y+v}})})),(m.width<a.width||m.height<a.height||y||v)&&o.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:C+(y?g[0]*y-k:0),height:N+(v?g[1]*v-R:0)}})}),o}function E3(t,e,n,i,o,s){const u=i==null?void 0:i.querySelector(".xyflow__viewport");let a=!1;if(!u)return{changes:[],updatedInternals:a};const f=[],d=window.getComputedStyle(u),{m22:h}=new window.DOMMatrixReadOnly(d.transform),m=[];for(const g of t.values()){const y=e.get(g.id);if(!y)continue;if(y.hidden){e.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),a=!0;continue}const v=va(g.nodeElement),C=y.measured.width!==v.width||y.measured.height!==v.height;if(!!(v.width&&v.height&&(C||!y.internals.handleBounds||g.force))){const k=g.nodeElement.getBoundingClientRect(),R=Or(y.extent)?y.extent:s;let{positionAbsolute:T}=y.internals;y.parentId&&y.extent==="parent"?T=gh(T,v,e.get(y.parentId)):R&&(T=Ki(T,R,v));const B={...y,measured:v,internals:{...y.internals,positionAbsolute:T,handleBounds:{source:Sd("source",g.nodeElement,k,h,y.id),target:Sd("target",g.nodeElement,k,h,y.id)}}};e.set(y.id,B),y.parentId&&Ea(B,e,n,{nodeOrigin:o}),a=!0,C&&(f.push({id:y.id,type:"dimensions",dimensions:v}),y.expandParent&&y.parentId&&m.push({id:y.id,parentId:y.parentId,rect:Ir(B,o)}))}}if(m.length>0){const g=C3(m,e,n,o);f.push(...g)}return{changes:f,updatedInternals:a}}async function S3({delta:t,panZoom:e,transform:n,translateExtent:i,width:o,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const u=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[o,s]],i),a=!!u&&(u.x!==n[0]||u.y!==n[1]||u.k!==n[2]);return Promise.resolve(a)}function Nd(t,e,n,i,o,s){let u=o;const a=i.get(u)||new Map;i.set(u,a.set(n,e)),u=`${o}-${t}`;const f=i.get(u)||new Map;if(i.set(u,f.set(n,e)),s){u=`${o}-${t}-${s}`;const d=i.get(u)||new Map;i.set(u,d.set(n,e))}}function Eh(t,e,n){t.clear(),e.clear();for(const i of n){const{source:o,target:s,sourceHandle:u=null,targetHandle:a=null}=i,f={edgeId:i.id,source:o,target:s,sourceHandle:u,targetHandle:a},d=`${o}-${u}--${s}-${a}`,h=`${s}-${a}--${o}-${u}`;Nd("source",f,h,t,o,u),Nd("target",f,d,t,s,a),e.set(i.id,i)}}function Sh(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:Sh(n,e):!1}function Ld(t,e,n){var o;let i=t;do{if((o=i==null?void 0:i.matches)!=null&&o.call(i,e))return!0;if(i===n)return!1;i=i==null?void 0:i.parentElement}while(i);return!1}function A3(t,e,n,i){const o=new Map;for(const[s,u]of t)if((u.selected||u.id===i)&&(!u.parentId||!Sh(u,t))&&(u.draggable||e&&typeof u.draggable>"u")){const a=t.get(s);a&&o.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return o}function Xu({nodeId:t,dragItems:e,nodeLookup:n,dragging:i=!0}){var u,a,f;const o=[];for(const[d,h]of e){const m=(u=n.get(d))==null?void 0:u.internals.userNode;m&&o.push({...m,position:h.position,dragging:i})}if(!t)return[o[0],o];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((f=e.get(t))==null?void 0:f.position)||s.position,dragging:i}:o[0],o]}function M3({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:o}){let s={x:null,y:null},u=0,a=new Map,f=!1,d={x:0,y:0},h=null,m=!1,g=null,y=!1;function v({noDragClassName:N,handleSelector:k,domNode:R,isSelectable:T,nodeId:B,nodeClickDistance:S=0}){g=mn(R);function P({x:W,y:H},E){const{nodeLookup:Y,nodeExtent:b,snapGrid:X,snapToGrid:D,nodeOrigin:V,onNodeDrag:G,onSelectionDrag:Z,onError:ie,updateNodePositions:ce}=e();s={x:W,y:H};let be=!1,ve={x:0,y:0,x2:0,y2:0};if(a.size>1&&b){const le=To(a);ve=sa(le)}for(const[le,ke]of a){if(!Y.has(le))continue;let Ce={x:W-ke.distance.x,y:H-ke.distance.y};D&&(Ce=ba(Ce,X));let ue=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];if(a.size>1&&b&&!ke.extent){const{positionAbsolute:z}=ke.internals,x=z.x-ve.x+b[0][0],ee=z.x+ke.measured.width-ve.x2+b[1][0],ne=z.y-ve.y+b[0][1],K=z.y+ke.measured.height-ve.y2+b[1][1];ue=[[x,ne],[ee,K]]}const{position:Q,positionAbsolute:$}=n3({nodeId:le,nextPosition:Ce,nodeLookup:Y,nodeExtent:ue,nodeOrigin:V,onError:ie});be=be||ke.position.x!==Q.x||ke.position.y!==Q.y,ke.position=Q,ke.internals.positionAbsolute=$}if(be&&(ce(a,!0),E&&(i||G||!B&&Z))){const[le,ke]=Xu({nodeId:B,dragItems:a,nodeLookup:Y});i==null||i(E,a,le,ke),G==null||G(E,le,ke),B||Z==null||Z(E,ke)}}async function w(){if(!h)return;const{transform:W,panBy:H,autoPanSpeed:E,autoPanOnNodeDrag:Y}=e();if(!Y){f=!1,cancelAnimationFrame(u);return}const[b,X]=mh(d,h,E);(b!==0||X!==0)&&(s.x=(s.x??0)-b/W[2],s.y=(s.y??0)-X/W[2],await H({x:b,y:X})&&P(s,null)),u=requestAnimationFrame(w)}function I(W){var be;const{nodeLookup:H,multiSelectionActive:E,nodesDraggable:Y,transform:b,snapGrid:X,snapToGrid:D,selectNodesOnDrag:V,onNodeDragStart:G,onSelectionDragStart:Z,unselectNodesAndEdges:ie}=e();m=!0,(!V||!T)&&!E&&B&&((be=H.get(B))!=null&&be.selected||ie()),T&&V&&B&&(t==null||t(B));const ce=so(W.sourceEvent,{transform:b,snapGrid:X,snapToGrid:D,containerBounds:h});if(s=ce,a=A3(H,Y,ce,B),a.size>0&&(n||G||!B&&Z)){const[ve,le]=Xu({nodeId:B,dragItems:a,nodeLookup:H});n==null||n(W.sourceEvent,a,ve,le),G==null||G(W.sourceEvent,ve,le),B||Z==null||Z(W.sourceEvent,le)}}const A=J1().clickDistance(S).on("start",W=>{const{domNode:H,nodeDragThreshold:E,transform:Y,snapGrid:b,snapToGrid:X}=e();h=(H==null?void 0:H.getBoundingClientRect())||null,y=!1,E===0&&I(W),s=so(W.sourceEvent,{transform:Y,snapGrid:b,snapToGrid:X,containerBounds:h}),d=ci(W.sourceEvent,h)}).on("drag",W=>{const{autoPanOnNodeDrag:H,transform:E,snapGrid:Y,snapToGrid:b,nodeDragThreshold:X,nodeLookup:D}=e(),V=so(W.sourceEvent,{transform:E,snapGrid:Y,snapToGrid:b,containerBounds:h});if((W.sourceEvent.type==="touchmove"&&W.sourceEvent.touches.length>1||B&&!D.has(B))&&(y=!0),!y){if(!f&&H&&m&&(f=!0,w()),!m){const G=V.xSnapped-(s.x??0),Z=V.ySnapped-(s.y??0);Math.sqrt(G*G+Z*Z)>X&&I(W)}(s.x!==V.xSnapped||s.y!==V.ySnapped)&&a&&m&&(d=ci(W.sourceEvent,h),P(V,W.sourceEvent))}}).on("end",W=>{if(!(!m||y)&&(f=!1,m=!1,cancelAnimationFrame(u),a.size>0)){const{nodeLookup:H,updateNodePositions:E,onNodeDragStop:Y,onSelectionDragStop:b}=e();if(E(a,!1),o||Y||!B&&b){const[X,D]=Xu({nodeId:B,dragItems:a,nodeLookup:H,dragging:!1});o==null||o(W.sourceEvent,a,X,D),Y==null||Y(W.sourceEvent,X,D),B||b==null||b(W.sourceEvent,D)}}}).filter(W=>{const H=W.target;return!W.button&&(!N||!Ld(H,`.${N}`,R))&&(!k||Ld(H,k,R))});g.call(A)}function C(){g==null||g.on(".drag",null)}return{update:v,destroy:C}}function T3(t,e,n){const i=[],o={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())bo(o,Ir(s))>0&&i.push(s);return i}const P3=250;function I3(t,e,n,i){var a,f;let o=[],s=1/0;const u=T3(t,n,e+P3);for(const d of u){const h=[...((a=d.internals.handleBounds)==null?void 0:a.source)??[],...((f=d.internals.handleBounds)==null?void 0:f.target)??[]];for(const m of h){if(i.nodeId===m.nodeId&&i.type===m.type&&i.id===m.id)continue;const{x:g,y}=po(d,m,m.position,!0),v=Math.sqrt(Math.pow(g-t.x,2)+Math.pow(y-t.y,2));v>e||(v<s?(o=[{...m,x:g,y}],s=v):v===s&&o.push({...m,x:g,y}))}}if(!o.length)return null;if(o.length>1){const d=i.type==="source"?"target":"source";return o.find(h=>h.type===d)??o[0]}return o[0]}function Ah(t,e,n,i,o,s=!1){var d,h,m;const u=i.get(t);if(!u)return null;const a=o==="strict"?(d=u.internals.handleBounds)==null?void 0:d[e]:[...((h=u.internals.handleBounds)==null?void 0:h.source)??[],...((m=u.internals.handleBounds)==null?void 0:m.target)??[]],f=(n?a==null?void 0:a.find(g=>g.id===n):a==null?void 0:a[0])??null;return f&&s?{...f,...po(u,f,f.position,!0)}:f}function Mh(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function O3(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Th=()=>!0;function N3(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:o,edgeUpdaterType:s,isTarget:u,domNode:a,nodeLookup:f,lib:d,autoPanOnConnect:h,flowId:m,panBy:g,cancelConnection:y,onConnectStart:v,onConnect:C,onConnectEnd:N,isValidConnection:k=Th,onReconnectEnd:R,updateConnection:T,getTransform:B,getFromHandle:S,autoPanSpeed:P}){const w=o3(t.target);let I=0,A;const{x:W,y:H}=ci(t),E=w==null?void 0:w.elementFromPoint(W,H),Y=Mh(s,E),b=a==null?void 0:a.getBoundingClientRect();if(!b||!Y)return;const X=Ah(o,Y,i,f,e);if(!X)return;let D=ci(t,b),V=!1,G=null,Z=!1,ie=null;function ce(){if(!h||!b)return;const[$,z]=mh(D,b,P);g({x:$,y:z}),I=requestAnimationFrame(ce)}const be={...X,nodeId:o,type:Y,position:X.position},ve=f.get(o),ke={inProgress:!0,isValid:null,from:po(ve,be,Ue.Left,!0),fromHandle:be,fromPosition:be.position,fromNode:ve,to:D,toHandle:null,toPosition:wd[be.position],toNode:null};T(ke);let Ce=ke;v==null||v(t,{nodeId:o,handleId:i,handleType:Y});function ue($){if(!S()||!be){Q($);return}const z=B();D=ci($,b),A=I3(Po(D,z,!1,[1,1]),n,f,be),V||(ce(),V=!0);const x=Ph($,{handle:A,connectionMode:e,fromNodeId:o,fromHandleId:i,fromType:u?"target":"source",isValidConnection:k,doc:w,lib:d,flowId:m,nodeLookup:f});ie=x.handleDomNode,G=x.connection,Z=O3(!!A,x.isValid);const ee={...Ce,isValid:Z,to:A&&Z?yh({x:A.x,y:A.y},z):D,toHandle:x.toHandle,toPosition:Z&&x.toHandle?x.toHandle.position:wd[be.position],toNode:x.toHandle?f.get(x.toHandle.nodeId):null};Z&&A&&Ce.toHandle&&ee.toHandle&&Ce.toHandle.type===ee.toHandle.type&&Ce.toHandle.nodeId===ee.toHandle.nodeId&&Ce.toHandle.id===ee.toHandle.id&&Ce.to.x===ee.to.x&&Ce.to.y===ee.to.y||(T(ee),Ce=ee)}function Q($){(A||ie)&&G&&Z&&(C==null||C(G));const{inProgress:z,...x}=Ce,ee={...x,toPosition:Ce.toHandle?Ce.toPosition:null};N==null||N($,ee),s&&(R==null||R($,ee)),y(),cancelAnimationFrame(I),V=!1,Z=!1,G=null,ie=null,w.removeEventListener("mousemove",ue),w.removeEventListener("mouseup",Q),w.removeEventListener("touchmove",ue),w.removeEventListener("touchend",Q)}w.addEventListener("mousemove",ue),w.addEventListener("mouseup",Q),w.addEventListener("touchmove",ue),w.addEventListener("touchend",Q)}function Ph(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:s,doc:u,lib:a,flowId:f,isValidConnection:d=Th,nodeLookup:h}){const m=s==="target",g=e?u.querySelector(`.${a}-flow__handle[data-id="${f}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:y,y:v}=ci(t),C=u.elementFromPoint(y,v),N=C!=null&&C.classList.contains(`${a}-flow__handle`)?C:g,k={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const R=Mh(void 0,N),T=N.getAttribute("data-nodeid"),B=N.getAttribute("data-handleid"),S=N.classList.contains("connectable"),P=N.classList.contains("connectableend");if(!T||!R)return k;const w={source:m?T:i,sourceHandle:m?B:o,target:m?i:T,targetHandle:m?o:B};k.connection=w;const A=S&&P&&(n===Ui.Strict?m&&R==="source"||!m&&R==="target":T!==i||B!==o);k.isValid=A&&d(w),k.toHandle=Ah(T,R,B,h,n,!1)}return k}const L3={onPointerDown:N3,isValid:Ph};function D3({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const o=mn(t);function s({translateExtent:a,width:f,height:d,zoomStep:h=10,pannable:m=!0,zoomable:g=!0,inversePan:y=!1}){const v=T=>{const B=n();if(T.sourceEvent.type!=="wheel"||!e)return;const S=-T.sourceEvent.deltaY*(T.sourceEvent.deltaMode===1?.05:T.sourceEvent.deltaMode?1:.002)*h,P=B[2]*Math.pow(2,S);e.scaleTo(P)};let C=[0,0];const N=T=>{(T.sourceEvent.type==="mousedown"||T.sourceEvent.type==="touchstart")&&(C=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY])},k=T=>{const B=n();if(T.sourceEvent.type!=="mousemove"&&T.sourceEvent.type!=="touchmove"||!e)return;const S=[T.sourceEvent.clientX??T.sourceEvent.touches[0].clientX,T.sourceEvent.clientY??T.sourceEvent.touches[0].clientY],P=[S[0]-C[0],S[1]-C[1]];C=S;const w=i()*Math.max(B[2],Math.log(B[2]))*(y?-1:1),I={x:B[0]-P[0]*w,y:B[1]-P[1]*w},A=[[0,0],[f,d]];e.setViewportConstrained({x:I.x,y:I.y,zoom:B[2]},A,a)},R=ch().on("start",N).on("zoom",m?k:null).on("zoom.wheel",g?v:null);o.call(R,{})}function u(){o.on("zoom",null)}return{update:s,destroy:u,pointer:Dn}}const R3=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,os=t=>({x:t.x,y:t.y,zoom:t.k}),Fu=({x:t,y:e,zoom:n})=>ns.translate(t,e).scale(n),mr=(t,e)=>t.target.closest(`.${e}`),Ih=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),xu=(t,e=0,n=()=>{})=>{const i=typeof e=="number"&&e>0;return i||n(),i?t.transition().duration(e).on("end",n):t},Oh=t=>{const e=t.ctrlKey&&ql()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function H3({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:u,onPanZoomStart:a,onPanZoom:f,onPanZoomEnd:d}){return h=>{if(mr(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(h.ctrlKey&&u){const N=Dn(h),k=Oh(h),R=m*Math.pow(2,k);i.scaleTo(n,R,N,h);return}const g=h.deltaMode===1?20:1;let y=o===Gn.Vertical?0:h.deltaX*g,v=o===Gn.Horizontal?0:h.deltaY*g;!ql()&&h.shiftKey&&o!==Gn.Vertical&&(y=h.deltaY*g,v=0),i.translateBy(n,-(y/m)*s,-(v/m)*s,{internal:!0});const C=os(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,a==null||a(h,C)),t.isPanScrolling&&(f==null||f(h,C),t.panScrollTimeout=setTimeout(()=>{d==null||d(h,C),t.isPanScrolling=!1},150))}}function z3({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,o){if(!e&&i.type==="wheel"&&!i.ctrlKey||mr(i,t))return null;i.preventDefault(),n.call(this,i,o)}}function B3({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var s,u,a;if((s=i.sourceEvent)!=null&&s.internal)return;const o=os(i.transform);t.mouseButton=((u=i.sourceEvent)==null?void 0:u.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=o,((a=i.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,o))}}function W3({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:o}){return s=>{var u,a;t.usedRightMouseButton=!!(n&&Ih(e,t.mouseButton??0)),(u=s.sourceEvent)!=null&&u.sync||i([s.transform.x,s.transform.y,s.transform.k]),o&&!((a=s.sourceEvent)!=null&&a.internal)&&(o==null||o(s.sourceEvent,os(s.transform)))}}function Y3({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:o,onPaneContextMenu:s}){return u=>{var a;if(!((a=u.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&Ih(e,t.mouseButton??0)&&!t.usedRightMouseButton&&u.sourceEvent&&s(u.sourceEvent),t.usedRightMouseButton=!1,i(!1),o&&R3(t.prevViewport,u.transform))){const f=os(u.transform);t.prevViewport=f,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{o==null||o(u.sourceEvent,f)},n?150:0)}}}function X3({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:u,noWheelClassName:a,noPanClassName:f,lib:d}){return h=>{var v;const m=t||e,g=n&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(mr(h,`${d}-flow__node`)||mr(h,`${d}-flow__edge`)))return!0;if(!i&&!m&&!o&&!s&&!n||u||mr(h,a)&&h.type==="wheel"||mr(h,f)&&(h.type!=="wheel"||o&&h.type==="wheel"&&!t)||!n&&h.ctrlKey&&h.type==="wheel")return!1;if(!n&&h.type==="touchstart"&&((v=h.touches)==null?void 0:v.length)>1)return h.preventDefault(),!1;if(!m&&!o&&!g&&h.type==="wheel"||!i&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(i)&&!i.includes(h.button)&&h.type==="mousedown")return!1;const y=Array.isArray(i)&&i.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function F3({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:i,translateExtent:o,viewport:s,onPanZoom:u,onPanZoomStart:a,onPanZoomEnd:f,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},m=t.getBoundingClientRect(),g=ch().clickDistance(!Hn(i)||i<0?0:i).scaleExtent([e,n]).translateExtent(o),y=mn(t).call(g);T({x:s.x,y:s.y,zoom:Pr(s.zoom,e,n)},[[0,0],[m.width,m.height]],o);const v=y.on("wheel.zoom"),C=y.on("dblclick.zoom");g.wheelDelta(Oh);function N(E,Y){return y?new Promise(b=>{g==null||g.transform(xu(y,Y==null?void 0:Y.duration,()=>b(!0)),E)}):Promise.resolve(!1)}function k({noWheelClassName:E,noPanClassName:Y,onPaneContextMenu:b,userSelectionActive:X,panOnScroll:D,panOnDrag:V,panOnScrollMode:G,panOnScrollSpeed:Z,preventScrolling:ie,zoomOnPinch:ce,zoomOnScroll:be,zoomOnDoubleClick:ve,zoomActivationKeyPressed:le,lib:ke,onTransformChange:Ce}){X&&!h.isZoomingOrPanning&&R();const Q=D&&!le&&!X?H3({zoomPanValues:h,noWheelClassName:E,d3Selection:y,d3Zoom:g,panOnScrollMode:G,panOnScrollSpeed:Z,zoomOnPinch:ce,onPanZoomStart:a,onPanZoom:u,onPanZoomEnd:f}):z3({noWheelClassName:E,preventScrolling:ie,d3ZoomHandler:v});if(y.on("wheel.zoom",Q,{passive:!1}),!X){const z=B3({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:a});g.on("start",z);const x=W3({zoomPanValues:h,panOnDrag:V,onPaneContextMenu:!!b,onPanZoom:u,onTransformChange:Ce});g.on("zoom",x);const ee=Y3({zoomPanValues:h,panOnDrag:V,panOnScroll:D,onPaneContextMenu:b,onPanZoomEnd:f,onDraggingChange:d});g.on("end",ee)}const $=X3({zoomActivationKeyPressed:le,panOnDrag:V,zoomOnScroll:be,panOnScroll:D,zoomOnDoubleClick:ve,zoomOnPinch:ce,userSelectionActive:X,noPanClassName:Y,noWheelClassName:E,lib:ke});g.filter($),ve?y.on("dblclick.zoom",C):y.on("dblclick.zoom",null)}function R(){g.on("zoom",null)}async function T(E,Y,b){const X=Fu(E),D=g==null?void 0:g.constrain()(X,Y,b);return D&&await N(D),new Promise(V=>V(D))}async function B(E,Y){const b=Fu(E);return await N(b,Y),new Promise(X=>X(b))}function S(E){if(y){const Y=Fu(E),b=y.property("__zoom");(b.k!==E.zoom||b.x!==E.x||b.y!==E.y)&&(g==null||g.transform(y,Y,null,{sync:!0}))}}function P(){const E=y?fh(y.node()):{x:0,y:0,k:1};return{x:E.x,y:E.y,zoom:E.k}}function w(E,Y){return y?new Promise(b=>{g==null||g.scaleTo(xu(y,Y==null?void 0:Y.duration,()=>b(!0)),E)}):Promise.resolve(!1)}function I(E,Y){return y?new Promise(b=>{g==null||g.scaleBy(xu(y,Y==null?void 0:Y.duration,()=>b(!0)),E)}):Promise.resolve(!1)}function A(E){g==null||g.scaleExtent(E)}function W(E){g==null||g.translateExtent(E)}function H(E){const Y=!Hn(E)||E<0?0:E;g==null||g.clickDistance(Y)}return{update:k,destroy:R,setViewport:B,setViewportConstrained:T,getViewport:P,scaleTo:w,scaleBy:I,setScaleExtent:A,setTranslateExtent:W,syncViewport:S,setClickDistance:H}}var uo;(function(t){t.Line="line",t.Handle="handle"})(uo||(uo={}));function x3({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:o,affectsY:s}){const u=t-e,a=n-i,f=[u>0?1:u<0?-1:0,a>0?1:a<0?-1:0];return u&&o&&(f[0]=f[0]*-1),a&&s&&(f[1]=f[1]*-1),f}function V3(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),o=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:o}}function Ai(t,e){return Math.max(0,e-t)}function Mi(t,e){return Math.max(0,t-e)}function Pl(t,e,n){return Math.max(0,e-t,t-n)}function Dd(t,e){return t?!e:e}function U3(t,e,n,i,o,s,u,a){let{affectsX:f,affectsY:d}=e;const{isHorizontal:h,isVertical:m}=e,g=h&&m,{xSnapped:y,ySnapped:v}=n,{minWidth:C,maxWidth:N,minHeight:k,maxHeight:R}=i,{x:T,y:B,width:S,height:P,aspectRatio:w}=t;let I=Math.floor(h?y-t.pointerX:0),A=Math.floor(m?v-t.pointerY:0);const W=S+(f?-I:I),H=P+(d?-A:A),E=-s[0]*S,Y=-s[1]*P;let b=Pl(W,C,N),X=Pl(H,k,R);if(u){let G=0,Z=0;f&&I<0?G=Ai(T+I+E,u[0][0]):!f&&I>0&&(G=Mi(T+W+E,u[1][0])),d&&A<0?Z=Ai(B+A+Y,u[0][1]):!d&&A>0&&(Z=Mi(B+H+Y,u[1][1])),b=Math.max(b,G),X=Math.max(X,Z)}if(a){let G=0,Z=0;f&&I>0?G=Mi(T+I,a[0][0]):!f&&I<0&&(G=Ai(T+W,a[1][0])),d&&A>0?Z=Mi(B+A,a[0][1]):!d&&A<0&&(Z=Ai(B+H,a[1][1])),b=Math.max(b,G),X=Math.max(X,Z)}if(o){if(h){const G=Pl(W/w,k,R)*w;if(b=Math.max(b,G),u){let Z=0;!f&&!d||f&&!d&&g?Z=Mi(B+Y+W/w,u[1][1])*w:Z=Ai(B+Y+(f?I:-I)/w,u[0][1])*w,b=Math.max(b,Z)}if(a){let Z=0;!f&&!d||f&&!d&&g?Z=Ai(B+W/w,a[1][1])*w:Z=Mi(B+(f?I:-I)/w,a[0][1])*w,b=Math.max(b,Z)}}if(m){const G=Pl(H*w,C,N)/w;if(X=Math.max(X,G),u){let Z=0;!f&&!d||d&&!f&&g?Z=Mi(T+H*w+E,u[1][0])/w:Z=Ai(T+(d?A:-A)*w+E,u[0][0])/w,X=Math.max(X,Z)}if(a){let Z=0;!f&&!d||d&&!f&&g?Z=Ai(T+H*w,a[1][0])/w:Z=Mi(T+(d?A:-A)*w,a[0][0])/w,X=Math.max(X,Z)}}}A=A+(A<0?X:-X),I=I+(I<0?b:-b),o&&(g?W>H*w?A=(Dd(f,d)?-I:I)/w:I=(Dd(f,d)?-A:A)*w:h?(A=I/w,d=f):(I=A*w,f=d));const D=f?T+I:T,V=d?B+A:B;return{width:S+(f?-I:I),height:P+(d?-A:A),x:s[0]*I*(f?-1:1)+D,y:s[1]*A*(d?-1:1)+V}}const Nh={width:0,height:0,x:0,y:0},K3={...Nh,pointerX:0,pointerY:0,aspectRatio:1};function Z3(t){return[[0,0],[t.measured.width,t.measured.height]]}function G3(t,e,n){const i=e.position.x+t.position.x,o=e.position.y+t.position.y,s=t.measured.width??0,u=t.measured.height??0,a=n[0]*s,f=n[1]*u;return[[i-a,o-f],[i+s-a,o+u-f]]}function q3({domNode:t,nodeId:e,getStoreItems:n,onChange:i,onEnd:o}){const s=mn(t);function u({controlPosition:f,boundaries:d,keepAspectRatio:h,onResizeStart:m,onResize:g,onResizeEnd:y,shouldResize:v}){let C={...Nh},N={...K3};const k=V3(f);let R,T=null,B=[],S,P,w;const I=J1().on("start",A=>{const{nodeLookup:W,transform:H,snapGrid:E,snapToGrid:Y,nodeOrigin:b,paneDomNode:X}=n();if(R=W.get(e),!R)return;T=(X==null?void 0:X.getBoundingClientRect())??null;const{xSnapped:D,ySnapped:V}=so(A.sourceEvent,{transform:H,snapGrid:E,snapToGrid:Y,containerBounds:T});C={width:R.measured.width??0,height:R.measured.height??0,x:R.position.x??0,y:R.position.y??0},N={...C,pointerX:D,pointerY:V,aspectRatio:C.width/C.height},S=void 0,R.parentId&&(R.extent==="parent"||R.expandParent)&&(S=W.get(R.parentId),P=S&&R.extent==="parent"?Z3(S):void 0),B=[],w=void 0;for(const[G,Z]of W)if(Z.parentId===e&&(B.push({id:G,position:{...Z.position},extent:Z.extent}),Z.extent==="parent"||Z.expandParent)){const ie=G3(Z,R,Z.origin??b);w?w=[[Math.min(ie[0][0],w[0][0]),Math.min(ie[0][1],w[0][1])],[Math.max(ie[1][0],w[1][0]),Math.max(ie[1][1],w[1][1])]]:w=ie}m==null||m(A,{...C})}).on("drag",A=>{const{transform:W,snapGrid:H,snapToGrid:E,nodeOrigin:Y}=n(),b=so(A.sourceEvent,{transform:W,snapGrid:H,snapToGrid:E,containerBounds:T}),X=[];if(!R)return;const{x:D,y:V,width:G,height:Z}=C,ie={},ce=R.origin??Y,{width:be,height:ve,x:le,y:ke}=U3(N,k,b,d,h,ce,P,w),Ce=be!==G,ue=ve!==Z,Q=le!==D&&Ce,$=ke!==V&&ue;if(!Q&&!$&&!Ce&&!ue)return;if((Q||$||ce[0]===1||ce[1]===1)&&(ie.x=Q?le:C.x,ie.y=$?ke:C.y,C.x=ie.x,C.y=ie.y,B.length>0)){const ne=le-D,K=ke-V;for(const _e of B)_e.position={x:_e.position.x-ne+ce[0]*(be-G),y:_e.position.y-K+ce[1]*(ve-Z)},X.push(_e)}if((Ce||ue)&&(ie.width=Ce?be:C.width,ie.height=ue?ve:C.height,C.width=ie.width,C.height=ie.height),S&&R.expandParent){const ne=ce[0]*(ie.width??0);ie.x&&ie.x<ne&&(C.x=ne,N.x=N.x-(ie.x-ne));const K=ce[1]*(ie.height??0);ie.y&&ie.y<K&&(C.y=K,N.y=N.y-(ie.y-K))}const z=x3({width:C.width,prevWidth:G,height:C.height,prevHeight:Z,affectsX:k.affectsX,affectsY:k.affectsY}),x={...C,direction:z};(v==null?void 0:v(A,x))!==!1&&(g==null||g(A,x),i(ie,X))}).on("end",A=>{y==null||y(A,{...C}),o==null||o()});s.call(I)}function a(){s.on(".drag",null)}return{update:u,destroy:a}}function J3(t){let e,n,i,o,s,u;const a=t[45].default,f=Xt(a,t,t[44],null);return{c(){e=Ee("div"),f&&f.c(),O(e,"data-handleid",t[6]),O(e,"data-nodeid",t[14]),O(e,"data-handlepos",t[2]),O(e,"data-id",n=t[13]+"-"+t[14]+"-"+(t[0]||null)+"-"+t[1]),O(e,"class",i=ut(["svelte-flow__handle",`svelte-flow__handle-${t[2]}`,"nodrag","nopan",t[2],t[4]])),O(e,"style",t[3]),O(e,"role","button"),O(e,"tabindex","-1"),Ke(e,"valid",t[7]),Ke(e,"connectingto",t[5]),Ke(e,"connectingfrom",t[9]),Ke(e,"source",!t[11]),Ke(e,"target",t[11]),Ke(e,"connectablestart",t[12]),Ke(e,"connectableend",t[12]),Ke(e,"connectable",t[12]),Ke(e,"connectionindicator",t[12]&&(!t[10]||t[8]))},m(d,h){oe(d,e,h),f&&f.m(e,null),o=!0,s||(u=[We(e,"mousedown",t[32]),We(e,"touchstart",t[32])],s=!0)},p(d,h){f&&f.p&&(!o||h[1]&8192)&&xt(f,a,d,d[44],o?Ft(a,d[44],h,null):Vt(d[44]),null),(!o||h[0]&64)&&O(e,"data-handleid",d[6]),(!o||h[0]&4)&&O(e,"data-handlepos",d[2]),(!o||h[0]&8195&&n!==(n=d[13]+"-"+d[14]+"-"+(d[0]||null)+"-"+d[1]))&&O(e,"data-id",n),(!o||h[0]&20&&i!==(i=ut(["svelte-flow__handle",`svelte-flow__handle-${d[2]}`,"nodrag","nopan",d[2],d[4]])))&&O(e,"class",i),(!o||h[0]&8)&&O(e,"style",d[3]),(!o||h[0]&148)&&Ke(e,"valid",d[7]),(!o||h[0]&52)&&Ke(e,"connectingto",d[5]),(!o||h[0]&532)&&Ke(e,"connectingfrom",d[9]),(!o||h[0]&2068)&&Ke(e,"source",!d[11]),(!o||h[0]&2068)&&Ke(e,"target",d[11]),(!o||h[0]&4116)&&Ke(e,"connectablestart",d[12]),(!o||h[0]&4116)&&Ke(e,"connectableend",d[12]),(!o||h[0]&4116)&&Ke(e,"connectable",d[12]),(!o||h[0]&5396)&&Ke(e,"connectionindicator",d[12]&&(!d[10]||d[8]))},i(d){o||(se(f,d),o=!0)},o(d){fe(f,d),o=!1},d(d){d&&re(e),f&&f.d(d),s=!1,At(u)}}}function Q3(t,e,n){let i,o,s,u,a,f,d,h,m,g,y,v,C,N,k,R,T,B,S,P,w,I,A,W,H,{$$slots:E={},$$scope:Y}=e,{id:b=void 0}=e,{type:X="source"}=e,{position:D=Ue.Top}=e,{style:V=void 0}=e,{isValidConnection:G=void 0}=e,{onconnect:Z=void 0}=e,{ondisconnect:ie=void 0}=e,{isConnectable:ce=void 0}=e,{class:be=void 0}=e;const ve=ho("svelteflow__node_id"),le=ho("svelteflow__node_connectable");pe(t,le,te=>n(43,H=te));const ke=gt(),{connectionMode:Ce,domNode:ue,nodeLookup:Q,connectionRadius:$,viewport:z,isValidConnection:x,lib:ee,addEdge:ne,onedgecreate:K,panBy:_e,cancelConnection:Le,updateConnection:Ze,autoPanOnConnect:De,edges:ct,connectionLookup:nt,onconnect:yt,onconnectstart:Pe,onconnectend:Ut,flowId:en,connection:Ot}=ke;pe(t,Ce,te=>n(40,g=te)),pe(t,ue,te=>n(55,A=te)),pe(t,Q,te=>n(54,I=te)),pe(t,$,te=>n(56,W=te)),pe(t,z,te=>n(46,C=te)),pe(t,x,te=>n(51,B=te)),pe(t,ee,te=>n(53,w=te)),pe(t,K,te=>n(50,T=te)),pe(t,De,te=>n(52,P=te)),pe(t,ct,te=>n(42,v=te)),pe(t,nt,te=>n(41,y=te)),pe(t,yt,te=>n(49,R=te)),pe(t,Pe,te=>n(48,k=te)),pe(t,Ut,te=>n(47,N=te)),pe(t,en,te=>n(13,S=te)),pe(t,Ot,te=>n(39,m=te));function Qn(te){const Kt=wh(te);(Kt&&te.button===0||!Kt)&&L3.onPointerDown(te,{handleId:s,nodeId:ve,isTarget:i,connectionRadius:W,domNode:A,nodeLookup:I,connectionMode:g,lib:w,autoPanOnConnect:P,flowId:S,isValidConnection:G??B,updateConnection:Ze,cancelConnection:Le,panBy:_e,onConnect:wt=>{const mt=T?T(wt):wt;mt&&(ne(mt),R==null||R(wt))},onConnectStart:(wt,mt)=>{k==null||k(wt,{nodeId:mt.nodeId,handleId:mt.handleId,handleType:mt.handleType})},onConnectEnd:(wt,mt)=>{N==null||N(wt,mt)},getTransform:()=>[C.x,C.y,C.zoom],getFromHandle:()=>m.fromHandle})}let Ht=null,zt;return t.$$set=te=>{"id"in te&&n(0,b=te.id),"type"in te&&n(1,X=te.type),"position"in te&&n(2,D=te.position),"style"in te&&n(3,V=te.style),"isValidConnection"in te&&n(33,G=te.isValidConnection),"onconnect"in te&&n(34,Z=te.onconnect),"ondisconnect"in te&&n(35,ie=te.ondisconnect),"isConnectable"in te&&n(36,ce=te.isConnectable),"class"in te&&n(4,be=te.class),"$$scope"in te&&n(44,Y=te.$$scope)},t.$$.update=()=>{var te,Kt,wt,mt,Wn,Yn,Xn,Fn,wn;if(t.$$.dirty[0]&2&&n(11,i=X==="target"),t.$$.dirty[1]&4128&&n(12,o=ce!==void 0?ce:H),t.$$.dirty[0]&1&&n(6,s=b||null),t.$$.dirty[0]&3|t.$$.dirty[1]&3096&&(Z||ie)&&n(38,zt=y.get(`${ve}-${X}${b?`-${b}`:""}`)),t.$$.dirty[1]&216){if(Ht&&!jv(zt,Ht)){const jn=zt??new Map;bd(Ht,jn,ie),bd(jn,Ht,Z)}n(37,Ht=zt??new Map)}t.$$.dirty[1]&256&&n(10,u=!!m.fromHandle),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(9,a=((te=m.fromHandle)==null?void 0:te.nodeId)===ve&&((Kt=m.fromHandle)==null?void 0:Kt.type)===X&&((wt=m.fromHandle)==null?void 0:wt.id)===s),t.$$.dirty[0]&66|t.$$.dirty[1]&256&&n(5,f=((mt=m.toHandle)==null?void 0:mt.nodeId)===ve&&((Wn=m.toHandle)==null?void 0:Wn.type)===X&&((Yn=m.toHandle)==null?void 0:Yn.id)===s),t.$$.dirty[0]&66|t.$$.dirty[1]&768&&n(8,d=g===Ui.Strict?((Xn=m.fromHandle)==null?void 0:Xn.type)!==X:ve!==((Fn=m.fromHandle)==null?void 0:Fn.nodeId)||s!==((wn=m.fromHandle)==null?void 0:wn.id)),t.$$.dirty[0]&32|t.$$.dirty[1]&256&&n(7,h=f&&m.isValid)},[b,X,D,V,be,f,s,h,d,a,u,i,o,S,ve,le,Ce,ue,Q,$,z,x,ee,K,De,ct,nt,yt,Pe,Ut,en,Ot,Qn,G,Z,ie,ce,Ht,zt,m,g,y,v,H,Y,E]}class vo extends Be{constructor(e){super(),ze(this,e,Q3,J3,Ye,{id:0,type:1,position:2,style:3,isValidConnection:33,onconnect:34,ondisconnect:35,isConnectable:36,class:4},null,[-1,-1])}}function j3(t){var f;let e,n,i=((f=t[0])==null?void 0:f.label)+"",o,s,u,a;return e=new vo({props:{type:"target",position:t[1]??Ue.Top}}),u=new vo({props:{type:"source",position:t[2]??Ue.Bottom}}),{c(){Te(e.$$.fragment),n=Ie(),o=rt(i),s=Ie(),Te(u.$$.fragment)},m(d,h){Ae(e,d,h),oe(d,n,h),oe(d,o,h),oe(d,s,h),Ae(u,d,h),a=!0},p(d,[h]){var y;const m={};h&2&&(m.position=d[1]??Ue.Top),e.$set(m),(!a||h&1)&&i!==(i=((y=d[0])==null?void 0:y.label)+"")&&qt(o,i);const g={};h&4&&(g.position=d[2]??Ue.Bottom),u.$set(g)},i(d){a||(se(e.$$.fragment,d),se(u.$$.fragment,d),a=!0)},o(d){fe(e.$$.fragment,d),fe(u.$$.fragment,d),a=!1},d(d){d&&(re(n),re(o),re(s)),Me(e,d),Me(u,d)}}}function $3(t,e,n){const i=["data","targetPosition","sourcePosition"];St(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e,{sourcePosition:u=void 0}=e;return t.$$set=a=>{e=ot(ot({},e),_n(a)),n(3,St(e,i)),"data"in a&&n(0,o=a.data),"targetPosition"in a&&n(1,s=a.targetPosition),"sourcePosition"in a&&n(2,u=a.sourcePosition)},[o,s,u]}class Lh extends Be{constructor(e){super(),ze(this,e,$3,j3,Ye,{data:0,targetPosition:1,sourcePosition:2})}}function e5(t){var u;let e=((u=t[0])==null?void 0:u.label)+"",n,i,o,s;return o=new vo({props:{type:"source",position:t[1]??Ue.Bottom}}),{c(){n=rt(e),i=Ie(),Te(o.$$.fragment)},m(a,f){oe(a,n,f),oe(a,i,f),Ae(o,a,f),s=!0},p(a,[f]){var h;(!s||f&1)&&e!==(e=((h=a[0])==null?void 0:h.label)+"")&&qt(n,e);const d={};f&2&&(d.position=a[1]??Ue.Bottom),o.$set(d)},i(a){s||(se(o.$$.fragment,a),s=!0)},o(a){fe(o.$$.fragment,a),s=!1},d(a){a&&(re(n),re(i)),Me(o,a)}}}function t5(t,e,n){const i=["data","sourcePosition"];St(e,i);let{data:o={label:"Node"}}=e,{sourcePosition:s=void 0}=e;return t.$$set=u=>{e=ot(ot({},e),_n(u)),n(2,St(e,i)),"data"in u&&n(0,o=u.data),"sourcePosition"in u&&n(1,s=u.sourcePosition)},[o,s]}class n5 extends Be{constructor(e){super(),ze(this,e,t5,e5,Ye,{data:0,sourcePosition:1})}}function i5(t){var u;let e=((u=t[0])==null?void 0:u.label)+"",n,i,o,s;return o=new vo({props:{type:"target",position:t[1]??Ue.Top}}),{c(){n=rt(e),i=Ie(),Te(o.$$.fragment)},m(a,f){oe(a,n,f),oe(a,i,f),Ae(o,a,f),s=!0},p(a,[f]){var h;(!s||f&1)&&e!==(e=((h=a[0])==null?void 0:h.label)+"")&&qt(n,e);const d={};f&2&&(d.position=a[1]??Ue.Top),o.$set(d)},i(a){s||(se(o.$$.fragment,a),s=!0)},o(a){fe(o.$$.fragment,a),s=!1},d(a){a&&(re(n),re(i)),Me(o,a)}}}function r5(t,e,n){const i=["data","targetPosition"];St(e,i);let{data:o={label:"Node"}}=e,{targetPosition:s=void 0}=e;return t.$$set=u=>{e=ot(ot({},e),_n(u)),n(2,St(e,i)),"data"in u&&n(0,o=u.data),"targetPosition"in u&&n(1,s=u.targetPosition)},[o,s]}class o5 extends Be{constructor(e){super(),ze(this,e,r5,i5,Ye,{data:0,targetPosition:1})}}function l5(t,e,n){const i=[];return St(e,i),t.$$set=o=>{e=ot(ot({},e),_n(o)),n(0,St(e,i))},[]}class s5 extends Be{constructor(e){super(),ze(this,e,l5,null,Ye,{})}}function Rd(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function u5(t,{target:e,domNode:n}){return Rd(t,n,e),{async update({target:i,domNode:o}){Rd(t,o,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function a5(t){let e,n,i,o,s;const u=t[3].default,a=Xt(u,t,t[2],null);return{c(){e=Ee("div"),a&&a.c()},m(f,d){oe(f,e,d),a&&a.m(e,null),i=!0,o||(s=$t(n=u5.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),o=!0)},p(f,[d]){a&&a.p&&(!i||d&4)&&xt(a,u,f,f[2],i?Ft(u,f[2],d,null):Vt(f[2]),null),n&&vt(n.update)&&d&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:f[0]})},i(f){i||(se(a,f),i=!0)},o(f){fe(a,f),i=!1},d(f){f&&re(e),a&&a.d(f),o=!1,s()}}}function f5(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{domNode:u}=gt();return pe(t,u,a=>n(0,i=a)),t.$$set=a=>{"$$scope"in a&&n(2,s=a.$$scope)},[i,u,s,o]}class c5 extends Be{constructor(e){super(),ze(this,e,f5,a5,Ye,{})}}function Dh(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:o,unselectNodesAndEdges:s,elementsSelectable:u}=gt();return a=>{const f=he(t).get(a);if(!f){console.warn("012",Mr.error012(a));return}(f.selectable||he(u)&&typeof f.selectable>"u")&&(e.set(null),n.set(null),f.selected?f.selected&&he(i)&&s({nodes:[],edges:[f]}):o([a]))}}function d5(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,o,s,u;const a=t[5].default,f=Xt(a,t,t[7],null);return{c(){e=Ee("div"),f&&f.c(),O(e,"class","svelte-flow__edge-label"),O(e,"style",n="pointer-events: all;"+t[0]),O(e,"role","button"),O(e,"tabindex","-1"),Xe(e,"transform",i)},m(d,h){oe(d,e,h),f&&f.m(e,null),o=!0,s||(u=[We(e,"keyup",g5),We(e,"click",t[6])],s=!0)},p(d,h){f&&f.p&&(!o||h&128)&&xt(f,a,d,d[7],o?Ft(a,d[7],h,null):Vt(d[7]),null),(!o||h&1&&n!==(n="pointer-events: all;"+d[0]))&&O(e,"style",n);const m=h&1;(h&7&&i!==(i=`translate(-50%, -50%) translate(${d[1]}px,${d[2]}px)`)||m)&&Xe(e,"transform",i)},i(d){o||(se(f,d),o=!0)},o(d){fe(f,d),o=!1},d(d){d&&re(e),f&&f.d(d),s=!1,At(u)}}}function h5(t){let e,n;return e=new c5({props:{$$slots:{default:[d5]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&135&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}const g5=()=>{};function m5(t,e,n){let{$$slots:i={},$$scope:o}=e,{style:s=void 0}=e,{x:u=void 0}=e,{y:a=void 0}=e;const f=Dh(),d=ho("svelteflow__edge_id"),h=()=>{d&&f(d)};return t.$$set=m=>{"style"in m&&n(0,s=m.style),"x"in m&&n(1,u=m.x),"y"in m&&n(2,a=m.y),"$$scope"in m&&n(7,o=m.$$scope)},[s,u,a,f,d,i,h,o]}class _5 extends Be{constructor(e){super(),ze(this,e,m5,h5,Ye,{style:0,x:1,y:2})}}function y5(t){let e;return{c(){e=Ge("path"),O(e,"d",t[1]),O(e,"stroke-opacity",0),O(e,"stroke-width",t[10]),O(e,"fill","none"),O(e,"class","svelte-flow__edge-interaction")},m(n,i){oe(n,e,i)},p(n,i){i&2&&O(e,"d",n[1])},d(n){n&&re(e)}}}function Hd(t){let e,n;return e=new _5({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[w5]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&8&&(s.x=i[3]),o&16&&(s.y=i[4]),o&32&&(s.style=i[5]),o&4100&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function w5(t){let e;return{c(){e=rt(t[2])},m(n,i){oe(n,e,i)},p(n,i){i&4&&qt(e,n[2])},d(n){n&&re(e)}}}function b5(t){let e,n,i,o,s,u,a=t[10]&&y5(t),f=t[2]&&Hd(t);return{c(){e=Ge("path"),i=Ie(),a&&a.c(),o=Ie(),f&&f.c(),s=Pt(),O(e,"id",t[0]),O(e,"d",t[1]),O(e,"class",n=ut(["svelte-flow__edge-path",t[9]])),O(e,"marker-start",t[6]),O(e,"marker-end",t[7]),O(e,"fill","none"),O(e,"style",t[8])},m(d,h){oe(d,e,h),oe(d,i,h),a&&a.m(d,h),oe(d,o,h),f&&f.m(d,h),oe(d,s,h),u=!0},p(d,[h]){(!u||h&1)&&O(e,"id",d[0]),(!u||h&2)&&O(e,"d",d[1]),(!u||h&512&&n!==(n=ut(["svelte-flow__edge-path",d[9]])))&&O(e,"class",n),(!u||h&64)&&O(e,"marker-start",d[6]),(!u||h&128)&&O(e,"marker-end",d[7]),(!u||h&256)&&O(e,"style",d[8]),d[10]&&a.p(d,h),d[2]?f?(f.p(d,h),h&4&&se(f,1)):(f=Hd(d),f.c(),se(f,1),f.m(s.parentNode,s)):f&&(Ct(),fe(f,1,1,()=>{f=null}),Et())},i(d){u||(se(f),u=!0)},o(d){fe(f),u=!1},d(d){d&&(re(e),re(i),re(o),re(s)),a&&a.d(d),f&&f.d(d)}}}function p5(t,e,n){let{id:i=void 0}=e,{path:o}=e,{label:s=void 0}=e,{labelX:u=void 0}=e,{labelY:a=void 0}=e,{labelStyle:f=void 0}=e,{markerStart:d=void 0}=e,{markerEnd:h=void 0}=e,{style:m=void 0}=e,{interactionWidth:g=20}=e,{class:y=void 0}=e,v=g===void 0?20:g;return t.$$set=C=>{"id"in C&&n(0,i=C.id),"path"in C&&n(1,o=C.path),"label"in C&&n(2,s=C.label),"labelX"in C&&n(3,u=C.labelX),"labelY"in C&&n(4,a=C.labelY),"labelStyle"in C&&n(5,f=C.labelStyle),"markerStart"in C&&n(6,d=C.markerStart),"markerEnd"in C&&n(7,h=C.markerEnd),"style"in C&&n(8,m=C.style),"interactionWidth"in C&&n(11,g=C.interactionWidth),"class"in C&&n(9,y=C.class)},[i,o,s,u,a,f,d,h,m,y,v,g]}class Io extends Be{constructor(e){super(),ze(this,e,p5,b5,Ye,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}function v5(t){let e,n;return e=new Io({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function k5(t,e,n){let i,o,s;const u=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];St(e,u);let{label:a=void 0}=e,{labelStyle:f=void 0}=e,{style:d=void 0}=e,{markerStart:h=void 0}=e,{markerEnd:m=void 0}=e,{interactionWidth:g=void 0}=e,{sourceX:y}=e,{sourceY:v}=e,{sourcePosition:C}=e,{targetX:N}=e,{targetY:k}=e,{targetPosition:R}=e;return t.$$set=T=>{e=ot(ot({},e),_n(T)),n(15,St(e,u)),"label"in T&&n(0,a=T.label),"labelStyle"in T&&n(1,f=T.labelStyle),"style"in T&&n(2,d=T.style),"markerStart"in T&&n(3,h=T.markerStart),"markerEnd"in T&&n(4,m=T.markerEnd),"interactionWidth"in T&&n(5,g=T.interactionWidth),"sourceX"in T&&n(9,y=T.sourceX),"sourceY"in T&&n(10,v=T.sourceY),"sourcePosition"in T&&n(11,C=T.sourcePosition),"targetX"in T&&n(12,N=T.targetX),"targetY"in T&&n(13,k=T.targetY),"targetPosition"in T&&n(14,R=T.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=bh({sourceX:y,sourceY:v,targetX:N,targetY:k,sourcePosition:C,targetPosition:R}),i,(n(7,o),n(9,y),n(10,v),n(12,N),n(13,k),n(11,C),n(14,R)),(n(6,s),n(9,y),n(10,v),n(12,N),n(13,k),n(11,C),n(14,R)))},[a,f,d,h,m,g,s,o,i,y,v,C,N,k,R]}class Rh extends Be{constructor(e){super(),ze(this,e,k5,v5,Ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function C5(t){let e,n;return e=new Io({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function E5(t,e,n){let i,o,s;const u=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];St(e,u);let{label:a=void 0}=e,{labelStyle:f=void 0}=e,{style:d=void 0}=e,{markerStart:h=void 0}=e,{markerEnd:m=void 0}=e,{interactionWidth:g=void 0}=e,{sourceX:y}=e,{sourceY:v}=e,{sourcePosition:C}=e,{targetX:N}=e,{targetY:k}=e,{targetPosition:R}=e;return t.$$set=T=>{e=ot(ot({},e),_n(T)),n(15,St(e,u)),"label"in T&&n(0,a=T.label),"labelStyle"in T&&n(1,f=T.labelStyle),"style"in T&&n(2,d=T.style),"markerStart"in T&&n(3,h=T.markerStart),"markerEnd"in T&&n(4,m=T.markerEnd),"interactionWidth"in T&&n(5,g=T.interactionWidth),"sourceX"in T&&n(9,y=T.sourceX),"sourceY"in T&&n(10,v=T.sourceY),"sourcePosition"in T&&n(11,C=T.sourcePosition),"targetX"in T&&n(12,N=T.targetX),"targetY"in T&&n(13,k=T.targetY),"targetPosition"in T&&n(14,R=T.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=Nr({sourceX:y,sourceY:v,targetX:N,targetY:k,sourcePosition:C,targetPosition:R}),i,(n(7,o),n(9,y),n(10,v),n(12,N),n(13,k),n(11,C),n(14,R)),(n(6,s),n(9,y),n(10,v),n(12,N),n(13,k),n(11,C),n(14,R)))},[a,f,d,h,m,g,s,o,i,y,v,C,N,k,R]}class S5 extends Be{constructor(e){super(),ze(this,e,E5,C5,Ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function A5(t){let e,n;return e=new Io({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function M5(t,e,n){let i,o,s;const u=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","targetX","targetY"];St(e,u);let{label:a=void 0}=e,{labelStyle:f=void 0}=e,{style:d=void 0}=e,{markerStart:h=void 0}=e,{markerEnd:m=void 0}=e,{interactionWidth:g=void 0}=e,{sourceX:y}=e,{sourceY:v}=e,{targetX:C}=e,{targetY:N}=e;return t.$$set=k=>{e=ot(ot({},e),_n(k)),n(13,St(e,u)),"label"in k&&n(0,a=k.label),"labelStyle"in k&&n(1,f=k.labelStyle),"style"in k&&n(2,d=k.style),"markerStart"in k&&n(3,h=k.markerStart),"markerEnd"in k&&n(4,m=k.markerEnd),"interactionWidth"in k&&n(5,g=k.interactionWidth),"sourceX"in k&&n(9,y=k.sourceX),"sourceY"in k&&n(10,v=k.sourceY),"targetX"in k&&n(11,C=k.targetX),"targetY"in k&&n(12,N=k.targetY)},t.$$.update=()=>{t.$$.dirty&7680&&n(8,[i,o,s]=vh({sourceX:y,sourceY:v,targetX:C,targetY:N}),i,(n(7,o),n(9,y),n(10,v),n(11,C),n(12,N)),(n(6,s),n(9,y),n(10,v),n(11,C),n(12,N)))},[a,f,d,h,m,g,s,o,i,y,v,C,N]}class T5 extends Be{constructor(e){super(),ze(this,e,M5,A5,Ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,targetX:11,targetY:12})}}function P5(t){let e,n;return e=new Io({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&256&&(s.path=i[8]),o&128&&(s.labelX=i[7]),o&64&&(s.labelY=i[6]),o&1&&(s.label=i[0]),o&2&&(s.labelStyle=i[1]),o&8&&(s.markerStart=i[3]),o&16&&(s.markerEnd=i[4]),o&32&&(s.interactionWidth=i[5]),o&4&&(s.style=i[2]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function I5(t,e,n){let i,o,s;const u=["label","labelStyle","style","markerStart","markerEnd","interactionWidth","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition"];St(e,u);let{label:a=void 0}=e,{labelStyle:f=void 0}=e,{style:d=void 0}=e,{markerStart:h=void 0}=e,{markerEnd:m=void 0}=e,{interactionWidth:g=void 0}=e,{sourceX:y}=e,{sourceY:v}=e,{sourcePosition:C}=e,{targetX:N}=e,{targetY:k}=e,{targetPosition:R}=e;return t.$$set=T=>{e=ot(ot({},e),_n(T)),n(15,St(e,u)),"label"in T&&n(0,a=T.label),"labelStyle"in T&&n(1,f=T.labelStyle),"style"in T&&n(2,d=T.style),"markerStart"in T&&n(3,h=T.markerStart),"markerEnd"in T&&n(4,m=T.markerEnd),"interactionWidth"in T&&n(5,g=T.interactionWidth),"sourceX"in T&&n(9,y=T.sourceX),"sourceY"in T&&n(10,v=T.sourceY),"sourcePosition"in T&&n(11,C=T.sourcePosition),"targetX"in T&&n(12,N=T.targetX),"targetY"in T&&n(13,k=T.targetY),"targetPosition"in T&&n(14,R=T.targetPosition)},t.$$.update=()=>{t.$$.dirty&32256&&n(8,[i,o,s]=Nr({sourceX:y,sourceY:v,targetX:N,targetY:k,sourcePosition:C,targetPosition:R,borderRadius:0}),i,(n(7,o),n(9,y),n(10,v),n(12,N),n(13,k),n(11,C),n(14,R)),(n(6,s),n(9,y),n(10,v),n(12,N),n(13,k),n(11,C),n(14,R)))},[a,f,d,h,m,g,s,o,i,y,v,C,N,k,R]}class O5 extends Be{constructor(e){super(),ze(this,e,I5,P5,Ye,{label:0,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:9,sourceY:10,sourcePosition:11,targetX:12,targetY:13,targetPosition:14})}}function N5(t,e){const n=t.set,i=e.set,o=he(t),s=he(e);let a=o.length===0&&s.length>0?s:o;t.set(a);const f=d=>{const h=n(d);return a=h,i(a),h};t.set=e.set=f,t.update=e.update=d=>f(d(a))}function L5(t,e){const n=t.set,i=e.set;let o=he(e);t.set(o);const s=u=>{n(u),i(u),o=u};t.set=e.set=s,t.update=e.update=u=>s(u(o))}const D5=(t,e,n)=>{if(!n)return;const i=he(t),o=e.set,s=n.set;let u=n?he(n):{x:0,y:0,zoom:1};e.set(u),e.set=a=>(o(a),s(a),u=a,a),n.set=a=>(i==null||i.syncViewport(a),o(a),s(a),u=a,a),e.update=a=>{e.set(a(u))},n.update=a=>{n.set(a(u))}},R5=(t,e,n,i=[0,0],o=Kl)=>{const{subscribe:s,set:u,update:a}=He([]);let f=t,d={},h=!0;const m=C=>(kh(C,e,n,{elevateNodesOnSelect:h,nodeOrigin:i,nodeExtent:o,defaults:d,checkEquality:!1}),f=C,u(f),f),g=C=>m(C(f)),y=C=>{d=C},v=C=>{h=C.elevateNodesOnSelect??h};return m(f),{subscribe:s,set:m,update:g,setDefaultOptions:y,setOptions:v}},H5=(t,e,n,i)=>{const{subscribe:o,set:s,update:u}=He([]);let a=t,f={};const d=g=>{const y=f?g.map(v=>({...f,...v})):g;Eh(e,n,y),a=y,s(a)},h=g=>d(g(a)),m=g=>{f=g};return d(a),{subscribe:o,set:d,update:h,setDefaultOptions:m}},Hh={input:n5,output:o5,default:Lh,group:s5},zh={straight:T5,smoothstep:S5,default:Rh,step:O5},z5=({nodes:t=[],edges:e=[],width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:u})=>{const a=new Map,f=new Map,d=new Map,h=new Map,m=s??[0,0],g=u??Kl;kh(t,a,f,{nodeExtent:g,nodeOrigin:m,elevateNodesOnSelect:!1,checkEquality:!1}),Eh(d,h,e);let y={x:0,y:0,zoom:1};if(o&&n&&i){const v=To(a,{filter:C=>!!((C.width||C.initialWidth)&&(C.height||C.initialHeight))});y=pa(v,n,i,.5,2,.1)}return{flowId:He(null),nodes:R5(t,a,f,m,g),nodeLookup:Mn(a),parentLookup:Mn(f),edgeLookup:Mn(h),visibleNodes:Mn([]),edges:H5(e,d,h),visibleEdges:Mn([]),connectionLookup:Mn(d),height:He(500),width:He(500),minZoom:He(.5),maxZoom:He(2),nodeOrigin:He(m),nodeDragThreshold:He(1),nodeExtent:He(g),translateExtent:He(Kl),autoPanOnNodeDrag:He(!0),autoPanOnConnect:He(!0),fitViewOnInit:He(!1),fitViewOnInitDone:He(!1),fitViewOptions:He(void 0),panZoom:He(null),snapGrid:He(null),dragging:He(!1),selectionRect:He(null),selectionKeyPressed:He(!1),multiselectionKeyPressed:He(!1),deleteKeyPressed:He(!1),panActivationKeyPressed:He(!1),zoomActivationKeyPressed:He(!1),selectionRectMode:He(null),selectionMode:He(Zl.Partial),nodeTypes:He(Hh),edgeTypes:He(zh),viewport:He(y),connectionMode:He(Ui.Strict),domNode:He(null),connection:Mn(oa),connectionLineType:He(pr.Bezier),connectionRadius:He(20),isValidConnection:He(()=>!0),nodesDraggable:He(!0),nodesConnectable:He(!0),elementsSelectable:He(!0),selectNodesOnDrag:He(!0),markers:Mn([]),defaultMarkerColor:He("#b1b1b7"),lib:Mn("svelte"),onlyRenderVisibleElements:He(!1),onerror:He(i3),ondelete:He(void 0),onedgecreate:He(void 0),onconnect:He(void 0),onconnectstart:He(void 0),onconnectend:He(void 0),onbeforedelete:He(void 0),nodesInitialized:He(!1),edgesInitialized:He(!1),viewportInitialized:He(!1),initialized:Mn(!1)}};function B5(t){const e=yr([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,o,s,u,a])=>o&&u&&a?n.filter(d=>{const h=i.get(d.source),m=i.get(d.target);return h&&m&&f3({sourceNode:h,targetNode:m,width:u,height:a,transform:[s.x,s.y,s.zoom]})}):n);return yr([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,o,s])=>n.reduce((a,f)=>{const d=i.get(f.source),h=i.get(f.target);if(!d||!h)return a;const m=y3({id:f.id,sourceNode:d,targetNode:h,sourceHandle:f.sourceHandle||null,targetHandle:f.targetHandle||null,connectionMode:o,onError:s});return m&&a.push({...f,zIndex:a3({selected:f.selected,zIndex:f.zIndex,sourceNode:d,targetNode:h,elevateOnSelect:!1}),...m}),a},[]))}function W5(t){return yr([t.nodeLookup,t.onlyRenderVisibleElements,t.width,t.height,t.viewport,t.nodes],([e,n,i,o,s])=>{const u=[s.x,s.y,s.zoom];return n?dh(e,{x:0,y:0,width:i,height:o},u,!0):Array.from(e.values())})}const ls=Symbol();function Bh({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:u}){const a=z5({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:u});function f(D){a.nodeTypes.set({...Hh,...D})}function d(D){a.edgeTypes.set({...zh,...D})}function h(D){const V=he(a.edges);a.edges.set(h3(D,V))}const m=(D,V=!1)=>{var Z;const G=he(a.nodeLookup);for(const[ie,ce]of D){const be=(Z=G.get(ie))==null?void 0:Z.internals.userNode;be&&(be.position=ce.position,be.dragging=V)}a.nodes.update(ie=>ie)};function g(D){var ce,be,ve;const V=he(a.nodeLookup),G=he(a.parentLookup),{changes:Z,updatedInternals:ie}=E3(D,V,he(a.parentLookup),he(a.domNode),he(a.nodeOrigin));if(ie){if(p3(V,G,{nodeOrigin:s,nodeExtent:u}),!he(a.fitViewOnInitDone)&&he(a.fitViewOnInit)){const le=he(a.fitViewOptions),ke=v({...le,nodes:le==null?void 0:le.nodes});a.fitViewOnInitDone.set(ke)}for(const le of Z){const ke=(ce=V.get(le.id))==null?void 0:ce.internals.userNode;if(ke)switch(le.type){case"dimensions":{const Ce={...ke.measured,...le.dimensions};le.setAttributes&&(ke.width=((be=le.dimensions)==null?void 0:be.width)??ke.width,ke.height=((ve=le.dimensions)==null?void 0:ve.height)??ke.height),ke.measured=Ce;break}case"position":ke.position=le.position??ke.position;break}}a.nodes.update(le=>le),he(a.nodesInitialized)||a.nodesInitialized.set(!0)}}function y(D){const V=he(a.panZoom),G=he(a.domNode);if(!V||!G)return Promise.resolve(!1);const{width:Z,height:ie}=va(G),ce=vd(he(a.nodeLookup),D);return kd({nodes:ce,width:Z,height:ie,minZoom:he(a.minZoom),maxZoom:he(a.maxZoom),panZoom:V},D)}function v(D){const V=he(a.panZoom);if(!V)return!1;const G=vd(he(a.nodeLookup),D);return kd({nodes:G,width:he(a.width),height:he(a.height),minZoom:he(a.minZoom),maxZoom:he(a.maxZoom),panZoom:V},D),G.size>0}function C(D,V){const G=he(a.panZoom);return G?G.scaleBy(D,V):Promise.resolve(!1)}function N(D){return C(1.2,D)}function k(D){return C(1/1.2,D)}function R(D){const V=he(a.panZoom);V&&(V.setScaleExtent([D,he(a.maxZoom)]),a.minZoom.set(D))}function T(D){const V=he(a.panZoom);V&&(V.setScaleExtent([he(a.minZoom),D]),a.maxZoom.set(D))}function B(D){const V=he(a.panZoom);V&&(V.setTranslateExtent(D),a.translateExtent.set(D))}function S(D){let V=!1;return D.forEach(G=>{G.selected&&(G.selected=!1,V=!0)}),V}function P(D){var V;(V=he(a.panZoom))==null||V.setClickDistance(D)}function w(D){S((D==null?void 0:D.nodes)||he(a.nodes))&&a.nodes.set(he(a.nodes)),S((D==null?void 0:D.edges)||he(a.edges))&&a.edges.set(he(a.edges))}a.deleteKeyPressed.subscribe(async D=>{var V;if(D){const G=he(a.nodes),Z=he(a.edges),ie=G.filter(le=>le.selected),ce=Z.filter(le=>le.selected),{nodes:be,edges:ve}=await hh({nodesToRemove:ie,edgesToRemove:ce,nodes:G,edges:Z,onBeforeDelete:he(a.onbeforedelete)});(be.length||ve.length)&&(a.nodes.update(le=>le.filter(ke=>!be.some(Ce=>Ce.id===ke.id))),a.edges.update(le=>le.filter(ke=>!ve.some(Ce=>Ce.id===ke.id))),(V=he(a.ondelete))==null||V({nodes:be,edges:ve}))}});function I(D){const V=he(a.multiselectionKeyPressed);a.nodes.update(G=>G.map(Z=>{const ie=D.includes(Z.id),ce=V&&Z.selected||ie;return Z.selected=ce,Z})),V||a.edges.update(G=>G.map(Z=>(Z.selected=!1,Z)))}function A(D){const V=he(a.multiselectionKeyPressed);a.edges.update(G=>G.map(Z=>{const ie=D.includes(Z.id),ce=V&&Z.selected||ie;return Z.selected=ce,Z})),V||a.nodes.update(G=>G.map(Z=>(Z.selected=!1,Z)))}function W(D){var G;const V=(G=he(a.nodes))==null?void 0:G.find(Z=>Z.id===D);if(!V){console.warn("012",Mr.error012(D));return}a.selectionRect.set(null),a.selectionRectMode.set(null),V.selected?V.selected&&he(a.multiselectionKeyPressed)&&w({nodes:[V],edges:[]}):I([D])}function H(D){const V=he(a.viewport);return S3({delta:D,panZoom:he(a.panZoom),transform:[V.x,V.y,V.zoom],translateExtent:he(a.translateExtent),width:he(a.width),height:he(a.height)})}const E=He(oa),Y=D=>{E.set({...D})};function b(){E.set(oa)}function X(){a.fitViewOnInitDone.set(!1),a.selectionRect.set(null),a.selectionRectMode.set(null),a.snapGrid.set(null),a.isValidConnection.set(()=>!0),w(),b()}return{...a,visibleEdges:B5(a),visibleNodes:W5(a),connection:yr([E,a.viewport],([D,V])=>D.inProgress?{...D,to:Po(D.to,[V.x,V.y,V.zoom])}:{...D}),markers:yr([a.edges,a.defaultMarkerColor,a.flowId],([D,V,G])=>w3(D,{defaultColor:V,id:G})),initialized:(()=>{let D=!1;const V=he(a.nodes).length,G=he(a.edges).length;return yr([a.nodesInitialized,a.edgesInitialized,a.viewportInitialized],([Z,ie,ce])=>D||(V===0?D=ce:G===0?D=ce&&Z:D=ce&&Z&&ie,D))})(),syncNodeStores:D=>N5(a.nodes,D),syncEdgeStores:D=>L5(a.edges,D),syncViewport:D=>D5(a.panZoom,a.viewport,D),setNodeTypes:f,setEdgeTypes:d,addEdge:h,updateNodePositions:m,updateNodeInternals:g,zoomIn:N,zoomOut:k,fitView:D=>y(D),setMinZoom:R,setMaxZoom:T,setTranslateExtent:B,setPaneClickDistance:P,unselectNodesAndEdges:w,addSelectedNodes:I,addSelectedEdges:A,handleNodeSelection:W,panBy:H,updateConnection:Y,cancelConnection:b,reset:X}}function gt(){const t=ho(ls);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function Y5({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:u}){const a=Bh({nodes:t,edges:e,width:n,height:i,fitView:o,nodeOrigin:s,nodeExtent:u});return co(ls,{getStore:()=>a}),a}function X5(t,e){const{panZoom:n,minZoom:i,maxZoom:o,initialViewport:s,viewport:u,dragging:a,translateExtent:f,paneClickDistance:d}=e,h=F3({domNode:t,minZoom:i,maxZoom:o,translateExtent:f,viewport:s,paneClickDistance:d,onDraggingChange:a.set}),m=h.getViewport();return u.set(m),n.set(h),h.update(e),{update(g){h.update(g)}}}function F5(t){let e,n,i,o,s;const u=t[35].default,a=Xt(u,t,t[34],null);return{c(){e=Ee("div"),a&&a.c(),O(e,"class","svelte-flow__zoom svelte-4xkw84")},m(f,d){oe(f,e,d),a&&a.m(e,null),i=!0,o||(s=$t(n=X5.call(null,e,{viewport:t[18],minZoom:t[12],maxZoom:t[13],initialViewport:t[11],dragging:t[23],panZoom:t[19],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[9],panOnDrag:t[10],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Gn.Free,zoomActivationKeyPressed:t[14],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!t[15],translateExtent:t[16],lib:t[17],paneClickDistance:t[8],onTransformChange:t[29]})),o=!0)},p(f,d){a&&a.p&&(!i||d[1]&8)&&xt(a,u,f,f[34],i?Ft(u,f[34],d,null):Vt(f[34]),null),n&&vt(n.update)&&d[0]&262143&&n.update.call(null,{viewport:f[18],minZoom:f[12],maxZoom:f[13],initialViewport:f[11],dragging:f[23],panZoom:f[19],onPanZoomStart:f[0],onPanZoom:f[1],onPanZoomEnd:f[2],zoomOnScroll:f[5],zoomOnDoubleClick:f[6],zoomOnPinch:f[7],panOnScroll:f[9],panOnDrag:f[10],panOnScrollSpeed:.5,panOnScrollMode:f[3]||Gn.Free,zoomActivationKeyPressed:f[14],preventScrolling:typeof f[4]=="boolean"?f[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:!!f[15],translateExtent:f[16],lib:f[17],paneClickDistance:f[8],onTransformChange:f[29]})},i(f){i||(se(a,f),i=!0)},o(f){fe(a,f),i=!1},d(f){f&&re(e),a&&a.d(f),o=!1,s()}}}function x5(t,e,n){let i,o,s,u,a,f,d,h,m,g,y,{$$slots:v={},$$scope:C}=e,{initialViewport:N=void 0}=e,{onMoveStart:k=void 0}=e,{onMove:R=void 0}=e,{onMoveEnd:T=void 0}=e,{panOnScrollMode:B}=e,{preventScrolling:S}=e,{zoomOnScroll:P}=e,{zoomOnDoubleClick:w}=e,{zoomOnPinch:I}=e,{panOnDrag:A}=e,{panOnScroll:W}=e,{paneClickDistance:H}=e;const{viewport:E,panZoom:Y,selectionRect:b,minZoom:X,maxZoom:D,dragging:V,translateExtent:G,lib:Z,panActivationKeyPressed:ie,zoomActivationKeyPressed:ce,viewportInitialized:be}=gt();pe(t,b,le=>n(15,m=le)),pe(t,X,le=>n(12,f=le)),pe(t,D,le=>n(13,d=le)),pe(t,G,le=>n(16,g=le)),pe(t,Z,le=>n(17,y=le)),pe(t,ie,le=>n(33,a=le)),pe(t,ce,le=>n(14,h=le)),pe(t,be,le=>n(36,u=le));const ve=le=>E.set({x:le[0],y:le[1],zoom:le[2]});return Rr(()=>{zn(be,u=!0,u)}),t.$$set=le=>{"initialViewport"in le&&n(30,N=le.initialViewport),"onMoveStart"in le&&n(0,k=le.onMoveStart),"onMove"in le&&n(1,R=le.onMove),"onMoveEnd"in le&&n(2,T=le.onMoveEnd),"panOnScrollMode"in le&&n(3,B=le.panOnScrollMode),"preventScrolling"in le&&n(4,S=le.preventScrolling),"zoomOnScroll"in le&&n(5,P=le.zoomOnScroll),"zoomOnDoubleClick"in le&&n(6,w=le.zoomOnDoubleClick),"zoomOnPinch"in le&&n(7,I=le.zoomOnPinch),"panOnDrag"in le&&n(31,A=le.panOnDrag),"panOnScroll"in le&&n(32,W=le.panOnScroll),"paneClickDistance"in le&&n(8,H=le.paneClickDistance),"$$scope"in le&&n(34,C=le.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&n(11,i=N||{x:0,y:0,zoom:1}),t.$$.dirty[1]&5&&n(10,o=a||A),t.$$.dirty[1]&6&&n(9,s=a||W)},[k,R,T,B,S,P,w,I,H,s,o,i,f,d,h,m,g,y,E,Y,b,X,D,V,G,Z,ie,ce,be,ve,N,A,W,a,C,v]}class V5 extends Be{constructor(e){super(),ze(this,e,x5,F5,Ye,{initialViewport:30,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:31,panOnScroll:32,paneClickDistance:8},null,[-1,-1])}}function U5(t){let e,n,i,o;const s=t[28].default,u=Xt(s,t,t[27],null);return{c(){e=Ee("div"),u&&u.c(),O(e,"class","svelte-flow__pane svelte-1esy7hx"),Ke(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),Ke(e,"dragging",t[4]),Ke(e,"selection",t[1])},m(a,f){oe(a,e,f),u&&u.m(e,null),t[29](e),n=!0,i||(o=[We(e,"click",function(){vt(t[3]?void 0:Il(t[15],t[2]))&&(t[3]?void 0:Il(t[15],t[2])).apply(this,arguments)}),We(e,"pointerdown",function(){vt(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),We(e,"pointermove",function(){vt(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),We(e,"pointerup",function(){vt(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),We(e,"contextmenu",function(){vt(Il(t[19],t[2]))&&Il(t[19],t[2]).apply(this,arguments)})],i=!0)},p(a,f){t=a,u&&u.p&&(!n||f[0]&134217728)&&xt(u,s,t,t[27],n?Ft(s,t[27],f,null):Vt(t[27]),null),(!n||f[0]&1)&&Ke(e,"draggable",t[0]===!0||Array.isArray(t[0])&&t[0].includes(0)),(!n||f[0]&16)&&Ke(e,"dragging",t[4]),(!n||f[0]&2)&&Ke(e,"selection",t[1])},i(a){n||(se(u,a),n=!0)},o(a){fe(u,a),n=!1},d(a){a&&re(e),u&&u.d(a),t[29](null),i=!1,At(o)}}}function Il(t,e){return n=>{n.target===e&&(t==null||t(n))}}function zd(t){return e=>{const n=t.includes(e.id);return e.selected!==n&&(e.selected=n),e}}function K5(t,e,n){let i,o,s,u,a,f,d,h,m,g,y,v,C,{$$slots:N={},$$scope:k}=e,{panOnDrag:R=void 0}=e,{selectionOnDrag:T=void 0}=e;const B=Eo(),{nodes:S,nodeLookup:P,edges:w,viewport:I,dragging:A,elementsSelectable:W,selectionRect:H,selectionRectMode:E,selectionKeyPressed:Y,selectionMode:b,panActivationKeyPressed:X,unselectNodesAndEdges:D}=gt();pe(t,P,ue=>n(36,m=ue)),pe(t,w,ue=>n(33,f=ue)),pe(t,I,ue=>n(35,h=ue)),pe(t,A,ue=>n(4,C=ue)),pe(t,W,ue=>n(25,y=ue)),pe(t,H,ue=>n(24,g=ue)),pe(t,E,ue=>n(23,a=ue)),pe(t,Y,ue=>n(22,u=ue)),pe(t,b,ue=>n(34,d=ue)),pe(t,X,ue=>n(26,v=ue));let V,G=null,Z=[],ie=!1;function ce(ue){if(ie){ie=!1;return}B("paneclick",{event:ue}),D(),E.set(null)}function be(ue){var z,x;if(G=V.getBoundingClientRect(),!W||!o||ue.button!==0||ue.target!==V||!G)return;(x=(z=ue.target)==null?void 0:z.setPointerCapture)==null||x.call(z,ue.pointerId);const{x:Q,y:$}=ci(ue,G);D(),H.set({width:0,height:0,startX:Q,startY:$,x:Q,y:$})}function ve(ue){if(!o||!G||!g)return;ie=!0;const Q=ci(ue,G),$=g.startX??0,z=g.startY??0,x={...g,x:Q.x<$?Q.x:$,y:Q.y<z?Q.y:z,width:Math.abs(Q.x-$),height:Math.abs(Q.y-z)},ee=Z.map(Le=>Le.id),ne=la(Z,f).map(Le=>Le.id);Z=dh(m,x,[h.x,h.y,h.zoom],d===Zl.Partial,!0);const K=la(Z,f).map(Le=>Le.id),_e=Z.map(Le=>Le.id);(ee.length!==_e.length||_e.some(Le=>!ee.includes(Le)))&&S.update(Le=>Le.map(zd(_e))),(ne.length!==K.length||K.some(Le=>!ne.includes(Le)))&&w.update(Le=>Le.map(zd(K))),E.set("user"),H.set(x)}function le(ue){var Q,$;ue.button===0&&(($=(Q=ue.target)==null?void 0:Q.releasePointerCapture)==null||$.call(Q,ue.pointerId),!o&&a==="user"&&ue.target===V&&(ce==null||ce(ue)),H.set(null),Z.length>0&&zn(E,a="nodes",a),u&&(ie=!1))}const ke=ue=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){ue.preventDefault();return}B("panecontextmenu",{event:ue})};function Ce(ue){Tn[ue?"unshift":"push"](()=>{V=ue,n(2,V)})}return t.$$set=ue=>{"panOnDrag"in ue&&n(0,R=ue.panOnDrag),"selectionOnDrag"in ue&&n(20,T=ue.selectionOnDrag),"$$scope"in ue&&n(27,k=ue.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108865&&n(21,i=v||R),t.$$.dirty[0]&24117248&&n(1,o=u||g||T&&i!==!0),t.$$.dirty[0]&41943042&&n(3,s=y&&(o||a==="user"))},[R,o,V,s,C,P,w,I,A,W,H,E,Y,b,X,ce,be,ve,le,ke,T,i,u,a,g,y,v,k,N,Ce]}class Z5 extends Be{constructor(e){super(),ze(this,e,K5,U5,Ye,{panOnDrag:0,selectionOnDrag:20},null,[-1,-1])}}function G5(t){let e,n;const i=t[3].default,o=Xt(i,t,t[2],null);return{c(){e=Ee("div"),o&&o.c(),O(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),Xe(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(s,u){oe(s,e,u),o&&o.m(e,null),n=!0},p(s,[u]){o&&o.p&&(!n||u&4)&&xt(o,i,s,s[2],n?Ft(i,s[2],u,null):Vt(s[2]),null),(!n||u&1)&&Xe(e,"transform","translate("+s[0].x+"px, "+s[0].y+"px) scale("+s[0].zoom+")")},i(s){n||(se(o,s),n=!0)},o(s){fe(o,s),n=!1},d(s){s&&re(e),o&&o.d(s)}}}function q5(t,e,n){let i,{$$slots:o={},$$scope:s}=e;const{viewport:u}=gt();return pe(t,u,a=>n(0,i=a)),t.$$set=a=>{"$$scope"in a&&n(2,s=a.$$scope)},[i,u,s,o]}class J5 extends Be{constructor(e){super(),ze(this,e,q5,G5,Ye,{})}}function Wh(t,e){const{store:n,onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:u}=e,a=M3({onDrag:i,onDragStart:o,onDragStop:s,onNodeMouseDown:u,getStoreItems:()=>{const d=he(n.snapGrid),h=he(n.viewport);return{nodes:he(n.nodes),nodeLookup:he(n.nodeLookup),edges:he(n.edges),nodeExtent:he(n.nodeExtent),snapGrid:d||[0,0],snapToGrid:!!d,nodeOrigin:he(n.nodeOrigin),multiSelectionActive:he(n.multiselectionKeyPressed),domNode:he(n.domNode),transform:[h.x,h.y,h.zoom],autoPanOnNodeDrag:he(n.autoPanOnNodeDrag),nodesDraggable:he(n.nodesDraggable),selectNodesOnDrag:he(n.selectNodesOnDrag),nodeDragThreshold:he(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function f(d,h){if(h.disabled){a.destroy();return}a.update({domNode:d,noDragClassName:h.noDragClass,handleSelector:h.handleSelector,nodeId:h.nodeId,isSelectable:h.isSelectable,nodeClickDistance:h.nodeClickDistance})}return f(t,e),{update(d){f(t,d)},destroy(){a.destroy()}}}function Q5({width:t,height:e,initialWidth:n,initialHeight:i,measuredWidth:o,measuredHeight:s}){if(o===void 0&&s===void 0){const u=t??n,a=e??i;return{width:u?`width:${u}px;`:"",height:a?`height:${a}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function Bd(t){let e,n,i,o,s,u=`translate(${t[12]}px, ${t[13]}px)`,a,f,d;var h=t[27];function m(g,y){return{props:{data:g[2],id:g[1],selected:g[3]??!1,selectable:g[5]??g[28]??!0,deletable:g[7]??!0,sourcePosition:g[14],targetPosition:g[15],zIndex:g[16],dragging:g[9],draggable:g[4]??g[29]??!0,dragHandle:g[19],parentId:g[21],type:g[25],isConnectable:g[30],positionAbsoluteX:g[12],positionAbsoluteY:g[13],width:g[17],height:g[18]}}}return h&&(n=Bl(h,m(t))),{c(){e=Ee("div"),n&&Te(n.$$.fragment),O(e,"data-id",t[1]),O(e,"class",i=ut(["svelte-flow__node",`svelte-flow__node-${t[25]}`,t[23]])),O(e,"style",o=(t[10]??"")+";"+t[26].width+t[26].height),Ke(e,"dragging",t[9]),Ke(e,"selected",t[3]),Ke(e,"draggable",t[4]),Ke(e,"connectable",t[6]),Ke(e,"selectable",t[5]),Ke(e,"nopan",t[4]),Ke(e,"parent",t[11]),Xe(e,"z-index",t[16]),Xe(e,"transform",u),Xe(e,"visibility",t[20]?"visible":"hidden")},m(g,y){oe(g,e,y),n&&Ae(n,e,null),t[54](e),a=!0,f||(d=[$t(s=Wh.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[19],noDragClass:"nodrag",nodeClickDistance:t[22],onNodeMouseDown:t[33],onDrag:t[51],onDragStart:t[52],onDragStop:t[53],store:t[31]})),We(e,"click",t[38]),We(e,"mouseenter",t[55]),We(e,"mouseleave",t[56]),We(e,"mousemove",t[57]),We(e,"contextmenu",t[58])],f=!0)},p(g,y){if(y[0]&134217728&&h!==(h=g[27])){if(n){Ct();const C=n;fe(C.$$.fragment,1,0,()=>{Me(C,1)}),Et()}h?(n=Bl(h,m(g)),Te(n.$$.fragment),se(n.$$.fragment,1),Ae(n,e,null)):n=null}else if(h){const C={};y[0]&4&&(C.data=g[2]),y[0]&2&&(C.id=g[1]),y[0]&8&&(C.selected=g[3]??!1),y[0]&268435488&&(C.selectable=g[5]??g[28]??!0),y[0]&128&&(C.deletable=g[7]??!0),y[0]&16384&&(C.sourcePosition=g[14]),y[0]&32768&&(C.targetPosition=g[15]),y[0]&65536&&(C.zIndex=g[16]),y[0]&512&&(C.dragging=g[9]),y[0]&536870928&&(C.draggable=g[4]??g[29]??!0),y[0]&524288&&(C.dragHandle=g[19]),y[0]&2097152&&(C.parentId=g[21]),y[0]&33554432&&(C.type=g[25]),y[0]&1073741824&&(C.isConnectable=g[30]),y[0]&4096&&(C.positionAbsoluteX=g[12]),y[0]&8192&&(C.positionAbsoluteY=g[13]),y[0]&131072&&(C.width=g[17]),y[0]&262144&&(C.height=g[18]),n.$set(C)}(!a||y[0]&2)&&O(e,"data-id",g[1]),(!a||y[0]&41943040&&i!==(i=ut(["svelte-flow__node",`svelte-flow__node-${g[25]}`,g[23]])))&&O(e,"class",i),(!a||y[0]&67109888&&o!==(o=(g[10]??"")+";"+g[26].width+g[26].height))&&O(e,"style",o),s&&vt(s.update)&&y[0]&4718626&&s.update.call(null,{nodeId:g[1],isSelectable:g[5],disabled:!1,handleSelector:g[19],noDragClass:"nodrag",nodeClickDistance:g[22],onNodeMouseDown:g[33],onDrag:g[51],onDragStart:g[52],onDragStop:g[53],store:g[31]}),(!a||y[0]&41943552)&&Ke(e,"dragging",g[9]),(!a||y[0]&41943048)&&Ke(e,"selected",g[3]),(!a||y[0]&41943056)&&Ke(e,"draggable",g[4]),(!a||y[0]&41943104)&&Ke(e,"connectable",g[6]),(!a||y[0]&41943072)&&Ke(e,"selectable",g[5]),(!a||y[0]&41943056)&&Ke(e,"nopan",g[4]),(!a||y[0]&41945088)&&Ke(e,"parent",g[11]);const v=y[0]&67109888;(y[0]&67175424||v)&&Xe(e,"z-index",g[16]),(y[0]&67122176&&u!==(u=`translate(${g[12]}px, ${g[13]}px)`)||v)&&Xe(e,"transform",u),(y[0]&68158464||v)&&Xe(e,"visibility",g[20]?"visible":"hidden")},i(g){a||(n&&se(n.$$.fragment,g),a=!0)},o(g){n&&fe(n.$$.fragment,g),a=!1},d(g){g&&re(e),n&&Me(n),t[54](null),f=!1,At(d)}}}function j5(t){let e,n,i=!t[8]&&Bd(t);return{c(){i&&i.c(),e=Pt()},m(o,s){i&&i.m(o,s),oe(o,e,s),n=!0},p(o,s){o[8]?i&&(Ct(),fe(i,1,1,()=>{i=null}),Et()):i?(i.p(o,s),s[0]&256&&se(i,1)):(i=Bd(o),i.c(),se(i,1),i.m(e.parentNode,e))},i(o){n||(se(i),n=!0)},o(o){fe(i),n=!1},d(o){o&&re(e),i&&i.d(o)}}}function $5(t,e,n){let i,o,s,u,a,f,d,h,{node:m}=e,{id:g}=e,{data:y={}}=e,{selected:v=!1}=e,{draggable:C=void 0}=e,{selectable:N=void 0}=e,{connectable:k=!0}=e,{deletable:R=!0}=e,{hidden:T=!1}=e,{dragging:B=!1}=e,{resizeObserver:S=null}=e,{style:P=void 0}=e,{type:w="default"}=e,{isParent:I=!1}=e,{positionX:A}=e,{positionY:W}=e,{sourcePosition:H=void 0}=e,{targetPosition:E=void 0}=e,{zIndex:Y}=e,{measuredWidth:b=void 0}=e,{measuredHeight:X=void 0}=e,{initialWidth:D=void 0}=e,{initialHeight:V=void 0}=e,{width:G=void 0}=e,{height:Z=void 0}=e,{dragHandle:ie=void 0}=e,{initialized:ce=!1}=e,{parentId:be=void 0}=e,{nodeClickDistance:ve=void 0}=e,{class:le=""}=e;const ke=gt(),{nodeTypes:Ce,nodeDragThreshold:ue,selectNodesOnDrag:Q,handleNodeSelection:$,updateNodeInternals:z,elementsSelectable:x,nodesDraggable:ee}=ke;pe(t,Ce,te=>n(50,a=te)),pe(t,x,te=>n(28,f=te)),pe(t,ee,te=>n(29,d=te));let ne,K=null;const _e=Eo(),Le=He(k);pe(t,Le,te=>n(30,h=te));let Ze,De,ct;co("svelteflow__node_id",g),co("svelteflow__node_connectable",Le),ca(()=>{K&&(S==null||S.unobserve(K))});function nt(te){N&&(!he(Q)||!C||he(ue)>0)&&$(g),_e("nodeclick",{node:m.internals.userNode,event:te})}const yt=(te,Kt,wt,mt)=>{_e("nodedrag",{event:te,targetNode:wt,nodes:mt})},Pe=(te,Kt,wt,mt)=>{_e("nodedragstart",{event:te,targetNode:wt,nodes:mt})},Ut=(te,Kt,wt,mt)=>{_e("nodedragstop",{event:te,targetNode:wt,nodes:mt})};function en(te){Tn[te?"unshift":"push"](()=>{ne=te,n(24,ne)})}const Ot=te=>_e("nodemouseenter",{node:m,event:te}),Qn=te=>_e("nodemouseleave",{node:m,event:te}),Ht=te=>_e("nodemousemove",{node:m,event:te}),zt=te=>_e("nodecontextmenu",{node:m,event:te});return t.$$set=te=>{"node"in te&&n(0,m=te.node),"id"in te&&n(1,g=te.id),"data"in te&&n(2,y=te.data),"selected"in te&&n(3,v=te.selected),"draggable"in te&&n(4,C=te.draggable),"selectable"in te&&n(5,N=te.selectable),"connectable"in te&&n(6,k=te.connectable),"deletable"in te&&n(7,R=te.deletable),"hidden"in te&&n(8,T=te.hidden),"dragging"in te&&n(9,B=te.dragging),"resizeObserver"in te&&n(39,S=te.resizeObserver),"style"in te&&n(10,P=te.style),"type"in te&&n(40,w=te.type),"isParent"in te&&n(11,I=te.isParent),"positionX"in te&&n(12,A=te.positionX),"positionY"in te&&n(13,W=te.positionY),"sourcePosition"in te&&n(14,H=te.sourcePosition),"targetPosition"in te&&n(15,E=te.targetPosition),"zIndex"in te&&n(16,Y=te.zIndex),"measuredWidth"in te&&n(41,b=te.measuredWidth),"measuredHeight"in te&&n(42,X=te.measuredHeight),"initialWidth"in te&&n(43,D=te.initialWidth),"initialHeight"in te&&n(44,V=te.initialHeight),"width"in te&&n(17,G=te.width),"height"in te&&n(18,Z=te.height),"dragHandle"in te&&n(19,ie=te.dragHandle),"initialized"in te&&n(20,ce=te.initialized),"parentId"in te&&n(21,be=te.parentId),"nodeClickDistance"in te&&n(22,ve=te.nodeClickDistance),"class"in te&&n(23,le=te.class)},t.$$.update=()=>{t.$$.dirty[1]&512&&n(25,i=w||"default"),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(49,o=!!a[i]),t.$$.dirty[0]&33554432|t.$$.dirty[1]&524288&&n(27,s=a[i]||Lh),t.$$.dirty[1]&262656&&(o||console.warn("003",Mr.error003(w))),t.$$.dirty[0]&393216|t.$$.dirty[1]&15360&&n(26,u=Q5({width:G,height:Z,initialWidth:D,initialHeight:V,measuredWidth:b,measuredHeight:X})),t.$$.dirty[0]&64&&Le.set(!!k),t.$$.dirty[0]&50380802|t.$$.dirty[1]&229376&&((Ze&&i!==Ze||De&&H!==De||ct&&E!==ct)&&requestAnimationFrame(()=>z(new Map([[g,{id:g,nodeElement:ne,force:!0}]]))),n(46,Ze=i),n(47,De=H),n(48,ct=E)),t.$$.dirty[0]&17825792|t.$$.dirty[1]&16640&&S&&(ne!==K||!ce)&&(K&&S.unobserve(K),ne&&S.observe(ne),n(45,K=ne))},[m,g,y,v,C,N,k,R,T,B,P,I,A,W,H,E,Y,G,Z,ie,ce,be,ve,le,ne,i,u,s,f,d,h,ke,Ce,$,x,ee,_e,Le,nt,S,w,b,X,D,V,K,Ze,De,ct,o,a,yt,Pe,Ut,en,Ot,Qn,Ht,zt]}class e6 extends Be{constructor(e){super(),ze(this,e,$5,j5,N1,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,deletable:7,hidden:8,dragging:9,resizeObserver:39,style:10,type:40,isParent:11,positionX:12,positionY:13,sourcePosition:14,targetPosition:15,zIndex:16,measuredWidth:41,measuredHeight:42,initialWidth:43,initialHeight:44,width:17,height:18,dragHandle:19,initialized:20,parentId:21,nodeClickDistance:22,class:23},null,[-1,-1])}}const{Map:t6}=ob;function Wd(t,e,n){const i=t.slice();return i[21]=e[n],i}function Yd(t,e){let n,i,o;return i=new e6({props:{node:e[21],id:e[21].id,data:e[21].data,selected:!!e[21].selected,hidden:!!e[21].hidden,draggable:!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u"),selectable:!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u"),connectable:!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u"),deletable:e[21].deletable??!0,positionX:e[21].internals.positionAbsolute.x,positionY:e[21].internals.positionAbsolute.y,isParent:e[5].has(e[21].id),style:e[21].style,class:e[21].class,type:e[21].type??"default",sourcePosition:e[21].sourcePosition,targetPosition:e[21].targetPosition,dragging:e[21].dragging,zIndex:e[21].internals.z??0,dragHandle:e[21].dragHandle,initialized:Jl(e[21]),width:e[21].width,height:e[21].height,initialWidth:e[21].initialWidth,initialHeight:e[21].initialHeight,measuredWidth:e[21].measured.width,measuredHeight:e[21].measured.height,parentId:e[21].parentId,resizeObserver:e[11],nodeClickDistance:e[0]}}),i.$on("nodeclick",e[12]),i.$on("nodemouseenter",e[13]),i.$on("nodemousemove",e[14]),i.$on("nodemouseleave",e[15]),i.$on("nodedrag",e[16]),i.$on("nodedragstart",e[17]),i.$on("nodedragstop",e[18]),i.$on("nodecontextmenu",e[19]),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,u){oe(s,n,u),Ae(i,s,u),o=!0},p(s,u){e=s;const a={};u&2&&(a.node=e[21]),u&2&&(a.id=e[21].id),u&2&&(a.data=e[21].data),u&2&&(a.selected=!!e[21].selected),u&2&&(a.hidden=!!e[21].hidden),u&6&&(a.draggable=!!(e[21].draggable||e[2]&&typeof e[21].draggable>"u")),u&10&&(a.selectable=!!(e[21].selectable||e[3]&&typeof e[21].selectable>"u")),u&18&&(a.connectable=!!(e[21].connectable||e[4]&&typeof e[21].connectable>"u")),u&2&&(a.deletable=e[21].deletable??!0),u&2&&(a.positionX=e[21].internals.positionAbsolute.x),u&2&&(a.positionY=e[21].internals.positionAbsolute.y),u&34&&(a.isParent=e[5].has(e[21].id)),u&2&&(a.style=e[21].style),u&2&&(a.class=e[21].class),u&2&&(a.type=e[21].type??"default"),u&2&&(a.sourcePosition=e[21].sourcePosition),u&2&&(a.targetPosition=e[21].targetPosition),u&2&&(a.dragging=e[21].dragging),u&2&&(a.zIndex=e[21].internals.z??0),u&2&&(a.dragHandle=e[21].dragHandle),u&2&&(a.initialized=Jl(e[21])),u&2&&(a.width=e[21].width),u&2&&(a.height=e[21].height),u&2&&(a.initialWidth=e[21].initialWidth),u&2&&(a.initialHeight=e[21].initialHeight),u&2&&(a.measuredWidth=e[21].measured.width),u&2&&(a.measuredHeight=e[21].measured.height),u&2&&(a.parentId=e[21].parentId),u&1&&(a.nodeClickDistance=e[0]),i.$set(a)},i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function n6(t){let e,n=[],i=new t6,o,s=Dt(t[1]);const u=a=>a[21].id;for(let a=0;a<s.length;a+=1){let f=Wd(t,s,a),d=u(f);i.set(d,n[a]=Yd(d,f))}return{c(){e=Ee("div");for(let a=0;a<n.length;a+=1)n[a].c();O(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(a,f){oe(a,e,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);o=!0},p(a,[f]){f&2111&&(s=Dt(a[1]),Ct(),n=xi(n,f,u,1,a,s,i,e,Cr,Yd,null,Wd),Et())},i(a){if(!o){for(let f=0;f<s.length;f+=1)se(n[f]);o=!0}},o(a){for(let f=0;f<n.length;f+=1)fe(n[f]);o=!1},d(a){a&&re(e);for(let f=0;f<n.length;f+=1)n[f].d()}}}function i6(t,e,n){let i,o,s,u,a,{nodeClickDistance:f=0}=e;const{visibleNodes:d,nodesDraggable:h,nodesConnectable:m,elementsSelectable:g,updateNodeInternals:y,parentLookup:v}=gt();pe(t,d,I=>n(1,i=I)),pe(t,h,I=>n(2,o=I)),pe(t,m,I=>n(4,u=I)),pe(t,g,I=>n(3,s=I)),pe(t,v,I=>n(5,a=I));const C=typeof ResizeObserver>"u"?null:new ResizeObserver(I=>{const A=new Map;I.forEach(W=>{const H=W.target.getAttribute("data-id");A.set(H,{id:H,nodeElement:W.target,force:!0})}),y(A)});ca(()=>{C==null||C.disconnect()});function N(I){lt.call(this,t,I)}function k(I){lt.call(this,t,I)}function R(I){lt.call(this,t,I)}function T(I){lt.call(this,t,I)}function B(I){lt.call(this,t,I)}function S(I){lt.call(this,t,I)}function P(I){lt.call(this,t,I)}function w(I){lt.call(this,t,I)}return t.$$set=I=>{"nodeClickDistance"in I&&n(0,f=I.nodeClickDistance)},[f,i,o,s,u,a,d,h,m,g,v,C,N,k,R,T,B,S,P,w]}class r6 extends Be{constructor(e){super(),ze(this,e,i6,n6,Ye,{nodeClickDistance:0})}}function Xd(t){let e,n,i,o,s,u,a,f;var d=t[27];function h(m,g){return{props:{id:m[0],source:m[1],target:m[2],sourceX:m[14],sourceY:m[15],targetX:m[16],targetY:m[17],sourcePosition:m[18],targetPosition:m[19],animated:m[6],selected:m[7],label:m[10],labelStyle:m[11],data:m[3],style:m[4],interactionWidth:m[21],selectable:m[24],deletable:m[8]??!0,type:m[23],sourceHandleId:m[12],targetHandleId:m[13],markerStart:m[26],markerEnd:m[25]}}}return d&&(i=Bl(d,h(t))),{c(){e=Ge("svg"),n=Ge("g"),i&&Te(i.$$.fragment),O(n,"class",o=ut(["svelte-flow__edge",t[22]])),O(n,"data-id",t[0]),O(n,"aria-label",s=t[20]===null?void 0:t[20]?t[20]:`Edge from ${t[1]} to ${t[2]}`),O(n,"role","img"),Ke(n,"animated",t[6]),Ke(n,"selected",t[7]),Ke(n,"selectable",t[24]),Xe(e,"z-index",t[5])},m(m,g){oe(m,e,g),we(e,n),i&&Ae(i,n,null),u=!0,a||(f=[We(n,"click",t[32]),We(n,"contextmenu",t[41]),We(n,"mouseenter",t[42]),We(n,"mouseleave",t[43])],a=!0)},p(m,g){if(g[0]&134217728&&d!==(d=m[27])){if(i){Ct();const y=i;fe(y.$$.fragment,1,0,()=>{Me(y,1)}),Et()}d?(i=Bl(d,h(m)),Te(i.$$.fragment),se(i.$$.fragment,1),Ae(i,n,null)):i=null}else if(d){const y={};g[0]&1&&(y.id=m[0]),g[0]&2&&(y.source=m[1]),g[0]&4&&(y.target=m[2]),g[0]&16384&&(y.sourceX=m[14]),g[0]&32768&&(y.sourceY=m[15]),g[0]&65536&&(y.targetX=m[16]),g[0]&131072&&(y.targetY=m[17]),g[0]&262144&&(y.sourcePosition=m[18]),g[0]&524288&&(y.targetPosition=m[19]),g[0]&64&&(y.animated=m[6]),g[0]&128&&(y.selected=m[7]),g[0]&1024&&(y.label=m[10]),g[0]&2048&&(y.labelStyle=m[11]),g[0]&8&&(y.data=m[3]),g[0]&16&&(y.style=m[4]),g[0]&2097152&&(y.interactionWidth=m[21]),g[0]&16777216&&(y.selectable=m[24]),g[0]&256&&(y.deletable=m[8]??!0),g[0]&8388608&&(y.type=m[23]),g[0]&4096&&(y.sourceHandleId=m[12]),g[0]&8192&&(y.targetHandleId=m[13]),g[0]&67108864&&(y.markerStart=m[26]),g[0]&33554432&&(y.markerEnd=m[25]),i.$set(y)}(!u||g[0]&4194304&&o!==(o=ut(["svelte-flow__edge",m[22]])))&&O(n,"class",o),(!u||g[0]&1)&&O(n,"data-id",m[0]),(!u||g[0]&1048582&&s!==(s=m[20]===null?void 0:m[20]?m[20]:`Edge from ${m[1]} to ${m[2]}`))&&O(n,"aria-label",s),(!u||g[0]&4194368)&&Ke(n,"animated",m[6]),(!u||g[0]&4194432)&&Ke(n,"selected",m[7]),(!u||g[0]&20971520)&&Ke(n,"selectable",m[24]),g[0]&32&&Xe(e,"z-index",m[5])},i(m){u||(i&&se(i.$$.fragment,m),u=!0)},o(m){i&&fe(i.$$.fragment,m),u=!1},d(m){m&&re(e),i&&Me(i),a=!1,At(f)}}}function o6(t){let e,n,i=!t[9]&&Xd(t);return{c(){i&&i.c(),e=Pt()},m(o,s){i&&i.m(o,s),oe(o,e,s),n=!0},p(o,s){o[9]?i&&(Ct(),fe(i,1,1,()=>{i=null}),Et()):i?(i.p(o,s),s[0]&512&&se(i,1)):(i=Xd(o),i.c(),se(i,1),i.m(e.parentNode,e))},i(o){n||(se(i),n=!0)},o(o){fe(i),n=!1},d(o){o&&re(e),i&&i.d(o)}}}function l6(t,e,n){let i,o,s,u,a,f,d,h,m,{id:g}=e,{type:y="default"}=e,{source:v=""}=e,{target:C=""}=e,{data:N={}}=e,{style:k=void 0}=e,{zIndex:R=void 0}=e,{animated:T=!1}=e,{selected:B=!1}=e,{selectable:S=void 0}=e,{deletable:P=void 0}=e,{hidden:w=!1}=e,{label:I=void 0}=e,{labelStyle:A=void 0}=e,{markerStart:W=void 0}=e,{markerEnd:H=void 0}=e,{sourceHandle:E=void 0}=e,{targetHandle:Y=void 0}=e,{sourceX:b}=e,{sourceY:X}=e,{targetX:D}=e,{targetY:V}=e,{sourcePosition:G}=e,{targetPosition:Z}=e,{ariaLabel:ie=void 0}=e,{interactionWidth:ce=void 0}=e,{class:be=""}=e;co("svelteflow__edge_id",g);const{edgeLookup:ve,edgeTypes:le,flowId:ke,elementsSelectable:Ce}=gt();pe(t,ve,K=>n(44,f=K)),pe(t,le,K=>n(40,m=K)),pe(t,ke,K=>n(39,h=K)),pe(t,Ce,K=>n(38,d=K));const ue=Eo(),Q=Dh();function $(K){const _e=f.get(g);_e&&(Q(g),ue("edgeclick",{event:K,edge:_e}))}function z(K,_e){const Le=f.get(g);Le&&ue(_e,{event:K,edge:Le})}const x=K=>{z(K,"edgecontextmenu")},ee=K=>{z(K,"edgemouseenter")},ne=K=>{z(K,"edgemouseleave")};return t.$$set=K=>{"id"in K&&n(0,g=K.id),"type"in K&&n(34,y=K.type),"source"in K&&n(1,v=K.source),"target"in K&&n(2,C=K.target),"data"in K&&n(3,N=K.data),"style"in K&&n(4,k=K.style),"zIndex"in K&&n(5,R=K.zIndex),"animated"in K&&n(6,T=K.animated),"selected"in K&&n(7,B=K.selected),"selectable"in K&&n(35,S=K.selectable),"deletable"in K&&n(8,P=K.deletable),"hidden"in K&&n(9,w=K.hidden),"label"in K&&n(10,I=K.label),"labelStyle"in K&&n(11,A=K.labelStyle),"markerStart"in K&&n(36,W=K.markerStart),"markerEnd"in K&&n(37,H=K.markerEnd),"sourceHandle"in K&&n(12,E=K.sourceHandle),"targetHandle"in K&&n(13,Y=K.targetHandle),"sourceX"in K&&n(14,b=K.sourceX),"sourceY"in K&&n(15,X=K.sourceY),"targetX"in K&&n(16,D=K.targetX),"targetY"in K&&n(17,V=K.targetY),"sourcePosition"in K&&n(18,G=K.sourcePosition),"targetPosition"in K&&n(19,Z=K.targetPosition),"ariaLabel"in K&&n(20,ie=K.ariaLabel),"interactionWidth"in K&&n(21,ce=K.interactionWidth),"class"in K&&n(22,be=K.class)},t.$$.update=()=>{t.$$.dirty[1]&8&&n(23,i=y||"default"),t.$$.dirty[0]&8388608|t.$$.dirty[1]&512&&n(27,o=m[i]||Rh),t.$$.dirty[1]&288&&n(26,s=W?`url('#${ua(W,h)}')`:void 0),t.$$.dirty[1]&320&&n(25,u=H?`url('#${ua(H,h)}')`:void 0),t.$$.dirty[1]&144&&n(24,a=S??d)},[g,v,C,N,k,R,T,B,P,w,I,A,E,Y,b,X,D,V,G,Z,ie,ce,be,i,a,u,s,o,ve,le,ke,Ce,$,z,y,S,W,H,d,h,m,x,ee,ne]}class s6 extends Be{constructor(e){super(),ze(this,e,l6,o6,N1,{id:0,type:34,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:35,deletable:8,hidden:9,label:10,labelStyle:11,markerStart:36,markerEnd:37,sourceHandle:12,targetHandle:13,sourceX:14,sourceY:15,targetX:16,targetY:17,sourcePosition:18,targetPosition:19,ariaLabel:20,interactionWidth:21,class:22},null,[-1,-1])}}function u6(t,e,n){let{onMount:i=void 0}=e,{onDestroy:o=void 0}=e;return Rr(()=>(i==null||i(),o)),t.$$set=s=>{"onMount"in s&&n(0,i=s.onMount),"onDestroy"in s&&n(1,o=s.onDestroy)},[i,o]}class a6 extends Be{constructor(e){super(),ze(this,e,u6,null,Ye,{onMount:0,onDestroy:1})}}function Fd(t,e,n){const i=t.slice();return i[2]=e[n],i}function xd(t,e){let n,i,o;const s=[e[2]];let u={};for(let a=0;a<s.length;a+=1)u=ot(u,s[a]);return i=new y6({props:u}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(a,f){oe(a,n,f),Ae(i,a,f),o=!0},p(a,f){e=a;const d=f&1?qn(s,[Er(e[2])]):{};i.$set(d)},i(a){o||(se(i.$$.fragment,a),o=!0)},o(a){fe(i.$$.fragment,a),o=!1},d(a){a&&re(n),Me(i,a)}}}function f6(t){let e,n=[],i=new Map,o,s=Dt(t[0]);const u=a=>a[2].id;for(let a=0;a<s.length;a+=1){let f=Fd(t,s,a),d=u(f);i.set(d,n[a]=xd(d,f))}return{c(){e=Ge("defs");for(let a=0;a<n.length;a+=1)n[a].c()},m(a,f){oe(a,e,f);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);o=!0},p(a,[f]){f&1&&(s=Dt(a[0]),Ct(),n=xi(n,f,u,1,a,s,i,e,Cr,xd,null,Fd),Et())},i(a){if(!o){for(let f=0;f<s.length;f+=1)se(n[f]);o=!0}},o(a){for(let f=0;f<n.length;f+=1)fe(n[f]);o=!1},d(a){a&&re(e);for(let f=0;f<n.length;f+=1)n[f].d()}}}function c6(t,e,n){let i;const{markers:o}=gt();return pe(t,o,s=>n(0,i=s)),[i,o]}class d6 extends Be{constructor(e){super(),ze(this,e,c6,f6,Ye,{})}}function h6(t){let e;return{c(){e=Ge("polyline"),O(e,"stroke",t[6]),O(e,"stroke-linecap","round"),O(e,"stroke-linejoin","round"),O(e,"stroke-width",t[7]),O(e,"fill",t[6]),O(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){oe(n,e,i)},p(n,i){i&64&&O(e,"stroke",n[6]),i&128&&O(e,"stroke-width",n[7]),i&64&&O(e,"fill",n[6])},d(n){n&&re(e)}}}function g6(t){let e;return{c(){e=Ge("polyline"),O(e,"stroke",t[6]),O(e,"stroke-linecap","round"),O(e,"stroke-linejoin","round"),O(e,"stroke-width",t[7]),O(e,"fill","none"),O(e,"points","-5,-4 0,0 -5,4")},m(n,i){oe(n,e,i)},p(n,i){i&64&&O(e,"stroke",n[6]),i&128&&O(e,"stroke-width",n[7])},d(n){n&&re(e)}}}function m6(t){let e,n,i;function o(a,f){if(a[1]===Tr.Arrow)return g6;if(a[1]===Tr.ArrowClosed)return h6}let s=o(t),u=s&&s(t);return{c(){e=Ge("marker"),u&&u.c(),O(e,"class","svelte-flow__arrowhead"),O(e,"id",t[0]),O(e,"markerWidth",n=`${t[2]}`),O(e,"markerHeight",i=`${t[3]}`),O(e,"viewBox","-10 -10 20 20"),O(e,"markerUnits",t[4]),O(e,"orient",t[5]),O(e,"refX","0"),O(e,"refY","0")},m(a,f){oe(a,e,f),u&&u.m(e,null)},p(a,[f]){s===(s=o(a))&&u?u.p(a,f):(u&&u.d(1),u=s&&s(a),u&&(u.c(),u.m(e,null))),f&1&&O(e,"id",a[0]),f&4&&n!==(n=`${a[2]}`)&&O(e,"markerWidth",n),f&8&&i!==(i=`${a[3]}`)&&O(e,"markerHeight",i),f&16&&O(e,"markerUnits",a[4]),f&32&&O(e,"orient",a[5])},i:Ne,o:Ne,d(a){a&&re(e),u&&u.d()}}}function _6(t,e,n){let{id:i}=e,{type:o}=e,{width:s=12.5}=e,{height:u=12.5}=e,{markerUnits:a="strokeWidth"}=e,{orient:f="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=m=>{"id"in m&&n(0,i=m.id),"type"in m&&n(1,o=m.type),"width"in m&&n(2,s=m.width),"height"in m&&n(3,u=m.height),"markerUnits"in m&&n(4,a=m.markerUnits),"orient"in m&&n(5,f=m.orient),"color"in m&&n(6,d=m.color),"strokeWidth"in m&&n(7,h=m.strokeWidth)},[i,o,s,u,a,f,d,h]}class y6 extends Be{constructor(e){super(),ze(this,e,_6,m6,Ye,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Vd(t,e,n){const i=t.slice();return i[14]=e[n],i}function Ud(t,e){let n,i,o;return i=new s6({props:{id:e[14].id,source:e[14].source,target:e[14].target,data:e[14].data,style:e[14].style,animated:e[14].animated,selected:e[14].selected,selectable:e[14].selectable??e[1],deletable:e[14].deletable,hidden:e[14].hidden,label:e[14].label,labelStyle:e[14].labelStyle,markerStart:e[14].markerStart,markerEnd:e[14].markerEnd,sourceHandle:e[14].sourceHandle,targetHandle:e[14].targetHandle,sourceX:e[14].sourceX,sourceY:e[14].sourceY,targetX:e[14].targetX,targetY:e[14].targetY,sourcePosition:e[14].sourcePosition,targetPosition:e[14].targetPosition,ariaLabel:e[14].ariaLabel,interactionWidth:e[14].interactionWidth,class:e[14].class,type:e[14].type||"default",zIndex:e[14].zIndex}}),i.$on("edgeclick",e[7]),i.$on("edgecontextmenu",e[8]),i.$on("edgemouseenter",e[9]),i.$on("edgemouseleave",e[10]),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,u){oe(s,n,u),Ae(i,s,u),o=!0},p(s,u){e=s;const a={};u&1&&(a.id=e[14].id),u&1&&(a.source=e[14].source),u&1&&(a.target=e[14].target),u&1&&(a.data=e[14].data),u&1&&(a.style=e[14].style),u&1&&(a.animated=e[14].animated),u&1&&(a.selected=e[14].selected),u&3&&(a.selectable=e[14].selectable??e[1]),u&1&&(a.deletable=e[14].deletable),u&1&&(a.hidden=e[14].hidden),u&1&&(a.label=e[14].label),u&1&&(a.labelStyle=e[14].labelStyle),u&1&&(a.markerStart=e[14].markerStart),u&1&&(a.markerEnd=e[14].markerEnd),u&1&&(a.sourceHandle=e[14].sourceHandle),u&1&&(a.targetHandle=e[14].targetHandle),u&1&&(a.sourceX=e[14].sourceX),u&1&&(a.sourceY=e[14].sourceY),u&1&&(a.targetX=e[14].targetX),u&1&&(a.targetY=e[14].targetY),u&1&&(a.sourcePosition=e[14].sourcePosition),u&1&&(a.targetPosition=e[14].targetPosition),u&1&&(a.ariaLabel=e[14].ariaLabel),u&1&&(a.interactionWidth=e[14].interactionWidth),u&1&&(a.class=e[14].class),u&1&&(a.type=e[14].type||"default"),u&1&&(a.zIndex=e[14].zIndex),i.$set(a)},i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function Kd(t){let e,n;return e=new a6({props:{onMount:t[11],onDestroy:t[12]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&4&&(s.onMount=i[11]),o&4&&(s.onDestroy=i[12]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function w6(t){let e,n,i,o,s=[],u=new Map,a,f;i=new d6({});let d=Dt(t[0]);const h=g=>g[14].id;for(let g=0;g<d.length;g+=1){let y=Vd(t,d,g),v=h(y);u.set(v,s[g]=Ud(v,y))}let m=t[0].length>0&&Kd(t);return{c(){e=Ee("div"),n=Ge("svg"),Te(i.$$.fragment),o=Ie();for(let g=0;g<s.length;g+=1)s[g].c();a=Ie(),m&&m.c(),O(n,"class","svelte-flow__marker"),O(e,"class","svelte-flow__edges")},m(g,y){oe(g,e,y),we(e,n),Ae(i,n,null),we(e,o);for(let v=0;v<s.length;v+=1)s[v]&&s[v].m(e,null);we(e,a),m&&m.m(e,null),f=!0},p(g,[y]){y&3&&(d=Dt(g[0]),Ct(),s=xi(s,y,h,1,g,d,u,e,Cr,Ud,a,Vd),Et()),g[0].length>0?m?(m.p(g,y),y&1&&se(m,1)):(m=Kd(g),m.c(),se(m,1),m.m(e,null)):m&&(Ct(),fe(m,1,1,()=>{m=null}),Et())},i(g){if(!f){se(i.$$.fragment,g);for(let y=0;y<d.length;y+=1)se(s[y]);se(m),f=!0}},o(g){fe(i.$$.fragment,g);for(let y=0;y<s.length;y+=1)fe(s[y]);fe(m),f=!1},d(g){g&&re(e),Me(i);for(let y=0;y<s.length;y+=1)s[y].d();m&&m.d()}}}function b6(t,e,n){let i,o,s,{defaultEdgeOptions:u}=e;const{visibleEdges:a,edgesInitialized:f,edges:{setDefaultOptions:d},elementsSelectable:h}=gt();pe(t,a,k=>n(0,i=k)),pe(t,f,k=>n(2,s=k)),pe(t,h,k=>n(1,o=k)),Rr(()=>{u&&d(u)});function m(k){lt.call(this,t,k)}function g(k){lt.call(this,t,k)}function y(k){lt.call(this,t,k)}function v(k){lt.call(this,t,k)}const C=()=>{zn(f,s=!0,s)},N=()=>{zn(f,s=!1,s)};return t.$$set=k=>{"defaultEdgeOptions"in k&&n(6,u=k.defaultEdgeOptions)},[i,o,s,a,f,h,u,m,g,y,v,C,N]}class p6 extends Be{constructor(e){super(),ze(this,e,b6,w6,Ye,{defaultEdgeOptions:6})}}function Zd(t){let e;return{c(){e=Ee("div"),O(e,"class","svelte-flow__selection svelte-1iugwpu"),Xe(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),Xe(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),Xe(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){oe(n,e,i)},p(n,i){i&4&&Xe(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&Xe(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&Xe(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&re(e)}}}function v6(t){let e,n=t[4]&&Zd(t);return{c(){n&&n.c(),e=Pt()},m(i,o){n&&n.m(i,o),oe(i,e,o)},p(i,[o]){i[4]?n?n.p(i,o):(n=Zd(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ne,o:Ne,d(i){i&&re(e),n&&n.d(i)}}}function k6(t,e,n){let{x:i=0}=e,{y:o=0}=e,{width:s=0}=e,{height:u=0}=e,{isVisible:a=!0}=e;return t.$$set=f=>{"x"in f&&n(0,i=f.x),"y"in f&&n(1,o=f.y),"width"in f&&n(2,s=f.width),"height"in f&&n(3,u=f.height),"isVisible"in f&&n(4,a=f.isVisible)},[i,o,s,u,a]}class Yh extends Be{constructor(e){super(),ze(this,e,k6,v6,Ye,{x:0,y:1,width:2,height:3,isVisible:4})}}function C6(t){var i,o,s,u;let e,n;return e=new Yh({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(o=t[0])==null?void 0:o.height,x:(s=t[0])==null?void 0:s.x,y:(u=t[0])==null?void 0:u.y}}),{c(){Te(e.$$.fragment)},m(a,f){Ae(e,a,f),n=!0},p(a,[f]){var h,m,g,y;const d={};f&3&&(d.isVisible=!!(a[0]&&a[1]==="user")),f&1&&(d.width=(h=a[0])==null?void 0:h.width),f&1&&(d.height=(m=a[0])==null?void 0:m.height),f&1&&(d.x=(g=a[0])==null?void 0:g.x),f&1&&(d.y=(y=a[0])==null?void 0:y.y),e.$set(d)},i(a){n||(se(e.$$.fragment,a),n=!0)},o(a){fe(e.$$.fragment,a),n=!1},d(a){Me(e,a)}}}function E6(t,e,n){let i,o;const{selectionRect:s,selectionRectMode:u}=gt();return pe(t,s,a=>n(0,i=a)),pe(t,u,a=>n(1,o=a)),[i,o,s,u]}class S6 extends Be{constructor(e){super(),ze(this,e,E6,C6,Ye,{})}}function Gd(t){let e,n,i,o,s;return n=new Yh({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=Ee("div"),Te(n.$$.fragment),O(e,"class","selection-wrapper nopan svelte-5pxri"),Xe(e,"width",t[1].width+"px"),Xe(e,"height",t[1].height+"px"),Xe(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),O(e,"role","button"),O(e,"tabindex","-1")},m(u,a){oe(u,e,a),Ae(n,e,null),i=!0,o||(s=[$t(Wh.call(null,e,{disabled:!1,store:t[2],onDrag:t[11],onDragStart:t[12],onDragStop:t[13]})),We(e,"contextmenu",t[7]),We(e,"click",t[8]),We(e,"keyup",M6)],o=!0)},p(u,a){(!i||a&2)&&Xe(e,"width",u[1].width+"px"),(!i||a&2)&&Xe(e,"height",u[1].height+"px"),(!i||a&2)&&Xe(e,"transform","translate("+u[1].x+"px, "+u[1].y+"px)")},i(u){i||(se(n.$$.fragment,u),i=!0)},o(u){fe(n.$$.fragment,u),i=!1},d(u){u&&re(e),Me(n),o=!1,At(s)}}}function A6(t){let e=t[0]==="nodes"&&t[1]&&Hn(t[1].x)&&Hn(t[1].y),n,i,o=e&&Gd(t);return{c(){o&&o.c(),n=Pt()},m(s,u){o&&o.m(s,u),oe(s,n,u),i=!0},p(s,[u]){u&3&&(e=s[0]==="nodes"&&s[1]&&Hn(s[1].x)&&Hn(s[1].y)),e?o?(o.p(s,u),u&3&&se(o,1)):(o=Gd(s),o.c(),se(o,1),o.m(n.parentNode,n)):o&&(Ct(),fe(o,1,1,()=>{o=null}),Et())},i(s){i||(se(o),i=!0)},o(s){fe(o),i=!1},d(s){s&&re(n),o&&o.d(s)}}}const M6=()=>{};function T6(t,e,n){let i,o,s;const u=gt(),{selectionRectMode:a,nodes:f,nodeLookup:d}=u;pe(t,a,k=>n(0,s=k)),pe(t,f,k=>n(9,i=k)),pe(t,d,k=>n(10,o=k));const h=Eo();let m=null;function g(k){const R=i.filter(T=>T.selected);h("selectioncontextmenu",{nodes:R,event:k})}function y(k){const R=i.filter(T=>T.selected);h("selectionclick",{nodes:R,event:k})}const v=(k,R,T,B)=>{h("nodedrag",{event:k,targetNode:null,nodes:B})},C=(k,R,T,B)=>{h("nodedragstart",{event:k,targetNode:null,nodes:B})},N=(k,R,T,B)=>{h("nodedragstop",{event:k,targetNode:null,nodes:B})};return t.$$.update=()=>{t.$$.dirty&1537&&s==="nodes"&&n(1,m=To(o,{filter:k=>!!k.selected}))},[s,m,u,a,f,d,h,g,y,i,o,v,C,N]}class P6 extends Be{constructor(e){super(),ze(this,e,T6,A6,Ye,{})}}function Kn(t,e){let{enabled:n=!0,trigger:i,type:o="keydown"}=e;function s(u){const a=Array.isArray(i)?i:[i],f={alt:u.altKey,ctrl:u.ctrlKey,shift:u.shiftKey,meta:u.metaKey};for(const d of a){const h={modifier:[],preventDefault:!1,enabled:!0,...d},{modifier:m,key:g,callback:y,preventDefault:v,enabled:C}=h;if(C){if(m.length&&!(Array.isArray(m)?m:[m]).map(R=>typeof R=="string"?[R]:R).some(R=>R.every(T=>f[T])))continue;if(u.key===g){v&&u.preventDefault();const N={node:t,trigger:h,originalEvent:u};t.dispatchEvent(new CustomEvent("shortcut",{detail:N})),y==null||y(N)}}}}return n&&t.addEventListener(o,s),{update:u=>{const{enabled:a=!0,type:f="keydown"}=u;n&&(!a||o!==f)?t.removeEventListener(o,s):!n&&a&&t.addEventListener(f,s),n=a,o=f,i=u.trigger},destroy:()=>{t.removeEventListener(o,s)}}}function I6(t){let e,n,i,o,s,u,a,f,d,h,m,g;return{c:Ne,m(y,v){m||(g=[$t(e=Kn.call(null,window,{trigger:It(t[0],t[11]),type:"keydown"})),$t(n=Kn.call(null,window,{trigger:It(t[0],t[12]),type:"keyup"})),$t(i=Kn.call(null,window,{trigger:It(t[1],t[13]),type:"keydown"})),$t(o=Kn.call(null,window,{trigger:It(t[1],t[14]),type:"keyup"})),$t(s=Kn.call(null,window,{trigger:It(t[2],t[15]),type:"keydown"})),$t(u=Kn.call(null,window,{trigger:It(t[2],t[16]),type:"keyup"})),$t(a=Kn.call(null,window,{trigger:It(t[3],t[17]),type:"keydown"})),$t(f=Kn.call(null,window,{trigger:It(t[3],t[18]),type:"keyup"})),$t(d=Kn.call(null,window,{trigger:It(t[4],t[19]),type:"keydown"})),$t(h=Kn.call(null,window,{trigger:It(t[4],t[20]),type:"keyup"})),We(window,"blur",t[10]),We(window,"contextmenu",t[10])],m=!0)},p(y,[v]){e&&vt(e.update)&&v&1&&e.update.call(null,{trigger:It(y[0],y[11]),type:"keydown"}),n&&vt(n.update)&&v&1&&n.update.call(null,{trigger:It(y[0],y[12]),type:"keyup"}),i&&vt(i.update)&&v&2&&i.update.call(null,{trigger:It(y[1],y[13]),type:"keydown"}),o&&vt(o.update)&&v&2&&o.update.call(null,{trigger:It(y[1],y[14]),type:"keyup"}),s&&vt(s.update)&&v&4&&s.update.call(null,{trigger:It(y[2],y[15]),type:"keydown"}),u&&vt(u.update)&&v&4&&u.update.call(null,{trigger:It(y[2],y[16]),type:"keyup"}),a&&vt(a.update)&&v&8&&a.update.call(null,{trigger:It(y[3],y[17]),type:"keydown"}),f&&vt(f.update)&&v&8&&f.update.call(null,{trigger:It(y[3],y[18]),type:"keyup"}),d&&vt(d.update)&&v&16&&d.update.call(null,{trigger:It(y[4],y[19]),type:"keydown"}),h&&vt(h.update)&&v&16&&h.update.call(null,{trigger:It(y[4],y[20]),type:"keyup"})},i:Ne,o:Ne,d(y){m=!1,At(g)}}}function Xh(t){return t!==null&&typeof t=="object"}function O6(t){return Xh(t)?t.modifier||[]:[]}function N6(t){return t==null?"":Xh(t)?t.key:t}function It(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const o=N6(i);return{key:o,modifier:O6(i),enabled:o!==null,callback:e}})}function L6(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:o=ql()?"Meta":"Control"}=e,{deleteKey:s="Backspace"}=e,{panActivationKey:u=" "}=e,{zoomActivationKey:a=ql()?"Meta":"Control"}=e;const{selectionKeyPressed:f,multiselectionKeyPressed:d,deleteKeyPressed:h,panActivationKeyPressed:m,zoomActivationKeyPressed:g,selectionRect:y}=gt();function v(){y.set(null),f.set(!1),d.set(!1),h.set(!1),m.set(!1),g.set(!1)}const C=()=>f.set(!0),N=()=>f.set(!1),k=()=>d.set(!0),R=()=>d.set(!1),T=A=>{!(A.originalEvent.ctrlKey||A.originalEvent.metaKey||A.originalEvent.shiftKey)&&!s3(A.originalEvent)&&h.set(!0)},B=()=>h.set(!1),S=()=>m.set(!0),P=()=>m.set(!1),w=()=>g.set(!0),I=()=>g.set(!1);return t.$$set=A=>{"selectionKey"in A&&n(0,i=A.selectionKey),"multiSelectionKey"in A&&n(1,o=A.multiSelectionKey),"deleteKey"in A&&n(2,s=A.deleteKey),"panActivationKey"in A&&n(3,u=A.panActivationKey),"zoomActivationKey"in A&&n(4,a=A.zoomActivationKey)},[i,o,s,u,a,f,d,h,m,g,v,C,N,k,R,T,B,S,P,w,I]}class D6 extends Be{constructor(e){super(),ze(this,e,L6,I6,Ye,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const R6=t=>({}),qd=t=>({});function Jd(t){let e,n,i,o;const s=t[13].connectionLine,u=Xt(s,t,t[12],qd);let a=!t[2]&&Qd(t);return{c(){e=Ge("svg"),n=Ge("g"),u&&u.c(),a&&a.c(),O(n,"class",i=ut(["svelte-flow__connection",pd(t[3].isValid)])),O(e,"width",t[5]),O(e,"height",t[6]),O(e,"class","svelte-flow__connectionline"),O(e,"style",t[0])},m(f,d){oe(f,e,d),we(e,n),u&&u.m(n,null),a&&a.m(n,null),o=!0},p(f,d){u&&u.p&&(!o||d&4096)&&xt(u,s,f,f[12],o?Ft(s,f[12],d,R6):Vt(f[12]),qd),f[2]?a&&(a.d(1),a=null):a?a.p(f,d):(a=Qd(f),a.c(),a.m(n,null)),(!o||d&8&&i!==(i=ut(["svelte-flow__connection",pd(f[3].isValid)])))&&O(n,"class",i),(!o||d&32)&&O(e,"width",f[5]),(!o||d&64)&&O(e,"height",f[6]),(!o||d&1)&&O(e,"style",f[0])},i(f){o||(se(u,f),o=!0)},o(f){fe(u,f),o=!1},d(f){f&&re(e),u&&u.d(f),a&&a.d()}}}function Qd(t){let e;return{c(){e=Ge("path"),O(e,"d",t[4]),O(e,"style",t[1]),O(e,"fill","none"),O(e,"class","svelte-flow__connection-path")},m(n,i){oe(n,e,i)},p(n,i){i&16&&O(e,"d",n[4]),i&2&&O(e,"style",n[1])},d(n){n&&re(e)}}}function H6(t){let e,n,i=t[3].inProgress&&Jd(t);return{c(){i&&i.c(),e=Pt()},m(o,s){i&&i.m(o,s),oe(o,e,s),n=!0},p(o,[s]){o[3].inProgress?i?(i.p(o,s),s&8&&se(i,1)):(i=Jd(o),i.c(),se(i,1),i.m(e.parentNode,e)):i&&(Ct(),fe(i,1,1,()=>{i=null}),Et())},i(o){n||(se(i),n=!0)},o(o){fe(i),n=!1},d(o){o&&re(e),i&&i.d(o)}}}function z6(t,e,n){let i,o,s,u,{$$slots:a={},$$scope:f}=e,{containerStyle:d=""}=e,{style:h=""}=e,{isCustomComponent:m=!1}=e;const{width:g,height:y,connection:v,connectionLineType:C}=gt();pe(t,g,k=>n(5,s=k)),pe(t,y,k=>n(6,u=k)),pe(t,v,k=>n(3,o=k)),pe(t,C,k=>n(11,i=k));let N=null;return t.$$set=k=>{"containerStyle"in k&&n(0,d=k.containerStyle),"style"in k&&n(1,h=k.style),"isCustomComponent"in k&&n(2,m=k.isCustomComponent),"$$scope"in k&&n(12,f=k.$$scope)},t.$$.update=()=>{if(t.$$.dirty&2060&&o.inProgress&&!m){const{from:k,to:R,fromPosition:T,toPosition:B}=o,S={sourceX:k.x,sourceY:k.y,sourcePosition:T,targetX:R.x,targetY:R.y,targetPosition:B};switch(i){case pr.Bezier:n(4,[N]=bh(S),N);break;case pr.Step:n(4,[N]=Nr({...S,borderRadius:0}),N);break;case pr.SmoothStep:n(4,[N]=Nr(S),N);break;default:n(4,[N]=vh(S),N)}}},[d,h,m,o,N,s,u,g,y,v,C,i,f,a]}class B6 extends Be{constructor(e){super(),ze(this,e,z6,H6,Ye,{containerStyle:0,style:1,isCustomComponent:2})}}function W6(t){let e,n,i;const o=t[8].default,s=Xt(o,t,t[7],null);let u=[{class:n=ut(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[5]],a={};for(let f=0;f<u.length;f+=1)a=ot(a,u[f]);return{c(){e=Ee("div"),s&&s.c(),kr(e,a),Xe(e,"pointer-events",t[3]?"none":"")},m(f,d){oe(f,e,d),s&&s.m(e,null),i=!0},p(f,[d]){s&&s.p&&(!i||d&128)&&xt(s,o,f,f[7],i?Ft(o,f[7],d,null):Vt(f[7]),null),kr(e,a=qn(u,[(!i||d&6&&n!==(n=ut(["svelte-flow__panel",f[1],...f[2]])))&&{class:n},(!i||d&1)&&{style:f[0]},d&32&&f[5]])),Xe(e,"pointer-events",f[3]?"none":"")},i(f){i||(se(s,f),i=!0)},o(f){fe(s,f),i=!1},d(f){f&&re(e),s&&s.d(f)}}}function Y6(t,e,n){let i;const o=["position","style","class"];let s=St(e,o),u,{$$slots:a={},$$scope:f}=e,{position:d="top-right"}=e,{style:h=void 0}=e,{class:m=void 0}=e;const{selectionRectMode:g}=gt();return pe(t,g,y=>n(3,u=y)),t.$$set=y=>{e=ot(ot({},e),_n(y)),n(5,s=St(e,o)),"position"in y&&n(6,d=y.position),"style"in y&&n(0,h=y.style),"class"in y&&n(1,m=y.class),"$$scope"in y&&n(7,f=y.$$scope)},t.$$.update=()=>{t.$$.dirty&64&&n(2,i=`${d}`.split("-"))},[h,m,i,u,g,s,d,f,a]}class ai extends Be{constructor(e){super(),ze(this,e,Y6,W6,Ye,{position:6,style:0,class:1})}}function jd(t){let e,n;return e=new ai({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[X6]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&2&&(s.position=i[1]),o&4&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function X6(t){let e;return{c(){e=Ee("a"),e.textContent="Svelte Flow",O(e,"href","https://svelteflow.dev"),O(e,"target","_blank"),O(e,"rel","noopener noreferrer"),O(e,"aria-label","Svelte Flow attribution")},m(n,i){oe(n,e,i)},p:Ne,d(n){n&&re(e)}}}function F6(t){var o;let e,n,i=!((o=t[0])!=null&&o.hideAttribution)&&jd(t);return{c(){i&&i.c(),e=Pt()},m(s,u){i&&i.m(s,u),oe(s,e,u),n=!0},p(s,[u]){var a;(a=s[0])!=null&&a.hideAttribution?i&&(Ct(),fe(i,1,1,()=>{i=null}),Et()):i?(i.p(s,u),u&1&&se(i,1)):(i=jd(s),i.c(),se(i,1),i.m(e.parentNode,e))},i(s){n||(se(i),n=!0)},o(s){fe(i),n=!1},d(s){s&&re(e),i&&i.d(s)}}}function x6(t,e,n){let{proOptions:i=void 0}=e,{position:o="bottom-right"}=e;return t.$$set=s=>{"proOptions"in s&&n(0,i=s.proOptions),"position"in s&&n(1,o=s.position)},[i,o]}class V6 extends Be{constructor(e){super(),ze(this,e,x6,F6,Ye,{proOptions:0,position:1})}}function $d(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:o,translateExtent:s,paneClickDistance:u}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),o!==void 0&&t.setMaxZoom(o),s!==void 0&&t.setTranslateExtent(s),u!==void 0&&t.setPaneClickDistance(u)}const U6=t=>Object.keys(t);function K6(t,e){U6(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function Z6(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function G6(t="light"){return Mn("light",n=>{if(t!=="system"){n(t);return}const i=Z6(),o=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}})}const q6=t=>({}),e1=t=>({slot:"connectionLine"});function J6(t){let e;const n=t[75].connectionLine,i=Xt(n,t,t[99],e1);return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,s){i&&i.p&&(!e||s[3]&64)&&xt(i,n,o,o[99],e?Ft(n,o[99],s,q6):Vt(o[99]),e1)},i(o){e||(se(i,o),e=!0)},o(o){fe(i,o),e=!1},d(o){i&&i.d(o)}}}function Q6(t){let e,n,i,o,s,u,a,f,d,h,m,g;return e=new p6({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[78]),e.$on("edgecontextmenu",t[79]),e.$on("edgemouseenter",t[80]),e.$on("edgemouseleave",t[81]),i=new B6({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[34].connectionLine,$$slots:{connectionLine:[J6]},$$scope:{ctx:t}}}),d=new r6({props:{nodeClickDistance:t[23]}}),d.$on("nodeclick",t[82]),d.$on("nodemouseenter",t[83]),d.$on("nodemousemove",t[84]),d.$on("nodemouseleave",t[85]),d.$on("nodedragstart",t[86]),d.$on("nodedrag",t[87]),d.$on("nodedragstop",t[88]),d.$on("nodecontextmenu",t[89]),m=new P6({}),m.$on("selectionclick",t[90]),m.$on("selectioncontextmenu",t[91]),m.$on("nodedragstart",t[92]),m.$on("nodedrag",t[93]),m.$on("nodedragstop",t[94]),{c(){Te(e.$$.fragment),n=Ie(),Te(i.$$.fragment),o=Ie(),s=Ee("div"),u=Ie(),a=Ee("div"),f=Ie(),Te(d.$$.fragment),h=Ie(),Te(m.$$.fragment),O(s,"class","svelte-flow__edgelabel-renderer"),O(a,"class","svelte-flow__viewport-portal")},m(y,v){Ae(e,y,v),oe(y,n,v),Ae(i,y,v),oe(y,o,v),oe(y,s,v),oe(y,u,v),oe(y,a,v),oe(y,f,v),Ae(d,y,v),oe(y,h,v),Ae(m,y,v),g=!0},p(y,v){const C={};v[0]&2097152&&(C.defaultEdgeOptions=y[21]),e.$set(C);const N={};v[0]&128&&(N.containerStyle=y[7]),v[0]&64&&(N.style=y[6]),v[1]&8&&(N.isCustomComponent=y[34].connectionLine),v[3]&64&&(N.$$scope={dirty:v,ctx:y}),i.$set(N);const k={};v[0]&8388608&&(k.nodeClickDistance=y[23]),d.$set(k)},i(y){g||(se(e.$$.fragment,y),se(i.$$.fragment,y),se(d.$$.fragment,y),se(m.$$.fragment,y),g=!0)},o(y){fe(e.$$.fragment,y),fe(i.$$.fragment,y),fe(d.$$.fragment,y),fe(m.$$.fragment,y),g=!1},d(y){y&&(re(n),re(o),re(s),re(u),re(a),re(f),re(h)),Me(e,y),Me(i,y),Me(d,y),Me(m,y)}}}function j6(t){let e,n,i,o;return e=new J5({props:{$$slots:{default:[Q6]},$$scope:{ctx:t}}}),i=new S6({}),{c(){Te(e.$$.fragment),n=Ie(),Te(i.$$.fragment)},m(s,u){Ae(e,s,u),oe(s,n,u),Ae(i,s,u),o=!0},p(s,u){const a={};u[0]&10485952|u[1]&8|u[3]&64&&(a.$$scope={dirty:u,ctx:s}),e.$set(a)},i(s){o||(se(e.$$.fragment,s),se(i.$$.fragment,s),o=!0)},o(s){fe(e.$$.fragment,s),fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(e,s),Me(i,s)}}}function $6(t){let e,n;return e=new Z5({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[j6]},$$scope:{ctx:t}}}),e.$on("paneclick",t[95]),e.$on("panecontextmenu",t[96]),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o[0]&131072&&(s.panOnDrag=i[17]===void 0?!0:i[17]),o[0]&262144&&(s.selectionOnDrag=i[18]),o[0]&10485952|o[1]&8|o[3]&64&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function e8(t){let e,n,i,o,s,u,a,f,d,h,m,g;n=new D6({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),o=new V5({props:{initialViewport:t[31],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Gn.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],paneClickDistance:t[22]===void 0?0:t[22],$$slots:{default:[$6]},$$scope:{ctx:t}}}),u=new V6({props:{proOptions:t[20],position:t[19]}});const y=t[75].default,v=Xt(y,t,t[99],null);let C=[{style:t[24]},{class:f=ut(["svelte-flow",t[25],t[30]])},{"data-testid":"svelte-flow__wrapper"},t[33],{role:"application"}],N={};for(let k=0;k<C.length;k+=1)N=ot(N,C[k]);return{c(){e=Ee("div"),Te(n.$$.fragment),i=Ie(),Te(o.$$.fragment),s=Ie(),Te(u.$$.fragment),a=Ie(),v&&v.c(),kr(e,N),Wl(()=>t[98].call(e)),Ke(e,"svelte-12wlba6",!0)},m(k,R){oe(k,e,R),Ae(n,e,null),we(e,i),Ae(o,e,null),we(e,s),Ae(u,e,null),we(e,a),v&&v.m(e,null),t[97](e),d=ab(e,t[98].bind(e)),h=!0,m||(g=[We(e,"dragover",t[76]),We(e,"drop",t[77])],m=!0)},p(k,R){const T={};R[0]&2&&(T.selectionKey=k[1]),R[0]&32&&(T.deleteKey=k[5]),R[0]&4&&(T.panActivationKey=k[2]),R[0]&8&&(T.multiSelectionKey=k[3]),R[0]&16&&(T.zoomActivationKey=k[4]),n.$set(T);const B={};R[0]&256&&(B.onMoveStart=k[8]),R[0]&512&&(B.onMove=k[9]),R[0]&1024&&(B.onMoveEnd=k[10]),R[0]&2048&&(B.panOnScrollMode=k[11]===void 0?Gn.Free:k[11]),R[0]&4096&&(B.preventScrolling=k[12]===void 0?!0:k[12]),R[0]&8192&&(B.zoomOnScroll=k[13]===void 0?!0:k[13]),R[0]&16384&&(B.zoomOnDoubleClick=k[14]===void 0?!0:k[14]),R[0]&32768&&(B.zoomOnPinch=k[15]===void 0?!0:k[15]),R[0]&65536&&(B.panOnScroll=k[16]===void 0?!1:k[16]),R[0]&131072&&(B.panOnDrag=k[17]===void 0?!0:k[17]),R[0]&4194304&&(B.paneClickDistance=k[22]===void 0?0:k[22]),R[0]&10879168|R[1]&8|R[3]&64&&(B.$$scope={dirty:R,ctx:k}),o.$set(B);const S={};R[0]&1048576&&(S.proOptions=k[20]),R[0]&524288&&(S.position=k[19]),u.$set(S),v&&v.p&&(!h||R[3]&64)&&xt(v,y,k,k[99],h?Ft(y,k[99],R,null):Vt(k[99]),null),kr(e,N=qn(C,[(!h||R[0]&16777216)&&{style:k[24]},(!h||R[0]&1107296256&&f!==(f=ut(["svelte-flow",k[25],k[30]])))&&{class:f},{"data-testid":"svelte-flow__wrapper"},R[1]&4&&k[33],{role:"application"}])),Ke(e,"svelte-12wlba6",!0)},i(k){h||(se(n.$$.fragment,k),se(o.$$.fragment,k),se(u.$$.fragment,k),se(v,k),h=!0)},o(k){fe(n.$$.fragment,k),fe(o.$$.fragment,k),fe(u.$$.fragment,k),fe(v,k),h=!1},d(k){k&&re(e),Me(n),Me(o),Me(u),v&&v.d(k),t[97](null),d(),m=!1,At(g)}}}function t8(t,e,n){let i;const o=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","nodeExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","nodeOrigin","paneClickDistance","nodeClickDistance","defaultMarkerColor","style","class"];let s=St(e,o),u,a,f=Ne,d=()=>(f(),f=ao(I,q=>n(100,a=q)),I),h,m=Ne,g=()=>(m(),m=ao(i,q=>n(30,h=q)),i);t.$$.on_destroy.push(()=>f()),t.$$.on_destroy.push(()=>m());let{$$slots:y={},$$scope:v}=e;const C=rb(y);let{id:N="1"}=e,{nodes:k}=e,{edges:R}=e,{fitView:T=void 0}=e,{fitViewOptions:B=void 0}=e,{minZoom:S=void 0}=e,{maxZoom:P=void 0}=e,{initialViewport:w=void 0}=e,{viewport:I=void 0}=e;d();let{nodeTypes:A=void 0}=e,{edgeTypes:W=void 0}=e,{selectionKey:H=void 0}=e,{selectionMode:E=void 0}=e,{panActivationKey:Y=void 0}=e,{multiSelectionKey:b=void 0}=e,{zoomActivationKey:X=void 0}=e,{nodesDraggable:D=void 0}=e,{nodesConnectable:V=void 0}=e,{nodeDragThreshold:G=void 0}=e,{elementsSelectable:Z=void 0}=e,{snapGrid:ie=void 0}=e,{deleteKey:ce=void 0}=e,{connectionRadius:be=void 0}=e,{connectionLineType:ve=void 0}=e,{connectionMode:le=Ui.Strict}=e,{connectionLineStyle:ke=""}=e,{connectionLineContainerStyle:Ce=""}=e,{onMoveStart:ue=void 0}=e,{onMove:Q=void 0}=e,{onMoveEnd:$=void 0}=e,{isValidConnection:z=void 0}=e,{translateExtent:x=void 0}=e,{nodeExtent:ee=void 0}=e,{onlyRenderVisibleElements:ne=void 0}=e,{panOnScrollMode:K=Gn.Free}=e,{preventScrolling:_e=!0}=e,{zoomOnScroll:Le=!0}=e,{zoomOnDoubleClick:Ze=!0}=e,{zoomOnPinch:De=!0}=e,{panOnScroll:ct=!1}=e,{panOnDrag:nt=!0}=e,{selectionOnDrag:yt=void 0}=e,{autoPanOnConnect:Pe=!0}=e,{autoPanOnNodeDrag:Ut=!0}=e,{onerror:en=void 0}=e,{ondelete:Ot=void 0}=e,{onedgecreate:Qn=void 0}=e,{attributionPosition:Ht=void 0}=e,{proOptions:zt=void 0}=e,{defaultEdgeOptions:te=void 0}=e,{width:Kt=void 0}=e,{height:wt=void 0}=e,{colorMode:mt="light"}=e,{onconnect:Wn=void 0}=e,{onconnectstart:Yn=void 0}=e,{onconnectend:Xn=void 0}=e,{onbeforedelete:Fn=void 0}=e,{oninit:wn=void 0}=e,{nodeOrigin:jn=void 0}=e,{paneClickDistance:Zi=0}=e,{nodeClickDistance:Oo=0}=e,{defaultMarkerColor:Gi="#b1b1b7"}=e,{style:Hr=void 0}=e,{class:No=void 0}=e,qi,gi,mi;const Lo=a||w,Bt=db(ls)?gt():Y5({nodes:he(k),edges:he(R),width:Kt,height:wt,fitView:T,nodeOrigin:jn,nodeExtent:ee});Rr(()=>(Bt.width.set(gi),Bt.height.set(mi),Bt.domNode.set(qi),Bt.syncNodeStores(k),Bt.syncEdgeStores(R),Bt.syncViewport(I),T!==void 0&&Bt.fitViewOnInit.set(T),B&&Bt.fitViewOptions.set(B),$d(Bt,{nodeTypes:A,edgeTypes:W,minZoom:S,maxZoom:P,translateExtent:x,paneClickDistance:Zi}),()=>{Bt.reset()}));const{initialized:Do}=Bt;pe(t,Do,q=>n(74,u=q));let zr=!1;function Br(q){lt.call(this,t,q)}function us(q){lt.call(this,t,q)}function Wr(q){lt.call(this,t,q)}function as(q){lt.call(this,t,q)}function fs(q){lt.call(this,t,q)}function cs(q){lt.call(this,t,q)}function ds(q){lt.call(this,t,q)}function hs(q){lt.call(this,t,q)}function gs(q){lt.call(this,t,q)}function ms(q){lt.call(this,t,q)}function _s(q){lt.call(this,t,q)}function Ro(q){lt.call(this,t,q)}function ys(q){lt.call(this,t,q)}function ws(q){lt.call(this,t,q)}function bs(q){lt.call(this,t,q)}function ps(q){lt.call(this,t,q)}function vs(q){lt.call(this,t,q)}function ks(q){lt.call(this,t,q)}function Ji(q){lt.call(this,t,q)}function Cs(q){lt.call(this,t,q)}function Qi(q){lt.call(this,t,q)}function Es(q){Tn[q?"unshift":"push"](()=>{qi=q,n(28,qi)})}function Ss(){gi=this.clientWidth,mi=this.clientHeight,n(26,gi),n(27,mi)}return t.$$set=q=>{e=ot(ot({},e),_n(q)),n(33,s=St(e,o)),"id"in q&&n(35,N=q.id),"nodes"in q&&n(36,k=q.nodes),"edges"in q&&n(37,R=q.edges),"fitView"in q&&n(38,T=q.fitView),"fitViewOptions"in q&&n(39,B=q.fitViewOptions),"minZoom"in q&&n(40,S=q.minZoom),"maxZoom"in q&&n(41,P=q.maxZoom),"initialViewport"in q&&n(42,w=q.initialViewport),"viewport"in q&&d(n(0,I=q.viewport)),"nodeTypes"in q&&n(43,A=q.nodeTypes),"edgeTypes"in q&&n(44,W=q.edgeTypes),"selectionKey"in q&&n(1,H=q.selectionKey),"selectionMode"in q&&n(45,E=q.selectionMode),"panActivationKey"in q&&n(2,Y=q.panActivationKey),"multiSelectionKey"in q&&n(3,b=q.multiSelectionKey),"zoomActivationKey"in q&&n(4,X=q.zoomActivationKey),"nodesDraggable"in q&&n(46,D=q.nodesDraggable),"nodesConnectable"in q&&n(47,V=q.nodesConnectable),"nodeDragThreshold"in q&&n(48,G=q.nodeDragThreshold),"elementsSelectable"in q&&n(49,Z=q.elementsSelectable),"snapGrid"in q&&n(50,ie=q.snapGrid),"deleteKey"in q&&n(5,ce=q.deleteKey),"connectionRadius"in q&&n(51,be=q.connectionRadius),"connectionLineType"in q&&n(52,ve=q.connectionLineType),"connectionMode"in q&&n(53,le=q.connectionMode),"connectionLineStyle"in q&&n(6,ke=q.connectionLineStyle),"connectionLineContainerStyle"in q&&n(7,Ce=q.connectionLineContainerStyle),"onMoveStart"in q&&n(8,ue=q.onMoveStart),"onMove"in q&&n(9,Q=q.onMove),"onMoveEnd"in q&&n(10,$=q.onMoveEnd),"isValidConnection"in q&&n(54,z=q.isValidConnection),"translateExtent"in q&&n(55,x=q.translateExtent),"nodeExtent"in q&&n(56,ee=q.nodeExtent),"onlyRenderVisibleElements"in q&&n(57,ne=q.onlyRenderVisibleElements),"panOnScrollMode"in q&&n(11,K=q.panOnScrollMode),"preventScrolling"in q&&n(12,_e=q.preventScrolling),"zoomOnScroll"in q&&n(13,Le=q.zoomOnScroll),"zoomOnDoubleClick"in q&&n(14,Ze=q.zoomOnDoubleClick),"zoomOnPinch"in q&&n(15,De=q.zoomOnPinch),"panOnScroll"in q&&n(16,ct=q.panOnScroll),"panOnDrag"in q&&n(17,nt=q.panOnDrag),"selectionOnDrag"in q&&n(18,yt=q.selectionOnDrag),"autoPanOnConnect"in q&&n(58,Pe=q.autoPanOnConnect),"autoPanOnNodeDrag"in q&&n(59,Ut=q.autoPanOnNodeDrag),"onerror"in q&&n(60,en=q.onerror),"ondelete"in q&&n(61,Ot=q.ondelete),"onedgecreate"in q&&n(62,Qn=q.onedgecreate),"attributionPosition"in q&&n(19,Ht=q.attributionPosition),"proOptions"in q&&n(20,zt=q.proOptions),"defaultEdgeOptions"in q&&n(21,te=q.defaultEdgeOptions),"width"in q&&n(63,Kt=q.width),"height"in q&&n(64,wt=q.height),"colorMode"in q&&n(65,mt=q.colorMode),"onconnect"in q&&n(66,Wn=q.onconnect),"onconnectstart"in q&&n(67,Yn=q.onconnectstart),"onconnectend"in q&&n(68,Xn=q.onconnectend),"onbeforedelete"in q&&n(69,Fn=q.onbeforedelete),"oninit"in q&&n(70,wn=q.oninit),"nodeOrigin"in q&&n(71,jn=q.nodeOrigin),"paneClickDistance"in q&&n(22,Zi=q.paneClickDistance),"nodeClickDistance"in q&&n(23,Oo=q.nodeClickDistance),"defaultMarkerColor"in q&&n(72,Gi=q.defaultMarkerColor),"style"in q&&n(24,Hr=q.style),"class"in q&&n(25,No=q.class),"$$scope"in q&&n(99,v=q.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&201326592&&gi!==void 0&&mi!==void 0&&(Bt.width.set(gi),Bt.height.set(mi)),t.$$.dirty[2]&6400&&!zr&&u&&(wn==null||wn(),n(73,zr=!0)),t.$$.dirty[1]&2097135632|t.$$.dirty[2]&1777&&K6(Bt,{flowId:N,connectionLineType:ve,connectionRadius:be,selectionMode:E,snapGrid:ie,defaultMarkerColor:Gi,nodesDraggable:D,nodesConnectable:V,elementsSelectable:Z,onlyRenderVisibleElements:ne,isValidConnection:z,autoPanOnConnect:Pe,autoPanOnNodeDrag:Ut,onerror:en,ondelete:Ot,onedgecreate:Qn,connectionMode:le,nodeDragThreshold:G,onconnect:Wn,onconnectstart:Yn,onconnectend:Xn,onbeforedelete:Fn,nodeOrigin:jn}),t.$$.dirty[0]&4194304|t.$$.dirty[1]&16791040&&$d(Bt,{nodeTypes:A,edgeTypes:W,minZoom:S,maxZoom:P,translateExtent:x,paneClickDistance:Zi}),t.$$.dirty[2]&8&&g(n(29,i=G6(mt)))},[I,H,Y,b,X,ce,ke,Ce,ue,Q,$,K,_e,Le,Ze,De,ct,nt,yt,Ht,zt,te,Zi,Oo,Hr,No,gi,mi,qi,i,h,Lo,Do,s,C,N,k,R,T,B,S,P,w,A,W,E,D,V,G,Z,ie,be,ve,le,z,x,ee,ne,Pe,Ut,en,Ot,Qn,Kt,wt,mt,Wn,Yn,Xn,Fn,wn,jn,Gi,zr,u,y,Br,us,Wr,as,fs,cs,ds,hs,gs,ms,_s,Ro,ys,ws,bs,ps,vs,ks,Ji,Cs,Qi,Es,Ss,v]}class n8 extends Be{constructor(e){super(),ze(this,e,t8,e8,Ye,{id:35,nodes:36,edges:37,fitView:38,fitViewOptions:39,minZoom:40,maxZoom:41,initialViewport:42,viewport:0,nodeTypes:43,edgeTypes:44,selectionKey:1,selectionMode:45,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:46,nodesConnectable:47,nodeDragThreshold:48,elementsSelectable:49,snapGrid:50,deleteKey:5,connectionRadius:51,connectionLineType:52,connectionMode:53,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:54,translateExtent:55,nodeExtent:56,onlyRenderVisibleElements:57,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:58,autoPanOnNodeDrag:59,onerror:60,ondelete:61,onedgecreate:62,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:63,height:64,colorMode:65,onconnect:66,onconnectstart:67,onconnectend:68,onbeforedelete:69,oninit:70,nodeOrigin:71,paneClickDistance:22,nodeClickDistance:23,defaultMarkerColor:72,style:24,class:25},null,[-1,-1,-1,-1])}}function i8(t){let e;const n=t[7].default,i=Xt(n,t,t[6],null);return{c(){i&&i.c()},m(o,s){i&&i.m(o,s),e=!0},p(o,[s]){i&&i.p&&(!e||s&64)&&xt(i,n,o,o[6],e?Ft(n,o[6],s,null):Vt(o[6]),null)},i(o){e||(se(i,o),e=!0)},o(o){fe(i,o),e=!1},d(o){i&&i.d(o)}}}function r8(t,e,n){let{$$slots:i={},$$scope:o}=e,{initialNodes:s=void 0}=e,{initialEdges:u=void 0}=e,{initialWidth:a=void 0}=e,{initialHeight:f=void 0}=e,{fitView:d=void 0}=e,{nodeOrigin:h=void 0}=e;const m=Bh({nodes:s,edges:u,width:a,height:f,nodeOrigin:h,fitView:d});return co(ls,{getStore:()=>m}),ca(()=>{m.reset()}),t.$$set=g=>{"initialNodes"in g&&n(0,s=g.initialNodes),"initialEdges"in g&&n(1,u=g.initialEdges),"initialWidth"in g&&n(2,a=g.initialWidth),"initialHeight"in g&&n(3,f=g.initialHeight),"fitView"in g&&n(4,d=g.fitView),"nodeOrigin"in g&&n(5,h=g.nodeOrigin),"$$scope"in g&&n(6,o=g.$$scope)},[s,u,a,f,d,h,o,i]}class Xk extends Be{constructor(e){super(),ze(this,e,r8,i8,Ye,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4,nodeOrigin:5})}}const o8=t=>({}),t1=t=>({class:"button-svg"});function l8(t){let e,n,i,o,s;const u=t[8].default,a=Xt(u,t,t[7],t1);let f=[{type:"button"},{class:n=ut(["svelte-flow__controls-button",t[0]])},t[6]],d={};for(let h=0;h<f.length;h+=1)d=ot(d,f[h]);return{c(){e=Ee("button"),a&&a.c(),kr(e,d),Xe(e,"--xy-controls-button-background-color-props",t[1]),Xe(e,"--xy-controls-button-background-color-hover-props",t[2]),Xe(e,"--xy-controls-button-color-props",t[3]),Xe(e,"--xy-controls-button-color-hover-props",t[4]),Xe(e,"--xy-controls-button-border-color-props",t[5])},m(h,m){oe(h,e,m),a&&a.m(e,null),e.autofocus&&e.focus(),i=!0,o||(s=We(e,"click",t[9]),o=!0)},p(h,[m]){a&&a.p&&(!i||m&128)&&xt(a,u,h,h[7],i?Ft(u,h[7],m,o8):Vt(h[7]),t1),kr(e,d=qn(f,[{type:"button"},(!i||m&1&&n!==(n=ut(["svelte-flow__controls-button",h[0]])))&&{class:n},m&64&&h[6]])),Xe(e,"--xy-controls-button-background-color-props",h[1]),Xe(e,"--xy-controls-button-background-color-hover-props",h[2]),Xe(e,"--xy-controls-button-color-props",h[3]),Xe(e,"--xy-controls-button-color-hover-props",h[4]),Xe(e,"--xy-controls-button-border-color-props",h[5])},i(h){i||(se(a,h),i=!0)},o(h){fe(a,h),i=!1},d(h){h&&re(e),a&&a.d(h),o=!1,s()}}}function s8(t,e,n){const i=["class","bgColor","bgColorHover","color","colorHover","borderColor"];let o=St(e,i),{$$slots:s={},$$scope:u}=e,{class:a=void 0}=e,{bgColor:f=void 0}=e,{bgColorHover:d=void 0}=e,{color:h=void 0}=e,{colorHover:m=void 0}=e,{borderColor:g=void 0}=e;function y(v){lt.call(this,t,v)}return t.$$set=v=>{e=ot(ot({},e),_n(v)),n(6,o=St(e,i)),"class"in v&&n(0,a=v.class),"bgColor"in v&&n(1,f=v.bgColor),"bgColorHover"in v&&n(2,d=v.bgColorHover),"color"in v&&n(3,h=v.color),"colorHover"in v&&n(4,m=v.colorHover),"borderColor"in v&&n(5,g=v.borderColor),"$$scope"in v&&n(7,u=v.$$scope)},[a,f,d,h,m,g,o,u,s,y]}class Lr extends Be{constructor(e){super(),ze(this,e,s8,l8,Ye,{class:0,bgColor:1,bgColorHover:2,color:3,colorHover:4,borderColor:5})}}function u8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),O(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),O(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"viewBox","0 0 32 32")},m(i,o){oe(i,e,o),we(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class a8 extends Be{constructor(e){super(),ze(this,e,null,u8,Ye,{})}}function f8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),O(n,"d","M0 0h32v4.2H0z"),O(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"viewBox","0 0 32 5")},m(i,o){oe(i,e,o),we(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class c8 extends Be{constructor(e){super(),ze(this,e,null,f8,Ye,{})}}function d8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),O(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),O(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"viewBox","0 0 32 30")},m(i,o){oe(i,e,o),we(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class h8 extends Be{constructor(e){super(),ze(this,e,null,d8,Ye,{})}}function g8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),O(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),O(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"viewBox","0 0 25 32")},m(i,o){oe(i,e,o),we(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class m8 extends Be{constructor(e){super(),ze(this,e,null,g8,Ye,{})}}function _8(t){let e,n;return{c(){e=Ge("svg"),n=Ge("path"),O(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),O(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"viewBox","0 0 25 32")},m(i,o){oe(i,e,o),we(e,n)},p:Ne,i:Ne,o:Ne,d(i){i&&re(e)}}}class y8 extends Be{constructor(e){super(),ze(this,e,null,_8,Ye,{})}}const w8=t=>({}),n1=t=>({}),b8=t=>({}),i1=t=>({});function r1(t){let e,n,i,o;const s=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let u={$$slots:{default:[p8]},$$scope:{ctx:t}};for(let d=0;d<s.length;d+=1)u=ot(u,s[d]);e=new Lr({props:u}),e.$on("click",t[18]);const a=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let f={$$slots:{default:[v8]},$$scope:{ctx:t}};for(let d=0;d<a.length;d+=1)f=ot(f,a[d]);return i=new Lr({props:f}),i.$on("click",t[19]),{c(){Te(e.$$.fragment),n=Ie(),Te(i.$$.fragment)},m(d,h){Ae(e,d,h),oe(d,n,h),Ae(i,d,h),o=!0},p(d,h){const m=h[0]&131584?qn(s,[s[0],s[1],s[2],h[0]&512&&{disabled:d[9]},h[0]&131072&&Er(d[17])]):{};h[1]&32&&(m.$$scope={dirty:h,ctx:d}),e.$set(m);const g=h[0]&132096?qn(a,[a[0],a[1],a[2],h[0]&1024&&{disabled:d[10]},h[0]&131072&&Er(d[17])]):{};h[1]&32&&(g.$$scope={dirty:h,ctx:d}),i.$set(g)},i(d){o||(se(e.$$.fragment,d),se(i.$$.fragment,d),o=!0)},o(d){fe(e.$$.fragment,d),fe(i.$$.fragment,d),o=!1},d(d){d&&re(n),Me(e,d),Me(i,d)}}}function p8(t){let e,n;return e=new a8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function v8(t){let e,n;return e=new c8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function o1(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let o={$$slots:{default:[k8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=ot(o,i[s]);return e=new Lr({props:o}),e.$on("click",t[20]),{c(){Te(e.$$.fragment)},m(s,u){Ae(e,s,u),n=!0},p(s,u){const a=u[0]&131072?qn(i,[i[0],i[1],i[2],Er(s[17])]):{};u[1]&32&&(a.$$scope={dirty:u,ctx:s}),e.$set(a)},i(s){n||(se(e.$$.fragment,s),n=!0)},o(s){fe(e.$$.fragment,s),n=!1},d(s){Me(e,s)}}}function k8(t){let e,n;return e=new h8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function l1(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let o={$$slots:{default:[S8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)o=ot(o,i[s]);return e=new Lr({props:o}),e.$on("click",t[21]),{c(){Te(e.$$.fragment)},m(s,u){Ae(e,s,u),n=!0},p(s,u){const a=u[0]&131072?qn(i,[i[0],i[1],i[2],Er(s[17])]):{};u[0]&256|u[1]&32&&(a.$$scope={dirty:u,ctx:s}),e.$set(a)},i(s){n||(se(e.$$.fragment,s),n=!0)},o(s){fe(e.$$.fragment,s),n=!1},d(s){Me(e,s)}}}function C8(t){let e,n;return e=new m8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function E8(t){let e,n;return e=new y8({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function S8(t){let e,n,i,o;const s=[E8,C8],u=[];function a(f,d){return f[8]?0:1}return e=a(t),n=u[e]=s[e](t),{c(){n.c(),i=Pt()},m(f,d){u[e].m(f,d),oe(f,i,d),o=!0},p(f,d){let h=e;e=a(f),e!==h&&(Ct(),fe(u[h],1,1,()=>{u[h]=null}),Et(),n=u[e],n||(n=u[e]=s[e](f),n.c()),se(n,1),n.m(i.parentNode,i))},i(f){o||(se(n),o=!0)},o(f){fe(n),o=!1},d(f){f&&re(i),u[e].d(f)}}}function A8(t){let e,n,i,o,s,u;const a=t[35].before,f=Xt(a,t,t[36],i1);let d=t[1]&&r1(t),h=t[2]&&o1(t),m=t[3]&&l1(t);const g=t[35].default,y=Xt(g,t,t[36],null),v=t[35].after,C=Xt(v,t,t[36],n1);return{c(){f&&f.c(),e=Ie(),d&&d.c(),n=Ie(),h&&h.c(),i=Ie(),m&&m.c(),o=Ie(),y&&y.c(),s=Ie(),C&&C.c()},m(N,k){f&&f.m(N,k),oe(N,e,k),d&&d.m(N,k),oe(N,n,k),h&&h.m(N,k),oe(N,i,k),m&&m.m(N,k),oe(N,o,k),y&&y.m(N,k),oe(N,s,k),C&&C.m(N,k),u=!0},p(N,k){f&&f.p&&(!u||k[1]&32)&&xt(f,a,N,N[36],u?Ft(a,N[36],k,b8):Vt(N[36]),i1),N[1]?d?(d.p(N,k),k[0]&2&&se(d,1)):(d=r1(N),d.c(),se(d,1),d.m(n.parentNode,n)):d&&(Ct(),fe(d,1,1,()=>{d=null}),Et()),N[2]?h?(h.p(N,k),k[0]&4&&se(h,1)):(h=o1(N),h.c(),se(h,1),h.m(i.parentNode,i)):h&&(Ct(),fe(h,1,1,()=>{h=null}),Et()),N[3]?m?(m.p(N,k),k[0]&8&&se(m,1)):(m=l1(N),m.c(),se(m,1),m.m(o.parentNode,o)):m&&(Ct(),fe(m,1,1,()=>{m=null}),Et()),y&&y.p&&(!u||k[1]&32)&&xt(y,g,N,N[36],u?Ft(g,N[36],k,null):Vt(N[36]),null),C&&C.p&&(!u||k[1]&32)&&xt(C,v,N,N[36],u?Ft(v,N[36],k,w8):Vt(N[36]),n1)},i(N){u||(se(f,N),se(d),se(h),se(m),se(y,N),se(C,N),u=!0)},o(N){fe(f,N),fe(d),fe(h),fe(m),fe(y,N),fe(C,N),u=!1},d(N){N&&(re(e),re(n),re(i),re(o),re(s)),f&&f.d(N),d&&d.d(N),h&&h.d(N),m&&m.d(N),y&&y.d(N),C&&C.d(N)}}}function M8(t){let e,n;return e=new ai({props:{class:ut(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[A8]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o[0]&192&&(s.class=ut(["svelte-flow__controls",i[7],i[6]])),o[0]&1&&(s.position=i[0]),o[0]&16&&(s["aria-label"]=i[4]??"Svelte Flow controls"),o[0]&32&&(s.style=i[5]),o[0]&1806|o[1]&32&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function T8(t,e,n){let i,o,s,u,a,f,d,h,m,g,{$$slots:y={},$$scope:v}=e,{position:C="bottom-left"}=e,{showZoom:N=!0}=e,{showFitView:k=!0}=e,{showLock:R=!0}=e,{buttonBgColor:T=void 0}=e,{buttonBgColorHover:B=void 0}=e,{buttonColor:S=void 0}=e,{buttonColorHover:P=void 0}=e,{buttonBorderColor:w=void 0}=e,{ariaLabel:I=void 0}=e,{style:A=void 0}=e,{orientation:W="vertical"}=e,{fitViewOptions:H=void 0}=e,{class:E=""}=e;const{zoomIn:Y,zoomOut:b,fitView:X,viewport:D,minZoom:V,maxZoom:G,nodesDraggable:Z,nodesConnectable:ie,elementsSelectable:ce}=gt();pe(t,D,ue=>n(30,f=ue)),pe(t,V,ue=>n(31,d=ue)),pe(t,G,ue=>n(29,a=ue)),pe(t,Z,ue=>n(34,g=ue)),pe(t,ie,ue=>n(33,m=ue)),pe(t,ce,ue=>n(32,h=ue));const be={bgColor:T,bgColorHover:B,color:S,colorHover:P,borderColor:w},ve=()=>{Y()},le=()=>{b()},ke=()=>{X(H)},Ce=()=>{n(8,i=!i),Z.set(i),ie.set(i),ce.set(i)};return t.$$set=ue=>{"position"in ue&&n(0,C=ue.position),"showZoom"in ue&&n(1,N=ue.showZoom),"showFitView"in ue&&n(2,k=ue.showFitView),"showLock"in ue&&n(3,R=ue.showLock),"buttonBgColor"in ue&&n(22,T=ue.buttonBgColor),"buttonBgColorHover"in ue&&n(23,B=ue.buttonBgColorHover),"buttonColor"in ue&&n(24,S=ue.buttonColor),"buttonColorHover"in ue&&n(25,P=ue.buttonColorHover),"buttonBorderColor"in ue&&n(26,w=ue.buttonBorderColor),"ariaLabel"in ue&&n(4,I=ue.ariaLabel),"style"in ue&&n(5,A=ue.style),"orientation"in ue&&n(27,W=ue.orientation),"fitViewOptions"in ue&&n(28,H=ue.fitViewOptions),"class"in ue&&n(6,E=ue.class),"$$scope"in ue&&n(36,v=ue.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&14&&n(8,i=g||m||h),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(10,o=f.zoom<=d),t.$$.dirty[0]&1610612736&&n(9,s=f.zoom>=a),t.$$.dirty[0]&134217728&&n(7,u=W==="horizontal"?"horizontal":"vertical")},[C,N,k,R,I,A,E,u,i,s,o,D,V,G,Z,ie,ce,be,ve,le,ke,Ce,T,B,S,P,w,W,H,a,f,d,h,m,g,y,v]}class P8 extends Be{constructor(e){super(),ze(this,e,T8,M8,Ye,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,fitViewOptions:28,class:6},null,[-1,-1])}}var di;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(di||(di={}));function I8(t){let e,n;return{c(){e=Ge("circle"),O(e,"cx",t[0]),O(e,"cy",t[0]),O(e,"r",t[0]),O(e,"class",n=ut(["svelte-flow__background-pattern","dots",t[1]]))},m(i,o){oe(i,e,o)},p(i,[o]){o&1&&O(e,"cx",i[0]),o&1&&O(e,"cy",i[0]),o&1&&O(e,"r",i[0]),o&2&&n!==(n=ut(["svelte-flow__background-pattern","dots",i[1]]))&&O(e,"class",n)},i:Ne,o:Ne,d(i){i&&re(e)}}}function O8(t,e,n){let{radius:i=5}=e,{class:o=""}=e;return t.$$set=s=>{"radius"in s&&n(0,i=s.radius),"class"in s&&n(1,o=s.class)},[i,o]}class N8 extends Be{constructor(e){super(),ze(this,e,O8,I8,Ye,{radius:0,class:1})}}function L8(t){let e,n,i;return{c(){e=Ge("path"),O(e,"stroke-width",t[0]),O(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),O(e,"class",i=ut(["svelte-flow__background-pattern",t[2],t[3]]))},m(o,s){oe(o,e,s)},p(o,[s]){s&1&&O(e,"stroke-width",o[0]),s&2&&n!==(n=`M${o[1][0]/2} 0 V${o[1][1]} M0 ${o[1][1]/2} H${o[1][0]}`)&&O(e,"d",n),s&12&&i!==(i=ut(["svelte-flow__background-pattern",o[2],o[3]]))&&O(e,"class",i)},i:Ne,o:Ne,d(o){o&&re(e)}}}function D8(t,e,n){let{lineWidth:i=1}=e,{dimensions:o}=e,{variant:s=void 0}=e,{class:u=""}=e;return t.$$set=a=>{"lineWidth"in a&&n(0,i=a.lineWidth),"dimensions"in a&&n(1,o=a.dimensions),"variant"in a&&n(2,s=a.variant),"class"in a&&n(3,u=a.class)},[i,o,s,u]}class R8 extends Be{constructor(e){super(),ze(this,e,D8,L8,Ye,{lineWidth:0,dimensions:1,variant:2,class:3})}}function H8(t){let e,n;return e=new R8({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&64&&(s.dimensions=i[6]),o&1&&(s.variant=i[0]),o&2&&(s.lineWidth=i[1]),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function z8(t){let e,n;return e=new N8({props:{radius:t[7]/2,class:t[4]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o&128&&(s.radius=i[7]/2),o&16&&(s.class=i[4]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function B8(t){let e,n,i,o,s,u,a,f,d,h,m,g,y;const v=[z8,H8],C=[];function N(k,R){return k[14]?0:1}return i=N(t),o=C[i]=v[i](t),{c(){e=Ge("svg"),n=Ge("pattern"),o.c(),h=Ge("rect"),O(n,"id",t[11]),O(n,"x",s=t[9].x%t[8][0]),O(n,"y",u=t[9].y%t[8][1]),O(n,"width",a=t[8][0]),O(n,"height",f=t[8][1]),O(n,"patternUnits","userSpaceOnUse"),O(n,"patternTransform",d=`translate(-${t[10][0]},-${t[10][1]})`),O(h,"x","0"),O(h,"y","0"),O(h,"width","100%"),O(h,"height","100%"),O(h,"fill",m=`url(#${t[11]})`),O(e,"class",g=vr(ut(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),O(e,"data-testid","svelte-flow__background"),Xe(e,"--xy-background-color-props",t[2]),Xe(e,"--xy-background-pattern-color-props",t[3])},m(k,R){oe(k,e,R),we(e,n),C[i].m(n,null),we(e,h),y=!0},p(k,[R]){o.p(k,R),(!y||R&2048)&&O(n,"id",k[11]),(!y||R&768&&s!==(s=k[9].x%k[8][0]))&&O(n,"x",s),(!y||R&768&&u!==(u=k[9].y%k[8][1]))&&O(n,"y",u),(!y||R&256&&a!==(a=k[8][0]))&&O(n,"width",a),(!y||R&256&&f!==(f=k[8][1]))&&O(n,"height",f),(!y||R&1024&&d!==(d=`translate(-${k[10][0]},-${k[10][1]})`))&&O(n,"patternTransform",d),(!y||R&2048&&m!==(m=`url(#${k[11]})`))&&O(h,"fill",m),(!y||R&32&&g!==(g=vr(ut(["svelte-flow__background",k[5]]))+" svelte-1r7pe8d"))&&O(e,"class",g),R&4&&Xe(e,"--xy-background-color-props",k[2]),R&8&&Xe(e,"--xy-background-pattern-color-props",k[3])},i(k){y||(se(o),y=!0)},o(k){fe(o),y=!1},d(k){k&&re(e),C[i].d()}}}const W8={[di.Dots]:1,[di.Lines]:1,[di.Cross]:6};function Y8(t,e,n){let i,o,s,u,a,f,d,{id:h=void 0}=e,{variant:m=di.Dots}=e,{gap:g=20}=e,{size:y=1}=e,{lineWidth:v=1}=e,{bgColor:C=void 0}=e,{patternColor:N=void 0}=e,{patternClass:k=void 0}=e,{class:R=""}=e;const{viewport:T,flowId:B}=gt();pe(t,T,A=>n(9,f=A)),pe(t,B,A=>n(18,d=A));const S=y||W8[m],P=m===di.Dots,w=m===di.Cross,I=Array.isArray(g)?g:[g,g];return t.$$set=A=>{"id"in A&&n(15,h=A.id),"variant"in A&&n(0,m=A.variant),"gap"in A&&n(16,g=A.gap),"size"in A&&n(17,y=A.size),"lineWidth"in A&&n(1,v=A.lineWidth),"bgColor"in A&&n(2,C=A.bgColor),"patternColor"in A&&n(3,N=A.patternColor),"patternClass"in A&&n(4,k=A.patternClass),"class"in A&&n(5,R=A.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${d}-${h||""}`),t.$$.dirty&512&&n(8,o=[I[0]*f.zoom||1,I[1]*f.zoom||1]),t.$$.dirty&512&&n(7,s=S*f.zoom),t.$$.dirty&384&&n(6,u=w?[s,s]:o),t.$$.dirty&192&&n(10,a=P?[s/2,s/2]:[u[0]/2,u[1]/2])},[m,v,C,N,k,R,u,s,o,f,a,i,T,B,P,h,g,y,d]}class X8 extends Be{constructor(e){super(),ze(this,e,Y8,B8,Ye,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}function F8(t){let e,n,i;return{c(){e=Ge("rect"),O(e,"class",n=ut(["svelte-flow__minimap-node",t[10]])),O(e,"x",t[0]),O(e,"y",t[1]),O(e,"rx",t[4]),O(e,"ry",t[4]),O(e,"width",t[2]),O(e,"height",t[3]),O(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),O(e,"shape-rendering",t[6]),Ke(e,"selected",t[9])},m(o,s){oe(o,e,s)},p(o,[s]){s&1024&&n!==(n=ut(["svelte-flow__minimap-node",o[10]]))&&O(e,"class",n),s&1&&O(e,"x",o[0]),s&2&&O(e,"y",o[1]),s&16&&O(e,"rx",o[4]),s&16&&O(e,"ry",o[4]),s&4&&O(e,"width",o[2]),s&8&&O(e,"height",o[3]),s&416&&i!==(i=`${o[5]?`fill: ${o[5]};`:""}${o[7]?`stroke: ${o[7]};`:""}${o[8]?`stroke-width: ${o[8]};`:""}`)&&O(e,"style",i),s&64&&O(e,"shape-rendering",o[6]),s&1536&&Ke(e,"selected",o[9])},i:Ne,o:Ne,d(o){o&&re(e)}}}function x8(t,e,n){let{x:i}=e,{y:o}=e,{width:s=0}=e,{height:u=0}=e,{borderRadius:a=5}=e,{color:f=void 0}=e,{shapeRendering:d}=e,{strokeColor:h=void 0}=e,{strokeWidth:m=2}=e,{selected:g=!1}=e,{class:y=""}=e;return t.$$set=v=>{"x"in v&&n(0,i=v.x),"y"in v&&n(1,o=v.y),"width"in v&&n(2,s=v.width),"height"in v&&n(3,u=v.height),"borderRadius"in v&&n(4,a=v.borderRadius),"color"in v&&n(5,f=v.color),"shapeRendering"in v&&n(6,d=v.shapeRendering),"strokeColor"in v&&n(7,h=v.strokeColor),"strokeWidth"in v&&n(8,m=v.strokeWidth),"selected"in v&&n(9,g=v.selected),"class"in v&&n(10,y=v.class)},[i,o,s,u,a,f,d,h,m,g,y]}class V8 extends Be{constructor(e){super(),ze(this,e,x8,F8,Ye,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function U8(t,e){const n=D3({domNode:t,panZoom:e.panZoom,getTransform:()=>{const o=he(e.viewport);return[o.x,o.y,o.zoom]},getViewScale:e.getViewScale});function i(o){n.update({translateExtent:o.translateExtent,width:o.width,height:o.height,inversePan:o.inversePan,zoomStep:o.zoomStep,pannable:o.pannable,zoomable:o.zoomable})}return{update:i,destroy(){n.destroy()}}}function s1(t,e,n){const i=t.slice();i[55]=e[n];const o=i[20].get(i[55].id);return i[56]=o,i}function Vu(t){const e=t.slice(),n=Pi(e[56]);return e[59]=n,e}function u1(t){let e,n,i=[],o=new Map,s,u,a,f,d,h,m,g=t[1]&&a1(t),y=Dt(t[19]);const v=C=>C[55].id;for(let C=0;C<y.length;C+=1){let N=s1(t,y,C),k=v(N);o.set(k,i[C]=c1(k,N))}return{c(){e=Ge("svg"),g&&g.c(),n=Pt();for(let C=0;C<i.length;C+=1)i[C].c();s=Ge("path"),O(s,"class","svelte-flow__minimap-mask"),O(s,"d",u="M"+(t[26]-t[15])+","+(t[25]-t[15])+"h"+(t[24]+t[15]*2)+"v"+(t[23]+t[15]*2)+"h"+(-t[24]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),O(s,"fill-rule","evenodd"),O(s,"pointer-events","none"),O(e,"width",t[17]),O(e,"height",t[16]),O(e,"viewBox",a=t[26]+" "+t[25]+" "+t[24]+" "+t[23]),O(e,"class","svelte-flow__minimap-svg"),O(e,"role","img"),O(e,"aria-labelledby",t[41]),Xe(e,"--xy-minimap-mask-background-color-props",t[5]),Xe(e,"--xy-minimap-mask-stroke-color-props",t[6]),Xe(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(C,N){oe(C,e,N),g&&g.m(e,null),we(e,n);for(let k=0;k<i.length;k+=1)i[k]&&i[k].m(e,null);we(e,s),d=!0,h||(m=$t(f=U8.call(null,e,{panZoom:t[27],viewport:t[31],getViewScale:t[42],translateExtent:t[28],width:t[22],height:t[21],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),h=!0)},p(C,N){C[1]?g?g.p(C,N):(g=a1(C),g.c(),g.m(e,n)):g&&(g.d(1),g=null),N[0]&1572876|N[1]&960&&(y=Dt(C[19]),Ct(),i=xi(i,N,v,1,C,y,o,e,Cr,c1,s,s1),Et()),(!d||N[0]&126124032&&u!==(u="M"+(C[26]-C[15])+","+(C[25]-C[15])+"h"+(C[24]+C[15]*2)+"v"+(C[23]+C[15]*2)+"h"+(-C[24]-C[15]*2)+`z
      M`+C[18].x+","+C[18].y+"h"+C[18].width+"v"+C[18].height+"h"+-C[18].width+"z"))&&O(s,"d",u),(!d||N[0]&131072)&&O(e,"width",C[17]),(!d||N[0]&65536)&&O(e,"height",C[16]),(!d||N[0]&125829120&&a!==(a=C[26]+" "+C[25]+" "+C[24]+" "+C[23]))&&O(e,"viewBox",a),f&&vt(f.update)&&N[0]&408948480&&f.update.call(null,{panZoom:C[27],viewport:C[31],getViewScale:C[42],translateExtent:C[28],width:C[22],height:C[21],inversePan:C[10],zoomStep:C[11],pannable:C[8],zoomable:C[9]}),N[0]&32&&Xe(e,"--xy-minimap-mask-background-color-props",C[5]),N[0]&64&&Xe(e,"--xy-minimap-mask-stroke-color-props",C[6]),N[0]&16512&&Xe(e,"--xy-minimap-mask-stroke-width-props",C[7]?C[7]*C[14]:void 0)},i(C){if(!d){for(let N=0;N<y.length;N+=1)se(i[N]);d=!0}},o(C){for(let N=0;N<i.length;N+=1)fe(i[N]);d=!1},d(C){C&&re(e),g&&g.d();for(let N=0;N<i.length;N+=1)i[N].d();h=!1,m()}}}function a1(t){let e,n;return{c(){e=Ge("title"),n=rt(t[1]),O(e,"id",t[41])},m(i,o){oe(i,e,o),we(e,n)},p(i,o){o[0]&2&&qt(n,i[1])},d(i){i&&re(e)}}}function f1(t){var s;let e,n;const i=[{x:t[56].internals.positionAbsolute.x},{y:t[56].internals.positionAbsolute.y},t[59],{selected:t[56].selected},{color:(s=t[37])==null?void 0:s.call(t,t[56])},{borderRadius:t[2]},{strokeColor:t[38](t[56])},{strokeWidth:t[3]},{shapeRendering:t[40]},{class:t[39](t[56])}];let o={};for(let u=0;u<i.length;u+=1)o=ot(o,i[u]);return e=new V8({props:o}),{c(){Te(e.$$.fragment)},m(u,a){Ae(e,u,a),n=!0},p(u,a){var d;const f=a[0]&1572876|a[1]&960?qn(i,[a[0]&1572864&&{x:u[56].internals.positionAbsolute.x},a[0]&1572864&&{y:u[56].internals.positionAbsolute.y},a[0]&1572864&&Er(u[59]),a[0]&1572864&&{selected:u[56].selected},a[0]&1572864|a[1]&64&&{color:(d=u[37])==null?void 0:d.call(u,u[56])},a[0]&4&&{borderRadius:u[2]},a[0]&1572864|a[1]&128&&{strokeColor:u[38](u[56])},a[0]&8&&{strokeWidth:u[3]},a[1]&512&&{shapeRendering:u[40]},a[0]&1572864|a[1]&256&&{class:u[39](u[56])}]):{};e.$set(f)},i(u){n||(se(e.$$.fragment,u),n=!0)},o(u){fe(e.$$.fragment,u),n=!1},d(u){Me(e,u)}}}function c1(t,e){let n,i=e[56]&&Jl(e[56]),o,s,u=i&&f1(Vu(e));return{key:t,first:null,c(){n=Pt(),u&&u.c(),o=Pt(),this.first=n},m(a,f){oe(a,n,f),u&&u.m(a,f),oe(a,o,f),s=!0},p(a,f){e=a,f[0]&1572864&&(i=e[56]&&Jl(e[56])),i?u?(u.p(Vu(e),f),f[0]&1572864&&se(u,1)):(u=f1(Vu(e)),u.c(),se(u,1),u.m(o.parentNode,o)):u&&(Ct(),fe(u,1,1,()=>{u=null}),Et())},i(a){s||(se(u),s=!0)},o(a){fe(u),s=!1},d(a){a&&(re(n),re(o)),u&&u.d(a)}}}function K8(t){let e,n,i=t[27]&&u1(t);return{c(){i&&i.c(),e=Pt()},m(o,s){i&&i.m(o,s),oe(o,e,s),n=!0},p(o,s){o[27]?i?(i.p(o,s),s[0]&134217728&&se(i,1)):(i=u1(o),i.c(),se(i,1),i.m(e.parentNode,e)):i&&(Ct(),fe(i,1,1,()=>{i=null}),Et())},i(o){n||(se(i),n=!0)},o(o){fe(i),n=!1},d(o){o&&re(e),i&&i.d(o)}}}function Z8(t){let e,n;return e=new ai({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:ut(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[K8]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,o){const s={};o[0]&1&&(s.position=i[0]),o[0]&4112&&(s.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),o[0]&8192&&(s.class=ut(["svelte-flow__minimap",i[13]])),o[0]&536858606|o[1]&536870912&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}const Uu=t=>t instanceof Function?t:()=>t,G8=200,q8=150;function J8(t,e,n){let i,o,s,u,a,f,d,h,m,g,y,v,C,N,k,R,T,B,S,P,w,{position:I="bottom-right"}=e,{ariaLabel:A="Mini map"}=e,{nodeStrokeColor:W="transparent"}=e,{nodeColor:H=void 0}=e,{nodeClass:E=""}=e,{nodeBorderRadius:Y=5}=e,{nodeStrokeWidth:b=2}=e,{bgColor:X=void 0}=e,{maskColor:D=void 0}=e,{maskStrokeColor:V=void 0}=e,{maskStrokeWidth:G=void 0}=e,{width:Z=void 0}=e,{height:ie=void 0}=e,{pannable:ce=!0}=e,{zoomable:be=!0}=e,{inversePan:ve=void 0}=e,{zoomStep:le=void 0}=e,{style:ke=""}=e,{class:Ce=""}=e;const{nodes:ue,nodeLookup:Q,viewport:$,width:z,height:x,flowId:ee,panZoom:ne,translateExtent:K}=gt();pe(t,ue,Pe=>n(19,N=Pe)),pe(t,Q,Pe=>n(20,k=Pe)),pe(t,$,Pe=>n(53,R=Pe)),pe(t,z,Pe=>n(22,B=Pe)),pe(t,x,Pe=>n(21,T=Pe)),pe(t,ee,Pe=>n(54,S=Pe)),pe(t,ne,Pe=>n(27,P=Pe)),pe(t,K,Pe=>n(28,w=Pe));const _e=H===void 0?void 0:Uu(H),Le=Uu(W),Ze=Uu(E),De=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",ct=`svelte-flow__minimap-desc-${S}`;let nt=i;const yt=()=>f;return t.$$set=Pe=>{"position"in Pe&&n(0,I=Pe.position),"ariaLabel"in Pe&&n(1,A=Pe.ariaLabel),"nodeStrokeColor"in Pe&&n(43,W=Pe.nodeStrokeColor),"nodeColor"in Pe&&n(44,H=Pe.nodeColor),"nodeClass"in Pe&&n(45,E=Pe.nodeClass),"nodeBorderRadius"in Pe&&n(2,Y=Pe.nodeBorderRadius),"nodeStrokeWidth"in Pe&&n(3,b=Pe.nodeStrokeWidth),"bgColor"in Pe&&n(4,X=Pe.bgColor),"maskColor"in Pe&&n(5,D=Pe.maskColor),"maskStrokeColor"in Pe&&n(6,V=Pe.maskStrokeColor),"maskStrokeWidth"in Pe&&n(7,G=Pe.maskStrokeWidth),"width"in Pe&&n(46,Z=Pe.width),"height"in Pe&&n(47,ie=Pe.height),"pannable"in Pe&&n(8,ce=Pe.pannable),"zoomable"in Pe&&n(9,be=Pe.zoomable),"inversePan"in Pe&&n(10,ve=Pe.inversePan),"zoomStep"in Pe&&n(11,le=Pe.zoomStep),"style"in Pe&&n(12,ke=Pe.style),"class"in Pe&&n(13,Ce=Pe.class)},t.$$.update=()=>{t.$$.dirty[0]&6291456|t.$$.dirty[1]&4194304&&n(18,i={x:-R.x/R.zoom,y:-R.y/R.zoom,width:B/R.zoom,height:T/R.zoom}),t.$$.dirty[0]&1835008&&n(48,nt=k.size>0?_h(To(k),i):i),t.$$.dirty[1]&32768&&n(17,o=Z??G8),t.$$.dirty[1]&65536&&n(16,s=ie??q8),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(52,u=nt.width/o),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(51,a=nt.height/s),t.$$.dirty[1]&3145728&&n(14,f=Math.max(u,a)),t.$$.dirty[0]&147456&&n(50,d=f*o),t.$$.dirty[0]&81920&&n(49,h=f*s),t.$$.dirty[0]&16384&&n(15,m=5*f),t.$$.dirty[0]&32768|t.$$.dirty[1]&655360&&n(26,g=nt.x-(d-nt.width)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&393216&&n(25,y=nt.y-(h-nt.height)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&524288&&n(24,v=d+m*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&262144&&n(23,C=h+m*2)},[I,A,Y,b,X,D,V,G,ce,be,ve,le,ke,Ce,f,m,s,o,i,N,k,T,B,C,v,y,g,P,w,ue,Q,$,z,x,ee,ne,K,_e,Le,Ze,De,ct,yt,W,H,E,Z,ie,nt,h,d,a,u,R]}class Q8 extends Be{constructor(e){super(),ze(this,e,J8,Z8,Ye,{position:0,ariaLabel:1,nodeStrokeColor:43,nodeColor:44,nodeClass:45,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:46,height:47,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}const d1=t=>e3(t);function j8(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:o,viewport:s,width:u,height:a,minZoom:f,maxZoom:d,panZoom:h,nodes:m,edges:g,domNode:y,nodeLookup:v,nodeOrigin:C,edgeLookup:N,connectionLookup:k}=gt(),R=S=>{var W,H;const P=he(v),w=d1(S)?S:P.get(S.id),I=w.parentId?r3(w.position,w.measured,w.parentId,P,he(C)):w.position,A={...w,position:I,width:((W=w.measured)==null?void 0:W.width)??w.width,height:((H=w.measured)==null?void 0:H.height)??w.height};return Ir(A)},T=(S,P,w={replace:!1})=>{var W;const I=(W=he(v).get(S))==null?void 0:W.internals.userNode;if(!I)return;const A=typeof P=="function"?P(I):P;w.replace?m.update(H=>H.map(E=>E.id===S?d1(A)?A:{...E,...A}:E)):(Object.assign(I,A),m.update(H=>H))},B=S=>he(v).get(S);return{zoomIn:t,zoomOut:e,getInternalNode:B,getNode:S=>{var P;return(P=B(S))==null?void 0:P.internals.userNode},getNodes:S=>S===void 0?he(m):h1(he(v),S),getEdge:S=>he(N).get(S),getEdges:S=>S===void 0?he(g):h1(he(N),S),setZoom:(S,P)=>{const w=he(h);return w?w.scaleTo(S,{duration:P==null?void 0:P.duration}):Promise.resolve(!1)},getZoom:()=>he(s).zoom,setViewport:async(S,P)=>{const w=he(s),I=he(h);return I?(await I.setViewport({x:S.x??w.x,y:S.y??w.y,zoom:S.zoom??w.zoom},{duration:P==null?void 0:P.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>he(s),setCenter:async(S,P,w)=>{const I=typeof(w==null?void 0:w.zoom)<"u"?w.zoom:he(d),A=he(h);return A?(await A.setViewport({x:he(u)/2-S*I,y:he(a)/2-P*I,zoom:I},{duration:w==null?void 0:w.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitView:n,fitBounds:async(S,P)=>{const w=he(h);if(!w)return Promise.resolve(!1);const I=pa(S,he(u),he(a),he(f),he(d),(P==null?void 0:P.padding)??.1);return await w.setViewport(I,{duration:P==null?void 0:P.duration}),Promise.resolve(!0)},getIntersectingNodes:(S,P=!0,w)=>{const I=Ed(S),A=I?S:R(S);return A?(w||he(m)).filter(W=>{const H=he(v).get(W.id);if(!H||!I&&W.id===S.id)return!1;const E=Ir(H),Y=bo(E,A);return P&&Y>0||Y>=A.width*A.height}):[]},isNodeIntersecting:(S,P,w=!0)=>{const A=Ed(S)?S:R(S);if(!A)return!1;const W=bo(A,P);return w&&W>0||W>=A.width*A.height},deleteElements:async({nodes:S=[],edges:P=[]})=>{const{nodes:w,edges:I}=await hh({nodesToRemove:S,edgesToRemove:P,nodes:he(m),edges:he(g),onBeforeDelete:he(i)});return w&&m.update(A=>A.filter(W=>!w.some(({id:H})=>H===W.id))),I&&g.update(A=>A.filter(W=>!I.some(({id:H})=>H===W.id))),{deletedNodes:w,deletedEdges:I}},screenToFlowPosition:(S,P={snapToGrid:!0})=>{const w=he(y);if(!w)return S;const I=P.snapToGrid?he(o):!1,{x:A,y:W,zoom:H}=he(s),{x:E,y:Y}=w.getBoundingClientRect(),b={x:S.x-E,y:S.y-Y};return Po(b,[A,W,H],I!==null,I||[1,1])},flowToScreenPosition:S=>{const P=he(y);if(!P)return S;const{x:w,y:I,zoom:A}=he(s),{x:W,y:H}=P.getBoundingClientRect(),E=yh(S,[w,I,A]);return{x:E.x+W,y:E.y+H}},toObject:()=>({nodes:he(m).map(S=>({...S,position:{...S.position},data:{...S.data}})),edges:he(g).map(S=>({...S})),viewport:{...he(s)}}),updateNode:T,updateNodeData:(S,P,w)=>{var W;const I=(W=he(v).get(S))==null?void 0:W.internals.userNode;if(!I)return;const A=typeof P=="function"?P(I):P;I.data=w!=null&&w.replace?A:{...I.data,...A},m.update(H=>H)},getNodesBounds:S=>{const P=he(v),w=he(C);return t3(S,{nodeLookup:P,nodeOrigin:w})},getHandleConnections:({type:S,id:P,nodeId:w})=>{var I;return Array.from(((I=he(k).get(`${w}-${S}-${P??null}`))==null?void 0:I.values())??[])},viewport:s}}function h1(t,e){var i;const n=[];for(const o of e){const s=t.get(o);if(s){const u="internals"in s?(i=s.internals)==null?void 0:i.userNode:s;n.push(u)}}return n}function $8(t){let e,n,i;const o=t[34].default,s=Xt(o,t,t[33],null);return{c(){e=Ee("div"),s&&s.c(),O(e,"class",n=ut(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),O(e,"style",t[3])},m(u,a){oe(u,e,a),s&&s.m(e,null),t[35](e),i=!0},p(u,a){s&&s.p&&(!i||a[1]&4)&&xt(s,o,u,u[33],i?Ft(o,u[33],a,null):Vt(u[33]),null),(!i||a[0]&19&&n!==(n=ut(["svelte-flow__resize-control","nodrag",...u[4],u[0],u[1]])))&&O(e,"class",n),(!i||a[0]&8)&&O(e,"style",u[3])},i(u){i||(se(s,u),i=!0)},o(u){fe(s,u),i=!1},d(u){u&&re(e),s&&s.d(u),t[35](null)}}}function e7(t,e,n){let i,o,s,u,a,f,d,h,m,g,y,v,C,N,k,R,T,{$$slots:B={},$$scope:S}=e,{nodeId:P=void 0}=e,{position:w=void 0}=e,{variant:I=uo.Handle}=e,{color:A=void 0}=e,{minWidth:W=10}=e,{minHeight:H=10}=e,{maxWidth:E=Number.MAX_VALUE}=e,{maxHeight:Y=Number.MAX_VALUE}=e,{keepAspectRatio:b=!1}=e,{shouldResize:X=void 0}=e,{onResizeStart:D=void 0}=e,{onResize:V=void 0}=e,{onResizeEnd:G=void 0}=e,{style:Z=""}=e,{class:ie=""}=e;const{nodeLookup:ce,snapGrid:be,viewport:ve,nodes:le,nodeOrigin:ke,domNode:Ce}=gt();pe(t,ce,x=>n(38,C=x)),pe(t,be,x=>n(41,R=x)),pe(t,ve,x=>n(42,T=x)),pe(t,le,x=>n(37,v=x)),pe(t,ke,x=>n(40,k=x)),pe(t,Ce,x=>n(39,N=x));const ue=ho("svelteflow__node_id");let Q,$=null;Rr(()=>(Q&&n(24,$=q3({domNode:Q,nodeId:a,getStoreItems:()=>({nodeLookup:C,transform:[T.x,T.y,T.zoom],snapGrid:R??void 0,snapToGrid:!!R,nodeOrigin:k,paneDomNode:N}),onChange:(x,ee)=>{var K,_e;const ne=(K=C.get(a))==null?void 0:K.internals.userNode;if(ne){x.x!==void 0&&x.y!==void 0&&(ne.position={x:x.x,y:x.y}),x.width!==void 0&&x.height!==void 0&&(ne.width=x.width,ne.height=x.height);for(const Le of ee){const Ze=(_e=C.get(Le.id))==null?void 0:_e.internals.userNode;Ze&&(Ze.position=Le.position)}le.set(v)}}})),()=>{$==null||$.destroy()}));function z(x){Tn[x?"unshift":"push"](()=>{Q=x,n(2,Q)})}return t.$$set=x=>{"nodeId"in x&&n(11,P=x.nodeId),"position"in x&&n(12,w=x.position),"variant"in x&&n(0,I=x.variant),"color"in x&&n(13,A=x.color),"minWidth"in x&&n(14,W=x.minWidth),"minHeight"in x&&n(15,H=x.minHeight),"maxWidth"in x&&n(16,E=x.maxWidth),"maxHeight"in x&&n(17,Y=x.maxHeight),"keepAspectRatio"in x&&n(18,b=x.keepAspectRatio),"shouldResize"in x&&n(19,X=x.shouldResize),"onResizeStart"in x&&n(20,D=x.onResizeStart),"onResize"in x&&n(21,V=x.onResize),"onResizeEnd"in x&&n(22,G=x.onResizeEnd),"style"in x&&n(23,Z=x.style),"class"in x&&n(1,ie=x.class),"$$scope"in x&&n(33,S=x.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&16384&&n(28,i=W??10),t.$$.dirty[0]&32768&&n(27,o=H??10),t.$$.dirty[0]&65536&&n(26,s=E??Number.MAX_VALUE),t.$$.dirty[0]&131072&&n(25,u=Y??Number.MAX_VALUE),t.$$.dirty[0]&2048&&(a=typeof P=="string"?P:ue),t.$$.dirty[0]&1&&n(32,f=I===uo.Line?"right":"bottom-right"),t.$$.dirty[0]&4096|t.$$.dirty[1]&2&&n(29,d=w??f),t.$$.dirty[0]&536870912&&n(4,h=d.split("-")),t.$$.dirty[0]&1&&n(31,m=I===uo.Line?"border-color":"background-color"),t.$$.dirty[0]&8388608&&n(30,g=Z??""),t.$$.dirty[0]&1073750016|t.$$.dirty[1]&1&&n(3,y=A?`${g} ${m}: ${A};`:g),t.$$.dirty[0]&1065091072&&($==null||$.update({controlPosition:d,boundaries:{minWidth:i,minHeight:o,maxWidth:s,maxHeight:u},keepAspectRatio:!!b,onResizeStart:D,onResize:V,onResizeEnd:G,shouldResize:X}))},[I,ie,Q,y,h,ce,be,ve,le,ke,Ce,P,w,A,W,H,E,Y,b,X,D,V,G,Z,$,u,s,o,i,d,g,m,f,S,B,z]}class t7 extends Be{constructor(e){super(),ze(this,e,e7,$8,Ye,{nodeId:11,position:12,variant:0,color:13,minWidth:14,minHeight:15,maxWidth:16,maxHeight:17,keepAspectRatio:18,shouldResize:19,onResizeStart:20,onResize:21,onResizeEnd:22,style:23,class:1},null,[-1,-1])}}function n7(){const{domNode:t,updateNodeInternals:e}=gt();return i=>{const o=Array.isArray(i)?i:[i],s=new Map;o.forEach(u=>{var f;const a=(f=he(t))==null?void 0:f.querySelector(`.svelte-flow__node[data-id="${u}"]`);a&&s.set(u,{id:u,nodeElement:a,force:!0})}),requestAnimationFrame(()=>e(s))}}function i7(){const{connection:t}=gt();return t}function r7(){const{nodes:t}=gt();return t}function Fh(){const{edges:t}=gt();return t}var Ku={local:{},session:{}};function o7(t){return t==="local"?localStorage:sessionStorage}function Sa(t,e,n){var i,o,s,u,a,f,d,h;const m=(i=void 0)!=null?i:JSON,g=(o=void 0)!=null?o:"local",y=(s=void 0)!=null?s:!0,v=(a=(u=void 0)!=null?u:void 0)!=null?a:P=>console.error(`Error when writing value from persisted store "${t}" to ${g}`,P),C=(f=void 0)!=null?f:(P,w)=>console.error(`Error when parsing ${P?'"'+P+'"':"value"} from persisted store "${t}"`,w),N=(d=void 0)!=null?d:P=>P,k=(h=void 0)!=null?h:P=>P,R=typeof window<"u"&&typeof document<"u",T=R?o7(g):null;function B(P,w){const I=k(w);try{T==null||T.setItem(P,m.stringify(I))}catch(A){v(A)}}function S(){function P(W){try{return m.parse(W)}catch(H){C(W,H)}}const w=T==null?void 0:T.getItem(t);if(w==null)return e;const I=P(w);return I==null?e:N(I)}if(!Ku[g][t]){const P=S(),w=He(P,W=>{if(R&&g=="local"&&y){const H=E=>{if(E.key===t&&E.newValue){let Y;try{Y=m.parse(E.newValue)}catch(X){C(E.newValue,X);return}const b=N(Y);W(b)}};return window.addEventListener("storage",H),()=>window.removeEventListener("storage",H)}}),{subscribe:I,set:A}=w;Ku[g][t]={set(W){A(W),B(t,W)},update(W){return w.update(H=>{const E=W(H);return B(t,E),E})},reset(){this.set(e)},subscribe:I}}return Ku[g][t]}const Ln=[{id:crypto.randomUUID().toString(),type:"default",data:{label:"Patch",connection:"",inputs:[],outputs:["ethernet","sdi","audio","power"],group:!1},position:{x:0,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Canvas",inputs:["dante","dmx","ethernet","sdi","audio","midi","osc","power"],outputs:["dante","dmx","ethernet","sdi","audio","midi","osc"]},dragHandle:".drag-dots",position:{x:0,y:100}}],aa=[{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Ln[0].id,sourceHandle:"ethernet",target:Ln[1].id,targetHandle:"ethernet"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Ln[0].id,sourceHandle:"sdi",target:Ln[1].id,targetHandle:"sdi"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Ln[0].id,sourceHandle:"audio",target:Ln[1].id,targetHandle:"audio"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:Ln[0].id,sourceHandle:"power",target:Ln[1].id,targetHandle:"power"}],l7=1,zl=1,s7={version:l7,theme:"dark"},Zu=Sa("preferences",structuredClone(s7)),xh={version:zl,updated:!1,title:"PatchCanvas",nodes:Ln,edges:aa},gn=Sa("current",structuredClone(xh)),u7={},Gu=Sa("saves",structuredClone(u7)),fa=He();function a7(t){let e,n,i,o,s,u,a,f;return{c(){e=Ee("p"),e.textContent="Drag to the canvas!",n=Ie(),i=Ee("div"),o=Ee("div"),o.textContent="node",s=Ie(),u=Ee("div"),u.textContent="group",O(e,"class","svelte-1v809mg"),O(o,"draggable",!0),O(o,"class","svelte-1v809mg"),O(u,"draggable",!0),O(u,"class","svelte-1v809mg"),O(i,"class","nodes svelte-1v809mg")},m(d,h){oe(d,e,h),oe(d,n,h),oe(d,i,h),we(i,o),we(i,s),we(i,u),a||(f=[We(o,"dragstart",t[1]),We(u,"dragstart",t[2])],a=!0)},p:Ne,i:Ne,o:Ne,d(d){d&&(re(e),re(n),re(i)),a=!1,At(f)}}}function f7(t){const e=(o,s)=>{if(!o.dataTransfer)return null;o.dataTransfer.setData("application/patchcanvasnode",s),o.dataTransfer.effectAllowed="move"};return[e,o=>e(o,JSON.stringify({inputs:[],outputs:[]})),o=>e(o,JSON.stringify({group:!0}))]}class c7 extends Be{constructor(e){super(),ze(this,e,f7,a7,Ye,{})}}const d7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-audio-input-xlr"
	viewBox="0 -5 24 34"
	fill="currentColor"
	><path
		d="M12 4C16.41 4 20 7.59 20 12S16.41 20 12 20 4 16.41 4 12 7.59 4 12 4M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M13.5 16.5C13.5 15.67 12.83 15 12 15S10.5 15.67 10.5 16.5C10.5 17.33 11.17 18 12 18S13.5 17.33 13.5 16.5M9 12C9 11.17 8.33 10.5 7.5 10.5S6 11.17 6 12 6.67 13.5 7.5 13.5 9 12.83 9 12M18 12C18 11.17 17.33 10.5 16.5 10.5C15.67 10.5 15 11.17 15 12S15.67 13.5 16.5 13.5C17.33 13.5 18 12.83 18 12Z"
	/></svg
>
`,h7=`<svg
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	viewBox="350 -15 800 600"
	preserveAspectRatio="xMidYMid meet"
>
	<g
		transform="translate(0,576) scale(0.1,-0.1)"
		fill="currentColor"
		stroke="none"
	>
		<path
			d="M7125 4624 c-16 -2 -73 -9 -125 -15 -675 -76 -1339 -406 -1816 -902
-532 -551 -804 -1238 -804 -2029 l0 -78 214 0 213 0 6 203 c10 340 66 595 197
898 183 423 517 812 925 1079 141 92 417 228 570 280 295 101 591 150 908 150
l127 0 0 210 0 210 -192 -1 c-106 -1 -206 -4 -223 -5z"
		/>
		<path
			d="M7260 3773 c-786 -55 -1456 -474 -1795 -1125 -145 -279 -211 -536
-222 -870 l-6 -178 861 0 862 0 0 225 0 225 -631 0 -632 0 7 40 c12 73 67 233
116 335 189 392 539 697 976 848 92 32 272 77 309 77 13 0 15 -99 15 -875 l0
-875 210 0 210 0 0 1090 0 1090 -117 -2 c-65 -1 -138 -3 -163 -5z"
		/>
		<path
			d="M4380 1130 l0 -130 215 0 215 0 0 130 0 130 -215 0 -215 0 0 -130z"
		/>
		<path
			d="M5240 1130 l0 -130 1155 0 1155 0 0 130 0 130 -1155 0 -1155 0 0
-130z"
		/>
	</g>
</svg>
`,g7=`<svg fill="currentColor" viewBox="-2 -5 24 34" xmlns="http://www.w3.org/2000/svg"
	><title>lightbulb</title><path
		d="M12,2A7,7,0,0,0,8,14.74V17a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V14.74A7,7,0,0,0,12,2ZM9,21a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V20H9Z"
	/></svg
>
`,m7=`<svg
	viewBox="1 -3 24 28"
	id="Layer_1"
	data-name="Layer 1"
	xmlns="http://www.w3.org/2000/svg"
	><defs
		><style>
			.cls-1 {
				fill: none;
				stroke: currentColor;
				stroke-miterlimit: 10;
				stroke-width: 1.91px;
			}
		</style></defs
	><polygon
		class="cls-1"
		points="5.32 6.27 5.32 13.91 7.23 13.91 7.23 15.82 10.09 15.82 10.09 17.73 13.91 17.73 13.91 15.82 16.77 15.82 16.77 13.91 18.68 13.91 18.68 6.27 5.32 6.27"
	/><line class="cls-1" x1="8.18" y1="9.14" x2="8.18" y2="6.27" /><line
		class="cls-1"
		x1="12"
		y1="9.14"
		x2="12"
		y2="6.27"
	/><line class="cls-1" x1="15.82" y1="9.14" x2="15.82" y2="6.27" /></svg
>
`,_7=`<svg
	viewBox="0 -5 24 34"
	xmlns="http://www.w3.org/2000/svg"
	fill="currentColor"
	><path
		d="m12 2a10 10 0 0 1 10 10 10 10 0 0 1 -10 10 10 10 0 0 1 -10-10 10 10 0 0 1 10-10m8.18 10c0-3.82-2.63-7.04-6.18-7.93v1.93h-4v-1.93c-3.55.89-6.18 4.11-6.18 7.93a8.18 8.18 0 0 0 8.18 8.18 8.18 8.18 0 0 0 8.18-8.18m-13.18-1.36a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36c-.75 0-1.36-.61-1.36-1.36s.61-1.36 1.36-1.36m10 0a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36m-8.64 3.63a1.37 1.37 0 0 1 1.37 1.37c0 .75-.61 1.36-1.37 1.36a1.36 1.36 0 0 1 -1.36-1.36c0-.76.61-1.37 1.36-1.37m7.28 0c.75 0 1.36.61 1.36 1.37a1.36 1.36 0 0 1 -1.36 1.36c-.76 0-1.37-.61-1.37-1.36a1.37 1.37 0 0 1 1.37-1.37m-3.64 1.37a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36z"
	/></svg
>
`,y7=`<svg
  viewBox="-25 -128 512 750"
  xmlns="http://www.w3.org/2000/svg"
  fill="currentColor"
>
  <polygon
    points="385.128 118.178 359.868 137.822 451.732 255.944 359.813 374.18 385.076 393.82 492.268 255.94 385.128 118.178"
  />
  <polygon
    points="119.814 118.177 12.621 255.993 119.759 393.819 145.022 374.181 53.156 255.999 145.074 137.823 119.814 118.177"
  />
  <rect
    width="32"
    height="32"
    x="160"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="240"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="320"
    y="240"
  />
</svg>
`,w7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-power-plug-outline"
	viewBox="1 -4 24 30"
	fill="currentColor"
	><path
		d="M16 7V3H14V7H10V3H8V7C7 7 6 8 6 9V14.5L9.5 18V21H14.5V18L18 14.5V9C18 8 17 7 16 7M16 13.67L13.09 16.59L12.67 17H11.33L10.92 16.59L8 13.67V9.09C8 9.06 8.06 9 8.09 9H15.92C15.95 9 16 9.06 16 9.09V13.67Z"
	/></svg
>
`,b7=`<svg viewBox="-6 -16 54 80" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\r
  <title>output</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none" />\r
    </g>\r
    <g id="Layer_6" data-name="Layer 6">\r
      <g>\r
        <path\r
          d="M45.4,22.6l-7.9-8a2.1,2.1,0,0,0-2.7-.2,1.9,1.9,0,0,0-.2,3L39.2,22H16a2,2,0,0,0,0,4H39.2l-4.6,4.6a1.9,1.9,0,0,0,.2,3,2.1,2.1,0,0,0,2.7-.2l7.9-8A1.9,1.9,0,0,0,45.4,22.6Z"\r
        />\r
        <path\r
          d="M28,42H24A18,18,0,0,1,24,6h4a2,2,0,0,0,1.4-.6A2,2,0,0,0,30,4a2.4,2.4,0,0,0-.2-.9A2,2,0,0,0,28,2H23.8a22,22,0,0,0,.1,44H28a2,2,0,0,0,1.4-.6l.4-.5A2.4,2.4,0,0,0,30,44,2,2,0,0,0,28,42Z"\r
        />\r
      </g>\r
    </g>\r
  </g>\r
</svg>\r
`,g1=["dante","dmx","sdi","ethernet","audio","midi","osc","power"],sn={dante:["red",1,h7],dmx:["dodgerblue",2,g7],sdi:["limegreen",3,b7],ethernet:["gold",4,m7],audio:["orange",5,d7],midi:["hotpink",6,_7],osc:["magenta",7,y7],power:["var(--font-colour)",8,w7]},ko=Object.entries(sn);function p7(t,e){let n=g1.indexOf(t),i=g1.indexOf(e);return Math.sign(n-i)}const v7='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 103.38" fill="currentColor" style="enable-background:new 0 0 122.88 103.38" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"/></g></svg>';function m1(t,e,n){const i=t.slice();return i[16]=e[n][0],i[17]=e[n][1],i}function _1(t){let e,n,i=t[17][2]+"",o,s,u,a,f;function d(){return t[9](t[16])}function h(){return t[10](t[16])}function m(...g){return t[11](t[16],...g)}return{c(){e=Ee("div"),n=Ee("div"),o=Ie(),s=rt(t[16]),u=Ie(),O(n,"class","icon"),O(e,"class","protocol svelte-16ekx3j"),Xe(e,"--protocol",t[17][0]),O(e,"draggable",!0)},m(g,y){oe(g,e,y),we(e,n),n.innerHTML=i,we(e,o),we(e,s),we(e,u),a||(f=[We(e,"mouseenter",d),We(e,"mouseleave",h),We(e,"dragstart",m),We(e,"dragend",t[8])],a=!0)},p(g,y){t=g},d(g){g&&re(e),a=!1,At(f)}}}function k7(t){let e,n,i,o,s,u,a,f,d,h=Dt(ko),m=[];for(let g=0;g<h.length;g+=1)m[g]=_1(m1(t,h,g));return{c(){e=Ee("p"),e.textContent="Protocols",n=Ie(),i=Ee("div");for(let g=0;g<m.length;g+=1)m[g].c();o=Ie(),s=Ee("div"),u=new cb(!1),a=rt(" erase"),O(e,"class","svelte-16ekx3j"),O(i,"class","protocols svelte-16ekx3j"),u.a=a,O(s,"class","eraser svelte-16ekx3j"),O(s,"draggable",!0)},m(g,y){oe(g,e,y),oe(g,n,y),oe(g,i,y);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(i,null);oe(g,o,y),oe(g,s,y),u.m(v7,s),we(s,a),t[12](s),f||(d=[We(s,"mouseenter",t[2]),We(s,"mouseleave",t[3]),We(s,"dragstart",t[13]),We(s,"dragend",t[8])],f=!0)},p(g,[y]){if(y&368){h=Dt(ko);let v;for(v=0;v<h.length;v+=1){const C=m1(g,h,v);m[v]?m[v].p(C,y):(m[v]=_1(C),m[v].c(),m[v].m(i,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=h.length}},i:Ne,o:Ne,d(g){g&&(re(e),re(n),re(i),re(o),re(s)),D1(m,g),t[12](null),f=!1,At(d)}}}function C7(t,e,n){let i;const o=Fh();pe(t,o,T=>n(15,i=T));function s(){for(let T of i)T.class+="fade-out";o.set(i);for(let T of document.querySelectorAll(".svelte-flow__node .label"))T.classList.add("fade-out");for(let T of document.querySelectorAll(".svelte-flow__handle"))T.classList.add("highlight")}function u(){var T;for(let B of i)B.class=(T=B.class)==null?void 0:T.replace("fade-out","");o.set(i);for(let B of document.querySelectorAll(".svelte-flow__node .label"))B.classList.remove("fade-out");for(let B of document.querySelectorAll(".svelte-flow__handle"))B.classList.remove("highlight")}function a(T){for(let B of i)B.sourceHandle===T?B.class+="highlight":B.class+="fade-out";o.set(i);for(let B of document.querySelectorAll(".svelte-flow__handle"))B.getAttribute("data-handleid")===T?B.classList.add("highlight"):B.classList.add("fade-out")}function f(T){var B,S;T=T;for(let P of i)P.sourceHandle===T?P.class=(B=P.class)==null?void 0:B.replace("highlight",""):P.class=(S=P.class)==null?void 0:S.replace("fade-out","");o.set(i);for(let P of document.querySelectorAll(".svelte-flow__handle"))P.getAttribute("data-handleid")===T?P.classList.remove("highlight"):P.classList.remove("fade-out")}let d;const h=(T,B)=>{if(!T.dataTransfer)return null;T.dataTransfer.setData(`patchcanvasprotocol/${B}`,""),T.dataTransfer.effectAllowed="move",d=T.target.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",d.style.setProperty("--connection",sn[B][0]),document.body.appendChild(d),T.dataTransfer.setDragImage(d,-16,0)};let m;const g=T=>{if(!T.dataTransfer)return null;T.dataTransfer.setData("application/patchcanvaseraser",""),T.dataTransfer.effectAllowed="move",d=m.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",document.body.appendChild(d),T.dataTransfer.setDragImage(d,-16,0)},y=()=>{d.remove()},v=T=>a(T),C=T=>f(T),N=(T,B)=>h(B,T);function k(T){Tn[T?"unshift":"push"](()=>{m=T,n(0,m)})}return[m,o,s,u,a,f,h,g,y,v,C,N,k,T=>g(T)]}class E7 extends Be{constructor(e){super(),ze(this,e,C7,k7,Ye,{})}}function y1(t){let e,n,i;return{c(){e=Ee("button"),e.textContent=" Rename"},m(o,s){oe(o,e,s),n||(i=We(e,"click",t[4]),n=!0)},p:Ne,d(o){o&&re(e),n=!1,i()}}}function w1(t){let e,n=t[0]?" Protocols":" Canvases",i,o,s;return{c(){e=Ee("button"),i=rt(n)},m(u,a){oe(u,e,a),we(e,i),o||(s=We(e,"click",t[5]),o=!0)},p(u,a){a&1&&n!==(n=u[0]?" Protocols":" Canvases")&&qt(i,n)},d(u){u&&re(e),o=!1,s()}}}function S7(t){let e,n,i=t[1].title+"",o,s,u,a,f,d,h,m,g=t[2]===void 0&&y1(t),y=t[2]===void 0&&w1(t);return{c(){e=Ee("div"),n=Ee("h1"),o=rt(i),s=Ie(),g&&g.c(),u=Ie(),a=Ee("div"),y&&y.c(),f=Ie(),d=Ee("button"),d.textContent=" Save",Xe(n,"--window-width",t[3]),O(e,"class","title svelte-1cv7xq5"),O(a,"class","buttons svelte-1cv7xq5")},m(v,C){oe(v,e,C),we(e,n),we(n,o),we(e,s),g&&g.m(e,null),oe(v,u,C),oe(v,a,C),y&&y.m(a,null),we(a,f),we(a,d),h||(m=We(d,"click",t[6]),h=!0)},p(v,[C]){C&2&&i!==(i=v[1].title+"")&&qt(o,i),v[2]===void 0?g?g.p(v,C):(g=y1(v),g.c(),g.m(e,null)):g&&(g.d(1),g=null),v[2]===void 0?y?y.p(v,C):(y=w1(v),y.c(),y.m(a,f)):y&&(y.d(1),y=null)},i:Ne,o:Ne,d(v){v&&(re(e),re(u),re(a)),g&&g.d(),y&&y.d(),h=!1,m()}}}function A7(t,e,n){let i,o;pe(t,gn,h=>n(1,i=h)),pe(t,fa,h=>n(2,o=h));let{showCanvases:s}=e;const u=window.innerWidth/10;function a(){let h=prompt(void 0,i.title);h!==null&&zn(gn,i.title=h,i)}const f=()=>n(0,s=!s),d=()=>ok();return t.$$set=h=>{"showCanvases"in h&&n(0,s=h.showCanvases)},[s,i,o,u,a,f,d]}class M7 extends Be{constructor(e){super(),ze(this,e,A7,S7,Ye,{showCanvases:0})}}var io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ss={};Object.defineProperty(ss,"__esModule",{value:!0});function Uh(t,e){var n=document.createElement("a");n.href=e,n.download=t,n.click()}ss.downloadUrl=Uh;function Kh(t,e){var n=URL.createObjectURL(e);Uh(t,n),URL.revokeObjectURL(n)}ss.downloadBlob=Kh;function T7(t,e){Kh(t,new Blob([e],{type:"octet/stream"}))}var P7=ss.downloadText=T7;function b1(t,e,n){const i=t.slice();return i[15]=e[n][0],i[16]=e[n][1],i}function p1(t){let e;return{c(){e=Ee("p"),e.innerHTML="No canvases saved<br/>(on this browser)",O(e,"class","svelte-x4899p")},m(n,i){oe(n,e,i)},d(n){n&&re(e)}}}function v1(t,e){let n,i,o,s=e[16].title+"",u,a,f,d,h=e[16].version+"",m,g,y,v,C=e[16].nodes.length+"",N,k,R=e[16].edges.length+"",T,B,S,P,w,I,A,W,H,E,Y,b;function X(){return e[11](e[16])}function D(){return e[12](e[16])}function V(){return e[13](e[15])}return{key:t,first:null,c(){n=Ee("div"),i=Ee("div"),o=Ee("span"),u=rt(s),a=rt(""),f=Ee("span"),d=rt("(v"),m=rt(h),g=rt(")"),y=Ie(),v=Ee("div"),N=rt(C),k=rt(" nodes, "),T=rt(R),B=rt(" patches"),S=Ie(),P=Ee("button"),P.textContent="Load",w=Ie(),I=Ee("button"),I.textContent="Export",A=Ie(),W=Ee("button"),W.textContent="Delete",H=Ie(),O(o,"class","name"),O(f,"class","version"),O(i,"class","title"),O(v,"class","contents"),O(n,"class",E="save "+(e[15]===e[4].title?"current":"")+" svelte-x4899p"),this.first=n},m(G,Z){oe(G,n,Z),we(n,i),we(i,o),we(o,u),we(i,a),we(i,f),we(f,d),we(f,m),we(f,g),we(n,y),we(n,v),we(v,N),we(v,k),we(v,T),we(v,B),we(n,S),we(n,P),we(n,w),we(n,I),we(n,A),we(n,W),we(n,H),Y||(b=[We(P,"click",X),We(I,"click",D),We(W,"click",V)],Y=!0)},p(G,Z){e=G,Z&8&&s!==(s=e[16].title+"")&&qt(u,s),Z&8&&h!==(h=e[16].version+"")&&qt(m,h),Z&8&&C!==(C=e[16].nodes.length+"")&&qt(N,C),Z&8&&R!==(R=e[16].edges.length+"")&&qt(T,R),Z&24&&E!==(E="save "+(e[15]===e[4].title?"current":"")+" svelte-x4899p")&&O(n,"class",E)},d(G){G&&re(n),Y=!1,At(b)}}}function I7(t){let e,n,i,o,s,u,a,f,d,h,m,g,y,v,C,N=t[4].title+"",k,R,T,B,S=t[4].version+"",P,w,I,A,W=t[4].nodes.length+"",H,E,Y=t[4].edges.length+"",b,X,D,V,G,Z,ie,ce,be,ve,le=Object.keys(t[3]).length===0,ke,Ce=[],ue=new Map,Q,$,z=le&&p1(),x=Dt(Object.entries(t[3]));const ee=ne=>ne[15];for(let ne=0;ne<x.length;ne+=1){let K=b1(t,x,ne),_e=ee(K);ue.set(_e,Ce[ne]=v1(_e,K))}return{c(){e=Ee("h1"),e.textContent=" Canvases",n=Ie(),i=Ee("div"),o=Ee("button"),o.textContent=" New",s=Ie(),u=Ee("button"),a=rt(` Import\r
		`),f=Ee("input"),d=Ie(),h=Ee("h2"),h.textContent="Loaded",m=Ie(),g=Ee("div"),y=Ee("div"),v=Ee("div"),C=Ee("span"),k=rt(N),R=rt(""),T=Ee("span"),B=rt("(v"),P=rt(S),w=rt(")"),I=Ie(),A=Ee("div"),H=rt(W),E=rt(" nodes, "),b=rt(Y),X=rt(" patches"),D=Ie(),V=Ee("button"),V.textContent=" Save",G=Ie(),Z=Ee("button"),Z.textContent=" Export",ie=Ie(),ce=Ee("h2"),ce.textContent="Saved",be=Ie(),ve=Ee("div"),z&&z.c(),ke=Ie();for(let ne=0;ne<Ce.length;ne+=1)Ce[ne].c();O(e,"class","svelte-x4899p"),O(f,"type","file"),O(f,"accept",".patch"),O(i,"class","buttons svelte-x4899p"),O(h,"class","svelte-x4899p"),O(C,"class","name"),O(T,"class","version"),O(v,"class","title"),O(A,"class","contents"),O(y,"class","save current svelte-x4899p"),O(g,"class","loaded"),O(ce,"class","svelte-x4899p"),O(ve,"class","saves svelte-x4899p")},m(ne,K){oe(ne,e,K),oe(ne,n,K),oe(ne,i,K),we(i,o),we(i,s),we(i,u),we(u,a),we(u,f),oe(ne,d,K),oe(ne,h,K),oe(ne,m,K),oe(ne,g,K),we(g,y),we(y,v),we(v,C),we(C,k),we(v,R),we(v,T),we(T,B),we(T,P),we(T,w),we(y,I),we(y,A),we(A,H),we(A,E),we(A,b),we(A,X),we(y,D),we(y,V),we(y,G),we(y,Z),oe(ne,ie,K),oe(ne,ce,K),oe(ne,be,K),oe(ne,ve,K),z&&z.m(ve,null),we(ve,ke);for(let _e=0;_e<Ce.length;_e+=1)Ce[_e]&&Ce[_e].m(ve,null);Q||($=[We(o,"click",Gh),We(f,"change",t[8]),We(f,"change",t[5]),We(V,"click",t[9]),We(Z,"click",t[10])],Q=!0)},p(ne,[K]){K&16&&N!==(N=ne[4].title+"")&&qt(k,N),K&16&&S!==(S=ne[4].version+"")&&qt(P,S),K&16&&W!==(W=ne[4].nodes.length+"")&&qt(H,W),K&16&&Y!==(Y=ne[4].edges.length+"")&&qt(b,Y),K&8&&(le=Object.keys(ne[3]).length===0),le?z||(z=p1(),z.c(),z.m(ve,ke)):z&&(z.d(1),z=null),K&217&&(x=Dt(Object.entries(ne[3])),Ce=xi(Ce,K,ee,1,ne,x,ue,ve,wb,v1,null,b1))},i:Ne,o:Ne,d(ne){ne&&(re(e),re(n),re(i),re(d),re(h),re(m),re(g),re(ie),re(ce),re(be),re(ve)),z&&z.d();for(let K=0;K<Ce.length;K+=1)Ce[K].d();Q=!1,At($)}}}function O7(t,e,n){let i,o;pe(t,Gu,R=>n(3,i=R)),pe(t,gn,R=>n(4,o=R));let s;function u(){if(!s[0])return;let R=new FileReader;R.readAsText(s[0]),R.onload=T=>{var S;let B=JSON.parse((S=T.target)==null?void 0:S.result);a(B)}}function a(R){console.log("Loading",R.title),zn(gn,o=structuredClone(R),o),zn(gn,o.updated=!0,o)}function f(R){P7(o.title+".patch",JSON.stringify(R))}function d(R){he(fa)===void 0?zn(Gu,i[R.title]=structuredClone(R),i):h(structuredClone(R))}function h(R){const T=he(fa);if(T===void 0)return;switch(T){case"wpbc":const w=window.prompt("Password:");if(w===null||w!=="wpbc1")return;break}const B=new File([JSON.stringify(R)],R.title+".patch"),S=new FormData;S.append(T,B);const P=new XMLHttpRequest;P.open("POST","https://anderserver.ddns.net/patchcanvas/upload"),P.onreadystatechange=w=>P.responseText&&console.log(P.responseText),P.send(S)}function m(R){delete i[R],Gu.set(i)}function g(){s=this.files,n(2,s)}return[a,d,s,i,o,u,f,m,g,()=>d(o),()=>f(o),R=>a(R),R=>f(R),R=>m(R)]}class N7 extends Be{constructor(e){super(),ze(this,e,O7,I7,Ye,{load:0,store:1})}get load(){return this.$$.ctx[0]}get store(){return this.$$.ctx[1]}}function L7(t,e,n){const i=t.slice();return i[0]=e[n][0],i[1]=e[n][1],i}function D7(t){let e,n,i=t[1][2]+"",o,s,u;return{c(){e=Ee("div"),n=Ee("div"),o=Ie(),s=rt(t[0]),u=Ie(),O(n,"class","icon"),O(e,"class","protocol svelte-1d6dozh"),Xe(e,"--protocol",t[1][0])},m(a,f){oe(a,e,f),we(e,n),n.innerHTML=i,we(e,o),we(e,s),we(e,u)},p:Ne,d(a){a&&re(e)}}}function R7(t){let e,n,i,o=Dt(ko),s=[];for(let u=0;u<o.length;u+=1)s[u]=D7(L7(t,o,u));return{c(){e=Ee("p"),e.textContent="Key",n=Ie(),i=Ee("div");for(let u=0;u<s.length;u+=1)s[u].c();O(e,"class","svelte-1d6dozh"),O(i,"class","protocols svelte-1d6dozh")},m(u,a){oe(u,e,a),oe(u,n,a),oe(u,i,a);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,null)},p:Ne,i:Ne,o:Ne,d(u){u&&(re(e),re(n),re(i)),D1(s,u)}}}class H7 extends Be{constructor(e){super(),ze(this,e,null,R7,Ye,{})}}var Zh={exports:{}};(function(t,e){var n=function(){var i=function(S,P){var w=236,I=17,A=S,W=s[P],H=null,E=0,Y=null,b=[],X={},D=function(Q,$){E=A*4+17,H=function(z){for(var x=new Array(z),ee=0;ee<z;ee+=1){x[ee]=new Array(z);for(var ne=0;ne<z;ne+=1)x[ee][ne]=null}return x}(E),V(0,0),V(E-7,0),V(0,E-7),ie(),Z(),be(Q,$),A>=7&&ce(Q),Y==null&&(Y=ke(A,W,b)),ve(Y,$)},V=function(Q,$){for(var z=-1;z<=7;z+=1)if(!(Q+z<=-1||E<=Q+z))for(var x=-1;x<=7;x+=1)$+x<=-1||E<=$+x||(0<=z&&z<=6&&(x==0||x==6)||0<=x&&x<=6&&(z==0||z==6)||2<=z&&z<=4&&2<=x&&x<=4?H[Q+z][$+x]=!0:H[Q+z][$+x]=!1)},G=function(){for(var Q=0,$=0,z=0;z<8;z+=1){D(!0,z);var x=a.getLostPoint(X);(z==0||Q>x)&&(Q=x,$=z)}return $},Z=function(){for(var Q=8;Q<E-8;Q+=1)H[Q][6]==null&&(H[Q][6]=Q%2==0);for(var $=8;$<E-8;$+=1)H[6][$]==null&&(H[6][$]=$%2==0)},ie=function(){for(var Q=a.getPatternPosition(A),$=0;$<Q.length;$+=1)for(var z=0;z<Q.length;z+=1){var x=Q[$],ee=Q[z];if(H[x][ee]==null)for(var ne=-2;ne<=2;ne+=1)for(var K=-2;K<=2;K+=1)ne==-2||ne==2||K==-2||K==2||ne==0&&K==0?H[x+ne][ee+K]=!0:H[x+ne][ee+K]=!1}},ce=function(Q){for(var $=a.getBCHTypeNumber(A),z=0;z<18;z+=1){var x=!Q&&($>>z&1)==1;H[Math.floor(z/3)][z%3+E-8-3]=x}for(var z=0;z<18;z+=1){var x=!Q&&($>>z&1)==1;H[z%3+E-8-3][Math.floor(z/3)]=x}},be=function(Q,$){for(var z=W<<3|$,x=a.getBCHTypeInfo(z),ee=0;ee<15;ee+=1){var ne=!Q&&(x>>ee&1)==1;ee<6?H[ee][8]=ne:ee<8?H[ee+1][8]=ne:H[E-15+ee][8]=ne}for(var ee=0;ee<15;ee+=1){var ne=!Q&&(x>>ee&1)==1;ee<8?H[8][E-ee-1]=ne:ee<9?H[8][15-ee-1+1]=ne:H[8][15-ee-1]=ne}H[E-8][8]=!Q},ve=function(Q,$){for(var z=-1,x=E-1,ee=7,ne=0,K=a.getMaskFunction($),_e=E-1;_e>0;_e-=2)for(_e==6&&(_e-=1);;){for(var Le=0;Le<2;Le+=1)if(H[x][_e-Le]==null){var Ze=!1;ne<Q.length&&(Ze=(Q[ne]>>>ee&1)==1);var De=K(x,_e-Le);De&&(Ze=!Ze),H[x][_e-Le]=Ze,ee-=1,ee==-1&&(ne+=1,ee=7)}if(x+=z,x<0||E<=x){x-=z,z=-z;break}}},le=function(Q,$){for(var z=0,x=0,ee=0,ne=new Array($.length),K=new Array($.length),_e=0;_e<$.length;_e+=1){var Le=$[_e].dataCount,Ze=$[_e].totalCount-Le;x=Math.max(x,Le),ee=Math.max(ee,Ze),ne[_e]=new Array(Le);for(var De=0;De<ne[_e].length;De+=1)ne[_e][De]=255&Q.getBuffer()[De+z];z+=Le;var ct=a.getErrorCorrectPolynomial(Ze),nt=d(ne[_e],ct.getLength()-1),yt=nt.mod(ct);K[_e]=new Array(ct.getLength()-1);for(var De=0;De<K[_e].length;De+=1){var Pe=De+yt.getLength()-K[_e].length;K[_e][De]=Pe>=0?yt.getAt(Pe):0}}for(var Ut=0,De=0;De<$.length;De+=1)Ut+=$[De].totalCount;for(var en=new Array(Ut),Ot=0,De=0;De<x;De+=1)for(var _e=0;_e<$.length;_e+=1)De<ne[_e].length&&(en[Ot]=ne[_e][De],Ot+=1);for(var De=0;De<ee;De+=1)for(var _e=0;_e<$.length;_e+=1)De<K[_e].length&&(en[Ot]=K[_e][De],Ot+=1);return en},ke=function(Q,$,z){for(var x=h.getRSBlocks(Q,$),ee=m(),ne=0;ne<z.length;ne+=1){var K=z[ne];ee.put(K.getMode(),4),ee.put(K.getLength(),a.getLengthInBits(K.getMode(),Q)),K.write(ee)}for(var _e=0,ne=0;ne<x.length;ne+=1)_e+=x[ne].dataCount;if(ee.getLengthInBits()>_e*8)throw"code length overflow. ("+ee.getLengthInBits()+">"+_e*8+")";for(ee.getLengthInBits()+4<=_e*8&&ee.put(0,4);ee.getLengthInBits()%8!=0;)ee.putBit(!1);for(;!(ee.getLengthInBits()>=_e*8||(ee.put(w,8),ee.getLengthInBits()>=_e*8));)ee.put(I,8);return le(ee,x)};X.addData=function(Q,$){$=$||"Byte";var z=null;switch($){case"Numeric":z=g(Q);break;case"Alphanumeric":z=y(Q);break;case"Byte":z=v(Q);break;case"Kanji":z=C(Q);break;default:throw"mode:"+$}b.push(z),Y=null},X.isDark=function(Q,$){if(Q<0||E<=Q||$<0||E<=$)throw Q+","+$;return H[Q][$]},X.getModuleCount=function(){return E},X.make=function(){if(A<1){for(var Q=1;Q<40;Q++){for(var $=h.getRSBlocks(Q,W),z=m(),x=0;x<b.length;x++){var ee=b[x];z.put(ee.getMode(),4),z.put(ee.getLength(),a.getLengthInBits(ee.getMode(),Q)),ee.write(z)}for(var ne=0,x=0;x<$.length;x++)ne+=$[x].dataCount;if(z.getLengthInBits()<=ne*8)break}A=Q}D(!1,G())},X.createTableTag=function(Q,$){Q=Q||2,$=typeof $>"u"?Q*4:$;var z="";z+='<table style="',z+=" border-width: 0px; border-style: none;",z+=" border-collapse: collapse;",z+=" padding: 0px; margin: "+$+"px;",z+='">',z+="<tbody>";for(var x=0;x<X.getModuleCount();x+=1){z+="<tr>";for(var ee=0;ee<X.getModuleCount();ee+=1)z+='<td style="',z+=" border-width: 0px; border-style: none;",z+=" border-collapse: collapse;",z+=" padding: 0px; margin: 0px;",z+=" width: "+Q+"px;",z+=" height: "+Q+"px;",z+=" background-color: ",z+=X.isDark(x,ee)?"#000000":"#ffffff",z+=";",z+='"/>';z+="</tr>"}return z+="</tbody>",z+="</table>",z},X.createSvgTag=function(Q,$,z,x){var ee={};typeof arguments[0]=="object"&&(ee=arguments[0],Q=ee.cellSize,$=ee.margin,z=ee.alt,x=ee.title),Q=Q||2,$=typeof $>"u"?Q*4:$,z=typeof z=="string"?{text:z}:z||{},z.text=z.text||null,z.id=z.text?z.id||"qrcode-description":null,x=typeof x=="string"?{text:x}:x||{},x.text=x.text||null,x.id=x.text?x.id||"qrcode-title":null;var ne=X.getModuleCount()*Q+$*2,K,_e,Le,Ze,De="",ct;for(ct="l"+Q+",0 0,"+Q+" -"+Q+",0 0,-"+Q+"z ",De+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',De+=ee.scalable?"":' width="'+ne+'px" height="'+ne+'px"',De+=' viewBox="0 0 '+ne+" "+ne+'" ',De+=' preserveAspectRatio="xMinYMin meet"',De+=x.text||z.text?' role="img" aria-labelledby="'+Ce([x.id,z.id].join(" ").trim())+'"':"",De+=">",De+=x.text?'<title id="'+Ce(x.id)+'">'+Ce(x.text)+"</title>":"",De+=z.text?'<description id="'+Ce(z.id)+'">'+Ce(z.text)+"</description>":"",De+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',De+='<path d="',Le=0;Le<X.getModuleCount();Le+=1)for(Ze=Le*Q+$,K=0;K<X.getModuleCount();K+=1)X.isDark(Le,K)&&(_e=K*Q+$,De+="M"+_e+","+Ze+ct);return De+='" stroke="transparent" fill="black"/>',De+="</svg>",De},X.createDataURL=function(Q,$){Q=Q||2,$=typeof $>"u"?Q*4:$;var z=X.getModuleCount()*Q+$*2,x=$,ee=z-$;return B(z,z,function(ne,K){if(x<=ne&&ne<ee&&x<=K&&K<ee){var _e=Math.floor((ne-x)/Q),Le=Math.floor((K-x)/Q);return X.isDark(Le,_e)?0:1}else return 1})},X.createImgTag=function(Q,$,z){Q=Q||2,$=typeof $>"u"?Q*4:$;var x=X.getModuleCount()*Q+$*2,ee="";return ee+="<img",ee+=' src="',ee+=X.createDataURL(Q,$),ee+='"',ee+=' width="',ee+=x,ee+='"',ee+=' height="',ee+=x,ee+='"',z&&(ee+=' alt="',ee+=Ce(z),ee+='"'),ee+="/>",ee};var Ce=function(Q){for(var $="",z=0;z<Q.length;z+=1){var x=Q.charAt(z);switch(x){case"<":$+="&lt;";break;case">":$+="&gt;";break;case"&":$+="&amp;";break;case'"':$+="&quot;";break;default:$+=x;break}}return $},ue=function(Q){var $=1;Q=typeof Q>"u"?$*2:Q;var z=X.getModuleCount()*$+Q*2,x=Q,ee=z-Q,ne,K,_e,Le,Ze,De={"":""," ":""," ":"","  ":" "},ct={"":""," ":""," ":" ","  ":" "},nt="";for(ne=0;ne<z;ne+=2){for(_e=Math.floor((ne-x)/$),Le=Math.floor((ne+1-x)/$),K=0;K<z;K+=1)Ze="",x<=K&&K<ee&&x<=ne&&ne<ee&&X.isDark(_e,Math.floor((K-x)/$))&&(Ze=" "),x<=K&&K<ee&&x<=ne+1&&ne+1<ee&&X.isDark(Le,Math.floor((K-x)/$))?Ze+=" ":Ze+="",nt+=Q<1&&ne+1>=ee?ct[Ze]:De[Ze];nt+=`
`}return z%2&&Q>0?nt.substring(0,nt.length-z-1)+Array(z+1).join(""):nt.substring(0,nt.length-1)};return X.createASCII=function(Q,$){if(Q=Q||1,Q<2)return ue($);Q-=1,$=typeof $>"u"?Q*2:$;var z=X.getModuleCount()*Q+$*2,x=$,ee=z-$,ne,K,_e,Le,Ze=Array(Q+1).join(""),De=Array(Q+1).join("  "),ct="",nt="";for(ne=0;ne<z;ne+=1){for(_e=Math.floor((ne-x)/Q),nt="",K=0;K<z;K+=1)Le=1,x<=K&&K<ee&&x<=ne&&ne<ee&&X.isDark(_e,Math.floor((K-x)/Q))&&(Le=0),nt+=Le?Ze:De;for(_e=0;_e<Q;_e+=1)ct+=nt+`
`}return ct.substring(0,ct.length-1)},X.renderTo2dContext=function(Q,$){$=$||2;for(var z=X.getModuleCount(),x=0;x<z;x++)for(var ee=0;ee<z;ee++)Q.fillStyle=X.isDark(x,ee)?"black":"white",Q.fillRect(x*$,ee*$,$,$)},X};i.stringToBytesFuncs={default:function(S){for(var P=[],w=0;w<S.length;w+=1){var I=S.charCodeAt(w);P.push(I&255)}return P}},i.stringToBytes=i.stringToBytesFuncs.default,i.createStringToBytes=function(S,P){var w=function(){for(var A=R(S),W=function(){var Z=A.read();if(Z==-1)throw"eof";return Z},H=0,E={};;){var Y=A.read();if(Y==-1)break;var b=W(),X=W(),D=W(),V=String.fromCharCode(Y<<8|b),G=X<<8|D;E[V]=G,H+=1}if(H!=P)throw H+" != "+P;return E}(),I=63;return function(A){for(var W=[],H=0;H<A.length;H+=1){var E=A.charCodeAt(H);if(E<128)W.push(E);else{var Y=w[A.charAt(H)];typeof Y=="number"?(Y&255)==Y?W.push(Y):(W.push(Y>>>8),W.push(Y&255)):W.push(I)}}return W}};var o={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},s={L:1,M:0,Q:3,H:2},u={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var S=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],P=1335,w=7973,I=21522,A={},W=function(H){for(var E=0;H!=0;)E+=1,H>>>=1;return E};return A.getBCHTypeInfo=function(H){for(var E=H<<10;W(E)-W(P)>=0;)E^=P<<W(E)-W(P);return(H<<10|E)^I},A.getBCHTypeNumber=function(H){for(var E=H<<12;W(E)-W(w)>=0;)E^=w<<W(E)-W(w);return H<<12|E},A.getPatternPosition=function(H){return S[H-1]},A.getMaskFunction=function(H){switch(H){case u.PATTERN000:return function(E,Y){return(E+Y)%2==0};case u.PATTERN001:return function(E,Y){return E%2==0};case u.PATTERN010:return function(E,Y){return Y%3==0};case u.PATTERN011:return function(E,Y){return(E+Y)%3==0};case u.PATTERN100:return function(E,Y){return(Math.floor(E/2)+Math.floor(Y/3))%2==0};case u.PATTERN101:return function(E,Y){return E*Y%2+E*Y%3==0};case u.PATTERN110:return function(E,Y){return(E*Y%2+E*Y%3)%2==0};case u.PATTERN111:return function(E,Y){return(E*Y%3+(E+Y)%2)%2==0};default:throw"bad maskPattern:"+H}},A.getErrorCorrectPolynomial=function(H){for(var E=d([1],0),Y=0;Y<H;Y+=1)E=E.multiply(d([1,f.gexp(Y)],0));return E},A.getLengthInBits=function(H,E){if(1<=E&&E<10)switch(H){case o.MODE_NUMBER:return 10;case o.MODE_ALPHA_NUM:return 9;case o.MODE_8BIT_BYTE:return 8;case o.MODE_KANJI:return 8;default:throw"mode:"+H}else if(E<27)switch(H){case o.MODE_NUMBER:return 12;case o.MODE_ALPHA_NUM:return 11;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 10;default:throw"mode:"+H}else if(E<41)switch(H){case o.MODE_NUMBER:return 14;case o.MODE_ALPHA_NUM:return 13;case o.MODE_8BIT_BYTE:return 16;case o.MODE_KANJI:return 12;default:throw"mode:"+H}else throw"type:"+E},A.getLostPoint=function(H){for(var E=H.getModuleCount(),Y=0,b=0;b<E;b+=1)for(var X=0;X<E;X+=1){for(var D=0,V=H.isDark(b,X),G=-1;G<=1;G+=1)if(!(b+G<0||E<=b+G))for(var Z=-1;Z<=1;Z+=1)X+Z<0||E<=X+Z||G==0&&Z==0||V==H.isDark(b+G,X+Z)&&(D+=1);D>5&&(Y+=3+D-5)}for(var b=0;b<E-1;b+=1)for(var X=0;X<E-1;X+=1){var ie=0;H.isDark(b,X)&&(ie+=1),H.isDark(b+1,X)&&(ie+=1),H.isDark(b,X+1)&&(ie+=1),H.isDark(b+1,X+1)&&(ie+=1),(ie==0||ie==4)&&(Y+=3)}for(var b=0;b<E;b+=1)for(var X=0;X<E-6;X+=1)H.isDark(b,X)&&!H.isDark(b,X+1)&&H.isDark(b,X+2)&&H.isDark(b,X+3)&&H.isDark(b,X+4)&&!H.isDark(b,X+5)&&H.isDark(b,X+6)&&(Y+=40);for(var X=0;X<E;X+=1)for(var b=0;b<E-6;b+=1)H.isDark(b,X)&&!H.isDark(b+1,X)&&H.isDark(b+2,X)&&H.isDark(b+3,X)&&H.isDark(b+4,X)&&!H.isDark(b+5,X)&&H.isDark(b+6,X)&&(Y+=40);for(var ce=0,X=0;X<E;X+=1)for(var b=0;b<E;b+=1)H.isDark(b,X)&&(ce+=1);var be=Math.abs(100*ce/E/E-50)/5;return Y+=be*10,Y},A}(),f=function(){for(var S=new Array(256),P=new Array(256),w=0;w<8;w+=1)S[w]=1<<w;for(var w=8;w<256;w+=1)S[w]=S[w-4]^S[w-5]^S[w-6]^S[w-8];for(var w=0;w<255;w+=1)P[S[w]]=w;var I={};return I.glog=function(A){if(A<1)throw"glog("+A+")";return P[A]},I.gexp=function(A){for(;A<0;)A+=255;for(;A>=256;)A-=255;return S[A]},I}();function d(S,P){if(typeof S.length>"u")throw S.length+"/"+P;var w=function(){for(var A=0;A<S.length&&S[A]==0;)A+=1;for(var W=new Array(S.length-A+P),H=0;H<S.length-A;H+=1)W[H]=S[H+A];return W}(),I={};return I.getAt=function(A){return w[A]},I.getLength=function(){return w.length},I.multiply=function(A){for(var W=new Array(I.getLength()+A.getLength()-1),H=0;H<I.getLength();H+=1)for(var E=0;E<A.getLength();E+=1)W[H+E]^=f.gexp(f.glog(I.getAt(H))+f.glog(A.getAt(E)));return d(W,0)},I.mod=function(A){if(I.getLength()-A.getLength()<0)return I;for(var W=f.glog(I.getAt(0))-f.glog(A.getAt(0)),H=new Array(I.getLength()),E=0;E<I.getLength();E+=1)H[E]=I.getAt(E);for(var E=0;E<A.getLength();E+=1)H[E]^=f.gexp(f.glog(A.getAt(E))+W);return d(H,0).mod(A)},I}var h=function(){var S=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],P=function(A,W){var H={};return H.totalCount=A,H.dataCount=W,H},w={},I=function(A,W){switch(W){case s.L:return S[(A-1)*4+0];case s.M:return S[(A-1)*4+1];case s.Q:return S[(A-1)*4+2];case s.H:return S[(A-1)*4+3];default:return}};return w.getRSBlocks=function(A,W){var H=I(A,W);if(typeof H>"u")throw"bad rs block @ typeNumber:"+A+"/errorCorrectionLevel:"+W;for(var E=H.length/3,Y=[],b=0;b<E;b+=1)for(var X=H[b*3+0],D=H[b*3+1],V=H[b*3+2],G=0;G<X;G+=1)Y.push(P(D,V));return Y},w}(),m=function(){var S=[],P=0,w={};return w.getBuffer=function(){return S},w.getAt=function(I){var A=Math.floor(I/8);return(S[A]>>>7-I%8&1)==1},w.put=function(I,A){for(var W=0;W<A;W+=1)w.putBit((I>>>A-W-1&1)==1)},w.getLengthInBits=function(){return P},w.putBit=function(I){var A=Math.floor(P/8);S.length<=A&&S.push(0),I&&(S[A]|=128>>>P%8),P+=1},w},g=function(S){var P=o.MODE_NUMBER,w=S,I={};I.getMode=function(){return P},I.getLength=function(H){return w.length},I.write=function(H){for(var E=w,Y=0;Y+2<E.length;)H.put(A(E.substring(Y,Y+3)),10),Y+=3;Y<E.length&&(E.length-Y==1?H.put(A(E.substring(Y,Y+1)),4):E.length-Y==2&&H.put(A(E.substring(Y,Y+2)),7))};var A=function(H){for(var E=0,Y=0;Y<H.length;Y+=1)E=E*10+W(H.charAt(Y));return E},W=function(H){if("0"<=H&&H<="9")return H.charCodeAt(0)-48;throw"illegal char :"+H};return I},y=function(S){var P=o.MODE_ALPHA_NUM,w=S,I={};I.getMode=function(){return P},I.getLength=function(W){return w.length},I.write=function(W){for(var H=w,E=0;E+1<H.length;)W.put(A(H.charAt(E))*45+A(H.charAt(E+1)),11),E+=2;E<H.length&&W.put(A(H.charAt(E)),6)};var A=function(W){if("0"<=W&&W<="9")return W.charCodeAt(0)-48;if("A"<=W&&W<="Z")return W.charCodeAt(0)-65+10;switch(W){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+W}};return I},v=function(S){var P=o.MODE_8BIT_BYTE,w=i.stringToBytes(S),I={};return I.getMode=function(){return P},I.getLength=function(A){return w.length},I.write=function(A){for(var W=0;W<w.length;W+=1)A.put(w[W],8)},I},C=function(S){var P=o.MODE_KANJI,w=i.stringToBytesFuncs.SJIS;if(!w)throw"sjis not supported.";(function(W,H){var E=w(W);if(E.length!=2||(E[0]<<8|E[1])!=H)throw"sjis not supported."})("",38726);var I=w(S),A={};return A.getMode=function(){return P},A.getLength=function(W){return~~(I.length/2)},A.write=function(W){for(var H=I,E=0;E+1<H.length;){var Y=(255&H[E])<<8|255&H[E+1];if(33088<=Y&&Y<=40956)Y-=33088;else if(57408<=Y&&Y<=60351)Y-=49472;else throw"illegal char at "+(E+1)+"/"+Y;Y=(Y>>>8&255)*192+(Y&255),W.put(Y,13),E+=2}if(E<H.length)throw"illegal char at "+(E+1)},A},N=function(){var S=[],P={};return P.writeByte=function(w){S.push(w&255)},P.writeShort=function(w){P.writeByte(w),P.writeByte(w>>>8)},P.writeBytes=function(w,I,A){I=I||0,A=A||w.length;for(var W=0;W<A;W+=1)P.writeByte(w[W+I])},P.writeString=function(w){for(var I=0;I<w.length;I+=1)P.writeByte(w.charCodeAt(I))},P.toByteArray=function(){return S},P.toString=function(){var w="";w+="[";for(var I=0;I<S.length;I+=1)I>0&&(w+=","),w+=S[I];return w+="]",w},P},k=function(){var S=0,P=0,w=0,I="",A={},W=function(E){I+=String.fromCharCode(H(E&63))},H=function(E){if(!(E<0)){if(E<26)return 65+E;if(E<52)return 97+(E-26);if(E<62)return 48+(E-52);if(E==62)return 43;if(E==63)return 47}throw"n:"+E};return A.writeByte=function(E){for(S=S<<8|E&255,P+=8,w+=1;P>=6;)W(S>>>P-6),P-=6},A.flush=function(){if(P>0&&(W(S<<6-P),S=0,P=0),w%3!=0)for(var E=3-w%3,Y=0;Y<E;Y+=1)I+="="},A.toString=function(){return I},A},R=function(S){var P=S,w=0,I=0,A=0,W={};W.read=function(){for(;A<8;){if(w>=P.length){if(A==0)return-1;throw"unexpected end of file./"+A}var E=P.charAt(w);if(w+=1,E=="=")return A=0,-1;if(E.match(/^\s$/))continue;I=I<<6|H(E.charCodeAt(0)),A+=6}var Y=I>>>A-8&255;return A-=8,Y};var H=function(E){if(65<=E&&E<=90)return E-65;if(97<=E&&E<=122)return E-97+26;if(48<=E&&E<=57)return E-48+52;if(E==43)return 62;if(E==47)return 63;throw"c:"+E};return W},T=function(S,P){var w=S,I=P,A=new Array(S*P),W={};W.setPixel=function(b,X,D){A[X*w+b]=D},W.write=function(b){b.writeString("GIF87a"),b.writeShort(w),b.writeShort(I),b.writeByte(128),b.writeByte(0),b.writeByte(0),b.writeByte(0),b.writeByte(0),b.writeByte(0),b.writeByte(255),b.writeByte(255),b.writeByte(255),b.writeString(","),b.writeShort(0),b.writeShort(0),b.writeShort(w),b.writeShort(I),b.writeByte(0);var X=2,D=E(X);b.writeByte(X);for(var V=0;D.length-V>255;)b.writeByte(255),b.writeBytes(D,V,255),V+=255;b.writeByte(D.length-V),b.writeBytes(D,V,D.length-V),b.writeByte(0),b.writeString(";")};var H=function(b){var X=b,D=0,V=0,G={};return G.write=function(Z,ie){if(Z>>>ie)throw"length over";for(;D+ie>=8;)X.writeByte(255&(Z<<D|V)),ie-=8-D,Z>>>=8-D,V=0,D=0;V=Z<<D|V,D=D+ie},G.flush=function(){D>0&&X.writeByte(V)},G},E=function(b){for(var X=1<<b,D=(1<<b)+1,V=b+1,G=Y(),Z=0;Z<X;Z+=1)G.add(String.fromCharCode(Z));G.add(String.fromCharCode(X)),G.add(String.fromCharCode(D));var ie=N(),ce=H(ie);ce.write(X,V);var be=0,ve=String.fromCharCode(A[be]);for(be+=1;be<A.length;){var le=String.fromCharCode(A[be]);be+=1,G.contains(ve+le)?ve=ve+le:(ce.write(G.indexOf(ve),V),G.size()<4095&&(G.size()==1<<V&&(V+=1),G.add(ve+le)),ve=le)}return ce.write(G.indexOf(ve),V),ce.write(D,V),ce.flush(),ie.toByteArray()},Y=function(){var b={},X=0,D={};return D.add=function(V){if(D.contains(V))throw"dup key:"+V;b[V]=X,X+=1},D.size=function(){return X},D.indexOf=function(V){return b[V]},D.contains=function(V){return typeof b[V]<"u"},D};return W},B=function(S,P,w){for(var I=T(S,P),A=0;A<P;A+=1)for(var W=0;W<S;W+=1)I.setPixel(W,A,w(W,A));var H=N();I.write(H);for(var E=k(),Y=H.toByteArray(),b=0;b<Y.length;b+=1)E.writeByte(Y[b]);return E.flush(),"data:image/gif;base64,"+E};return i}();(function(){n.stringToBytesFuncs["UTF-8"]=function(i){function o(s){for(var u=[],a=0;a<s.length;a++){var f=s.charCodeAt(a);f<128?u.push(f):f<2048?u.push(192|f>>6,128|f&63):f<55296||f>=57344?u.push(224|f>>12,128|f>>6&63,128|f&63):(a++,f=65536+((f&1023)<<10|s.charCodeAt(a)&1023),u.push(240|f>>18,128|f>>12&63,128|f>>6&63,128|f&63))}return u}return o(i)}})(),function(i){t.exports=i()}(function(){return n})})(Zh);var z7=Zh.exports;const B7=Vh(z7),Wi=7;function W7(t){return{...t,margin:t.margin??1,shape:t.shape??"square",logoRatio:t.logoRatio??1,moduleFill:t.moduleFill??"currentcolor",anchorOuterFill:t.anchorOuterFill??"currentcolor",anchorInnerFill:t.anchorInnerFill??"currentcolor",typeNumber:t.typeNumber??0,errorCorrectionLevel:t.errorCorrectionLevel??"H"}}function Y7(t,e){const{data:n,margin:i,shape:o,logo:s,logoRatio:u,anchorInnerFill:a,anchorOuterFill:f,moduleFill:d,typeNumber:h,errorCorrectionLevel:m}=W7(t);e||(e=B7(h,m),e.addData(n),e.make());const g=e.getModuleCount(),y=g+i*2,v=[["top-left",i,i],["top-right",g-Wi+i,i],["bottom-left",i,g-Wi+i]];let C="";for(const[R,T,B]of v){let S=`M${T} ${B} h7 v7 h-7 v-7z m1 1 v5 h5 v-5 h-5 z`,P=`M${T+2} ${B+2} h3 v3 h-3 v-3 z`;o!=="square"&&(S=`M${T+.5} ${B}h6s0.5 0 .5 .5v6s0 .5-.5 .5h-6s-.5 0-.5-.5v-6s0-.5 .5-.5zm.75 1s-.25 0-.25 .25v4.5s0 .25 .25 .25h4.5s.25 0 .25-.25v-4.5s0-.25 -.25 -.25h-4.5z`,P=`M${T+2.5} ${B+2} h2 s.5 0 .5 .5 v2 s0 .5-.5 .5 h-2 s-.5 0-.5-.5 v-2 s0-.5 .5-.5 z`);const w=`<path class="anchor-outer" fill="${f}" d="${S}" />`,I=`<path class="anchor-outer" fill="${a}" d="${P}" />`;C+=`<g class="anchor" data-position="${R}">${w} ${I}</g>`}C=`<g class="anchors">${C}</g>`;let N="";for(let R=0;R<g;R++)for(let T=0;T<g;T++){if(!e.isDark(R,T)||X7(R,T,g)||s&&F7(R,T,g))continue;const B=R+i,S=T+i;N+=`<rect class="module" fill="${d}" data-column="${R}" data-row="${T}" x="${B}" y="${S}" width="1" height="1" ${o==="circle"?'rx="0.5"':""} />`}N=`<g class="modules">${N}</g>`;let k="";if(s){const R=Math.floor(g*Math.sqrt(.1)),{width:T,height:B}=x7(R*.8,u),S=(y-T+1)/2,P=(y-B+1)/2;k=`<image width="${T}" height="${B}" x="${S}" y="${P}" href="${s}" class="logo" />`}return{attributes:{viewBox:`0, 0 ${y} ${y}`,xmlns:"http://www.w3.org/2000/svg",version:"1.1"},anchors:C,modules:N,logo:k}}function X7(t,e,n){return e<=Wi?t<=Wi||t>=n-Wi:t<=Wi?e>=n-Wi:!1}function F7(t,e,n){const i=n/2,o=1,s=Math.floor(n*Math.sqrt(.1)/2),u=s*o,a=s/o,f=i-u,d=i+u,h=i-a,m=i+a;return e>=h&&e<=m&&t>=f&&t<=d}function x7(t,e){return e>=1?{width:t,height:t/e}:{width:t*e,height:t}}const V7=t=>({attributes:t&4,innerHTML:t&2}),k1=t=>({attributes:t[2],innerHTML:t[1]});function U7(t){let e,n=[t[2],t[3]],i={};for(let o=0;o<n.length;o+=1)i=ot(i,n[o]);return{c(){e=Ge("svg"),$c(e,i)},m(o,s){oe(o,e,s),e.innerHTML=t[1],t[19](e)},p(o,s){s&2&&(e.innerHTML=o[1]),$c(e,i=qn(n,[s&4&&o[2],s&8&&o[3]]))},d(o){o&&re(e),t[19](null)}}}function K7(t){let e;const n=t[18].default,i=Xt(n,t,t[17],k1),o=i||U7(t);return{c(){o.c()},m(s,u){o.m(s,u),e=!0},p(s,[u]){i?i.p&&(!e||u&131078)&&xt(i,n,s,s[17],e?Ft(n,s[17],u,V7):Vt(s[17]),k1):o.p&&(!e||u&15)&&o.p(s,e?u:-1)},i(s){e||(se(o,s),e=!0)},o(s){fe(o,s),e=!1},d(s){o.d(s)}}}function Z7(t,e,n){let i,o,s,u,a,f,d,h,m,g,y,v,C,N,k,R,{$$slots:T={},$$scope:B}=e,S;const P=Eo();Rr(()=>{S&&P("qr:init",S)});function w(I){Tn[I?"unshift":"push"](()=>{S=I,n(0,S)})}return t.$$set=I=>{n(21,e=ot(ot({},e),_n(I))),"$$scope"in I&&n(17,B=I.$$scope)},t.$$.update=()=>{n(16,{data:i,anchorInnerFill:o,anchorOuterFill:s,logo:u,logoRatio:a,margin:f,moduleFill:d,shape:h,errorCorrectionLevel:m,typeNumber:g,...y}=e,i,(n(15,o),n(21,e)),(n(14,s),n(21,e)),(n(13,u),n(21,e)),(n(12,a),n(21,e)),(n(11,f),n(21,e)),(n(10,d),n(21,e)),(n(9,h),n(21,e)),(n(8,m),n(21,e)),(n(7,g),n(21,e)),(n(3,y),n(21,e))),t.$$.dirty&130944&&n(6,{anchors:v,attributes:C,logo:N,modules:k}=Y7({data:i,anchorInnerFill:o,anchorOuterFill:s,logo:u,logoRatio:a,margin:f,moduleFill:d,shape:h,errorCorrectionLevel:m,typeNumber:g}),v,(n(2,C),n(16,i),n(15,o),n(14,s),n(13,u),n(12,a),n(11,f),n(10,d),n(9,h),n(8,m),n(7,g),n(21,e)),(n(4,N),n(16,i),n(15,o),n(14,s),n(13,u),n(12,a),n(11,f),n(10,d),n(9,h),n(8,m),n(7,g),n(21,e)),(n(5,k),n(16,i),n(15,o),n(14,s),n(13,u),n(12,a),n(11,f),n(10,d),n(9,h),n(8,m),n(7,g),n(21,e))),t.$$.dirty&112&&n(1,R=`${v}${k}${N}`)},e=_n(e),[S,R,C,y,N,k,v,g,m,h,d,f,a,u,s,o,i,B,T,w]}class G7 extends Be{constructor(e){super(),ze(this,e,Z7,K7,Ye,{})}}function q7(t){let e,n,i;return n=new G7({props:{data:t[0],logo:J7}}),{c(){e=Ee("div"),Te(n.$$.fragment),O(e,"class","qr svelte-pldoi4")},m(o,s){oe(o,e,s),Ae(n,e,null),i=!0},p:Ne,i(o){i||(se(n.$$.fragment,o),i=!0)},o(o){fe(n.$$.fragment,o),i=!1},d(o){o&&re(e),Me(n)}}}const J7="https://patchcanvas.net/favicon.ico";function Q7(t){return[`https://patchcanvas.net${window.location.pathname}${window.location.search}`]}class j7 extends Be{constructor(e){super(),ze(this,e,Q7,q7,Ye,{})}}function $7(t){let e,n,i,o,s;function u(f){t[1](f)}let a={};return t[0]!==void 0&&(a.showCanvases=t[0]),i=new M7({props:a}),Tn.push(()=>bb(i,"showCanvases",u)),{c(){e=Ee("aside"),n=Ee("div"),Te(i.$$.fragment),O(e,"class","svelte-1igc07l")},m(f,d){oe(f,e,d),we(e,n),Ae(i,n,null),s=!0},p(f,d){const h={};!o&&d&1&&(o=!0,h.showCanvases=f[0],mb(()=>o=!1)),i.$set(h)},i(f){s||(se(i.$$.fragment,f),s=!0)},o(f){fe(i.$$.fragment,f),s=!1},d(f){f&&re(e),Me(i)}}}function ek(t){let e,n,i,o,s,u,a,f;return i=new c7({}),u=new E7({}),{c(){e=Ee("aside"),n=Ee("div"),Te(i.$$.fragment),o=Ie(),s=Ee("div"),Te(u.$$.fragment),O(s,"class","rotate svelte-1igc07l"),O(e,"class",a=vr(t[0]?"hide":"")+" svelte-1igc07l")},m(d,h){oe(d,e,h),we(e,n),Ae(i,n,null),we(e,o),we(e,s),Ae(u,s,null),f=!0},p(d,h){(!f||h&1&&a!==(a=vr(d[0]?"hide":"")+" svelte-1igc07l"))&&O(e,"class",a)},i(d){f||(se(i.$$.fragment,d),se(u.$$.fragment,d),f=!0)},o(d){fe(i.$$.fragment,d),fe(u.$$.fragment,d),f=!1},d(d){d&&re(e),Me(i),Me(u)}}}function tk(t){let e,n;return e=new H7({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function nk(t){let e,n;return e=new j7({}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function ik(t){let e,n,i,o,s,u={};return i=new N7({props:u}),t[2](i),{c(){e=Ee("aside"),n=Ee("div"),Te(i.$$.fragment),O(n,"class","scroller"),O(e,"class",o=vr(t[0]?"show":"")+" svelte-1igc07l")},m(a,f){oe(a,e,f),we(e,n),Ae(i,n,null),s=!0},p(a,f){const d={};i.$set(d),(!s||f&1&&o!==(o=vr(a[0]?"show":"")+" svelte-1igc07l"))&&O(e,"class",o)},i(a){s||(se(i.$$.fragment,a),s=!0)},o(a){fe(i.$$.fragment,a),s=!1},d(a){a&&re(e),t[2](null),Me(i)}}}function rk(t){let e,n,i,o,s,u,a,f,d,h;return e=new ai({props:{position:"top-left",class:"canvas",$$slots:{default:[$7]},$$scope:{ctx:t}}}),i=new ai({props:{position:"top-left",class:"main",$$slots:{default:[ek]},$$scope:{ctx:t}}}),s=new ai({props:{position:"top-left",class:"key",$$slots:{default:[tk]},$$scope:{ctx:t}}}),a=new ai({props:{position:"bottom-right",class:"qr",$$slots:{default:[nk]},$$scope:{ctx:t}}}),d=new ai({props:{position:"top-left",class:"saves",$$slots:{default:[ik]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment),n=Ie(),Te(i.$$.fragment),o=Ie(),Te(s.$$.fragment),u=Ie(),Te(a.$$.fragment),f=Ie(),Te(d.$$.fragment)},m(m,g){Ae(e,m,g),oe(m,n,g),Ae(i,m,g),oe(m,o,g),Ae(s,m,g),oe(m,u,g),Ae(a,m,g),oe(m,f,g),Ae(d,m,g),h=!0},p(m,[g]){const y={};g&9&&(y.$$scope={dirty:g,ctx:m}),e.$set(y);const v={};g&9&&(v.$$scope={dirty:g,ctx:m}),i.$set(v);const C={};g&8&&(C.$$scope={dirty:g,ctx:m}),s.$set(C);const N={};g&8&&(N.$$scope={dirty:g,ctx:m}),a.$set(N);const k={};g&9&&(k.$$scope={dirty:g,ctx:m}),d.$set(k)},i(m){h||(se(e.$$.fragment,m),se(i.$$.fragment,m),se(s.$$.fragment,m),se(a.$$.fragment,m),se(d.$$.fragment,m),h=!0)},o(m){fe(e.$$.fragment,m),fe(i.$$.fragment,m),fe(s.$$.fragment,m),fe(a.$$.fragment,m),fe(d.$$.fragment,m),h=!1},d(m){m&&(re(n),re(o),re(u),re(f)),Me(e,m),Me(i,m),Me(s,m),Me(a,m),Me(d,m)}}}let Co;const Gh=function(){Co&&Co.load(xh)},ok=function(){Co&&Co.store(he(gn))};function lk(t,e,n){let i=!1;function o(u){i=u,n(0,i)}function s(u){Tn[u?"unshift":"push"](()=>{Co=u})}return[i,o,s]}class sk extends Be{constructor(e){super(),ze(this,e,lk,rk,Ye,{})}}function uk(t){let e,n;return e=new Io({props:{path:t[6],labelX:t[5],labelY:t[4],markerStart:t[2],markerEnd:t[0],style:t[1],class:t[3]}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&64&&(s.path=i[6]),o&32&&(s.labelX=i[5]),o&16&&(s.labelY=i[4]),o&4&&(s.markerStart=i[2]),o&1&&(s.markerEnd=i[0]),o&2&&(s.style=i[1]),o&8&&(s.class=i[3]),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function ak(t,e,n){let i,o,s,{id:u}=e,{type:a}=e,{source:f}=e,{sourceX:d}=e,{sourceY:h}=e,{sourcePosition:m}=e,{sourceHandleId:g=""}=e,{target:y}=e,{targetX:v}=e,{targetY:C}=e,{targetPosition:N}=e,{targetHandleId:k=""}=e,{markerStart:R=void 0}=e,{markerEnd:T=void 0}=e,{animated:B=!1}=e,{selected:S=!1}=e,{selectable:P=void 0}=e,{deletable:w=void 0}=e,{label:I=""}=e,{labelStyle:A=""}=e,{data:W=void 0}=e,{interactionWidth:H=void 0}=e,{style:E=""}=e,{edgeClass:Y=""}=e;return Fh(),t.$$set=b=>{"id"in b&&n(7,u=b.id),"type"in b&&n(8,a=b.type),"source"in b&&n(9,f=b.source),"sourceX"in b&&n(10,d=b.sourceX),"sourceY"in b&&n(11,h=b.sourceY),"sourcePosition"in b&&n(12,m=b.sourcePosition),"sourceHandleId"in b&&n(13,g=b.sourceHandleId),"target"in b&&n(14,y=b.target),"targetX"in b&&n(15,v=b.targetX),"targetY"in b&&n(16,C=b.targetY),"targetPosition"in b&&n(17,N=b.targetPosition),"targetHandleId"in b&&n(18,k=b.targetHandleId),"markerStart"in b&&n(2,R=b.markerStart),"markerEnd"in b&&n(0,T=b.markerEnd),"animated"in b&&n(19,B=b.animated),"selected"in b&&n(20,S=b.selected),"selectable"in b&&n(21,P=b.selectable),"deletable"in b&&n(22,w=b.deletable),"label"in b&&n(23,I=b.label),"labelStyle"in b&&n(24,A=b.labelStyle),"data"in b&&n(25,W=b.data),"interactionWidth"in b&&n(26,H=b.interactionWidth),"style"in b&&n(1,E=b.style),"edgeClass"in b&&n(3,Y=b.edgeClass)},t.$$.update=()=>{if(t.$$.dirty&236544&&n(6,[i,o,s]=Nr({sourceX:d,sourceY:h,sourcePosition:m,targetX:v,targetY:C,targetPosition:N}),i,(n(5,o),n(10,d),n(11,h),n(12,m),n(15,v),n(16,C),n(17,N)),(n(4,s),n(10,d),n(11,h),n(12,m),n(15,v),n(16,C),n(17,N))),t.$$.dirty&8192){let b=sn[g??""][0];n(1,E=`stroke: ${b};`),n(0,T=`url(#${g})`)}},[T,E,R,Y,s,o,i,u,a,f,d,h,m,g,y,v,C,N,k,B,S,P,w,I,A,W,H]}class fk extends Be{constructor(e){super(),ze(this,e,ak,uk,Ye,{id:7,type:8,source:9,sourceX:10,sourceY:11,sourcePosition:12,sourceHandleId:13,target:14,targetX:15,targetY:16,targetPosition:17,targetHandleId:18,markerStart:2,markerEnd:0,animated:19,selected:20,selectable:21,deletable:22,label:23,labelStyle:24,data:25,interactionWidth:26,style:1,edgeClass:3})}}const ck=`<svg fill="currentColor" viewBox="4 2 8 12" xmlns="http://www.w3.org/2000/svg"\r
	><path\r
		fill-rule="evenodd"\r
		d="M7.375 3.67c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm0 8.66c0-.646-.56-1.17-1.25-1.17s-1.25.524-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17zm-1.25-5.5c.69 0 1.25.525 1.25 1.17 0 .645-.56 1.17-1.25 1.17S4.875 8.645 4.875 8c0-.645.56-1.17 1.25-1.17zm5-3.16c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm-1.25 7.49c.69 0 1.25.524 1.25 1.17 0 .645-.56 1.17-1.25 1.17s-1.25-.525-1.25-1.17c0-.646.56-1.17 1.25-1.17zM11.125 8c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17z"\r
	/></svg\r
>\r
`;function dk(t){let e,n;return e=new vo({props:{id:t[0],type:t[1]==="input"?"target":"source",position:t[1]==="input"?Ue.Top:Ue.Bottom,style:t[2]+`background: ${sn[t[0]][0]};
		left: calc( ${t[1]==="input"?"":"12px + "} (${sn[t[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`,isConnectable:!0}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&1&&(s.id=i[0]),o&2&&(s.type=i[1]==="input"?"target":"source"),o&2&&(s.position=i[1]==="input"?Ue.Top:Ue.Bottom),o&7&&(s.style=i[2]+`background: ${sn[i[0]][0]};
		left: calc( ${i[1]==="input"?"":"12px + "} (${sn[i[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function hk(t,e,n){let{id:i}=e,{io:o}=e,{style:s=""}=e,{drop:u}=e;return addEventListener("drop",u),t.$$set=a=>{"id"in a&&n(0,i=a.id),"io"in a&&n(1,o=a.io),"style"in a&&n(2,s=a.style),"drop"in a&&n(3,u=a.drop)},[i,o,s,u]}class qh extends Be{constructor(e){super(),ze(this,e,hk,dk,Ye,{id:0,io:1,style:2,drop:3})}}function C1(t,e,n){const i=t.slice();return i[43]=e[n],i}function E1(t,e,n){const i=t.slice();return i[43]=e[n],i}function S1(t){let e,n,i,o,s,u,a;return{c(){e=Ee("div"),n=Ie(),i=Ee("div"),o=Ie(),s=Ee("div"),O(e,"class","drop-target inputs svelte-1tlokpe"),O(i,"class","drop-target outputs svelte-1tlokpe"),O(s,"class","hover svelte-1tlokpe")},m(f,d){oe(f,e,d),t[28](e),oe(f,n,d),oe(f,i,d),t[32](i),oe(f,o,d),oe(f,s,d),u||(a=[We(e,"dragenter",t[29]),We(e,"dragleave",t[30]),We(e,"drop",t[31]),We(i,"dragenter",t[33]),We(i,"dragleave",t[34]),We(i,"drop",t[35])],u=!0)},p:Ne,d(f){f&&(re(e),re(n),re(i),re(o),re(s)),t[28](null),t[32](null),u=!1,At(a)}}}function A1(t){let e,n;return e=new t7({props:{minWidth:200,minHeight:105,style:"background: transparent; border: none;",$$slots:{default:[gk]},$$scope:{ctx:t}}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function gk(t){let e,n,i,o,s,u;return{c(){e=Ge("svg"),n=Ge("path"),i=Ge("polyline"),o=Ge("line"),s=Ge("polyline"),u=Ge("line"),O(n,"stroke","none"),O(n,"d","M0 0h24v24H0z"),O(n,"fill","none"),O(i,"points","16 20 20 20 20 16"),O(o,"x1","14"),O(o,"y1","14"),O(o,"x2","20"),O(o,"y2","20"),O(s,"points","8 4 4 4 4 8"),O(u,"x1","4"),O(u,"y1","4"),O(u,"x2","10"),O(u,"y2","10"),O(e,"xmlns","http://www.w3.org/2000/svg"),O(e,"width","15"),O(e,"height","15"),O(e,"viewBox","0 0 24 24"),O(e,"stroke-width","2"),O(e,"stroke","var(--font-colour)"),O(e,"fill","none"),O(e,"stroke-linecap","round"),O(e,"stroke-linejoin","round"),Xe(e,"position","absolute"),Xe(e,"right","0.5em"),Xe(e,"bottom","0.5em")},m(a,f){oe(a,e,f),we(e,n),we(e,i),we(e,o),we(e,s),we(e,u)},p:Ne,d(a){a&&re(e)}}}function M1(t,e){let n,i,o;return i=new qh({props:{id:e[43],io:"input",drop:e[7]}}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,u){oe(s,n,u),Ae(i,s,u),o=!0},p(s,u){e=s;const a={};u[0]&1&&(a.id=e[43]),i.$set(a)},i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function T1(t,e){let n,i,o;return i=new qh({props:{id:e[43],io:"output",drop:e[7]}}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,u){oe(s,n,u),Ae(i,s,u),o=!0},p(s,u){e=s;const a={};u[0]&1&&(a.id=e[43]),i.$set(a)},i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function mk(t){let e,n,i,o,s=t[0].label+"",u,a,f,d,h,m,g,y=[],v=new Map,C,N=[],k=new Map,R,T,B,S,P=!t[0].group&&S1(t),w=t[0].group&&A1(t),I=Dt(t[0].inputs);const A=E=>E[43];for(let E=0;E<I.length;E+=1){let Y=E1(t,I,E),b=A(Y);v.set(b,y[E]=M1(b,Y))}let W=Dt(t[0].outputs);const H=E=>E[43];for(let E=0;E<W.length;E+=1){let Y=C1(t,W,E),b=H(Y);k.set(b,N[E]=T1(b,Y))}return{c(){P&&P.c(),e=Ie(),n=Ee("div"),i=Ee("span"),o=Ie(),u=rt(s),a=Ie(),f=Ee("button"),f.textContent="",d=Ie(),h=Ee("button"),h.textContent="",m=Ie(),w&&w.c(),g=Ie();for(let E=0;E<y.length;E+=1)y[E].c();C=Ie();for(let E=0;E<N.length;E+=1)N[E].c();R=Pt(),O(i,"class","drag-handle drag-dots svelte-1tlokpe"),O(f,"class","reverse svelte-1tlokpe"),O(h,"class","svelte-1tlokpe"),O(n,"class","label svelte-1tlokpe")},m(E,Y){P&&P.m(E,Y),oe(E,e,Y),oe(E,n,Y),we(n,i),i.innerHTML=ck,we(n,o),we(n,u),we(n,a),we(n,f),we(n,d),we(n,h),oe(E,m,Y),w&&w.m(E,Y),oe(E,g,Y);for(let b=0;b<y.length;b+=1)y[b]&&y[b].m(E,Y);oe(E,C,Y);for(let b=0;b<N.length;b+=1)N[b]&&N[b].m(E,Y);oe(E,R,Y),T=!0,B||(S=[We(f,"click",t[36]),We(h,"click",t[37])],B=!0)},p(E,Y){E[0].group?P&&(P.d(1),P=null):P?P.p(E,Y):(P=S1(E),P.c(),P.m(e.parentNode,e)),(!T||Y[0]&1)&&s!==(s=E[0].label+"")&&qt(u,s),E[0].group?w?Y[0]&1&&se(w,1):(w=A1(E),w.c(),se(w,1),w.m(g.parentNode,g)):w&&(Ct(),fe(w,1,1,()=>{w=null}),Et()),Y[0]&129&&(I=Dt(E[0].inputs),Ct(),y=xi(y,Y,A,1,E,I,v,C.parentNode,Cr,M1,C,E1),Et()),Y[0]&129&&(W=Dt(E[0].outputs),Ct(),N=xi(N,Y,H,1,E,W,k,R.parentNode,Cr,T1,R,C1),Et())},i(E){if(!T){se(w);for(let Y=0;Y<I.length;Y+=1)se(y[Y]);for(let Y=0;Y<W.length;Y+=1)se(N[Y]);T=!0}},o(E){fe(w);for(let Y=0;Y<y.length;Y+=1)fe(y[Y]);for(let Y=0;Y<N.length;Y+=1)fe(N[Y]);T=!1},d(E){E&&(re(e),re(n),re(m),re(g),re(C),re(R)),P&&P.d(E),w&&w.d(E);for(let Y=0;Y<y.length;Y+=1)y[Y].d(E);for(let Y=0;Y<N.length;Y+=1)N[Y].d(E);B=!1,At(S)}}}function Ol(t,e){return!t.includes(e)}function _k(t,e,n){let i;const o=r7();pe(t,o,z=>n(38,i=z));let{id:s}=e,{data:u}=e,{dragHandle:a=void 0}=e,{type:f}=e,{isConnectable:d}=e,{selected:h}=e,{selectable:m}=e,{deletable:g}=e,{draggable:y}=e,{parentId:v=void 0}=e,{zIndex:C}=e,{positionAbsoluteX:N}=e,{positionAbsoluteY:k}=e,{width:R=void 0}=e,{height:T=void 0}=e,{dragging:B=!1}=e,{sourcePosition:S=void 0}=e,{targetPosition:P=void 0}=e,w=u,I,A;const W=(z,x,ee)=>{if(z.preventDefault(),z.stopPropagation(),!z.dataTransfer)return null;if(z.dataTransfer.types[0].includes("patchcanvasprotocol/")){const ne=z.dataTransfer.types[0].replace("patchcanvasprotocol/","");let K=!1;switch(x){case"input":K=Ol(w.inputs,ne);break;case"output":K=Ol(w.outputs,ne);break}K?(G([...x==="input"?w.inputs:w.outputs,ne],ee),ee.style.backgroundColor="green",z.dataTransfer.dropEffect="move"):(ee.style.backgroundColor="red",ee.style.backgroundImage="",z.dataTransfer.dropEffect="none")}},H=(z,x)=>{z.preventDefault(),x.style.backgroundColor="",x===I?G(w.inputs,I):G(w.outputs,A)},E=(z,x,ee)=>{if(z.preventDefault(),!z.dataTransfer)return null;if(z.dataTransfer.types[0].includes("patchcanvasprotocol/")){const ne=z.dataTransfer.types[0].replace("patchcanvasprotocol/","");let K=!1;switch(x){case"input":K=Ol(w.inputs,ne);break;case"output":K=Ol(w.outputs,ne);break}K&&X(ne,x),ee.style.backgroundColor="",G(x==="input"?w.inputs:w.outputs,ee)}},Y=z=>{var x,ee,ne;if(z.preventDefault(),!z.dataTransfer)return null;if(z.dataTransfer.types[0]==="application/patchcanvaseraser"){if(((x=z.target.attributes.getNamedItem("data-nodeid"))==null?void 0:x.value)!==s)return null;let K=(ee=z.target.attributes.getNamedItem("data-handleid"))==null?void 0:ee.value,_e=((ne=z.target.attributes.getNamedItem("data-handlepos"))==null?void 0:ne.value)==="top"?"input":"output";Z(K,_e),G(_e==="input"?w.inputs:w.outputs,_e==="input"?I:A)}},b=n7();function X(z,x){switch(x){case"input":w.inputs.push(z);break;case"output":w.outputs.push(z);break}n(0,w),b(s)}function D(){let z=prompt(`Rename '${w.label}' to:`,w.label);z!==null&&n(0,w.label=z,w)}function V(){window.confirm(`Actually delete ${w.label}?`)&&zn(o,i=i.filter(x=>x.id!=s),i)}function G(z,x){if(x==null){setTimeout(G,0,z,x);return}let ee=[...z];ee.sort(p7);let ne=[];ne.push("transparent 2%");for(const K in sn){let _e="transparent";ee.includes(K)&&(_e=sn[K][0]);let Le=sn[K][1];x===A&&(Le+=.75);let Ze=Le*16/150*100;_e+=` ${Ze}%`,ne.push(_e)}ne.push("transparent"),x.style.backgroundImage=`linear-gradient(to right, ${ne.join(", ")})`}setTimeout(()=>{G(w.inputs,I),G(w.outputs,A)},0);function Z(z,x){switch(x){case"input":n(0,w.inputs=w.inputs.filter(ee=>ee!==z),w);break;case"output":n(0,w.outputs=w.outputs.filter(ee=>ee!==z),w);break}n(0,w),b(s)}function ie(z){Tn[z?"unshift":"push"](()=>{I=z,n(1,I)})}const ce=z=>W(z,"input",I),be=z=>H(z,I),ve=z=>E(z,"input",I);function le(z){Tn[z?"unshift":"push"](()=>{A=z,n(2,A)})}const ke=z=>W(z,"output",A),Ce=z=>H(z,A),ue=z=>E(z,"output",A),Q=()=>D(),$=()=>V();return t.$$set=z=>{"id"in z&&n(10,s=z.id),"data"in z&&n(11,u=z.data),"dragHandle"in z&&n(12,a=z.dragHandle),"type"in z&&n(13,f=z.type),"isConnectable"in z&&n(14,d=z.isConnectable),"selected"in z&&n(15,h=z.selected),"selectable"in z&&n(16,m=z.selectable),"deletable"in z&&n(17,g=z.deletable),"draggable"in z&&n(18,y=z.draggable),"parentId"in z&&n(19,v=z.parentId),"zIndex"in z&&n(20,C=z.zIndex),"positionAbsoluteX"in z&&n(21,N=z.positionAbsoluteX),"positionAbsoluteY"in z&&n(22,k=z.positionAbsoluteY),"width"in z&&n(23,R=z.width),"height"in z&&n(24,T=z.height),"dragging"in z&&n(25,B=z.dragging),"sourcePosition"in z&&n(26,S=z.sourcePosition),"targetPosition"in z&&n(27,P=z.targetPosition)},[w,I,A,o,W,H,E,Y,D,V,s,u,a,f,d,h,m,g,y,v,C,N,k,R,T,B,S,P,ie,ce,be,ve,le,ke,Ce,ue,Q,$]}class yk extends Be{constructor(e){super(),ze(this,e,_k,mk,Ye,{id:10,data:11,dragHandle:12,type:13,isConnectable:14,selected:15,selectable:16,deletable:17,draggable:18,parentId:19,zIndex:20,positionAbsoluteX:21,positionAbsoluteY:22,width:23,height:24,dragging:25,sourcePosition:26,targetPosition:27},null,[-1,-1])}}function P1(t){let e,n,i,o;function s(f,d){var h,m;if(((h=f[0].startHandle)==null?void 0:h.type)=="target")return bk;if(((m=f[0].startHandle)==null?void 0:m.type)=="source")return wk}let u=s(t),a=u&&u(t);return{c(){a&&a.c(),e=Ie(),n=Ge("circle"),O(n,"cx",i=t[0].targetX),O(n,"cy",o=t[0].targetY),O(n,"fill","var(--font-colour)"),O(n,"r",3),O(n,"stroke",sn[t[3]][0]??"var(--font-colour)"),O(n,"stroke-width",1.5)},m(f,d){a&&a.m(f,d),oe(f,e,d),oe(f,n,d)},p(f,d){u===(u=s(f))&&a?a.p(f,d):(a&&a.d(1),a=u&&u(f),a&&(a.c(),a.m(e.parentNode,e))),d&1&&i!==(i=f[0].targetX)&&O(n,"cx",i),d&1&&o!==(o=f[0].targetY)&&O(n,"cy",o)},d(f){f&&(re(e),re(n)),a&&a.d(f)}}}function wk(t){let e,n;return{c(){var i;e=Ge("path"),O(e,"fill","none"),O(e,"stroke-width",1.5),O(e,"class","animated"),O(e,"stroke",sn[t[3]][0]??"var(--font-colour)"),O(e,"d",t[1]),O(e,"marker-end",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,o){oe(i,e,o)},p(i,o){var s;o&2&&O(e,"d",i[1]),o&1&&n!==(n="url(#"+((s=i[0].startHandle)==null?void 0:s.handleId)+"line)")&&O(e,"marker-end",n)},d(i){i&&re(e)}}}function bk(t){let e,n;return{c(){var i;e=Ge("path"),O(e,"fill","none"),O(e,"stroke-width",1.5),O(e,"class","animated"),O(e,"stroke",sn[t[3]][0]??"var(--font-colour)"),O(e,"d",t[1]),O(e,"marker-start",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,o){oe(i,e,o)},p(i,o){var s;o&2&&O(e,"d",i[1]),o&1&&n!==(n="url(#"+((s=i[0].startHandle)==null?void 0:s.handleId)+"line)")&&O(e,"marker-start",n)},d(i){i&&re(e)}}}function pk(t){let e,n=t[0].path&&P1(t);return{c(){n&&n.c(),e=Pt()},m(i,o){n&&n.m(i,o),oe(i,e,o)},p(i,[o]){i[0].path?n?n.p(i,o):(n=P1(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Ne,o:Ne,d(i){i&&re(e),n&&n.d(i)}}}function vk(t,e,n){var a;let i;const o=i7();pe(t,o,f=>n(0,i=f));let s="",u=((a=i.startHandle)==null?void 0:a.handleId)??"";return t.$$.update=()=>{if(t.$$.dirty&1){let{sourceX:f,sourceY:d,sourcePosition:h,targetX:m,targetY:g,targetPosition:y}=i;n(1,[s]=Nr({sourceX:f??0,sourceY:d??0,sourcePosition:h??Ue.Bottom,targetX:m??0,targetY:g??0,targetPosition:y??Ue.Top}),s)}},[i,s,o,u]}class kk extends Be{constructor(e){super(),ze(this,e,vk,pk,Ye,{})}}function Ck(t){let e,n,i,o,s,u,a;return{c(){e=Ge("svg"),n=Ge("defs"),i=Ge("marker"),o=Ge("polyline"),O(o,"stroke",t[0]),O(o,"stroke-linecap","round"),O(o,"stroke-linejoin","round"),O(o,"stroke-width",t[6]),O(o,"fill",t[0]),O(o,"points","-5,-4 0,0 -5,4 -5,-4"),O(i,"class","svelte-flow__arrowhead"),O(i,"id",t[1]),O(i,"markerWidth",s=`${t[2]}`),O(i,"markerHeight",u=`${t[3]}`),O(i,"viewBox","-10 -10 20 20"),O(i,"markerUnits",t[4]),O(i,"orient",t[5]),O(i,"refX",a=t[1].includes("line")?"4":"0"),O(i,"refY","0"),O(e,"class","svelte-1wqugfi")},m(f,d){oe(f,e,d),we(e,n),we(n,i),we(i,o)},p(f,[d]){d&1&&O(o,"stroke",f[0]),d&64&&O(o,"stroke-width",f[6]),d&1&&O(o,"fill",f[0]),d&2&&O(i,"id",f[1]),d&4&&s!==(s=`${f[2]}`)&&O(i,"markerWidth",s),d&8&&u!==(u=`${f[3]}`)&&O(i,"markerHeight",u),d&16&&O(i,"markerUnits",f[4]),d&32&&O(i,"orient",f[5]),d&2&&a!==(a=f[1].includes("line")?"4":"0")&&O(i,"refX",a)},i:Ne,o:Ne,d(f){f&&re(e)}}}function Ek(t,e,n){let{id:i}=e,{type:o}=e,{width:s=12.5}=e,{height:u=12.5}=e,{markerUnits:a="strokeWidth"}=e,{orient:f="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=m=>{"id"in m&&n(1,i=m.id),"type"in m&&n(7,o=m.type),"width"in m&&n(2,s=m.width),"height"in m&&n(3,u=m.height),"markerUnits"in m&&n(4,a=m.markerUnits),"orient"in m&&n(5,f=m.orient),"color"in m&&n(0,d=m.color),"strokeWidth"in m&&n(6,h=m.strokeWidth)},t.$$.update=()=>{t.$$.dirty&2&&n(0,d=sn[i.replace("line","")??""][0])},[d,i,s,u,a,f,h,o]}class Jh extends Be{constructor(e){super(),ze(this,e,Ek,Ck,Ye,{id:1,type:7,width:2,height:3,markerUnits:4,orient:5,color:0,strokeWidth:6})}}var Ql={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Ql.exports;(function(t,e){(function(){var n,i="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",a="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",m=1,g=2,y=4,v=1,C=2,N=1,k=2,R=4,T=8,B=16,S=32,P=64,w=128,I=256,A=512,W=30,H="...",E=800,Y=16,b=1,X=2,D=3,V=1/0,G=9007199254740991,Z=17976931348623157e292,ie=NaN,ce=4294967295,be=ce-1,ve=ce>>>1,le=[["ary",w],["bind",N],["bindKey",k],["curry",T],["curryRight",B],["flip",A],["partial",S],["partialRight",P],["rearg",I]],ke="[object Arguments]",Ce="[object Array]",ue="[object AsyncFunction]",Q="[object Boolean]",$="[object Date]",z="[object DOMException]",x="[object Error]",ee="[object Function]",ne="[object GeneratorFunction]",K="[object Map]",_e="[object Number]",Le="[object Null]",Ze="[object Object]",De="[object Promise]",ct="[object Proxy]",nt="[object RegExp]",yt="[object Set]",Pe="[object String]",Ut="[object Symbol]",en="[object Undefined]",Ot="[object WeakMap]",Qn="[object WeakSet]",Ht="[object ArrayBuffer]",zt="[object DataView]",te="[object Float32Array]",Kt="[object Float64Array]",wt="[object Int8Array]",mt="[object Int16Array]",Wn="[object Int32Array]",Yn="[object Uint8Array]",Xn="[object Uint8ClampedArray]",Fn="[object Uint16Array]",wn="[object Uint32Array]",jn=/\b__p \+= '';/g,Zi=/\b(__p \+=) '' \+/g,Oo=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Gi=/&(?:amp|lt|gt|quot|#39);/g,Hr=/[&<>"']/g,No=RegExp(Gi.source),qi=RegExp(Hr.source),gi=/<%-([\s\S]+?)%>/g,mi=/<%([\s\S]+?)%>/g,Lo=/<%=([\s\S]+?)%>/g,Bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Do=/^\w*$/,zr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Br=/[\\^$.*+?()[\]{}|]/g,us=RegExp(Br.source),Wr=/^\s+/,as=/\s/,fs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cs=/\{\n\/\* \[wrapped with (.+)\] \*/,ds=/,? & /,hs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gs=/[()=,{}\[\]\/\s]/,ms=/\\(\\)?/g,_s=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ro=/\w*$/,ys=/^[-+]0x[0-9a-f]+$/i,ws=/^0b[01]+$/i,bs=/^\[object .+?Constructor\]$/,ps=/^0o[0-7]+$/i,vs=/^(?:0|[1-9]\d*)$/,ks=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ji=/($^)/,Cs=/['\n\r\u2028\u2029\\]/g,Qi="\\ud800-\\udfff",Es="\\u0300-\\u036f",Ss="\\ufe20-\\ufe2f",q="\\u20d0-\\u20ff",Aa=Es+Ss+q,Ma="\\u2700-\\u27bf",Ta="a-z\\xdf-\\xf6\\xf8-\\xff",Qh="\\xac\\xb1\\xd7\\xf7",jh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$h="\\u2000-\\u206f",e0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pa="A-Z\\xc0-\\xd6\\xd8-\\xde",Ia="\\ufe0e\\ufe0f",Oa=Qh+jh+$h+e0,As="[']",t0="["+Qi+"]",Na="["+Oa+"]",Ho="["+Aa+"]",La="\\d+",n0="["+Ma+"]",Da="["+Ta+"]",Ra="[^"+Qi+Oa+La+Ma+Ta+Pa+"]",Ms="\\ud83c[\\udffb-\\udfff]",i0="(?:"+Ho+"|"+Ms+")",Ha="[^"+Qi+"]",Ts="(?:\\ud83c[\\udde6-\\uddff]){2}",Ps="[\\ud800-\\udbff][\\udc00-\\udfff]",ji="["+Pa+"]",za="\\u200d",Ba="(?:"+Da+"|"+Ra+")",r0="(?:"+ji+"|"+Ra+")",Wa="(?:"+As+"(?:d|ll|m|re|s|t|ve))?",Ya="(?:"+As+"(?:D|LL|M|RE|S|T|VE))?",Xa=i0+"?",Fa="["+Ia+"]?",o0="(?:"+za+"(?:"+[Ha,Ts,Ps].join("|")+")"+Fa+Xa+")*",l0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xa=Fa+Xa+o0,u0="(?:"+[n0,Ts,Ps].join("|")+")"+xa,a0="(?:"+[Ha+Ho+"?",Ho,Ts,Ps,t0].join("|")+")",f0=RegExp(As,"g"),c0=RegExp(Ho,"g"),Is=RegExp(Ms+"(?="+Ms+")|"+a0+xa,"g"),d0=RegExp([ji+"?"+Da+"+"+Wa+"(?="+[Na,ji,"$"].join("|")+")",r0+"+"+Ya+"(?="+[Na,ji+Ba,"$"].join("|")+")",ji+"?"+Ba+"+"+Wa,ji+"+"+Ya,s0,l0,La,u0].join("|"),"g"),h0=RegExp("["+za+Qi+Aa+Ia+"]"),g0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,m0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_0=-1,_t={};_t[te]=_t[Kt]=_t[wt]=_t[mt]=_t[Wn]=_t[Yn]=_t[Xn]=_t[Fn]=_t[wn]=!0,_t[ke]=_t[Ce]=_t[Ht]=_t[Q]=_t[zt]=_t[$]=_t[x]=_t[ee]=_t[K]=_t[_e]=_t[Ze]=_t[nt]=_t[yt]=_t[Pe]=_t[Ot]=!1;var ht={};ht[ke]=ht[Ce]=ht[Ht]=ht[zt]=ht[Q]=ht[$]=ht[te]=ht[Kt]=ht[wt]=ht[mt]=ht[Wn]=ht[K]=ht[_e]=ht[Ze]=ht[nt]=ht[yt]=ht[Pe]=ht[Ut]=ht[Yn]=ht[Xn]=ht[Fn]=ht[wn]=!0,ht[x]=ht[ee]=ht[Ot]=!1;var y0={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},w0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},b0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},p0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},v0=parseFloat,k0=parseInt,Va=typeof io=="object"&&io&&io.Object===Object&&io,C0=typeof self=="object"&&self&&self.Object===Object&&self,Wt=Va||C0||Function("return this")(),Os=e&&!e.nodeType&&e,Ii=Os&&!0&&t&&!t.nodeType&&t,Ua=Ii&&Ii.exports===Os,Ns=Ua&&Va.process,bn=function(){try{var J=Ii&&Ii.require&&Ii.require("util").types;return J||Ns&&Ns.binding&&Ns.binding("util")}catch{}}(),Ka=bn&&bn.isArrayBuffer,Za=bn&&bn.isDate,Ga=bn&&bn.isMap,qa=bn&&bn.isRegExp,Ja=bn&&bn.isSet,Qa=bn&&bn.isTypedArray;function un(J,de,ae){switch(ae.length){case 0:return J.call(de);case 1:return J.call(de,ae[0]);case 2:return J.call(de,ae[0],ae[1]);case 3:return J.call(de,ae[0],ae[1],ae[2])}return J.apply(de,ae)}function E0(J,de,ae,Oe){for(var qe=-1,st=J==null?0:J.length;++qe<st;){var Nt=J[qe];de(Oe,Nt,ae(Nt),J)}return Oe}function pn(J,de){for(var ae=-1,Oe=J==null?0:J.length;++ae<Oe&&de(J[ae],ae,J)!==!1;);return J}function S0(J,de){for(var ae=J==null?0:J.length;ae--&&de(J[ae],ae,J)!==!1;);return J}function ja(J,de){for(var ae=-1,Oe=J==null?0:J.length;++ae<Oe;)if(!de(J[ae],ae,J))return!1;return!0}function _i(J,de){for(var ae=-1,Oe=J==null?0:J.length,qe=0,st=[];++ae<Oe;){var Nt=J[ae];de(Nt,ae,J)&&(st[qe++]=Nt)}return st}function zo(J,de){var ae=J==null?0:J.length;return!!ae&&$i(J,de,0)>-1}function Ls(J,de,ae){for(var Oe=-1,qe=J==null?0:J.length;++Oe<qe;)if(ae(de,J[Oe]))return!0;return!1}function bt(J,de){for(var ae=-1,Oe=J==null?0:J.length,qe=Array(Oe);++ae<Oe;)qe[ae]=de(J[ae],ae,J);return qe}function yi(J,de){for(var ae=-1,Oe=de.length,qe=J.length;++ae<Oe;)J[qe+ae]=de[ae];return J}function Ds(J,de,ae,Oe){var qe=-1,st=J==null?0:J.length;for(Oe&&st&&(ae=J[++qe]);++qe<st;)ae=de(ae,J[qe],qe,J);return ae}function A0(J,de,ae,Oe){var qe=J==null?0:J.length;for(Oe&&qe&&(ae=J[--qe]);qe--;)ae=de(ae,J[qe],qe,J);return ae}function Rs(J,de){for(var ae=-1,Oe=J==null?0:J.length;++ae<Oe;)if(de(J[ae],ae,J))return!0;return!1}var M0=Hs("length");function T0(J){return J.split("")}function P0(J){return J.match(hs)||[]}function $a(J,de,ae){var Oe;return ae(J,function(qe,st,Nt){if(de(qe,st,Nt))return Oe=st,!1}),Oe}function Bo(J,de,ae,Oe){for(var qe=J.length,st=ae+(Oe?1:-1);Oe?st--:++st<qe;)if(de(J[st],st,J))return st;return-1}function $i(J,de,ae){return de===de?X0(J,de,ae):Bo(J,ef,ae)}function I0(J,de,ae,Oe){for(var qe=ae-1,st=J.length;++qe<st;)if(Oe(J[qe],de))return qe;return-1}function ef(J){return J!==J}function tf(J,de){var ae=J==null?0:J.length;return ae?Bs(J,de)/ae:ie}function Hs(J){return function(de){return de==null?n:de[J]}}function zs(J){return function(de){return J==null?n:J[de]}}function nf(J,de,ae,Oe,qe){return qe(J,function(st,Nt,dt){ae=Oe?(Oe=!1,st):de(ae,st,Nt,dt)}),ae}function O0(J,de){var ae=J.length;for(J.sort(de);ae--;)J[ae]=J[ae].value;return J}function Bs(J,de){for(var ae,Oe=-1,qe=J.length;++Oe<qe;){var st=de(J[Oe]);st!==n&&(ae=ae===n?st:ae+st)}return ae}function Ws(J,de){for(var ae=-1,Oe=Array(J);++ae<J;)Oe[ae]=de(ae);return Oe}function N0(J,de){return bt(de,function(ae){return[ae,J[ae]]})}function rf(J){return J&&J.slice(0,uf(J)+1).replace(Wr,"")}function an(J){return function(de){return J(de)}}function Ys(J,de){return bt(de,function(ae){return J[ae]})}function Yr(J,de){return J.has(de)}function of(J,de){for(var ae=-1,Oe=J.length;++ae<Oe&&$i(de,J[ae],0)>-1;);return ae}function lf(J,de){for(var ae=J.length;ae--&&$i(de,J[ae],0)>-1;);return ae}function L0(J,de){for(var ae=J.length,Oe=0;ae--;)J[ae]===de&&++Oe;return Oe}var D0=zs(y0),R0=zs(w0);function H0(J){return"\\"+p0[J]}function z0(J,de){return J==null?n:J[de]}function er(J){return h0.test(J)}function B0(J){return g0.test(J)}function W0(J){for(var de,ae=[];!(de=J.next()).done;)ae.push(de.value);return ae}function Xs(J){var de=-1,ae=Array(J.size);return J.forEach(function(Oe,qe){ae[++de]=[qe,Oe]}),ae}function sf(J,de){return function(ae){return J(de(ae))}}function wi(J,de){for(var ae=-1,Oe=J.length,qe=0,st=[];++ae<Oe;){var Nt=J[ae];(Nt===de||Nt===h)&&(J[ae]=h,st[qe++]=ae)}return st}function Wo(J){var de=-1,ae=Array(J.size);return J.forEach(function(Oe){ae[++de]=Oe}),ae}function Y0(J){var de=-1,ae=Array(J.size);return J.forEach(function(Oe){ae[++de]=[Oe,Oe]}),ae}function X0(J,de,ae){for(var Oe=ae-1,qe=J.length;++Oe<qe;)if(J[Oe]===de)return Oe;return-1}function F0(J,de,ae){for(var Oe=ae+1;Oe--;)if(J[Oe]===de)return Oe;return Oe}function tr(J){return er(J)?V0(J):M0(J)}function Pn(J){return er(J)?U0(J):T0(J)}function uf(J){for(var de=J.length;de--&&as.test(J.charAt(de)););return de}var x0=zs(b0);function V0(J){for(var de=Is.lastIndex=0;Is.test(J);)++de;return de}function U0(J){return J.match(Is)||[]}function K0(J){return J.match(d0)||[]}var Z0=function J(de){de=de==null?Wt:nr.defaults(Wt.Object(),de,nr.pick(Wt,m0));var ae=de.Array,Oe=de.Date,qe=de.Error,st=de.Function,Nt=de.Math,dt=de.Object,Fs=de.RegExp,G0=de.String,vn=de.TypeError,Yo=ae.prototype,q0=st.prototype,ir=dt.prototype,Xo=de["__core-js_shared__"],Fo=q0.toString,ft=ir.hasOwnProperty,J0=0,af=function(){var r=/[^.]+$/.exec(Xo&&Xo.keys&&Xo.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),xo=ir.toString,Q0=Fo.call(dt),j0=Wt._,$0=Fs("^"+Fo.call(ft).replace(Br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vo=Ua?de.Buffer:n,bi=de.Symbol,Uo=de.Uint8Array,ff=Vo?Vo.allocUnsafe:n,Ko=sf(dt.getPrototypeOf,dt),cf=dt.create,df=ir.propertyIsEnumerable,Zo=Yo.splice,hf=bi?bi.isConcatSpreadable:n,Xr=bi?bi.iterator:n,Oi=bi?bi.toStringTag:n,Go=function(){try{var r=Hi(dt,"defineProperty");return r({},"",{}),r}catch{}}(),eg=de.clearTimeout!==Wt.clearTimeout&&de.clearTimeout,tg=Oe&&Oe.now!==Wt.Date.now&&Oe.now,ng=de.setTimeout!==Wt.setTimeout&&de.setTimeout,qo=Nt.ceil,Jo=Nt.floor,xs=dt.getOwnPropertySymbols,ig=Vo?Vo.isBuffer:n,gf=de.isFinite,rg=Yo.join,og=sf(dt.keys,dt),Lt=Nt.max,Zt=Nt.min,lg=Oe.now,sg=de.parseInt,mf=Nt.random,ug=Yo.reverse,Vs=Hi(de,"DataView"),Fr=Hi(de,"Map"),Us=Hi(de,"Promise"),rr=Hi(de,"Set"),xr=Hi(de,"WeakMap"),Vr=Hi(dt,"create"),Qo=xr&&new xr,or={},ag=zi(Vs),fg=zi(Fr),cg=zi(Us),dg=zi(rr),hg=zi(xr),jo=bi?bi.prototype:n,Ur=jo?jo.valueOf:n,_f=jo?jo.toString:n;function M(r){if(kt(r)&&!Je(r)&&!(r instanceof tt)){if(r instanceof kn)return r;if(ft.call(r,"__wrapped__"))return yc(r)}return new kn(r)}var lr=function(){function r(){}return function(l){if(!pt(l))return{};if(cf)return cf(l);r.prototype=l;var c=new r;return r.prototype=n,c}}();function $o(){}function kn(r,l){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}M.templateSettings={escape:gi,evaluate:mi,interpolate:Lo,variable:"",imports:{_:M}},M.prototype=$o.prototype,M.prototype.constructor=M,kn.prototype=lr($o.prototype),kn.prototype.constructor=kn;function tt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function gg(){var r=new tt(this.__wrapped__);return r.__actions__=tn(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=tn(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=tn(this.__views__),r}function mg(){if(this.__filtered__){var r=new tt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function _g(){var r=this.__wrapped__.value(),l=this.__dir__,c=Je(r),_=l<0,p=c?r.length:0,L=Tm(0,p,this.__views__),F=L.start,U=L.end,j=U-F,ge=_?U:F-1,me=this.__iteratees__,ye=me.length,Se=0,Re=Zt(j,this.__takeCount__);if(!c||!_&&p==j&&Re==j)return Yf(r,this.__actions__);var xe=[];e:for(;j--&&Se<Re;){ge+=l;for(var je=-1,Ve=r[ge];++je<ye;){var et=me[je],it=et.iteratee,dn=et.type,jt=it(Ve);if(dn==X)Ve=jt;else if(!jt){if(dn==b)continue e;break e}}xe[Se++]=Ve}return xe}tt.prototype=lr($o.prototype),tt.prototype.constructor=tt;function Ni(r){var l=-1,c=r==null?0:r.length;for(this.clear();++l<c;){var _=r[l];this.set(_[0],_[1])}}function yg(){this.__data__=Vr?Vr(null):{},this.size=0}function wg(r){var l=this.has(r)&&delete this.__data__[r];return this.size-=l?1:0,l}function bg(r){var l=this.__data__;if(Vr){var c=l[r];return c===f?n:c}return ft.call(l,r)?l[r]:n}function pg(r){var l=this.__data__;return Vr?l[r]!==n:ft.call(l,r)}function vg(r,l){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Vr&&l===n?f:l,this}Ni.prototype.clear=yg,Ni.prototype.delete=wg,Ni.prototype.get=bg,Ni.prototype.has=pg,Ni.prototype.set=vg;function $n(r){var l=-1,c=r==null?0:r.length;for(this.clear();++l<c;){var _=r[l];this.set(_[0],_[1])}}function kg(){this.__data__=[],this.size=0}function Cg(r){var l=this.__data__,c=el(l,r);if(c<0)return!1;var _=l.length-1;return c==_?l.pop():Zo.call(l,c,1),--this.size,!0}function Eg(r){var l=this.__data__,c=el(l,r);return c<0?n:l[c][1]}function Sg(r){return el(this.__data__,r)>-1}function Ag(r,l){var c=this.__data__,_=el(c,r);return _<0?(++this.size,c.push([r,l])):c[_][1]=l,this}$n.prototype.clear=kg,$n.prototype.delete=Cg,$n.prototype.get=Eg,$n.prototype.has=Sg,$n.prototype.set=Ag;function ei(r){var l=-1,c=r==null?0:r.length;for(this.clear();++l<c;){var _=r[l];this.set(_[0],_[1])}}function Mg(){this.size=0,this.__data__={hash:new Ni,map:new(Fr||$n),string:new Ni}}function Tg(r){var l=dl(this,r).delete(r);return this.size-=l?1:0,l}function Pg(r){return dl(this,r).get(r)}function Ig(r){return dl(this,r).has(r)}function Og(r,l){var c=dl(this,r),_=c.size;return c.set(r,l),this.size+=c.size==_?0:1,this}ei.prototype.clear=Mg,ei.prototype.delete=Tg,ei.prototype.get=Pg,ei.prototype.has=Ig,ei.prototype.set=Og;function Li(r){var l=-1,c=r==null?0:r.length;for(this.__data__=new ei;++l<c;)this.add(r[l])}function Ng(r){return this.__data__.set(r,f),this}function Lg(r){return this.__data__.has(r)}Li.prototype.add=Li.prototype.push=Ng,Li.prototype.has=Lg;function In(r){var l=this.__data__=new $n(r);this.size=l.size}function Dg(){this.__data__=new $n,this.size=0}function Rg(r){var l=this.__data__,c=l.delete(r);return this.size=l.size,c}function Hg(r){return this.__data__.get(r)}function zg(r){return this.__data__.has(r)}function Bg(r,l){var c=this.__data__;if(c instanceof $n){var _=c.__data__;if(!Fr||_.length<o-1)return _.push([r,l]),this.size=++c.size,this;c=this.__data__=new ei(_)}return c.set(r,l),this.size=c.size,this}In.prototype.clear=Dg,In.prototype.delete=Rg,In.prototype.get=Hg,In.prototype.has=zg,In.prototype.set=Bg;function yf(r,l){var c=Je(r),_=!c&&Bi(r),p=!c&&!_&&Ei(r),L=!c&&!_&&!p&&fr(r),F=c||_||p||L,U=F?Ws(r.length,G0):[],j=U.length;for(var ge in r)(l||ft.call(r,ge))&&!(F&&(ge=="length"||p&&(ge=="offset"||ge=="parent")||L&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||ri(ge,j)))&&U.push(ge);return U}function wf(r){var l=r.length;return l?r[nu(0,l-1)]:n}function Wg(r,l){return hl(tn(r),Di(l,0,r.length))}function Yg(r){return hl(tn(r))}function Ks(r,l,c){(c!==n&&!On(r[l],c)||c===n&&!(l in r))&&ti(r,l,c)}function Kr(r,l,c){var _=r[l];(!(ft.call(r,l)&&On(_,c))||c===n&&!(l in r))&&ti(r,l,c)}function el(r,l){for(var c=r.length;c--;)if(On(r[c][0],l))return c;return-1}function Xg(r,l,c,_){return pi(r,function(p,L,F){l(_,p,c(p),F)}),_}function bf(r,l){return r&&Vn(l,Rt(l),r)}function Fg(r,l){return r&&Vn(l,rn(l),r)}function ti(r,l,c){l=="__proto__"&&Go?Go(r,l,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[l]=c}function Zs(r,l){for(var c=-1,_=l.length,p=ae(_),L=r==null;++c<_;)p[c]=L?n:Mu(r,l[c]);return p}function Di(r,l,c){return r===r&&(c!==n&&(r=r<=c?r:c),l!==n&&(r=r>=l?r:l)),r}function Cn(r,l,c,_,p,L){var F,U=l&m,j=l&g,ge=l&y;if(c&&(F=p?c(r,_,p,L):c(r)),F!==n)return F;if(!pt(r))return r;var me=Je(r);if(me){if(F=Im(r),!U)return tn(r,F)}else{var ye=Gt(r),Se=ye==ee||ye==ne;if(Ei(r))return xf(r,U);if(ye==Ze||ye==ke||Se&&!p){if(F=j||Se?{}:uc(r),!U)return j?bm(r,Fg(F,r)):wm(r,bf(F,r))}else{if(!ht[ye])return p?r:{};F=Om(r,ye,U)}}L||(L=new In);var Re=L.get(r);if(Re)return Re;L.set(r,F),zc(r)?r.forEach(function(Ve){F.add(Cn(Ve,l,c,Ve,r,L))}):Rc(r)&&r.forEach(function(Ve,et){F.set(et,Cn(Ve,l,c,et,r,L))});var xe=ge?j?hu:du:j?rn:Rt,je=me?n:xe(r);return pn(je||r,function(Ve,et){je&&(et=Ve,Ve=r[et]),Kr(F,et,Cn(Ve,l,c,et,r,L))}),F}function xg(r){var l=Rt(r);return function(c){return pf(c,r,l)}}function pf(r,l,c){var _=c.length;if(r==null)return!_;for(r=dt(r);_--;){var p=c[_],L=l[p],F=r[p];if(F===n&&!(p in r)||!L(F))return!1}return!0}function vf(r,l,c){if(typeof r!="function")throw new vn(u);return $r(function(){r.apply(n,c)},l)}function Zr(r,l,c,_){var p=-1,L=zo,F=!0,U=r.length,j=[],ge=l.length;if(!U)return j;c&&(l=bt(l,an(c))),_?(L=Ls,F=!1):l.length>=o&&(L=Yr,F=!1,l=new Li(l));e:for(;++p<U;){var me=r[p],ye=c==null?me:c(me);if(me=_||me!==0?me:0,F&&ye===ye){for(var Se=ge;Se--;)if(l[Se]===ye)continue e;j.push(me)}else L(l,ye,_)||j.push(me)}return j}var pi=Gf(xn),kf=Gf(qs,!0);function Vg(r,l){var c=!0;return pi(r,function(_,p,L){return c=!!l(_,p,L),c}),c}function tl(r,l,c){for(var _=-1,p=r.length;++_<p;){var L=r[_],F=l(L);if(F!=null&&(U===n?F===F&&!cn(F):c(F,U)))var U=F,j=L}return j}function Ug(r,l,c,_){var p=r.length;for(c=Qe(c),c<0&&(c=-c>p?0:p+c),_=_===n||_>p?p:Qe(_),_<0&&(_+=p),_=c>_?0:Wc(_);c<_;)r[c++]=l;return r}function Cf(r,l){var c=[];return pi(r,function(_,p,L){l(_,p,L)&&c.push(_)}),c}function Yt(r,l,c,_,p){var L=-1,F=r.length;for(c||(c=Lm),p||(p=[]);++L<F;){var U=r[L];l>0&&c(U)?l>1?Yt(U,l-1,c,_,p):yi(p,U):_||(p[p.length]=U)}return p}var Gs=qf(),Ef=qf(!0);function xn(r,l){return r&&Gs(r,l,Rt)}function qs(r,l){return r&&Ef(r,l,Rt)}function nl(r,l){return _i(l,function(c){return oi(r[c])})}function Ri(r,l){l=ki(l,r);for(var c=0,_=l.length;r!=null&&c<_;)r=r[Un(l[c++])];return c&&c==_?r:n}function Sf(r,l,c){var _=l(r);return Je(r)?_:yi(_,c(r))}function Jt(r){return r==null?r===n?en:Le:Oi&&Oi in dt(r)?Mm(r):Ym(r)}function Js(r,l){return r>l}function Kg(r,l){return r!=null&&ft.call(r,l)}function Zg(r,l){return r!=null&&l in dt(r)}function Gg(r,l,c){return r>=Zt(l,c)&&r<Lt(l,c)}function Qs(r,l,c){for(var _=c?Ls:zo,p=r[0].length,L=r.length,F=L,U=ae(L),j=1/0,ge=[];F--;){var me=r[F];F&&l&&(me=bt(me,an(l))),j=Zt(me.length,j),U[F]=!c&&(l||p>=120&&me.length>=120)?new Li(F&&me):n}me=r[0];var ye=-1,Se=U[0];e:for(;++ye<p&&ge.length<j;){var Re=me[ye],xe=l?l(Re):Re;if(Re=c||Re!==0?Re:0,!(Se?Yr(Se,xe):_(ge,xe,c))){for(F=L;--F;){var je=U[F];if(!(je?Yr(je,xe):_(r[F],xe,c)))continue e}Se&&Se.push(xe),ge.push(Re)}}return ge}function qg(r,l,c,_){return xn(r,function(p,L,F){l(_,c(p),L,F)}),_}function Gr(r,l,c){l=ki(l,r),r=dc(r,l);var _=r==null?r:r[Un(Sn(l))];return _==null?n:un(_,r,c)}function Af(r){return kt(r)&&Jt(r)==ke}function Jg(r){return kt(r)&&Jt(r)==Ht}function Qg(r){return kt(r)&&Jt(r)==$}function qr(r,l,c,_,p){return r===l?!0:r==null||l==null||!kt(r)&&!kt(l)?r!==r&&l!==l:jg(r,l,c,_,qr,p)}function jg(r,l,c,_,p,L){var F=Je(r),U=Je(l),j=F?Ce:Gt(r),ge=U?Ce:Gt(l);j=j==ke?Ze:j,ge=ge==ke?Ze:ge;var me=j==Ze,ye=ge==Ze,Se=j==ge;if(Se&&Ei(r)){if(!Ei(l))return!1;F=!0,me=!1}if(Se&&!me)return L||(L=new In),F||fr(r)?oc(r,l,c,_,p,L):Sm(r,l,j,c,_,p,L);if(!(c&v)){var Re=me&&ft.call(r,"__wrapped__"),xe=ye&&ft.call(l,"__wrapped__");if(Re||xe){var je=Re?r.value():r,Ve=xe?l.value():l;return L||(L=new In),p(je,Ve,c,_,L)}}return Se?(L||(L=new In),Am(r,l,c,_,p,L)):!1}function $g(r){return kt(r)&&Gt(r)==K}function js(r,l,c,_){var p=c.length,L=p,F=!_;if(r==null)return!L;for(r=dt(r);p--;){var U=c[p];if(F&&U[2]?U[1]!==r[U[0]]:!(U[0]in r))return!1}for(;++p<L;){U=c[p];var j=U[0],ge=r[j],me=U[1];if(F&&U[2]){if(ge===n&&!(j in r))return!1}else{var ye=new In;if(_)var Se=_(ge,me,j,r,l,ye);if(!(Se===n?qr(me,ge,v|C,_,ye):Se))return!1}}return!0}function Mf(r){if(!pt(r)||Rm(r))return!1;var l=oi(r)?$0:bs;return l.test(zi(r))}function em(r){return kt(r)&&Jt(r)==nt}function tm(r){return kt(r)&&Gt(r)==yt}function nm(r){return kt(r)&&bl(r.length)&&!!_t[Jt(r)]}function Tf(r){return typeof r=="function"?r:r==null?on:typeof r=="object"?Je(r)?Of(r[0],r[1]):If(r):Jc(r)}function $s(r){if(!jr(r))return og(r);var l=[];for(var c in dt(r))ft.call(r,c)&&c!="constructor"&&l.push(c);return l}function im(r){if(!pt(r))return Wm(r);var l=jr(r),c=[];for(var _ in r)_=="constructor"&&(l||!ft.call(r,_))||c.push(_);return c}function eu(r,l){return r<l}function Pf(r,l){var c=-1,_=nn(r)?ae(r.length):[];return pi(r,function(p,L,F){_[++c]=l(p,L,F)}),_}function If(r){var l=mu(r);return l.length==1&&l[0][2]?fc(l[0][0],l[0][1]):function(c){return c===r||js(c,r,l)}}function Of(r,l){return yu(r)&&ac(l)?fc(Un(r),l):function(c){var _=Mu(c,r);return _===n&&_===l?Tu(c,r):qr(l,_,v|C)}}function il(r,l,c,_,p){r!==l&&Gs(l,function(L,F){if(p||(p=new In),pt(L))rm(r,l,F,c,il,_,p);else{var U=_?_(bu(r,F),L,F+"",r,l,p):n;U===n&&(U=L),Ks(r,F,U)}},rn)}function rm(r,l,c,_,p,L,F){var U=bu(r,c),j=bu(l,c),ge=F.get(j);if(ge){Ks(r,c,ge);return}var me=L?L(U,j,c+"",r,l,F):n,ye=me===n;if(ye){var Se=Je(j),Re=!Se&&Ei(j),xe=!Se&&!Re&&fr(j);me=j,Se||Re||xe?Je(U)?me=U:Mt(U)?me=tn(U):Re?(ye=!1,me=xf(j,!0)):xe?(ye=!1,me=Vf(j,!0)):me=[]:eo(j)||Bi(j)?(me=U,Bi(U)?me=Yc(U):(!pt(U)||oi(U))&&(me=uc(j))):ye=!1}ye&&(F.set(j,me),p(me,j,_,L,F),F.delete(j)),Ks(r,c,me)}function Nf(r,l){var c=r.length;if(c)return l+=l<0?c:0,ri(l,c)?r[l]:n}function Lf(r,l,c){l.length?l=bt(l,function(L){return Je(L)?function(F){return Ri(F,L.length===1?L[0]:L)}:L}):l=[on];var _=-1;l=bt(l,an(Fe()));var p=Pf(r,function(L,F,U){var j=bt(l,function(ge){return ge(L)});return{criteria:j,index:++_,value:L}});return O0(p,function(L,F){return ym(L,F,c)})}function om(r,l){return Df(r,l,function(c,_){return Tu(r,_)})}function Df(r,l,c){for(var _=-1,p=l.length,L={};++_<p;){var F=l[_],U=Ri(r,F);c(U,F)&&Jr(L,ki(F,r),U)}return L}function lm(r){return function(l){return Ri(l,r)}}function tu(r,l,c,_){var p=_?I0:$i,L=-1,F=l.length,U=r;for(r===l&&(l=tn(l)),c&&(U=bt(r,an(c)));++L<F;)for(var j=0,ge=l[L],me=c?c(ge):ge;(j=p(U,me,j,_))>-1;)U!==r&&Zo.call(U,j,1),Zo.call(r,j,1);return r}function Rf(r,l){for(var c=r?l.length:0,_=c-1;c--;){var p=l[c];if(c==_||p!==L){var L=p;ri(p)?Zo.call(r,p,1):ou(r,p)}}return r}function nu(r,l){return r+Jo(mf()*(l-r+1))}function sm(r,l,c,_){for(var p=-1,L=Lt(qo((l-r)/(c||1)),0),F=ae(L);L--;)F[_?L:++p]=r,r+=c;return F}function iu(r,l){var c="";if(!r||l<1||l>G)return c;do l%2&&(c+=r),l=Jo(l/2),l&&(r+=r);while(l);return c}function $e(r,l){return pu(cc(r,l,on),r+"")}function um(r){return wf(cr(r))}function am(r,l){var c=cr(r);return hl(c,Di(l,0,c.length))}function Jr(r,l,c,_){if(!pt(r))return r;l=ki(l,r);for(var p=-1,L=l.length,F=L-1,U=r;U!=null&&++p<L;){var j=Un(l[p]),ge=c;if(j==="__proto__"||j==="constructor"||j==="prototype")return r;if(p!=F){var me=U[j];ge=_?_(me,j,U):n,ge===n&&(ge=pt(me)?me:ri(l[p+1])?[]:{})}Kr(U,j,ge),U=U[j]}return r}var Hf=Qo?function(r,l){return Qo.set(r,l),r}:on,fm=Go?function(r,l){return Go(r,"toString",{configurable:!0,enumerable:!1,value:Iu(l),writable:!0})}:on;function cm(r){return hl(cr(r))}function En(r,l,c){var _=-1,p=r.length;l<0&&(l=-l>p?0:p+l),c=c>p?p:c,c<0&&(c+=p),p=l>c?0:c-l>>>0,l>>>=0;for(var L=ae(p);++_<p;)L[_]=r[_+l];return L}function dm(r,l){var c;return pi(r,function(_,p,L){return c=l(_,p,L),!c}),!!c}function rl(r,l,c){var _=0,p=r==null?_:r.length;if(typeof l=="number"&&l===l&&p<=ve){for(;_<p;){var L=_+p>>>1,F=r[L];F!==null&&!cn(F)&&(c?F<=l:F<l)?_=L+1:p=L}return p}return ru(r,l,on,c)}function ru(r,l,c,_){var p=0,L=r==null?0:r.length;if(L===0)return 0;l=c(l);for(var F=l!==l,U=l===null,j=cn(l),ge=l===n;p<L;){var me=Jo((p+L)/2),ye=c(r[me]),Se=ye!==n,Re=ye===null,xe=ye===ye,je=cn(ye);if(F)var Ve=_||xe;else ge?Ve=xe&&(_||Se):U?Ve=xe&&Se&&(_||!Re):j?Ve=xe&&Se&&!Re&&(_||!je):Re||je?Ve=!1:Ve=_?ye<=l:ye<l;Ve?p=me+1:L=me}return Zt(L,be)}function zf(r,l){for(var c=-1,_=r.length,p=0,L=[];++c<_;){var F=r[c],U=l?l(F):F;if(!c||!On(U,j)){var j=U;L[p++]=F===0?0:F}}return L}function Bf(r){return typeof r=="number"?r:cn(r)?ie:+r}function fn(r){if(typeof r=="string")return r;if(Je(r))return bt(r,fn)+"";if(cn(r))return _f?_f.call(r):"";var l=r+"";return l=="0"&&1/r==-1/0?"-0":l}function vi(r,l,c){var _=-1,p=zo,L=r.length,F=!0,U=[],j=U;if(c)F=!1,p=Ls;else if(L>=o){var ge=l?null:Cm(r);if(ge)return Wo(ge);F=!1,p=Yr,j=new Li}else j=l?[]:U;e:for(;++_<L;){var me=r[_],ye=l?l(me):me;if(me=c||me!==0?me:0,F&&ye===ye){for(var Se=j.length;Se--;)if(j[Se]===ye)continue e;l&&j.push(ye),U.push(me)}else p(j,ye,c)||(j!==U&&j.push(ye),U.push(me))}return U}function ou(r,l){return l=ki(l,r),r=dc(r,l),r==null||delete r[Un(Sn(l))]}function Wf(r,l,c,_){return Jr(r,l,c(Ri(r,l)),_)}function ol(r,l,c,_){for(var p=r.length,L=_?p:-1;(_?L--:++L<p)&&l(r[L],L,r););return c?En(r,_?0:L,_?L+1:p):En(r,_?L+1:0,_?p:L)}function Yf(r,l){var c=r;return c instanceof tt&&(c=c.value()),Ds(l,function(_,p){return p.func.apply(p.thisArg,yi([_],p.args))},c)}function lu(r,l,c){var _=r.length;if(_<2)return _?vi(r[0]):[];for(var p=-1,L=ae(_);++p<_;)for(var F=r[p],U=-1;++U<_;)U!=p&&(L[p]=Zr(L[p]||F,r[U],l,c));return vi(Yt(L,1),l,c)}function Xf(r,l,c){for(var _=-1,p=r.length,L=l.length,F={};++_<p;){var U=_<L?l[_]:n;c(F,r[_],U)}return F}function su(r){return Mt(r)?r:[]}function uu(r){return typeof r=="function"?r:on}function ki(r,l){return Je(r)?r:yu(r,l)?[r]:_c(at(r))}var hm=$e;function Ci(r,l,c){var _=r.length;return c=c===n?_:c,!l&&c>=_?r:En(r,l,c)}var Ff=eg||function(r){return Wt.clearTimeout(r)};function xf(r,l){if(l)return r.slice();var c=r.length,_=ff?ff(c):new r.constructor(c);return r.copy(_),_}function au(r){var l=new r.constructor(r.byteLength);return new Uo(l).set(new Uo(r)),l}function gm(r,l){var c=l?au(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function mm(r){var l=new r.constructor(r.source,Ro.exec(r));return l.lastIndex=r.lastIndex,l}function _m(r){return Ur?dt(Ur.call(r)):{}}function Vf(r,l){var c=l?au(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function Uf(r,l){if(r!==l){var c=r!==n,_=r===null,p=r===r,L=cn(r),F=l!==n,U=l===null,j=l===l,ge=cn(l);if(!U&&!ge&&!L&&r>l||L&&F&&j&&!U&&!ge||_&&F&&j||!c&&j||!p)return 1;if(!_&&!L&&!ge&&r<l||ge&&c&&p&&!_&&!L||U&&c&&p||!F&&p||!j)return-1}return 0}function ym(r,l,c){for(var _=-1,p=r.criteria,L=l.criteria,F=p.length,U=c.length;++_<F;){var j=Uf(p[_],L[_]);if(j){if(_>=U)return j;var ge=c[_];return j*(ge=="desc"?-1:1)}}return r.index-l.index}function Kf(r,l,c,_){for(var p=-1,L=r.length,F=c.length,U=-1,j=l.length,ge=Lt(L-F,0),me=ae(j+ge),ye=!_;++U<j;)me[U]=l[U];for(;++p<F;)(ye||p<L)&&(me[c[p]]=r[p]);for(;ge--;)me[U++]=r[p++];return me}function Zf(r,l,c,_){for(var p=-1,L=r.length,F=-1,U=c.length,j=-1,ge=l.length,me=Lt(L-U,0),ye=ae(me+ge),Se=!_;++p<me;)ye[p]=r[p];for(var Re=p;++j<ge;)ye[Re+j]=l[j];for(;++F<U;)(Se||p<L)&&(ye[Re+c[F]]=r[p++]);return ye}function tn(r,l){var c=-1,_=r.length;for(l||(l=ae(_));++c<_;)l[c]=r[c];return l}function Vn(r,l,c,_){var p=!c;c||(c={});for(var L=-1,F=l.length;++L<F;){var U=l[L],j=_?_(c[U],r[U],U,c,r):n;j===n&&(j=r[U]),p?ti(c,U,j):Kr(c,U,j)}return c}function wm(r,l){return Vn(r,_u(r),l)}function bm(r,l){return Vn(r,lc(r),l)}function ll(r,l){return function(c,_){var p=Je(c)?E0:Xg,L=l?l():{};return p(c,r,Fe(_,2),L)}}function sr(r){return $e(function(l,c){var _=-1,p=c.length,L=p>1?c[p-1]:n,F=p>2?c[2]:n;for(L=r.length>3&&typeof L=="function"?(p--,L):n,F&&Qt(c[0],c[1],F)&&(L=p<3?n:L,p=1),l=dt(l);++_<p;){var U=c[_];U&&r(l,U,_,L)}return l})}function Gf(r,l){return function(c,_){if(c==null)return c;if(!nn(c))return r(c,_);for(var p=c.length,L=l?p:-1,F=dt(c);(l?L--:++L<p)&&_(F[L],L,F)!==!1;);return c}}function qf(r){return function(l,c,_){for(var p=-1,L=dt(l),F=_(l),U=F.length;U--;){var j=F[r?U:++p];if(c(L[j],j,L)===!1)break}return l}}function pm(r,l,c){var _=l&N,p=Qr(r);function L(){var F=this&&this!==Wt&&this instanceof L?p:r;return F.apply(_?c:this,arguments)}return L}function Jf(r){return function(l){l=at(l);var c=er(l)?Pn(l):n,_=c?c[0]:l.charAt(0),p=c?Ci(c,1).join(""):l.slice(1);return _[r]()+p}}function ur(r){return function(l){return Ds(Gc(Zc(l).replace(f0,"")),r,"")}}function Qr(r){return function(){var l=arguments;switch(l.length){case 0:return new r;case 1:return new r(l[0]);case 2:return new r(l[0],l[1]);case 3:return new r(l[0],l[1],l[2]);case 4:return new r(l[0],l[1],l[2],l[3]);case 5:return new r(l[0],l[1],l[2],l[3],l[4]);case 6:return new r(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new r(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var c=lr(r.prototype),_=r.apply(c,l);return pt(_)?_:c}}function vm(r,l,c){var _=Qr(r);function p(){for(var L=arguments.length,F=ae(L),U=L,j=ar(p);U--;)F[U]=arguments[U];var ge=L<3&&F[0]!==j&&F[L-1]!==j?[]:wi(F,j);if(L-=ge.length,L<c)return tc(r,l,sl,p.placeholder,n,F,ge,n,n,c-L);var me=this&&this!==Wt&&this instanceof p?_:r;return un(me,this,F)}return p}function Qf(r){return function(l,c,_){var p=dt(l);if(!nn(l)){var L=Fe(c,3);l=Rt(l),c=function(U){return L(p[U],U,p)}}var F=r(l,c,_);return F>-1?p[L?l[F]:F]:n}}function jf(r){return ii(function(l){var c=l.length,_=c,p=kn.prototype.thru;for(r&&l.reverse();_--;){var L=l[_];if(typeof L!="function")throw new vn(u);if(p&&!F&&cl(L)=="wrapper")var F=new kn([],!0)}for(_=F?_:c;++_<c;){L=l[_];var U=cl(L),j=U=="wrapper"?gu(L):n;j&&wu(j[0])&&j[1]==(w|T|S|I)&&!j[4].length&&j[9]==1?F=F[cl(j[0])].apply(F,j[3]):F=L.length==1&&wu(L)?F[U]():F.thru(L)}return function(){var ge=arguments,me=ge[0];if(F&&ge.length==1&&Je(me))return F.plant(me).value();for(var ye=0,Se=c?l[ye].apply(this,ge):me;++ye<c;)Se=l[ye].call(this,Se);return Se}})}function sl(r,l,c,_,p,L,F,U,j,ge){var me=l&w,ye=l&N,Se=l&k,Re=l&(T|B),xe=l&A,je=Se?n:Qr(r);function Ve(){for(var et=arguments.length,it=ae(et),dn=et;dn--;)it[dn]=arguments[dn];if(Re)var jt=ar(Ve),hn=L0(it,jt);if(_&&(it=Kf(it,_,p,Re)),L&&(it=Zf(it,L,F,Re)),et-=hn,Re&&et<ge){var Tt=wi(it,jt);return tc(r,l,sl,Ve.placeholder,c,it,Tt,U,j,ge-et)}var Nn=ye?c:this,si=Se?Nn[r]:r;return et=it.length,U?it=Xm(it,U):xe&&et>1&&it.reverse(),me&&j<et&&(it.length=j),this&&this!==Wt&&this instanceof Ve&&(si=je||Qr(si)),si.apply(Nn,it)}return Ve}function $f(r,l){return function(c,_){return qg(c,r,l(_),{})}}function ul(r,l){return function(c,_){var p;if(c===n&&_===n)return l;if(c!==n&&(p=c),_!==n){if(p===n)return _;typeof c=="string"||typeof _=="string"?(c=fn(c),_=fn(_)):(c=Bf(c),_=Bf(_)),p=r(c,_)}return p}}function fu(r){return ii(function(l){return l=bt(l,an(Fe())),$e(function(c){var _=this;return r(l,function(p){return un(p,_,c)})})})}function al(r,l){l=l===n?" ":fn(l);var c=l.length;if(c<2)return c?iu(l,r):l;var _=iu(l,qo(r/tr(l)));return er(l)?Ci(Pn(_),0,r).join(""):_.slice(0,r)}function km(r,l,c,_){var p=l&N,L=Qr(r);function F(){for(var U=-1,j=arguments.length,ge=-1,me=_.length,ye=ae(me+j),Se=this&&this!==Wt&&this instanceof F?L:r;++ge<me;)ye[ge]=_[ge];for(;j--;)ye[ge++]=arguments[++U];return un(Se,p?c:this,ye)}return F}function ec(r){return function(l,c,_){return _&&typeof _!="number"&&Qt(l,c,_)&&(c=_=n),l=li(l),c===n?(c=l,l=0):c=li(c),_=_===n?l<c?1:-1:li(_),sm(l,c,_,r)}}function fl(r){return function(l,c){return typeof l=="string"&&typeof c=="string"||(l=An(l),c=An(c)),r(l,c)}}function tc(r,l,c,_,p,L,F,U,j,ge){var me=l&T,ye=me?F:n,Se=me?n:F,Re=me?L:n,xe=me?n:L;l|=me?S:P,l&=~(me?P:S),l&R||(l&=-4);var je=[r,l,p,Re,ye,xe,Se,U,j,ge],Ve=c.apply(n,je);return wu(r)&&hc(Ve,je),Ve.placeholder=_,gc(Ve,r,l)}function cu(r){var l=Nt[r];return function(c,_){if(c=An(c),_=_==null?0:Zt(Qe(_),292),_&&gf(c)){var p=(at(c)+"e").split("e"),L=l(p[0]+"e"+(+p[1]+_));return p=(at(L)+"e").split("e"),+(p[0]+"e"+(+p[1]-_))}return l(c)}}var Cm=rr&&1/Wo(new rr([,-0]))[1]==V?function(r){return new rr(r)}:Lu;function nc(r){return function(l){var c=Gt(l);return c==K?Xs(l):c==yt?Y0(l):N0(l,r(l))}}function ni(r,l,c,_,p,L,F,U){var j=l&k;if(!j&&typeof r!="function")throw new vn(u);var ge=_?_.length:0;if(ge||(l&=-97,_=p=n),F=F===n?F:Lt(Qe(F),0),U=U===n?U:Qe(U),ge-=p?p.length:0,l&P){var me=_,ye=p;_=p=n}var Se=j?n:gu(r),Re=[r,l,c,_,p,me,ye,L,F,U];if(Se&&Bm(Re,Se),r=Re[0],l=Re[1],c=Re[2],_=Re[3],p=Re[4],U=Re[9]=Re[9]===n?j?0:r.length:Lt(Re[9]-ge,0),!U&&l&(T|B)&&(l&=-25),!l||l==N)var xe=pm(r,l,c);else l==T||l==B?xe=vm(r,l,U):(l==S||l==(N|S))&&!p.length?xe=km(r,l,c,_):xe=sl.apply(n,Re);var je=Se?Hf:hc;return gc(je(xe,Re),r,l)}function ic(r,l,c,_){return r===n||On(r,ir[c])&&!ft.call(_,c)?l:r}function rc(r,l,c,_,p,L){return pt(r)&&pt(l)&&(L.set(l,r),il(r,l,n,rc,L),L.delete(l)),r}function Em(r){return eo(r)?n:r}function oc(r,l,c,_,p,L){var F=c&v,U=r.length,j=l.length;if(U!=j&&!(F&&j>U))return!1;var ge=L.get(r),me=L.get(l);if(ge&&me)return ge==l&&me==r;var ye=-1,Se=!0,Re=c&C?new Li:n;for(L.set(r,l),L.set(l,r);++ye<U;){var xe=r[ye],je=l[ye];if(_)var Ve=F?_(je,xe,ye,l,r,L):_(xe,je,ye,r,l,L);if(Ve!==n){if(Ve)continue;Se=!1;break}if(Re){if(!Rs(l,function(et,it){if(!Yr(Re,it)&&(xe===et||p(xe,et,c,_,L)))return Re.push(it)})){Se=!1;break}}else if(!(xe===je||p(xe,je,c,_,L))){Se=!1;break}}return L.delete(r),L.delete(l),Se}function Sm(r,l,c,_,p,L,F){switch(c){case zt:if(r.byteLength!=l.byteLength||r.byteOffset!=l.byteOffset)return!1;r=r.buffer,l=l.buffer;case Ht:return!(r.byteLength!=l.byteLength||!L(new Uo(r),new Uo(l)));case Q:case $:case _e:return On(+r,+l);case x:return r.name==l.name&&r.message==l.message;case nt:case Pe:return r==l+"";case K:var U=Xs;case yt:var j=_&v;if(U||(U=Wo),r.size!=l.size&&!j)return!1;var ge=F.get(r);if(ge)return ge==l;_|=C,F.set(r,l);var me=oc(U(r),U(l),_,p,L,F);return F.delete(r),me;case Ut:if(Ur)return Ur.call(r)==Ur.call(l)}return!1}function Am(r,l,c,_,p,L){var F=c&v,U=du(r),j=U.length,ge=du(l),me=ge.length;if(j!=me&&!F)return!1;for(var ye=j;ye--;){var Se=U[ye];if(!(F?Se in l:ft.call(l,Se)))return!1}var Re=L.get(r),xe=L.get(l);if(Re&&xe)return Re==l&&xe==r;var je=!0;L.set(r,l),L.set(l,r);for(var Ve=F;++ye<j;){Se=U[ye];var et=r[Se],it=l[Se];if(_)var dn=F?_(it,et,Se,l,r,L):_(et,it,Se,r,l,L);if(!(dn===n?et===it||p(et,it,c,_,L):dn)){je=!1;break}Ve||(Ve=Se=="constructor")}if(je&&!Ve){var jt=r.constructor,hn=l.constructor;jt!=hn&&"constructor"in r&&"constructor"in l&&!(typeof jt=="function"&&jt instanceof jt&&typeof hn=="function"&&hn instanceof hn)&&(je=!1)}return L.delete(r),L.delete(l),je}function ii(r){return pu(cc(r,n,pc),r+"")}function du(r){return Sf(r,Rt,_u)}function hu(r){return Sf(r,rn,lc)}var gu=Qo?function(r){return Qo.get(r)}:Lu;function cl(r){for(var l=r.name+"",c=or[l],_=ft.call(or,l)?c.length:0;_--;){var p=c[_],L=p.func;if(L==null||L==r)return p.name}return l}function ar(r){var l=ft.call(M,"placeholder")?M:r;return l.placeholder}function Fe(){var r=M.iteratee||Ou;return r=r===Ou?Tf:r,arguments.length?r(arguments[0],arguments[1]):r}function dl(r,l){var c=r.__data__;return Dm(l)?c[typeof l=="string"?"string":"hash"]:c.map}function mu(r){for(var l=Rt(r),c=l.length;c--;){var _=l[c],p=r[_];l[c]=[_,p,ac(p)]}return l}function Hi(r,l){var c=z0(r,l);return Mf(c)?c:n}function Mm(r){var l=ft.call(r,Oi),c=r[Oi];try{r[Oi]=n;var _=!0}catch{}var p=xo.call(r);return _&&(l?r[Oi]=c:delete r[Oi]),p}var _u=xs?function(r){return r==null?[]:(r=dt(r),_i(xs(r),function(l){return df.call(r,l)}))}:Du,lc=xs?function(r){for(var l=[];r;)yi(l,_u(r)),r=Ko(r);return l}:Du,Gt=Jt;(Vs&&Gt(new Vs(new ArrayBuffer(1)))!=zt||Fr&&Gt(new Fr)!=K||Us&&Gt(Us.resolve())!=De||rr&&Gt(new rr)!=yt||xr&&Gt(new xr)!=Ot)&&(Gt=function(r){var l=Jt(r),c=l==Ze?r.constructor:n,_=c?zi(c):"";if(_)switch(_){case ag:return zt;case fg:return K;case cg:return De;case dg:return yt;case hg:return Ot}return l});function Tm(r,l,c){for(var _=-1,p=c.length;++_<p;){var L=c[_],F=L.size;switch(L.type){case"drop":r+=F;break;case"dropRight":l-=F;break;case"take":l=Zt(l,r+F);break;case"takeRight":r=Lt(r,l-F);break}}return{start:r,end:l}}function Pm(r){var l=r.match(cs);return l?l[1].split(ds):[]}function sc(r,l,c){l=ki(l,r);for(var _=-1,p=l.length,L=!1;++_<p;){var F=Un(l[_]);if(!(L=r!=null&&c(r,F)))break;r=r[F]}return L||++_!=p?L:(p=r==null?0:r.length,!!p&&bl(p)&&ri(F,p)&&(Je(r)||Bi(r)))}function Im(r){var l=r.length,c=new r.constructor(l);return l&&typeof r[0]=="string"&&ft.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function uc(r){return typeof r.constructor=="function"&&!jr(r)?lr(Ko(r)):{}}function Om(r,l,c){var _=r.constructor;switch(l){case Ht:return au(r);case Q:case $:return new _(+r);case zt:return gm(r,c);case te:case Kt:case wt:case mt:case Wn:case Yn:case Xn:case Fn:case wn:return Vf(r,c);case K:return new _;case _e:case Pe:return new _(r);case nt:return mm(r);case yt:return new _;case Ut:return _m(r)}}function Nm(r,l){var c=l.length;if(!c)return r;var _=c-1;return l[_]=(c>1?"& ":"")+l[_],l=l.join(c>2?", ":" "),r.replace(fs,`{
/* [wrapped with `+l+`] */
`)}function Lm(r){return Je(r)||Bi(r)||!!(hf&&r&&r[hf])}function ri(r,l){var c=typeof r;return l=l??G,!!l&&(c=="number"||c!="symbol"&&vs.test(r))&&r>-1&&r%1==0&&r<l}function Qt(r,l,c){if(!pt(c))return!1;var _=typeof l;return(_=="number"?nn(c)&&ri(l,c.length):_=="string"&&l in c)?On(c[l],r):!1}function yu(r,l){if(Je(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||cn(r)?!0:Do.test(r)||!Bt.test(r)||l!=null&&r in dt(l)}function Dm(r){var l=typeof r;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?r!=="__proto__":r===null}function wu(r){var l=cl(r),c=M[l];if(typeof c!="function"||!(l in tt.prototype))return!1;if(r===c)return!0;var _=gu(c);return!!_&&r===_[0]}function Rm(r){return!!af&&af in r}var Hm=Xo?oi:Ru;function jr(r){var l=r&&r.constructor,c=typeof l=="function"&&l.prototype||ir;return r===c}function ac(r){return r===r&&!pt(r)}function fc(r,l){return function(c){return c==null?!1:c[r]===l&&(l!==n||r in dt(c))}}function zm(r){var l=yl(r,function(_){return c.size===d&&c.clear(),_}),c=l.cache;return l}function Bm(r,l){var c=r[1],_=l[1],p=c|_,L=p<(N|k|w),F=_==w&&c==T||_==w&&c==I&&r[7].length<=l[8]||_==(w|I)&&l[7].length<=l[8]&&c==T;if(!(L||F))return r;_&N&&(r[2]=l[2],p|=c&N?0:R);var U=l[3];if(U){var j=r[3];r[3]=j?Kf(j,U,l[4]):U,r[4]=j?wi(r[3],h):l[4]}return U=l[5],U&&(j=r[5],r[5]=j?Zf(j,U,l[6]):U,r[6]=j?wi(r[5],h):l[6]),U=l[7],U&&(r[7]=U),_&w&&(r[8]=r[8]==null?l[8]:Zt(r[8],l[8])),r[9]==null&&(r[9]=l[9]),r[0]=l[0],r[1]=p,r}function Wm(r){var l=[];if(r!=null)for(var c in dt(r))l.push(c);return l}function Ym(r){return xo.call(r)}function cc(r,l,c){return l=Lt(l===n?r.length-1:l,0),function(){for(var _=arguments,p=-1,L=Lt(_.length-l,0),F=ae(L);++p<L;)F[p]=_[l+p];p=-1;for(var U=ae(l+1);++p<l;)U[p]=_[p];return U[l]=c(F),un(r,this,U)}}function dc(r,l){return l.length<2?r:Ri(r,En(l,0,-1))}function Xm(r,l){for(var c=r.length,_=Zt(l.length,c),p=tn(r);_--;){var L=l[_];r[_]=ri(L,c)?p[L]:n}return r}function bu(r,l){if(!(l==="constructor"&&typeof r[l]=="function")&&l!="__proto__")return r[l]}var hc=mc(Hf),$r=ng||function(r,l){return Wt.setTimeout(r,l)},pu=mc(fm);function gc(r,l,c){var _=l+"";return pu(r,Nm(_,Fm(Pm(_),c)))}function mc(r){var l=0,c=0;return function(){var _=lg(),p=Y-(_-c);if(c=_,p>0){if(++l>=E)return arguments[0]}else l=0;return r.apply(n,arguments)}}function hl(r,l){var c=-1,_=r.length,p=_-1;for(l=l===n?_:l;++c<l;){var L=nu(c,p),F=r[L];r[L]=r[c],r[c]=F}return r.length=l,r}var _c=zm(function(r){var l=[];return r.charCodeAt(0)===46&&l.push(""),r.replace(zr,function(c,_,p,L){l.push(p?L.replace(ms,"$1"):_||c)}),l});function Un(r){if(typeof r=="string"||cn(r))return r;var l=r+"";return l=="0"&&1/r==-1/0?"-0":l}function zi(r){if(r!=null){try{return Fo.call(r)}catch{}try{return r+""}catch{}}return""}function Fm(r,l){return pn(le,function(c){var _="_."+c[0];l&c[1]&&!zo(r,_)&&r.push(_)}),r.sort()}function yc(r){if(r instanceof tt)return r.clone();var l=new kn(r.__wrapped__,r.__chain__);return l.__actions__=tn(r.__actions__),l.__index__=r.__index__,l.__values__=r.__values__,l}function xm(r,l,c){(c?Qt(r,l,c):l===n)?l=1:l=Lt(Qe(l),0);var _=r==null?0:r.length;if(!_||l<1)return[];for(var p=0,L=0,F=ae(qo(_/l));p<_;)F[L++]=En(r,p,p+=l);return F}function Vm(r){for(var l=-1,c=r==null?0:r.length,_=0,p=[];++l<c;){var L=r[l];L&&(p[_++]=L)}return p}function Um(){var r=arguments.length;if(!r)return[];for(var l=ae(r-1),c=arguments[0],_=r;_--;)l[_-1]=arguments[_];return yi(Je(c)?tn(c):[c],Yt(l,1))}var Km=$e(function(r,l){return Mt(r)?Zr(r,Yt(l,1,Mt,!0)):[]}),Zm=$e(function(r,l){var c=Sn(l);return Mt(c)&&(c=n),Mt(r)?Zr(r,Yt(l,1,Mt,!0),Fe(c,2)):[]}),Gm=$e(function(r,l){var c=Sn(l);return Mt(c)&&(c=n),Mt(r)?Zr(r,Yt(l,1,Mt,!0),n,c):[]});function qm(r,l,c){var _=r==null?0:r.length;return _?(l=c||l===n?1:Qe(l),En(r,l<0?0:l,_)):[]}function Jm(r,l,c){var _=r==null?0:r.length;return _?(l=c||l===n?1:Qe(l),l=_-l,En(r,0,l<0?0:l)):[]}function Qm(r,l){return r&&r.length?ol(r,Fe(l,3),!0,!0):[]}function jm(r,l){return r&&r.length?ol(r,Fe(l,3),!0):[]}function $m(r,l,c,_){var p=r==null?0:r.length;return p?(c&&typeof c!="number"&&Qt(r,l,c)&&(c=0,_=p),Ug(r,l,c,_)):[]}function wc(r,l,c){var _=r==null?0:r.length;if(!_)return-1;var p=c==null?0:Qe(c);return p<0&&(p=Lt(_+p,0)),Bo(r,Fe(l,3),p)}function bc(r,l,c){var _=r==null?0:r.length;if(!_)return-1;var p=_-1;return c!==n&&(p=Qe(c),p=c<0?Lt(_+p,0):Zt(p,_-1)),Bo(r,Fe(l,3),p,!0)}function pc(r){var l=r==null?0:r.length;return l?Yt(r,1):[]}function e2(r){var l=r==null?0:r.length;return l?Yt(r,V):[]}function t2(r,l){var c=r==null?0:r.length;return c?(l=l===n?1:Qe(l),Yt(r,l)):[]}function n2(r){for(var l=-1,c=r==null?0:r.length,_={};++l<c;){var p=r[l];_[p[0]]=p[1]}return _}function vc(r){return r&&r.length?r[0]:n}function i2(r,l,c){var _=r==null?0:r.length;if(!_)return-1;var p=c==null?0:Qe(c);return p<0&&(p=Lt(_+p,0)),$i(r,l,p)}function r2(r){var l=r==null?0:r.length;return l?En(r,0,-1):[]}var o2=$e(function(r){var l=bt(r,su);return l.length&&l[0]===r[0]?Qs(l):[]}),l2=$e(function(r){var l=Sn(r),c=bt(r,su);return l===Sn(c)?l=n:c.pop(),c.length&&c[0]===r[0]?Qs(c,Fe(l,2)):[]}),s2=$e(function(r){var l=Sn(r),c=bt(r,su);return l=typeof l=="function"?l:n,l&&c.pop(),c.length&&c[0]===r[0]?Qs(c,n,l):[]});function u2(r,l){return r==null?"":rg.call(r,l)}function Sn(r){var l=r==null?0:r.length;return l?r[l-1]:n}function a2(r,l,c){var _=r==null?0:r.length;if(!_)return-1;var p=_;return c!==n&&(p=Qe(c),p=p<0?Lt(_+p,0):Zt(p,_-1)),l===l?F0(r,l,p):Bo(r,ef,p,!0)}function f2(r,l){return r&&r.length?Nf(r,Qe(l)):n}var c2=$e(kc);function kc(r,l){return r&&r.length&&l&&l.length?tu(r,l):r}function d2(r,l,c){return r&&r.length&&l&&l.length?tu(r,l,Fe(c,2)):r}function h2(r,l,c){return r&&r.length&&l&&l.length?tu(r,l,n,c):r}var g2=ii(function(r,l){var c=r==null?0:r.length,_=Zs(r,l);return Rf(r,bt(l,function(p){return ri(p,c)?+p:p}).sort(Uf)),_});function m2(r,l){var c=[];if(!(r&&r.length))return c;var _=-1,p=[],L=r.length;for(l=Fe(l,3);++_<L;){var F=r[_];l(F,_,r)&&(c.push(F),p.push(_))}return Rf(r,p),c}function vu(r){return r==null?r:ug.call(r)}function _2(r,l,c){var _=r==null?0:r.length;return _?(c&&typeof c!="number"&&Qt(r,l,c)?(l=0,c=_):(l=l==null?0:Qe(l),c=c===n?_:Qe(c)),En(r,l,c)):[]}function y2(r,l){return rl(r,l)}function w2(r,l,c){return ru(r,l,Fe(c,2))}function b2(r,l){var c=r==null?0:r.length;if(c){var _=rl(r,l);if(_<c&&On(r[_],l))return _}return-1}function p2(r,l){return rl(r,l,!0)}function v2(r,l,c){return ru(r,l,Fe(c,2),!0)}function k2(r,l){var c=r==null?0:r.length;if(c){var _=rl(r,l,!0)-1;if(On(r[_],l))return _}return-1}function C2(r){return r&&r.length?zf(r):[]}function E2(r,l){return r&&r.length?zf(r,Fe(l,2)):[]}function S2(r){var l=r==null?0:r.length;return l?En(r,1,l):[]}function A2(r,l,c){return r&&r.length?(l=c||l===n?1:Qe(l),En(r,0,l<0?0:l)):[]}function M2(r,l,c){var _=r==null?0:r.length;return _?(l=c||l===n?1:Qe(l),l=_-l,En(r,l<0?0:l,_)):[]}function T2(r,l){return r&&r.length?ol(r,Fe(l,3),!1,!0):[]}function P2(r,l){return r&&r.length?ol(r,Fe(l,3)):[]}var I2=$e(function(r){return vi(Yt(r,1,Mt,!0))}),O2=$e(function(r){var l=Sn(r);return Mt(l)&&(l=n),vi(Yt(r,1,Mt,!0),Fe(l,2))}),N2=$e(function(r){var l=Sn(r);return l=typeof l=="function"?l:n,vi(Yt(r,1,Mt,!0),n,l)});function L2(r){return r&&r.length?vi(r):[]}function D2(r,l){return r&&r.length?vi(r,Fe(l,2)):[]}function R2(r,l){return l=typeof l=="function"?l:n,r&&r.length?vi(r,n,l):[]}function ku(r){if(!(r&&r.length))return[];var l=0;return r=_i(r,function(c){if(Mt(c))return l=Lt(c.length,l),!0}),Ws(l,function(c){return bt(r,Hs(c))})}function Cc(r,l){if(!(r&&r.length))return[];var c=ku(r);return l==null?c:bt(c,function(_){return un(l,n,_)})}var H2=$e(function(r,l){return Mt(r)?Zr(r,l):[]}),z2=$e(function(r){return lu(_i(r,Mt))}),B2=$e(function(r){var l=Sn(r);return Mt(l)&&(l=n),lu(_i(r,Mt),Fe(l,2))}),W2=$e(function(r){var l=Sn(r);return l=typeof l=="function"?l:n,lu(_i(r,Mt),n,l)}),Y2=$e(ku);function X2(r,l){return Xf(r||[],l||[],Kr)}function F2(r,l){return Xf(r||[],l||[],Jr)}var x2=$e(function(r){var l=r.length,c=l>1?r[l-1]:n;return c=typeof c=="function"?(r.pop(),c):n,Cc(r,c)});function Ec(r){var l=M(r);return l.__chain__=!0,l}function V2(r,l){return l(r),r}function gl(r,l){return l(r)}var U2=ii(function(r){var l=r.length,c=l?r[0]:0,_=this.__wrapped__,p=function(L){return Zs(L,r)};return l>1||this.__actions__.length||!(_ instanceof tt)||!ri(c)?this.thru(p):(_=_.slice(c,+c+(l?1:0)),_.__actions__.push({func:gl,args:[p],thisArg:n}),new kn(_,this.__chain__).thru(function(L){return l&&!L.length&&L.push(n),L}))});function K2(){return Ec(this)}function Z2(){return new kn(this.value(),this.__chain__)}function G2(){this.__values__===n&&(this.__values__=Bc(this.value()));var r=this.__index__>=this.__values__.length,l=r?n:this.__values__[this.__index__++];return{done:r,value:l}}function q2(){return this}function J2(r){for(var l,c=this;c instanceof $o;){var _=yc(c);_.__index__=0,_.__values__=n,l?p.__wrapped__=_:l=_;var p=_;c=c.__wrapped__}return p.__wrapped__=r,l}function Q2(){var r=this.__wrapped__;if(r instanceof tt){var l=r;return this.__actions__.length&&(l=new tt(this)),l=l.reverse(),l.__actions__.push({func:gl,args:[vu],thisArg:n}),new kn(l,this.__chain__)}return this.thru(vu)}function j2(){return Yf(this.__wrapped__,this.__actions__)}var $2=ll(function(r,l,c){ft.call(r,c)?++r[c]:ti(r,c,1)});function e_(r,l,c){var _=Je(r)?ja:Vg;return c&&Qt(r,l,c)&&(l=n),_(r,Fe(l,3))}function t_(r,l){var c=Je(r)?_i:Cf;return c(r,Fe(l,3))}var n_=Qf(wc),i_=Qf(bc);function r_(r,l){return Yt(ml(r,l),1)}function o_(r,l){return Yt(ml(r,l),V)}function l_(r,l,c){return c=c===n?1:Qe(c),Yt(ml(r,l),c)}function Sc(r,l){var c=Je(r)?pn:pi;return c(r,Fe(l,3))}function Ac(r,l){var c=Je(r)?S0:kf;return c(r,Fe(l,3))}var s_=ll(function(r,l,c){ft.call(r,c)?r[c].push(l):ti(r,c,[l])});function u_(r,l,c,_){r=nn(r)?r:cr(r),c=c&&!_?Qe(c):0;var p=r.length;return c<0&&(c=Lt(p+c,0)),pl(r)?c<=p&&r.indexOf(l,c)>-1:!!p&&$i(r,l,c)>-1}var a_=$e(function(r,l,c){var _=-1,p=typeof l=="function",L=nn(r)?ae(r.length):[];return pi(r,function(F){L[++_]=p?un(l,F,c):Gr(F,l,c)}),L}),f_=ll(function(r,l,c){ti(r,c,l)});function ml(r,l){var c=Je(r)?bt:Pf;return c(r,Fe(l,3))}function c_(r,l,c,_){return r==null?[]:(Je(l)||(l=l==null?[]:[l]),c=_?n:c,Je(c)||(c=c==null?[]:[c]),Lf(r,l,c))}var d_=ll(function(r,l,c){r[c?0:1].push(l)},function(){return[[],[]]});function h_(r,l,c){var _=Je(r)?Ds:nf,p=arguments.length<3;return _(r,Fe(l,4),c,p,pi)}function g_(r,l,c){var _=Je(r)?A0:nf,p=arguments.length<3;return _(r,Fe(l,4),c,p,kf)}function m_(r,l){var c=Je(r)?_i:Cf;return c(r,wl(Fe(l,3)))}function __(r){var l=Je(r)?wf:um;return l(r)}function y_(r,l,c){(c?Qt(r,l,c):l===n)?l=1:l=Qe(l);var _=Je(r)?Wg:am;return _(r,l)}function w_(r){var l=Je(r)?Yg:cm;return l(r)}function b_(r){if(r==null)return 0;if(nn(r))return pl(r)?tr(r):r.length;var l=Gt(r);return l==K||l==yt?r.size:$s(r).length}function p_(r,l,c){var _=Je(r)?Rs:dm;return c&&Qt(r,l,c)&&(l=n),_(r,Fe(l,3))}var v_=$e(function(r,l){if(r==null)return[];var c=l.length;return c>1&&Qt(r,l[0],l[1])?l=[]:c>2&&Qt(l[0],l[1],l[2])&&(l=[l[0]]),Lf(r,Yt(l,1),[])}),_l=tg||function(){return Wt.Date.now()};function k_(r,l){if(typeof l!="function")throw new vn(u);return r=Qe(r),function(){if(--r<1)return l.apply(this,arguments)}}function Mc(r,l,c){return l=c?n:l,l=r&&l==null?r.length:l,ni(r,w,n,n,n,n,l)}function Tc(r,l){var c;if(typeof l!="function")throw new vn(u);return r=Qe(r),function(){return--r>0&&(c=l.apply(this,arguments)),r<=1&&(l=n),c}}var Cu=$e(function(r,l,c){var _=N;if(c.length){var p=wi(c,ar(Cu));_|=S}return ni(r,_,l,c,p)}),Pc=$e(function(r,l,c){var _=N|k;if(c.length){var p=wi(c,ar(Pc));_|=S}return ni(l,_,r,c,p)});function Ic(r,l,c){l=c?n:l;var _=ni(r,T,n,n,n,n,n,l);return _.placeholder=Ic.placeholder,_}function Oc(r,l,c){l=c?n:l;var _=ni(r,B,n,n,n,n,n,l);return _.placeholder=Oc.placeholder,_}function Nc(r,l,c){var _,p,L,F,U,j,ge=0,me=!1,ye=!1,Se=!0;if(typeof r!="function")throw new vn(u);l=An(l)||0,pt(c)&&(me=!!c.leading,ye="maxWait"in c,L=ye?Lt(An(c.maxWait)||0,l):L,Se="trailing"in c?!!c.trailing:Se);function Re(Tt){var Nn=_,si=p;return _=p=n,ge=Tt,F=r.apply(si,Nn),F}function xe(Tt){return ge=Tt,U=$r(et,l),me?Re(Tt):F}function je(Tt){var Nn=Tt-j,si=Tt-ge,Qc=l-Nn;return ye?Zt(Qc,L-si):Qc}function Ve(Tt){var Nn=Tt-j,si=Tt-ge;return j===n||Nn>=l||Nn<0||ye&&si>=L}function et(){var Tt=_l();if(Ve(Tt))return it(Tt);U=$r(et,je(Tt))}function it(Tt){return U=n,Se&&_?Re(Tt):(_=p=n,F)}function dn(){U!==n&&Ff(U),ge=0,_=j=p=U=n}function jt(){return U===n?F:it(_l())}function hn(){var Tt=_l(),Nn=Ve(Tt);if(_=arguments,p=this,j=Tt,Nn){if(U===n)return xe(j);if(ye)return Ff(U),U=$r(et,l),Re(j)}return U===n&&(U=$r(et,l)),F}return hn.cancel=dn,hn.flush=jt,hn}var C_=$e(function(r,l){return vf(r,1,l)}),E_=$e(function(r,l,c){return vf(r,An(l)||0,c)});function S_(r){return ni(r,A)}function yl(r,l){if(typeof r!="function"||l!=null&&typeof l!="function")throw new vn(u);var c=function(){var _=arguments,p=l?l.apply(this,_):_[0],L=c.cache;if(L.has(p))return L.get(p);var F=r.apply(this,_);return c.cache=L.set(p,F)||L,F};return c.cache=new(yl.Cache||ei),c}yl.Cache=ei;function wl(r){if(typeof r!="function")throw new vn(u);return function(){var l=arguments;switch(l.length){case 0:return!r.call(this);case 1:return!r.call(this,l[0]);case 2:return!r.call(this,l[0],l[1]);case 3:return!r.call(this,l[0],l[1],l[2])}return!r.apply(this,l)}}function A_(r){return Tc(2,r)}var M_=hm(function(r,l){l=l.length==1&&Je(l[0])?bt(l[0],an(Fe())):bt(Yt(l,1),an(Fe()));var c=l.length;return $e(function(_){for(var p=-1,L=Zt(_.length,c);++p<L;)_[p]=l[p].call(this,_[p]);return un(r,this,_)})}),Eu=$e(function(r,l){var c=wi(l,ar(Eu));return ni(r,S,n,l,c)}),Lc=$e(function(r,l){var c=wi(l,ar(Lc));return ni(r,P,n,l,c)}),T_=ii(function(r,l){return ni(r,I,n,n,n,l)});function P_(r,l){if(typeof r!="function")throw new vn(u);return l=l===n?l:Qe(l),$e(r,l)}function I_(r,l){if(typeof r!="function")throw new vn(u);return l=l==null?0:Lt(Qe(l),0),$e(function(c){var _=c[l],p=Ci(c,0,l);return _&&yi(p,_),un(r,this,p)})}function O_(r,l,c){var _=!0,p=!0;if(typeof r!="function")throw new vn(u);return pt(c)&&(_="leading"in c?!!c.leading:_,p="trailing"in c?!!c.trailing:p),Nc(r,l,{leading:_,maxWait:l,trailing:p})}function N_(r){return Mc(r,1)}function L_(r,l){return Eu(uu(l),r)}function D_(){if(!arguments.length)return[];var r=arguments[0];return Je(r)?r:[r]}function R_(r){return Cn(r,y)}function H_(r,l){return l=typeof l=="function"?l:n,Cn(r,y,l)}function z_(r){return Cn(r,m|y)}function B_(r,l){return l=typeof l=="function"?l:n,Cn(r,m|y,l)}function W_(r,l){return l==null||pf(r,l,Rt(l))}function On(r,l){return r===l||r!==r&&l!==l}var Y_=fl(Js),X_=fl(function(r,l){return r>=l}),Bi=Af(function(){return arguments}())?Af:function(r){return kt(r)&&ft.call(r,"callee")&&!df.call(r,"callee")},Je=ae.isArray,F_=Ka?an(Ka):Jg;function nn(r){return r!=null&&bl(r.length)&&!oi(r)}function Mt(r){return kt(r)&&nn(r)}function x_(r){return r===!0||r===!1||kt(r)&&Jt(r)==Q}var Ei=ig||Ru,V_=Za?an(Za):Qg;function U_(r){return kt(r)&&r.nodeType===1&&!eo(r)}function K_(r){if(r==null)return!0;if(nn(r)&&(Je(r)||typeof r=="string"||typeof r.splice=="function"||Ei(r)||fr(r)||Bi(r)))return!r.length;var l=Gt(r);if(l==K||l==yt)return!r.size;if(jr(r))return!$s(r).length;for(var c in r)if(ft.call(r,c))return!1;return!0}function Z_(r,l){return qr(r,l)}function G_(r,l,c){c=typeof c=="function"?c:n;var _=c?c(r,l):n;return _===n?qr(r,l,n,c):!!_}function Su(r){if(!kt(r))return!1;var l=Jt(r);return l==x||l==z||typeof r.message=="string"&&typeof r.name=="string"&&!eo(r)}function q_(r){return typeof r=="number"&&gf(r)}function oi(r){if(!pt(r))return!1;var l=Jt(r);return l==ee||l==ne||l==ue||l==ct}function Dc(r){return typeof r=="number"&&r==Qe(r)}function bl(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=G}function pt(r){var l=typeof r;return r!=null&&(l=="object"||l=="function")}function kt(r){return r!=null&&typeof r=="object"}var Rc=Ga?an(Ga):$g;function J_(r,l){return r===l||js(r,l,mu(l))}function Q_(r,l,c){return c=typeof c=="function"?c:n,js(r,l,mu(l),c)}function j_(r){return Hc(r)&&r!=+r}function $_(r){if(Hm(r))throw new qe(s);return Mf(r)}function ey(r){return r===null}function ty(r){return r==null}function Hc(r){return typeof r=="number"||kt(r)&&Jt(r)==_e}function eo(r){if(!kt(r)||Jt(r)!=Ze)return!1;var l=Ko(r);if(l===null)return!0;var c=ft.call(l,"constructor")&&l.constructor;return typeof c=="function"&&c instanceof c&&Fo.call(c)==Q0}var Au=qa?an(qa):em;function ny(r){return Dc(r)&&r>=-9007199254740991&&r<=G}var zc=Ja?an(Ja):tm;function pl(r){return typeof r=="string"||!Je(r)&&kt(r)&&Jt(r)==Pe}function cn(r){return typeof r=="symbol"||kt(r)&&Jt(r)==Ut}var fr=Qa?an(Qa):nm;function iy(r){return r===n}function ry(r){return kt(r)&&Gt(r)==Ot}function oy(r){return kt(r)&&Jt(r)==Qn}var ly=fl(eu),sy=fl(function(r,l){return r<=l});function Bc(r){if(!r)return[];if(nn(r))return pl(r)?Pn(r):tn(r);if(Xr&&r[Xr])return W0(r[Xr]());var l=Gt(r),c=l==K?Xs:l==yt?Wo:cr;return c(r)}function li(r){if(!r)return r===0?r:0;if(r=An(r),r===V||r===-1/0){var l=r<0?-1:1;return l*Z}return r===r?r:0}function Qe(r){var l=li(r),c=l%1;return l===l?c?l-c:l:0}function Wc(r){return r?Di(Qe(r),0,ce):0}function An(r){if(typeof r=="number")return r;if(cn(r))return ie;if(pt(r)){var l=typeof r.valueOf=="function"?r.valueOf():r;r=pt(l)?l+"":l}if(typeof r!="string")return r===0?r:+r;r=rf(r);var c=ws.test(r);return c||ps.test(r)?k0(r.slice(2),c?2:8):ys.test(r)?ie:+r}function Yc(r){return Vn(r,rn(r))}function uy(r){return r?Di(Qe(r),-9007199254740991,G):r===0?r:0}function at(r){return r==null?"":fn(r)}var ay=sr(function(r,l){if(jr(l)||nn(l)){Vn(l,Rt(l),r);return}for(var c in l)ft.call(l,c)&&Kr(r,c,l[c])}),Xc=sr(function(r,l){Vn(l,rn(l),r)}),vl=sr(function(r,l,c,_){Vn(l,rn(l),r,_)}),fy=sr(function(r,l,c,_){Vn(l,Rt(l),r,_)}),cy=ii(Zs);function dy(r,l){var c=lr(r);return l==null?c:bf(c,l)}var hy=$e(function(r,l){r=dt(r);var c=-1,_=l.length,p=_>2?l[2]:n;for(p&&Qt(l[0],l[1],p)&&(_=1);++c<_;)for(var L=l[c],F=rn(L),U=-1,j=F.length;++U<j;){var ge=F[U],me=r[ge];(me===n||On(me,ir[ge])&&!ft.call(r,ge))&&(r[ge]=L[ge])}return r}),gy=$e(function(r){return r.push(n,rc),un(Fc,n,r)});function my(r,l){return $a(r,Fe(l,3),xn)}function _y(r,l){return $a(r,Fe(l,3),qs)}function yy(r,l){return r==null?r:Gs(r,Fe(l,3),rn)}function wy(r,l){return r==null?r:Ef(r,Fe(l,3),rn)}function by(r,l){return r&&xn(r,Fe(l,3))}function py(r,l){return r&&qs(r,Fe(l,3))}function vy(r){return r==null?[]:nl(r,Rt(r))}function ky(r){return r==null?[]:nl(r,rn(r))}function Mu(r,l,c){var _=r==null?n:Ri(r,l);return _===n?c:_}function Cy(r,l){return r!=null&&sc(r,l,Kg)}function Tu(r,l){return r!=null&&sc(r,l,Zg)}var Ey=$f(function(r,l,c){l!=null&&typeof l.toString!="function"&&(l=xo.call(l)),r[l]=c},Iu(on)),Sy=$f(function(r,l,c){l!=null&&typeof l.toString!="function"&&(l=xo.call(l)),ft.call(r,l)?r[l].push(c):r[l]=[c]},Fe),Ay=$e(Gr);function Rt(r){return nn(r)?yf(r):$s(r)}function rn(r){return nn(r)?yf(r,!0):im(r)}function My(r,l){var c={};return l=Fe(l,3),xn(r,function(_,p,L){ti(c,l(_,p,L),_)}),c}function Ty(r,l){var c={};return l=Fe(l,3),xn(r,function(_,p,L){ti(c,p,l(_,p,L))}),c}var Py=sr(function(r,l,c){il(r,l,c)}),Fc=sr(function(r,l,c,_){il(r,l,c,_)}),Iy=ii(function(r,l){var c={};if(r==null)return c;var _=!1;l=bt(l,function(L){return L=ki(L,r),_||(_=L.length>1),L}),Vn(r,hu(r),c),_&&(c=Cn(c,m|g|y,Em));for(var p=l.length;p--;)ou(c,l[p]);return c});function Oy(r,l){return xc(r,wl(Fe(l)))}var Ny=ii(function(r,l){return r==null?{}:om(r,l)});function xc(r,l){if(r==null)return{};var c=bt(hu(r),function(_){return[_]});return l=Fe(l),Df(r,c,function(_,p){return l(_,p[0])})}function Ly(r,l,c){l=ki(l,r);var _=-1,p=l.length;for(p||(p=1,r=n);++_<p;){var L=r==null?n:r[Un(l[_])];L===n&&(_=p,L=c),r=oi(L)?L.call(r):L}return r}function Dy(r,l,c){return r==null?r:Jr(r,l,c)}function Ry(r,l,c,_){return _=typeof _=="function"?_:n,r==null?r:Jr(r,l,c,_)}var Vc=nc(Rt),Uc=nc(rn);function Hy(r,l,c){var _=Je(r),p=_||Ei(r)||fr(r);if(l=Fe(l,4),c==null){var L=r&&r.constructor;p?c=_?new L:[]:pt(r)?c=oi(L)?lr(Ko(r)):{}:c={}}return(p?pn:xn)(r,function(F,U,j){return l(c,F,U,j)}),c}function zy(r,l){return r==null?!0:ou(r,l)}function By(r,l,c){return r==null?r:Wf(r,l,uu(c))}function Wy(r,l,c,_){return _=typeof _=="function"?_:n,r==null?r:Wf(r,l,uu(c),_)}function cr(r){return r==null?[]:Ys(r,Rt(r))}function Yy(r){return r==null?[]:Ys(r,rn(r))}function Xy(r,l,c){return c===n&&(c=l,l=n),c!==n&&(c=An(c),c=c===c?c:0),l!==n&&(l=An(l),l=l===l?l:0),Di(An(r),l,c)}function Fy(r,l,c){return l=li(l),c===n?(c=l,l=0):c=li(c),r=An(r),Gg(r,l,c)}function xy(r,l,c){if(c&&typeof c!="boolean"&&Qt(r,l,c)&&(l=c=n),c===n&&(typeof l=="boolean"?(c=l,l=n):typeof r=="boolean"&&(c=r,r=n)),r===n&&l===n?(r=0,l=1):(r=li(r),l===n?(l=r,r=0):l=li(l)),r>l){var _=r;r=l,l=_}if(c||r%1||l%1){var p=mf();return Zt(r+p*(l-r+v0("1e-"+((p+"").length-1))),l)}return nu(r,l)}var Vy=ur(function(r,l,c){return l=l.toLowerCase(),r+(c?Kc(l):l)});function Kc(r){return Pu(at(r).toLowerCase())}function Zc(r){return r=at(r),r&&r.replace(ks,D0).replace(c0,"")}function Uy(r,l,c){r=at(r),l=fn(l);var _=r.length;c=c===n?_:Di(Qe(c),0,_);var p=c;return c-=l.length,c>=0&&r.slice(c,p)==l}function Ky(r){return r=at(r),r&&qi.test(r)?r.replace(Hr,R0):r}function Zy(r){return r=at(r),r&&us.test(r)?r.replace(Br,"\\$&"):r}var Gy=ur(function(r,l,c){return r+(c?"-":"")+l.toLowerCase()}),qy=ur(function(r,l,c){return r+(c?" ":"")+l.toLowerCase()}),Jy=Jf("toLowerCase");function Qy(r,l,c){r=at(r),l=Qe(l);var _=l?tr(r):0;if(!l||_>=l)return r;var p=(l-_)/2;return al(Jo(p),c)+r+al(qo(p),c)}function jy(r,l,c){r=at(r),l=Qe(l);var _=l?tr(r):0;return l&&_<l?r+al(l-_,c):r}function $y(r,l,c){r=at(r),l=Qe(l);var _=l?tr(r):0;return l&&_<l?al(l-_,c)+r:r}function ew(r,l,c){return c||l==null?l=0:l&&(l=+l),sg(at(r).replace(Wr,""),l||0)}function tw(r,l,c){return(c?Qt(r,l,c):l===n)?l=1:l=Qe(l),iu(at(r),l)}function nw(){var r=arguments,l=at(r[0]);return r.length<3?l:l.replace(r[1],r[2])}var iw=ur(function(r,l,c){return r+(c?"_":"")+l.toLowerCase()});function rw(r,l,c){return c&&typeof c!="number"&&Qt(r,l,c)&&(l=c=n),c=c===n?ce:c>>>0,c?(r=at(r),r&&(typeof l=="string"||l!=null&&!Au(l))&&(l=fn(l),!l&&er(r))?Ci(Pn(r),0,c):r.split(l,c)):[]}var ow=ur(function(r,l,c){return r+(c?" ":"")+Pu(l)});function lw(r,l,c){return r=at(r),c=c==null?0:Di(Qe(c),0,r.length),l=fn(l),r.slice(c,c+l.length)==l}function sw(r,l,c){var _=M.templateSettings;c&&Qt(r,l,c)&&(l=n),r=at(r),l=vl({},l,_,ic);var p=vl({},l.imports,_.imports,ic),L=Rt(p),F=Ys(p,L),U,j,ge=0,me=l.interpolate||Ji,ye="__p += '",Se=Fs((l.escape||Ji).source+"|"+me.source+"|"+(me===Lo?_s:Ji).source+"|"+(l.evaluate||Ji).source+"|$","g"),Re="//# sourceURL="+(ft.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_0+"]")+`
`;r.replace(Se,function(Ve,et,it,dn,jt,hn){return it||(it=dn),ye+=r.slice(ge,hn).replace(Cs,H0),et&&(U=!0,ye+=`' +
__e(`+et+`) +
'`),jt&&(j=!0,ye+=`';
`+jt+`;
__p += '`),it&&(ye+=`' +
((__t = (`+it+`)) == null ? '' : __t) +
'`),ge=hn+Ve.length,Ve}),ye+=`';
`;var xe=ft.call(l,"variable")&&l.variable;if(!xe)ye=`with (obj) {
`+ye+`
}
`;else if(gs.test(xe))throw new qe(a);ye=(j?ye.replace(jn,""):ye).replace(Zi,"$1").replace(Oo,"$1;"),ye="function("+(xe||"obj")+`) {
`+(xe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(j?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ye+`return __p
}`;var je=qc(function(){return st(L,Re+"return "+ye).apply(n,F)});if(je.source=ye,Su(je))throw je;return je}function uw(r){return at(r).toLowerCase()}function aw(r){return at(r).toUpperCase()}function fw(r,l,c){if(r=at(r),r&&(c||l===n))return rf(r);if(!r||!(l=fn(l)))return r;var _=Pn(r),p=Pn(l),L=of(_,p),F=lf(_,p)+1;return Ci(_,L,F).join("")}function cw(r,l,c){if(r=at(r),r&&(c||l===n))return r.slice(0,uf(r)+1);if(!r||!(l=fn(l)))return r;var _=Pn(r),p=lf(_,Pn(l))+1;return Ci(_,0,p).join("")}function dw(r,l,c){if(r=at(r),r&&(c||l===n))return r.replace(Wr,"");if(!r||!(l=fn(l)))return r;var _=Pn(r),p=of(_,Pn(l));return Ci(_,p).join("")}function hw(r,l){var c=W,_=H;if(pt(l)){var p="separator"in l?l.separator:p;c="length"in l?Qe(l.length):c,_="omission"in l?fn(l.omission):_}r=at(r);var L=r.length;if(er(r)){var F=Pn(r);L=F.length}if(c>=L)return r;var U=c-tr(_);if(U<1)return _;var j=F?Ci(F,0,U).join(""):r.slice(0,U);if(p===n)return j+_;if(F&&(U+=j.length-U),Au(p)){if(r.slice(U).search(p)){var ge,me=j;for(p.global||(p=Fs(p.source,at(Ro.exec(p))+"g")),p.lastIndex=0;ge=p.exec(me);)var ye=ge.index;j=j.slice(0,ye===n?U:ye)}}else if(r.indexOf(fn(p),U)!=U){var Se=j.lastIndexOf(p);Se>-1&&(j=j.slice(0,Se))}return j+_}function gw(r){return r=at(r),r&&No.test(r)?r.replace(Gi,x0):r}var mw=ur(function(r,l,c){return r+(c?" ":"")+l.toUpperCase()}),Pu=Jf("toUpperCase");function Gc(r,l,c){return r=at(r),l=c?n:l,l===n?B0(r)?K0(r):P0(r):r.match(l)||[]}var qc=$e(function(r,l){try{return un(r,n,l)}catch(c){return Su(c)?c:new qe(c)}}),_w=ii(function(r,l){return pn(l,function(c){c=Un(c),ti(r,c,Cu(r[c],r))}),r});function yw(r){var l=r==null?0:r.length,c=Fe();return r=l?bt(r,function(_){if(typeof _[1]!="function")throw new vn(u);return[c(_[0]),_[1]]}):[],$e(function(_){for(var p=-1;++p<l;){var L=r[p];if(un(L[0],this,_))return un(L[1],this,_)}})}function ww(r){return xg(Cn(r,m))}function Iu(r){return function(){return r}}function bw(r,l){return r==null||r!==r?l:r}var pw=jf(),vw=jf(!0);function on(r){return r}function Ou(r){return Tf(typeof r=="function"?r:Cn(r,m))}function kw(r){return If(Cn(r,m))}function Cw(r,l){return Of(r,Cn(l,m))}var Ew=$e(function(r,l){return function(c){return Gr(c,r,l)}}),Sw=$e(function(r,l){return function(c){return Gr(r,c,l)}});function Nu(r,l,c){var _=Rt(l),p=nl(l,_);c==null&&!(pt(l)&&(p.length||!_.length))&&(c=l,l=r,r=this,p=nl(l,Rt(l)));var L=!(pt(c)&&"chain"in c)||!!c.chain,F=oi(r);return pn(p,function(U){var j=l[U];r[U]=j,F&&(r.prototype[U]=function(){var ge=this.__chain__;if(L||ge){var me=r(this.__wrapped__),ye=me.__actions__=tn(this.__actions__);return ye.push({func:j,args:arguments,thisArg:r}),me.__chain__=ge,me}return j.apply(r,yi([this.value()],arguments))})}),r}function Aw(){return Wt._===this&&(Wt._=j0),this}function Lu(){}function Mw(r){return r=Qe(r),$e(function(l){return Nf(l,r)})}var Tw=fu(bt),Pw=fu(ja),Iw=fu(Rs);function Jc(r){return yu(r)?Hs(Un(r)):lm(r)}function Ow(r){return function(l){return r==null?n:Ri(r,l)}}var Nw=ec(),Lw=ec(!0);function Du(){return[]}function Ru(){return!1}function Dw(){return{}}function Rw(){return""}function Hw(){return!0}function zw(r,l){if(r=Qe(r),r<1||r>G)return[];var c=ce,_=Zt(r,ce);l=Fe(l),r-=ce;for(var p=Ws(_,l);++c<r;)l(c);return p}function Bw(r){return Je(r)?bt(r,Un):cn(r)?[r]:tn(_c(at(r)))}function Ww(r){var l=++J0;return at(r)+l}var Yw=ul(function(r,l){return r+l},0),Xw=cu("ceil"),Fw=ul(function(r,l){return r/l},1),xw=cu("floor");function Vw(r){return r&&r.length?tl(r,on,Js):n}function Uw(r,l){return r&&r.length?tl(r,Fe(l,2),Js):n}function Kw(r){return tf(r,on)}function Zw(r,l){return tf(r,Fe(l,2))}function Gw(r){return r&&r.length?tl(r,on,eu):n}function qw(r,l){return r&&r.length?tl(r,Fe(l,2),eu):n}var Jw=ul(function(r,l){return r*l},1),Qw=cu("round"),jw=ul(function(r,l){return r-l},0);function $w(r){return r&&r.length?Bs(r,on):0}function eb(r,l){return r&&r.length?Bs(r,Fe(l,2)):0}return M.after=k_,M.ary=Mc,M.assign=ay,M.assignIn=Xc,M.assignInWith=vl,M.assignWith=fy,M.at=cy,M.before=Tc,M.bind=Cu,M.bindAll=_w,M.bindKey=Pc,M.castArray=D_,M.chain=Ec,M.chunk=xm,M.compact=Vm,M.concat=Um,M.cond=yw,M.conforms=ww,M.constant=Iu,M.countBy=$2,M.create=dy,M.curry=Ic,M.curryRight=Oc,M.debounce=Nc,M.defaults=hy,M.defaultsDeep=gy,M.defer=C_,M.delay=E_,M.difference=Km,M.differenceBy=Zm,M.differenceWith=Gm,M.drop=qm,M.dropRight=Jm,M.dropRightWhile=Qm,M.dropWhile=jm,M.fill=$m,M.filter=t_,M.flatMap=r_,M.flatMapDeep=o_,M.flatMapDepth=l_,M.flatten=pc,M.flattenDeep=e2,M.flattenDepth=t2,M.flip=S_,M.flow=pw,M.flowRight=vw,M.fromPairs=n2,M.functions=vy,M.functionsIn=ky,M.groupBy=s_,M.initial=r2,M.intersection=o2,M.intersectionBy=l2,M.intersectionWith=s2,M.invert=Ey,M.invertBy=Sy,M.invokeMap=a_,M.iteratee=Ou,M.keyBy=f_,M.keys=Rt,M.keysIn=rn,M.map=ml,M.mapKeys=My,M.mapValues=Ty,M.matches=kw,M.matchesProperty=Cw,M.memoize=yl,M.merge=Py,M.mergeWith=Fc,M.method=Ew,M.methodOf=Sw,M.mixin=Nu,M.negate=wl,M.nthArg=Mw,M.omit=Iy,M.omitBy=Oy,M.once=A_,M.orderBy=c_,M.over=Tw,M.overArgs=M_,M.overEvery=Pw,M.overSome=Iw,M.partial=Eu,M.partialRight=Lc,M.partition=d_,M.pick=Ny,M.pickBy=xc,M.property=Jc,M.propertyOf=Ow,M.pull=c2,M.pullAll=kc,M.pullAllBy=d2,M.pullAllWith=h2,M.pullAt=g2,M.range=Nw,M.rangeRight=Lw,M.rearg=T_,M.reject=m_,M.remove=m2,M.rest=P_,M.reverse=vu,M.sampleSize=y_,M.set=Dy,M.setWith=Ry,M.shuffle=w_,M.slice=_2,M.sortBy=v_,M.sortedUniq=C2,M.sortedUniqBy=E2,M.split=rw,M.spread=I_,M.tail=S2,M.take=A2,M.takeRight=M2,M.takeRightWhile=T2,M.takeWhile=P2,M.tap=V2,M.throttle=O_,M.thru=gl,M.toArray=Bc,M.toPairs=Vc,M.toPairsIn=Uc,M.toPath=Bw,M.toPlainObject=Yc,M.transform=Hy,M.unary=N_,M.union=I2,M.unionBy=O2,M.unionWith=N2,M.uniq=L2,M.uniqBy=D2,M.uniqWith=R2,M.unset=zy,M.unzip=ku,M.unzipWith=Cc,M.update=By,M.updateWith=Wy,M.values=cr,M.valuesIn=Yy,M.without=H2,M.words=Gc,M.wrap=L_,M.xor=z2,M.xorBy=B2,M.xorWith=W2,M.zip=Y2,M.zipObject=X2,M.zipObjectDeep=F2,M.zipWith=x2,M.entries=Vc,M.entriesIn=Uc,M.extend=Xc,M.extendWith=vl,Nu(M,M),M.add=Yw,M.attempt=qc,M.camelCase=Vy,M.capitalize=Kc,M.ceil=Xw,M.clamp=Xy,M.clone=R_,M.cloneDeep=z_,M.cloneDeepWith=B_,M.cloneWith=H_,M.conformsTo=W_,M.deburr=Zc,M.defaultTo=bw,M.divide=Fw,M.endsWith=Uy,M.eq=On,M.escape=Ky,M.escapeRegExp=Zy,M.every=e_,M.find=n_,M.findIndex=wc,M.findKey=my,M.findLast=i_,M.findLastIndex=bc,M.findLastKey=_y,M.floor=xw,M.forEach=Sc,M.forEachRight=Ac,M.forIn=yy,M.forInRight=wy,M.forOwn=by,M.forOwnRight=py,M.get=Mu,M.gt=Y_,M.gte=X_,M.has=Cy,M.hasIn=Tu,M.head=vc,M.identity=on,M.includes=u_,M.indexOf=i2,M.inRange=Fy,M.invoke=Ay,M.isArguments=Bi,M.isArray=Je,M.isArrayBuffer=F_,M.isArrayLike=nn,M.isArrayLikeObject=Mt,M.isBoolean=x_,M.isBuffer=Ei,M.isDate=V_,M.isElement=U_,M.isEmpty=K_,M.isEqual=Z_,M.isEqualWith=G_,M.isError=Su,M.isFinite=q_,M.isFunction=oi,M.isInteger=Dc,M.isLength=bl,M.isMap=Rc,M.isMatch=J_,M.isMatchWith=Q_,M.isNaN=j_,M.isNative=$_,M.isNil=ty,M.isNull=ey,M.isNumber=Hc,M.isObject=pt,M.isObjectLike=kt,M.isPlainObject=eo,M.isRegExp=Au,M.isSafeInteger=ny,M.isSet=zc,M.isString=pl,M.isSymbol=cn,M.isTypedArray=fr,M.isUndefined=iy,M.isWeakMap=ry,M.isWeakSet=oy,M.join=u2,M.kebabCase=Gy,M.last=Sn,M.lastIndexOf=a2,M.lowerCase=qy,M.lowerFirst=Jy,M.lt=ly,M.lte=sy,M.max=Vw,M.maxBy=Uw,M.mean=Kw,M.meanBy=Zw,M.min=Gw,M.minBy=qw,M.stubArray=Du,M.stubFalse=Ru,M.stubObject=Dw,M.stubString=Rw,M.stubTrue=Hw,M.multiply=Jw,M.nth=f2,M.noConflict=Aw,M.noop=Lu,M.now=_l,M.pad=Qy,M.padEnd=jy,M.padStart=$y,M.parseInt=ew,M.random=xy,M.reduce=h_,M.reduceRight=g_,M.repeat=tw,M.replace=nw,M.result=Ly,M.round=Qw,M.runInContext=J,M.sample=__,M.size=b_,M.snakeCase=iw,M.some=p_,M.sortedIndex=y2,M.sortedIndexBy=w2,M.sortedIndexOf=b2,M.sortedLastIndex=p2,M.sortedLastIndexBy=v2,M.sortedLastIndexOf=k2,M.startCase=ow,M.startsWith=lw,M.subtract=jw,M.sum=$w,M.sumBy=eb,M.template=sw,M.times=zw,M.toFinite=li,M.toInteger=Qe,M.toLength=Wc,M.toLower=uw,M.toNumber=An,M.toSafeInteger=uy,M.toString=at,M.toUpper=aw,M.trim=fw,M.trimEnd=cw,M.trimStart=dw,M.truncate=hw,M.unescape=gw,M.uniqueId=Ww,M.upperCase=mw,M.upperFirst=Pu,M.each=Sc,M.eachRight=Ac,M.first=vc,Nu(M,function(){var r={};return xn(M,function(l,c){ft.call(M.prototype,c)||(r[c]=l)}),r}(),{chain:!1}),M.VERSION=i,pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){M[r].placeholder=M}),pn(["drop","take"],function(r,l){tt.prototype[r]=function(c){c=c===n?1:Lt(Qe(c),0);var _=this.__filtered__&&!l?new tt(this):this.clone();return _.__filtered__?_.__takeCount__=Zt(c,_.__takeCount__):_.__views__.push({size:Zt(c,ce),type:r+(_.__dir__<0?"Right":"")}),_},tt.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),pn(["filter","map","takeWhile"],function(r,l){var c=l+1,_=c==b||c==D;tt.prototype[r]=function(p){var L=this.clone();return L.__iteratees__.push({iteratee:Fe(p,3),type:c}),L.__filtered__=L.__filtered__||_,L}}),pn(["head","last"],function(r,l){var c="take"+(l?"Right":"");tt.prototype[r]=function(){return this[c](1).value()[0]}}),pn(["initial","tail"],function(r,l){var c="drop"+(l?"":"Right");tt.prototype[r]=function(){return this.__filtered__?new tt(this):this[c](1)}}),tt.prototype.compact=function(){return this.filter(on)},tt.prototype.find=function(r){return this.filter(r).head()},tt.prototype.findLast=function(r){return this.reverse().find(r)},tt.prototype.invokeMap=$e(function(r,l){return typeof r=="function"?new tt(this):this.map(function(c){return Gr(c,r,l)})}),tt.prototype.reject=function(r){return this.filter(wl(Fe(r)))},tt.prototype.slice=function(r,l){r=Qe(r);var c=this;return c.__filtered__&&(r>0||l<0)?new tt(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),l!==n&&(l=Qe(l),c=l<0?c.dropRight(-l):c.take(l-r)),c)},tt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},tt.prototype.toArray=function(){return this.take(ce)},xn(tt.prototype,function(r,l){var c=/^(?:filter|find|map|reject)|While$/.test(l),_=/^(?:head|last)$/.test(l),p=M[_?"take"+(l=="last"?"Right":""):l],L=_||/^find/.test(l);p&&(M.prototype[l]=function(){var F=this.__wrapped__,U=_?[1]:arguments,j=F instanceof tt,ge=U[0],me=j||Je(F),ye=function(et){var it=p.apply(M,yi([et],U));return _&&Se?it[0]:it};me&&c&&typeof ge=="function"&&ge.length!=1&&(j=me=!1);var Se=this.__chain__,Re=!!this.__actions__.length,xe=L&&!Se,je=j&&!Re;if(!L&&me){F=je?F:new tt(this);var Ve=r.apply(F,U);return Ve.__actions__.push({func:gl,args:[ye],thisArg:n}),new kn(Ve,Se)}return xe&&je?r.apply(this,U):(Ve=this.thru(ye),xe?_?Ve.value()[0]:Ve.value():Ve)})}),pn(["pop","push","shift","sort","splice","unshift"],function(r){var l=Yo[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",_=/^(?:pop|shift)$/.test(r);M.prototype[r]=function(){var p=arguments;if(_&&!this.__chain__){var L=this.value();return l.apply(Je(L)?L:[],p)}return this[c](function(F){return l.apply(Je(F)?F:[],p)})}}),xn(tt.prototype,function(r,l){var c=M[l];if(c){var _=c.name+"";ft.call(or,_)||(or[_]=[]),or[_].push({name:l,func:c})}}),or[sl(n,k).name]=[{name:"wrapper",func:n}],tt.prototype.clone=gg,tt.prototype.reverse=mg,tt.prototype.value=_g,M.prototype.at=U2,M.prototype.chain=K2,M.prototype.commit=Z2,M.prototype.next=G2,M.prototype.plant=J2,M.prototype.reverse=Q2,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=j2,M.prototype.first=M.prototype.head,Xr&&(M.prototype[Xr]=q2),M},nr=Z0();Ii?((Ii.exports=nr)._=nr,Os._=nr):Wt._=nr}).call(io)})(Ql,Ql.exports);var Sk=Ql.exports;const I1=Vh(Sk);function Ak(t,e,n){const i=t.slice();return i[19]=e[n][0],i[20]=e[n][1],i}function Mk(t,e,n){const i=t.slice();return i[19]=e[n][0],i[20]=e[n][1],i}function Tk(t,e){let n,i,o;return i=new Jh({props:{id:e[19],type:Tr.ArrowClosed}}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,u){oe(s,n,u),Ae(i,s,u),o=!0},p:Ne,i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function Pk(t,e){let n,i,o;return i=new Jh({props:{id:e[19]+"line",type:Tr.ArrowClosed}}),{key:t,first:null,c(){n=Pt(),Te(i.$$.fragment),this.first=n},m(s,u){oe(s,n,u),Ae(i,s,u),o=!0},p:Ne,i(s){o||(se(i.$$.fragment,s),o=!0)},o(s){fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(i,s)}}}function Ik(t){let e;return{c(){e=rt("")},m(n,i){oe(n,e,i)},d(n){n&&re(e)}}}function Ok(t){let e;return{c(){e=rt("")},m(n,i){oe(n,e,i)},d(n){n&&re(e)}}}function Nk(t){let e,n,i,o;return e=new Lr({props:{$$slots:{default:[Ik]},$$scope:{ctx:t}}}),e.$on("click",t[12]),i=new Lr({props:{$$slots:{default:[Ok]},$$scope:{ctx:t}}}),i.$on("click",t[13]),{c(){Te(e.$$.fragment),n=Ie(),Te(i.$$.fragment)},m(s,u){Ae(e,s,u),oe(s,n,u),Ae(i,s,u),o=!0},p(s,u){const a={};u&33554432&&(a.$$scope={dirty:u,ctx:s}),e.$set(a);const f={};u&33554432&&(f.$$scope={dirty:u,ctx:s}),i.$set(f)},i(s){o||(se(e.$$.fragment,s),se(i.$$.fragment,s),o=!0)},o(s){fe(e.$$.fragment,s),fe(i.$$.fragment,s),o=!1},d(s){s&&re(n),Me(e,s),Me(i,s)}}}function Lk(t){let e,n,i;return{c(){e=Ee("a"),e.textContent="GitHub",n=Ee("br"),i=rt(" 2024 Craig Anderson"),O(e,"href","https://github.com/theonlytechnohead/patchcanvas")},m(o,s){oe(o,e,s),oe(o,n,s),oe(o,i,s)},p:Ne,d(o){o&&(re(e),re(n),re(i))}}}function Dk(t){let e=[],n=new Map,i,o=[],s=new Map,u,a,f,d,h,m,g,y,v,C,N,k=Dt(ko);const R=S=>S[20][1];for(let S=0;S<k.length;S+=1){let P=Mk(t,k,S),w=R(P);n.set(w,e[S]=Tk(w,P))}let T=Dt(ko);const B=S=>S[20][1];for(let S=0;S<T.length;S+=1){let P=Ak(t,T,S),w=B(P);s.set(w,o[S]=Pk(w,P))}return a=new X8({props:{variant:di.Dots}}),d=new Q8({props:{position:"top-right",pannable:!1,zoomable:!1,width:visualViewport!=null&&visualViewport.width?(visualViewport==null?void 0:visualViewport.width)/10:void 0,height:visualViewport!=null&&visualViewport.height?(visualViewport==null?void 0:visualViewport.height)/10:void 0}}),m=new P8({props:{position:"bottom-right",showFitView:!1,showLock:!1,$$slots:{default:[Nk]},$$scope:{ctx:t}}}),y=new ai({props:{position:"bottom-left",$$slots:{default:[Lk]},$$scope:{ctx:t}}}),C=new sk({}),{c(){for(let S=0;S<e.length;S+=1)e[S].c();i=Ie();for(let S=0;S<o.length;S+=1)o[S].c();u=Ie(),Te(a.$$.fragment),f=Ie(),Te(d.$$.fragment),h=Ie(),Te(m.$$.fragment),g=Ie(),Te(y.$$.fragment),v=Ie(),Te(C.$$.fragment)},m(S,P){for(let w=0;w<e.length;w+=1)e[w]&&e[w].m(S,P);oe(S,i,P);for(let w=0;w<o.length;w+=1)o[w]&&o[w].m(S,P);oe(S,u,P),Ae(a,S,P),oe(S,f,P),Ae(d,S,P),oe(S,h,P),Ae(m,S,P),oe(S,g,P),Ae(y,S,P),oe(S,v,P),Ae(C,S,P),N=!0},p(S,P){const w={};P&33554433&&(w.$$scope={dirty:P,ctx:S}),m.$set(w);const I={};P&33554432&&(I.$$scope={dirty:P,ctx:S}),y.$set(I)},i(S){if(!N){for(let P=0;P<k.length;P+=1)se(e[P]);for(let P=0;P<T.length;P+=1)se(o[P]);se(a.$$.fragment,S),se(d.$$.fragment,S),se(m.$$.fragment,S),se(y.$$.fragment,S),se(C.$$.fragment,S),N=!0}},o(S){for(let P=0;P<e.length;P+=1)fe(e[P]);for(let P=0;P<o.length;P+=1)fe(o[P]);fe(a.$$.fragment,S),fe(d.$$.fragment,S),fe(m.$$.fragment,S),fe(y.$$.fragment,S),fe(C.$$.fragment,S),N=!1},d(S){S&&(re(i),re(u),re(f),re(h),re(g),re(v));for(let P=0;P<e.length;P+=1)e[P].d(S);for(let P=0;P<o.length;P+=1)o[P].d(S);Me(a,S),Me(d,S),Me(m,S),Me(y,S),Me(C,S)}}}function Rk(t){let e,n;return e=new kk({props:{slot:"connectionLine"}}),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p:Ne,i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function Hk(t){let e,n;return e=new n8({props:{nodes:t[3],nodeTypes:t[1],edges:t[4],edgeTypes:t[2],defaultEdgeOptions:t[5],isValidConnection:zk,snapGrid:[25,25],colorMode:t[0].theme,fitView:!0,fitViewOptions:t[6],minZoom:.75,maxZoom:10,onlyRenderVisibleElements:!0,attributionPosition:"top-right",deleteKey:"Delete",$$slots:{connectionLine:[Rk],default:[Dk]},$$scope:{ctx:t}}}),e.$on("dragover",t[7]),e.$on("drop",t[8]),e.$on("nodeclick",t[14]),e.$on("edgeclick",t[15]),{c(){Te(e.$$.fragment)},m(i,o){Ae(e,i,o),n=!0},p(i,[o]){const s={};o&1&&(s.colorMode=i[0].theme),o&33554433&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){n||(se(e.$$.fragment,i),n=!0)},o(i){fe(e.$$.fragment,i),n=!1},d(i){Me(e,i)}}}function zk(t){return t.sourceHandle===t.targetHandle}function Bk(t){var e;document.fullscreenElement||(e=document.querySelector('[media="screen"]'))==null||e.setAttribute("media","print")}function Wk(t,e,n){var P;let i,o,s,u;pe(t,gn,w=>n(10,o=w)),pe(t,Zu,w=>n(0,u=w)),o.version!=zl?(console.log("Version mismatch: "+o.version+" != "+zl),o.nodes.length===Ln.length&&o.edges.length===aa.length&&o.nodes.every((w,I,A)=>I1.isMatch(w,Ln[I]))&&o.edges.every((w,I,A)=>I1.isMatch(w,aa[I]))?(console.log("Still default, updating without confirmation"),setTimeout(()=>{Gh()},0)):(console.log("Edited, prompt for confirmation"),confirm(`Your canvas is out of date
Do you want to update to the latest version?
(v${o.version} -> v${zl})`))):console.log("Using latest save version: "+o.version),document.documentElement.setAttribute("data-theme",u.theme),(P=document.querySelector('meta[name="color-scheme"]'))==null||P.setAttribute("content",u.theme),document.documentElement.setAttribute("print-preview",String(!1)),document.addEventListener("keyup",w=>{if(w.code==="KeyP"){const I=document.documentElement.getAttribute("print-preview")===String(!0);document.documentElement.setAttribute("print-preview",`${!I}`),v(g)}});const a={default:yk},f={connection:fk},d=He(structuredClone(he(gn).nodes));pe(t,d,w=>n(9,i=w));const h=He(structuredClone(he(gn).edges));pe(t,h,w=>n(11,s=w));const m={animated:!1,type:"connection",class:""},g={padding:1,duration:1e3},{screenToFlowPosition:y,fitView:v}=j8(),C=w=>{if(w.preventDefault(),w.dataTransfer){const I=document.elementFromPoint(w.clientX,w.clientY);let A="";w.dataTransfer.types[0]==="application/patchcanvasnode"?A=".svelte-flow__pane, .svelte-flow__edge, .svelte-flow__node.group":w.dataTransfer.types[0].includes("patchcanvasprotocol/")?A=".drop-target":w.dataTransfer.types[0]==="application/patchcanvaseraser"&&(A=".svelte-flow__handle"),I!=null&&I.matches(A)?w.dataTransfer.dropEffect="move":w.dataTransfer.dropEffect="none"}},N=w=>{if(w.preventDefault(),!w.dataTransfer)return null;if(w.dataTransfer.types[0]==="application/patchcanvasnode"){const I=JSON.parse(w.dataTransfer.getData("application/patchcanvasnode"));k(I,w.clientX,w.clientY)}};function k(w,I,A){const W=y({x:I,y:A}),H={id:crypto.randomUUID().toString(),type:"default",position:W,connectable:!w.group,data:{label:"Unnamed "+(w.group?"group":"node"),group:w.group??!1,inputs:w.inputs??[],outputs:w.outputs??[]},class:w.group?"group":void 0,dragHandle:".drag-dots",origin:[.5,0]};i.push(H),i.sort((E,Y)=>E.data.group?Y.data.group?0:-1:Y.data.group?1:0),d.set(i)}const R=function(){var w;(w=document.querySelector('[media="print"]'))==null||w.setAttribute("media","screen"),document.addEventListener("fullscreenchange",Bk),document.documentElement.requestFullscreen()},T=()=>{var w;u.theme==="dark"?zn(Zu,u.theme="light",u):zn(Zu,u.theme="dark",u),document.documentElement.setAttribute("data-theme",u.theme),(w=document.querySelector('meta[name="color-scheme"]'))==null||w.setAttribute("content",u.theme)},B=w=>console.log("Node clicked:",w.detail.node),S=w=>console.log("Edge clicked:",w.detail.edge);return t.$$.update=()=>{t.$$.dirty&2560&&gn.update(w=>({...w,nodes:i,edges:s})),t.$$.dirty&1024&&o.updated&&(d.set(he(gn).nodes),h.set(he(gn).edges),gn.update(w=>({...w,updated:!1})),setTimeout(()=>v(g),0))},[u,a,f,d,h,m,g,C,N,i,o,s,R,T,B,S]}class Fk extends Be{constructor(e){super(),ze(this,e,Wk,Hk,Ye,{})}}export{Fk as C,Be as S,Xk as a,Xe as b,Te as c,oe as d,Ee as e,we as f,fe as g,re as h,ze as i,Me as j,pe as k,gn as l,Ae as m,fa as n,Rr as o,Pt as p,Ct as q,Et as r,Ye as s,se as t,zn as u};
