import{S as C,i as x,s as S,a as F,e as d,c as k,b as P,d as u,f as j,m as b,t as f,g as _,h as p,j as y,k as h,v as m,w as L,l as g,n as q,o as M,u as R,p as B,C as N,q as U,r as $}from"./Canvas-BXoSFH3x.js";function v(l,n,r){const t=l.slice();return t[2]=n[r],t}function w(l,n){let r,t,c;return t=new N({}),{key:l,first:null,c(){r=q(),k(t.$$.fragment),this.first=r},m(e,a){u(e,r,a),b(t,e,a),c=!0},p(e,a){},i(e){c||(f(t.$$.fragment,e),c=!0)},o(e){_(t.$$.fragment,e),c=!1},d(e){e&&p(r),y(t,e)}}}function W(l){let n=[],r=new Map,t,c,e=g(l[0].uniqueFlow);const a=s=>s[2];for(let s=0;s<e.length;s+=1){let o=v(l,e,s),i=a(o);r.set(i,n[s]=w(i))}return{c(){for(let s=0;s<n.length;s+=1)n[s].c();t=q()},m(s,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,o);u(s,t,o),c=!0},p(s,o){o&1&&(e=g(s[0].uniqueFlow),M(),n=R(n,o,a,0,s,e,r,t.parentNode,U,w,t,v),B())},i(s){if(!c){for(let o=0;o<e.length;o+=1)f(n[o]);c=!0}},o(s){for(let o=0;o<n.length;o+=1)_(n[o]);c=!1},d(s){s&&p(t);for(let o=0;o<n.length;o+=1)n[o].d(s)}}}function z(l){let n,r,t,c;return t=new F({props:{$$slots:{default:[W]},$$scope:{ctx:l}}}),{c(){n=d("main"),r=d("div"),k(t.$$.fragment),P(r,"height","100%")},m(e,a){u(e,n,a),j(n,r),b(t,r,null),c=!0},p(e,[a]){const s={};a&33&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){c||(f(t.$$.fragment,e),c=!0)},o(e){_(t.$$.fragment,e),c=!1},d(e){e&&p(n),y(t)}}}function A(l,n,r){let t,c;return h(l,m,e=>r(1,t=e)),h(l,$,e=>r(0,c=e)),m.set("wpbc"),L(()=>{if(t==="wpbc"){const e=new URLSearchParams(window.location.search).get("canvas");e!==null&&typeof e=="string"&&0<e.length&&(console.log("Requested canvas is:",e),fetch(`https://anderserver.ddns.net/patchcanvas/wpbc/${e}.patch`).then(a=>a.json()).then(a=>{console.log("Loaded requested canvas:",a),$.set(a)}).catch(a=>{console.log("Couldn't fetch requested canvas:",a)}))}}),[c]}class D extends C{constructor(n){super(),x(this,n,A,z,S,{})}}new D({target:document.body});
