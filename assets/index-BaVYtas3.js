var Fw=Object.defineProperty;var Vw=(t,e,n)=>e in t?Fw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pi=(t,e,n)=>(Vw(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function Oe(){}function Kt(t,e){for(const n in e)t[n]=e[n];return t}function dh(t){return t()}function Lc(){return Object.create(null)}function vt(t){t.forEach(dh)}function gt(t){return typeof t=="function"}function Le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function hh(t,e){return t!=t?e==e:t!==e}function Kw(t){return Object.keys(t).length===0}function Dl(t,...e){if(t==null){for(const i of e)i(void 0);return Oe}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function se(t){let e;return Dl(t,n=>e=n)(),e}function he(t,e,n){t.$$.on_destroy.push(Dl(e,n))}function Xt(t,e,n,i){if(t){const l=gh(t,e,n,i);return t[0](l)}}function gh(t,e,n,i){return t[1]&&i?Kt(n.ctx.slice(),t[1](i(e))):n.ctx}function Yt(t,e,n,i){if(t[2]&&i){const l=t[2](i(n));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],u=Math.max(e.dirty.length,l.length);for(let f=0;f<u;f+=1)s[f]=e.dirty[f]|l[f];return s}return e.dirty|l}return e.dirty}function Ft(t,e,n,i,l,s){if(l){const u=gh(e,n,i,s);t.p(u,l)}}function Vt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Zu(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function ar(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function Uw(t){const e={};for(const n in t)e[n]=!0;return e}function cr(t){return t??""}function Cn(t,e,n){return t.set(n),e}function Gt(t){return t&&gt(t.destroy)?t.destroy:Oe}const qw=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ue(t,e){t.appendChild(e)}function j(t,e,n){t.insertBefore(e,n||null)}function Z(t){t.parentNode&&t.parentNode.removeChild(t)}function xw(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _e(t){return document.createElement(t)}function Fe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function tt(t){return document.createTextNode(t)}function ke(){return tt(" ")}function bt(){return tt("")}function Ne(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function C(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Gw=["width","height"];function dr(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Gw.indexOf(i)===-1?t[i]=e[i]:C(t,i,e[i])}function Zw(t){return Array.from(t.childNodes)}function Zt(t,e){e=""+e,t.data!==e&&(t.data=e)}function Be(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let ll;function Jw(){if(ll===void 0){ll=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ll=!0}}return ll}function Qw(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=_e("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const l=Jw();let s;return l?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=Ne(window,"message",u=>{u.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{s=Ne(i.contentWindow,"resize",e),e()}),ue(t,i),()=>{(l||s&&i.contentWindow)&&s(),Z(i)}}function Xe(t,e,n){t.classList.toggle(e,!!n)}function jw(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class $w{constructor(e=!1){pi(this,"is_svg",!1);pi(this,"e");pi(this,"n");pi(this,"t");pi(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Fe(n.nodeName):this.e=_e(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)j(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Z)}}function kl(t,e){return new t(e)}let Qr;function Gr(t){Qr=t}function Sr(){if(!Qr)throw new Error("Function called outside component initialization");return Qr}function uo(t){Sr().$$.on_mount.push(t)}function Ju(t){Sr().$$.on_destroy.push(t)}function Wl(){const t=Sr();return(e,n,{cancelable:i=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=jw(e,n,{cancelable:i});return l.slice().forEach(u=>{u.call(t,s)}),!s.defaultPrevented}return!0}}function jr(t,e){return Sr().$$.context.set(t,e),e}function $r(t){return Sr().$$.context.get(t)}function eb(t){return Sr().$$.context.has(t)}function lt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const rr=[],En=[];let lr=[];const Lu=[],tb=Promise.resolve();let Ru=!1;function nb(){Ru||(Ru=!0,tb.then(_h))}function Cl(t){lr.push(t)}function mh(t){Lu.push(t)}const pu=new Set;let nr=0;function _h(){if(nr!==0)return;const t=Qr;do{try{for(;nr<rr.length;){const e=rr[nr];nr++,Gr(e),ib(e.$$)}}catch(e){throw rr.length=0,nr=0,e}for(Gr(null),rr.length=0,nr=0;En.length;)En.pop()();for(let e=0;e<lr.length;e+=1){const n=lr[e];pu.has(n)||(pu.add(n),n())}lr.length=0}while(rr.length);for(;Lu.length;)Lu.pop()();Ru=!1,pu.clear(),Gr(t)}function ib(t){if(t.fragment!==null){t.update(),vt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Cl)}}function rb(t){const e=[],n=[];lr.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),lr=e}const yl=new Set;let Ri;function yt(){Ri={r:0,c:[],p:Ri}}function wt(){Ri.r||vt(Ri.c),Ri=Ri.p}function $(t,e){t&&t.i&&(yl.delete(t),t.i(e))}function te(t,e,n,i){if(t&&t.o){if(yl.has(t))return;yl.add(t),Ri.c.push(()=>{yl.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function At(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ob(t,e){t.d(1),e.delete(t.key)}function Bi(t,e){te(t,1,1,()=>{e.delete(t.key)})}function Ei(t,e,n,i,l,s,u,f,a,d,h,g){let m=t.length,y=s.length,b=m;const p={};for(;b--;)p[t[b].key]=b;const A=[],w=new Map,N=new Map,S=[];for(b=y;b--;){const H=g(l,s,b),L=n(H);let W=u.get(L);W?i&&S.push(()=>W.p(H,e)):(W=d(L,H),W.c()),w.set(L,A[b]=W),L in p&&N.set(L,Math.abs(b-p[L]))}const T=new Set,M=new Set;function I(H){$(H,1),H.m(f,h),u.set(H.key,H),h=H.first,y--}for(;m&&y;){const H=A[y-1],L=t[m-1],W=H.key,q=L.key;H===L?(h=H.first,m--,y--):w.has(q)?!u.has(W)||T.has(W)?I(H):M.has(q)?m--:N.get(W)>N.get(q)?(M.add(W),I(H)):(T.add(q),m--):(a(L,u),m--)}for(;m--;){const H=t[m];w.has(H.key)||a(H,u)}for(;y;)I(A[y-1]);return vt(S),A}function si(t,e){const n={},i={},l={$$scope:1};let s=t.length;for(;s--;){const u=t[s],f=e[s];if(f){for(const a in u)a in f||(i[a]=1);for(const a in f)l[a]||(n[a]=f[a],l[a]=1);t[s]=f}else for(const a in u)l[a]=1}for(const u in i)u in n||(n[u]=void 0);return n}function hr(t){return typeof t=="object"&&t!==null?t:{}}function yh(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function Se(t){t&&t.c()}function ve(t,e,n){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,n),Cl(()=>{const s=t.$$.on_mount.map(dh).filter(gt);t.$$.on_destroy?t.$$.on_destroy.push(...s):vt(s),t.$$.on_mount=[]}),l.forEach(Cl)}function pe(t,e){const n=t.$$;n.fragment!==null&&(rb(n.after_update),vt(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lb(t,e){t.$$.dirty[0]===-1&&(rr.push(t),nb(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function He(t,e,n,i,l,s,u=null,f=[-1]){const a=Qr;Gr(t);const d=t.$$={fragment:null,ctx:[],props:s,update:Oe,not_equal:l,bound:Lc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Lc(),dirty:f,skip_bound:!1,root:e.target||a.$$.root};u&&u(d.root);let h=!1;if(d.ctx=n?n(t,e.props||{},(g,m,...y)=>{const b=y.length?y[0]:m;return d.ctx&&l(d.ctx[g],d.ctx[g]=b)&&(!d.skip_bound&&d.bound[g]&&d.bound[g](b),h&&lb(t,g)),m}):[],d.update(),h=!0,vt(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const g=Zw(e.target);d.fragment&&d.fragment.l(g),g.forEach(Z)}else d.fragment&&d.fragment.c();e.intro&&$(t.$$.fragment),ve(t,e.target,e.anchor),_h()}Gr(a)}class ze{constructor(){pi(this,"$$");pi(this,"$$set")}$destroy(){pe(this,1),this.$destroy=Oe}$on(e,n){if(!gt(n))return Oe;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!Kw(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const sb="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(sb);const ir=[];function On(t,e){return{subscribe:Ie(t,e).subscribe}}function Ie(t,e=Oe){let n;const i=new Set;function l(f){if(Le(t,f)&&(t=f,n)){const a=!ir.length;for(const d of i)d[1](),ir.push(d,t);if(a){for(let d=0;d<ir.length;d+=2)ir[d][0](ir[d+1]);ir.length=0}}}function s(f){l(f(t))}function u(f,a=Oe){const d=[f,a];return i.add(d),i.size===1&&(n=e(l,s)||Oe),f(t),()=>{i.delete(d),i.size===0&&n&&(n(),n=null)}}return{set:l,update:s,subscribe:u}}function gr(t,e,n){const i=!Array.isArray(t),l=i?[t]:t;if(!l.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=e.length<2;return On(n,(u,f)=>{let a=!1;const d=[];let h=0,g=Oe;const m=()=>{if(h)return;g();const b=e(i?d[0]:d,u,f);s?u(b):g=gt(b)?b:Oe},y=l.map((b,p)=>Dl(b,A=>{d[p]=A,h&=~(1<<p),a&&m()},()=>{h|=1<<p}));return a=!0,m(),function(){vt(y),g(),a=!1}})}function it(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,i;n<t.length;n++)(i=it(t[n]))!==""&&(e+=(e&&" ")+i);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var ub={value:()=>{}};function Bl(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new wl(n)}function wl(t){this._=t}function fb(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",l=n.indexOf(".");if(l>=0&&(i=n.slice(l+1),n=n.slice(0,l)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}wl.prototype=Bl.prototype={constructor:wl,on:function(t,e){var n=this._,i=fb(t+"",n),l,s=-1,u=i.length;if(arguments.length<2){for(;++s<u;)if((l=(t=i[s]).type)&&(l=ab(n[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<u;)if(l=(t=i[s]).type)n[l]=Rc(n[l],t.name,e);else if(e==null)for(l in n)n[l]=Rc(n[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new wl(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var n=new Array(l),i=0,l,s;i<l;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],i=0,l=s.length;i<l;++i)s[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],l=0,s=i.length;l<s;++l)i[l].value.apply(e,n)}};function ab(t,e){for(var n=0,i=t.length,l;n<i;++n)if((l=t[n]).name===e)return l.value}function Rc(t,e,n){for(var i=0,l=t.length;i<l;++i)if(t[i].name===e){t[i]=ub,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Du="http://www.w3.org/1999/xhtml";const Dc={svg:"http://www.w3.org/2000/svg",xhtml:Du,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xl(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Dc.hasOwnProperty(e)?{space:Dc[e],local:t}:t}function cb(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Du&&e.documentElement.namespaceURI===Du?e.createElement(t):e.createElementNS(n,t)}}function db(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wh(t){var e=Xl(t);return(e.local?db:cb)(e)}function hb(){}function Qu(t){return t==null?hb:function(){return this.querySelector(t)}}function gb(t){typeof t!="function"&&(t=Qu(t));for(var e=this._groups,n=e.length,i=new Array(n),l=0;l<n;++l)for(var s=e[l],u=s.length,f=i[l]=new Array(u),a,d,h=0;h<u;++h)(a=s[h])&&(d=t.call(a,a.__data__,h,s))&&("__data__"in a&&(d.__data__=a.__data__),f[h]=d);return new dn(i,this._parents)}function mb(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function _b(){return[]}function bh(t){return t==null?_b:function(){return this.querySelectorAll(t)}}function yb(t){return function(){return mb(t.apply(this,arguments))}}function wb(t){typeof t=="function"?t=yb(t):t=bh(t);for(var e=this._groups,n=e.length,i=[],l=[],s=0;s<n;++s)for(var u=e[s],f=u.length,a,d=0;d<f;++d)(a=u[d])&&(i.push(t.call(a,a.__data__,d,u)),l.push(a));return new dn(i,l)}function vh(t){return function(){return this.matches(t)}}function ph(t){return function(e){return e.matches(t)}}var bb=Array.prototype.find;function vb(t){return function(){return bb.call(this.children,t)}}function pb(){return this.firstElementChild}function Sb(t){return this.select(t==null?pb:vb(typeof t=="function"?t:ph(t)))}var kb=Array.prototype.filter;function Cb(){return Array.from(this.children)}function Eb(t){return function(){return kb.call(this.children,t)}}function Ab(t){return this.selectAll(t==null?Cb:Eb(typeof t=="function"?t:ph(t)))}function Mb(t){typeof t!="function"&&(t=vh(t));for(var e=this._groups,n=e.length,i=new Array(n),l=0;l<n;++l)for(var s=e[l],u=s.length,f=i[l]=[],a,d=0;d<u;++d)(a=s[d])&&t.call(a,a.__data__,d,s)&&f.push(a);return new dn(i,this._parents)}function Sh(t){return new Array(t.length)}function Pb(){return new dn(this._enter||this._groups.map(Sh),this._parents)}function El(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}El.prototype={constructor:El,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Tb(t){return function(){return t}}function Ob(t,e,n,i,l,s){for(var u=0,f,a=e.length,d=s.length;u<d;++u)(f=e[u])?(f.__data__=s[u],i[u]=f):n[u]=new El(t,s[u]);for(;u<a;++u)(f=e[u])&&(l[u]=f)}function Ib(t,e,n,i,l,s,u){var f,a,d=new Map,h=e.length,g=s.length,m=new Array(h),y;for(f=0;f<h;++f)(a=e[f])&&(m[f]=y=u.call(a,a.__data__,f,e)+"",d.has(y)?l[f]=a:d.set(y,a));for(f=0;f<g;++f)y=u.call(t,s[f],f,s)+"",(a=d.get(y))?(i[f]=a,a.__data__=s[f],d.delete(y)):n[f]=new El(t,s[f]);for(f=0;f<h;++f)(a=e[f])&&d.get(m[f])===a&&(l[f]=a)}function Nb(t){return t.__data__}function Hb(t,e){if(!arguments.length)return Array.from(this,Nb);var n=e?Ib:Ob,i=this._parents,l=this._groups;typeof t!="function"&&(t=Tb(t));for(var s=l.length,u=new Array(s),f=new Array(s),a=new Array(s),d=0;d<s;++d){var h=i[d],g=l[d],m=g.length,y=zb(t.call(h,h&&h.__data__,d,i)),b=y.length,p=f[d]=new Array(b),A=u[d]=new Array(b),w=a[d]=new Array(m);n(h,g,p,A,w,y,e);for(var N=0,S=0,T,M;N<b;++N)if(T=p[N]){for(N>=S&&(S=N+1);!(M=A[S])&&++S<b;);T._next=M||null}}return u=new dn(u,i),u._enter=f,u._exit=a,u}function zb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Lb(){return new dn(this._exit||this._groups.map(Sh),this._parents)}function Rb(t,e,n){var i=this.enter(),l=this,s=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),n==null?s.remove():n(s),i&&l?i.merge(l).order():l}function Db(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,l=n.length,s=i.length,u=Math.min(l,s),f=new Array(l),a=0;a<u;++a)for(var d=n[a],h=i[a],g=d.length,m=f[a]=new Array(g),y,b=0;b<g;++b)(y=d[b]||h[b])&&(m[b]=y);for(;a<l;++a)f[a]=n[a];return new dn(f,this._parents)}function Wb(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],l=i.length-1,s=i[l],u;--l>=0;)(u=i[l])&&(s&&u.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(u,s),s=u);return this}function Bb(t){t||(t=Xb);function e(g,m){return g&&m?t(g.__data__,m.__data__):!g-!m}for(var n=this._groups,i=n.length,l=new Array(i),s=0;s<i;++s){for(var u=n[s],f=u.length,a=l[s]=new Array(f),d,h=0;h<f;++h)(d=u[h])&&(a[h]=d);a.sort(e)}return new dn(l,this._parents).order()}function Xb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Yb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Fb(){return Array.from(this)}function Vb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],l=0,s=i.length;l<s;++l){var u=i[l];if(u)return u}return null}function Kb(){let t=0;for(const e of this)++t;return t}function Ub(){return!this.node()}function qb(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var l=e[n],s=0,u=l.length,f;s<u;++s)(f=l[s])&&t.call(f,f.__data__,s,l);return this}function xb(t){return function(){this.removeAttribute(t)}}function Gb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Zb(t,e){return function(){this.setAttribute(t,e)}}function Jb(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Qb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function jb(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function $b(t,e){var n=Xl(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?Gb:xb:typeof e=="function"?n.local?jb:Qb:n.local?Jb:Zb)(n,e))}function kh(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function e3(t){return function(){this.style.removeProperty(t)}}function t3(t,e,n){return function(){this.style.setProperty(t,e,n)}}function n3(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function i3(t,e,n){return arguments.length>1?this.each((e==null?e3:typeof e=="function"?n3:t3)(t,e,n??"")):mr(this.node(),t)}function mr(t,e){return t.style.getPropertyValue(e)||kh(t).getComputedStyle(t,null).getPropertyValue(e)}function r3(t){return function(){delete this[t]}}function o3(t,e){return function(){this[t]=e}}function l3(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function s3(t,e){return arguments.length>1?this.each((e==null?r3:typeof e=="function"?l3:o3)(t,e)):this.node()[t]}function Ch(t){return t.trim().split(/^|\s+/)}function ju(t){return t.classList||new Eh(t)}function Eh(t){this._node=t,this._names=Ch(t.getAttribute("class")||"")}Eh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Ah(t,e){for(var n=ju(t),i=-1,l=e.length;++i<l;)n.add(e[i])}function Mh(t,e){for(var n=ju(t),i=-1,l=e.length;++i<l;)n.remove(e[i])}function u3(t){return function(){Ah(this,t)}}function f3(t){return function(){Mh(this,t)}}function a3(t,e){return function(){(e.apply(this,arguments)?Ah:Mh)(this,t)}}function c3(t,e){var n=Ch(t+"");if(arguments.length<2){for(var i=ju(this.node()),l=-1,s=n.length;++l<s;)if(!i.contains(n[l]))return!1;return!0}return this.each((typeof e=="function"?a3:e?u3:f3)(n,e))}function d3(){this.textContent=""}function h3(t){return function(){this.textContent=t}}function g3(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function m3(t){return arguments.length?this.each(t==null?d3:(typeof t=="function"?g3:h3)(t)):this.node().textContent}function _3(){this.innerHTML=""}function y3(t){return function(){this.innerHTML=t}}function w3(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function b3(t){return arguments.length?this.each(t==null?_3:(typeof t=="function"?w3:y3)(t)):this.node().innerHTML}function v3(){this.nextSibling&&this.parentNode.appendChild(this)}function p3(){return this.each(v3)}function S3(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function k3(){return this.each(S3)}function C3(t){var e=typeof t=="function"?t:wh(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function E3(){return null}function A3(t,e){var n=typeof t=="function"?t:wh(t),i=e==null?E3:typeof e=="function"?e:Qu(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function M3(){var t=this.parentNode;t&&t.removeChild(this)}function P3(){return this.each(M3)}function T3(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function O3(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function I3(t){return this.select(t?O3:T3)}function N3(t){return arguments.length?this.property("__data__",t):this.node().__data__}function H3(t){return function(e){t.call(this,e,this.__data__)}}function z3(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function L3(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,l=e.length,s;n<l;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function R3(t,e,n){return function(){var i=this.__on,l,s=H3(e);if(i){for(var u=0,f=i.length;u<f;++u)if((l=i[u]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=s,l.options=n),l.value=e;return}}this.addEventListener(t.type,s,n),l={type:t.type,name:t.name,value:e,listener:s,options:n},i?i.push(l):this.__on=[l]}}function D3(t,e,n){var i=z3(t+""),l,s=i.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var a=0,d=f.length,h;a<d;++a)for(l=0,h=f[a];l<s;++l)if((u=i[l]).type===h.type&&u.name===h.name)return h.value}return}for(f=e?R3:L3,l=0;l<s;++l)this.each(f(i[l],e,n));return this}function Ph(t,e,n){var i=kh(t),l=i.CustomEvent;typeof l=="function"?l=new l(e,n):(l=i.document.createEvent("Event"),n?(l.initEvent(e,n.bubbles,n.cancelable),l.detail=n.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function W3(t,e){return function(){return Ph(this,t,e)}}function B3(t,e){return function(){return Ph(this,t,e.apply(this,arguments))}}function X3(t,e){return this.each((typeof e=="function"?B3:W3)(t,e))}function*Y3(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],l=0,s=i.length,u;l<s;++l)(u=i[l])&&(yield u)}var Th=[null];function dn(t,e){this._groups=t,this._parents=e}function fo(){return new dn([[document.documentElement]],Th)}function F3(){return this}dn.prototype=fo.prototype={constructor:dn,select:gb,selectAll:wb,selectChild:Sb,selectChildren:Ab,filter:Mb,data:Hb,enter:Pb,exit:Lb,join:Rb,merge:Db,selection:F3,order:Wb,sort:Bb,call:Yb,nodes:Fb,node:Vb,size:Kb,empty:Ub,each:qb,attr:$b,style:i3,property:s3,classed:c3,text:m3,html:b3,raise:p3,lower:k3,append:C3,insert:A3,remove:P3,clone:I3,datum:N3,on:D3,dispatch:X3,[Symbol.iterator]:Y3};function cn(t){return typeof t=="string"?new dn([[document.querySelector(t)]],[document.documentElement]):new dn([[t]],Th)}function V3(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Nn(t,e){if(t=V3(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}const K3={passive:!1},eo={capture:!0,passive:!1};function Su(t){t.stopImmediatePropagation()}function sr(t){t.preventDefault(),t.stopImmediatePropagation()}function Oh(t){var e=t.document.documentElement,n=cn(t).on("dragstart.drag",sr,eo);"onselectstart"in e?n.on("selectstart.drag",sr,eo):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ih(t,e){var n=t.document.documentElement,i=cn(t).on("dragstart.drag",null);e&&(i.on("click.drag",sr,eo),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const sl=t=>()=>t;function Wu(t,{sourceEvent:e,subject:n,target:i,identifier:l,active:s,x:u,y:f,dx:a,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}Wu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function U3(t){return!t.ctrlKey&&!t.button}function q3(){return this.parentNode}function x3(t,e){return e??{x:t.x,y:t.y}}function G3(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nh(){var t=U3,e=q3,n=x3,i=G3,l={},s=Bl("start","drag","end"),u=0,f,a,d,h,g=0;function m(T){T.on("mousedown.drag",y).filter(i).on("touchstart.drag",A).on("touchmove.drag",w,K3).on("touchend.drag touchcancel.drag",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(T,M){if(!(h||!t.call(this,T,M))){var I=S(this,e.call(this,T,M),T,M,"mouse");I&&(cn(T.view).on("mousemove.drag",b,eo).on("mouseup.drag",p,eo),Oh(T.view),Su(T),d=!1,f=T.clientX,a=T.clientY,I("start",T))}}function b(T){if(sr(T),!d){var M=T.clientX-f,I=T.clientY-a;d=M*M+I*I>g}l.mouse("drag",T)}function p(T){cn(T.view).on("mousemove.drag mouseup.drag",null),Ih(T.view,d),sr(T),l.mouse("end",T)}function A(T,M){if(t.call(this,T,M)){var I=T.changedTouches,H=e.call(this,T,M),L=I.length,W,q;for(W=0;W<L;++W)(q=S(this,H,T,M,I[W].identifier,I[W]))&&(Su(T),q("start",T,I[W]))}}function w(T){var M=T.changedTouches,I=M.length,H,L;for(H=0;H<I;++H)(L=l[M[H].identifier])&&(sr(T),L("drag",T,M[H]))}function N(T){var M=T.changedTouches,I=M.length,H,L;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),H=0;H<I;++H)(L=l[M[H].identifier])&&(Su(T),L("end",T,M[H]))}function S(T,M,I,H,L,W){var q=s.copy(),P=Nn(W||I,M),X,D,O;if((O=n.call(T,new Wu("beforestart",{sourceEvent:I,target:m,identifier:L,active:u,x:P[0],y:P[1],dx:0,dy:0,dispatch:q}),H))!=null)return X=O.x-P[0]||0,D=O.y-P[1]||0,function V(Y,G,x){var Q=P,ae;switch(Y){case"start":l[L]=V,ae=u++;break;case"end":delete l[L],--u;case"drag":P=Nn(x||G,M),ae=u;break}q.call(Y,T,new Wu(Y,{sourceEvent:G,subject:O,target:m,identifier:L,active:ae,x:P[0]+X,y:P[1]+D,dx:P[0]-Q[0],dy:P[1]-Q[1],dispatch:q}),H)}}return m.filter=function(T){return arguments.length?(t=typeof T=="function"?T:sl(!!T),m):t},m.container=function(T){return arguments.length?(e=typeof T=="function"?T:sl(T),m):e},m.subject=function(T){return arguments.length?(n=typeof T=="function"?T:sl(T),m):n},m.touchable=function(T){return arguments.length?(i=typeof T=="function"?T:sl(!!T),m):i},m.on=function(){var T=s.on.apply(s,arguments);return T===s?m:T},m.clickDistance=function(T){return arguments.length?(g=(T=+T)*T,m):Math.sqrt(g)},m}function $u(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Hh(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ao(){}var to=.7,Al=1/to,ur="\\s*([+-]?\\d+)\\s*",no="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z3=/^#([0-9a-f]{3,8})$/,J3=new RegExp(`^rgb\\(${ur},${ur},${ur}\\)$`),Q3=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),j3=new RegExp(`^rgba\\(${ur},${ur},${ur},${no}\\)$`),$3=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${no}\\)$`),ev=new RegExp(`^hsl\\(${no},${Vn},${Vn}\\)$`),tv=new RegExp(`^hsla\\(${no},${Vn},${Vn},${no}\\)$`),Wc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$u(ao,io,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Bc,formatHex:Bc,formatHex8:nv,formatHsl:iv,formatRgb:Xc,toString:Xc});function Bc(){return this.rgb().formatHex()}function nv(){return this.rgb().formatHex8()}function iv(){return zh(this).formatHsl()}function Xc(){return this.rgb().formatRgb()}function io(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Z3.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Yc(e):n===3?new tn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ul(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ul(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=J3.exec(t))?new tn(e[1],e[2],e[3],1):(e=Q3.exec(t))?new tn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=j3.exec(t))?ul(e[1],e[2],e[3],e[4]):(e=$3.exec(t))?ul(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ev.exec(t))?Kc(e[1],e[2]/100,e[3]/100,1):(e=tv.exec(t))?Kc(e[1],e[2]/100,e[3]/100,e[4]):Wc.hasOwnProperty(t)?Yc(Wc[t]):t==="transparent"?new tn(NaN,NaN,NaN,0):null}function Yc(t){return new tn(t>>16&255,t>>8&255,t&255,1)}function ul(t,e,n,i){return i<=0&&(t=e=n=NaN),new tn(t,e,n,i)}function rv(t){return t instanceof ao||(t=io(t)),t?(t=t.rgb(),new tn(t.r,t.g,t.b,t.opacity)):new tn}function Bu(t,e,n,i){return arguments.length===1?rv(t):new tn(t,e,n,i??1)}function tn(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}$u(tn,Bu,Hh(ao,{brighter(t){return t=t==null?Al:Math.pow(Al,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?to:Math.pow(to,t),new tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tn(Wi(this.r),Wi(this.g),Wi(this.b),Ml(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fc,formatHex:Fc,formatHex8:ov,formatRgb:Vc,toString:Vc}));function Fc(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}`}function ov(){return`#${Di(this.r)}${Di(this.g)}${Di(this.b)}${Di((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vc(){const t=Ml(this.opacity);return`${t===1?"rgb(":"rgba("}${Wi(this.r)}, ${Wi(this.g)}, ${Wi(this.b)}${t===1?")":`, ${t})`}`}function Ml(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Di(t){return t=Wi(t),(t<16?"0":"")+t.toString(16)}function Kc(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hn(t,e,n,i)}function zh(t){if(t instanceof Hn)return new Hn(t.h,t.s,t.l,t.opacity);if(t instanceof ao||(t=io(t)),!t)return new Hn;if(t instanceof Hn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,l=Math.min(e,n,i),s=Math.max(e,n,i),u=NaN,f=s-l,a=(s+l)/2;return f?(e===s?u=(n-i)/f+(n<i)*6:n===s?u=(i-e)/f+2:u=(e-n)/f+4,f/=a<.5?s+l:2-s-l,u*=60):f=a>0&&a<1?0:u,new Hn(u,f,a,t.opacity)}function lv(t,e,n,i){return arguments.length===1?zh(t):new Hn(t,e,n,i??1)}function Hn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}$u(Hn,lv,Hh(ao,{brighter(t){return t=t==null?Al:Math.pow(Al,t),new Hn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?to:Math.pow(to,t),new Hn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,l=2*n-i;return new tn(ku(t>=240?t-240:t+120,l,i),ku(t,l,i),ku(t<120?t+240:t-120,l,i),this.opacity)},clamp(){return new Hn(Uc(this.h),fl(this.s),fl(this.l),Ml(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ml(this.opacity);return`${t===1?"hsl(":"hsla("}${Uc(this.h)}, ${fl(this.s)*100}%, ${fl(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Uc(t){return t=(t||0)%360,t<0?t+360:t}function fl(t){return Math.max(0,Math.min(1,t||0))}function ku(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Lh=t=>()=>t;function sv(t,e){return function(n){return t+n*e}}function uv(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function fv(t){return(t=+t)==1?Rh:function(e,n){return n-e?uv(e,n,t):Lh(isNaN(e)?n:e)}}function Rh(t,e){var n=e-t;return n?sv(t,n):Lh(isNaN(t)?e:t)}const qc=function t(e){var n=fv(e);function i(l,s){var u=n((l=Bu(l)).r,(s=Bu(s)).r),f=n(l.g,s.g),a=n(l.b,s.b),d=Rh(l.opacity,s.opacity);return function(h){return l.r=u(h),l.g=f(h),l.b=a(h),l.opacity=d(h),l+""}}return i.gamma=t,i}(1);function Ci(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Xu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cu=new RegExp(Xu.source,"g");function av(t){return function(){return t}}function cv(t){return function(e){return t(e)+""}}function dv(t,e){var n=Xu.lastIndex=Cu.lastIndex=0,i,l,s,u=-1,f=[],a=[];for(t=t+"",e=e+"";(i=Xu.exec(t))&&(l=Cu.exec(e));)(s=l.index)>n&&(s=e.slice(n,s),f[u]?f[u]+=s:f[++u]=s),(i=i[0])===(l=l[0])?f[u]?f[u]+=l:f[++u]=l:(f[++u]=null,a.push({i:u,x:Ci(i,l)})),n=Cu.lastIndex;return n<e.length&&(s=e.slice(n),f[u]?f[u]+=s:f[++u]=s),f.length<2?a[0]?cv(a[0].x):av(e):(e=a.length,function(d){for(var h=0,g;h<e;++h)f[(g=a[h]).i]=g.x(d);return f.join("")})}var xc=180/Math.PI,Yu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dh(t,e,n,i,l,s){var u,f,a;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(a=t*n+e*i)&&(n-=t*a,i-=e*a),(f=Math.sqrt(n*n+i*i))&&(n/=f,i/=f,a/=f),t*i<e*n&&(t=-t,e=-e,a=-a,u=-u),{translateX:l,translateY:s,rotate:Math.atan2(e,t)*xc,skewX:Math.atan(a)*xc,scaleX:u,scaleY:f}}var al;function hv(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Yu:Dh(e.a,e.b,e.c,e.d,e.e,e.f)}function gv(t){return t==null||(al||(al=document.createElementNS("http://www.w3.org/2000/svg","g")),al.setAttribute("transform",t),!(t=al.transform.baseVal.consolidate()))?Yu:(t=t.matrix,Dh(t.a,t.b,t.c,t.d,t.e,t.f))}function Wh(t,e,n,i){function l(d){return d.length?d.pop()+" ":""}function s(d,h,g,m,y,b){if(d!==g||h!==m){var p=y.push("translate(",null,e,null,n);b.push({i:p-4,x:Ci(d,g)},{i:p-2,x:Ci(h,m)})}else(g||m)&&y.push("translate("+g+e+m+n)}function u(d,h,g,m){d!==h?(d-h>180?h+=360:h-d>180&&(d+=360),m.push({i:g.push(l(g)+"rotate(",null,i)-2,x:Ci(d,h)})):h&&g.push(l(g)+"rotate("+h+i)}function f(d,h,g,m){d!==h?m.push({i:g.push(l(g)+"skewX(",null,i)-2,x:Ci(d,h)}):h&&g.push(l(g)+"skewX("+h+i)}function a(d,h,g,m,y,b){if(d!==g||h!==m){var p=y.push(l(y)+"scale(",null,",",null,")");b.push({i:p-4,x:Ci(d,g)},{i:p-2,x:Ci(h,m)})}else(g!==1||m!==1)&&y.push(l(y)+"scale("+g+","+m+")")}return function(d,h){var g=[],m=[];return d=t(d),h=t(h),s(d.translateX,d.translateY,h.translateX,h.translateY,g,m),u(d.rotate,h.rotate,g,m),f(d.skewX,h.skewX,g,m),a(d.scaleX,d.scaleY,h.scaleX,h.scaleY,g,m),d=h=null,function(y){for(var b=-1,p=m.length,A;++b<p;)g[(A=m[b]).i]=A.x(y);return g.join("")}}}var mv=Wh(hv,"px, ","px)","deg)"),_v=Wh(gv,", ",")",")"),yv=1e-12;function Gc(t){return((t=Math.exp(t))+1/t)/2}function wv(t){return((t=Math.exp(t))-1/t)/2}function bv(t){return((t=Math.exp(2*t))-1)/(t+1)}const vv=function t(e,n,i){function l(s,u){var f=s[0],a=s[1],d=s[2],h=u[0],g=u[1],m=u[2],y=h-f,b=g-a,p=y*y+b*b,A,w;if(p<yv)w=Math.log(m/d)/e,A=function(H){return[f+H*y,a+H*b,d*Math.exp(e*H*w)]};else{var N=Math.sqrt(p),S=(m*m-d*d+i*p)/(2*d*n*N),T=(m*m-d*d-i*p)/(2*m*n*N),M=Math.log(Math.sqrt(S*S+1)-S),I=Math.log(Math.sqrt(T*T+1)-T);w=(I-M)/e,A=function(H){var L=H*w,W=Gc(M),q=d/(n*N)*(W*bv(e*L+M)-wv(M));return[f+q*y,a+q*b,d*W/Gc(e*L+M)]}}return A.duration=w*1e3*e/Math.SQRT2,A}return l.rho=function(s){var u=Math.max(.001,+s),f=u*u,a=f*f;return t(u,f,a)},l}(Math.SQRT2,2,4);var _r=0,Ur=0,Fr=0,Bh=1e3,Pl,qr,Tl=0,Xi=0,Yl=0,ro=typeof performance=="object"&&performance.now?performance:Date,Xh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ef(){return Xi||(Xh(pv),Xi=ro.now()+Yl)}function pv(){Xi=0}function Ol(){this._call=this._time=this._next=null}Ol.prototype=Yh.prototype={constructor:Ol,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ef():+n)+(e==null?0:+e),!this._next&&qr!==this&&(qr?qr._next=this:Pl=this,qr=this),this._call=t,this._time=n,Fu()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fu())}};function Yh(t,e,n){var i=new Ol;return i.restart(t,e,n),i}function Sv(){ef(),++_r;for(var t=Pl,e;t;)(e=Xi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_r}function Zc(){Xi=(Tl=ro.now())+Yl,_r=Ur=0;try{Sv()}finally{_r=0,Cv(),Xi=0}}function kv(){var t=ro.now(),e=t-Tl;e>Bh&&(Yl-=e,Tl=t)}function Cv(){for(var t,e=Pl,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Pl=n);qr=t,Fu(i)}function Fu(t){if(!_r){Ur&&(Ur=clearTimeout(Ur));var e=t-Xi;e>24?(t<1/0&&(Ur=setTimeout(Zc,t-ro.now()-Yl)),Fr&&(Fr=clearInterval(Fr))):(Fr||(Tl=ro.now(),Fr=setInterval(kv,Bh)),_r=1,Xh(Zc))}}function Jc(t,e,n){var i=new Ol;return e=e==null?0:+e,i.restart(l=>{i.stop(),t(l+e)},e,n),i}var Ev=Bl("start","end","cancel","interrupt"),Av=[],Fh=0,Qc=1,Vu=2,bl=3,jc=4,Ku=5,vl=6;function Fl(t,e,n,i,l,s){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;Mv(t,n,{name:e,index:i,group:l,on:Ev,tween:Av,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Fh})}function tf(t,e){var n=Ln(t,e);if(n.state>Fh)throw new Error("too late; already scheduled");return n}function Un(t,e){var n=Ln(t,e);if(n.state>bl)throw new Error("too late; already running");return n}function Ln(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Mv(t,e,n){var i=t.__transition,l;i[e]=n,n.timer=Yh(s,0,n.time);function s(d){n.state=Qc,n.timer.restart(u,n.delay,n.time),n.delay<=d&&u(d-n.delay)}function u(d){var h,g,m,y;if(n.state!==Qc)return a();for(h in i)if(y=i[h],y.name===n.name){if(y.state===bl)return Jc(u);y.state===jc?(y.state=vl,y.timer.stop(),y.on.call("interrupt",t,t.__data__,y.index,y.group),delete i[h]):+h<e&&(y.state=vl,y.timer.stop(),y.on.call("cancel",t,t.__data__,y.index,y.group),delete i[h])}if(Jc(function(){n.state===bl&&(n.state=jc,n.timer.restart(f,n.delay,n.time),f(d))}),n.state=Vu,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Vu){for(n.state=bl,l=new Array(m=n.tween.length),h=0,g=-1;h<m;++h)(y=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(l[++g]=y);l.length=g+1}}function f(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(a),n.state=Ku,1),g=-1,m=l.length;++g<m;)l[g].call(t,h);n.state===Ku&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=vl,n.timer.stop(),delete i[e];for(var d in i)return;delete t.__transition}}function pl(t,e){var n=t.__transition,i,l,s=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((i=n[u]).name!==e){s=!1;continue}l=i.state>Vu&&i.state<Ku,i.state=vl,i.timer.stop(),i.on.call(l?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}s&&delete t.__transition}}function Pv(t){return this.each(function(){pl(this,t)})}function Tv(t,e){var n,i;return function(){var l=Un(this,t),s=l.tween;if(s!==n){i=n=s;for(var u=0,f=i.length;u<f;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}l.tween=i}}function Ov(t,e,n){var i,l;if(typeof n!="function")throw new Error;return function(){var s=Un(this,t),u=s.tween;if(u!==i){l=(i=u).slice();for(var f={name:e,value:n},a=0,d=l.length;a<d;++a)if(l[a].name===e){l[a]=f;break}a===d&&l.push(f)}s.tween=l}}function Iv(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Ln(this.node(),n).tween,l=0,s=i.length,u;l<s;++l)if((u=i[l]).name===t)return u.value;return null}return this.each((e==null?Tv:Ov)(n,t,e))}function nf(t,e,n){var i=t._id;return t.each(function(){var l=Un(this,i);(l.value||(l.value={}))[e]=n.apply(this,arguments)}),function(l){return Ln(l,i).value[e]}}function Vh(t,e){var n;return(typeof e=="number"?Ci:e instanceof io?qc:(n=io(e))?(e=n,qc):dv)(t,e)}function Nv(t){return function(){this.removeAttribute(t)}}function Hv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function zv(t,e,n){var i,l=n+"",s;return function(){var u=this.getAttribute(t);return u===l?null:u===i?s:s=e(i=u,n)}}function Lv(t,e,n){var i,l=n+"",s;return function(){var u=this.getAttributeNS(t.space,t.local);return u===l?null:u===i?s:s=e(i=u,n)}}function Rv(t,e,n){var i,l,s;return function(){var u,f=n(this),a;return f==null?void this.removeAttribute(t):(u=this.getAttribute(t),a=f+"",u===a?null:u===i&&a===l?s:(l=a,s=e(i=u,f)))}}function Dv(t,e,n){var i,l,s;return function(){var u,f=n(this),a;return f==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),a=f+"",u===a?null:u===i&&a===l?s:(l=a,s=e(i=u,f)))}}function Wv(t,e){var n=Xl(t),i=n==="transform"?_v:Vh;return this.attrTween(t,typeof e=="function"?(n.local?Dv:Rv)(n,i,nf(this,"attr."+t,e)):e==null?(n.local?Hv:Nv)(n):(n.local?Lv:zv)(n,i,e))}function Bv(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Xv(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Yv(t,e){var n,i;function l(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Xv(t,s)),n}return l._value=e,l}function Fv(t,e){var n,i;function l(){var s=e.apply(this,arguments);return s!==i&&(n=(i=s)&&Bv(t,s)),n}return l._value=e,l}function Vv(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Xl(t);return this.tween(n,(i.local?Yv:Fv)(i,e))}function Kv(t,e){return function(){tf(this,t).delay=+e.apply(this,arguments)}}function Uv(t,e){return e=+e,function(){tf(this,t).delay=e}}function qv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Kv:Uv)(e,t)):Ln(this.node(),e).delay}function xv(t,e){return function(){Un(this,t).duration=+e.apply(this,arguments)}}function Gv(t,e){return e=+e,function(){Un(this,t).duration=e}}function Zv(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?xv:Gv)(e,t)):Ln(this.node(),e).duration}function Jv(t,e){if(typeof e!="function")throw new Error;return function(){Un(this,t).ease=e}}function Qv(t){var e=this._id;return arguments.length?this.each(Jv(e,t)):Ln(this.node(),e).ease}function jv(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Un(this,t).ease=n}}function $v(t){if(typeof t!="function")throw new Error;return this.each(jv(this._id,t))}function ep(t){typeof t!="function"&&(t=vh(t));for(var e=this._groups,n=e.length,i=new Array(n),l=0;l<n;++l)for(var s=e[l],u=s.length,f=i[l]=[],a,d=0;d<u;++d)(a=s[d])&&t.call(a,a.__data__,d,s)&&f.push(a);return new ui(i,this._parents,this._name,this._id)}function tp(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,l=n.length,s=Math.min(i,l),u=new Array(i),f=0;f<s;++f)for(var a=e[f],d=n[f],h=a.length,g=u[f]=new Array(h),m,y=0;y<h;++y)(m=a[y]||d[y])&&(g[y]=m);for(;f<i;++f)u[f]=e[f];return new ui(u,this._parents,this._name,this._id)}function np(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ip(t,e,n){var i,l,s=np(e)?tf:Un;return function(){var u=s(this,t),f=u.on;f!==i&&(l=(i=f).copy()).on(e,n),u.on=l}}function rp(t,e){var n=this._id;return arguments.length<2?Ln(this.node(),n).on.on(t):this.each(ip(n,t,e))}function op(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function lp(){return this.on("end.remove",op(this._id))}function sp(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Qu(t));for(var i=this._groups,l=i.length,s=new Array(l),u=0;u<l;++u)for(var f=i[u],a=f.length,d=s[u]=new Array(a),h,g,m=0;m<a;++m)(h=f[m])&&(g=t.call(h,h.__data__,m,f))&&("__data__"in h&&(g.__data__=h.__data__),d[m]=g,Fl(d[m],e,n,m,d,Ln(h,n)));return new ui(s,this._parents,e,n)}function up(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bh(t));for(var i=this._groups,l=i.length,s=[],u=[],f=0;f<l;++f)for(var a=i[f],d=a.length,h,g=0;g<d;++g)if(h=a[g]){for(var m=t.call(h,h.__data__,g,a),y,b=Ln(h,n),p=0,A=m.length;p<A;++p)(y=m[p])&&Fl(y,e,n,p,m,b);s.push(m),u.push(h)}return new ui(s,u,e,n)}var fp=fo.prototype.constructor;function ap(){return new fp(this._groups,this._parents)}function cp(t,e){var n,i,l;return function(){var s=mr(this,t),u=(this.style.removeProperty(t),mr(this,t));return s===u?null:s===n&&u===i?l:l=e(n=s,i=u)}}function Kh(t){return function(){this.style.removeProperty(t)}}function dp(t,e,n){var i,l=n+"",s;return function(){var u=mr(this,t);return u===l?null:u===i?s:s=e(i=u,n)}}function hp(t,e,n){var i,l,s;return function(){var u=mr(this,t),f=n(this),a=f+"";return f==null&&(a=f=(this.style.removeProperty(t),mr(this,t))),u===a?null:u===i&&a===l?s:(l=a,s=e(i=u,f))}}function gp(t,e){var n,i,l,s="style."+e,u="end."+s,f;return function(){var a=Un(this,t),d=a.on,h=a.value[s]==null?f||(f=Kh(e)):void 0;(d!==n||l!==h)&&(i=(n=d).copy()).on(u,l=h),a.on=i}}function mp(t,e,n){var i=(t+="")=="transform"?mv:Vh;return e==null?this.styleTween(t,cp(t,i)).on("end.style."+t,Kh(t)):typeof e=="function"?this.styleTween(t,hp(t,i,nf(this,"style."+t,e))).each(gp(this._id,t)):this.styleTween(t,dp(t,i,e),n).on("end.style."+t,null)}function _p(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function yp(t,e,n){var i,l;function s(){var u=e.apply(this,arguments);return u!==l&&(i=(l=u)&&_p(t,u,n)),i}return s._value=e,s}function wp(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,yp(t,e,n??""))}function bp(t){return function(){this.textContent=t}}function vp(t){return function(){var e=t(this);this.textContent=e??""}}function pp(t){return this.tween("text",typeof t=="function"?vp(nf(this,"text",t)):bp(t==null?"":t+""))}function Sp(t){return function(e){this.textContent=t.call(this,e)}}function kp(t){var e,n;function i(){var l=t.apply(this,arguments);return l!==n&&(e=(n=l)&&Sp(l)),e}return i._value=t,i}function Cp(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,kp(t))}function Ep(){for(var t=this._name,e=this._id,n=Uh(),i=this._groups,l=i.length,s=0;s<l;++s)for(var u=i[s],f=u.length,a,d=0;d<f;++d)if(a=u[d]){var h=Ln(a,e);Fl(a,t,n,d,u,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ui(i,this._parents,t,n)}function Ap(){var t,e,n=this,i=n._id,l=n.size();return new Promise(function(s,u){var f={value:u},a={value:function(){--l===0&&s()}};n.each(function(){var d=Un(this,i),h=d.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(a)),d.on=e}),l===0&&s()})}var Mp=0;function ui(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Uh(){return++Mp}var ii=fo.prototype;ui.prototype={constructor:ui,select:sp,selectAll:up,selectChild:ii.selectChild,selectChildren:ii.selectChildren,filter:ep,merge:tp,selection:ap,transition:Ep,call:ii.call,nodes:ii.nodes,node:ii.node,size:ii.size,empty:ii.empty,each:ii.each,on:rp,attr:Wv,attrTween:Vv,style:mp,styleTween:wp,text:pp,textTween:Cp,remove:lp,tween:Iv,delay:qv,duration:Zv,ease:Qv,easeVarying:$v,end:Ap,[Symbol.iterator]:ii[Symbol.iterator]};function Pp(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tp={time:null,delay:0,duration:250,ease:Pp};function Op(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ip(t){var e,n;t instanceof ui?(e=t._id,t=t._name):(e=Uh(),(n=Tp).time=ef(),t=t==null?null:t+"");for(var i=this._groups,l=i.length,s=0;s<l;++s)for(var u=i[s],f=u.length,a,d=0;d<f;++d)(a=u[d])&&Fl(a,t,e,d,u,n||Op(a,e));return new ui(i,this._parents,t,e)}fo.prototype.interrupt=Pv;fo.prototype.transition=Ip;const cl=t=>()=>t;function Np(t,{sourceEvent:e,target:n,transform:i,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:l}})}function ri(t,e,n){this.k=t,this.x=e,this.y=n}ri.prototype={constructor:ri,scale:function(t){return t===1?this:new ri(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ri(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Vl=new ri(1,0,0);qh.prototype=ri.prototype;function qh(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Vl;return t.__zoom}function Eu(t){t.stopImmediatePropagation()}function Vr(t){t.preventDefault(),t.stopImmediatePropagation()}function Hp(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function zp(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function $c(){return this.__zoom||Vl}function Lp(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Rp(){return navigator.maxTouchPoints||"ontouchstart"in this}function Dp(t,e,n){var i=t.invertX(e[0][0])-n[0][0],l=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l),u>s?(s+u)/2:Math.min(0,s)||Math.max(0,u))}function xh(){var t=Hp,e=zp,n=Dp,i=Lp,l=Rp,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],f=250,a=vv,d=Bl("start","zoom","end"),h,g,m,y=500,b=150,p=0,A=10;function w(O){O.property("__zoom",$c).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",q).filter(l).on("touchstart.zoom",P).on("touchmove.zoom",X).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(O,V,Y,G){var x=O.selection?O.selection():O;x.property("__zoom",$c),O!==x?M(O,V,Y,G):x.interrupt().each(function(){I(this,arguments).event(G).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},w.scaleBy=function(O,V,Y,G){w.scaleTo(O,function(){var x=this.__zoom.k,Q=typeof V=="function"?V.apply(this,arguments):V;return x*Q},Y,G)},w.scaleTo=function(O,V,Y,G){w.transform(O,function(){var x=e.apply(this,arguments),Q=this.__zoom,ae=Y==null?T(x):typeof Y=="function"?Y.apply(this,arguments):Y,ce=Q.invert(ae),ee=typeof V=="function"?V.apply(this,arguments):V;return n(S(N(Q,ee),ae,ce),x,u)},Y,G)},w.translateBy=function(O,V,Y,G){w.transform(O,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof Y=="function"?Y.apply(this,arguments):Y),e.apply(this,arguments),u)},null,G)},w.translateTo=function(O,V,Y,G,x){w.transform(O,function(){var Q=e.apply(this,arguments),ae=this.__zoom,ce=G==null?T(Q):typeof G=="function"?G.apply(this,arguments):G;return n(Vl.translate(ce[0],ce[1]).scale(ae.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof Y=="function"?-Y.apply(this,arguments):-Y),Q,u)},G,x)};function N(O,V){return V=Math.max(s[0],Math.min(s[1],V)),V===O.k?O:new ri(V,O.x,O.y)}function S(O,V,Y){var G=V[0]-Y[0]*O.k,x=V[1]-Y[1]*O.k;return G===O.x&&x===O.y?O:new ri(O.k,G,x)}function T(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function M(O,V,Y,G){O.on("start.zoom",function(){I(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){I(this,arguments).event(G).end()}).tween("zoom",function(){var x=this,Q=arguments,ae=I(x,Q).event(G),ce=e.apply(x,Q),ee=Y==null?T(ce):typeof Y=="function"?Y.apply(x,Q):Y,be=Math.max(ce[1][0]-ce[0][0],ce[1][1]-ce[0][1]),Me=x.__zoom,Ae=typeof V=="function"?V.apply(x,Q):V,R=a(Me.invert(ee).concat(be/Me.k),Ae.invert(ee).concat(be/Ae.k));return function(ge){if(ge===1)ge=Ae;else{var me=R(ge),oe=be/me[2];ge=new ri(oe,ee[0]-me[0]*oe,ee[1]-me[1]*oe)}ae.zoom(null,ge)}})}function I(O,V,Y){return!Y&&O.__zooming||new H(O,V)}function H(O,V){this.that=O,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(O,V),this.taps=0}H.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,V){return this.mouse&&O!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var V=cn(this.that).datum();d.call(O,this.that,new Np(O,{sourceEvent:this.sourceEvent,target:w,type:O,transform:this.that.__zoom,dispatch:d}),V)}};function L(O,...V){if(!t.apply(this,arguments))return;var Y=I(this,V).event(O),G=this.__zoom,x=Math.max(s[0],Math.min(s[1],G.k*Math.pow(2,i.apply(this,arguments)))),Q=Nn(O);if(Y.wheel)(Y.mouse[0][0]!==Q[0]||Y.mouse[0][1]!==Q[1])&&(Y.mouse[1]=G.invert(Y.mouse[0]=Q)),clearTimeout(Y.wheel);else{if(G.k===x)return;Y.mouse=[Q,G.invert(Q)],pl(this),Y.start()}Vr(O),Y.wheel=setTimeout(ae,b),Y.zoom("mouse",n(S(N(G,x),Y.mouse[0],Y.mouse[1]),Y.extent,u));function ae(){Y.wheel=null,Y.end()}}function W(O,...V){if(m||!t.apply(this,arguments))return;var Y=O.currentTarget,G=I(this,V,!0).event(O),x=cn(O.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",be,!0),Q=Nn(O,Y),ae=O.clientX,ce=O.clientY;Oh(O.view),Eu(O),G.mouse=[Q,this.__zoom.invert(Q)],pl(this),G.start();function ee(Me){if(Vr(Me),!G.moved){var Ae=Me.clientX-ae,R=Me.clientY-ce;G.moved=Ae*Ae+R*R>p}G.event(Me).zoom("mouse",n(S(G.that.__zoom,G.mouse[0]=Nn(Me,Y),G.mouse[1]),G.extent,u))}function be(Me){x.on("mousemove.zoom mouseup.zoom",null),Ih(Me.view,G.moved),Vr(Me),G.event(Me).end()}}function q(O,...V){if(t.apply(this,arguments)){var Y=this.__zoom,G=Nn(O.changedTouches?O.changedTouches[0]:O,this),x=Y.invert(G),Q=Y.k*(O.shiftKey?.5:2),ae=n(S(N(Y,Q),G,x),e.apply(this,V),u);Vr(O),f>0?cn(this).transition().duration(f).call(M,ae,G,O):cn(this).call(w.transform,ae,G,O)}}function P(O,...V){if(t.apply(this,arguments)){var Y=O.touches,G=Y.length,x=I(this,V,O.changedTouches.length===G).event(O),Q,ae,ce,ee;for(Eu(O),ae=0;ae<G;++ae)ce=Y[ae],ee=Nn(ce,this),ee=[ee,this.__zoom.invert(ee),ce.identifier],x.touch0?!x.touch1&&x.touch0[2]!==ee[2]&&(x.touch1=ee,x.taps=0):(x.touch0=ee,Q=!0,x.taps=1+!!h);h&&(h=clearTimeout(h)),Q&&(x.taps<2&&(g=ee[0],h=setTimeout(function(){h=null},y)),pl(this),x.start())}}function X(O,...V){if(this.__zooming){var Y=I(this,V).event(O),G=O.changedTouches,x=G.length,Q,ae,ce,ee;for(Vr(O),Q=0;Q<x;++Q)ae=G[Q],ce=Nn(ae,this),Y.touch0&&Y.touch0[2]===ae.identifier?Y.touch0[0]=ce:Y.touch1&&Y.touch1[2]===ae.identifier&&(Y.touch1[0]=ce);if(ae=Y.that.__zoom,Y.touch1){var be=Y.touch0[0],Me=Y.touch0[1],Ae=Y.touch1[0],R=Y.touch1[1],ge=(ge=Ae[0]-be[0])*ge+(ge=Ae[1]-be[1])*ge,me=(me=R[0]-Me[0])*me+(me=R[1]-Me[1])*me;ae=N(ae,Math.sqrt(ge/me)),ce=[(be[0]+Ae[0])/2,(be[1]+Ae[1])/2],ee=[(Me[0]+R[0])/2,(Me[1]+R[1])/2]}else if(Y.touch0)ce=Y.touch0[0],ee=Y.touch0[1];else return;Y.zoom("touch",n(S(ae,ce,ee),Y.extent,u))}}function D(O,...V){if(this.__zooming){var Y=I(this,V).event(O),G=O.changedTouches,x=G.length,Q,ae;for(Eu(O),m&&clearTimeout(m),m=setTimeout(function(){m=null},y),Q=0;Q<x;++Q)ae=G[Q],Y.touch0&&Y.touch0[2]===ae.identifier?delete Y.touch0:Y.touch1&&Y.touch1[2]===ae.identifier&&delete Y.touch1;if(Y.touch1&&!Y.touch0&&(Y.touch0=Y.touch1,delete Y.touch1),Y.touch0)Y.touch0[1]=this.__zoom.invert(Y.touch0[0]);else if(Y.end(),Y.taps===2&&(ae=Nn(ae,this),Math.hypot(g[0]-ae[0],g[1]-ae[1])<A)){var ce=cn(this).on("dblclick.zoom");ce&&ce.apply(this,arguments)}}}return w.wheelDelta=function(O){return arguments.length?(i=typeof O=="function"?O:cl(+O),w):i},w.filter=function(O){return arguments.length?(t=typeof O=="function"?O:cl(!!O),w):t},w.touchable=function(O){return arguments.length?(l=typeof O=="function"?O:cl(!!O),w):l},w.extent=function(O){return arguments.length?(e=typeof O=="function"?O:cl([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),w):e},w.scaleExtent=function(O){return arguments.length?(s[0]=+O[0],s[1]=+O[1],w):[s[0],s[1]]},w.translateExtent=function(O){return arguments.length?(u[0][0]=+O[0][0],u[1][0]=+O[1][0],u[0][1]=+O[0][1],u[1][1]=+O[1][1],w):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},w.constrain=function(O){return arguments.length?(n=O,w):n},w.duration=function(O){return arguments.length?(f=+O,w):f},w.interpolate=function(O){return arguments.length?(a=O,w):a},w.on=function(){var O=d.on.apply(d,arguments);return O===d?w:O},w.clickDistance=function(O){return arguments.length?(p=(O=+O)*O,w):Math.sqrt(p)},w.tapDistance=function(O){return arguments.length?(A=+O,w):A},w}const co={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:i})=>`Couldn't create edge for ${t} handle id: "${n&&i}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},_t=Symbol.for("internals"),ed=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]];var Ai;(function(t){t.Strict="strict",t.Loose="loose"})(Ai||(Ai={}));var Kn;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Kn||(Kn={}));var Il;(function(t){t.Partial="partial",t.Full="full"})(Il||(Il={}));var fr;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(fr||(fr={}));var yr;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(yr||(yr={}));var Ke;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Ke||(Ke={}));function Wp(t,e){if(!t&&!e)return!0;if(!t||!e||t.size!==e.size)return!1;if(!t.size&&!e.size)return!0;for(const n of t.keys())if(!e.has(n))return!1;return!0}function td(t,e,n){if(!n)return;const i=[];t.forEach((l,s)=>{e!=null&&e.has(s)||i.push(l)}),i.length&&n(i)}const Bp=t=>"id"in t&&"source"in t&&"target"in t,Xp=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),kr=(t,e=[0,0])=>{var f;if(!t)return{position:{x:0,y:0},positionAbsolute:{x:0,y:0}};const{width:n,height:i}=go(t),l=n*e[0],s=i*e[1],u={x:t.position.x-l,y:t.position.y-s};return{position:u,positionAbsolute:(f=t.computed)!=null&&f.positionAbsolute?{x:t.computed.positionAbsolute.x-l,y:t.computed.positionAbsolute.y-s}:u}},ho=(t,e={nodeOrigin:[0,0],useRelativePosition:!1})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((i,l)=>{const s=kr(l,l.origin||e.nodeOrigin);return rf(i,Nl({...s[e.useRelativePosition?"position":"positionAbsolute"],...go(l)}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return of(n)},Gh=(t,e,[n,i,l]=[0,0,1],s=!1,u=!1,f=[0,0])=>{const a={...Kl(e,[n,i,l]),width:e.width/l,height:e.height/l};return t.reduce((h,g)=>{const{computed:m,selectable:y=!0,hidden:b=!1}=g,p=(m==null?void 0:m.width)??g.width??g.initialWidth??null,A=(m==null?void 0:m.height)??g.height??g.initialHeight??null;if(u&&!y||b)return h;const w=Hl(a,qu(g,f)),N=p===null||A===null,S=s&&w>0,T=(p??0)*(A??0);return(N||S||w>=T||g.dragging)&&h.push(g),h},[])},Uu=(t,e)=>{const n=new Set;return t.forEach(i=>{n.add(i.id)}),e.filter(i=>n.has(i.source)||n.has(i.target))};function Yp({nodes:t,width:e,height:n,panZoom:i,minZoom:l,maxZoom:s,nodeOrigin:u=[0,0]},f){const a=t.filter(d=>{var g,m,y;const h=((g=d.computed)==null?void 0:g.width)&&((m=d.computed)==null?void 0:m.height)&&((f==null?void 0:f.includeHiddenNodes)||!d.hidden);return(y=f==null?void 0:f.nodes)!=null&&y.length?h&&(f==null?void 0:f.nodes.some(b=>b.id===d.id)):h});if(a.length>0){const d=ho(a,{nodeOrigin:u}),h=sf(d,e,n,(f==null?void 0:f.minZoom)??l,(f==null?void 0:f.maxZoom)??s,(f==null?void 0:f.padding)??.1);return i.setViewport(h,{duration:f==null?void 0:f.duration}),!0}return!1}function Fp(t,e){var n,i;return!e||e==="parent"?e:[e[0],[e[1][0]-(((n=t.computed)==null?void 0:n.width)??0),e[1][1]-(((i=t.computed)==null?void 0:i.height)??0)]]}function Vp({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:i=[0,0],nodeExtent:l,onError:s}){var m,y,b,p;const u=n.get(t),f=u.parentNode?n.get(u.parentNode):void 0,{x:a,y:d}=f?kr(f,f.origin||i).positionAbsolute:{x:0,y:0};let h=Fp(u,u.extent||l);if(u.extent==="parent"&&!u.expandParent)if(!f)s==null||s("005",co.error005());else{const A=(m=u.computed)==null?void 0:m.width,w=(y=u.computed)==null?void 0:y.height,N=(b=f==null?void 0:f.computed)==null?void 0:b.width,S=(p=f==null?void 0:f.computed)==null?void 0:p.height;if(A&&w&&N&&S){const T=u.origin||i,M=a+A*T[0],I=d+w*T[1];h=[[M,I],[M+N-A,I+S-w]]}}else f&&od(u.extent)&&(h=[[u.extent[0][0]+a,u.extent[0][1]+d],[u.extent[1][0]+a,u.extent[1][1]+d]]);const g=od(h)?Kp(e,h):e;return{position:{x:g.x-a,y:g.y-d},positionAbsolute:g}}async function Zh({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:i,onBeforeDelete:l}){const s=t.map(m=>m.id),u=[];for(const m of n){if(m.deletable===!1)continue;const y=s.includes(m.id),b=!y&&m.parentNode&&u.find(p=>p.id===m.parentNode);(y||b)&&u.push(m)}const f=e.map(m=>m.id),a=i.filter(m=>m.deletable!==!1),h=Uu(u,a);for(const m of a)f.includes(m.id)&&!h.find(b=>b.id===m.id)&&h.push(m);if(!l)return{edges:h,nodes:u};const g=await l({nodes:u,edges:h});return typeof g=="boolean"?g?{edges:h,nodes:u}:{edges:[],nodes:[]}:g}const wr=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Kp=(t={x:0,y:0},e)=>({x:wr(t.x,e[0][0],e[1][0]),y:wr(t.y,e[0][1],e[1][1])}),nd=(t,e,n)=>t<e?wr(Math.abs(t-e),1,50)/50:t>n?-wr(Math.abs(t-n),1,50)/50:0,Jh=(t,e)=>{const n=nd(t.x,35,e.width-35)*20,i=nd(t.y,35,e.height-35)*20;return[n,i]},rf=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),Nl=({x:t,y:e,width:n,height:i})=>({x:t,y:e,x2:t+n,y2:e+i}),of=({x:t,y:e,x2:n,y2:i})=>({x:t,y:e,width:n-t,height:i-e}),qu=(t,e=[0,0])=>{var i,l;const{positionAbsolute:n}=kr(t,t.origin||e);return{...n,width:((i=t.computed)==null?void 0:i.width)??t.width??0,height:((l=t.computed)==null?void 0:l.height)??t.height??0}},id=(t,e=[0,0])=>{var i,l;const{positionAbsolute:n}=kr(t,t.origin||e);return{...n,x2:n.x+(((i=t.computed)==null?void 0:i.width)??t.width??0),y2:n.y+(((l=t.computed)==null?void 0:l.height)??t.height??0)}},Up=(t,e)=>of(rf(Nl(t),Nl(e))),Hl=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),i=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*i)},rd=t=>xr(t.width)&&xr(t.height)&&xr(t.x)&&xr(t.y),xr=t=>!isNaN(t)&&isFinite(t),qp=(t,e)=>{},xp=({x:t,y:e,width:n,height:i,origin:l=[0,0]})=>!n||!i||l[0]<0||l[1]<0||l[0]>1||l[1]>1?{x:t,y:e}:{x:t-n*l[0],y:e-i*l[1]},lf=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Kl=({x:t,y:e},[n,i,l],s=!1,u=[1,1])=>{const f={x:(t-n)/l,y:(e-i)/l};return s?lf(f,u):f},Qh=({x:t,y:e},[n,i,l])=>({x:t*l+n,y:e*l+i}),sf=(t,e,n,i,l,s)=>{const u=e/(t.width*(1+s)),f=n/(t.height*(1+s)),a=Math.min(u,f),d=wr(a,i,l),h=t.x+t.width/2,g=t.y+t.height/2,m=e/2-h*d,y=n/2-g*d;return{x:m,y,zoom:d}},zl=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function od(t){return t!==void 0&&t!=="parent"}function go(t){var e,n;return{width:((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight??0}}function oo(t){var e,n;return(((e=t.computed)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.computed)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Zr(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:i}){const{x:l,y:s}=oi(t),u=Kl({x:l,y:s},i),{x:f,y:a}=n?lf(u,e):u;return{xSnapped:f,ySnapped:a,...u}}const jh=t=>({width:t.offsetWidth,height:t.offsetHeight}),Gp=t=>{var e;return((e=t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Zp=["INPUT","SELECT","TEXTAREA"];function Jp(t){var i,l;const e=((l=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:l[0])||t.target;return Zp.includes(e==null?void 0:e.nodeName)||(e==null?void 0:e.hasAttribute("contenteditable"))||!!(e!=null&&e.closest(".nokey"))}const $h=t=>"clientX"in t,oi=(t,e)=>{var s,u;const n=$h(t),i=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,l=n?t.clientY:(u=t.touches)==null?void 0:u[0].clientY;return{x:i-((e==null?void 0:e.left)??0),y:l-((e==null?void 0:e.top)??0)}},ld=(t,e,n,i=[0,0])=>{const l=e.querySelectorAll(t);if(!l||!l.length)return null;const s=Array.from(l),u=e.getBoundingClientRect(),f={x:u.width*i[0],y:u.height*i[1]};return s.map(a=>{const d=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(d.left-u.left-f.x)/n,y:(d.top-u.top-f.y)/n,...jh(a)}})};function Qp({sourceX:t,sourceY:e,targetX:n,targetY:i,sourceControlX:l,sourceControlY:s,targetControlX:u,targetControlY:f}){const a=t*.125+l*.375+u*.375+n*.125,d=e*.125+s*.375+f*.375+i*.125,h=Math.abs(a-t),g=Math.abs(d-e);return[a,d,h,g]}function dl(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function sd({pos:t,x1:e,y1:n,x2:i,y2:l,c:s}){switch(t){case Ke.Left:return[e-dl(e-i,s),n];case Ke.Right:return[e+dl(i-e,s),n];case Ke.Top:return[e,n-dl(n-l,s)];case Ke.Bottom:return[e,n+dl(l-n,s)]}}function e1({sourceX:t,sourceY:e,sourcePosition:n=Ke.Bottom,targetX:i,targetY:l,targetPosition:s=Ke.Top,curvature:u=.25}){const[f,a]=sd({pos:n,x1:t,y1:e,x2:i,y2:l,c:u}),[d,h]=sd({pos:s,x1:i,y1:l,x2:t,y2:e,c:u}),[g,m,y,b]=Qp({sourceX:t,sourceY:e,targetX:i,targetY:l,sourceControlX:f,sourceControlY:a,targetControlX:d,targetControlY:h});return[`M${t},${e} C${f},${a} ${d},${h} ${i},${l}`,g,m,y,b]}function t1({sourceX:t,sourceY:e,targetX:n,targetY:i}){const l=Math.abs(n-t)/2,s=n<t?n+l:n-l,u=Math.abs(i-e)/2,f=i<e?i+u:i-u;return[s,f,l,u]}function jp({sourceNode:t,targetNode:e,selected:n=!1,zIndex:i=0,elevateOnSelect:l=!1}){var f,a;if(!l)return i;const s=n||e.selected||t.selected,u=Math.max(((f=t[_t])==null?void 0:f.z)||0,((a=e[_t])==null?void 0:a.z)||0,1e3);return i+(s?u:0)}function $p({sourceNode:t,targetNode:e,width:n,height:i,transform:l}){const s=rf(id(t),id(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const u={x:-l[0]/l[2],y:-l[1]/l[2],width:n/l[2],height:i/l[2]};return Hl(u,of(s))>0}const e5=({source:t,sourceHandle:e,target:n,targetHandle:i})=>`xy-edge__${t}${e||""}-${n}${i||""}`,t5=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),n5=(t,e)=>{if(!t.source||!t.target)return e;let n;return Bp(t)?n={...t}:n={...t,id:e5(t)},t5(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function n1({sourceX:t,sourceY:e,targetX:n,targetY:i}){const[l,s,u,f]=t1({sourceX:t,sourceY:e,targetX:n,targetY:i});return[`M ${t},${e}L ${n},${i}`,l,s,u,f]}const ud={[Ke.Left]:{x:-1,y:0},[Ke.Right]:{x:1,y:0},[Ke.Top]:{x:0,y:-1},[Ke.Bottom]:{x:0,y:1}},i5=({source:t,sourcePosition:e=Ke.Bottom,target:n})=>e===Ke.Left||e===Ke.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},fd=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function r5({source:t,sourcePosition:e=Ke.Bottom,target:n,targetPosition:i=Ke.Top,center:l,offset:s}){const u=ud[e],f=ud[i],a={x:t.x+u.x*s,y:t.y+u.y*s},d={x:n.x+f.x*s,y:n.y+f.y*s},h=i5({source:a,sourcePosition:e,target:d}),g=h.x!==0?"x":"y",m=h[g];let y=[],b,p;const A={x:0,y:0},w={x:0,y:0},[N,S,T,M]=t1({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(u[g]*f[g]===-1){b=l.x??N,p=l.y??S;const H=[{x:b,y:a.y},{x:b,y:d.y}],L=[{x:a.x,y:p},{x:d.x,y:p}];u[g]===m?y=g==="x"?H:L:y=g==="x"?L:H}else{const H=[{x:a.x,y:d.y}],L=[{x:d.x,y:a.y}];if(g==="x"?y=u.x===m?L:H:y=u.y===m?H:L,e===i){const D=Math.abs(t[g]-n[g]);if(D<=s){const O=Math.min(s-1,s-D);u[g]===m?A[g]=(a[g]>t[g]?-1:1)*O:w[g]=(d[g]>n[g]?-1:1)*O}}if(e!==i){const D=g==="x"?"y":"x",O=u[g]===f[D],V=a[D]>d[D],Y=a[D]<d[D];(u[g]===1&&(!O&&V||O&&Y)||u[g]!==1&&(!O&&Y||O&&V))&&(y=g==="x"?H:L)}const W={x:a.x+A.x,y:a.y+A.y},q={x:d.x+w.x,y:d.y+w.y},P=Math.max(Math.abs(W.x-y[0].x),Math.abs(q.x-y[0].x)),X=Math.max(Math.abs(W.y-y[0].y),Math.abs(q.y-y[0].y));P>=X?(b=(W.x+q.x)/2,p=y[0].y):(b=y[0].x,p=(W.y+q.y)/2)}return[[t,{x:a.x+A.x,y:a.y+A.y},...y,{x:d.x+w.x,y:d.y+w.y},n],b,p,T,M]}function o5(t,e,n,i){const l=Math.min(fd(t,e)/2,fd(e,n)/2,i),{x:s,y:u}=e;if(t.x===s&&s===n.x||t.y===u&&u===n.y)return`L${s} ${u}`;if(t.y===u){const d=t.x<n.x?-1:1,h=t.y<n.y?1:-1;return`L ${s+l*d},${u}Q ${s},${u} ${s},${u+l*h}`}const f=t.x<n.x?1:-1,a=t.y<n.y?-1:1;return`L ${s},${u+l*a}Q ${s},${u} ${s+l*f},${u}`}function br({sourceX:t,sourceY:e,sourcePosition:n=Ke.Bottom,targetX:i,targetY:l,targetPosition:s=Ke.Top,borderRadius:u=5,centerX:f,centerY:a,offset:d=20}){const[h,g,m,y,b]=r5({source:{x:t,y:e},sourcePosition:n,target:{x:i,y:l},targetPosition:s,center:{x:f,y:a},offset:d});return[h.reduce((A,w,N)=>{let S="";return N>0&&N<h.length-1?S=o5(h[N-1],w,h[N+1],u):S=`${N===0?"M":"L"}${w.x} ${w.y}`,A+=S,A},""),g,m,y,b]}function ad(t){var e,n,i;return!!((e=t==null?void 0:t[_t])!=null&&e.handleBounds||(n=t==null?void 0:t.handles)!=null&&n.length)&&!!((i=t==null?void 0:t.computed)!=null&&i.width||t!=null&&t.width||t!=null&&t.initialWidth)}function l5(t){var y,b,p;const{sourceNode:e,targetNode:n}=t;if(!ad(e)||!ad(n))return null;const i=((y=e[_t])==null?void 0:y.handleBounds)||cd(e.handles),l=((b=n[_t])==null?void 0:b.handleBounds)||cd(n.handles),s=hd((i==null?void 0:i.source)??[],t.sourceHandle),u=hd(t.connectionMode===Ai.Strict?(l==null?void 0:l.target)??[]:((l==null?void 0:l.target)??[]).concat((l==null?void 0:l.source)??[]),t.targetHandle),f=(s==null?void 0:s.position)||Ke.Bottom,a=(u==null?void 0:u.position)||Ke.Top;if(!s||!u)return(p=t.onError)==null||p.call(t,"008",co.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const[d,h]=dd(f,e,s),[g,m]=dd(a,n,u);return{sourceX:d,sourceY:h,targetX:g,targetY:m,sourcePosition:f,targetPosition:a}}function cd(t){if(!t)return null;const e=[],n=[];for(const i of t)i.width=i.width??1,i.height=i.height??1,i.type==="source"?e.push(i):i.type==="target"&&n.push(i);return{source:e,target:n}}function dd(t,e,n=null){var f,a,d,h;const i=((n==null?void 0:n.x)??0)+(((a=(f=e.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.x)??0),l=((n==null?void 0:n.y)??0)+(((h=(d=e.computed)==null?void 0:d.positionAbsolute)==null?void 0:h.y)??0),{width:s,height:u}=n??go(e);switch(t){case Ke.Top:return[i+s/2,l];case Ke.Right:return[i+s,l+u/2];case Ke.Bottom:return[i+s/2,l+u];case Ke.Left:return[i,l+u/2]}}function hd(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function xu(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(i=>`${i}=${t[i]}`).join("&")}`:""}function s5(t,{id:e,defaultColor:n,defaultMarkerStart:i,defaultMarkerEnd:l}){const s=new Set;return t.reduce((u,f)=>([f.markerStart||i,f.markerEnd||l].forEach(a=>{if(a&&typeof a=="object"){const d=xu(a,e);s.has(d)||(u.push({id:d,color:a.color||n,...a}),s.add(d))}}),u),[]).sort((u,f)=>u.id.localeCompare(f.id))}function u5(t,e,n=[0,0],i){return t.map(l=>{var s,u,f,a,d,h;if(l.parentNode&&!e.has(l.parentNode))throw new Error(`Parent node ${l.parentNode} not found`);if(l.parentNode||i!=null&&i[l.id]){const g=l.parentNode?e.get(l.parentNode):null,{x:m,y,z:b}=r1(l,t,e,{...l.position,z:((s=l[_t])==null?void 0:s.z)??0},(g==null?void 0:g.origin)||n),p=m!==((f=(u=l.computed)==null?void 0:u.positionAbsolute)==null?void 0:f.x)||y!==((d=(a=l.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y);l.computed.positionAbsolute=p?{x:m,y}:(h=l.computed)==null?void 0:h.positionAbsolute,l[_t].z=b,i!=null&&i[l.id]&&(l[_t].isParent=!0)}return l})}function i1(t,e,n={nodeOrigin:[0,0],elevateNodesOnSelect:!0,defaults:{}}){const i=new Map(e);e.clear();const l={},s=n!=null&&n.elevateNodesOnSelect?1e3:0,u=t.map(a=>{var y,b,p;const d=i.get(a.id);if(a===((y=d==null?void 0:d[_t])==null?void 0:y.userProvidedNode))return e.set(a.id,d),d;const h={...n.defaults,...a,computed:{positionAbsolute:a.position,width:(b=a.computed)==null?void 0:b.width,height:(p=a.computed)==null?void 0:p.height}},g=(xr(a.zIndex)?a.zIndex:0)+(a.selected?s:0),m=(a==null?void 0:a[_t])||(d==null?void 0:d[_t]);return h.parentNode&&(l[h.parentNode]=!0),Object.defineProperty(h,_t,{enumerable:!1,value:{handleBounds:m==null?void 0:m.handleBounds,z:g,userProvidedNode:a}}),e.set(h.id,h),h});return u5(u,e,n.nodeOrigin,l)}function r1(t,e,n,i,l){var f,a;if(!t.parentNode)return i;const s=n.get(t.parentNode),{position:u}=kr(s,(s==null?void 0:s.origin)||l);return r1(s,e,n,{x:(i.x??0)+u.x,y:(i.y??0)+u.y,z:(((f=s[_t])==null?void 0:f.z)??0)>(i.z??0)?((a=s[_t])==null?void 0:a.z)??0:i.z??0},s.origin||l)}function f5(t,e,n,i,l,s){const u=i==null?void 0:i.querySelector(".xyflow__viewport");if(!u)return null;const f=window.getComputedStyle(u),{m22:a}=new window.DOMMatrixReadOnly(f.transform);return e.map(h=>{var m,y;const g=t.get(h.id);if(g){const b=jh(g.nodeElement);if(!!(b.width&&b.height&&(((m=h.computed)==null?void 0:m.width)!==b.width||((y=h.computed)==null?void 0:y.height)!==b.height||g.forceUpdate))){s==null||s(h.id,b);const A={...h,computed:{...h.computed,...b},[_t]:{...h[_t],handleBounds:{source:ld(".source",g.nodeElement,a,h.origin||l),target:ld(".target",g.nodeElement,a,h.origin||l)}}};return n.set(h.id,A),A}}return h})}function a5({delta:t,panZoom:e,transform:n,translateExtent:i,width:l,height:s}){if(!e||!t.x&&!t.y)return!1;const u=e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[l,s]],i);return!!u&&(u.x!==n[0]||u.y!==n[1]||u.k!==n[2])}function o1(t,e,n){t.clear(),e.clear();for(const i of n){const{source:l,target:s,sourceHandle:u=null,targetHandle:f=null}=i,a=`${l}-source-${u}`,d=`${s}-target-${f}`,h=t.get(a)||new Map,g=t.get(d)||new Map,m={edgeId:i.id,source:l,target:s,sourceHandle:u,targetHandle:f};e.set(i.id,i),t.set(a,h.set(`${s}-${f}`,m)),t.set(d,g.set(`${l}-${u}`,m))}}function Au(t){return(e,n,i)=>t==null?void 0:t(e,i)}function l1(t,e){if(!t.parentNode)return!1;const n=e.find(i=>i.id===i.parentNode);return n?n.selected?!0:l1(n,e):!1}function gd(t,e,n){let i=t;do{if(i!=null&&i.matches(e))return!0;if(i===n)return!1;i=i.parentElement}while(i);return!1}function c5(t,e,n,i){return t.filter(l=>(l.selected||l.id===i)&&(!l.parentNode||!l1(l,t))&&(l.draggable||e&&typeof l.draggable>"u")).map(l=>{var s,u,f,a,d,h,g;return{id:l.id,position:l.position||{x:0,y:0},distance:{x:n.x-(((u=(s=l.computed)==null?void 0:s.positionAbsolute)==null?void 0:u.x)??0),y:n.y-(((a=(f=l.computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0)},delta:{x:0,y:0},extent:l.extent,parentNode:l.parentNode,origin:l.origin,expandParent:l.expandParent,computed:{positionAbsolute:((d=l.computed)==null?void 0:d.positionAbsolute)||{x:0,y:0},width:((h=l.computed)==null?void 0:h.width)||0,height:((g=l.computed)==null?void 0:g.height)||0}}})}function Mu({nodeId:t,dragItems:e,nodeLookup:n}){const i=e.map(l=>({...n.get(l.id),position:l.position,computed:{...l.computed,positionAbsolute:l.computed.positionAbsolute}}));return[t?i.find(l=>l.id===t):i[0],i]}function d5({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:i,onDragStop:l}){let s={x:null,y:null},u=0,f=[],a=!1,d={x:0,y:0},h=null,g=!1,m=null;function y({noDragClassName:p,handleSelector:A,domNode:w,isSelectable:N,nodeId:S}){m=cn(w);function T({x:L,y:W},q){const{nodeLookup:P,nodeExtent:X,snapGrid:D,snapToGrid:O,nodeOrigin:V,onNodeDrag:Y,onSelectionDrag:G,onError:x,updateNodePositions:Q}=e();s={x:L,y:W};let ae=!1,ce={x:0,y:0,x2:0,y2:0};if(f.length>1&&X){const ee=ho(f,{nodeOrigin:V});ce=Nl(ee)}if(f=f.map(ee=>{var ge,me;let be={x:L-ee.distance.x,y:W-ee.distance.y};O&&(be=lf(be,D));const Me=[[X[0][0],X[0][1]],[X[1][0],X[1][1]]];f.length>1&&X&&!ee.extent&&(Me[0][0]=ee.computed.positionAbsolute.x-ce.x+X[0][0],Me[1][0]=ee.computed.positionAbsolute.x+(((ge=ee.computed)==null?void 0:ge.width)??0)-ce.x2+X[1][0],Me[0][1]=ee.computed.positionAbsolute.y-ce.y+X[0][1],Me[1][1]=ee.computed.positionAbsolute.y+(((me=ee.computed)==null?void 0:me.height)??0)-ce.y2+X[1][1]);const{position:Ae,positionAbsolute:R}=Vp({nodeId:ee.id,nextPosition:be,nodeLookup:P,nodeExtent:Me,nodeOrigin:V,onError:x});return ae=ae||ee.position.x!==Ae.x||ee.position.y!==Ae.y,ee.position=Ae,ee.computed.positionAbsolute=R,ee}),!!ae&&(Q(f,!0),q&&(i||Y||!S&&G))){const[ee,be]=Mu({nodeId:S,dragItems:f,nodeLookup:P});i==null||i(q,f,ee,be),Y==null||Y(q,ee,be),S||Au(G)(q,ee,be)}}function M(){if(!h)return;const[L,W]=Jh(d,h);if(L!==0||W!==0){const{transform:q,panBy:P}=e();s.x=(s.x??0)-L/q[2],s.y=(s.y??0)-W/q[2],P({x:L,y:W})&&T(s,null)}u=requestAnimationFrame(M)}function I(L){var ce;const{nodes:W,nodeLookup:q,multiSelectionActive:P,nodesDraggable:X,transform:D,snapGrid:O,snapToGrid:V,selectNodesOnDrag:Y,onNodeDragStart:G,onSelectionDragStart:x,unselectNodesAndEdges:Q}=e();g=!0,(!Y||!N)&&!P&&S&&((ce=q.get(S))!=null&&ce.selected||Q()),N&&Y&&S&&(t==null||t(S));const ae=Zr(L.sourceEvent,{transform:D,snapGrid:O,snapToGrid:V});if(s=ae,f=c5(W,X,ae,S),f.length>0&&(n||G||!S&&x)){const[ee,be]=Mu({nodeId:S,dragItems:f,nodeLookup:q});n==null||n(L.sourceEvent,f,ee,be),G==null||G(L.sourceEvent,ee,be),S||Au(x)(L.sourceEvent,ee,be)}}const H=Nh().on("start",L=>{const{domNode:W,nodeDragThreshold:q,transform:P,snapGrid:X,snapToGrid:D}=e();q===0&&I(L),s=Zr(L.sourceEvent,{transform:P,snapGrid:X,snapToGrid:D}),h=(W==null?void 0:W.getBoundingClientRect())||null,d=oi(L.sourceEvent,h)}).on("drag",L=>{const{autoPanOnNodeDrag:W,transform:q,snapGrid:P,snapToGrid:X,nodeDragThreshold:D}=e(),O=Zr(L.sourceEvent,{transform:q,snapGrid:P,snapToGrid:X});if(!a&&W&&g&&(a=!0,M()),!g){const V=O.xSnapped-(s.x??0),Y=O.ySnapped-(s.y??0);Math.sqrt(V*V+Y*Y)>D&&I(L)}(s.x!==O.xSnapped||s.y!==O.ySnapped)&&f&&g&&(d=oi(L.sourceEvent,h),T(O,L.sourceEvent))}).on("end",L=>{if(g&&(a=!1,g=!1,cancelAnimationFrame(u),f.length>0)){const{nodeLookup:W,updateNodePositions:q,onNodeDragStop:P,onSelectionDragStop:X}=e();if(q(f,!1),l||P||!S&&X){const[D,O]=Mu({nodeId:S,dragItems:f,nodeLookup:W});l==null||l(L.sourceEvent,f,D,O),P==null||P(L.sourceEvent,D,O),S||Au(X)(L.sourceEvent,D,O)}}}).filter(L=>{const W=L.target;return!L.button&&(!p||!gd(W,`.${p}`,w))&&(!A||gd(W,A,w))});m.call(H)}function b(){m==null||m.on(".drag",null)}return{update:y,destroy:b}}function md(t,e,n,i){return(e[n]||[]).reduce((l,s)=>{var u,f,a,d;return`${t.id}-${s.id}-${n}`!==i&&l.push({id:s.id||null,type:n,nodeId:t.id,x:(((f=(u=t.computed)==null?void 0:u.positionAbsolute)==null?void 0:f.x)??0)+s.x+s.width/2,y:(((d=(a=t.computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0)+s.y+s.height/2}),l},[])}function h5(t,e,n){let i=[],l=1/0;for(const s of n){const u=Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2));u<=e&&(u<l?i=[s]:u===l&&i.push(s),l=u)}return i.length?i.length===1?i[0]:i.find(s=>s.type==="target")||i[0]:null}function g5({nodes:t,nodeId:e,handleId:n,handleType:i}){return t.reduce((l,s)=>{if(s[_t]){const{handleBounds:u}=s[_t];let f=[],a=[];u&&(f=md(s,u,"source",`${e}-${n}-${i}`),a=md(s,u,"target",`${e}-${n}-${i}`)),l.push(...f,...a)}return l},[])}function s1(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function m5(t,e){let n=null;return e?n="valid":t&&!e&&(n="invalid"),n}const u1=()=>!0;let hl=null;function _5(t,{connectionMode:e,connectionRadius:n,handleId:i,nodeId:l,edgeUpdaterType:s,isTarget:u,domNode:f,nodes:a,lib:d,autoPanOnConnect:h,flowId:g,panBy:m,cancelConnection:y,onConnectStart:b,onConnect:p,onConnectEnd:A,isValidConnection:w=u1,onEdgeUpdateEnd:N,updateConnection:S,getTransform:T,getConnectionStartHandle:M}){const I=Gp(t.target);let H=0,L;const{x:W,y:q}=oi(t),P=I==null?void 0:I.elementFromPoint(W,q),X=s1(s,P),D=f==null?void 0:f.getBoundingClientRect();if(!D||!X)return;let O=oi(t,D),V=!1,Y=null,G=!1,x=null;const Q=g5({nodes:a,nodeId:l,handleId:i,handleType:X});function ae(){if(!h||!D)return;const[be,Me]=Jh(O,D);m({x:be,y:Me}),H=requestAnimationFrame(ae)}hl={nodeId:l,handleId:i,type:X},S({connectionPosition:O,connectionStatus:null,connectionStartHandle:hl,connectionEndHandle:null}),b==null||b(t,{nodeId:l,handleId:i,handleType:X});function ce(be){M()||ee(be);const Me=T();O=oi(be,D),L=h5(Kl(O,Me,!1,[1,1]),n,Q),V||(ae(),V=!0);const Ae=f1(be,{handle:L,connectionMode:e,fromNodeId:l,fromHandleId:i,fromType:u?"target":"source",isValidConnection:w,doc:I,lib:d,flowId:g});x=Ae.handleDomNode,Y=Ae.connection,G=Ae.isValid,S({connectionStartHandle:hl,connectionPosition:L&&G?Qh({x:L.x,y:L.y},Me):O,connectionStatus:m5(!!L,G),connectionEndHandle:Ae.endHandle})}function ee(be){(L||x)&&Y&&G&&(p==null||p(Y)),A==null||A(be),s&&(N==null||N(be)),y(),cancelAnimationFrame(H),V=!1,G=!1,Y=null,x=null,hl=null,I.removeEventListener("mousemove",ce),I.removeEventListener("mouseup",ee),I.removeEventListener("touchmove",ce),I.removeEventListener("touchend",ee)}I.addEventListener("mousemove",ce),I.addEventListener("mouseup",ee),I.addEventListener("touchmove",ce),I.addEventListener("touchend",ee)}function f1(t,{handle:e,connectionMode:n,fromNodeId:i,fromHandleId:l,fromType:s,doc:u,lib:f,flowId:a,isValidConnection:d=u1}){const h=s==="target",g=e?u.querySelector(`.${f}-flow__handle[data-id="${a}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:m,y}=oi(t),b=u.elementFromPoint(m,y),p=b!=null&&b.classList.contains(`${f}-flow__handle`)?b:g,A={handleDomNode:p,isValid:!1,connection:null,endHandle:null};if(p){const w=s1(void 0,p),N=p.getAttribute("data-nodeid"),S=p.getAttribute("data-handleid"),T=p.classList.contains("connectable"),M=p.classList.contains("connectableend");if(!N)return A;const I={source:h?N:i,sourceHandle:h?S:l,target:h?i:N,targetHandle:h?l:S};A.connection=I,T&&M&&(n===Ai.Strict?h&&w==="source"||!h&&w==="target":N!==i||S!==l)&&(A.endHandle={nodeId:N,handleId:S,type:w},A.isValid=d(I))}return A}const y5={onPointerDown:_5,isValid:f1};function w5({domNode:t,panZoom:e,getTransform:n,getViewScale:i}){const l=cn(t);function s({translateExtent:f,width:a,height:d,zoomStep:h=10,pannable:g=!0,zoomable:m=!0,inversePan:y=!1}){const b=w=>{const N=n();if(w.sourceEvent.type!=="wheel"||!e)return;const S=-w.sourceEvent.deltaY*(w.sourceEvent.deltaMode===1?.05:w.sourceEvent.deltaMode?1:.002)*h,T=N[2]*Math.pow(2,S);e.scaleTo(T)},p=w=>{const N=n();if(w.sourceEvent.type!=="mousemove"||!e)return;const S=i()*Math.max(N[2],Math.log(N[2]))*(y?-1:1),T={x:N[0]-w.sourceEvent.movementX*S,y:N[1]-w.sourceEvent.movementY*S},M=[[0,0],[a,d]];e.setViewportConstrained({x:T.x,y:T.y,zoom:N[2]},M,f)},A=xh().on("zoom",g?p:null).on("zoom.wheel",m?b:null);l.call(A,{})}function u(){l.on("zoom",null)}return{update:s,destroy:u,pointer:Nn}}const b5=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Ul=t=>({x:t.x,y:t.y,zoom:t.k}),Pu=({x:t,y:e,zoom:n})=>Vl.translate(t,e).scale(n),or=(t,e)=>t.target.closest(`.${e}`),a1=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Tu=(t,e=0)=>typeof e=="number"&&e>0?t.transition().duration(e):t,c1=t=>{const e=t.ctrlKey&&zl()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function v5({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:i,panOnScrollMode:l,panOnScrollSpeed:s,zoomOnPinch:u,onPanZoomStart:f,onPanZoom:a,onPanZoomEnd:d}){return h=>{if(or(h,e))return!1;h.preventDefault(),h.stopImmediatePropagation();const g=n.property("__zoom").k||1,m=zl();if(h.ctrlKey&&u&&m){const w=Nn(h),N=c1(h),S=g*Math.pow(2,N);i.scaleTo(n,S,w,h);return}const y=h.deltaMode===1?20:1;let b=l===Kn.Vertical?0:h.deltaX*y,p=l===Kn.Horizontal?0:h.deltaY*y;!m&&h.shiftKey&&l!==Kn.Vertical&&(b=h.deltaY*y,p=0),i.translateBy(n,-(b/g)*s,-(p/g)*s,{internal:!0});const A=Ul(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,f==null||f(h,A)),t.isPanScrolling&&(a==null||a(h,A),t.panScrollTimeout=setTimeout(()=>{d==null||d(h,A),t.isPanScrolling=!1},150))}}function p5({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(i,l){if(!e||or(i,t))return null;i.preventDefault(),n.call(this,i,l)}}function S5({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return i=>{var s,u,f;if((s=i.sourceEvent)!=null&&s.internal)return;const l=Ul(i.transform);t.mouseButton=((u=i.sourceEvent)==null?void 0:u.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=l,((f=i.sourceEvent)==null?void 0:f.type)==="mousedown"&&e(!0),n&&(n==null||n(i.sourceEvent,l))}}function k5({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:i,onPanZoom:l}){return s=>{var u,f;t.usedRightMouseButton=!!(n&&a1(e,t.mouseButton??0)),(u=s.sourceEvent)!=null&&u.sync||i([s.transform.x,s.transform.y,s.transform.k]),l&&!((f=s.sourceEvent)!=null&&f.internal)&&(l==null||l(s.sourceEvent,Ul(s.transform)))}}function C5({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:i,onPanZoomEnd:l,onPaneContextMenu:s}){return u=>{var f;if(!((f=u.sourceEvent)!=null&&f.internal)&&(t.isZoomingOrPanning=!1,s&&a1(e,t.mouseButton??0)&&!t.usedRightMouseButton&&u.sourceEvent&&s(u.sourceEvent),t.usedRightMouseButton=!1,i(!1),l&&b5(t.prevViewport,u.transform))){const a=Ul(u.transform);t.prevViewport=a,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{l==null||l(u.sourceEvent,a)},n?150:0)}}}function E5({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:i,panOnScroll:l,zoomOnDoubleClick:s,userSelectionActive:u,noWheelClassName:f,noPanClassName:a,lib:d}){return h=>{const g=t||e,m=n&&h.ctrlKey;if(h.button===1&&h.type==="mousedown"&&(or(h,`${d}-flow__node`)||or(h,`${d}-flow__edge`)))return!0;if(!i&&!g&&!l&&!s&&!n||u||!s&&h.type==="dblclick"||or(h,f)&&h.type==="wheel"||or(h,a)&&(h.type!=="wheel"||l&&h.type==="wheel"&&!t)||!n&&h.ctrlKey&&h.type==="wheel"||!g&&!l&&!m&&h.type==="wheel"||!i&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(i)&&!i.includes(h.button)&&(h.type==="mousedown"||h.type==="touchstart"))return!1;const y=Array.isArray(i)&&i.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||h.type==="wheel")&&y}}function A5({domNode:t,minZoom:e,maxZoom:n,translateExtent:i,viewport:l,onPanZoom:s,onPanZoomStart:u,onPanZoomEnd:f,onTransformChange:a,onDraggingChange:d}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},g=t.getBoundingClientRect(),m=xh().scaleExtent([e,n]).translateExtent(i),y=cn(t).call(m);N({x:l.x,y:l.y,zoom:wr(l.zoom,e,n)},[[0,0],[g.width,g.height]],i);const b=y.on("wheel.zoom");m.wheelDelta(c1);function p(q,P){y&&(m==null||m.transform(Tu(y,P==null?void 0:P.duration),q))}function A({noWheelClassName:q,noPanClassName:P,onPaneContextMenu:X,userSelectionActive:D,panOnScroll:O,panOnDrag:V,panOnScrollMode:Y,panOnScrollSpeed:G,preventScrolling:x,zoomOnPinch:Q,zoomOnScroll:ae,zoomOnDoubleClick:ce,zoomActivationKeyPressed:ee,lib:be}){D&&!h.isZoomingOrPanning&&w();const Ae=O&&!ee&&!D?v5({zoomPanValues:h,noWheelClassName:q,d3Selection:y,d3Zoom:m,panOnScrollMode:Y,panOnScrollSpeed:G,zoomOnPinch:Q,onPanZoomStart:u,onPanZoom:s,onPanZoomEnd:f}):p5({noWheelClassName:q,preventScrolling:x,d3ZoomHandler:b});if(y.on("wheel.zoom",Ae,{passive:!1}),!D){const ge=S5({zoomPanValues:h,onDraggingChange:d,onPanZoomStart:u});m.on("start",ge);const me=k5({zoomPanValues:h,panOnDrag:V,onPaneContextMenu:!!X,onPanZoom:s,onTransformChange:a});m.on("zoom",me);const oe=C5({zoomPanValues:h,panOnDrag:V,panOnScroll:O,onPaneContextMenu:X,onPanZoomEnd:f,onDraggingChange:d});m.on("end",oe)}const R=E5({zoomActivationKeyPressed:ee,panOnDrag:V,zoomOnScroll:ae,panOnScroll:O,zoomOnDoubleClick:ce,zoomOnPinch:Q,userSelectionActive:D,noPanClassName:P,noWheelClassName:q,lib:be});m.filter(R)}function w(){m.on("zoom",null)}function N(q,P,X){const D=Pu(q),O=m==null?void 0:m.constrain()(D,P,X);return O&&p(O),O}function S(q,P){const X=Pu(q);return p(X,P),X}function T(q){if(y){const P=Pu(q),X=y.property("__zoom");(X.k!==q.zoom||X.x!==q.x||X.y!==q.y)&&(m==null||m.transform(y,P,null,{sync:!0}))}}function M(){const q=y?qh(y.node()):{x:0,y:0,k:1};return{x:q.x,y:q.y,zoom:q.k}}function I(q,P){y&&(m==null||m.scaleTo(Tu(y,P==null?void 0:P.duration),q))}function H(q,P){y&&(m==null||m.scaleBy(Tu(y,P==null?void 0:P.duration),q))}function L(q){m==null||m.scaleExtent(q)}function W(q){m==null||m.translateExtent(q)}return{update:A,destroy:w,setViewport:S,setViewportConstrained:N,getViewport:M,scaleTo:I,scaleBy:H,setScaleExtent:L,setTranslateExtent:W,syncViewport:T}}var Jr;(function(t){t.Line="line",t.Handle="handle"})(Jr||(Jr={}));function M5({width:t,prevWidth:e,height:n,prevHeight:i,affectsX:l,affectsY:s}){const u=t-e,f=n-i,a=[u>0?1:u<0?-1:0,f>0?1:f<0?-1:0];return u&&l&&(a[0]=a[0]*-1),f&&s&&(a[1]=a[1]*-1),a}function P5(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),i=t.includes("left"),l=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:i,affectsY:l}}function Si(t,e){return Math.max(0,e-t)}function ki(t,e){return Math.max(0,t-e)}function gl(t,e,n){return Math.max(0,e-t,t-n)}function _d(t,e){return t?!e:e}function T5(t,e,n,i,l,s,u,f){let{affectsX:a,affectsY:d}=e;const{isHorizontal:h,isVertical:g}=e,m=h&&g,{xSnapped:y,ySnapped:b}=n,{minWidth:p,maxWidth:A,minHeight:w,maxHeight:N}=i,{x:S,y:T,width:M,height:I,aspectRatio:H}=t;let L=Math.floor(h?y-t.pointerX:0),W=Math.floor(g?b-t.pointerY:0);const q=M+(a?-L:L),P=I+(d?-W:W),X=-s[0]*M,D=-s[1]*I;let O=gl(q,p,A),V=gl(P,w,N);if(u){let x=0,Q=0;a&&L<0?x=Si(S+L+X,u[0][0]):!a&&L>0&&(x=ki(S+q+X,u[1][0])),d&&W<0?Q=Si(T+W+D,u[0][1]):!d&&W>0&&(Q=ki(T+P+D,u[1][1])),O=Math.max(O,x),V=Math.max(V,Q)}if(f){let x=0,Q=0;a&&L>0?x=ki(S+L,f[0][0]):!a&&L<0&&(x=Si(S+q,f[1][0])),d&&W>0?Q=ki(T+W,f[0][1]):!d&&W<0&&(Q=Si(T+P,f[1][1])),O=Math.max(O,x),V=Math.max(V,Q)}if(l){if(h){const x=gl(q/H,w,N)*H;if(O=Math.max(O,x),u){let Q=0;!a&&!d||a&&!d&&m?Q=ki(T+D+q/H,u[1][1])*H:Q=Si(T+D+(a?L:-L)/H,u[0][1])*H,O=Math.max(O,Q)}if(f){let Q=0;!a&&!d||a&&!d&&m?Q=Si(T+q/H,f[1][1])*H:Q=ki(T+(a?L:-L)/H,f[0][1])*H,O=Math.max(O,Q)}}if(g){const x=gl(P*H,p,A)/H;if(V=Math.max(V,x),u){let Q=0;!a&&!d||d&&!a&&m?Q=ki(S+P*H+X,u[1][0])/H:Q=Si(S+(d?W:-W)*H+X,u[0][0])/H,V=Math.max(V,Q)}if(f){let Q=0;!a&&!d||d&&!a&&m?Q=Si(S+P*H,f[1][0])/H:Q=ki(S+(d?W:-W)*H,f[0][0])/H,V=Math.max(V,Q)}}}W=W+(W<0?V:-V),L=L+(L<0?O:-O),l&&(m?q>P*H?W=(_d(a,d)?-L:L)/H:L=(_d(a,d)?-W:W)*H:h?(W=L/H,d=a):(L=W*H,a=d));const Y=a?S+L:S,G=d?T+W:T;return{width:M+(a?-L:L),height:I+(d?-W:W),x:s[0]*L*(a?-1:1)+Y,y:s[1]*W*(d?-1:1)+G}}const d1={width:0,height:0,x:0,y:0},O5={...d1,pointerX:0,pointerY:0,aspectRatio:1},I5={x:0,y:0,width:0,height:0,isXPosChange:!1,isYPosChange:!1,isWidthChange:!1,isHeightChange:!1};function N5(t){return[[0,0],[t.computed.width,t.computed.height]]}function H5(t,e,n){const i=e.position.x+t.position.x,l=e.position.y+t.position.y,s=t.computed.width??0,u=t.computed.height??0,f=n[0]*s,a=n[1]*u;return[[i-f,l-a],[i+s-f,l+u-a]]}function z5({domNode:t,nodeId:e,getStoreItems:n,onChange:i}){const l=cn(t);function s({controlPosition:f,boundaries:a,keepAspectRatio:d,onResizeStart:h,onResize:g,onResizeEnd:m,shouldResize:y}){let b={...d1},p={...O5};const A=P5(f);let w,N=[],S,T,M;const I=Nh().on("start",H=>{var D,O;const{nodeLookup:L,transform:W,snapGrid:q,snapToGrid:P,nodeOrigin:X}=n();if(w=L.get(e),w){const{xSnapped:V,ySnapped:Y}=Zr(H.sourceEvent,{transform:W,snapGrid:q,snapToGrid:P});b={width:((D=w.computed)==null?void 0:D.width)??0,height:((O=w.computed)==null?void 0:O.height)??0,x:w.position.x??0,y:w.position.y??0},p={...b,pointerX:V,pointerY:Y,aspectRatio:b.width/b.height},S=void 0,(w.extent==="parent"||w.expandParent)&&(S=L.get(w.parentNode),S&&w.extent==="parent"&&(T=N5(S))),N=[],M=void 0;for(const[G,x]of L)if(x.parentNode===e&&(N.push({id:G,position:{...x.position},extent:x.extent}),x.extent==="parent"||x.expandParent)){const Q=H5(x,w,x.origin??X);M?M=[[Math.min(Q[0][0],M[0][0]),Math.min(Q[0][1],M[0][1])],[Math.max(Q[1][0],M[1][0]),Math.max(Q[1][1],M[1][1])]]:M=Q}h==null||h(H,{...b})}}).on("drag",H=>{const{transform:L,snapGrid:W,snapToGrid:q,nodeOrigin:P}=n(),X=Zr(H.sourceEvent,{transform:L,snapGrid:W,snapToGrid:q}),D=[];if(w){const{x:O,y:V,width:Y,height:G}=b,x={...I5},Q=w.origin??P,{width:ae,height:ce,x:ee,y:be}=T5(p,A,X,a,d,Q,T,M),Me=ae!==Y,Ae=ce!==G,R=ee!==O&&Me,ge=be!==V&&Ae;if((R||ge||Q[0]===1||Q[1]==1)&&(x.isXPosChange=R,x.isYPosChange=ge,x.x=R?ee:O,x.y=ge?be:V,b.x=x.x,b.y=x.y,S&&w.expandParent&&(x.x<0&&(b.x=0,p.x=p.x-x.x),x.y<0&&(b.y=0,p.y=p.y-x.y)),N.length>0)){const Ye=ee-O,Ue=be-V;for(const et of N)et.position={x:et.position.x-Ye+Q[0]*(ae-Y),y:et.position.y-Ue+Q[1]*(ce-G)},D.push(et)}if((Me||Ae)&&(x.isWidthChange=Me,x.isHeightChange=Ae,x.width=ae,x.height=ce,b.width=x.width,b.height=x.height),!x.isXPosChange&&!x.isYPosChange&&!Me&&!Ae)return;const me=M5({width:b.width,prevWidth:Y,height:b.height,prevHeight:G,affectsX:A.affectsX,affectsY:A.affectsY}),oe={...b,direction:me};if((y==null?void 0:y(H,oe))===!1)return;g==null||g(H,oe),i(x,D)}}).on("end",H=>{m==null||m(H,{...b})});l.call(I)}function u(){l.on(".drag",null)}return{update:s,destroy:u}}function L5(t){let e,n,i,l,s,u;const f=t[43].default,a=Xt(f,t,t[42],null);return{c(){e=_e("div"),a&&a.c(),C(e,"data-handleid",t[15]),C(e,"data-nodeid",t[13]),C(e,"data-handlepos",t[3]),C(e,"data-id",n=t[11]+"-"+t[13]+"-"+(t[1]||null)+"-"+t[2]),C(e,"class",i=it(["svelte-flow__handle",`svelte-flow__handle-${t[3]}`,"nodrag","nopan",t[3],t[5]])),C(e,"style",t[4]),C(e,"role","button"),C(e,"tabindex","-1"),Xe(e,"valid",t[7]),Xe(e,"connectingto",t[6]),Xe(e,"connectingfrom",t[9]),Xe(e,"source",!t[12]),Xe(e,"target",t[12]),Xe(e,"connectablestart",t[0]),Xe(e,"connectableend",t[0]),Xe(e,"connectable",t[0]),Xe(e,"connectionindicator",t[0]&&(!t[10]||t[8]))},m(d,h){j(d,e,h),a&&a.m(e,null),l=!0,s||(u=[Ne(e,"mousedown",t[32]),Ne(e,"touchstart",t[32])],s=!0)},p(d,h){a&&a.p&&(!l||h[1]&2048)&&Ft(a,f,d,d[42],l?Yt(f,d[42],h,null):Vt(d[42]),null),(!l||h[0]&8)&&C(e,"data-handlepos",d[3]),(!l||h[0]&2054&&n!==(n=d[11]+"-"+d[13]+"-"+(d[1]||null)+"-"+d[2]))&&C(e,"data-id",n),(!l||h[0]&40&&i!==(i=it(["svelte-flow__handle",`svelte-flow__handle-${d[3]}`,"nodrag","nopan",d[3],d[5]])))&&C(e,"class",i),(!l||h[0]&16)&&C(e,"style",d[4]),(!l||h[0]&168)&&Xe(e,"valid",d[7]),(!l||h[0]&104)&&Xe(e,"connectingto",d[6]),(!l||h[0]&552)&&Xe(e,"connectingfrom",d[9]),(!l||h[0]&4136)&&Xe(e,"source",!d[12]),(!l||h[0]&4136)&&Xe(e,"target",d[12]),(!l||h[0]&41)&&Xe(e,"connectablestart",d[0]),(!l||h[0]&41)&&Xe(e,"connectableend",d[0]),(!l||h[0]&41)&&Xe(e,"connectable",d[0]),(!l||h[0]&1321)&&Xe(e,"connectionindicator",d[0]&&(!d[10]||d[8]))},i(d){l||($(a,d),l=!0)},o(d){te(a,d),l=!1},d(d){d&&Z(e),a&&a.d(d),s=!1,vt(u)}}}function R5(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,b,p,A,w,N,S,T,M,I,H,L,{$$slots:W={},$$scope:q}=e,{id:P=void 0}=e,{type:X="source"}=e,{position:D=Ke.Top}=e,{style:O=void 0}=e,{isConnectable:V=void 0}=e,{onconnect:Y=void 0}=e,{ondisconnect:G=void 0}=e,{class:x=void 0}=e;const Q=X==="target",ae=$r("svelteflow__node_id"),ce=$r("svelteflow__node_connectable");he(t,ce,ye=>n(41,L=ye));const ee=P||null,be=dt(),{connectionMode:Me,domNode:Ae,nodes:R,connectionRadius:ge,viewport:me,isValidConnection:oe,lib:le,addEdge:Ye,onedgecreate:Ue,panBy:et,cancelConnection:rt,updateConnection:Pe,autoPanOnConnect:Je,edges:ut,connectionLookup:rn,onconnect:hn,onconnectstart:Ce,onconnectend:Ct,flowId:Jt,connection:gn}=be;he(t,Me,ye=>n(38,d=ye)),he(t,Ae,ye=>n(53,I=ye)),he(t,R,ye=>n(52,M=ye)),he(t,ge,ye=>n(54,H=ye)),he(t,me,ye=>n(44,m=ye)),he(t,oe,ye=>n(49,w=ye)),he(t,le,ye=>n(51,T=ye)),he(t,Ue,ye=>n(48,A=ye)),he(t,Je,ye=>n(50,S=ye)),he(t,ut,ye=>n(40,g=ye)),he(t,rn,ye=>n(39,h=ye)),he(t,hn,ye=>n(47,p=ye)),he(t,Ce,ye=>n(46,b=ye)),he(t,Ct,ye=>n(45,y=ye)),he(t,Jt,ye=>n(11,N=ye)),he(t,gn,ye=>n(37,a=ye));function de(ye){const Dt=$h(ye);(Dt&&ye.button===0||!Dt)&&y5.onPointerDown(ye,{handleId:ee,nodeId:ae,isTarget:Q,connectionRadius:H,domNode:I,nodes:M,connectionMode:d,lib:T,autoPanOnConnect:S,flowId:N,isValidConnection:w,updateConnection:Pe,cancelConnection:rt,panBy:et,onConnect:Ot=>{const Ht=A?A(Ot):Ot;Ht&&(Ye(Ht),p==null||p(Ot))},onConnectStart:(Ot,Ht)=>{b==null||b(Ot,{nodeId:Ht.nodeId,handleId:Ht.handleId,handleType:Ht.handleType})},onConnectEnd:Ot=>{y==null||y(Ot)},getTransform:()=>[m.x,m.y,m.zoom],getConnectionStartHandle:()=>a.startHandle})}let Tt=null,Nt;return t.$$set=ye=>{"id"in ye&&n(1,P=ye.id),"type"in ye&&n(2,X=ye.type),"position"in ye&&n(3,D=ye.position),"style"in ye&&n(4,O=ye.style),"isConnectable"in ye&&n(0,V=ye.isConnectable),"onconnect"in ye&&n(33,Y=ye.onconnect),"ondisconnect"in ye&&n(34,G=ye.ondisconnect),"class"in ye&&n(5,x=ye.class),"$$scope"in ye&&n(42,q=ye.$$scope)},t.$$.update=()=>{var ye,Dt,Ot,Ht,Rn,Dn,mn,Wn,qn;if(t.$$.dirty[0]&1|t.$$.dirty[1]&1024&&n(0,V=V!==void 0?V:L),t.$$.dirty[0]&6|t.$$.dirty[1]&780&&(Y||G)&&n(36,Nt=h.get(`${ae}-${X}-${P||null}`)),t.$$.dirty[1]&60){if(Tt&&!Wp(Nt,Tt)){const xn=Nt??new Map;td(Tt,xn,G),td(xn,Tt,Y)}n(35,Tt=Nt??new Map)}t.$$.dirty[1]&64&&n(10,i=!!a.startHandle),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(9,l=((ye=a.startHandle)==null?void 0:ye.nodeId)===ae&&((Dt=a.startHandle)==null?void 0:Dt.type)===X&&((Ot=a.startHandle)==null?void 0:Ot.handleId)===ee),t.$$.dirty[0]&4|t.$$.dirty[1]&64&&n(6,s=((Ht=a.endHandle)==null?void 0:Ht.nodeId)===ae&&((Rn=a.endHandle)==null?void 0:Rn.type)===X&&((Dn=a.endHandle)==null?void 0:Dn.handleId)===ee),t.$$.dirty[0]&4|t.$$.dirty[1]&192&&n(8,u=d===Ai.Strict?((mn=a.startHandle)==null?void 0:mn.type)!==X:ae!==((Wn=a.startHandle)==null?void 0:Wn.nodeId)||ee!==((qn=a.startHandle)==null?void 0:qn.handleId)),t.$$.dirty[0]&64|t.$$.dirty[1]&64&&n(7,f=s&&a.status==="valid")},[V,P,X,D,O,x,s,f,u,l,i,N,Q,ae,ce,ee,Me,Ae,R,ge,me,oe,le,Ue,Je,ut,rn,hn,Ce,Ct,Jt,gn,de,Y,G,Tt,Nt,a,d,h,g,L,q,W]}class D5 extends ze{constructor(e){super(),He(this,e,R5,L5,Le,{id:1,type:2,position:3,style:4,isConnectable:0,onconnect:33,ondisconnect:34,class:5},null,[-1,-1])}}const lo=D5;function W5(t){var a;let e,n,i=((a=t[0])==null?void 0:a.label)+"",l,s,u,f;return e=new lo({props:{type:"target",position:t[1]}}),u=new lo({props:{type:"source",position:t[2]}}),{c(){Se(e.$$.fragment),n=ke(),l=tt(i),s=ke(),Se(u.$$.fragment)},m(d,h){ve(e,d,h),j(d,n,h),j(d,l,h),j(d,s,h),ve(u,d,h),f=!0},p(d,[h]){var y;const g={};h&2&&(g.position=d[1]),e.$set(g),(!f||h&1)&&i!==(i=((y=d[0])==null?void 0:y.label)+"")&&Zt(l,i);const m={};h&4&&(m.position=d[2]),u.$set(m)},i(d){f||($(e.$$.fragment,d),$(u.$$.fragment,d),f=!0)},o(d){te(e.$$.fragment,d),te(u.$$.fragment,d),f=!1},d(d){d&&(Z(n),Z(l),Z(s)),pe(e,d),pe(u,d)}}}function B5(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:l=Ke.Top}=e,{sourcePosition:s=Ke.Bottom}=e,{id:u=""}=e,{width:f=void 0}=e,{height:a=void 0}=e,{selected:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:A}=e;return t.$$set=w=>{"data"in w&&n(0,i=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"sourcePosition"in w&&n(2,s=w.sourcePosition),"id"in w&&n(3,u=w.id),"width"in w&&n(4,f=w.width),"height"in w&&n(5,a=w.height),"selected"in w&&n(6,d=w.selected),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,A=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,b,p,A]}class X5 extends ze{constructor(e){super(),He(this,e,B5,W5,Le,{data:0,targetPosition:1,sourcePosition:2,id:3,width:4,height:5,selected:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const h1=X5;function Y5(t){var u;let e=((u=t[0])==null?void 0:u.label)+"",n,i,l,s;return l=new lo({props:{type:"source",position:t[1]}}),{c(){n=tt(e),i=ke(),Se(l.$$.fragment)},m(f,a){j(f,n,a),j(f,i,a),ve(l,f,a),s=!0},p(f,[a]){var h;(!s||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&Zt(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){s||($(l.$$.fragment,f),s=!0)},o(f){te(l.$$.fragment,f),s=!1},d(f){f&&(Z(n),Z(i)),pe(l,f)}}}function F5(t,e,n){let{data:i={label:"Node"}}=e,{sourcePosition:l=Ke.Bottom}=e,{id:s=""}=e,{width:u=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:A}=e;return t.$$set=w=>{"data"in w&&n(0,i=w.data),"sourcePosition"in w&&n(1,l=w.sourcePosition),"id"in w&&n(2,s=w.id),"width"in w&&n(3,u=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,A=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,b,p,A]}class V5 extends ze{constructor(e){super(),He(this,e,F5,Y5,Le,{data:0,sourcePosition:1,id:2,width:3,height:4,selected:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const K5=V5;function U5(t){var u;let e=((u=t[0])==null?void 0:u.label)+"",n,i,l,s;return l=new lo({props:{type:"target",position:t[1]}}),{c(){n=tt(e),i=ke(),Se(l.$$.fragment)},m(f,a){j(f,n,a),j(f,i,a),ve(l,f,a),s=!0},p(f,[a]){var h;(!s||a&1)&&e!==(e=((h=f[0])==null?void 0:h.label)+"")&&Zt(n,e);const d={};a&2&&(d.position=f[1]),l.$set(d)},i(f){s||($(l.$$.fragment,f),s=!0)},o(f){te(l.$$.fragment,f),s=!1},d(f){f&&(Z(n),Z(i)),pe(l,f)}}}function q5(t,e,n){let{data:i={label:"Node"}}=e,{targetPosition:l=Ke.Top}=e,{id:s=""}=e,{width:u=void 0}=e,{height:f=void 0}=e,{selected:a=void 0}=e,{sourcePosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:A}=e;return t.$$set=w=>{"data"in w&&n(0,i=w.data),"targetPosition"in w&&n(1,l=w.targetPosition),"id"in w&&n(2,s=w.id),"width"in w&&n(3,u=w.width),"height"in w&&n(4,f=w.height),"selected"in w&&n(5,a=w.selected),"sourcePosition"in w&&n(6,d=w.sourcePosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,A=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,b,p,A]}class x5 extends ze{constructor(e){super(),He(this,e,q5,U5,Le,{data:0,targetPosition:1,id:2,width:3,height:4,selected:5,sourcePosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const G5=x5;function Z5(t,e,n){let{id:i=""}=e,{width:l=void 0}=e,{height:s=void 0}=e,{data:u={}}=e,{selected:f=void 0}=e,{sourcePosition:a=void 0}=e,{targetPosition:d=void 0}=e,{type:h=void 0}=e,{dragging:g=!1}=e,{dragHandle:m=void 0}=e,{positionAbsoluteX:y=0}=e,{positionAbsoluteY:b=0}=e,{isConnectable:p}=e,{zIndex:A}=e;return t.$$set=w=>{"id"in w&&n(0,i=w.id),"width"in w&&n(1,l=w.width),"height"in w&&n(2,s=w.height),"data"in w&&n(3,u=w.data),"selected"in w&&n(4,f=w.selected),"sourcePosition"in w&&n(5,a=w.sourcePosition),"targetPosition"in w&&n(6,d=w.targetPosition),"type"in w&&n(7,h=w.type),"dragging"in w&&n(8,g=w.dragging),"dragHandle"in w&&n(9,m=w.dragHandle),"positionAbsoluteX"in w&&n(10,y=w.positionAbsoluteX),"positionAbsoluteY"in w&&n(11,b=w.positionAbsoluteY),"isConnectable"in w&&n(12,p=w.isConnectable),"zIndex"in w&&n(13,A=w.zIndex)},[i,l,s,u,f,a,d,h,g,m,y,b,p,A]}class J5 extends ze{constructor(e){super(),He(this,e,Z5,null,Le,{id:0,width:1,height:2,data:3,selected:4,sourcePosition:5,targetPosition:6,type:7,dragging:8,dragHandle:9,positionAbsoluteX:10,positionAbsoluteY:11,isConnectable:12,zIndex:13})}}const Q5=J5;function yd(t,e,n){if(!e)return;const i=n?e.querySelector(n):e;i&&i.appendChild(t)}function j5(t,{target:e,domNode:n}){return yd(t,n,e),{async update({target:i,domNode:l}){yd(t,l,i)},destroy(){t.parentNode&&t.parentNode.removeChild(t)}}}function $5(t){let e,n,i,l,s;const u=t[3].default,f=Xt(u,t,t[2],null);return{c(){e=_e("div"),f&&f.c()},m(a,d){j(a,e,d),f&&f.m(e,null),i=!0,l||(s=Gt(n=j5.call(null,e,{target:".svelte-flow__edgelabel-renderer",domNode:t[0]})),l=!0)},p(a,[d]){f&&f.p&&(!i||d&4)&&Ft(f,u,a,a[2],i?Yt(u,a[2],d,null):Vt(a[2]),null),n&&gt(n.update)&&d&1&&n.update.call(null,{target:".svelte-flow__edgelabel-renderer",domNode:a[0]})},i(a){i||($(f,a),i=!0)},o(a){te(f,a),i=!1},d(a){a&&Z(e),f&&f.d(a),l=!1,s()}}}function e4(t,e,n){let i,{$$slots:l={},$$scope:s}=e;const{domNode:u}=dt();return he(t,u,f=>n(0,i=f)),t.$$set=f=>{"$$scope"in f&&n(2,s=f.$$scope)},[i,u,s,l]}class t4 extends ze{constructor(e){super(),He(this,e,e4,$5,Le,{})}}function g1(){const{edgeLookup:t,selectionRect:e,selectionRectMode:n,multiselectionKeyPressed:i,addSelectedEdges:l,unselectNodesAndEdges:s,elementsSelectable:u}=dt();return f=>{const a=se(t).get(f);if(!a){console.warn("012",co.error012(f));return}(a.selectable||se(u)&&typeof a.selectable>"u")&&(e.set(null),n.set(null),a.selected?a.selected&&se(i)&&s({nodes:[],edges:[a]}):l([f]))}}function n4(t){let e,n,i=`translate(-50%, -50%) translate(${t[1]}px,${t[2]}px)`,l,s,u;const f=t[5].default,a=Xt(f,t,t[7],null);return{c(){e=_e("div"),a&&a.c(),C(e,"class","svelte-flow__edge-label"),C(e,"style",n="pointer-events: all;"+t[0]),C(e,"role","button"),C(e,"tabindex","-1"),Be(e,"transform",i)},m(d,h){j(d,e,h),a&&a.m(e,null),l=!0,s||(u=[Ne(e,"keyup",r4),Ne(e,"click",t[6])],s=!0)},p(d,h){a&&a.p&&(!l||h&128)&&Ft(a,f,d,d[7],l?Yt(f,d[7],h,null):Vt(d[7]),null),(!l||h&1&&n!==(n="pointer-events: all;"+d[0]))&&C(e,"style",n);const g=h&1;(h&7&&i!==(i=`translate(-50%, -50%) translate(${d[1]}px,${d[2]}px)`)||g)&&Be(e,"transform",i)},i(d){l||($(a,d),l=!0)},o(d){te(a,d),l=!1},d(d){d&&Z(e),a&&a.d(d),s=!1,vt(u)}}}function i4(t){let e,n;return e=new t4({props:{$$slots:{default:[n4]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&135&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}const r4=()=>{};function o4(t,e,n){let{$$slots:i={},$$scope:l}=e,{style:s=void 0}=e,{x:u=void 0}=e,{y:f=void 0}=e;const a=g1(),d=$r("svelteflow__edge_id"),h=()=>{d&&a(d)};return t.$$set=g=>{"style"in g&&n(0,s=g.style),"x"in g&&n(1,u=g.x),"y"in g&&n(2,f=g.y),"$$scope"in g&&n(7,l=g.$$scope)},[s,u,f,a,d,i,h,l]}class l4 extends ze{constructor(e){super(),He(this,e,o4,i4,Le,{style:0,x:1,y:2})}}const s4=l4;function u4(t){let e;return{c(){e=Fe("path"),C(e,"d",t[1]),C(e,"stroke-opacity",0),C(e,"stroke-width",t[10]),C(e,"fill","none"),C(e,"class","svelte-flow__edge-interaction")},m(n,i){j(n,e,i)},p(n,i){i&2&&C(e,"d",n[1])},d(n){n&&Z(e)}}}function wd(t){let e,n;return e=new s4({props:{x:t[3],y:t[4],style:t[5],$$slots:{default:[f4]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&8&&(s.x=i[3]),l&16&&(s.y=i[4]),l&32&&(s.style=i[5]),l&4100&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function f4(t){let e;return{c(){e=tt(t[2])},m(n,i){j(n,e,i)},p(n,i){i&4&&Zt(e,n[2])},d(n){n&&Z(e)}}}function a4(t){let e,n,i,l,s,u,f=t[10]&&u4(t),a=t[2]&&wd(t);return{c(){e=Fe("path"),i=ke(),f&&f.c(),l=ke(),a&&a.c(),s=bt(),C(e,"id",t[0]),C(e,"d",t[1]),C(e,"class",n=it(["svelte-flow__edge-path",t[9]])),C(e,"marker-start",t[6]),C(e,"marker-end",t[7]),C(e,"fill","none"),C(e,"style",t[8])},m(d,h){j(d,e,h),j(d,i,h),f&&f.m(d,h),j(d,l,h),a&&a.m(d,h),j(d,s,h),u=!0},p(d,[h]){(!u||h&1)&&C(e,"id",d[0]),(!u||h&2)&&C(e,"d",d[1]),(!u||h&512&&n!==(n=it(["svelte-flow__edge-path",d[9]])))&&C(e,"class",n),(!u||h&64)&&C(e,"marker-start",d[6]),(!u||h&128)&&C(e,"marker-end",d[7]),(!u||h&256)&&C(e,"style",d[8]),d[10]&&f.p(d,h),d[2]?a?(a.p(d,h),h&4&&$(a,1)):(a=wd(d),a.c(),$(a,1),a.m(s.parentNode,s)):a&&(yt(),te(a,1,1,()=>{a=null}),wt())},i(d){u||($(a),u=!0)},o(d){te(a),u=!1},d(d){d&&(Z(e),Z(i),Z(l),Z(s)),f&&f.d(d),a&&a.d(d)}}}function c4(t,e,n){let{id:i=void 0}=e,{path:l}=e,{label:s=void 0}=e,{labelX:u=void 0}=e,{labelY:f=void 0}=e,{labelStyle:a=void 0}=e,{markerStart:d=void 0}=e,{markerEnd:h=void 0}=e,{style:g=void 0}=e,{interactionWidth:m=20}=e,{class:y=void 0}=e,b=m===void 0?20:m;return t.$$set=p=>{"id"in p&&n(0,i=p.id),"path"in p&&n(1,l=p.path),"label"in p&&n(2,s=p.label),"labelX"in p&&n(3,u=p.labelX),"labelY"in p&&n(4,f=p.labelY),"labelStyle"in p&&n(5,a=p.labelStyle),"markerStart"in p&&n(6,d=p.markerStart),"markerEnd"in p&&n(7,h=p.markerEnd),"style"in p&&n(8,g=p.style),"interactionWidth"in p&&n(11,m=p.interactionWidth),"class"in p&&n(9,y=p.class)},[i,l,s,u,f,a,d,h,g,y,b,m]}class d4 extends ze{constructor(e){super(),He(this,e,c4,a4,Le,{id:0,path:1,label:2,labelX:3,labelY:4,labelStyle:5,markerStart:6,markerEnd:7,style:8,interactionWidth:11,class:9})}}const mo=d4;function h4(t){let e,n;return e=new mo({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function g4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="default"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:b=void 0}=e,{style:p=void 0}=e,{markerStart:A=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:N=void 0}=e,{sourceX:S}=e,{sourceY:T}=e,{sourcePosition:M}=e,{sourceHandleId:I=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:q=void 0}=e;return t.$$set=P=>{"id"in P&&n(9,u=P.id),"source"in P&&n(10,f=P.source),"target"in P&&n(11,a=P.target),"type"in P&&n(12,d=P.type),"animated"in P&&n(13,h=P.animated),"selected"in P&&n(14,g=P.selected),"label"in P&&n(0,m=P.label),"labelStyle"in P&&n(1,y=P.labelStyle),"data"in P&&n(15,b=P.data),"style"in P&&n(2,p=P.style),"markerStart"in P&&n(3,A=P.markerStart),"markerEnd"in P&&n(4,w=P.markerEnd),"interactionWidth"in P&&n(5,N=P.interactionWidth),"sourceX"in P&&n(16,S=P.sourceX),"sourceY"in P&&n(17,T=P.sourceY),"sourcePosition"in P&&n(18,M=P.sourcePosition),"sourceHandleId"in P&&n(19,I=P.sourceHandleId),"targetX"in P&&n(20,H=P.targetX),"targetY"in P&&n(21,L=P.targetY),"targetPosition"in P&&n(22,W=P.targetPosition),"targetHandleId"in P&&n(23,q=P.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,l,s]=e1({sourceX:S,sourceY:T,targetX:H,targetY:L,sourcePosition:M,targetPosition:W}),i,(n(7,l),n(16,S),n(17,T),n(20,H),n(21,L),n(18,M),n(22,W)),(n(6,s),n(16,S),n(17,T),n(20,H),n(21,L),n(18,M),n(22,W)))},[m,y,p,A,w,N,s,l,i,u,f,a,d,h,g,b,S,T,M,I,H,L,W,q]}class m4 extends ze{constructor(e){super(),He(this,e,g4,h4,Le,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const m1=m4;function _4(t){let e,n;return e=new mo({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function y4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="smoothstep"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:b=void 0}=e,{style:p=void 0}=e,{markerStart:A=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:N=void 0}=e,{sourceX:S}=e,{sourceY:T}=e,{sourcePosition:M}=e,{sourceHandleId:I=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:q=void 0}=e;return t.$$set=P=>{"id"in P&&n(9,u=P.id),"source"in P&&n(10,f=P.source),"target"in P&&n(11,a=P.target),"type"in P&&n(12,d=P.type),"animated"in P&&n(13,h=P.animated),"selected"in P&&n(14,g=P.selected),"label"in P&&n(0,m=P.label),"labelStyle"in P&&n(1,y=P.labelStyle),"data"in P&&n(15,b=P.data),"style"in P&&n(2,p=P.style),"markerStart"in P&&n(3,A=P.markerStart),"markerEnd"in P&&n(4,w=P.markerEnd),"interactionWidth"in P&&n(5,N=P.interactionWidth),"sourceX"in P&&n(16,S=P.sourceX),"sourceY"in P&&n(17,T=P.sourceY),"sourcePosition"in P&&n(18,M=P.sourcePosition),"sourceHandleId"in P&&n(19,I=P.sourceHandleId),"targetX"in P&&n(20,H=P.targetX),"targetY"in P&&n(21,L=P.targetY),"targetPosition"in P&&n(22,W=P.targetPosition),"targetHandleId"in P&&n(23,q=P.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,l,s]=br({sourceX:S,sourceY:T,targetX:H,targetY:L,sourcePosition:M,targetPosition:W}),i,(n(7,l),n(16,S),n(17,T),n(20,H),n(21,L),n(18,M),n(22,W)),(n(6,s),n(16,S),n(17,T),n(20,H),n(21,L),n(18,M),n(22,W)))},[m,y,p,A,w,N,s,l,i,u,f,a,d,h,g,b,S,T,M,I,H,L,W,q]}class w4 extends ze{constructor(e){super(),He(this,e,y4,_4,Le,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const b4=w4;function v4(t){let e,n;return e=new mo({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function p4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="straight"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{labelStyle:y=void 0}=e,{data:b=void 0}=e,{style:p=void 0}=e,{markerStart:A=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:N=void 0}=e,{sourceX:S}=e,{sourceY:T}=e,{sourcePosition:M}=e,{sourceHandleId:I=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:q=void 0}=e;return t.$$set=P=>{"id"in P&&n(9,u=P.id),"source"in P&&n(10,f=P.source),"target"in P&&n(11,a=P.target),"type"in P&&n(12,d=P.type),"animated"in P&&n(13,h=P.animated),"selected"in P&&n(14,g=P.selected),"label"in P&&n(0,m=P.label),"labelStyle"in P&&n(1,y=P.labelStyle),"data"in P&&n(15,b=P.data),"style"in P&&n(2,p=P.style),"markerStart"in P&&n(3,A=P.markerStart),"markerEnd"in P&&n(4,w=P.markerEnd),"interactionWidth"in P&&n(5,N=P.interactionWidth),"sourceX"in P&&n(16,S=P.sourceX),"sourceY"in P&&n(17,T=P.sourceY),"sourcePosition"in P&&n(18,M=P.sourcePosition),"sourceHandleId"in P&&n(19,I=P.sourceHandleId),"targetX"in P&&n(20,H=P.targetX),"targetY"in P&&n(21,L=P.targetY),"targetPosition"in P&&n(22,W=P.targetPosition),"targetHandleId"in P&&n(23,q=P.targetHandleId)},t.$$.update=()=>{t.$$.dirty&3342336&&n(8,[i,l,s]=n1({sourceX:S,sourceY:T,targetX:H,targetY:L}),i,(n(7,l),n(16,S),n(17,T),n(20,H),n(21,L)),(n(6,s),n(16,S),n(17,T),n(20,H),n(21,L)))},[m,y,p,A,w,N,s,l,i,u,f,a,d,h,g,b,S,T,M,I,H,L,W,q]}class S4 extends ze{constructor(e){super(),He(this,e,p4,v4,Le,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,labelStyle:1,data:15,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const k4=S4;function C4(t){let e,n;return e=new mo({props:{path:t[8],labelX:t[7],labelY:t[6],label:t[0],labelStyle:t[1],markerStart:t[3],markerEnd:t[4],interactionWidth:t[5],style:t[2]}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&256&&(s.path=i[8]),l&128&&(s.labelX=i[7]),l&64&&(s.labelY=i[6]),l&1&&(s.label=i[0]),l&2&&(s.labelStyle=i[1]),l&8&&(s.markerStart=i[3]),l&16&&(s.markerEnd=i[4]),l&32&&(s.interactionWidth=i[5]),l&4&&(s.style=i[2]),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function E4(t,e,n){let i,l,s,{id:u=""}=e,{source:f=""}=e,{target:a=""}=e,{type:d="step"}=e,{animated:h=void 0}=e,{selected:g=void 0}=e,{label:m=void 0}=e,{data:y=void 0}=e,{labelStyle:b=void 0}=e,{style:p=void 0}=e,{markerStart:A=void 0}=e,{markerEnd:w=void 0}=e,{interactionWidth:N=void 0}=e,{sourceX:S}=e,{sourceY:T}=e,{sourcePosition:M}=e,{sourceHandleId:I=void 0}=e,{targetX:H}=e,{targetY:L}=e,{targetPosition:W}=e,{targetHandleId:q=void 0}=e;return t.$$set=P=>{"id"in P&&n(9,u=P.id),"source"in P&&n(10,f=P.source),"target"in P&&n(11,a=P.target),"type"in P&&n(12,d=P.type),"animated"in P&&n(13,h=P.animated),"selected"in P&&n(14,g=P.selected),"label"in P&&n(0,m=P.label),"data"in P&&n(15,y=P.data),"labelStyle"in P&&n(1,b=P.labelStyle),"style"in P&&n(2,p=P.style),"markerStart"in P&&n(3,A=P.markerStart),"markerEnd"in P&&n(4,w=P.markerEnd),"interactionWidth"in P&&n(5,N=P.interactionWidth),"sourceX"in P&&n(16,S=P.sourceX),"sourceY"in P&&n(17,T=P.sourceY),"sourcePosition"in P&&n(18,M=P.sourcePosition),"sourceHandleId"in P&&n(19,I=P.sourceHandleId),"targetX"in P&&n(20,H=P.targetX),"targetY"in P&&n(21,L=P.targetY),"targetPosition"in P&&n(22,W=P.targetPosition),"targetHandleId"in P&&n(23,q=P.targetHandleId)},t.$$.update=()=>{t.$$.dirty&7798784&&n(8,[i,l,s]=br({sourceX:S,sourceY:T,targetX:H,targetY:L,sourcePosition:M,targetPosition:W,borderRadius:0}),i,(n(7,l),n(16,S),n(17,T),n(20,H),n(21,L),n(18,M),n(22,W)),(n(6,s),n(16,S),n(17,T),n(20,H),n(21,L),n(18,M),n(22,W)))},[m,b,p,A,w,N,s,l,i,u,f,a,d,h,g,y,S,T,M,I,H,L,W,q]}class A4 extends ze{constructor(e){super(),He(this,e,E4,C4,Le,{id:9,source:10,target:11,type:12,animated:13,selected:14,label:0,data:15,labelStyle:1,style:2,markerStart:3,markerEnd:4,interactionWidth:5,sourceX:16,sourceY:17,sourcePosition:18,sourceHandleId:19,targetX:20,targetY:21,targetPosition:22,targetHandleId:23})}}const M4=A4;function P4(t,e){const n=t.set,i=e.set,l=se(t),s=se(e);let f=l.length===0&&s.length>0?s:l;t.set(f);const a=d=>{const h=n(d);return f=h,i(f),h};t.set=e.set=a,t.update=e.update=d=>a(d(f))}function T4(t,e){const n=t.set,i=e.set;let l=se(e);t.set(l);const s=u=>{n(u),i(u),l=u};t.set=e.set=s,t.update=e.update=u=>s(u(l))}const O4=(t,e,n)=>{if(!n)return;const i=se(t),l=e.set,s=n.set;let u=n?se(n):{x:0,y:0,zoom:1};e.set(u),e.set=f=>(l(f),s(f),u=f,f),n.set=f=>(i==null||i.syncViewport(f),l(f),s(f),u=f,f),e.update=f=>{e.set(f(u))},n.update=f=>{n.set(f(u))}},I4=(t,e)=>{const{subscribe:n,set:i,update:l}=Ie([]);let s=t,u={},f=!0;const a=m=>(s=i1(m,e,{elevateNodesOnSelect:f,defaults:u}),i(s),s),d=m=>a(m(s)),h=m=>{u=m},g=m=>{f=m.elevateNodesOnSelect??f};return a(s),{subscribe:n,set:a,update:d,setDefaultOptions:h,setOptions:g}},N4=(t,e,n,i)=>{const{subscribe:l,set:s,update:u}=Ie([]);let f=t,a=i||{};const d=m=>{const y=a?m.map(b=>({...a,...b})):m;o1(e,n,y),f=y,s(f)},h=m=>d(m(f)),g=m=>{a=m};return d(f),{subscribe:l,set:d,update:h,setDefaultOptions:g}},_1={path:null,sourceX:null,sourceY:null,sourcePosition:null,targetX:null,targetY:null,targetPosition:null,pointerPosition:null,startHandle:null,endHandle:null,status:null},H4={[Ke.Left]:Ke.Right,[Ke.Right]:Ke.Left,[Ke.Top]:Ke.Bottom,[Ke.Bottom]:Ke.Top};function z4(t,e){return gr([e,t.connectionLineType,t.connectionMode,t.nodeLookup,t.viewport],([n,i,l,s,u])=>{var M,I,H,L,W,q,P,X,D,O,V,Y,G;if(!((M=n.connectionStartHandle)!=null&&M.nodeId))return _1;const f=s.get((I=n.connectionStartHandle)==null?void 0:I.nodeId),a=(H=f==null?void 0:f[_t])==null?void 0:H.handleBounds,d=(a==null?void 0:a[n.connectionStartHandle.type||"source"])||[],h=d||(a==null?void 0:a[((L=n==null?void 0:n.connectionStartHandle)==null?void 0:L.type)==="source"?"target":"source"]),g=l===Ai.Strict?d:h,m=(W=n.connectionStartHandle)!=null&&W.handleId?g==null?void 0:g.find(x=>{var Q;return x.id===((Q=n.connectionStartHandle)==null?void 0:Q.handleId)}):g==null?void 0:g[0],y=m?m.x+m.width/2:(((q=f==null?void 0:f.computed)==null?void 0:q.width)??0)/2,b=m?m.y+m.height/2:((P=f==null?void 0:f.computed)==null?void 0:P.height)??0,p=(((D=(X=f==null?void 0:f.computed)==null?void 0:X.positionAbsolute)==null?void 0:D.x)??0)+y,A=(((V=(O=f==null?void 0:f.computed)==null?void 0:O.positionAbsolute)==null?void 0:V.y)??0)+b,w=m==null?void 0:m.position,N=w?H4[w]:void 0,S={sourceX:p,sourceY:A,sourcePosition:w,targetX:((((Y=n.connectionPosition)==null?void 0:Y.x)??0)-u.x)/u.zoom,targetY:((((G=n.connectionPosition)==null?void 0:G.y)??0)-u.y)/u.zoom,targetPosition:N};let T="";return i===fr.Bezier?[T]=e1(S):i===fr.Step?[T]=br({...S,borderRadius:0}):i===fr.SmoothStep?[T]=br(S):[T]=n1(S),{path:T,...S,pointerPosition:n.connectionPosition,startHandle:n.connectionStartHandle,endHandle:n.connectionEndHandle,status:n.connectionStatus}})}const y1={input:K5,output:G5,default:h1,group:Q5},w1={straight:k4,smoothstep:b4,default:m1,step:M4},L4=({nodes:t=[],edges:e=[],width:n,height:i,fitView:l})=>{const s=new Map,u=i1(t,s,{nodeOrigin:[0,0],elevateNodesOnSelect:!1}),f=new Map,a=new Map;o1(f,a,e);let d={x:0,y:0,zoom:1};if(l&&n&&i){const h=u.filter(m=>m.width&&m.height||m.initialWidth&&m.initialHeight),g=ho(h,{nodeOrigin:[0,0]});d=sf(g,n,i,.5,2,.1)}return{flowId:Ie(null),nodes:I4(u,s),nodeLookup:On(s),edgeLookup:On(a),visibleNodes:On([]),edges:N4(e,f,a),visibleEdges:On([]),connectionLookup:On(f),height:Ie(500),width:Ie(500),minZoom:Ie(.5),maxZoom:Ie(2),nodeOrigin:Ie([0,0]),nodeDragThreshold:Ie(1),nodeExtent:Ie(ed),translateExtent:Ie(ed),autoPanOnNodeDrag:Ie(!0),autoPanOnConnect:Ie(!0),fitViewOnInit:Ie(!1),fitViewOnInitDone:Ie(!1),fitViewOptions:Ie(void 0),panZoom:Ie(null),snapGrid:Ie(null),dragging:Ie(!1),selectionRect:Ie(null),selectionKeyPressed:Ie(!1),multiselectionKeyPressed:Ie(!1),deleteKeyPressed:Ie(!1),panActivationKeyPressed:Ie(!1),zoomActivationKeyPressed:Ie(!1),selectionRectMode:Ie(null),selectionMode:Ie(Il.Partial),nodeTypes:Ie(y1),edgeTypes:Ie(w1),viewport:Ie(d),connectionMode:Ie(Ai.Strict),domNode:Ie(null),connection:On(_1),connectionLineType:Ie(fr.Bezier),connectionRadius:Ie(20),isValidConnection:Ie(()=>!0),nodesDraggable:Ie(!0),nodesConnectable:Ie(!0),elementsSelectable:Ie(!0),selectNodesOnDrag:Ie(!0),markers:On([]),defaultMarkerColor:Ie("#b1b1b7"),lib:On("svelte"),onlyRenderVisibleElements:Ie(!1),onerror:Ie(qp),ondelete:Ie(void 0),onedgecreate:Ie(void 0),onconnect:Ie(void 0),onconnectstart:Ie(void 0),onconnectend:Ie(void 0),onbeforedelete:Ie(void 0),nodesInitialized:Ie(!1),edgesInitialized:Ie(!1),viewportInitialized:Ie(!1),initialized:On(!1)}};function R4(t){const e=gr([t.edges,t.nodes,t.nodeLookup,t.onlyRenderVisibleElements,t.viewport,t.width,t.height],([n,,i,l,s,u,f])=>l&&u&&f?n.filter(d=>{const h=i.get(d.source),g=i.get(d.target);return h&&g&&$p({sourceNode:h,targetNode:g,width:u,height:f,transform:[s.x,s.y,s.zoom]})}):n);return gr([e,t.nodes,t.nodeLookup,t.connectionMode,t.onerror],([n,,i,l,s])=>n.reduce((f,a)=>{const d=i.get(a.source),h=i.get(a.target);if(!d||!h)return f;const g=l5({id:a.id,sourceNode:d,targetNode:h,sourceHandle:a.sourceHandle||null,targetHandle:a.targetHandle||null,connectionMode:l,onError:s});return g&&f.push({...a,zIndex:jp({selected:a.selected,zIndex:a.zIndex,sourceNode:d,targetNode:h,elevateOnSelect:!1}),...g}),f},[]))}function D4(t){return gr([t.nodes,t.onlyRenderVisibleElements,t.width,t.height,t.viewport],([e,n,i,l,s])=>{const u=[s.x,s.y,s.zoom];return n?Gh(e,{x:0,y:0,width:i,height:l},u,!0):e})}const ql=Symbol();function b1({nodes:t,edges:e,width:n,height:i,fitView:l}){const s=L4({nodes:t,edges:e,width:n,height:i,fitView:l});function u(D){s.nodeTypes.set({...y1,...D})}function f(D){s.edgeTypes.set({...w1,...D})}function a(D){const O=se(s.edges);s.edges.set(n5(D,O))}const d=(D,O=!1)=>{const V=se(s.nodeLookup);D.forEach(Y=>{var x;const G=V.get(Y.id);G&&(G.position=Y.position,G.dragging=O,G.computed={...G.computed,positionAbsolute:(x=Y.computed)==null?void 0:x.positionAbsolute})}),s.nodes.set(se(s.nodes))};function h(D){const O=f5(D,se(s.nodes),se(s.nodeLookup),se(s.domNode),se(s.nodeOrigin));if(O){if(!se(s.fitViewOnInitDone)&&se(s.fitViewOnInit)){const V=se(s.fitViewOptions),Y=g(O,{...V,nodes:(V==null?void 0:V.nodes)||O});s.fitViewOnInitDone.set(Y)}s.nodes.set(O),se(s.nodesInitialized)||s.nodesInitialized.set(!0)}}function g(D,O){const V=se(s.panZoom);return V?Yp({nodes:D,width:se(s.width),height:se(s.height),minZoom:se(s.minZoom),maxZoom:se(s.maxZoom),panZoom:V,nodeOrigin:se(s.nodeOrigin)},O):!1}function m(D,O){const V=se(s.panZoom);V&&V.scaleBy(D,O)}function y(D){m(1.2,D)}function b(D){m(1/1.2,D)}function p(D){const O=se(s.panZoom);O&&(O.setScaleExtent([D,se(s.maxZoom)]),s.minZoom.set(D))}function A(D){const O=se(s.panZoom);O&&(O.setScaleExtent([se(s.minZoom),D]),s.maxZoom.set(D))}function w(D){const O=se(s.panZoom);O&&(O.setTranslateExtent(D),s.translateExtent.set(D))}function N(D){let O=!1;return D.forEach(V=>{V.selected&&(V.selected=!1,O=!0)}),O}function S(D){N((D==null?void 0:D.nodes)||se(s.nodes))&&s.nodes.set(se(s.nodes)),N((D==null?void 0:D.edges)||se(s.edges))&&s.edges.set(se(s.edges))}s.deleteKeyPressed.subscribe(async D=>{var O;if(D){const V=se(s.nodes),Y=se(s.edges),G=V.filter(ce=>ce.selected),x=Y.filter(ce=>ce.selected),{nodes:Q,edges:ae}=await Zh({nodesToRemove:G,edgesToRemove:x,nodes:V,edges:Y,onBeforeDelete:se(s.onbeforedelete)});(Q.length||ae.length)&&(s.nodes.update(ce=>ce.filter(ee=>!Q.some(be=>be.id===ee.id))),s.edges.update(ce=>ce.filter(ee=>!ae.some(be=>be.id===ee.id))),(O=se(s.ondelete))==null||O({nodes:Q,edges:ae}))}});function T(D){const O=se(s.multiselectionKeyPressed);s.nodes.update(V=>V.map(Y=>{const G=D.includes(Y.id),x=O&&Y.selected||G;return Y.selected=x,Y})),O||s.edges.update(V=>V.map(Y=>(Y.selected=!1,Y)))}function M(D){const O=se(s.multiselectionKeyPressed);s.edges.update(V=>V.map(Y=>{const G=D.includes(Y.id),x=O&&Y.selected||G;return Y.selected=x,Y})),O||s.nodes.update(V=>V.map(Y=>(Y.selected=!1,Y)))}function I(D){var V;const O=(V=se(s.nodes))==null?void 0:V.find(Y=>Y.id===D);if(!O){console.warn("012",co.error012(D));return}s.selectionRect.set(null),s.selectionRectMode.set(null),O.selected?O.selected&&se(s.multiselectionKeyPressed)&&S({nodes:[O],edges:[]}):T([D])}function H(D){const O=se(s.viewport);return a5({delta:D,panZoom:se(s.panZoom),transform:[O.x,O.y,O.zoom],translateExtent:se(s.translateExtent),width:se(s.width),height:se(s.height)})}const L={connectionStartHandle:null,connectionEndHandle:null,connectionPosition:null,connectionStatus:null},W=Ie(L),q=D=>{W.set(D)};function P(){q(L)}function X(){s.fitViewOnInitDone.set(!1),s.selectionRect.set(null),s.selectionRectMode.set(null),s.snapGrid.set(null),s.isValidConnection.set(()=>!0),s.nodes.set([]),s.edges.set([]),S(),P()}return{...s,connection:z4(s,W),visibleEdges:R4(s),visibleNodes:D4(s),markers:gr([s.edges,s.defaultMarkerColor,s.flowId],([D,O,V])=>s5(D,{defaultColor:O,id:V})),initialized:(()=>{let D=!1;const O=se(s.nodes).length,V=se(s.edges).length;return gr([s.nodesInitialized,s.edgesInitialized,s.viewportInitialized],([Y,G,x])=>D||(O===0?D=x:V===0?D=x&&Y:D=x&&Y&&G,D))})(),syncNodeStores:D=>P4(s.nodes,D),syncEdgeStores:D=>T4(s.edges,D),syncViewport:D=>O4(s.panZoom,s.viewport,D),setNodeTypes:u,setEdgeTypes:f,addEdge:a,updateNodePositions:d,updateNodeDimensions:h,zoomIn:y,zoomOut:b,fitView:D=>g(se(s.nodes),D),setMinZoom:p,setMaxZoom:A,setTranslateExtent:w,unselectNodesAndEdges:S,addSelectedNodes:T,addSelectedEdges:M,handleNodeSelection:I,panBy:H,updateConnection:q,cancelConnection:P,reset:X}}function dt(){const t=$r(ql);if(!t)throw new Error("In order to use useStore you need to wrap your component in a <SvelteFlowProvider />");return t.getStore()}function W4({nodes:t,edges:e,width:n,height:i,fitView:l}){const s=b1({nodes:t,edges:e,width:n,height:i,fitView:l});return jr(ql,{getStore:()=>s}),s}function B4(t,e){const{panZoom:n,minZoom:i,maxZoom:l,initialViewport:s,viewport:u,dragging:f,translateExtent:a}=e,d=A5({domNode:t,minZoom:i,maxZoom:l,translateExtent:a,viewport:s,onTransformChange:g=>u.set({x:g[0],y:g[1],zoom:g[2]}),onDraggingChange:f.set}),h=d.getViewport();return u.set(h),n.set(d),d.update(e),{update(g){d.update(g)}}}function X4(t){let e,n,i,l,s;const u=t[33].default,f=Xt(u,t,t[32],null);return{c(){e=_e("div"),f&&f.c(),C(e,"class","svelte-flow__zoom svelte-4xkw84")},m(a,d){j(a,e,d),f&&f.m(e,null),i=!0,l||(s=Gt(n=B4.call(null,e,{viewport:t[17],minZoom:t[11],maxZoom:t[12],initialViewport:t[10],dragging:t[22],panZoom:t[18],onPanZoomStart:t[0],onPanZoom:t[1],onPanZoomEnd:t[2],zoomOnScroll:t[5],zoomOnDoubleClick:t[6],zoomOnPinch:t[7],panOnScroll:t[8],panOnDrag:t[9],panOnScrollSpeed:.5,panOnScrollMode:t[3]||Kn.Free,zoomActivationKeyPressed:t[13],preventScrolling:typeof t[4]=="boolean"?t[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:t[14],translateExtent:t[15],lib:t[16]})),l=!0)},p(a,d){f&&f.p&&(!i||d[1]&2)&&Ft(f,u,a,a[32],i?Yt(u,a[32],d,null):Vt(a[32]),null),n&&gt(n.update)&&d[0]&131071&&n.update.call(null,{viewport:a[17],minZoom:a[11],maxZoom:a[12],initialViewport:a[10],dragging:a[22],panZoom:a[18],onPanZoomStart:a[0],onPanZoom:a[1],onPanZoomEnd:a[2],zoomOnScroll:a[5],zoomOnDoubleClick:a[6],zoomOnPinch:a[7],panOnScroll:a[8],panOnDrag:a[9],panOnScrollSpeed:.5,panOnScrollMode:a[3]||Kn.Free,zoomActivationKeyPressed:a[13],preventScrolling:typeof a[4]=="boolean"?a[4]:!0,noPanClassName:"nopan",noWheelClassName:"nowheel",userSelectionActive:a[14],translateExtent:a[15],lib:a[16]})},i(a){i||($(f,a),i=!0)},o(a){te(f,a),i=!1},d(a){a&&Z(e),f&&f.d(a),l=!1,s()}}}function Y4(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,{$$slots:b={},$$scope:p}=e,{initialViewport:A}=e,{onMoveStart:w=void 0}=e,{onMove:N=void 0}=e,{onMoveEnd:S=void 0}=e,{panOnScrollMode:T}=e,{preventScrolling:M}=e,{zoomOnScroll:I}=e,{zoomOnDoubleClick:H}=e,{zoomOnPinch:L}=e,{panOnDrag:W}=e,{panOnScroll:q}=e;const{viewport:P,panZoom:X,selectionKeyPressed:D,minZoom:O,maxZoom:V,dragging:Y,translateExtent:G,lib:x,panActivationKeyPressed:Q,zoomActivationKeyPressed:ae,viewportInitialized:ce}=dt();return he(t,D,ee=>n(14,g=ee)),he(t,O,ee=>n(11,a=ee)),he(t,V,ee=>n(12,d=ee)),he(t,G,ee=>n(15,m=ee)),he(t,x,ee=>n(16,y=ee)),he(t,Q,ee=>n(31,f=ee)),he(t,ae,ee=>n(13,h=ee)),he(t,ce,ee=>n(34,u=ee)),uo(()=>{Cn(ce,u=!0,u)}),t.$$set=ee=>{"initialViewport"in ee&&n(28,A=ee.initialViewport),"onMoveStart"in ee&&n(0,w=ee.onMoveStart),"onMove"in ee&&n(1,N=ee.onMove),"onMoveEnd"in ee&&n(2,S=ee.onMoveEnd),"panOnScrollMode"in ee&&n(3,T=ee.panOnScrollMode),"preventScrolling"in ee&&n(4,M=ee.preventScrolling),"zoomOnScroll"in ee&&n(5,I=ee.zoomOnScroll),"zoomOnDoubleClick"in ee&&n(6,H=ee.zoomOnDoubleClick),"zoomOnPinch"in ee&&n(7,L=ee.zoomOnPinch),"panOnDrag"in ee&&n(29,W=ee.panOnDrag),"panOnScroll"in ee&&n(30,q=ee.panOnScroll),"$$scope"in ee&&n(32,p=ee.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&268435456&&n(10,i=A||{x:0,y:0,zoom:1}),t.$$.dirty[0]&536870912|t.$$.dirty[1]&1&&n(9,l=f||W),t.$$.dirty[0]&1073741824|t.$$.dirty[1]&1&&n(8,s=f||q)},[w,N,S,T,M,I,H,L,s,l,i,a,d,h,g,m,y,P,X,D,O,V,Y,G,x,Q,ae,ce,A,W,q,f,p,b]}class F4 extends ze{constructor(e){super(),He(this,e,Y4,X4,Le,{initialViewport:28,onMoveStart:0,onMove:1,onMoveEnd:2,panOnScrollMode:3,preventScrolling:4,zoomOnScroll:5,zoomOnDoubleClick:6,zoomOnPinch:7,panOnDrag:29,panOnScroll:30},null,[-1,-1])}}const V4=F4;function K4(t){let e,n,i,l;const s=t[29].default,u=Xt(s,t,t[28],null);return{c(){e=_e("div"),u&&u.c(),C(e,"class","svelte-flow__pane svelte-1esy7hx"),Xe(e,"draggable",t[0]),Xe(e,"dragging",t[4]),Xe(e,"selection",t[1])},m(f,a){j(f,e,a),u&&u.m(e,null),t[30](e),n=!0,i||(l=[Ne(e,"click",function(){gt(t[3]?void 0:ml(t[15],t[2]))&&(t[3]?void 0:ml(t[15],t[2])).apply(this,arguments)}),Ne(e,"mousedown",function(){gt(t[3]?t[16]:void 0)&&(t[3]?t[16]:void 0).apply(this,arguments)}),Ne(e,"mousemove",function(){gt(t[3]?t[17]:void 0)&&(t[3]?t[17]:void 0).apply(this,arguments)}),Ne(e,"mouseup",function(){gt(t[3]?t[18]:void 0)&&(t[3]?t[18]:void 0).apply(this,arguments)}),Ne(e,"mouseleave",function(){gt(t[3]?t[19]:void 0)&&(t[3]?t[19]:void 0).apply(this,arguments)}),Ne(e,"contextmenu",function(){gt(ml(t[20],t[2]))&&ml(t[20],t[2]).apply(this,arguments)})],i=!0)},p(f,a){t=f,u&&u.p&&(!n||a[0]&268435456)&&Ft(u,s,t,t[28],n?Yt(s,t[28],a,null):Vt(t[28]),null),(!n||a[0]&1)&&Xe(e,"draggable",t[0]),(!n||a[0]&16)&&Xe(e,"dragging",t[4]),(!n||a[0]&2)&&Xe(e,"selection",t[1])},i(f){n||($(u,f),n=!0)},o(f){te(u,f),n=!1},d(f){f&&Z(e),u&&u.d(f),t[30](null),i=!1,vt(l)}}}function ml(t,e){return n=>{n.target===e&&(t==null||t(n))}}function bd(t){return e=>{const n=t.includes(e.id);return e.selected!==n?{...e,selected:n}:e}}function U4(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,b,p,{$$slots:A={},$$scope:w}=e,{panOnDrag:N=void 0}=e,{selectionOnDrag:S=void 0}=e;const T=Wl(),{nodes:M,edges:I,viewport:H,dragging:L,elementsSelectable:W,selectionRect:q,selectionRectMode:P,selectionKeyPressed:X,selectionMode:D,panActivationKeyPressed:O,unselectNodesAndEdges:V}=dt();he(t,M,R=>n(36,h=R)),he(t,I,R=>n(33,f=R)),he(t,H,R=>n(35,d=R)),he(t,L,R=>n(4,p=R)),he(t,W,R=>n(25,m=R)),he(t,q,R=>n(24,g=R)),he(t,P,R=>n(23,u=R)),he(t,X,R=>n(26,y=R)),he(t,D,R=>n(34,a=R)),he(t,O,R=>n(27,b=R));let Y,G=null,x=[];function Q(R){T("paneclick",{event:R}),V(),P.set(null)}function ae(R){if(G=Y.getBoundingClientRect(),!W||!l||R.button!==0||R.target!==Y||!G)return;const{x:ge,y:me}=oi(R,G);V(),q.set({width:0,height:0,startX:ge,startY:me,x:ge,y:me})}function ce(R){if(!l||!G||!g)return;const ge=oi(R,G),me=g.startX??0,oe=g.startY??0,le={...g,x:ge.x<me?ge.x:me,y:ge.y<oe?ge.y:oe,width:Math.abs(ge.x-me),height:Math.abs(ge.y-oe)},Ye=x.map(Pe=>Pe.id),Ue=Uu(x,f).map(Pe=>Pe.id);x=Gh(h,le,[d.x,d.y,d.zoom],a===Il.Partial,!0);const et=Uu(x,f).map(Pe=>Pe.id),rt=x.map(Pe=>Pe.id);(Ye.length!==rt.length||rt.some(Pe=>!Ye.includes(Pe)))&&M.update(Pe=>Pe.map(bd(rt))),(Ue.length!==et.length||et.some(Pe=>!Ue.includes(Pe)))&&I.update(Pe=>Pe.map(bd(et))),P.set("user"),q.set(le)}function ee(R){R.button===0&&(!l&&u==="user"&&R.target===Y&&(Q==null||Q(R)),q.set(null),x.length>0&&P.set("nodes"))}const be=()=>{u==="user"&&P.set(x.length>0?"nodes":null),q.set(null)},Me=R=>{if(Array.isArray(i)&&(i!=null&&i.includes(2))){R.preventDefault();return}T("panecontextmenu",{event:R})};function Ae(R){En[R?"unshift":"push"](()=>{Y=R,n(2,Y)})}return t.$$set=R=>{"panOnDrag"in R&&n(0,N=R.panOnDrag),"selectionOnDrag"in R&&n(21,S=R.selectionOnDrag),"$$scope"in R&&n(28,w=R.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&134217729&&n(22,i=b||N),t.$$.dirty[0]&90177536&&n(1,l=y||g||S&&i!==!0),t.$$.dirty[0]&41943042&&n(3,s=m&&(l||u==="user"))},[N,l,Y,s,p,M,I,H,L,W,q,P,X,D,O,Q,ae,ce,ee,be,Me,S,i,u,g,m,y,b,w,A,Ae]}class q4 extends ze{constructor(e){super(),He(this,e,U4,K4,Le,{panOnDrag:0,selectionOnDrag:21},null,[-1,-1])}}const x4=q4;function G4(t){let e,n;const i=t[3].default,l=Xt(i,t,t[2],null);return{c(){e=_e("div"),l&&l.c(),C(e,"class","svelte-flow__viewport xyflow__viewport svelte-1floaup"),Be(e,"transform","translate("+t[0].x+"px, "+t[0].y+"px) scale("+t[0].zoom+")")},m(s,u){j(s,e,u),l&&l.m(e,null),n=!0},p(s,[u]){l&&l.p&&(!n||u&4)&&Ft(l,i,s,s[2],n?Yt(i,s[2],u,null):Vt(s[2]),null),(!n||u&1)&&Be(e,"transform","translate("+s[0].x+"px, "+s[0].y+"px) scale("+s[0].zoom+")")},i(s){n||($(l,s),n=!0)},o(s){te(l,s),n=!1},d(s){s&&Z(e),l&&l.d(s)}}}function Z4(t,e,n){let i,{$$slots:l={},$$scope:s}=e;const{viewport:u}=dt();return he(t,u,f=>n(0,i=f)),t.$$set=f=>{"$$scope"in f&&n(2,s=f.$$scope)},[i,u,s,l]}class J4 extends ze{constructor(e){super(),He(this,e,Z4,G4,Le,{})}}function v1(t,e){const{store:n,onDrag:i,onDragStart:l,onDragStop:s,onNodeMouseDown:u}=e,f=d5({onDrag:i,onDragStart:l,onDragStop:s,onNodeMouseDown:u,getStoreItems:()=>{const d=se(n.snapGrid),h=se(n.viewport);return{nodes:se(n.nodes),nodeLookup:se(n.nodeLookup),edges:se(n.edges),nodeExtent:se(n.nodeExtent),snapGrid:d||[0,0],snapToGrid:!!d,nodeOrigin:[0,0],multiSelectionActive:se(n.multiselectionKeyPressed),domNode:se(n.domNode),transform:[h.x,h.y,h.zoom],autoPanOnNodeDrag:se(n.autoPanOnNodeDrag),nodesDraggable:se(n.nodesDraggable),selectNodesOnDrag:se(n.selectNodesOnDrag),nodeDragThreshold:se(n.nodeDragThreshold),unselectNodesAndEdges:n.unselectNodesAndEdges,updateNodePositions:n.updateNodePositions,panBy:n.panBy}}});function a(d,h){if(h.disabled){f.destroy();return}f.update({domNode:d,noDragClassName:h.noDragClass,handleSelector:h.handleSelector,nodeId:h.nodeId,isSelectable:h.isSelectable})}return a(t,e),{update(d){a(t,d)},destroy(){f.destroy()}}}function Q4({width:t,height:e,initialWidth:n,initialHeight:i,computedWidth:l,computedHeight:s}){if(l===void 0&&s===void 0){const u=t??n,f=e??i;return{width:u?`width:${u}px;`:"",height:f?`height:${f}px;`:""}}return{width:t?`width:${t}px;`:"",height:e?`height:${e}px;`:""}}function vd(t){let e,n,i,l,s,u=`translate(${t[13]}px, ${t[14]}px)`,f,a,d;var h=t[26];function g(m,y){return{props:{data:m[2],id:m[1],selected:m[3],sourcePosition:m[15],targetPosition:m[16],zIndex:m[17],dragging:m[8],dragHandle:m[20],type:m[24],isConnectable:m[27],positionAbsoluteX:m[11],positionAbsoluteY:m[12],width:m[18],height:m[19]}}}return h&&(n=kl(h,g(t))),{c(){e=_e("div"),n&&Se(n.$$.fragment),C(e,"data-id",t[1]),C(e,"class",i=it(["svelte-flow__node",`svelte-flow__node-${t[24]}`,t[22]])),C(e,"style",l=(t[9]??"")+";"+t[25].width+t[25].height),Xe(e,"dragging",t[8]),Xe(e,"selected",t[3]),Xe(e,"draggable",t[4]),Xe(e,"connectable",t[6]),Xe(e,"selectable",t[5]),Xe(e,"nopan",t[4]),Xe(e,"parent",t[10]),Be(e,"z-index",t[17]),Be(e,"transform",u),Be(e,"visibility",t[21]?"visible":"hidden")},m(m,y){j(m,e,y),n&&ve(n,e,null),t[49](e),f=!0,a||(d=[Gt(s=v1.call(null,e,{nodeId:t[1],isSelectable:t[5],disabled:!1,handleSelector:t[20],noDragClass:"nodrag",onNodeMouseDown:t[30],onDrag:t[46],onDragStart:t[47],onDragStop:t[48],store:t[28]})),Ne(e,"click",t[33]),Ne(e,"mouseenter",t[50]),Ne(e,"mouseleave",t[51]),Ne(e,"mousemove",t[52]),Ne(e,"contextmenu",t[53])],a=!0)},p(m,y){if(y[0]&67108864&&h!==(h=m[26])){if(n){yt();const p=n;te(p.$$.fragment,1,0,()=>{pe(p,1)}),wt()}h?(n=kl(h,g(m)),Se(n.$$.fragment),$(n.$$.fragment,1),ve(n,e,null)):n=null}else if(h){const p={};y[0]&4&&(p.data=m[2]),y[0]&2&&(p.id=m[1]),y[0]&8&&(p.selected=m[3]),y[0]&32768&&(p.sourcePosition=m[15]),y[0]&65536&&(p.targetPosition=m[16]),y[0]&131072&&(p.zIndex=m[17]),y[0]&256&&(p.dragging=m[8]),y[0]&1048576&&(p.dragHandle=m[20]),y[0]&16777216&&(p.type=m[24]),y[0]&134217728&&(p.isConnectable=m[27]),y[0]&2048&&(p.positionAbsoluteX=m[11]),y[0]&4096&&(p.positionAbsoluteY=m[12]),y[0]&262144&&(p.width=m[18]),y[0]&524288&&(p.height=m[19]),n.$set(p)}(!f||y[0]&2)&&C(e,"data-id",m[1]),(!f||y[0]&20971520&&i!==(i=it(["svelte-flow__node",`svelte-flow__node-${m[24]}`,m[22]])))&&C(e,"class",i),(!f||y[0]&33554944&&l!==(l=(m[9]??"")+";"+m[25].width+m[25].height))&&C(e,"style",l),s&&gt(s.update)&&y[0]&1048610&&s.update.call(null,{nodeId:m[1],isSelectable:m[5],disabled:!1,handleSelector:m[20],noDragClass:"nodrag",onNodeMouseDown:m[30],onDrag:m[46],onDragStart:m[47],onDragStop:m[48],store:m[28]}),(!f||y[0]&20971776)&&Xe(e,"dragging",m[8]),(!f||y[0]&20971528)&&Xe(e,"selected",m[3]),(!f||y[0]&20971536)&&Xe(e,"draggable",m[4]),(!f||y[0]&20971584)&&Xe(e,"connectable",m[6]),(!f||y[0]&20971552)&&Xe(e,"selectable",m[5]),(!f||y[0]&20971536)&&Xe(e,"nopan",m[4]),(!f||y[0]&20972544)&&Xe(e,"parent",m[10]);const b=y[0]&33554944;(y[0]&33686016||b)&&Be(e,"z-index",m[17]),(y[0]&33579520&&u!==(u=`translate(${m[13]}px, ${m[14]}px)`)||b)&&Be(e,"transform",u),(y[0]&35652096||b)&&Be(e,"visibility",m[21]?"visible":"hidden")},i(m){f||(n&&$(n.$$.fragment,m),f=!0)},o(m){n&&te(n.$$.fragment,m),f=!1},d(m){m&&Z(e),n&&pe(n),t[49](null),a=!1,vt(d)}}}function j4(t){let e,n,i=!t[7]&&vd(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),j(l,e,s),n=!0},p(l,s){l[7]?i&&(yt(),te(i,1,1,()=>{i=null}),wt()):i?(i.p(l,s),s[0]&128&&$(i,1)):(i=vd(l),i.c(),$(i,1),i.m(e.parentNode,e))},i(l){n||($(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}function $4(t,e,n){let i,l,s,u,f,a,{node:d}=e,{id:h}=e,{data:g={}}=e,{selected:m=!1}=e,{draggable:y=void 0}=e,{selectable:b=void 0}=e,{connectable:p=!0}=e,{hidden:A=!1}=e,{dragging:w=!1}=e,{resizeObserver:N=null}=e,{style:S=void 0}=e,{type:T="default"}=e,{isParent:M=!1}=e,{positionX:I}=e,{positionY:H}=e,{positionOriginX:L}=e,{positionOriginY:W}=e,{sourcePosition:q=void 0}=e,{targetPosition:P=void 0}=e,{zIndex:X}=e,{computedWidth:D=void 0}=e,{computedHeight:O=void 0}=e,{initialWidth:V=void 0}=e,{initialHeight:Y=void 0}=e,{width:G=void 0}=e,{height:x=void 0}=e,{dragHandle:Q=void 0}=e,{initialized:ae=!1}=e,{class:ce=""}=e;const ee=dt(),{nodeTypes:be,nodeDragThreshold:Me,selectNodesOnDrag:Ae,handleNodeSelection:R,updateNodeDimensions:ge}=ee;he(t,be,de=>n(45,f=de));let me,oe=null;const le=k1(),Ye=Ie(p);he(t,Ye,de=>n(27,a=de));let Ue,et,rt;jr("svelteflow__node_id",h),jr("svelteflow__node_connectable",Ye),Ju(()=>{oe&&(N==null||N.unobserve(oe))});function Pe(de){b&&(!se(Ae)||!y||se(Me)>0)&&R(h),le("nodeclick",{node:d,event:de})}const Je=(de,Tt,Nt,ye)=>{le("nodedrag",{event:de,targetNode:Nt,nodes:ye})},ut=(de,Tt,Nt,ye)=>{le("nodedragstart",{event:de,targetNode:Nt,nodes:ye})},rn=(de,Tt,Nt,ye)=>{le("nodedragstop",{event:de,targetNode:Nt,nodes:ye})};function hn(de){En[de?"unshift":"push"](()=>{me=de,n(23,me)})}const Ce=de=>le("nodemouseenter",{node:d,event:de}),Ct=de=>le("nodemouseleave",{node:d,event:de}),Jt=de=>le("nodemousemove",{node:d,event:de}),gn=de=>le("nodecontextmenu",{node:d,event:de});return t.$$set=de=>{"node"in de&&n(0,d=de.node),"id"in de&&n(1,h=de.id),"data"in de&&n(2,g=de.data),"selected"in de&&n(3,m=de.selected),"draggable"in de&&n(4,y=de.draggable),"selectable"in de&&n(5,b=de.selectable),"connectable"in de&&n(6,p=de.connectable),"hidden"in de&&n(7,A=de.hidden),"dragging"in de&&n(8,w=de.dragging),"resizeObserver"in de&&n(34,N=de.resizeObserver),"style"in de&&n(9,S=de.style),"type"in de&&n(35,T=de.type),"isParent"in de&&n(10,M=de.isParent),"positionX"in de&&n(11,I=de.positionX),"positionY"in de&&n(12,H=de.positionY),"positionOriginX"in de&&n(13,L=de.positionOriginX),"positionOriginY"in de&&n(14,W=de.positionOriginY),"sourcePosition"in de&&n(15,q=de.sourcePosition),"targetPosition"in de&&n(16,P=de.targetPosition),"zIndex"in de&&n(17,X=de.zIndex),"computedWidth"in de&&n(36,D=de.computedWidth),"computedHeight"in de&&n(37,O=de.computedHeight),"initialWidth"in de&&n(38,V=de.initialWidth),"initialHeight"in de&&n(39,Y=de.initialHeight),"width"in de&&n(18,G=de.width),"height"in de&&n(19,x=de.height),"dragHandle"in de&&n(20,Q=de.dragHandle),"initialized"in de&&n(21,ae=de.initialized),"class"in de&&n(22,ce=de.class)},t.$$.update=()=>{t.$$.dirty[1]&16&&n(24,i=T||"default"),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(44,l=!!f[i]),t.$$.dirty[0]&16777216|t.$$.dirty[1]&16384&&n(26,s=f[i]||h1),t.$$.dirty[1]&8208&&(l||console.warn("003",co.error003(T))),t.$$.dirty[0]&786432|t.$$.dirty[1]&480&&n(25,u=Q4({width:G,height:x,initialWidth:V,initialHeight:Y,computedWidth:D,computedHeight:O})),t.$$.dirty[0]&64&&Ye.set(!!p),t.$$.dirty[0]&25264130|t.$$.dirty[1]&7168&&((Ue&&i!==Ue||et&&q!==et||rt&&P!==rt)&&requestAnimationFrame(()=>ge(new Map([[h,{id:h,nodeElement:me,forceUpdate:!0}]]))),n(41,Ue=i),n(42,et=q),n(43,rt=P)),t.$$.dirty[0]&8388608|t.$$.dirty[1]&520&&N&&me!==oe&&(oe&&N.unobserve(oe),me&&N.observe(me),n(40,oe=me))},[d,h,g,m,y,b,p,A,w,S,M,I,H,L,W,q,P,X,G,x,Q,ae,ce,me,i,u,s,a,ee,be,R,le,Ye,Pe,N,T,D,O,V,Y,oe,Ue,et,rt,l,f,Je,ut,rn,hn,Ce,Ct,Jt,gn]}class e6 extends ze{constructor(e){super(),He(this,e,$4,j4,hh,{node:0,id:1,data:2,selected:3,draggable:4,selectable:5,connectable:6,hidden:7,dragging:8,resizeObserver:34,style:9,type:35,isParent:10,positionX:11,positionY:12,positionOriginX:13,positionOriginY:14,sourcePosition:15,targetPosition:16,zIndex:17,computedWidth:36,computedHeight:37,initialWidth:38,initialHeight:39,width:18,height:19,dragHandle:20,initialized:21,class:22},null,[-1,-1])}}const t6=e6,{Map:n6}=qw;function pd(t,e,n){var u,f,a,d;const i=t.slice();i[18]=e[n];const l=go(i[18]);i[19]=l;const s=xp({x:((f=(u=i[18].computed)==null?void 0:u.positionAbsolute)==null?void 0:f.x)??0,y:((d=(a=i[18].computed)==null?void 0:a.positionAbsolute)==null?void 0:d.y)??0,...i[19],origin:i[18].origin});return i[20]=s,i}function Sd(t,e){var s,u,f,a,d,h,g,m;let n,i,l;return i=new t6({props:{node:e[18],id:e[18].id,data:e[18].data,selected:!!e[18].selected,hidden:!!e[18].hidden,draggable:!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u"),selectable:!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u"),connectable:!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u"),positionX:((u=(s=e[18].computed)==null?void 0:s.positionAbsolute)==null?void 0:u.x)??0,positionY:((a=(f=e[18].computed)==null?void 0:f.positionAbsolute)==null?void 0:a.y)??0,positionOriginX:e[20].x??0,positionOriginY:e[20].y??0,isParent:!!((d=e[18][_t])!=null&&d.isParent),style:e[18].style,class:e[18].class,type:e[18].type??"default",sourcePosition:e[18].sourcePosition,targetPosition:e[18].targetPosition,dragging:e[18].dragging,zIndex:((h=e[18][_t])==null?void 0:h.z)??0,dragHandle:e[18].dragHandle,initialized:oo(e[18]),width:e[18].width,height:e[18].height,initialWidth:e[18].initialWidth,initialHeight:e[18].initialHeight,computedWidth:(g=e[18].computed)==null?void 0:g.width,computedHeight:(m=e[18].computed)==null?void 0:m.height,resizeObserver:e[8]}}),i.$on("nodeclick",e[9]),i.$on("nodemouseenter",e[10]),i.$on("nodemousemove",e[11]),i.$on("nodemouseleave",e[12]),i.$on("nodedrag",e[13]),i.$on("nodedragstart",e[14]),i.$on("nodedragstop",e[15]),i.$on("nodecontextmenu",e[16]),{key:t,first:null,c(){n=bt(),Se(i.$$.fragment),this.first=n},m(y,b){j(y,n,b),ve(i,y,b),l=!0},p(y,b){var A,w,N,S,T,M,I,H;e=y;const p={};b&1&&(p.node=e[18]),b&1&&(p.id=e[18].id),b&1&&(p.data=e[18].data),b&1&&(p.selected=!!e[18].selected),b&1&&(p.hidden=!!e[18].hidden),b&3&&(p.draggable=!!(e[18].draggable||e[1]&&typeof e[18].draggable>"u")),b&5&&(p.selectable=!!(e[18].selectable||e[2]&&typeof e[18].selectable>"u")),b&9&&(p.connectable=!!(e[18].connectable||e[3]&&typeof e[18].connectable>"u")),b&1&&(p.positionX=((w=(A=e[18].computed)==null?void 0:A.positionAbsolute)==null?void 0:w.x)??0),b&1&&(p.positionY=((S=(N=e[18].computed)==null?void 0:N.positionAbsolute)==null?void 0:S.y)??0),b&1&&(p.positionOriginX=e[20].x??0),b&1&&(p.positionOriginY=e[20].y??0),b&1&&(p.isParent=!!((T=e[18][_t])!=null&&T.isParent)),b&1&&(p.style=e[18].style),b&1&&(p.class=e[18].class),b&1&&(p.type=e[18].type??"default"),b&1&&(p.sourcePosition=e[18].sourcePosition),b&1&&(p.targetPosition=e[18].targetPosition),b&1&&(p.dragging=e[18].dragging),b&1&&(p.zIndex=((M=e[18][_t])==null?void 0:M.z)??0),b&1&&(p.dragHandle=e[18].dragHandle),b&1&&(p.initialized=oo(e[18])),b&1&&(p.width=e[18].width),b&1&&(p.height=e[18].height),b&1&&(p.initialWidth=e[18].initialWidth),b&1&&(p.initialHeight=e[18].initialHeight),b&1&&(p.computedWidth=(I=e[18].computed)==null?void 0:I.width),b&1&&(p.computedHeight=(H=e[18].computed)==null?void 0:H.height),i.$set(p)},i(y){l||($(i.$$.fragment,y),l=!0)},o(y){te(i.$$.fragment,y),l=!1},d(y){y&&Z(n),pe(i,y)}}}function i6(t){let e,n=[],i=new n6,l,s=At(t[0]);const u=f=>f[18].id;for(let f=0;f<s.length;f+=1){let a=pd(t,s,f),d=u(a);i.set(d,n[f]=Sd(d,a))}return{c(){e=_e("div");for(let f=0;f<n.length;f+=1)n[f].c();C(e,"class","svelte-flow__nodes svelte-tf4uy4")},m(f,a){j(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&271&&(s=At(f[0]),yt(),n=Ei(n,a,u,1,f,s,i,e,Bi,Sd,null,pd),wt())},i(f){if(!l){for(let a=0;a<s.length;a+=1)$(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)te(n[a]);l=!1},d(f){f&&Z(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function r6(t,e,n){let i,l,s,u;const{visibleNodes:f,nodesDraggable:a,nodesConnectable:d,elementsSelectable:h,updateNodeDimensions:g}=dt();he(t,f,M=>n(0,i=M)),he(t,a,M=>n(1,l=M)),he(t,d,M=>n(3,u=M)),he(t,h,M=>n(2,s=M));const m=typeof ResizeObserver>"u"?null:new ResizeObserver(M=>{const I=new Map;M.forEach(H=>{const L=H.target.getAttribute("data-id");I.set(L,{id:L,nodeElement:H.target,forceUpdate:!0})}),g(I)});Ju(()=>{m==null||m.disconnect()});function y(M){lt.call(this,t,M)}function b(M){lt.call(this,t,M)}function p(M){lt.call(this,t,M)}function A(M){lt.call(this,t,M)}function w(M){lt.call(this,t,M)}function N(M){lt.call(this,t,M)}function S(M){lt.call(this,t,M)}function T(M){lt.call(this,t,M)}return[i,l,s,u,f,a,d,h,m,y,b,p,A,w,N,S,T]}class o6 extends ze{constructor(e){super(),He(this,e,r6,i6,Le,{})}}function kd(t){let e,n,i,l,s,u,f,a;var d=t[26];function h(g,m){return{props:{id:g[0],source:g[1],target:g[2],sourceX:g[13],sourceY:g[14],targetX:g[15],targetY:g[16],sourcePosition:g[17],targetPosition:g[18],animated:g[6],selected:g[7],label:g[9],labelStyle:g[10],data:g[3],style:g[4],interactionWidth:g[20],type:g[22],sourceHandleId:g[11],targetHandleId:g[12],markerStart:g[25],markerEnd:g[24]}}}return d&&(i=kl(d,h(t))),{c(){e=Fe("svg"),n=Fe("g"),i&&Se(i.$$.fragment),C(n,"class",l=it(["svelte-flow__edge",t[21]])),C(n,"data-id",t[0]),C(n,"aria-label",s=t[19]===null?void 0:t[19]?t[19]:`Edge from ${t[1]} to ${t[2]}`),C(n,"role","img"),Xe(n,"animated",t[6]),Xe(n,"selected",t[7]),Xe(n,"selectable",t[23]),Be(e,"z-index",t[5])},m(g,m){j(g,e,m),ue(e,n),i&&ve(i,n,null),u=!0,f||(a=[Ne(n,"click",t[31]),Ne(n,"contextmenu",t[32])],f=!0)},p(g,m){if(m[0]&67108864&&d!==(d=g[26])){if(i){yt();const y=i;te(y.$$.fragment,1,0,()=>{pe(y,1)}),wt()}d?(i=kl(d,h(g)),Se(i.$$.fragment),$(i.$$.fragment,1),ve(i,n,null)):i=null}else if(d){const y={};m[0]&1&&(y.id=g[0]),m[0]&2&&(y.source=g[1]),m[0]&4&&(y.target=g[2]),m[0]&8192&&(y.sourceX=g[13]),m[0]&16384&&(y.sourceY=g[14]),m[0]&32768&&(y.targetX=g[15]),m[0]&65536&&(y.targetY=g[16]),m[0]&131072&&(y.sourcePosition=g[17]),m[0]&262144&&(y.targetPosition=g[18]),m[0]&64&&(y.animated=g[6]),m[0]&128&&(y.selected=g[7]),m[0]&512&&(y.label=g[9]),m[0]&1024&&(y.labelStyle=g[10]),m[0]&8&&(y.data=g[3]),m[0]&16&&(y.style=g[4]),m[0]&1048576&&(y.interactionWidth=g[20]),m[0]&4194304&&(y.type=g[22]),m[0]&2048&&(y.sourceHandleId=g[11]),m[0]&4096&&(y.targetHandleId=g[12]),m[0]&33554432&&(y.markerStart=g[25]),m[0]&16777216&&(y.markerEnd=g[24]),i.$set(y)}(!u||m[0]&2097152&&l!==(l=it(["svelte-flow__edge",g[21]])))&&C(n,"class",l),(!u||m[0]&1)&&C(n,"data-id",g[0]),(!u||m[0]&524294&&s!==(s=g[19]===null?void 0:g[19]?g[19]:`Edge from ${g[1]} to ${g[2]}`))&&C(n,"aria-label",s),(!u||m[0]&2097216)&&Xe(n,"animated",g[6]),(!u||m[0]&2097280)&&Xe(n,"selected",g[7]),(!u||m[0]&10485760)&&Xe(n,"selectable",g[23]),m[0]&32&&Be(e,"z-index",g[5])},i(g){u||(i&&$(i.$$.fragment,g),u=!0)},o(g){i&&te(i.$$.fragment,g),u=!1},d(g){g&&Z(e),i&&pe(i),f=!1,vt(a)}}}function l6(t){let e,n,i=!t[8]&&kd(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),j(l,e,s),n=!0},p(l,s){l[8]?i&&(yt(),te(i,1,1,()=>{i=null}),wt()):i?(i.p(l,s),s[0]&256&&$(i,1)):(i=kd(l),i.c(),$(i,1),i.m(e.parentNode,e))},i(l){n||($(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}function s6(t,e,n){let i,l,s,u,f,a,d,h,g,{id:m}=e,{type:y="default"}=e,{source:b=""}=e,{target:p=""}=e,{data:A={}}=e,{style:w=void 0}=e,{zIndex:N=void 0}=e,{animated:S=!1}=e,{selected:T=!1}=e,{selectable:M=void 0}=e,{hidden:I=!1}=e,{label:H=void 0}=e,{labelStyle:L=void 0}=e,{markerStart:W=void 0}=e,{markerEnd:q=void 0}=e,{sourceHandle:P=void 0}=e,{targetHandle:X=void 0}=e,{sourceX:D}=e,{sourceY:O}=e,{targetX:V}=e,{targetY:Y}=e,{sourcePosition:G}=e,{targetPosition:x}=e,{ariaLabel:Q=void 0}=e,{interactionWidth:ae=void 0}=e,{class:ce=""}=e;jr("svelteflow__edge_id",m);const{edgeLookup:ee,edgeTypes:be,flowId:Me,elementsSelectable:Ae}=dt();he(t,ee,le=>n(40,a=le)),he(t,be,le=>n(39,g=le)),he(t,Me,le=>n(38,h=le)),he(t,Ae,le=>n(37,d=le));const R=Wl(),ge=g1();function me(le){const Ye=a.get(m);Ye&&(ge(m),R("edgeclick",{event:le,edge:Ye}))}function oe(le){const Ye=a.get(m);Ye&&R("edgecontextmenu",{event:le,edge:Ye})}return t.$$set=le=>{"id"in le&&n(0,m=le.id),"type"in le&&n(33,y=le.type),"source"in le&&n(1,b=le.source),"target"in le&&n(2,p=le.target),"data"in le&&n(3,A=le.data),"style"in le&&n(4,w=le.style),"zIndex"in le&&n(5,N=le.zIndex),"animated"in le&&n(6,S=le.animated),"selected"in le&&n(7,T=le.selected),"selectable"in le&&n(34,M=le.selectable),"hidden"in le&&n(8,I=le.hidden),"label"in le&&n(9,H=le.label),"labelStyle"in le&&n(10,L=le.labelStyle),"markerStart"in le&&n(35,W=le.markerStart),"markerEnd"in le&&n(36,q=le.markerEnd),"sourceHandle"in le&&n(11,P=le.sourceHandle),"targetHandle"in le&&n(12,X=le.targetHandle),"sourceX"in le&&n(13,D=le.sourceX),"sourceY"in le&&n(14,O=le.sourceY),"targetX"in le&&n(15,V=le.targetX),"targetY"in le&&n(16,Y=le.targetY),"sourcePosition"in le&&n(17,G=le.sourcePosition),"targetPosition"in le&&n(18,x=le.targetPosition),"ariaLabel"in le&&n(19,Q=le.ariaLabel),"interactionWidth"in le&&n(20,ae=le.interactionWidth),"class"in le&&n(21,ce=le.class)},t.$$.update=()=>{t.$$.dirty[1]&4&&n(22,i=y||"default"),t.$$.dirty[0]&4194304|t.$$.dirty[1]&256&&n(26,l=g[i]||m1),t.$$.dirty[1]&144&&n(25,s=W?`url(#${xu(W,h)})`:void 0),t.$$.dirty[1]&160&&n(24,u=q?`url(#${xu(q,h)})`:void 0),t.$$.dirty[1]&72&&n(23,f=M||d&&typeof M>"u")},[m,b,p,A,w,N,S,T,I,H,L,P,X,D,O,V,Y,G,x,Q,ae,ce,i,f,u,s,l,ee,be,Me,Ae,me,oe,y,M,W,q,d,h,g]}class u6 extends ze{constructor(e){super(),He(this,e,s6,l6,hh,{id:0,type:33,source:1,target:2,data:3,style:4,zIndex:5,animated:6,selected:7,selectable:34,hidden:8,label:9,labelStyle:10,markerStart:35,markerEnd:36,sourceHandle:11,targetHandle:12,sourceX:13,sourceY:14,targetX:15,targetY:16,sourcePosition:17,targetPosition:18,ariaLabel:19,interactionWidth:20,class:21},null,[-1,-1])}}const f6=u6;function a6(t,e,n){let{onMount:i=void 0}=e,{onDestroy:l=void 0}=e;return uo(()=>(i==null||i(),l)),t.$$set=s=>{"onMount"in s&&n(0,i=s.onMount),"onDestroy"in s&&n(1,l=s.onDestroy)},[i,l]}class c6 extends ze{constructor(e){super(),He(this,e,a6,null,Le,{onMount:0,onDestroy:1})}}const d6=c6;function Cd(t,e,n){const i=t.slice();return i[2]=e[n],i}function Ed(t,e){let n,i,l;const s=[e[2]];let u={};for(let f=0;f<s.length;f+=1)u=Kt(u,s[f]);return i=new v6({props:u}),{key:t,first:null,c(){n=bt(),Se(i.$$.fragment),this.first=n},m(f,a){j(f,n,a),ve(i,f,a),l=!0},p(f,a){e=f;const d=a&1?si(s,[hr(e[2])]):{};i.$set(d)},i(f){l||($(i.$$.fragment,f),l=!0)},o(f){te(i.$$.fragment,f),l=!1},d(f){f&&Z(n),pe(i,f)}}}function h6(t){let e,n=[],i=new Map,l,s=At(t[0]);const u=f=>f[2].id;for(let f=0;f<s.length;f+=1){let a=Cd(t,s,f),d=u(a);i.set(d,n[f]=Ed(d,a))}return{c(){e=Fe("defs");for(let f=0;f<n.length;f+=1)n[f].c()},m(f,a){j(f,e,a);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(e,null);l=!0},p(f,[a]){a&1&&(s=At(f[0]),yt(),n=Ei(n,a,u,1,f,s,i,e,Bi,Ed,null,Cd),wt())},i(f){if(!l){for(let a=0;a<s.length;a+=1)$(n[a]);l=!0}},o(f){for(let a=0;a<n.length;a+=1)te(n[a]);l=!1},d(f){f&&Z(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function g6(t,e,n){let i;const{markers:l}=dt();return he(t,l,s=>n(0,i=s)),[i,l]}class m6 extends ze{constructor(e){super(),He(this,e,g6,h6,Le,{})}}function _6(t){let e;return{c(){e=Fe("polyline"),C(e,"stroke",t[6]),C(e,"stroke-linecap","round"),C(e,"stroke-linejoin","round"),C(e,"stroke-width",t[7]),C(e,"fill",t[6]),C(e,"points","-5,-4 0,0 -5,4 -5,-4")},m(n,i){j(n,e,i)},p(n,i){i&64&&C(e,"stroke",n[6]),i&128&&C(e,"stroke-width",n[7]),i&64&&C(e,"fill",n[6])},d(n){n&&Z(e)}}}function y6(t){let e;return{c(){e=Fe("polyline"),C(e,"stroke",t[6]),C(e,"stroke-linecap","round"),C(e,"stroke-linejoin","round"),C(e,"stroke-width",t[7]),C(e,"fill","none"),C(e,"points","-5,-4 0,0 -5,4")},m(n,i){j(n,e,i)},p(n,i){i&64&&C(e,"stroke",n[6]),i&128&&C(e,"stroke-width",n[7])},d(n){n&&Z(e)}}}function w6(t){let e,n,i;function l(f,a){if(f[1]===yr.Arrow)return y6;if(f[1]===yr.ArrowClosed)return _6}let s=l(t),u=s&&s(t);return{c(){e=Fe("marker"),u&&u.c(),C(e,"class","svelte-flow__arrowhead"),C(e,"id",t[0]),C(e,"markerWidth",n=`${t[2]}`),C(e,"markerHeight",i=`${t[3]}`),C(e,"viewBox","-10 -10 20 20"),C(e,"markerUnits",t[4]),C(e,"orient",t[5]),C(e,"refX","0"),C(e,"refY","0")},m(f,a){j(f,e,a),u&&u.m(e,null)},p(f,[a]){s===(s=l(f))&&u?u.p(f,a):(u&&u.d(1),u=s&&s(f),u&&(u.c(),u.m(e,null))),a&1&&C(e,"id",f[0]),a&4&&n!==(n=`${f[2]}`)&&C(e,"markerWidth",n),a&8&&i!==(i=`${f[3]}`)&&C(e,"markerHeight",i),a&16&&C(e,"markerUnits",f[4]),a&32&&C(e,"orient",f[5])},i:Oe,o:Oe,d(f){f&&Z(e),u&&u.d()}}}function b6(t,e,n){let{id:i}=e,{type:l}=e,{width:s=12.5}=e,{height:u=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(0,i=g.id),"type"in g&&n(1,l=g.type),"width"in g&&n(2,s=g.width),"height"in g&&n(3,u=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(6,d=g.color),"strokeWidth"in g&&n(7,h=g.strokeWidth)},[i,l,s,u,f,a,d,h]}class v6 extends ze{constructor(e){super(),He(this,e,b6,w6,Le,{id:0,type:1,width:2,height:3,markerUnits:4,orient:5,color:6,strokeWidth:7})}}function Ad(t,e,n){const i=t.slice();return i[10]=e[n],i}function Md(t,e){let n,i,l;return i=new f6({props:{id:e[10].id,source:e[10].source,target:e[10].target,data:e[10].data,style:e[10].style,animated:e[10].animated,selected:e[10].selected,selectable:e[10].selectable,hidden:e[10].hidden,label:e[10].label,labelStyle:e[10].labelStyle,markerStart:e[10].markerStart,markerEnd:e[10].markerEnd,sourceHandle:e[10].sourceHandle,targetHandle:e[10].targetHandle,sourceX:e[10].sourceX,sourceY:e[10].sourceY,targetX:e[10].targetX,targetY:e[10].targetY,sourcePosition:e[10].sourcePosition,targetPosition:e[10].targetPosition,ariaLabel:e[10].ariaLabel,interactionWidth:e[10].interactionWidth,class:e[10].class,type:e[10].type||"default",zIndex:e[10].zIndex}}),i.$on("edgeclick",e[5]),i.$on("edgecontextmenu",e[6]),{key:t,first:null,c(){n=bt(),Se(i.$$.fragment),this.first=n},m(s,u){j(s,n,u),ve(i,s,u),l=!0},p(s,u){e=s;const f={};u&1&&(f.id=e[10].id),u&1&&(f.source=e[10].source),u&1&&(f.target=e[10].target),u&1&&(f.data=e[10].data),u&1&&(f.style=e[10].style),u&1&&(f.animated=e[10].animated),u&1&&(f.selected=e[10].selected),u&1&&(f.selectable=e[10].selectable),u&1&&(f.hidden=e[10].hidden),u&1&&(f.label=e[10].label),u&1&&(f.labelStyle=e[10].labelStyle),u&1&&(f.markerStart=e[10].markerStart),u&1&&(f.markerEnd=e[10].markerEnd),u&1&&(f.sourceHandle=e[10].sourceHandle),u&1&&(f.targetHandle=e[10].targetHandle),u&1&&(f.sourceX=e[10].sourceX),u&1&&(f.sourceY=e[10].sourceY),u&1&&(f.targetX=e[10].targetX),u&1&&(f.targetY=e[10].targetY),u&1&&(f.sourcePosition=e[10].sourcePosition),u&1&&(f.targetPosition=e[10].targetPosition),u&1&&(f.ariaLabel=e[10].ariaLabel),u&1&&(f.interactionWidth=e[10].interactionWidth),u&1&&(f.class=e[10].class),u&1&&(f.type=e[10].type||"default"),u&1&&(f.zIndex=e[10].zIndex),i.$set(f)},i(s){l||($(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function Pd(t){let e,n;return e=new d6({props:{onMount:t[7],onDestroy:t[8]}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&2&&(s.onMount=i[7]),l&2&&(s.onDestroy=i[8]),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function p6(t){let e,n,i,l,s=[],u=new Map,f,a;i=new m6({});let d=At(t[0]);const h=m=>m[10].id;for(let m=0;m<d.length;m+=1){let y=Ad(t,d,m),b=h(y);u.set(b,s[m]=Md(b,y))}let g=t[0].length>0&&Pd(t);return{c(){e=_e("div"),n=Fe("svg"),Se(i.$$.fragment),l=ke();for(let m=0;m<s.length;m+=1)s[m].c();f=ke(),g&&g.c(),C(n,"class","svelte-flow__marker"),C(e,"class","svelte-flow__edges")},m(m,y){j(m,e,y),ue(e,n),ve(i,n,null),ue(e,l);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(e,null);ue(e,f),g&&g.m(e,null),a=!0},p(m,[y]){y&1&&(d=At(m[0]),yt(),s=Ei(s,y,h,1,m,d,u,e,Bi,Md,f,Ad),wt()),m[0].length>0?g?(g.p(m,y),y&1&&$(g,1)):(g=Pd(m),g.c(),$(g,1),g.m(e,null)):g&&(yt(),te(g,1,1,()=>{g=null}),wt())},i(m){if(!a){$(i.$$.fragment,m);for(let y=0;y<d.length;y+=1)$(s[y]);$(g),a=!0}},o(m){te(i.$$.fragment,m);for(let y=0;y<s.length;y+=1)te(s[y]);te(g),a=!1},d(m){m&&Z(e),pe(i);for(let y=0;y<s.length;y+=1)s[y].d();g&&g.d()}}}function S6(t,e,n){let i,l,{defaultEdgeOptions:s}=e;const{visibleEdges:u,edgesInitialized:f,edges:{setDefaultOptions:a}}=dt();he(t,u,y=>n(0,i=y)),he(t,f,y=>n(1,l=y)),uo(()=>{s&&a(s)});function d(y){lt.call(this,t,y)}function h(y){lt.call(this,t,y)}const g=()=>{Cn(f,l=!0,l)},m=()=>{Cn(f,l=!1,l)};return t.$$set=y=>{"defaultEdgeOptions"in y&&n(4,s=y.defaultEdgeOptions)},[i,l,u,f,s,d,h,g,m]}class k6 extends ze{constructor(e){super(),He(this,e,S6,p6,Le,{defaultEdgeOptions:4})}}const C6=k6;function Td(t){let e;return{c(){e=_e("div"),C(e,"class","svelte-flow__selection svelte-1iugwpu"),Be(e,"width",typeof t[2]=="string"?t[2]:`${t[2]}px`),Be(e,"height",typeof t[3]=="string"?t[3]:`${t[3]}px`),Be(e,"transform",`translate(${t[0]}px, ${t[1]}px)`)},m(n,i){j(n,e,i)},p(n,i){i&4&&Be(e,"width",typeof n[2]=="string"?n[2]:`${n[2]}px`),i&8&&Be(e,"height",typeof n[3]=="string"?n[3]:`${n[3]}px`),i&3&&Be(e,"transform",`translate(${n[0]}px, ${n[1]}px)`)},d(n){n&&Z(e)}}}function E6(t){let e,n=t[4]&&Td(t);return{c(){n&&n.c(),e=bt()},m(i,l){n&&n.m(i,l),j(i,e,l)},p(i,[l]){i[4]?n?n.p(i,l):(n=Td(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Oe,o:Oe,d(i){i&&Z(e),n&&n.d(i)}}}function A6(t,e,n){let{x:i=0}=e,{y:l=0}=e,{width:s=0}=e,{height:u=0}=e,{isVisible:f=!0}=e;return t.$$set=a=>{"x"in a&&n(0,i=a.x),"y"in a&&n(1,l=a.y),"width"in a&&n(2,s=a.width),"height"in a&&n(3,u=a.height),"isVisible"in a&&n(4,f=a.isVisible)},[i,l,s,u,f]}class M6 extends ze{constructor(e){super(),He(this,e,A6,E6,Le,{x:0,y:1,width:2,height:3,isVisible:4})}}const p1=M6;function P6(t){var i,l,s,u;let e,n;return e=new p1({props:{isVisible:!!(t[0]&&t[1]==="user"),width:(i=t[0])==null?void 0:i.width,height:(l=t[0])==null?void 0:l.height,x:(s=t[0])==null?void 0:s.x,y:(u=t[0])==null?void 0:u.y}}),{c(){Se(e.$$.fragment)},m(f,a){ve(e,f,a),n=!0},p(f,[a]){var h,g,m,y;const d={};a&3&&(d.isVisible=!!(f[0]&&f[1]==="user")),a&1&&(d.width=(h=f[0])==null?void 0:h.width),a&1&&(d.height=(g=f[0])==null?void 0:g.height),a&1&&(d.x=(m=f[0])==null?void 0:m.x),a&1&&(d.y=(y=f[0])==null?void 0:y.y),e.$set(d)},i(f){n||($(e.$$.fragment,f),n=!0)},o(f){te(e.$$.fragment,f),n=!1},d(f){pe(e,f)}}}function T6(t,e,n){let i,l;const{selectionRect:s,selectionRectMode:u}=dt();return he(t,s,f=>n(0,i=f)),he(t,u,f=>n(1,l=f)),[i,l,s,u]}class O6 extends ze{constructor(e){super(),He(this,e,T6,P6,Le,{})}}function Od(t){let e,n,i,l,s;return n=new p1({props:{width:"100%",height:"100%",x:0,y:0}}),{c(){e=_e("div"),Se(n.$$.fragment),C(e,"class","selection-wrapper nopan svelte-5pxri"),Be(e,"width",t[1].width+"px"),Be(e,"height",t[1].height+"px"),Be(e,"transform","translate("+t[1].x+"px, "+t[1].y+"px)"),C(e,"role","button"),C(e,"tabindex","-1")},m(u,f){j(u,e,f),ve(n,e,null),i=!0,l||(s=[Gt(v1.call(null,e,{disabled:!1,store:t[3],onDrag:t[10],onDragStart:t[11],onDragStop:t[12]})),Ne(e,"contextmenu",t[7]),Ne(e,"click",t[8]),Ne(e,"keyup",N6)],l=!0)},p(u,f){(!i||f&2)&&Be(e,"width",u[1].width+"px"),(!i||f&2)&&Be(e,"height",u[1].height+"px"),(!i||f&2)&&Be(e,"transform","translate("+u[1].x+"px, "+u[1].y+"px)")},i(u){i||($(n.$$.fragment,u),i=!0)},o(u){te(n.$$.fragment,u),i=!1},d(u){u&&Z(e),pe(n),l=!1,vt(s)}}}function I6(t){let e,n,i=t[0]&&t[2]==="nodes"&&Od(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),j(l,e,s),n=!0},p(l,[s]){l[0]&&l[2]==="nodes"?i?(i.p(l,s),s&5&&$(i,1)):(i=Od(l),i.c(),$(i,1),i.m(e.parentNode,e)):i&&(yt(),te(i,1,1,()=>{i=null}),wt())},i(l){n||($(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}const N6=()=>{};function H6(t,e,n){let i,l,s,u;const f=dt(),{selectionRectMode:a,nodes:d}=f;he(t,a,w=>n(2,u=w)),he(t,d,w=>n(9,s=w));const h=Wl(),g=k1();function m(w){h("selectioncontextmenu",{nodes:i,event:w})}function y(w){h("selectionclick",{nodes:i,event:w})}const b=(w,N,S,T)=>{g("nodedrag",{event:w,targetNode:null,nodes:T})},p=(w,N,S,T)=>{g("nodedragstart",{event:w,targetNode:null,nodes:T})},A=(w,N,S,T)=>{g("nodedragstop",{event:w,targetNode:null,nodes:T})};return t.$$.update=()=>{t.$$.dirty&512&&n(0,i=s.filter(w=>w.selected)),t.$$.dirty&1&&n(1,l=ho(i))},[i,l,u,f,a,d,g,m,y,s,b,p,A]}class z6 extends ze{constructor(e){super(),He(this,e,H6,I6,Le,{})}}function Fn(t,e){let{enabled:n=!0,trigger:i,type:l="keydown"}=e;function s(u){const f=Array.isArray(i)?i:[i],a={alt:u.altKey,ctrl:u.ctrlKey,shift:u.shiftKey,meta:u.metaKey};for(const d of f){const h={modifier:[],preventDefault:!1,enabled:!0,...d},{modifier:g,key:m,callback:y,preventDefault:b,enabled:p}=h;if(p){if(g.length&&!(Array.isArray(g)?g:[g]).map(N=>typeof N=="string"?[N]:N).some(N=>N.every(S=>a[S])))continue;if(u.key===m){b&&u.preventDefault();const A={node:t,trigger:h,originalEvent:u};t.dispatchEvent(new CustomEvent("shortcut",{detail:A})),y==null||y(A)}}}}return n&&t.addEventListener(l,s),{update:u=>{const{enabled:f=!0,type:a="keydown"}=u;n&&(!f||l!==a)?t.removeEventListener(l,s):!n&&f&&t.addEventListener(a,s),n=f,l=a,i=u.trigger},destroy:()=>{t.removeEventListener(l,s)}}}function L6(t){let e,n,i,l,s,u,f,a,d,h,g,m;return{c:Oe,m(y,b){g||(m=[Gt(e=Fn.call(null,window,{trigger:Et(t[0],t[11]),type:"keydown"})),Gt(n=Fn.call(null,window,{trigger:Et(t[0],t[12]),type:"keyup"})),Gt(i=Fn.call(null,window,{trigger:Et(t[1],t[13]),type:"keydown"})),Gt(l=Fn.call(null,window,{trigger:Et(t[1],t[14]),type:"keyup"})),Gt(s=Fn.call(null,window,{trigger:Et(t[2],t[15]),type:"keydown"})),Gt(u=Fn.call(null,window,{trigger:Et(t[2],t[16]),type:"keyup"})),Gt(f=Fn.call(null,window,{trigger:Et(t[3],t[17]),type:"keydown"})),Gt(a=Fn.call(null,window,{trigger:Et(t[3],t[18]),type:"keyup"})),Gt(d=Fn.call(null,window,{trigger:Et(t[4],t[19]),type:"keydown"})),Gt(h=Fn.call(null,window,{trigger:Et(t[4],t[20]),type:"keyup"})),Ne(window,"blur",t[10]),Ne(window,"contextmenu",t[10])],g=!0)},p(y,[b]){e&&gt(e.update)&&b&1&&e.update.call(null,{trigger:Et(y[0],y[11]),type:"keydown"}),n&&gt(n.update)&&b&1&&n.update.call(null,{trigger:Et(y[0],y[12]),type:"keyup"}),i&&gt(i.update)&&b&2&&i.update.call(null,{trigger:Et(y[1],y[13]),type:"keydown"}),l&&gt(l.update)&&b&2&&l.update.call(null,{trigger:Et(y[1],y[14]),type:"keyup"}),s&&gt(s.update)&&b&4&&s.update.call(null,{trigger:Et(y[2],y[15]),type:"keydown"}),u&&gt(u.update)&&b&4&&u.update.call(null,{trigger:Et(y[2],y[16]),type:"keyup"}),f&&gt(f.update)&&b&8&&f.update.call(null,{trigger:Et(y[3],y[17]),type:"keydown"}),a&&gt(a.update)&&b&8&&a.update.call(null,{trigger:Et(y[3],y[18]),type:"keyup"}),d&&gt(d.update)&&b&16&&d.update.call(null,{trigger:Et(y[4],y[19]),type:"keydown"}),h&&gt(h.update)&&b&16&&h.update.call(null,{trigger:Et(y[4],y[20]),type:"keyup"})},i:Oe,o:Oe,d(y){g=!1,vt(m)}}}function S1(t){return t!==null&&typeof t=="object"}function R6(t){return S1(t)?t.modifier||[]:[]}function D6(t){return t==null?"":S1(t)?t.key:t}function Et(t,e){return(Array.isArray(t)?t:[t]).map(i=>{const l=D6(i);return{key:l,modifier:R6(i),enabled:l!==null,callback:e}})}function W6(t,e,n){let{selectionKey:i="Shift"}=e,{multiSelectionKey:l=zl()?"Meta":"Control"}=e,{deleteKey:s="Backspace"}=e,{panActivationKey:u=" "}=e,{zoomActivationKey:f=zl()?"Meta":"Control"}=e;const{selectionKeyPressed:a,multiselectionKeyPressed:d,deleteKeyPressed:h,panActivationKeyPressed:g,zoomActivationKeyPressed:m,selectionRect:y}=dt();function b(){y.set(null),a.set(!1),d.set(!1),h.set(!1),g.set(!1),m.set(!1)}const p=()=>a.set(!0),A=()=>a.set(!1),w=()=>d.set(!0),N=()=>d.set(!1),S=W=>{!(W.originalEvent.ctrlKey||W.originalEvent.metaKey||W.originalEvent.shiftKey)&&!Jp(W.originalEvent)&&h.set(!0)},T=()=>h.set(!1),M=()=>g.set(!0),I=()=>g.set(!1),H=()=>m.set(!0),L=()=>m.set(!1);return t.$$set=W=>{"selectionKey"in W&&n(0,i=W.selectionKey),"multiSelectionKey"in W&&n(1,l=W.multiSelectionKey),"deleteKey"in W&&n(2,s=W.deleteKey),"panActivationKey"in W&&n(3,u=W.panActivationKey),"zoomActivationKey"in W&&n(4,f=W.zoomActivationKey)},[i,l,s,u,f,a,d,h,g,m,b,p,A,w,N,S,T,M,I,H,L]}class B6 extends ze{constructor(e){super(),He(this,e,W6,L6,Le,{selectionKey:0,multiSelectionKey:1,deleteKey:2,panActivationKey:3,zoomActivationKey:4})}}const X6=B6,Y6=t=>({}),Id=t=>({});function Nd(t){let e,n,i,l;const s=t[10].connectionLine,u=Xt(s,t,t[9],Id);let f=!t[2]&&Hd(t);return{c(){e=Fe("svg"),n=Fe("g"),u&&u.c(),f&&f.c(),C(n,"class",i=it(["svelte-flow__connection",t[3].status])),C(e,"width",t[4]),C(e,"height",t[5]),C(e,"class","svelte-flow__connectionline"),C(e,"style",t[0])},m(a,d){j(a,e,d),ue(e,n),u&&u.m(n,null),f&&f.m(n,null),l=!0},p(a,d){u&&u.p&&(!l||d&512)&&Ft(u,s,a,a[9],l?Yt(s,a[9],d,Y6):Vt(a[9]),Id),a[2]?f&&(f.d(1),f=null):f?f.p(a,d):(f=Hd(a),f.c(),f.m(n,null)),(!l||d&8&&i!==(i=it(["svelte-flow__connection",a[3].status])))&&C(n,"class",i),(!l||d&16)&&C(e,"width",a[4]),(!l||d&32)&&C(e,"height",a[5]),(!l||d&1)&&C(e,"style",a[0])},i(a){l||($(u,a),l=!0)},o(a){te(u,a),l=!1},d(a){a&&Z(e),u&&u.d(a),f&&f.d()}}}function Hd(t){let e,n;return{c(){e=Fe("path"),C(e,"d",n=t[3].path),C(e,"style",t[1]),C(e,"fill","none"),C(e,"class","svelte-flow__connection-path")},m(i,l){j(i,e,l)},p(i,l){l&8&&n!==(n=i[3].path)&&C(e,"d",n),l&2&&C(e,"style",i[1])},d(i){i&&Z(e)}}}function F6(t){let e,n,i=t[3].path&&Nd(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),j(l,e,s),n=!0},p(l,[s]){l[3].path?i?(i.p(l,s),s&8&&$(i,1)):(i=Nd(l),i.c(),$(i,1),i.m(e.parentNode,e)):i&&(yt(),te(i,1,1,()=>{i=null}),wt())},i(l){n||($(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}function V6(t,e,n){let i,l,s,{$$slots:u={},$$scope:f}=e,{containerStyle:a=""}=e,{style:d=""}=e,{isCustomComponent:h=!1}=e;const{width:g,height:m,connection:y}=dt();return he(t,g,b=>n(4,l=b)),he(t,m,b=>n(5,s=b)),he(t,y,b=>n(3,i=b)),t.$$set=b=>{"containerStyle"in b&&n(0,a=b.containerStyle),"style"in b&&n(1,d=b.style),"isCustomComponent"in b&&n(2,h=b.isCustomComponent),"$$scope"in b&&n(9,f=b.$$scope)},[a,d,h,i,l,s,g,m,y,f,u]}class K6 extends ze{constructor(e){super(),He(this,e,V6,F6,Le,{containerStyle:0,style:1,isCustomComponent:2})}}const U6=K6;function q6(t){let e,n,i;const l=t[6].default,s=Xt(l,t,t[5],null);let u=[{class:n=it(["svelte-flow__panel",t[1],...t[2]])},{style:t[0]},t[3]],f={};for(let a=0;a<u.length;a+=1)f=Kt(f,u[a]);return{c(){e=_e("div"),s&&s.c(),dr(e,f)},m(a,d){j(a,e,d),s&&s.m(e,null),i=!0},p(a,[d]){s&&s.p&&(!i||d&32)&&Ft(s,l,a,a[5],i?Yt(l,a[5],d,null):Vt(a[5]),null),dr(e,f=si(u,[(!i||d&6&&n!==(n=it(["svelte-flow__panel",a[1],...a[2]])))&&{class:n},(!i||d&1)&&{style:a[0]},d&8&&a[3]]))},i(a){i||($(s,a),i=!0)},o(a){te(s,a),i=!1},d(a){a&&Z(e),s&&s.d(a)}}}function x6(t,e,n){let i;const l=["position","style","class"];let s=ar(e,l),{$$slots:u={},$$scope:f}=e,{position:a="top-right"}=e,{style:d=void 0}=e,{class:h=void 0}=e;return t.$$set=g=>{e=Kt(Kt({},e),Zu(g)),n(3,s=ar(e,l)),"position"in g&&n(4,a=g.position),"style"in g&&n(0,d=g.style),"class"in g&&n(1,h=g.class),"$$scope"in g&&n(5,f=g.$$scope)},t.$$.update=()=>{t.$$.dirty&16&&n(2,i=`${a}`.split("-"))},[d,h,i,s,a,f,u]}class vr extends ze{constructor(e){super(),He(this,e,x6,q6,Le,{position:4,style:0,class:1})}}function zd(t){let e,n;return e=new vr({props:{position:t[1],class:"svelte-flow__attribution","data-message":"Feel free to remove the attribution or check out how you could support us: https://svelteflow.dev/support-us",$$slots:{default:[G6]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&2&&(s.position=i[1]),l&4&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function G6(t){let e;return{c(){e=_e("a"),e.textContent="Svelte Flow",C(e,"href","https://svelteflow.dev"),C(e,"target","_blank"),C(e,"rel","noopener noreferrer"),C(e,"aria-label","Svelte Flow attribution")},m(n,i){j(n,e,i)},p:Oe,d(n){n&&Z(e)}}}function Z6(t){var l;let e,n,i=!((l=t[0])!=null&&l.hideAttribution)&&zd(t);return{c(){i&&i.c(),e=bt()},m(s,u){i&&i.m(s,u),j(s,e,u),n=!0},p(s,[u]){var f;(f=s[0])!=null&&f.hideAttribution?i&&(yt(),te(i,1,1,()=>{i=null}),wt()):i?(i.p(s,u),u&1&&$(i,1)):(i=zd(s),i.c(),$(i,1),i.m(e.parentNode,e))},i(s){n||($(i),n=!0)},o(s){te(i),n=!1},d(s){s&&Z(e),i&&i.d(s)}}}function J6(t,e,n){let{proOptions:i=void 0}=e,{position:l="bottom-right"}=e;return t.$$set=s=>{"proOptions"in s&&n(0,i=s.proOptions),"position"in s&&n(1,l=s.position)},[i,l]}class Q6 extends ze{constructor(e){super(),He(this,e,J6,Z6,Le,{proOptions:0,position:1})}}const j6=Q6;function Ld(t,{nodeTypes:e,edgeTypes:n,minZoom:i,maxZoom:l,translateExtent:s}){e!==void 0&&t.setNodeTypes(e),n!==void 0&&t.setEdgeTypes(n),i!==void 0&&t.setMinZoom(i),l!==void 0&&t.setMaxZoom(l),s!==void 0&&t.setTranslateExtent(s)}const $6=t=>Object.keys(t);function e8(t,e){$6(e).forEach(n=>{const i=e[n];i!==void 0&&t[n].set(i)})}function t8(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function n8(t="light"){return On("light",n=>{if(t!=="system"){n(t);return}const i=t8(),l=()=>n(i!=null&&i.matches?"dark":"light");return n(i!=null&&i.matches?"dark":"light"),i==null||i.addEventListener("change",l),()=>{i==null||i.removeEventListener("change",l)}})}const i8=t=>({}),Rd=t=>({slot:"connectionLine"});function r8(t){let e;const n=t[70].connectionLine,i=Xt(n,t,t[92],Rd);return{c(){i&&i.c()},m(l,s){i&&i.m(l,s),e=!0},p(l,s){i&&i.p&&(!e||s[2]&1073741824)&&Ft(i,n,l,l[92],e?Yt(n,l[92],s,i8):Vt(l[92]),Rd)},i(l){e||($(i,l),e=!0)},o(l){te(i,l),e=!1},d(l){i&&i.d(l)}}}function o8(t){let e,n,i,l,s,u,f,a,d,h,g,m;return e=new C6({props:{defaultEdgeOptions:t[21]}}),e.$on("edgeclick",t[73]),e.$on("edgecontextmenu",t[74]),i=new U6({props:{containerStyle:t[7],style:t[6],isCustomComponent:t[31].connectionLine,$$slots:{connectionLine:[r8]},$$scope:{ctx:t}}}),d=new o6({}),d.$on("nodeclick",t[75]),d.$on("nodemouseenter",t[76]),d.$on("nodemousemove",t[77]),d.$on("nodemouseleave",t[78]),d.$on("nodedragstart",t[79]),d.$on("nodedrag",t[80]),d.$on("nodedragstop",t[81]),d.$on("nodecontextmenu",t[82]),g=new z6({}),g.$on("selectionclick",t[83]),g.$on("selectioncontextmenu",t[84]),g.$on("nodedragstart",t[85]),g.$on("nodedrag",t[86]),g.$on("nodedragstop",t[87]),{c(){Se(e.$$.fragment),n=ke(),Se(i.$$.fragment),l=ke(),s=_e("div"),u=ke(),f=_e("div"),a=ke(),Se(d.$$.fragment),h=ke(),Se(g.$$.fragment),C(s,"class","svelte-flow__edgelabel-renderer"),C(f,"class","svelte-flow__viewport-portal")},m(y,b){ve(e,y,b),j(y,n,b),ve(i,y,b),j(y,l,b),j(y,s,b),j(y,u,b),j(y,f,b),j(y,a,b),ve(d,y,b),j(y,h,b),ve(g,y,b),m=!0},p(y,b){const p={};b[0]&2097152&&(p.defaultEdgeOptions=y[21]),e.$set(p);const A={};b[0]&128&&(A.containerStyle=y[7]),b[0]&64&&(A.style=y[6]),b[1]&1&&(A.isCustomComponent=y[31].connectionLine),b[2]&1073741824&&(A.$$scope={dirty:b,ctx:y}),i.$set(A)},i(y){m||($(e.$$.fragment,y),$(i.$$.fragment,y),$(d.$$.fragment,y),$(g.$$.fragment,y),m=!0)},o(y){te(e.$$.fragment,y),te(i.$$.fragment,y),te(d.$$.fragment,y),te(g.$$.fragment,y),m=!1},d(y){y&&(Z(n),Z(l),Z(s),Z(u),Z(f),Z(a),Z(h)),pe(e,y),pe(i,y),pe(d,y),pe(g,y)}}}function l8(t){let e,n,i,l;return e=new J4({props:{$$slots:{default:[o8]},$$scope:{ctx:t}}}),i=new O6({}),{c(){Se(e.$$.fragment),n=ke(),Se(i.$$.fragment)},m(s,u){ve(e,s,u),j(s,n,u),ve(i,s,u),l=!0},p(s,u){const f={};u[0]&2097344|u[1]&1|u[2]&1073741824&&(f.$$scope={dirty:u,ctx:s}),e.$set(f)},i(s){l||($(e.$$.fragment,s),$(i.$$.fragment,s),l=!0)},o(s){te(e.$$.fragment,s),te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(e,s),pe(i,s)}}}function s8(t){let e,n;return e=new x4({props:{panOnDrag:t[17]===void 0?!0:t[17],selectionOnDrag:t[18],$$slots:{default:[l8]},$$scope:{ctx:t}}}),e.$on("paneclick",t[88]),e.$on("panecontextmenu",t[89]),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l[0]&131072&&(s.panOnDrag=i[17]===void 0?!0:i[17]),l[0]&262144&&(s.selectionOnDrag=i[18]),l[0]&2097344|l[1]&1|l[2]&1073741824&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function u8(t){let e,n,i,l,s,u,f,a,d,h,g,m;n=new X6({props:{selectionKey:t[1],deleteKey:t[5],panActivationKey:t[2],multiSelectionKey:t[3],zoomActivationKey:t[4]}}),l=new V4({props:{initialViewport:t[0],onMoveStart:t[8],onMove:t[9],onMoveEnd:t[10],panOnScrollMode:t[11]===void 0?Kn.Free:t[11],preventScrolling:t[12]===void 0?!0:t[12],zoomOnScroll:t[13]===void 0?!0:t[13],zoomOnDoubleClick:t[14]===void 0?!0:t[14],zoomOnPinch:t[15]===void 0?!0:t[15],panOnScroll:t[16]===void 0?!1:t[16],panOnDrag:t[17]===void 0?!0:t[17],$$slots:{default:[s8]},$$scope:{ctx:t}}}),u=new j6({props:{proOptions:t[20],position:t[19]}});const y=t[70].default,b=Xt(y,t,t[92],null);let p=[{style:t[22]},{class:a=it(["svelte-flow",t[23],t[28]])},{"data-testid":"svelte-flow__wrapper"},t[30],{role:"application"}],A={};for(let w=0;w<p.length;w+=1)A=Kt(A,p[w]);return{c(){e=_e("div"),Se(n.$$.fragment),i=ke(),Se(l.$$.fragment),s=ke(),Se(u.$$.fragment),f=ke(),b&&b.c(),dr(e,A),Cl(()=>t[91].call(e)),Xe(e,"svelte-12wlba6",!0)},m(w,N){j(w,e,N),ve(n,e,null),ue(e,i),ve(l,e,null),ue(e,s),ve(u,e,null),ue(e,f),b&&b.m(e,null),t[90](e),d=Qw(e,t[91].bind(e)),h=!0,g||(m=[Ne(e,"dragover",t[71]),Ne(e,"drop",t[72])],g=!0)},p(w,N){const S={};N[0]&2&&(S.selectionKey=w[1]),N[0]&32&&(S.deleteKey=w[5]),N[0]&4&&(S.panActivationKey=w[2]),N[0]&8&&(S.multiSelectionKey=w[3]),N[0]&16&&(S.zoomActivationKey=w[4]),n.$set(S);const T={};N[0]&1&&(T.initialViewport=w[0]),N[0]&256&&(T.onMoveStart=w[8]),N[0]&512&&(T.onMove=w[9]),N[0]&1024&&(T.onMoveEnd=w[10]),N[0]&2048&&(T.panOnScrollMode=w[11]===void 0?Kn.Free:w[11]),N[0]&4096&&(T.preventScrolling=w[12]===void 0?!0:w[12]),N[0]&8192&&(T.zoomOnScroll=w[13]===void 0?!0:w[13]),N[0]&16384&&(T.zoomOnDoubleClick=w[14]===void 0?!0:w[14]),N[0]&32768&&(T.zoomOnPinch=w[15]===void 0?!0:w[15]),N[0]&65536&&(T.panOnScroll=w[16]===void 0?!1:w[16]),N[0]&131072&&(T.panOnDrag=w[17]===void 0?!0:w[17]),N[0]&2490560|N[1]&1|N[2]&1073741824&&(T.$$scope={dirty:N,ctx:w}),l.$set(T);const M={};N[0]&1048576&&(M.proOptions=w[20]),N[0]&524288&&(M.position=w[19]),u.$set(M),b&&b.p&&(!h||N[2]&1073741824)&&Ft(b,y,w,w[92],h?Yt(y,w[92],N,null):Vt(w[92]),null),dr(e,A=si(p,[(!h||N[0]&4194304)&&{style:w[22]},(!h||N[0]&276824064&&a!==(a=it(["svelte-flow",w[23],w[28]])))&&{class:a},{"data-testid":"svelte-flow__wrapper"},N[0]&1073741824&&w[30],{role:"application"}])),Xe(e,"svelte-12wlba6",!0)},i(w){h||($(n.$$.fragment,w),$(l.$$.fragment,w),$(u.$$.fragment,w),$(b,w),h=!0)},o(w){te(n.$$.fragment,w),te(l.$$.fragment,w),te(u.$$.fragment,w),te(b,w),h=!1},d(w){w&&Z(e),pe(n),pe(l),pe(u),b&&b.d(w),t[90](null),d(),g=!1,vt(m)}}}function f8(t,e,n){let i;const l=["id","nodes","edges","fitView","fitViewOptions","minZoom","maxZoom","initialViewport","viewport","nodeTypes","edgeTypes","selectionKey","selectionMode","panActivationKey","multiSelectionKey","zoomActivationKey","nodesDraggable","nodesConnectable","nodeDragThreshold","elementsSelectable","snapGrid","deleteKey","connectionRadius","connectionLineType","connectionMode","connectionLineStyle","connectionLineContainerStyle","onMoveStart","onMove","onMoveEnd","isValidConnection","translateExtent","onlyRenderVisibleElements","panOnScrollMode","preventScrolling","zoomOnScroll","zoomOnDoubleClick","zoomOnPinch","panOnScroll","panOnDrag","selectionOnDrag","autoPanOnConnect","autoPanOnNodeDrag","onerror","ondelete","onedgecreate","attributionPosition","proOptions","defaultEdgeOptions","width","height","colorMode","onconnect","onconnectstart","onconnectend","onbeforedelete","oninit","defaultMarkerColor","style","class"];let s=ar(e,l),u,f,a=Oe,d=()=>(a(),a=Dl(i,U=>n(28,f=U)),i);t.$$.on_destroy.push(()=>a());let{$$slots:h={},$$scope:g}=e;const m=Uw(h);let{id:y="1"}=e,{nodes:b}=e,{edges:p}=e,{fitView:A=void 0}=e,{fitViewOptions:w=void 0}=e,{minZoom:N=void 0}=e,{maxZoom:S=void 0}=e,{initialViewport:T={x:0,y:0,zoom:1}}=e,{viewport:M=void 0}=e,{nodeTypes:I=void 0}=e,{edgeTypes:H=void 0}=e,{selectionKey:L=void 0}=e,{selectionMode:W=void 0}=e,{panActivationKey:q=void 0}=e,{multiSelectionKey:P=void 0}=e,{zoomActivationKey:X=void 0}=e,{nodesDraggable:D=void 0}=e,{nodesConnectable:O=void 0}=e,{nodeDragThreshold:V=void 0}=e,{elementsSelectable:Y=void 0}=e,{snapGrid:G=void 0}=e,{deleteKey:x=void 0}=e,{connectionRadius:Q=void 0}=e,{connectionLineType:ae=void 0}=e,{connectionMode:ce=Ai.Strict}=e,{connectionLineStyle:ee=""}=e,{connectionLineContainerStyle:be=""}=e,{onMoveStart:Me=void 0}=e,{onMove:Ae=void 0}=e,{onMoveEnd:R=void 0}=e,{isValidConnection:ge=void 0}=e,{translateExtent:me=void 0}=e,{onlyRenderVisibleElements:oe=void 0}=e,{panOnScrollMode:le=Kn.Free}=e,{preventScrolling:Ye=!0}=e,{zoomOnScroll:Ue=!0}=e,{zoomOnDoubleClick:et=!0}=e,{zoomOnPinch:rt=!0}=e,{panOnScroll:Pe=!1}=e,{panOnDrag:Je=!0}=e,{selectionOnDrag:ut=void 0}=e,{autoPanOnConnect:rn=!0}=e,{autoPanOnNodeDrag:hn=!0}=e,{onerror:Ce=void 0}=e,{ondelete:Ct=void 0}=e,{onedgecreate:Jt=void 0}=e,{attributionPosition:gn=void 0}=e,{proOptions:de=void 0}=e,{defaultEdgeOptions:Tt=void 0}=e,{width:Nt=void 0}=e,{height:ye=void 0}=e,{colorMode:Dt="light"}=e,{onconnect:Ot=void 0}=e,{onconnectstart:Ht=void 0}=e,{onconnectend:Rn=void 0}=e,{onbeforedelete:Dn=void 0}=e,{oninit:mn=void 0}=e,{defaultMarkerColor:Wn="#b1b1b7"}=e,{style:qn=void 0}=e,{class:xn=void 0}=e,fi,ai,ci;const zt=eb(ql)?dt():W4({nodes:se(b),edges:se(p),width:Nt,height:ye,fitView:A});uo(()=>(zt.width.set(ai),zt.height.set(ci),zt.domNode.set(fi),zt.syncNodeStores(b),zt.syncEdgeStores(p),zt.syncViewport(M),A!==void 0&&zt.fitViewOnInit.set(A),w&&zt.fitViewOptions.set(w),Ld(zt,{nodeTypes:I,edgeTypes:H,minZoom:N,maxZoom:S,translateExtent:me}),()=>{zt.reset()}));const{initialized:Cr}=zt;he(t,Cr,U=>n(69,u=U));let Yi=!1;function Gl(U){lt.call(this,t,U)}function Zl(U){lt.call(this,t,U)}function Jl(U){lt.call(this,t,U)}function Ql(U){lt.call(this,t,U)}function _o(U){lt.call(this,t,U)}function jl(U){lt.call(this,t,U)}function $l(U){lt.call(this,t,U)}function es(U){lt.call(this,t,U)}function Er(U){lt.call(this,t,U)}function ts(U){lt.call(this,t,U)}function Ar(U){lt.call(this,t,U)}function ns(U){lt.call(this,t,U)}function is(U){lt.call(this,t,U)}function rs(U){lt.call(this,t,U)}function os(U){lt.call(this,t,U)}function ls(U){lt.call(this,t,U)}function ss(U){lt.call(this,t,U)}function us(U){lt.call(this,t,U)}function fs(U){lt.call(this,t,U)}function yo(U){En[U?"unshift":"push"](()=>{fi=U,n(26,fi)})}function as(){ai=this.clientWidth,ci=this.clientHeight,n(24,ai),n(25,ci)}return t.$$set=U=>{e=Kt(Kt({},e),Zu(U)),n(30,s=ar(e,l)),"id"in U&&n(32,y=U.id),"nodes"in U&&n(33,b=U.nodes),"edges"in U&&n(34,p=U.edges),"fitView"in U&&n(35,A=U.fitView),"fitViewOptions"in U&&n(36,w=U.fitViewOptions),"minZoom"in U&&n(37,N=U.minZoom),"maxZoom"in U&&n(38,S=U.maxZoom),"initialViewport"in U&&n(0,T=U.initialViewport),"viewport"in U&&n(39,M=U.viewport),"nodeTypes"in U&&n(40,I=U.nodeTypes),"edgeTypes"in U&&n(41,H=U.edgeTypes),"selectionKey"in U&&n(1,L=U.selectionKey),"selectionMode"in U&&n(42,W=U.selectionMode),"panActivationKey"in U&&n(2,q=U.panActivationKey),"multiSelectionKey"in U&&n(3,P=U.multiSelectionKey),"zoomActivationKey"in U&&n(4,X=U.zoomActivationKey),"nodesDraggable"in U&&n(43,D=U.nodesDraggable),"nodesConnectable"in U&&n(44,O=U.nodesConnectable),"nodeDragThreshold"in U&&n(45,V=U.nodeDragThreshold),"elementsSelectable"in U&&n(46,Y=U.elementsSelectable),"snapGrid"in U&&n(47,G=U.snapGrid),"deleteKey"in U&&n(5,x=U.deleteKey),"connectionRadius"in U&&n(48,Q=U.connectionRadius),"connectionLineType"in U&&n(49,ae=U.connectionLineType),"connectionMode"in U&&n(50,ce=U.connectionMode),"connectionLineStyle"in U&&n(6,ee=U.connectionLineStyle),"connectionLineContainerStyle"in U&&n(7,be=U.connectionLineContainerStyle),"onMoveStart"in U&&n(8,Me=U.onMoveStart),"onMove"in U&&n(9,Ae=U.onMove),"onMoveEnd"in U&&n(10,R=U.onMoveEnd),"isValidConnection"in U&&n(51,ge=U.isValidConnection),"translateExtent"in U&&n(52,me=U.translateExtent),"onlyRenderVisibleElements"in U&&n(53,oe=U.onlyRenderVisibleElements),"panOnScrollMode"in U&&n(11,le=U.panOnScrollMode),"preventScrolling"in U&&n(12,Ye=U.preventScrolling),"zoomOnScroll"in U&&n(13,Ue=U.zoomOnScroll),"zoomOnDoubleClick"in U&&n(14,et=U.zoomOnDoubleClick),"zoomOnPinch"in U&&n(15,rt=U.zoomOnPinch),"panOnScroll"in U&&n(16,Pe=U.panOnScroll),"panOnDrag"in U&&n(17,Je=U.panOnDrag),"selectionOnDrag"in U&&n(18,ut=U.selectionOnDrag),"autoPanOnConnect"in U&&n(54,rn=U.autoPanOnConnect),"autoPanOnNodeDrag"in U&&n(55,hn=U.autoPanOnNodeDrag),"onerror"in U&&n(56,Ce=U.onerror),"ondelete"in U&&n(57,Ct=U.ondelete),"onedgecreate"in U&&n(58,Jt=U.onedgecreate),"attributionPosition"in U&&n(19,gn=U.attributionPosition),"proOptions"in U&&n(20,de=U.proOptions),"defaultEdgeOptions"in U&&n(21,Tt=U.defaultEdgeOptions),"width"in U&&n(59,Nt=U.width),"height"in U&&n(60,ye=U.height),"colorMode"in U&&n(61,Dt=U.colorMode),"onconnect"in U&&n(62,Ot=U.onconnect),"onconnectstart"in U&&n(63,Ht=U.onconnectstart),"onconnectend"in U&&n(64,Rn=U.onconnectend),"onbeforedelete"in U&&n(65,Dn=U.onbeforedelete),"oninit"in U&&n(66,mn=U.oninit),"defaultMarkerColor"in U&&n(67,Wn=U.defaultMarkerColor),"style"in U&&n(22,qn=U.style),"class"in U&&n(23,xn=U.class),"$$scope"in U&&n(92,g=U.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&50331648&&ai!==void 0&&ci!==void 0&&(zt.width.set(ai),zt.height.set(ci)),t.$$.dirty[2]&208&&!Yi&&u&&(mn==null||mn(),n(68,Yi=!0)),t.$$.dirty[1]&266336258|t.$$.dirty[2]&47&&e8(zt,{flowId:y,connectionLineType:ae,connectionRadius:Q,selectionMode:W,snapGrid:G,defaultMarkerColor:Wn,nodesDraggable:D,nodesConnectable:O,elementsSelectable:Y,onlyRenderVisibleElements:oe,isValidConnection:ge,autoPanOnConnect:rn,autoPanOnNodeDrag:hn,onerror:Ce,ondelete:Ct,onedgecreate:Jt,connectionMode:ce,nodeDragThreshold:V,onconnect:Ot,onconnectstart:Ht,onconnectend:Rn,onbeforedelete:Dn}),t.$$.dirty[1]&2098880&&Ld(zt,{nodeTypes:I,edgeTypes:H,minZoom:N,maxZoom:S,translateExtent:me}),t.$$.dirty[1]&1073741824&&d(n(27,i=n8(Dt)))},[T,L,q,P,X,x,ee,be,Me,Ae,R,le,Ye,Ue,et,rt,Pe,Je,ut,gn,de,Tt,qn,xn,ai,ci,fi,i,f,Cr,s,m,y,b,p,A,w,N,S,M,I,H,W,D,O,V,Y,G,Q,ae,ce,ge,me,oe,rn,hn,Ce,Ct,Jt,Nt,ye,Dt,Ot,Ht,Rn,Dn,mn,Wn,Yi,u,h,Gl,Zl,Jl,Ql,_o,jl,$l,es,Er,ts,Ar,ns,is,rs,os,ls,ss,us,fs,yo,as,g]}class a8 extends ze{constructor(e){super(),He(this,e,f8,u8,Le,{id:32,nodes:33,edges:34,fitView:35,fitViewOptions:36,minZoom:37,maxZoom:38,initialViewport:0,viewport:39,nodeTypes:40,edgeTypes:41,selectionKey:1,selectionMode:42,panActivationKey:2,multiSelectionKey:3,zoomActivationKey:4,nodesDraggable:43,nodesConnectable:44,nodeDragThreshold:45,elementsSelectable:46,snapGrid:47,deleteKey:5,connectionRadius:48,connectionLineType:49,connectionMode:50,connectionLineStyle:6,connectionLineContainerStyle:7,onMoveStart:8,onMove:9,onMoveEnd:10,isValidConnection:51,translateExtent:52,onlyRenderVisibleElements:53,panOnScrollMode:11,preventScrolling:12,zoomOnScroll:13,zoomOnDoubleClick:14,zoomOnPinch:15,panOnScroll:16,panOnDrag:17,selectionOnDrag:18,autoPanOnConnect:54,autoPanOnNodeDrag:55,onerror:56,ondelete:57,onedgecreate:58,attributionPosition:19,proOptions:20,defaultEdgeOptions:21,width:59,height:60,colorMode:61,onconnect:62,onconnectstart:63,onconnectend:64,onbeforedelete:65,oninit:66,defaultMarkerColor:67,style:22,class:23},null,[-1,-1,-1,-1])}}const c8=a8;function d8(t){let e;const n=t[6].default,i=Xt(n,t,t[5],null);return{c(){i&&i.c()},m(l,s){i&&i.m(l,s),e=!0},p(l,[s]){i&&i.p&&(!e||s&32)&&Ft(i,n,l,l[5],e?Yt(n,l[5],s,null):Vt(l[5]),null)},i(l){e||($(i,l),e=!0)},o(l){te(i,l),e=!1},d(l){i&&i.d(l)}}}function h8(t,e,n){let{$$slots:i={},$$scope:l}=e,{initialNodes:s=void 0}=e,{initialEdges:u=void 0}=e,{initialWidth:f=void 0}=e,{initialHeight:a=void 0}=e,{fitView:d=void 0}=e;const h=b1({nodes:s,edges:u,width:f,height:a,fitView:d});return jr(ql,{getStore:()=>h}),Ju(()=>{h.reset()}),t.$$set=g=>{"initialNodes"in g&&n(0,s=g.initialNodes),"initialEdges"in g&&n(1,u=g.initialEdges),"initialWidth"in g&&n(2,f=g.initialWidth),"initialHeight"in g&&n(3,a=g.initialHeight),"fitView"in g&&n(4,d=g.fitView),"$$scope"in g&&n(5,l=g.$$scope)},[s,u,f,a,d,l,i]}class g8 extends ze{constructor(e){super(),He(this,e,h8,d8,Le,{initialNodes:0,initialEdges:1,initialWidth:2,initialHeight:3,fitView:4})}}const m8=t=>({}),Dd=t=>({class:"button-svg"});function _8(t){let e,n,i,l,s;const u=t[8].default,f=Xt(u,t,t[7],Dd);let a=[{type:"button"},{class:n=it(["svelte-flow__controls-button",t[0]])},t[6]],d={};for(let h=0;h<a.length;h+=1)d=Kt(d,a[h]);return{c(){e=_e("button"),f&&f.c(),dr(e,d),Be(e,"--xy-controls-button-background-color-props",t[1]),Be(e,"--xy-controls-button-background-color-hover-props",t[2]),Be(e,"--xy-controls-button-color-props",t[3]),Be(e,"--xy-controls-button-color-hover-props",t[4]),Be(e,"--xy-controls-button-border-color-props",t[5])},m(h,g){j(h,e,g),f&&f.m(e,null),e.autofocus&&e.focus(),i=!0,l||(s=Ne(e,"click",t[9]),l=!0)},p(h,[g]){f&&f.p&&(!i||g&128)&&Ft(f,u,h,h[7],i?Yt(u,h[7],g,m8):Vt(h[7]),Dd),dr(e,d=si(a,[{type:"button"},(!i||g&1&&n!==(n=it(["svelte-flow__controls-button",h[0]])))&&{class:n},g&64&&h[6]])),Be(e,"--xy-controls-button-background-color-props",h[1]),Be(e,"--xy-controls-button-background-color-hover-props",h[2]),Be(e,"--xy-controls-button-color-props",h[3]),Be(e,"--xy-controls-button-color-hover-props",h[4]),Be(e,"--xy-controls-button-border-color-props",h[5])},i(h){i||($(f,h),i=!0)},o(h){te(f,h),i=!1},d(h){h&&Z(e),f&&f.d(h),l=!1,s()}}}function y8(t,e,n){const i=["class"];let l=ar(e,i),{$$slots:s={},$$scope:u}=e,{class:f=void 0}=e,a,d,h,g,m;function y(b){lt.call(this,t,b)}return t.$$set=b=>{e=Kt(Kt({},e),Zu(b)),n(6,l=ar(e,i)),"class"in b&&n(0,f=b.class),"$$scope"in b&&n(7,u=b.$$scope)},[f,a,d,h,g,m,l,u,s,y]}class pr extends ze{constructor(e){super(),He(this,e,y8,_8,Le,{class:0})}}function w8(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 32 32")},m(i,l){j(i,e,l),ue(e,n)},p:Oe,i:Oe,o:Oe,d(i){i&&Z(e)}}}class b8 extends ze{constructor(e){super(),He(this,e,null,w8,Le,{})}}function v8(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M0 0h32v4.2H0z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 32 5")},m(i,l){j(i,e,l),ue(e,n)},p:Oe,i:Oe,o:Oe,d(i){i&&Z(e)}}}class p8 extends ze{constructor(e){super(),He(this,e,null,v8,Le,{})}}function S8(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 32 30")},m(i,l){j(i,e,l),ue(e,n)},p:Oe,i:Oe,o:Oe,d(i){i&&Z(e)}}}class k8 extends ze{constructor(e){super(),He(this,e,null,S8,Le,{})}}function C8(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 25 32")},m(i,l){j(i,e,l),ue(e,n)},p:Oe,i:Oe,o:Oe,d(i){i&&Z(e)}}}class E8 extends ze{constructor(e){super(),He(this,e,null,C8,Le,{})}}function A8(t){let e,n;return{c(){e=Fe("svg"),n=Fe("path"),C(n,"d","M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"viewBox","0 0 25 32")},m(i,l){j(i,e,l),ue(e,n)},p:Oe,i:Oe,o:Oe,d(i){i&&Z(e)}}}class M8 extends ze{constructor(e){super(),He(this,e,null,A8,Le,{})}}const P8=t=>({}),Wd=t=>({}),T8=t=>({}),Bd=t=>({});function Xd(t){let e,n,i,l;const s=[{class:"svelte-flow__controls-zoomin"},{title:"zoom in"},{"aria-label":"zoom in"},{disabled:t[9]},t[17]];let u={$$slots:{default:[O8]},$$scope:{ctx:t}};for(let d=0;d<s.length;d+=1)u=Kt(u,s[d]);e=new pr({props:u}),e.$on("click",t[18]);const f=[{class:"svelte-flow__controls-zoomout"},{title:"zoom out"},{"aria-label":"zoom out"},{disabled:t[10]},t[17]];let a={$$slots:{default:[I8]},$$scope:{ctx:t}};for(let d=0;d<f.length;d+=1)a=Kt(a,f[d]);return i=new pr({props:a}),i.$on("click",t[19]),{c(){Se(e.$$.fragment),n=ke(),Se(i.$$.fragment)},m(d,h){ve(e,d,h),j(d,n,h),ve(i,d,h),l=!0},p(d,h){const g=h[0]&131584?si(s,[s[0],s[1],s[2],h[0]&512&&{disabled:d[9]},h[0]&131072&&hr(d[17])]):{};h[1]&16&&(g.$$scope={dirty:h,ctx:d}),e.$set(g);const m=h[0]&132096?si(f,[f[0],f[1],f[2],h[0]&1024&&{disabled:d[10]},h[0]&131072&&hr(d[17])]):{};h[1]&16&&(m.$$scope={dirty:h,ctx:d}),i.$set(m)},i(d){l||($(e.$$.fragment,d),$(i.$$.fragment,d),l=!0)},o(d){te(e.$$.fragment,d),te(i.$$.fragment,d),l=!1},d(d){d&&Z(n),pe(e,d),pe(i,d)}}}function O8(t){let e,n;return e=new b8({}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function I8(t){let e,n;return e=new p8({}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function Yd(t){let e,n;const i=[{class:"svelte-flow__controls-fitview"},{title:"fit view"},{"aria-label":"fit view"},t[17]];let l={$$slots:{default:[N8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)l=Kt(l,i[s]);return e=new pr({props:l}),e.$on("click",t[20]),{c(){Se(e.$$.fragment)},m(s,u){ve(e,s,u),n=!0},p(s,u){const f=u[0]&131072?si(i,[i[0],i[1],i[2],hr(s[17])]):{};u[1]&16&&(f.$$scope={dirty:u,ctx:s}),e.$set(f)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){pe(e,s)}}}function N8(t){let e,n;return e=new k8({}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function Fd(t){let e,n;const i=[{class:"svelte-flow__controls-interactive"},{title:"toggle interactivity"},{"aria-label":"toggle interactivity"},t[17]];let l={$$slots:{default:[L8]},$$scope:{ctx:t}};for(let s=0;s<i.length;s+=1)l=Kt(l,i[s]);return e=new pr({props:l}),e.$on("click",t[21]),{c(){Se(e.$$.fragment)},m(s,u){ve(e,s,u),n=!0},p(s,u){const f=u[0]&131072?si(i,[i[0],i[1],i[2],hr(s[17])]):{};u[0]&256|u[1]&16&&(f.$$scope={dirty:u,ctx:s}),e.$set(f)},i(s){n||($(e.$$.fragment,s),n=!0)},o(s){te(e.$$.fragment,s),n=!1},d(s){pe(e,s)}}}function H8(t){let e,n;return e=new E8({}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function z8(t){let e,n;return e=new M8({}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function L8(t){let e,n,i,l;const s=[z8,H8],u=[];function f(a,d){return a[8]?0:1}return e=f(t),n=u[e]=s[e](t),{c(){n.c(),i=bt()},m(a,d){u[e].m(a,d),j(a,i,d),l=!0},p(a,d){let h=e;e=f(a),e!==h&&(yt(),te(u[h],1,1,()=>{u[h]=null}),wt(),n=u[e],n||(n=u[e]=s[e](a),n.c()),$(n,1),n.m(i.parentNode,i))},i(a){l||($(n),l=!0)},o(a){te(n),l=!1},d(a){a&&Z(i),u[e].d(a)}}}function R8(t){let e,n,i,l,s,u;const f=t[34].before,a=Xt(f,t,t[35],Bd);let d=t[1]&&Xd(t),h=t[2]&&Yd(t),g=t[3]&&Fd(t);const m=t[34].default,y=Xt(m,t,t[35],null),b=t[34].after,p=Xt(b,t,t[35],Wd);return{c(){a&&a.c(),e=ke(),d&&d.c(),n=ke(),h&&h.c(),i=ke(),g&&g.c(),l=ke(),y&&y.c(),s=ke(),p&&p.c()},m(A,w){a&&a.m(A,w),j(A,e,w),d&&d.m(A,w),j(A,n,w),h&&h.m(A,w),j(A,i,w),g&&g.m(A,w),j(A,l,w),y&&y.m(A,w),j(A,s,w),p&&p.m(A,w),u=!0},p(A,w){a&&a.p&&(!u||w[1]&16)&&Ft(a,f,A,A[35],u?Yt(f,A[35],w,T8):Vt(A[35]),Bd),A[1]?d?(d.p(A,w),w[0]&2&&$(d,1)):(d=Xd(A),d.c(),$(d,1),d.m(n.parentNode,n)):d&&(yt(),te(d,1,1,()=>{d=null}),wt()),A[2]?h?(h.p(A,w),w[0]&4&&$(h,1)):(h=Yd(A),h.c(),$(h,1),h.m(i.parentNode,i)):h&&(yt(),te(h,1,1,()=>{h=null}),wt()),A[3]?g?(g.p(A,w),w[0]&8&&$(g,1)):(g=Fd(A),g.c(),$(g,1),g.m(l.parentNode,l)):g&&(yt(),te(g,1,1,()=>{g=null}),wt()),y&&y.p&&(!u||w[1]&16)&&Ft(y,m,A,A[35],u?Yt(m,A[35],w,null):Vt(A[35]),null),p&&p.p&&(!u||w[1]&16)&&Ft(p,b,A,A[35],u?Yt(b,A[35],w,P8):Vt(A[35]),Wd)},i(A){u||($(a,A),$(d),$(h),$(g),$(y,A),$(p,A),u=!0)},o(A){te(a,A),te(d),te(h),te(g),te(y,A),te(p,A),u=!1},d(A){A&&(Z(e),Z(n),Z(i),Z(l),Z(s)),a&&a.d(A),d&&d.d(A),h&&h.d(A),g&&g.d(A),y&&y.d(A),p&&p.d(A)}}}function D8(t){let e,n;return e=new vr({props:{class:it(["svelte-flow__controls",t[7],t[6]]),position:t[0],"data-testid":"svelte-flow__controls","aria-label":t[4]??"Svelte Flow controls",style:t[5],$$slots:{default:[R8]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l[0]&192&&(s.class=it(["svelte-flow__controls",i[7],i[6]])),l[0]&1&&(s.position=i[0]),l[0]&16&&(s["aria-label"]=i[4]??"Svelte Flow controls"),l[0]&32&&(s.style=i[5]),l[0]&1806|l[1]&16&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function W8(t,e,n){let i,l,s,u,f,a,d,h,g,m,{$$slots:y={},$$scope:b}=e,{position:p="bottom-left"}=e,{showZoom:A=!0}=e,{showFitView:w=!0}=e,{showLock:N=!0}=e,{buttonBgColor:S=void 0}=e,{buttonBgColorHover:T=void 0}=e,{buttonColor:M=void 0}=e,{buttonColorHover:I=void 0}=e,{buttonBorderColor:H=void 0}=e,{ariaLabel:L=void 0}=e,{style:W=void 0}=e,{orientation:q="vertical"}=e,{class:P=""}=e;const{zoomIn:X,zoomOut:D,fitView:O,viewport:V,minZoom:Y,maxZoom:G,nodesDraggable:x,nodesConnectable:Q,elementsSelectable:ae}=dt();he(t,V,R=>n(29,a=R)),he(t,Y,R=>n(30,d=R)),he(t,G,R=>n(28,f=R)),he(t,x,R=>n(33,m=R)),he(t,Q,R=>n(32,g=R)),he(t,ae,R=>n(31,h=R));const ce={bgColor:S,bgColorHover:T,color:M,colorHover:I,borderColor:H},ee=()=>{X()},be=()=>{D()},Me=()=>{O()},Ae=()=>{n(8,i=!i),x.set(i),Q.set(i),ae.set(i)};return t.$$set=R=>{"position"in R&&n(0,p=R.position),"showZoom"in R&&n(1,A=R.showZoom),"showFitView"in R&&n(2,w=R.showFitView),"showLock"in R&&n(3,N=R.showLock),"buttonBgColor"in R&&n(22,S=R.buttonBgColor),"buttonBgColorHover"in R&&n(23,T=R.buttonBgColorHover),"buttonColor"in R&&n(24,M=R.buttonColor),"buttonColorHover"in R&&n(25,I=R.buttonColorHover),"buttonBorderColor"in R&&n(26,H=R.buttonBorderColor),"ariaLabel"in R&&n(4,L=R.ariaLabel),"style"in R&&n(5,W=R.style),"orientation"in R&&n(27,q=R.orientation),"class"in R&&n(6,P=R.class),"$$scope"in R&&n(35,b=R.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&7&&n(8,i=m||g||h),t.$$.dirty[0]&1610612736&&n(10,l=a.zoom<=d),t.$$.dirty[0]&805306368&&n(9,s=a.zoom>=f),t.$$.dirty[0]&134217728&&n(7,u=q==="horizontal"?"horizontal":"vertical")},[p,A,w,N,L,W,P,u,i,s,l,V,Y,G,x,Q,ae,ce,ee,be,Me,Ae,S,T,M,I,H,q,f,a,d,h,g,m,y,b]}class B8 extends ze{constructor(e){super(),He(this,e,W8,D8,Le,{position:0,showZoom:1,showFitView:2,showLock:3,buttonBgColor:22,buttonBgColorHover:23,buttonColor:24,buttonColorHover:25,buttonBorderColor:26,ariaLabel:4,style:5,orientation:27,class:6},null,[-1,-1])}}var li;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(li||(li={}));function X8(t){let e,n;return{c(){e=Fe("circle"),C(e,"cx",t[0]),C(e,"cy",t[0]),C(e,"r",t[0]),C(e,"class",n=it(["svelte-flow__background-pattern","dots",t[1]]))},m(i,l){j(i,e,l)},p(i,[l]){l&1&&C(e,"cx",i[0]),l&1&&C(e,"cy",i[0]),l&1&&C(e,"r",i[0]),l&2&&n!==(n=it(["svelte-flow__background-pattern","dots",i[1]]))&&C(e,"class",n)},i:Oe,o:Oe,d(i){i&&Z(e)}}}function Y8(t,e,n){let{radius:i=5}=e,{class:l=""}=e;return t.$$set=s=>{"radius"in s&&n(0,i=s.radius),"class"in s&&n(1,l=s.class)},[i,l]}class F8 extends ze{constructor(e){super(),He(this,e,Y8,X8,Le,{radius:0,class:1})}}const V8=F8;function K8(t){let e,n,i;return{c(){e=Fe("path"),C(e,"stroke-width",t[0]),C(e,"d",n=`M${t[1][0]/2} 0 V${t[1][1]} M0 ${t[1][1]/2} H${t[1][0]}`),C(e,"class",i=it(["svelte-flow__background-pattern",t[2],t[3]]))},m(l,s){j(l,e,s)},p(l,[s]){s&1&&C(e,"stroke-width",l[0]),s&2&&n!==(n=`M${l[1][0]/2} 0 V${l[1][1]} M0 ${l[1][1]/2} H${l[1][0]}`)&&C(e,"d",n),s&12&&i!==(i=it(["svelte-flow__background-pattern",l[2],l[3]]))&&C(e,"class",i)},i:Oe,o:Oe,d(l){l&&Z(e)}}}function U8(t,e,n){let{lineWidth:i=1}=e,{dimensions:l}=e,{variant:s=void 0}=e,{class:u=""}=e;return t.$$set=f=>{"lineWidth"in f&&n(0,i=f.lineWidth),"dimensions"in f&&n(1,l=f.dimensions),"variant"in f&&n(2,s=f.variant),"class"in f&&n(3,u=f.class)},[i,l,s,u]}class q8 extends ze{constructor(e){super(),He(this,e,U8,K8,Le,{lineWidth:0,dimensions:1,variant:2,class:3})}}const x8=q8;function G8(t){let e,n;return e=new x8({props:{dimensions:t[6],variant:t[0],lineWidth:t[1],class:t[4]}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&64&&(s.dimensions=i[6]),l&1&&(s.variant=i[0]),l&2&&(s.lineWidth=i[1]),l&16&&(s.class=i[4]),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function Z8(t){let e,n;return e=new V8({props:{radius:t[7]/2,class:t[4]}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l&128&&(s.radius=i[7]/2),l&16&&(s.class=i[4]),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function J8(t){let e,n,i,l,s,u,f,a,d,h,g,m,y;const b=[Z8,G8],p=[];function A(w,N){return w[14]?0:1}return i=A(t),l=p[i]=b[i](t),{c(){e=Fe("svg"),n=Fe("pattern"),l.c(),h=Fe("rect"),C(n,"id",t[11]),C(n,"x",s=t[9].x%t[8][0]),C(n,"y",u=t[9].y%t[8][1]),C(n,"width",f=t[8][0]),C(n,"height",a=t[8][1]),C(n,"patternUnits","userSpaceOnUse"),C(n,"patternTransform",d=`translate(-${t[10][0]},-${t[10][1]})`),C(h,"x","0"),C(h,"y","0"),C(h,"width","100%"),C(h,"height","100%"),C(h,"fill",g=`url(#${t[11]})`),C(e,"class",m=cr(it(["svelte-flow__background",t[5]]))+" svelte-1r7pe8d"),C(e,"data-testid","svelte-flow__background"),Be(e,"--xy-background-color-props",t[2]),Be(e,"--xy-background-pattern-color-props",t[3])},m(w,N){j(w,e,N),ue(e,n),p[i].m(n,null),ue(e,h),y=!0},p(w,[N]){l.p(w,N),(!y||N&2048)&&C(n,"id",w[11]),(!y||N&768&&s!==(s=w[9].x%w[8][0]))&&C(n,"x",s),(!y||N&768&&u!==(u=w[9].y%w[8][1]))&&C(n,"y",u),(!y||N&256&&f!==(f=w[8][0]))&&C(n,"width",f),(!y||N&256&&a!==(a=w[8][1]))&&C(n,"height",a),(!y||N&1024&&d!==(d=`translate(-${w[10][0]},-${w[10][1]})`))&&C(n,"patternTransform",d),(!y||N&2048&&g!==(g=`url(#${w[11]})`))&&C(h,"fill",g),(!y||N&32&&m!==(m=cr(it(["svelte-flow__background",w[5]]))+" svelte-1r7pe8d"))&&C(e,"class",m),N&4&&Be(e,"--xy-background-color-props",w[2]),N&8&&Be(e,"--xy-background-pattern-color-props",w[3])},i(w){y||($(l),y=!0)},o(w){te(l),y=!1},d(w){w&&Z(e),p[i].d()}}}const Q8={[li.Dots]:1,[li.Lines]:1,[li.Cross]:6};function j8(t,e,n){let i,l,s,u,f,a,d,{id:h=void 0}=e,{variant:g=li.Dots}=e,{gap:m=20}=e,{size:y=1}=e,{lineWidth:b=1}=e,{bgColor:p=void 0}=e,{patternColor:A=void 0}=e,{patternClass:w=void 0}=e,{class:N=""}=e;const{viewport:S,flowId:T}=dt();he(t,S,W=>n(9,a=W)),he(t,T,W=>n(18,d=W));const M=y||Q8[g],I=g===li.Dots,H=g===li.Cross,L=Array.isArray(m)?m:[m,m];return t.$$set=W=>{"id"in W&&n(15,h=W.id),"variant"in W&&n(0,g=W.variant),"gap"in W&&n(16,m=W.gap),"size"in W&&n(17,y=W.size),"lineWidth"in W&&n(1,b=W.lineWidth),"bgColor"in W&&n(2,p=W.bgColor),"patternColor"in W&&n(3,A=W.patternColor),"patternClass"in W&&n(4,w=W.patternClass),"class"in W&&n(5,N=W.class)},t.$$.update=()=>{t.$$.dirty&294912&&n(11,i=`background-pattern-${d}-${h||""}`),t.$$.dirty&512&&n(8,l=[L[0]*a.zoom||1,L[1]*a.zoom||1]),t.$$.dirty&512&&n(7,s=M*a.zoom),t.$$.dirty&384&&n(6,u=H?[s,s]:l),t.$$.dirty&192&&n(10,f=I?[s/2,s/2]:[u[0]/2,u[1]/2])},[g,b,p,A,w,N,u,s,l,a,f,i,S,T,I,h,m,y,d]}class $8 extends ze{constructor(e){super(),He(this,e,j8,J8,Le,{id:15,variant:0,gap:16,size:17,lineWidth:1,bgColor:2,patternColor:3,patternClass:4,class:5})}}const e7=$8;function t7(t){let e,n,i;return{c(){e=Fe("rect"),C(e,"class",n=it(["svelte-flow__minimap-node",t[10]])),C(e,"x",t[0]),C(e,"y",t[1]),C(e,"rx",t[4]),C(e,"ry",t[4]),C(e,"width",t[2]),C(e,"height",t[3]),C(e,"style",i=`${t[5]?`fill: ${t[5]};`:""}${t[7]?`stroke: ${t[7]};`:""}${t[8]?`stroke-width: ${t[8]};`:""}`),C(e,"shape-rendering",t[6]),Xe(e,"selected",t[9])},m(l,s){j(l,e,s)},p(l,[s]){s&1024&&n!==(n=it(["svelte-flow__minimap-node",l[10]]))&&C(e,"class",n),s&1&&C(e,"x",l[0]),s&2&&C(e,"y",l[1]),s&16&&C(e,"rx",l[4]),s&16&&C(e,"ry",l[4]),s&4&&C(e,"width",l[2]),s&8&&C(e,"height",l[3]),s&416&&i!==(i=`${l[5]?`fill: ${l[5]};`:""}${l[7]?`stroke: ${l[7]};`:""}${l[8]?`stroke-width: ${l[8]};`:""}`)&&C(e,"style",i),s&64&&C(e,"shape-rendering",l[6]),s&1536&&Xe(e,"selected",l[9])},i:Oe,o:Oe,d(l){l&&Z(e)}}}function n7(t,e,n){let{x:i}=e,{y:l}=e,{width:s=0}=e,{height:u=0}=e,{borderRadius:f=5}=e,{color:a=void 0}=e,{shapeRendering:d}=e,{strokeColor:h=void 0}=e,{strokeWidth:g=2}=e,{selected:m=!1}=e,{class:y=""}=e;return t.$$set=b=>{"x"in b&&n(0,i=b.x),"y"in b&&n(1,l=b.y),"width"in b&&n(2,s=b.width),"height"in b&&n(3,u=b.height),"borderRadius"in b&&n(4,f=b.borderRadius),"color"in b&&n(5,a=b.color),"shapeRendering"in b&&n(6,d=b.shapeRendering),"strokeColor"in b&&n(7,h=b.strokeColor),"strokeWidth"in b&&n(8,g=b.strokeWidth),"selected"in b&&n(9,m=b.selected),"class"in b&&n(10,y=b.class)},[i,l,s,u,f,a,d,h,g,m,y]}class i7 extends ze{constructor(e){super(),He(this,e,n7,t7,Le,{x:0,y:1,width:2,height:3,borderRadius:4,color:5,shapeRendering:6,strokeColor:7,strokeWidth:8,selected:9,class:10})}}function r7(t,e){const n=w5({domNode:t,panZoom:e.panZoom,getTransform:()=>{const l=se(e.viewport);return[l.x,l.y,l.zoom]},getViewScale:e.getViewScale});function i(l){n.update({translateExtent:l.translateExtent,width:l.width,height:l.height,inversePan:l.inversePan,zoomStep:l.zoomStep,pannable:l.pannable,zoomable:l.zoomable})}return{update:i,destroy(){n.destroy()}}}function Vd(t,e,n){const i=t.slice();return i[53]=e[n],i}function Ou(t){const e=t.slice(),n=kr(e[53]).positionAbsolute;e[56]=n;const i=go(e[53]);return e[57]=i,e}function Kd(t){let e,n,i=[],l=new Map,s,u,f,a,d,h,g,m=t[1]&&Ud(t),y=At(t[19]);const b=p=>p[53].id;for(let p=0;p<y.length;p+=1){let A=Vd(t,y,p),w=b(A);l.set(w,i[p]=xd(w,A))}return{c(){e=Fe("svg"),m&&m.c(),n=bt();for(let p=0;p<i.length;p+=1)i[p].c();s=Fe("path"),C(s,"class","svelte-flow__minimap-mask"),C(s,"d",u="M"+(t[25]-t[15])+","+(t[24]-t[15])+"h"+(t[23]+t[15]*2)+"v"+(t[22]+t[15]*2)+"h"+(-t[23]-t[15]*2)+`z
      M`+t[18].x+","+t[18].y+"h"+t[18].width+"v"+t[18].height+"h"+-t[18].width+"z"),C(s,"fill-rule","evenodd"),C(s,"pointer-events","none"),C(e,"width",t[17]),C(e,"height",t[16]),C(e,"viewBox",f=t[25]+" "+t[24]+" "+t[23]+" "+t[22]),C(e,"class","svelte-flow__minimap-svg"),C(e,"role","img"),C(e,"aria-labelledby",t[39]),Be(e,"--xy-minimap-mask-background-color-props",t[5]),Be(e,"--xy-minimap-mask-stroke-color-props",t[6]),Be(e,"--xy-minimap-mask-stroke-width-props",t[7]?t[7]*t[14]:void 0)},m(p,A){j(p,e,A),m&&m.m(e,null),ue(e,n);for(let w=0;w<i.length;w+=1)i[w]&&i[w].m(e,null);ue(e,s),d=!0,h||(g=Gt(a=r7.call(null,e,{panZoom:t[26],viewport:t[29],getViewScale:t[40],translateExtent:t[27],width:t[21],height:t[20],inversePan:t[10],zoomStep:t[11],pannable:t[8],zoomable:t[9]})),h=!0)},p(p,A){p[1]?m?m.p(p,A):(m=Ud(p),m.c(),m.m(e,n)):m&&(m.d(1),m=null),A[0]&524300|A[1]&240&&(y=At(p[19]),yt(),i=Ei(i,A,b,1,p,y,l,e,Bi,xd,s,Vd),wt()),(!d||A[0]&63209472&&u!==(u="M"+(p[25]-p[15])+","+(p[24]-p[15])+"h"+(p[23]+p[15]*2)+"v"+(p[22]+p[15]*2)+"h"+(-p[23]-p[15]*2)+`z
      M`+p[18].x+","+p[18].y+"h"+p[18].width+"v"+p[18].height+"h"+-p[18].width+"z"))&&C(s,"d",u),(!d||A[0]&131072)&&C(e,"width",p[17]),(!d||A[0]&65536)&&C(e,"height",p[16]),(!d||A[0]&62914560&&f!==(f=p[25]+" "+p[24]+" "+p[23]+" "+p[22]))&&C(e,"viewBox",f),a&&gt(a.update)&&A[0]&204476160&&a.update.call(null,{panZoom:p[26],viewport:p[29],getViewScale:p[40],translateExtent:p[27],width:p[21],height:p[20],inversePan:p[10],zoomStep:p[11],pannable:p[8],zoomable:p[9]}),A[0]&32&&Be(e,"--xy-minimap-mask-background-color-props",p[5]),A[0]&64&&Be(e,"--xy-minimap-mask-stroke-color-props",p[6]),A[0]&16512&&Be(e,"--xy-minimap-mask-stroke-width-props",p[7]?p[7]*p[14]:void 0)},i(p){if(!d){for(let A=0;A<y.length;A+=1)$(i[A]);d=!0}},o(p){for(let A=0;A<i.length;A+=1)te(i[A]);d=!1},d(p){p&&Z(e),m&&m.d();for(let A=0;A<i.length;A+=1)i[A].d();h=!1,g()}}}function Ud(t){let e,n;return{c(){e=Fe("title"),n=tt(t[1]),C(e,"id",t[39])},m(i,l){j(i,e,l),ue(e,n)},p(i,l){l[0]&2&&Zt(n,i[1])},d(i){i&&Z(e)}}}function qd(t){var s;let e,n;const i=[{x:t[56].x},{y:t[56].y},t[57],{selected:t[53].selected},{color:(s=t[35])==null?void 0:s.call(t,t[53])},{borderRadius:t[2]},{strokeColor:t[36](t[53])},{strokeWidth:t[3]},{shapeRendering:t[38]},{class:t[37](t[53])}];let l={};for(let u=0;u<i.length;u+=1)l=Kt(l,i[u]);return e=new i7({props:l}),{c(){Se(e.$$.fragment)},m(u,f){ve(e,u,f),n=!0},p(u,f){var d;const a=f[0]&524300|f[1]&240?si(i,[f[0]&524288&&{x:u[56].x},f[0]&524288&&{y:u[56].y},f[0]&524288&&hr(u[57]),f[0]&524288&&{selected:u[53].selected},f[0]&524288|f[1]&16&&{color:(d=u[35])==null?void 0:d.call(u,u[53])},f[0]&4&&{borderRadius:u[2]},f[0]&524288|f[1]&32&&{strokeColor:u[36](u[53])},f[0]&8&&{strokeWidth:u[3]},f[1]&128&&{shapeRendering:u[38]},f[0]&524288|f[1]&64&&{class:u[37](u[53])}]):{};e.$set(a)},i(u){n||($(e.$$.fragment,u),n=!0)},o(u){te(e.$$.fragment,u),n=!1},d(u){pe(e,u)}}}function xd(t,e){let n,i=oo(e[53]),l,s,u=i&&qd(Ou(e));return{key:t,first:null,c(){n=bt(),u&&u.c(),l=bt(),this.first=n},m(f,a){j(f,n,a),u&&u.m(f,a),j(f,l,a),s=!0},p(f,a){e=f,a[0]&524288&&(i=oo(e[53])),i?u?(u.p(Ou(e),a),a[0]&524288&&$(u,1)):(u=qd(Ou(e)),u.c(),$(u,1),u.m(l.parentNode,l)):u&&(yt(),te(u,1,1,()=>{u=null}),wt())},i(f){s||($(u),s=!0)},o(f){te(u),s=!1},d(f){f&&(Z(n),Z(l)),u&&u.d(f)}}}function o7(t){let e,n,i=t[26]&&Kd(t);return{c(){i&&i.c(),e=bt()},m(l,s){i&&i.m(l,s),j(l,e,s),n=!0},p(l,s){l[26]?i?(i.p(l,s),s[0]&67108864&&$(i,1)):(i=Kd(l),i.c(),$(i,1),i.m(e.parentNode,e)):i&&(yt(),te(i,1,1,()=>{i=null}),wt())},i(l){n||($(i),n=!0)},o(l){te(i),n=!1},d(l){l&&Z(e),i&&i.d(l)}}}function l7(t){let e,n;return e=new vr({props:{position:t[0],style:t[12]+(t[4]?`;--xy-minimap-background-color-props:${t[4]}`:""),class:it(["svelte-flow__minimap",t[13]]),"data-testid":"svelte-flow__minimap",$$slots:{default:[o7]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,l){const s={};l[0]&1&&(s.position=i[0]),l[0]&4112&&(s.style=i[12]+(i[4]?`;--xy-minimap-background-color-props:${i[4]}`:"")),l[0]&8192&&(s.class=it(["svelte-flow__minimap",i[13]])),l[0]&268423150|l[1]&134217728&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}const Iu=t=>t instanceof Function?t:()=>t,s7=200,u7=150;function f7(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,b,p,A,w,N,S,T,M,I,H,{position:L="bottom-right"}=e,{ariaLabel:W="Mini map"}=e,{nodeStrokeColor:q="transparent"}=e,{nodeColor:P=void 0}=e,{nodeClass:X=""}=e,{nodeBorderRadius:D=5}=e,{nodeStrokeWidth:O=2}=e,{bgColor:V=void 0}=e,{maskColor:Y=void 0}=e,{maskStrokeColor:G=void 0}=e,{maskStrokeWidth:x=void 0}=e,{width:Q=void 0}=e,{height:ae=void 0}=e,{pannable:ce=!0}=e,{zoomable:ee=!0}=e,{inversePan:be=void 0}=e,{zoomStep:Me=void 0}=e,{style:Ae=""}=e,{class:R=""}=e;const{nodes:ge,viewport:me,width:oe,height:le,flowId:Ye,panZoom:Ue,translateExtent:et}=dt();he(t,ge,Ce=>n(19,w=Ce)),he(t,me,Ce=>n(51,N=Ce)),he(t,oe,Ce=>n(21,T=Ce)),he(t,le,Ce=>n(20,S=Ce)),he(t,Ye,Ce=>n(52,M=Ce)),he(t,Ue,Ce=>n(26,I=Ce)),he(t,et,Ce=>n(27,H=Ce));const rt=P===void 0?void 0:Iu(P),Pe=Iu(q),Je=Iu(X),ut=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",rn=`svelte-flow__minimap-desc-${M}`,hn=()=>d;return t.$$set=Ce=>{"position"in Ce&&n(0,L=Ce.position),"ariaLabel"in Ce&&n(1,W=Ce.ariaLabel),"nodeStrokeColor"in Ce&&n(41,q=Ce.nodeStrokeColor),"nodeColor"in Ce&&n(42,P=Ce.nodeColor),"nodeClass"in Ce&&n(43,X=Ce.nodeClass),"nodeBorderRadius"in Ce&&n(2,D=Ce.nodeBorderRadius),"nodeStrokeWidth"in Ce&&n(3,O=Ce.nodeStrokeWidth),"bgColor"in Ce&&n(4,V=Ce.bgColor),"maskColor"in Ce&&n(5,Y=Ce.maskColor),"maskStrokeColor"in Ce&&n(6,G=Ce.maskStrokeColor),"maskStrokeWidth"in Ce&&n(7,x=Ce.maskStrokeWidth),"width"in Ce&&n(44,Q=Ce.width),"height"in Ce&&n(45,ae=Ce.height),"pannable"in Ce&&n(8,ce=Ce.pannable),"zoomable"in Ce&&n(9,ee=Ce.zoomable),"inversePan"in Ce&&n(10,be=Ce.inversePan),"zoomStep"in Ce&&n(11,Me=Ce.zoomStep),"style"in Ce&&n(12,Ae=Ce.style),"class"in Ce&&n(13,R=Ce.class)},t.$$.update=()=>{t.$$.dirty[0]&3145728|t.$$.dirty[1]&1048576&&n(18,i={x:-N.x/N.zoom,y:-N.y/N.zoom,width:T/N.zoom,height:S/N.zoom}),t.$$.dirty[0]&786432&&n(48,l=w.length>0?Up(ho(w),i):i),t.$$.dirty[1]&8192&&n(17,s=Q??s7),t.$$.dirty[1]&16384&&n(16,u=ae??u7),t.$$.dirty[0]&131072|t.$$.dirty[1]&131072&&n(50,f=l.width/s),t.$$.dirty[0]&65536|t.$$.dirty[1]&131072&&n(49,a=l.height/u),t.$$.dirty[1]&786432&&n(14,d=Math.max(f,a)),t.$$.dirty[0]&147456&&n(47,h=d*s),t.$$.dirty[0]&81920&&n(46,g=d*u),t.$$.dirty[0]&16384&&n(15,m=5*d),t.$$.dirty[0]&32768|t.$$.dirty[1]&196608&&n(25,y=l.x-(h-l.width)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&163840&&n(24,b=l.y-(g-l.height)/2-m),t.$$.dirty[0]&32768|t.$$.dirty[1]&65536&&n(23,p=h+m*2),t.$$.dirty[0]&32768|t.$$.dirty[1]&32768&&n(22,A=g+m*2)},[L,W,D,O,V,Y,G,x,ce,ee,be,Me,Ae,R,d,m,u,s,i,w,S,T,A,p,b,y,I,H,ge,me,oe,le,Ye,Ue,et,rt,Pe,Je,ut,rn,hn,q,P,X,Q,ae,g,h,l,a,f,N]}class a7 extends ze{constructor(e){super(),He(this,e,f7,l7,Le,{position:0,ariaLabel:1,nodeStrokeColor:41,nodeColor:42,nodeClass:43,nodeBorderRadius:2,nodeStrokeWidth:3,bgColor:4,maskColor:5,maskStrokeColor:6,maskStrokeWidth:7,width:44,height:45,pannable:8,zoomable:9,inversePan:10,zoomStep:11,style:12,class:13},null,[-1,-1])}}function c7(t){let e,n,i;const l=t[33].default,s=Xt(l,t,t[32],null);return{c(){e=_e("div"),s&&s.c(),C(e,"class",n=it(["svelte-flow__resize-control","nodrag",...t[4],t[0],t[1]])),C(e,"style",t[3])},m(u,f){j(u,e,f),s&&s.m(e,null),t[34](e),i=!0},p(u,f){s&&s.p&&(!i||f[1]&2)&&Ft(s,l,u,u[32],i?Yt(l,u[32],f,null):Vt(u[32]),null),(!i||f[0]&19&&n!==(n=it(["svelte-flow__resize-control","nodrag",...u[4],u[0],u[1]])))&&C(e,"class",n),(!i||f[0]&8)&&C(e,"style",u[3])},i(u){i||($(s,u),i=!0)},o(u){te(s,u),i=!1},d(u){u&&Z(e),s&&s.d(u),t[34](null)}}}function d7(t,e,n){let i,l,s,u,f,a,d,h,g,m,y,b,p,A,w,N,{$$slots:S={},$$scope:T}=e,{nodeId:M=void 0}=e,{position:I=void 0}=e,{variant:H=Jr.Handle}=e,{color:L=void 0}=e,{minWidth:W=10}=e,{minHeight:q=10}=e,{maxWidth:P=Number.MAX_VALUE}=e,{maxHeight:X=Number.MAX_VALUE}=e,{keepAspectRatio:D=!1}=e,{shouldResize:O=void 0}=e,{onResizeStart:V=void 0}=e,{onResize:Y=void 0}=e,{onResizeEnd:G=void 0}=e,{style:x=""}=e,{class:Q=""}=e;const{nodeLookup:ae,snapGrid:ce,viewport:ee,nodes:be,nodeOrigin:Me}=dt();he(t,ae,oe=>n(37,p=oe)),he(t,ce,oe=>n(39,w=oe)),he(t,ee,oe=>n(40,N=oe)),he(t,be,oe=>n(36,b=oe)),he(t,Me,oe=>n(38,A=oe));const Ae=$r("svelteflow__node_id");let R,ge=null;uo(()=>(R&&n(23,ge=z5({domNode:R,nodeId:f,getStoreItems:()=>({nodeLookup:p,transform:[N.x,N.y,N.zoom],snapGrid:w??void 0,snapToGrid:!!w,nodeOrigin:A}),onChange:(oe,le)=>{const Ye=p.get(f);if(Ye){Ye.height=oe.isHeightChange?oe.height:Ye.height,Ye.width=oe.isWidthChange?oe.width:Ye.width,Ye.position=oe.isXPosChange||oe.isYPosChange?{x:oe.x,y:oe.y}:Ye.position;for(const Ue of le){const et=p.get(Ue.id);et&&(et.position=Ue.position)}be.set(b)}}})),()=>{ge==null||ge.destroy()}));function me(oe){En[oe?"unshift":"push"](()=>{R=oe,n(2,R)})}return t.$$set=oe=>{"nodeId"in oe&&n(10,M=oe.nodeId),"position"in oe&&n(11,I=oe.position),"variant"in oe&&n(0,H=oe.variant),"color"in oe&&n(12,L=oe.color),"minWidth"in oe&&n(13,W=oe.minWidth),"minHeight"in oe&&n(14,q=oe.minHeight),"maxWidth"in oe&&n(15,P=oe.maxWidth),"maxHeight"in oe&&n(16,X=oe.maxHeight),"keepAspectRatio"in oe&&n(17,D=oe.keepAspectRatio),"shouldResize"in oe&&n(18,O=oe.shouldResize),"onResizeStart"in oe&&n(19,V=oe.onResizeStart),"onResize"in oe&&n(20,Y=oe.onResize),"onResizeEnd"in oe&&n(21,G=oe.onResizeEnd),"style"in oe&&n(22,x=oe.style),"class"in oe&&n(1,Q=oe.class),"$$scope"in oe&&n(32,T=oe.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&8192&&n(27,i=W??10),t.$$.dirty[0]&16384&&n(26,l=q??10),t.$$.dirty[0]&32768&&n(25,s=P??Number.MAX_VALUE),t.$$.dirty[0]&65536&&n(24,u=X??Number.MAX_VALUE),t.$$.dirty[0]&1024&&(f=typeof M=="string"?M:Ae),t.$$.dirty[0]&1&&n(31,a=H===Jr.Line?"right":"bottom-right"),t.$$.dirty[0]&2048|t.$$.dirty[1]&1&&n(28,d=I??a),t.$$.dirty[0]&268435456&&n(4,h=d.split("-")),t.$$.dirty[0]&1&&n(30,g=H===Jr.Line?"border-color":"background-color"),t.$$.dirty[0]&4194304&&n(29,m=x??""),t.$$.dirty[0]&1610616832&&n(3,y=L?`${m} ${g}: ${L};`:m),t.$$.dirty[0]&532545536&&(ge==null||ge.update({controlPosition:d,boundaries:{minWidth:i,minHeight:l,maxWidth:s,maxHeight:u},keepAspectRatio:!!D,onResizeStart:V,onResize:Y,onResizeEnd:G,shouldResize:O}))},[H,Q,R,y,h,ae,ce,ee,be,Me,M,I,L,W,q,P,X,D,O,V,Y,G,x,ge,u,s,l,i,d,m,g,a,T,S,me]}class h7 extends ze{constructor(e){super(),He(this,e,d7,c7,Le,{nodeId:10,position:11,variant:0,color:12,minWidth:13,minHeight:14,maxWidth:15,maxHeight:16,keepAspectRatio:17,shouldResize:18,onResizeStart:19,onResize:20,onResizeEnd:21,style:22,class:1},null,[-1,-1])}}const Gd=t=>Xp(t),k1=()=>Wl();function g7(){const{zoomIn:t,zoomOut:e,fitView:n,onbeforedelete:i,snapGrid:l,viewport:s,width:u,height:f,minZoom:a,maxZoom:d,panZoom:h,nodes:g,edges:m,domNode:y,nodeLookup:b,edgeLookup:p}=dt(),A=N=>{const S=Gd(N)&&oo(N)?N:se(b).get(N.id);return S?qu(S):null},w=(N,S,T={replace:!1})=>{g.update(M=>M.map(I=>{if(I.id===N){const H=typeof S=="function"?S(I):S;return T.replace&&Gd(H)?H:{...I,...H}}return I}))};return{zoomIn:t,zoomOut:e,getNode:N=>se(b).get(N),getNodes:N=>N===void 0?se(g):Zd(se(b),N),getEdge:N=>se(p).get(N),getEdges:N=>N===void 0?se(m):Zd(se(p),N),setZoom:(N,S)=>{var T;(T=se(h))==null||T.scaleTo(N,{duration:S==null?void 0:S.duration})},getZoom:()=>se(s).zoom,setViewport:(N,S)=>{var M;const T=se(s);(M=se(h))==null||M.setViewport({x:N.x??T.x,y:N.y??T.y,zoom:N.zoom??T.zoom},{duration:S==null?void 0:S.duration})},getViewport:()=>se(s),setCenter:(N,S,T)=>{var I;const M=typeof(T==null?void 0:T.zoom)<"u"?T.zoom:se(d);(I=se(h))==null||I.setViewport({x:se(u)/2-N*M,y:se(f)/2-S*M,zoom:M},{duration:T==null?void 0:T.duration})},fitView:n,fitBounds:(N,S)=>{var M;const T=sf(N,se(u),se(f),se(a),se(d),(S==null?void 0:S.padding)??.1);(M=se(h))==null||M.setViewport(T,{duration:S==null?void 0:S.duration})},getIntersectingNodes:(N,S=!0,T)=>{const M=rd(N),I=M?N:A(N);return I?(T||se(g)).filter(H=>{var P;if(!M&&(H.id===N.id||!((P=H.computed)!=null&&P.positionAbsolute)))return!1;const L=qu(H),W=Hl(L,I);return S&&W>0||W>=I.width*I.height}):[]},isNodeIntersecting:(N,S,T=!0)=>{const I=rd(N)?N:A(N);if(!I)return!1;const H=Hl(I,S);return T&&H>0||H>=I.width*I.height},deleteElements:async({nodes:N=[],edges:S=[]})=>{const{nodes:T,edges:M}=await Zh({nodesToRemove:N,edgesToRemove:S,nodes:se(g),edges:se(m),onBeforeDelete:se(i)});return T&&g.update(I=>I.filter(H=>!T.some(({id:L})=>L===H.id))),M&&m.update(I=>I.filter(H=>!M.some(({id:L})=>L===H.id))),{deletedNodes:T,deletedEdges:M}},screenToFlowPosition:(N,S={snapToGrid:!0})=>{const T=se(y);if(!T)return N;const M=S.snapToGrid?se(l):!1,{x:I,y:H,zoom:L}=se(s),{x:W,y:q}=T.getBoundingClientRect(),P={x:N.x-W,y:N.y-q};return Kl(P,[I,H,L],M!==null,M||[1,1])},flowToScreenPosition:N=>{const S=se(y);if(!S)return N;const{x:T,y:M,zoom:I}=se(s),{x:H,y:L}=S.getBoundingClientRect(),W=Qh(N,[T,M,I]);return{x:W.x+H,y:W.y+L}},toObject:()=>({nodes:se(g).map(N=>({...N,position:{...N.position},data:{...N.data}})),edges:se(m).map(N=>({...N})),viewport:{...se(s)}}),updateNode:w,updateNodeData:(N,S,T)=>{w(N,M=>{const I=typeof S=="function"?S(M):S;return T!=null&&T.replace?{...M,data:I}:{...M,data:{...M.data,...I}}})},viewport:s}}function Zd(t,e){const n=[];for(const i of e){const l=t.get(i);l&&n.push(l)}return n}function m7(){const{domNode:t,updateNodeDimensions:e}=dt();return i=>{const l=Array.isArray(i)?i:[i],s=new Map;l.forEach(u=>{var a;const f=(a=se(t))==null?void 0:a.querySelector(`.svelte-flow__node[data-id="${u}"]`);f&&s.set(u,{id:u,nodeElement:f,forceUpdate:!0})}),requestAnimationFrame(()=>e(s))}}function _7(){const{connection:t}=dt();return t}function y7(){const{nodes:t}=dt();return t}function C1(){const{edges:t}=dt();return t}var Nu={local:{},session:{}};function w7(t){return t==="local"?localStorage:sessionStorage}function uf(t,e,n){var i,l,s,u;const f=(i=n==null?void 0:n.serializer)!=null?i:JSON,a=(l=n==null?void 0:n.storage)!=null?l:"local",d=(s=n==null?void 0:n.syncTabs)!=null?s:!0,h=(u=n==null?void 0:n.onError)!=null?u:p=>console.error(`Error when writing value from persisted store "${t}" to ${a}`,p),g=typeof window<"u"&&typeof document<"u",m=g?w7(a):null;function y(p,A){try{m==null||m.setItem(p,f.stringify(A))}catch(w){h(w)}}function b(){const p=m==null?void 0:m.getItem(t);return p?f.parse(p):e}if(!Nu[a][t]){const p=b(),A=Ie(p,S=>{if(g&&a=="local"&&d){const T=M=>{M.key===t&&S(M.newValue?f.parse(M.newValue):null)};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)}}),{subscribe:w,set:N}=A;Nu[a][t]={set(S){N(S),y(t,S)},update(S){return A.update(T=>{const M=S(T);return y(t,M),M})},subscribe:w}}return Nu[a][t]}const In=[{id:crypto.randomUUID().toString(),type:"default",data:{label:"Patch",connection:"",inputs:[],outputs:["ethernet","sdi","audio","power"],group:!1},position:{x:0,y:0}},{id:crypto.randomUUID().toString(),type:"default",data:{label:"Canvas",inputs:["dante","dmx","ethernet","sdi","audio","midi","osc","power"],outputs:["dante","dmx","ethernet","sdi","audio","midi","osc"]},dragHandle:".drag-dots",position:{x:0,y:100}}],Gu=[{id:crypto.randomUUID().toString(),type:"connection",class:"",source:In[0].id,sourceHandle:"ethernet",target:In[1].id,targetHandle:"ethernet"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:In[0].id,sourceHandle:"sdi",target:In[1].id,targetHandle:"sdi"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:In[0].id,sourceHandle:"audio",target:In[1].id,targetHandle:"audio"},{id:crypto.randomUUID().toString(),type:"connection",class:"",source:In[0].id,sourceHandle:"power",target:In[1].id,targetHandle:"power"}],b7=1,Sl=1,v7={version:b7,theme:"dark"},Hu=uf("preferences",v7),ff={version:Sl,uniqueFlow:[{}],title:"PatchCanvas",nodes:In,edges:Gu},zn=uf("current",ff),p7={},zu=uf("saves",p7);function S7(t){let e,n,i,l,s,u,f,a;return{c(){e=_e("p"),e.textContent="Drag to the canvas!",n=ke(),i=_e("div"),l=_e("div"),l.textContent="node",s=ke(),u=_e("div"),u.textContent="group",C(e,"class","svelte-6g6phf"),C(l,"draggable",!0),C(l,"class","svelte-6g6phf"),C(u,"draggable",!0),C(u,"class","svelte-6g6phf"),C(i,"class","nodes svelte-6g6phf")},m(d,h){j(d,e,h),j(d,n,h),j(d,i,h),ue(i,l),ue(i,s),ue(i,u),f||(a=[Ne(l,"dragstart",t[1]),Ne(u,"dragstart",t[2])],f=!0)},p:Oe,i:Oe,o:Oe,d(d){d&&(Z(e),Z(n),Z(i)),f=!1,vt(a)}}}function k7(t){const e=(l,s)=>{if(!l.dataTransfer)return null;l.dataTransfer.setData("application/patchcanvasnode",s),l.dataTransfer.effectAllowed="move"};return[e,l=>e(l,JSON.stringify({inputs:[],outputs:[]})),l=>e(l,JSON.stringify({group:!0}))]}class C7 extends ze{constructor(e){super(),He(this,e,k7,S7,Le,{})}}const E7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-audio-input-xlr"
	viewBox="0 -5 24 34"
	fill="currentColor"
	><path
		d="M12 4C16.41 4 20 7.59 20 12S16.41 20 12 20 4 16.41 4 12 7.59 4 12 4M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M13.5 16.5C13.5 15.67 12.83 15 12 15S10.5 15.67 10.5 16.5C10.5 17.33 11.17 18 12 18S13.5 17.33 13.5 16.5M9 12C9 11.17 8.33 10.5 7.5 10.5S6 11.17 6 12 6.67 13.5 7.5 13.5 9 12.83 9 12M18 12C18 11.17 17.33 10.5 16.5 10.5C15.67 10.5 15 11.17 15 12S15.67 13.5 16.5 13.5C17.33 13.5 18 12.83 18 12Z"
	/></svg
>
`,A7=`<svg
	version="1.0"
	xmlns="http://www.w3.org/2000/svg"
	viewBox="350 -15 800 600"
	preserveAspectRatio="xMidYMid meet"
>
	<g
		transform="translate(0,576) scale(0.1,-0.1)"
		fill="currentColor"
		stroke="none"
	>
		<path
			d="M7125 4624 c-16 -2 -73 -9 -125 -15 -675 -76 -1339 -406 -1816 -902
-532 -551 -804 -1238 -804 -2029 l0 -78 214 0 213 0 6 203 c10 340 66 595 197
898 183 423 517 812 925 1079 141 92 417 228 570 280 295 101 591 150 908 150
l127 0 0 210 0 210 -192 -1 c-106 -1 -206 -4 -223 -5z"
		/>
		<path
			d="M7260 3773 c-786 -55 -1456 -474 -1795 -1125 -145 -279 -211 -536
-222 -870 l-6 -178 861 0 862 0 0 225 0 225 -631 0 -632 0 7 40 c12 73 67 233
116 335 189 392 539 697 976 848 92 32 272 77 309 77 13 0 15 -99 15 -875 l0
-875 210 0 210 0 0 1090 0 1090 -117 -2 c-65 -1 -138 -3 -163 -5z"
		/>
		<path
			d="M4380 1130 l0 -130 215 0 215 0 0 130 0 130 -215 0 -215 0 0 -130z"
		/>
		<path
			d="M5240 1130 l0 -130 1155 0 1155 0 0 130 0 130 -1155 0 -1155 0 0
-130z"
		/>
	</g>
</svg>
`,M7=`<svg fill="currentColor" viewBox="-2 -5 24 34" xmlns="http://www.w3.org/2000/svg"
	><title>lightbulb</title><path
		d="M12,2A7,7,0,0,0,8,14.74V17a1,1,0,0,0,1,1h6a1,1,0,0,0,1-1V14.74A7,7,0,0,0,12,2ZM9,21a1,1,0,0,0,1,1h4a1,1,0,0,0,1-1V20H9Z"
	/></svg
>
`,P7=`<svg
	viewBox="1 -3 24 28"
	id="Layer_1"
	data-name="Layer 1"
	xmlns="http://www.w3.org/2000/svg"
	><defs
		><style>
			.cls-1 {
				fill: none;
				stroke: currentColor;
				stroke-miterlimit: 10;
				stroke-width: 1.91px;
			}
		</style></defs
	><polygon
		class="cls-1"
		points="5.32 6.27 5.32 13.91 7.23 13.91 7.23 15.82 10.09 15.82 10.09 17.73 13.91 17.73 13.91 15.82 16.77 15.82 16.77 13.91 18.68 13.91 18.68 6.27 5.32 6.27"
	/><line class="cls-1" x1="8.18" y1="9.14" x2="8.18" y2="6.27" /><line
		class="cls-1"
		x1="12"
		y1="9.14"
		x2="12"
		y2="6.27"
	/><line class="cls-1" x1="15.82" y1="9.14" x2="15.82" y2="6.27" /></svg
>
`,T7=`<svg
	viewBox="0 -5 24 34"
	xmlns="http://www.w3.org/2000/svg"
	fill="currentColor"
	><path
		d="m12 2a10 10 0 0 1 10 10 10 10 0 0 1 -10 10 10 10 0 0 1 -10-10 10 10 0 0 1 10-10m8.18 10c0-3.82-2.63-7.04-6.18-7.93v1.93h-4v-1.93c-3.55.89-6.18 4.11-6.18 7.93a8.18 8.18 0 0 0 8.18 8.18 8.18 8.18 0 0 0 8.18-8.18m-13.18-1.36a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36c-.75 0-1.36-.61-1.36-1.36s.61-1.36 1.36-1.36m10 0a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36m-8.64 3.63a1.37 1.37 0 0 1 1.37 1.37c0 .75-.61 1.36-1.37 1.36a1.36 1.36 0 0 1 -1.36-1.36c0-.76.61-1.37 1.36-1.37m7.28 0c.75 0 1.36.61 1.36 1.37a1.36 1.36 0 0 1 -1.36 1.36c-.76 0-1.37-.61-1.37-1.36a1.37 1.37 0 0 1 1.37-1.37m-3.64 1.37a1.36 1.36 0 0 1 1.36 1.36 1.36 1.36 0 0 1 -1.36 1.36 1.36 1.36 0 0 1 -1.36-1.36 1.36 1.36 0 0 1 1.36-1.36z"
	/></svg
>
`,O7=`<svg
  viewBox="-25 -128 512 750"
  xmlns="http://www.w3.org/2000/svg"
  fill="currentColor"
>
  <polygon
    points="385.128 118.178 359.868 137.822 451.732 255.944 359.813 374.18 385.076 393.82 492.268 255.94 385.128 118.178"
  />
  <polygon
    points="119.814 118.177 12.621 255.993 119.759 393.819 145.022 374.181 53.156 255.999 145.074 137.823 119.814 118.177"
  />
  <rect
    width="32"
    height="32"
    x="160"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="240"
    y="240"
  />
  <rect
    width="32"
    height="32"
    x="320"
    y="240"
  />
</svg>
`,I7=`<svg
	xmlns="http://www.w3.org/2000/svg"
	id="mdi-power-plug-outline"
	viewBox="1 -4 24 30"
	fill="currentColor"
	><path
		d="M16 7V3H14V7H10V3H8V7C7 7 6 8 6 9V14.5L9.5 18V21H14.5V18L18 14.5V9C18 8 17 7 16 7M16 13.67L13.09 16.59L12.67 17H11.33L10.92 16.59L8 13.67V9.09C8 9.06 8.06 9 8.09 9H15.92C15.95 9 16 9.06 16 9.09V13.67Z"
	/></svg
>
`,N7=`<svg viewBox="-6 -16 54 80" xmlns="http://www.w3.org/2000/svg" fill="currentColor">\r
  <title>output</title>\r
  <g id="Layer_2" data-name="Layer 2">\r
    <g id="invisible_box" data-name="invisible box">\r
      <rect width="48" height="48" fill="none" />\r
    </g>\r
    <g id="Layer_6" data-name="Layer 6">\r
      <g>\r
        <path\r
          d="M45.4,22.6l-7.9-8a2.1,2.1,0,0,0-2.7-.2,1.9,1.9,0,0,0-.2,3L39.2,22H16a2,2,0,0,0,0,4H39.2l-4.6,4.6a1.9,1.9,0,0,0,.2,3,2.1,2.1,0,0,0,2.7-.2l7.9-8A1.9,1.9,0,0,0,45.4,22.6Z"\r
        />\r
        <path\r
          d="M28,42H24A18,18,0,0,1,24,6h4a2,2,0,0,0,1.4-.6A2,2,0,0,0,30,4a2.4,2.4,0,0,0-.2-.9A2,2,0,0,0,28,2H23.8a22,22,0,0,0,.1,44H28a2,2,0,0,0,1.4-.6l.4-.5A2.4,2.4,0,0,0,30,44,2,2,0,0,0,28,42Z"\r
        />\r
      </g>\r
    </g>\r
  </g>\r
</svg>\r
`,Jd=["dante","dmx","sdi","ethernet","audio","midi","osc","power"],nn={dante:["red",1,A7],dmx:["dodgerblue",2,M7],sdi:["limegreen",3,N7],ethernet:["gold",4,P7],audio:["orange",5,E7],midi:["hotpink",6,T7],osc:["magenta",7,O7],power:["var(--font-colour)",8,I7]},Ll=Object.entries(nn);function H7(t,e){let n=Jd.indexOf(t),i=Jd.indexOf(e);return Math.sign(n-i)}const z7='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.88 103.38" fill="currentColor" style="enable-background:new 0 0 122.88 103.38" xml:space="preserve"><style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style><g><path class="st0" d="M27.66,93.53h32.49l9.1-9.08c1.4-1.4,1.41-3.7,0.01-5.1l-27.02-27.1c-1.4-1.4-3.7-1.41-5.1-0.01L14.3,75.03 c-1.41,1.4-1.41,3.7-0.01,5.1L27.66,93.53L27.66,93.53z M71.03,93.53h51.84v9.85H61.16H50.28h-12.8H25.7h-0.35L1.05,79.01 c-1.4-1.4-1.4-3.7,0.01-5.1L74.11,1.05c1.41-1.4,3.7-1.4,5.1,0.01l39.62,39.72c1.4,1.4,1.4,3.7-0.01,5.1L71.03,93.53L71.03,93.53z"/></g></svg>';function Qd(t,e,n){const i=t.slice();return i[16]=e[n][0],i[17]=e[n][1],i}function jd(t){let e,n,i=t[17][2]+"",l,s,u,f,a;function d(){return t[9](t[16])}function h(){return t[10](t[16])}function g(...m){return t[11](t[16],...m)}return{c(){e=_e("div"),n=_e("div"),l=ke(),s=tt(t[16]),u=ke(),C(n,"class","icon"),C(e,"class","protocol svelte-16ekx3j"),Be(e,"--protocol",t[17][0]),C(e,"draggable",!0)},m(m,y){j(m,e,y),ue(e,n),n.innerHTML=i,ue(e,l),ue(e,s),ue(e,u),f||(a=[Ne(e,"mouseenter",d),Ne(e,"mouseleave",h),Ne(e,"dragstart",g),Ne(e,"dragend",t[8])],f=!0)},p(m,y){t=m},d(m){m&&Z(e),f=!1,vt(a)}}}function L7(t){let e,n,i,l,s,u,f,a,d,h=At(Ll),g=[];for(let m=0;m<h.length;m+=1)g[m]=jd(Qd(t,h,m));return{c(){e=_e("p"),e.textContent="Protocols",n=ke(),i=_e("div");for(let m=0;m<g.length;m+=1)g[m].c();l=ke(),s=_e("div"),u=new $w(!1),f=tt(" erase"),C(e,"class","svelte-16ekx3j"),C(i,"class","protocols svelte-16ekx3j"),u.a=f,C(s,"class","eraser svelte-16ekx3j"),C(s,"draggable",!0)},m(m,y){j(m,e,y),j(m,n,y),j(m,i,y);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(i,null);j(m,l,y),j(m,s,y),u.m(z7,s),ue(s,f),t[12](s),a||(d=[Ne(s,"mouseenter",t[2]),Ne(s,"mouseleave",t[3]),Ne(s,"dragstart",t[13]),Ne(s,"dragend",t[8])],a=!0)},p(m,[y]){if(y&368){h=At(Ll);let b;for(b=0;b<h.length;b+=1){const p=Qd(m,h,b);g[b]?g[b].p(p,y):(g[b]=jd(p),g[b].c(),g[b].m(i,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=h.length}},i:Oe,o:Oe,d(m){m&&(Z(e),Z(n),Z(i),Z(l),Z(s)),xw(g,m),t[12](null),a=!1,vt(d)}}}function R7(t,e,n){let i;const l=C1();he(t,l,S=>n(15,i=S));function s(){for(let S of i)S.class+="fade-out";l.set(i);for(let S of document.querySelectorAll(".svelte-flow__node .label"))S.classList.add("fade-out");for(let S of document.querySelectorAll(".svelte-flow__handle"))S.classList.add("highlight")}function u(){var S;for(let T of i)T.class=(S=T.class)==null?void 0:S.replace("fade-out","");l.set(i);for(let T of document.querySelectorAll(".svelte-flow__node .label"))T.classList.remove("fade-out");for(let T of document.querySelectorAll(".svelte-flow__handle"))T.classList.remove("highlight")}function f(S){for(let T of i)T.sourceHandle===S?T.class+="highlight":T.class+="fade-out";l.set(i);for(let T of document.querySelectorAll(".svelte-flow__handle"))T.getAttribute("data-handleid")===S?T.classList.add("highlight"):T.classList.add("fade-out")}function a(S){var T,M;S=S;for(let I of i)I.sourceHandle===S?I.class=(T=I.class)==null?void 0:T.replace("highlight",""):I.class=(M=I.class)==null?void 0:M.replace("fade-out","");l.set(i);for(let I of document.querySelectorAll(".svelte-flow__handle"))I.getAttribute("data-handleid")===S?I.classList.remove("highlight"):I.classList.remove("fade-out")}let d;const h=(S,T)=>{if(!S.dataTransfer)return null;S.dataTransfer.setData(`patchcanvasprotocol/${T}`,""),S.dataTransfer.effectAllowed="move",d=S.target.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",d.style.setProperty("--connection",nn[T][0]),document.body.appendChild(d),S.dataTransfer.setDragImage(d,-16,0)};let g;const m=S=>{if(!S.dataTransfer)return null;S.dataTransfer.setData("application/patchcanvaseraser",""),S.dataTransfer.effectAllowed="move",d=g.cloneNode(!0),d.classList.add("dragging"),d.style.position="absolute",d.style.top="0",d.style.right="0",d.style.zIndex="-1",document.body.appendChild(d),S.dataTransfer.setDragImage(d,-16,0)},y=()=>{d.remove()},b=S=>f(S),p=S=>a(S),A=(S,T)=>h(T,S);function w(S){En[S?"unshift":"push"](()=>{g=S,n(0,g)})}return[g,l,s,u,f,a,h,m,y,b,p,A,w,S=>m(S)]}class D7 extends ze{constructor(e){super(),He(this,e,R7,L7,Le,{})}}function W7(t){let e,n,i=t[1].title+"",l,s,u,f,a,d,h,g,m,y;return{c(){e=_e("div"),n=_e("h1"),l=tt(i),s=ke(),u=_e("button"),u.textContent="Rename",f=ke(),a=_e("div"),d=_e("button"),d.textContent="Canvases",h=ke(),g=_e("button"),g.textContent="Save",C(e,"class","title svelte-esxq2s"),C(a,"class","buttons svelte-esxq2s")},m(b,p){j(b,e,p),ue(e,n),ue(n,l),ue(e,s),ue(e,u),j(b,f,p),j(b,a,p),ue(a,d),ue(a,h),ue(a,g),m||(y=[Ne(u,"click",t[2]),Ne(d,"click",t[3]),Ne(g,"click",t[4])],m=!0)},p(b,[p]){p&2&&i!==(i=b[1].title+"")&&Zt(l,i)},i:Oe,o:Oe,d(b){b&&(Z(e),Z(f),Z(a)),m=!1,vt(y)}}}function B7(t,e,n){let i;he(t,zn,a=>n(1,i=a));let{showCanvases:l}=e;function s(){let a=prompt(void 0,i.title);a!==null&&Cn(zn,i.title=a,i)}const u=()=>n(0,l=!l),f=()=>J7();return t.$$set=a=>{"showCanvases"in a&&n(0,l=a.showCanvases)},[l,i,s,u,f]}class X7 extends ze{constructor(e){super(),He(this,e,B7,W7,Le,{showCanvases:0})}}var Kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xl={};Object.defineProperty(xl,"__esModule",{value:!0});function E1(t,e){var n=document.createElement("a");n.href=e,n.download=t,n.click()}xl.downloadUrl=E1;function A1(t,e){var n=URL.createObjectURL(e);E1(t,n),URL.revokeObjectURL(n)}xl.downloadBlob=A1;function F7(t,e){A1(t,new Blob([e],{type:"octet/stream"}))}var V7=xl.downloadText=F7;function $d(t,e,n){const i=t.slice();return i[16]=e[n][0],i[17]=e[n][1],i}function eh(t){let e;return{c(){e=_e("p"),e.innerHTML="No canvases saved<br/>(on this browser)",C(e,"class","svelte-1qlll5m")},m(n,i){j(n,e,i)},d(n){n&&Z(e)}}}function th(t,e){let n,i,l,s=e[17].title+"",u,f,a,d,h=e[17].version+"",g,m,y,b,p=e[17].nodes.length+"",A,w,N=e[17].edges.length+"",S,T,M,I,H,L,W,q,P,X,D,O;function V(){return e[13](e[17])}function Y(){return e[14](e[17])}function G(){return e[15](e[16])}return{key:t,first:null,c(){n=_e("div"),i=_e("div"),l=_e("span"),u=tt(s),f=tt(" "),a=_e("span"),d=tt("(v"),g=tt(h),m=tt(")"),y=ke(),b=_e("div"),A=tt(p),w=tt(" nodes, "),S=tt(N),T=tt(" patches"),M=ke(),I=_e("button"),I.textContent="Load",H=ke(),L=_e("button"),L.textContent="Export",W=ke(),q=_e("button"),q.textContent="Delete",P=ke(),C(l,"class","name"),C(a,"class","version"),C(i,"class","title"),C(b,"class","contents"),C(n,"class",X="save "+(e[16]===e[5].title?"current":"")+" svelte-1qlll5m"),this.first=n},m(x,Q){j(x,n,Q),ue(n,i),ue(i,l),ue(l,u),ue(i,f),ue(i,a),ue(a,d),ue(a,g),ue(a,m),ue(n,y),ue(n,b),ue(b,A),ue(b,w),ue(b,S),ue(b,T),ue(n,M),ue(n,I),ue(n,H),ue(n,L),ue(n,W),ue(n,q),ue(n,P),D||(O=[Ne(I,"click",V),Ne(L,"click",Y),Ne(q,"click",G)],D=!0)},p(x,Q){e=x,Q&16&&s!==(s=e[17].title+"")&&Zt(u,s),Q&16&&h!==(h=e[17].version+"")&&Zt(g,h),Q&16&&p!==(p=e[17].nodes.length+"")&&Zt(A,p),Q&16&&N!==(N=e[17].edges.length+"")&&Zt(S,N),Q&48&&X!==(X="save "+(e[16]===e[5].title?"current":"")+" svelte-1qlll5m")&&C(n,"class",X)},d(x){x&&Z(n),D=!1,vt(O)}}}function K7(t){let e,n,i,l,s,u,f,a,d,h,g,m,y,b,p,A,w,N=t[5].title+"",S,T,M,I,H=t[5].version+"",L,W,q,P,X=t[5].nodes.length+"",D,O,V=t[5].edges.length+"",Y,G,x,Q,ae,ce,ee,be,Me,Ae,R=Object.keys(t[4]).length===0,ge,me=[],oe=new Map,le,Ye,Ue=R&&eh(),et=At(Object.entries(t[4]));const rt=Pe=>Pe[16];for(let Pe=0;Pe<et.length;Pe+=1){let Je=$d(t,et,Pe),ut=rt(Je);oe.set(ut,me[Pe]=th(ut,Je))}return{c(){e=_e("h1"),e.textContent="Canvases",n=ke(),i=_e("div"),l=_e("button"),l.textContent="Back",s=ke(),u=_e("button"),u.textContent="New",f=ke(),a=_e("button"),d=tt(`Import
		`),h=_e("input"),g=ke(),m=_e("h2"),m.textContent="Loaded",y=ke(),b=_e("div"),p=_e("div"),A=_e("div"),w=_e("span"),S=tt(N),T=tt(" "),M=_e("span"),I=tt("(v"),L=tt(H),W=tt(")"),q=ke(),P=_e("div"),D=tt(X),O=tt(" nodes, "),Y=tt(V),G=tt(" patches"),x=ke(),Q=_e("button"),Q.textContent="Save",ae=ke(),ce=_e("button"),ce.textContent="Export",ee=ke(),be=_e("h2"),be.textContent="Saved",Me=ke(),Ae=_e("div"),Ue&&Ue.c(),ge=ke();for(let Pe=0;Pe<me.length;Pe+=1)me[Pe].c();C(e,"class","svelte-1qlll5m"),C(h,"type","file"),C(h,"accept",".patch"),C(i,"class","buttons svelte-1qlll5m"),C(m,"class","svelte-1qlll5m"),C(w,"class","name"),C(M,"class","version"),C(A,"class","title"),C(P,"class","contents"),C(p,"class","save current svelte-1qlll5m"),C(b,"class","loaded"),C(be,"class","svelte-1qlll5m"),C(Ae,"class","saves svelte-1qlll5m")},m(Pe,Je){j(Pe,e,Je),j(Pe,n,Je),j(Pe,i,Je),ue(i,l),ue(i,s),ue(i,u),ue(i,f),ue(i,a),ue(a,d),ue(a,h),j(Pe,g,Je),j(Pe,m,Je),j(Pe,y,Je),j(Pe,b,Je),ue(b,p),ue(p,A),ue(A,w),ue(w,S),ue(A,T),ue(A,M),ue(M,I),ue(M,L),ue(M,W),ue(p,q),ue(p,P),ue(P,D),ue(P,O),ue(P,Y),ue(P,G),ue(p,x),ue(p,Q),ue(p,ae),ue(p,ce),j(Pe,ee,Je),j(Pe,be,Je),j(Pe,Me,Je),j(Pe,Ae,Je),Ue&&Ue.m(Ae,null),ue(Ae,ge);for(let ut=0;ut<me.length;ut+=1)me[ut]&&me[ut].m(Ae,null);le||(Ye=[Ne(l,"click",t[9]),Ne(u,"click",M1),Ne(h,"change",t[10]),Ne(h,"change",t[6]),Ne(Q,"click",t[11]),Ne(ce,"click",t[12])],le=!0)},p(Pe,[Je]){Je&32&&N!==(N=Pe[5].title+"")&&Zt(S,N),Je&32&&H!==(H=Pe[5].version+"")&&Zt(L,H),Je&32&&X!==(X=Pe[5].nodes.length+"")&&Zt(D,X),Je&32&&V!==(V=Pe[5].edges.length+"")&&Zt(Y,V),Je&16&&(R=Object.keys(Pe[4]).length===0),R?Ue||(Ue=eh(),Ue.c(),Ue.m(Ae,ge)):Ue&&(Ue.d(1),Ue=null),Je&434&&(et=At(Object.entries(Pe[4])),me=Ei(me,Je,rt,1,Pe,et,oe,Ae,ob,th,null,$d))},i:Oe,o:Oe,d(Pe){Pe&&(Z(e),Z(n),Z(i),Z(g),Z(m),Z(y),Z(b),Z(ee),Z(be),Z(Me),Z(Ae)),Ue&&Ue.d();for(let Je=0;Je<me.length;Je+=1)me[Je].d();le=!1,vt(Ye)}}}function U7(t,e,n){let i,l;he(t,zu,S=>n(4,i=S)),he(t,zn,S=>n(5,l=S));let{showCanvases:s}=e,u;function f(){if(!u[0])return;let S=new FileReader;S.readAsText(u[0]),S.onload=T=>{var I;let M=JSON.parse((I=T.target)==null?void 0:I.result);a(M)}}function a(S){Cn(zn,l=S,l),Cn(zn,l.uniqueFlow=[{}],l)}function d(S){V7(l.title+".patch",JSON.stringify(S))}function h(S){Cn(zu,i[S.title]=JSON.parse(JSON.stringify(S)),i)}function g(S){delete i[S],zu.set(i)}const m=()=>n(0,s=!s);function y(){u=this.files,n(3,u)}const b=()=>h(l),p=()=>d(l),A=S=>a(S),w=S=>d(S),N=S=>g(S);return t.$$set=S=>{"showCanvases"in S&&n(0,s=S.showCanvases)},[s,a,h,u,i,l,f,d,g,m,y,b,p,A,w,N]}class q7 extends ze{constructor(e){super(),He(this,e,U7,K7,Le,{showCanvases:0,load:1,store:2})}get load(){return this.$$.ctx[1]}get store(){return this.$$.ctx[2]}}function x7(t){let e,n,i,l,s,u,f,a,d,h,g,m;function y(p){t[1](p)}let b={};return t[0]!==void 0&&(b.showCanvases=t[0]),i=new X7({props:b}),En.push(()=>yh(i,"showCanvases",y)),f=new C7({}),h=new D7({}),{c(){e=_e("aside"),n=_e("div"),Se(i.$$.fragment),s=ke(),u=_e("div"),Se(f.$$.fragment),a=ke(),d=_e("div"),Se(h.$$.fragment),C(d,"class","rotate svelte-k1upvq"),C(e,"class",g=cr(t[0]?"hide":"")+" svelte-k1upvq")},m(p,A){j(p,e,A),ue(e,n),ve(i,n,null),ue(e,s),ue(e,u),ve(f,u,null),ue(e,a),ue(e,d),ve(h,d,null),m=!0},p(p,A){const w={};!l&&A&1&&(l=!0,w.showCanvases=p[0],mh(()=>l=!1)),i.$set(w),(!m||A&1&&g!==(g=cr(p[0]?"hide":"")+" svelte-k1upvq"))&&C(e,"class",g)},i(p){m||($(i.$$.fragment,p),$(f.$$.fragment,p),$(h.$$.fragment,p),m=!0)},o(p){te(i.$$.fragment,p),te(f.$$.fragment,p),te(h.$$.fragment,p),m=!1},d(p){p&&Z(e),pe(i),pe(f),pe(h)}}}function G7(t){let e,n,i,l,s,u;function f(d){t[2](d)}let a={};return t[0]!==void 0&&(a.showCanvases=t[0]),i=new q7({props:a}),En.push(()=>yh(i,"showCanvases",f)),t[3](i),{c(){e=_e("aside"),n=_e("div"),Se(i.$$.fragment),C(e,"class",s=cr(t[0]?"show":"")+" svelte-k1upvq")},m(d,h){j(d,e,h),ue(e,n),ve(i,n,null),u=!0},p(d,h){const g={};!l&&h&1&&(l=!0,g.showCanvases=d[0],mh(()=>l=!1)),i.$set(g),(!u||h&1&&s!==(s=cr(d[0]?"show":"")+" svelte-k1upvq"))&&C(e,"class",s)},i(d){u||($(i.$$.fragment,d),u=!0)},o(d){te(i.$$.fragment,d),u=!1},d(d){d&&Z(e),t[3](null),pe(i)}}}function Z7(t){let e,n,i,l;return e=new vr({props:{position:"top-left",class:"main",$$slots:{default:[x7]},$$scope:{ctx:t}}}),i=new vr({props:{position:"top-left",class:"saves",$$slots:{default:[G7]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment),n=ke(),Se(i.$$.fragment)},m(s,u){ve(e,s,u),j(s,n,u),ve(i,s,u),l=!0},p(s,[u]){const f={};u&17&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const a={};u&17&&(a.$$scope={dirty:u,ctx:s}),i.$set(a)},i(s){l||($(e.$$.fragment,s),$(i.$$.fragment,s),l=!0)},o(s){te(e.$$.fragment,s),te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(e,s),pe(i,s)}}}let so;const M1=function(){so&&so.load(ff)},J7=function(){so&&so.store(ff)};function Q7(t,e,n){let i=!1;function l(f){i=f,n(0,i)}function s(f){i=f,n(0,i)}function u(f){En[f?"unshift":"push"](()=>{so=f})}return[i,l,s,u]}class j7 extends ze{constructor(e){super(),He(this,e,Q7,Z7,Le,{})}}function $7(t){let e,n;return e=new mo({props:{path:t[6],labelX:t[5],labelY:t[4],markerStart:t[2],markerEnd:t[0],style:t[1],class:t[3]}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&64&&(s.path=i[6]),l&32&&(s.labelX=i[5]),l&16&&(s.labelY=i[4]),l&4&&(s.markerStart=i[2]),l&1&&(s.markerEnd=i[0]),l&2&&(s.style=i[1]),l&8&&(s.class=i[3]),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function eS(t,e,n){let i,l,s,{id:u}=e,{type:f}=e,{source:a}=e,{sourceX:d}=e,{sourceY:h}=e,{sourcePosition:g}=e,{sourceHandleId:m=""}=e,{target:y}=e,{targetX:b}=e,{targetY:p}=e,{targetPosition:A}=e,{targetHandleId:w=""}=e,{markerStart:N=void 0}=e,{markerEnd:S=void 0}=e,{animated:T=!1}=e,{selected:M=!1}=e,{label:I=""}=e,{labelStyle:H=""}=e,{data:L=void 0}=e,{interactionWidth:W=void 0}=e,{style:q=""}=e,{edgeClass:P=""}=e;return C1(),t.$$set=X=>{"id"in X&&n(7,u=X.id),"type"in X&&n(8,f=X.type),"source"in X&&n(9,a=X.source),"sourceX"in X&&n(10,d=X.sourceX),"sourceY"in X&&n(11,h=X.sourceY),"sourcePosition"in X&&n(12,g=X.sourcePosition),"sourceHandleId"in X&&n(13,m=X.sourceHandleId),"target"in X&&n(14,y=X.target),"targetX"in X&&n(15,b=X.targetX),"targetY"in X&&n(16,p=X.targetY),"targetPosition"in X&&n(17,A=X.targetPosition),"targetHandleId"in X&&n(18,w=X.targetHandleId),"markerStart"in X&&n(2,N=X.markerStart),"markerEnd"in X&&n(0,S=X.markerEnd),"animated"in X&&n(19,T=X.animated),"selected"in X&&n(20,M=X.selected),"label"in X&&n(21,I=X.label),"labelStyle"in X&&n(22,H=X.labelStyle),"data"in X&&n(23,L=X.data),"interactionWidth"in X&&n(24,W=X.interactionWidth),"style"in X&&n(1,q=X.style),"edgeClass"in X&&n(3,P=X.edgeClass)},t.$$.update=()=>{if(t.$$.dirty&236544&&n(6,[i,l,s]=br({sourceX:d,sourceY:h,sourcePosition:g,targetX:b,targetY:p,targetPosition:A}),i,(n(5,l),n(10,d),n(11,h),n(12,g),n(15,b),n(16,p),n(17,A)),(n(4,s),n(10,d),n(11,h),n(12,g),n(15,b),n(16,p),n(17,A))),t.$$.dirty&8192){let X=nn[m??""][0];n(1,q=`stroke: ${X};`),n(0,S=`url(#${m})`)}},[S,q,N,P,s,l,i,u,f,a,d,h,g,m,y,b,p,A,w,T,M,I,H,L,W]}class tS extends ze{constructor(e){super(),He(this,e,eS,$7,Le,{id:7,type:8,source:9,sourceX:10,sourceY:11,sourcePosition:12,sourceHandleId:13,target:14,targetX:15,targetY:16,targetPosition:17,targetHandleId:18,markerStart:2,markerEnd:0,animated:19,selected:20,label:21,labelStyle:22,data:23,interactionWidth:24,style:1,edgeClass:3})}}const nS=`<svg fill="currentColor" viewBox="4 2 8 12" xmlns="http://www.w3.org/2000/svg"\r
	><path\r
		fill-rule="evenodd"\r
		d="M7.375 3.67c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm0 8.66c0-.646-.56-1.17-1.25-1.17s-1.25.524-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17zm-1.25-5.5c.69 0 1.25.525 1.25 1.17 0 .645-.56 1.17-1.25 1.17S4.875 8.645 4.875 8c0-.645.56-1.17 1.25-1.17zm5-3.16c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .646.56 1.17 1.25 1.17s1.25-.524 1.25-1.17zm-1.25 7.49c.69 0 1.25.524 1.25 1.17 0 .645-.56 1.17-1.25 1.17s-1.25-.525-1.25-1.17c0-.646.56-1.17 1.25-1.17zM11.125 8c0-.645-.56-1.17-1.25-1.17s-1.25.525-1.25 1.17c0 .645.56 1.17 1.25 1.17s1.25-.525 1.25-1.17z"\r
	/></svg\r
>\r
`;function iS(t){let e,n;return e=new lo({props:{id:t[0],type:t[1]==="input"?"target":"source",position:t[1]==="input"?Ke.Top:Ke.Bottom,style:t[2]+`background: ${nn[t[0]][0]};
		left: calc( ${t[1]==="input"?"":"12px + "} (${nn[t[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`,isConnectable:!0}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&1&&(s.id=i[0]),l&2&&(s.type=i[1]==="input"?"target":"source"),l&2&&(s.position=i[1]==="input"?Ke.Top:Ke.Bottom),l&7&&(s.style=i[2]+`background: ${nn[i[0]][0]};
		left: calc( ${i[1]==="input"?"":"12px + "} (${nn[i[0]][1]}px * 16));
		border: none;
		width: 8px;
		height: 8px;`),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function rS(t,e,n){let{id:i}=e,{io:l}=e,{style:s=""}=e,{drop:u}=e;return addEventListener("drop",u),t.$$set=f=>{"id"in f&&n(0,i=f.id),"io"in f&&n(1,l=f.io),"style"in f&&n(2,s=f.style),"drop"in f&&n(3,u=f.drop)},[i,l,s,u]}class P1 extends ze{constructor(e){super(),He(this,e,rS,iS,Le,{id:0,io:1,style:2,drop:3})}}function nh(t,e,n){const i=t.slice();return i[39]=e[n],i}function ih(t,e,n){const i=t.slice();return i[39]=e[n],i}function rh(t){let e,n,i,l,s,u,f;return{c(){e=_e("div"),n=ke(),i=_e("div"),l=ke(),s=_e("div"),C(e,"class","drop-target inputs svelte-zmau3w"),C(i,"class","drop-target outputs svelte-zmau3w"),C(s,"class","hover svelte-zmau3w")},m(a,d){j(a,e,d),t[24](e),j(a,n,d),j(a,i,d),t[28](i),j(a,l,d),j(a,s,d),u||(f=[Ne(e,"dragenter",t[25]),Ne(e,"dragleave",t[26]),Ne(e,"drop",t[27]),Ne(i,"dragenter",t[29]),Ne(i,"dragleave",t[30]),Ne(i,"drop",t[31])],u=!0)},p:Oe,d(a){a&&(Z(e),Z(n),Z(i),Z(l),Z(s)),t[24](null),t[28](null),u=!1,vt(f)}}}function oh(t){let e,n;return e=new h7({props:{minWidth:200,minHeight:105,style:"background: transparent; border: none;",$$slots:{default:[oS]},$$scope:{ctx:t}}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function oS(t){let e,n,i,l,s,u;return{c(){e=Fe("svg"),n=Fe("path"),i=Fe("polyline"),l=Fe("line"),s=Fe("polyline"),u=Fe("line"),C(n,"stroke","none"),C(n,"d","M0 0h24v24H0z"),C(n,"fill","none"),C(i,"points","16 20 20 20 20 16"),C(l,"x1","14"),C(l,"y1","14"),C(l,"x2","20"),C(l,"y2","20"),C(s,"points","8 4 4 4 4 8"),C(u,"x1","4"),C(u,"y1","4"),C(u,"x2","10"),C(u,"y2","10"),C(e,"xmlns","http://www.w3.org/2000/svg"),C(e,"width","15"),C(e,"height","15"),C(e,"viewBox","0 0 24 24"),C(e,"stroke-width","2"),C(e,"stroke","var(--font-colour)"),C(e,"fill","none"),C(e,"stroke-linecap","round"),C(e,"stroke-linejoin","round"),Be(e,"position","absolute"),Be(e,"right","0.5em"),Be(e,"bottom","0.5em")},m(f,a){j(f,e,a),ue(e,n),ue(e,i),ue(e,l),ue(e,s),ue(e,u)},p:Oe,d(f){f&&Z(e)}}}function lh(t,e){let n,i,l;return i=new P1({props:{id:e[39],io:"input",drop:e[7]}}),{key:t,first:null,c(){n=bt(),Se(i.$$.fragment),this.first=n},m(s,u){j(s,n,u),ve(i,s,u),l=!0},p(s,u){e=s;const f={};u[0]&1&&(f.id=e[39]),i.$set(f)},i(s){l||($(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function sh(t,e){let n,i,l;return i=new P1({props:{id:e[39],io:"output",drop:e[7]}}),{key:t,first:null,c(){n=bt(),Se(i.$$.fragment),this.first=n},m(s,u){j(s,n,u),ve(i,s,u),l=!0},p(s,u){e=s;const f={};u[0]&1&&(f.id=e[39]),i.$set(f)},i(s){l||($(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function lS(t){let e,n,i,l,s=t[0].label+"",u,f,a,d,h,g,m,y=[],b=new Map,p,A=[],w=new Map,N,S,T,M,I=!t[0].group&&rh(t),H=t[0].group&&oh(t),L=At(t[0].inputs);const W=X=>X[39];for(let X=0;X<L.length;X+=1){let D=ih(t,L,X),O=W(D);b.set(O,y[X]=lh(O,D))}let q=At(t[0].outputs);const P=X=>X[39];for(let X=0;X<q.length;X+=1){let D=nh(t,q,X),O=P(D);w.set(O,A[X]=sh(O,D))}return{c(){I&&I.c(),e=ke(),n=_e("div"),i=_e("span"),l=ke(),u=tt(s),f=ke(),a=_e("button"),a.textContent="✎",d=ke(),h=_e("button"),h.textContent="❌",g=ke(),H&&H.c(),m=ke();for(let X=0;X<y.length;X+=1)y[X].c();p=ke();for(let X=0;X<A.length;X+=1)A[X].c();N=bt(),C(i,"class","drag-handle drag-dots svelte-zmau3w"),C(a,"class","reverse svelte-zmau3w"),C(h,"class","svelte-zmau3w"),C(n,"class","label svelte-zmau3w")},m(X,D){I&&I.m(X,D),j(X,e,D),j(X,n,D),ue(n,i),i.innerHTML=nS,ue(n,l),ue(n,u),ue(n,f),ue(n,a),ue(n,d),ue(n,h),j(X,g,D),H&&H.m(X,D),j(X,m,D);for(let O=0;O<y.length;O+=1)y[O]&&y[O].m(X,D);j(X,p,D);for(let O=0;O<A.length;O+=1)A[O]&&A[O].m(X,D);j(X,N,D),S=!0,T||(M=[Ne(a,"click",t[32]),Ne(h,"click",t[33])],T=!0)},p(X,D){X[0].group?I&&(I.d(1),I=null):I?I.p(X,D):(I=rh(X),I.c(),I.m(e.parentNode,e)),(!S||D[0]&1)&&s!==(s=X[0].label+"")&&Zt(u,s),X[0].group?H?D[0]&1&&$(H,1):(H=oh(X),H.c(),$(H,1),H.m(m.parentNode,m)):H&&(yt(),te(H,1,1,()=>{H=null}),wt()),D[0]&129&&(L=At(X[0].inputs),yt(),y=Ei(y,D,W,1,X,L,b,p.parentNode,Bi,lh,p,ih),wt()),D[0]&129&&(q=At(X[0].outputs),yt(),A=Ei(A,D,P,1,X,q,w,N.parentNode,Bi,sh,N,nh),wt())},i(X){if(!S){$(H);for(let D=0;D<L.length;D+=1)$(y[D]);for(let D=0;D<q.length;D+=1)$(A[D]);S=!0}},o(X){te(H);for(let D=0;D<y.length;D+=1)te(y[D]);for(let D=0;D<A.length;D+=1)te(A[D]);S=!1},d(X){X&&(Z(e),Z(n),Z(g),Z(m),Z(p),Z(N)),I&&I.d(X),H&&H.d(X);for(let D=0;D<y.length;D+=1)y[D].d(X);for(let D=0;D<A.length;D+=1)A[D].d(X);T=!1,vt(M)}}}function _l(t,e){return!t.includes(e)}function sS(t,e,n){let i;const l=y7();he(t,l,R=>n(34,i=R));let{id:s}=e,{data:u}=e,{dragHandle:f=void 0}=e,{type:a}=e,{isConnectable:d}=e,{selected:h=void 0}=e,{zIndex:g}=e,{positionAbsoluteX:m}=e,{positionAbsoluteY:y}=e,{width:b=void 0}=e,{height:p=void 0}=e,{dragging:A=!1}=e,{sourcePosition:w=void 0}=e,{targetPosition:N=void 0}=e,S=u,T,M;const I=(R,ge,me)=>{if(R.preventDefault(),R.stopPropagation(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasprotocol/")){const oe=R.dataTransfer.types[0].replace("patchcanvasprotocol/","");let le=!1;switch(ge){case"input":le=_l(S.inputs,oe);break;case"output":le=_l(S.outputs,oe);break}le?(O([...ge==="input"?S.inputs:S.outputs,oe],me),me.style.backgroundColor="green",R.dataTransfer.dropEffect="move"):(me.style.backgroundColor="red",me.style.backgroundImage="",R.dataTransfer.dropEffect="none")}},H=(R,ge)=>{R.preventDefault(),ge.style.backgroundColor="",ge===T?O(S.inputs,T):O(S.outputs,M)},L=(R,ge,me)=>{if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0].includes("patchcanvasprotocol/")){const oe=R.dataTransfer.types[0].replace("patchcanvasprotocol/","");let le=!1;switch(ge){case"input":le=_l(S.inputs,oe);break;case"output":le=_l(S.outputs,oe);break}le&&P(oe,ge),me.style.backgroundColor="",O(ge==="input"?S.inputs:S.outputs,me)}},W=R=>{var ge,me,oe;if(R.preventDefault(),!R.dataTransfer)return null;if(R.dataTransfer.types[0]==="application/patchcanvaseraser"){if(((ge=R.target.attributes.getNamedItem("data-nodeid"))==null?void 0:ge.value)!==s)return null;let le=(me=R.target.attributes.getNamedItem("data-handleid"))==null?void 0:me.value,Ye=((oe=R.target.attributes.getNamedItem("data-handlepos"))==null?void 0:oe.value)==="top"?"input":"output";V(le,Ye),O(Ye==="input"?S.inputs:S.outputs,Ye==="input"?T:M)}},q=m7();function P(R,ge){switch(ge){case"input":S.inputs.push(R);break;case"output":S.outputs.push(R);break}n(0,S),q(s)}function X(){let R=prompt(`Rename '${S.label}' to:`,S.label);R!==null&&n(0,S.label=R,S)}function D(){window.confirm(`Actually delete ${S.label}?`)&&Cn(l,i=i.filter(ge=>ge.id!=s),i)}function O(R,ge){if(ge==null){setTimeout(O,0,R,ge);return}let me=[...R];me.sort(H7);let oe=[];oe.push("transparent 2%");for(const le in nn){let Ye="transparent";me.includes(le)&&(Ye=nn[le][0]);let Ue=nn[le][1];ge===M&&(Ue+=.75);let et=Ue*16/150*100;Ye+=` ${et}%`,oe.push(Ye)}oe.push("transparent"),ge.style.backgroundImage=`linear-gradient(to right, ${oe.join(", ")})`}setTimeout(()=>{O(S.inputs,T),O(S.outputs,M)},0);function V(R,ge){switch(ge){case"input":n(0,S.inputs=S.inputs.filter(me=>me!==R),S);break;case"output":n(0,S.outputs=S.outputs.filter(me=>me!==R),S);break}n(0,S),q(s)}function Y(R){En[R?"unshift":"push"](()=>{T=R,n(1,T)})}const G=R=>I(R,"input",T),x=R=>H(R,T),Q=R=>L(R,"input",T);function ae(R){En[R?"unshift":"push"](()=>{M=R,n(2,M)})}const ce=R=>I(R,"output",M),ee=R=>H(R,M),be=R=>L(R,"output",M),Me=()=>X(),Ae=()=>D();return t.$$set=R=>{"id"in R&&n(10,s=R.id),"data"in R&&n(11,u=R.data),"dragHandle"in R&&n(12,f=R.dragHandle),"type"in R&&n(13,a=R.type),"isConnectable"in R&&n(14,d=R.isConnectable),"selected"in R&&n(15,h=R.selected),"zIndex"in R&&n(16,g=R.zIndex),"positionAbsoluteX"in R&&n(17,m=R.positionAbsoluteX),"positionAbsoluteY"in R&&n(18,y=R.positionAbsoluteY),"width"in R&&n(19,b=R.width),"height"in R&&n(20,p=R.height),"dragging"in R&&n(21,A=R.dragging),"sourcePosition"in R&&n(22,w=R.sourcePosition),"targetPosition"in R&&n(23,N=R.targetPosition)},[S,T,M,l,I,H,L,W,X,D,s,u,f,a,d,h,g,m,y,b,p,A,w,N,Y,G,x,Q,ae,ce,ee,be,Me,Ae]}class uS extends ze{constructor(e){super(),He(this,e,sS,lS,Le,{id:10,data:11,dragHandle:12,type:13,isConnectable:14,selected:15,zIndex:16,positionAbsoluteX:17,positionAbsoluteY:18,width:19,height:20,dragging:21,sourcePosition:22,targetPosition:23},null,[-1,-1])}}function uh(t){let e,n,i,l;function s(a,d){var h,g;if(((h=a[0].startHandle)==null?void 0:h.type)=="target")return aS;if(((g=a[0].startHandle)==null?void 0:g.type)=="source")return fS}let u=s(t),f=u&&u(t);return{c(){f&&f.c(),e=ke(),n=Fe("circle"),C(n,"cx",i=t[0].targetX),C(n,"cy",l=t[0].targetY),C(n,"fill","var(--font-colour)"),C(n,"r",3),C(n,"stroke",nn[t[3]][0]??"var(--font-colour)"),C(n,"stroke-width",1.5)},m(a,d){f&&f.m(a,d),j(a,e,d),j(a,n,d)},p(a,d){u===(u=s(a))&&f?f.p(a,d):(f&&f.d(1),f=u&&u(a),f&&(f.c(),f.m(e.parentNode,e))),d&1&&i!==(i=a[0].targetX)&&C(n,"cx",i),d&1&&l!==(l=a[0].targetY)&&C(n,"cy",l)},d(a){a&&(Z(e),Z(n)),f&&f.d(a)}}}function fS(t){let e,n;return{c(){var i;e=Fe("path"),C(e,"fill","none"),C(e,"stroke-width",1.5),C(e,"class","animated"),C(e,"stroke",nn[t[3]][0]??"var(--font-colour)"),C(e,"d",t[1]),C(e,"marker-end",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,l){j(i,e,l)},p(i,l){var s;l&2&&C(e,"d",i[1]),l&1&&n!==(n="url(#"+((s=i[0].startHandle)==null?void 0:s.handleId)+"line)")&&C(e,"marker-end",n)},d(i){i&&Z(e)}}}function aS(t){let e,n;return{c(){var i;e=Fe("path"),C(e,"fill","none"),C(e,"stroke-width",1.5),C(e,"class","animated"),C(e,"stroke",nn[t[3]][0]??"var(--font-colour)"),C(e,"d",t[1]),C(e,"marker-start",n="url(#"+((i=t[0].startHandle)==null?void 0:i.handleId)+"line)")},m(i,l){j(i,e,l)},p(i,l){var s;l&2&&C(e,"d",i[1]),l&1&&n!==(n="url(#"+((s=i[0].startHandle)==null?void 0:s.handleId)+"line)")&&C(e,"marker-start",n)},d(i){i&&Z(e)}}}function cS(t){let e,n=t[0].path&&uh(t);return{c(){n&&n.c(),e=bt()},m(i,l){n&&n.m(i,l),j(i,e,l)},p(i,[l]){i[0].path?n?n.p(i,l):(n=uh(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Oe,o:Oe,d(i){i&&Z(e),n&&n.d(i)}}}function dS(t,e,n){var f;let i;const l=_7();he(t,l,a=>n(0,i=a));let s="",u=((f=i.startHandle)==null?void 0:f.handleId)??"";return t.$$.update=()=>{if(t.$$.dirty&1){let{sourceX:a,sourceY:d,sourcePosition:h,targetX:g,targetY:m,targetPosition:y}=i;n(1,[s]=br({sourceX:a??0,sourceY:d??0,sourcePosition:h??Ke.Bottom,targetX:g??0,targetY:m??0,targetPosition:y??Ke.Top}),s)}},[i,s,l,u]}class hS extends ze{constructor(e){super(),He(this,e,dS,cS,Le,{})}}function gS(t){let e,n,i,l,s,u,f;return{c(){e=Fe("svg"),n=Fe("defs"),i=Fe("marker"),l=Fe("polyline"),C(l,"stroke",t[0]),C(l,"stroke-linecap","round"),C(l,"stroke-linejoin","round"),C(l,"stroke-width",t[6]),C(l,"fill",t[0]),C(l,"points","-5,-4 0,0 -5,4 -5,-4"),C(i,"class","svelte-flow__arrowhead"),C(i,"id",t[1]),C(i,"markerWidth",s=`${t[2]}`),C(i,"markerHeight",u=`${t[3]}`),C(i,"viewBox","-10 -10 20 20"),C(i,"markerUnits",t[4]),C(i,"orient",t[5]),C(i,"refX",f=t[1].includes("line")?"4":"0"),C(i,"refY","0"),C(e,"class","svelte-1wqugfi")},m(a,d){j(a,e,d),ue(e,n),ue(n,i),ue(i,l)},p(a,[d]){d&1&&C(l,"stroke",a[0]),d&64&&C(l,"stroke-width",a[6]),d&1&&C(l,"fill",a[0]),d&2&&C(i,"id",a[1]),d&4&&s!==(s=`${a[2]}`)&&C(i,"markerWidth",s),d&8&&u!==(u=`${a[3]}`)&&C(i,"markerHeight",u),d&16&&C(i,"markerUnits",a[4]),d&32&&C(i,"orient",a[5]),d&2&&f!==(f=a[1].includes("line")?"4":"0")&&C(i,"refX",f)},i:Oe,o:Oe,d(a){a&&Z(e)}}}function mS(t,e,n){let{id:i}=e,{type:l}=e,{width:s=12.5}=e,{height:u=12.5}=e,{markerUnits:f="strokeWidth"}=e,{orient:a="auto-start-reverse"}=e,{color:d=void 0}=e,{strokeWidth:h=void 0}=e;return t.$$set=g=>{"id"in g&&n(1,i=g.id),"type"in g&&n(7,l=g.type),"width"in g&&n(2,s=g.width),"height"in g&&n(3,u=g.height),"markerUnits"in g&&n(4,f=g.markerUnits),"orient"in g&&n(5,a=g.orient),"color"in g&&n(0,d=g.color),"strokeWidth"in g&&n(6,h=g.strokeWidth)},t.$$.update=()=>{t.$$.dirty&2&&n(0,d=nn[i.replace("line","")??""][0])},[d,i,s,u,f,a,h,l]}class T1 extends ze{constructor(e){super(),He(this,e,mS,gS,Le,{id:1,type:7,width:2,height:3,markerUnits:4,orient:5,color:0,strokeWidth:6})}}var Rl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Rl.exports;(function(t,e){(function(){var n,i="4.17.21",l=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,m=2,y=4,b=1,p=2,A=1,w=2,N=4,S=8,T=16,M=32,I=64,H=128,L=256,W=512,q=30,P="...",X=800,D=16,O=1,V=2,Y=3,G=1/0,x=9007199254740991,Q=17976931348623157e292,ae=NaN,ce=4294967295,ee=ce-1,be=ce>>>1,Me=[["ary",H],["bind",A],["bindKey",w],["curry",S],["curryRight",T],["flip",W],["partial",M],["partialRight",I],["rearg",L]],Ae="[object Arguments]",R="[object Array]",ge="[object AsyncFunction]",me="[object Boolean]",oe="[object Date]",le="[object DOMException]",Ye="[object Error]",Ue="[object Function]",et="[object GeneratorFunction]",rt="[object Map]",Pe="[object Number]",Je="[object Null]",ut="[object Object]",rn="[object Promise]",hn="[object Proxy]",Ce="[object RegExp]",Ct="[object Set]",Jt="[object String]",gn="[object Symbol]",de="[object Undefined]",Tt="[object WeakMap]",Nt="[object WeakSet]",ye="[object ArrayBuffer]",Dt="[object DataView]",Ot="[object Float32Array]",Ht="[object Float64Array]",Rn="[object Int8Array]",Dn="[object Int16Array]",mn="[object Int32Array]",Wn="[object Uint8Array]",qn="[object Uint8ClampedArray]",xn="[object Uint16Array]",fi="[object Uint32Array]",ai=/\b__p \+= '';/g,ci=/\b(__p \+=) '' \+/g,zt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Cr=/&(?:amp|lt|gt|quot|#39);/g,Yi=/[&<>"']/g,Gl=RegExp(Cr.source),Zl=RegExp(Yi.source),Jl=/<%-([\s\S]+?)%>/g,Ql=/<%([\s\S]+?)%>/g,_o=/<%=([\s\S]+?)%>/g,jl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$l=/^\w*$/,es=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Er=/[\\^$.*+?()[\]{}|]/g,ts=RegExp(Er.source),Ar=/^\s+/,ns=/\s/,is=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rs=/\{\n\/\* \[wrapped with (.+)\] \*/,os=/,? & /,ls=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ss=/[()=,{}\[\]\/\s]/,us=/\\(\\)?/g,fs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yo=/\w*$/,as=/^[-+]0x[0-9a-f]+$/i,U=/^0b[01]+$/i,O1=/^\[object .+?Constructor\]$/,I1=/^0o[0-7]+$/i,N1=/^(?:0|[1-9]\d*)$/,H1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wo=/($^)/,z1=/['\n\r\u2028\u2029\\]/g,bo="\\ud800-\\udfff",L1="\\u0300-\\u036f",R1="\\ufe20-\\ufe2f",D1="\\u20d0-\\u20ff",af=L1+R1+D1,cf="\\u2700-\\u27bf",df="a-z\\xdf-\\xf6\\xf8-\\xff",W1="\\xac\\xb1\\xd7\\xf7",B1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",X1="\\u2000-\\u206f",Y1=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hf="A-Z\\xc0-\\xd6\\xd8-\\xde",gf="\\ufe0e\\ufe0f",mf=W1+B1+X1+Y1,cs="['’]",F1="["+bo+"]",_f="["+mf+"]",vo="["+af+"]",yf="\\d+",V1="["+cf+"]",wf="["+df+"]",bf="[^"+bo+mf+yf+cf+df+hf+"]",ds="\\ud83c[\\udffb-\\udfff]",K1="(?:"+vo+"|"+ds+")",vf="[^"+bo+"]",hs="(?:\\ud83c[\\udde6-\\uddff]){2}",gs="[\\ud800-\\udbff][\\udc00-\\udfff]",Fi="["+hf+"]",pf="\\u200d",Sf="(?:"+wf+"|"+bf+")",U1="(?:"+Fi+"|"+bf+")",kf="(?:"+cs+"(?:d|ll|m|re|s|t|ve))?",Cf="(?:"+cs+"(?:D|LL|M|RE|S|T|VE))?",Ef=K1+"?",Af="["+gf+"]?",q1="(?:"+pf+"(?:"+[vf,hs,gs].join("|")+")"+Af+Ef+")*",x1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",G1="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mf=Af+Ef+q1,Z1="(?:"+[V1,hs,gs].join("|")+")"+Mf,J1="(?:"+[vf+vo+"?",vo,hs,gs,F1].join("|")+")",Q1=RegExp(cs,"g"),j1=RegExp(vo,"g"),ms=RegExp(ds+"(?="+ds+")|"+J1+Mf,"g"),$1=RegExp([Fi+"?"+wf+"+"+kf+"(?="+[_f,Fi,"$"].join("|")+")",U1+"+"+Cf+"(?="+[_f,Fi+Sf,"$"].join("|")+")",Fi+"?"+Sf+"+"+kf,Fi+"+"+Cf,G1,x1,yf,Z1].join("|"),"g"),eg=RegExp("["+pf+bo+af+gf+"]"),tg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ng=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ig=-1,ct={};ct[Ot]=ct[Ht]=ct[Rn]=ct[Dn]=ct[mn]=ct[Wn]=ct[qn]=ct[xn]=ct[fi]=!0,ct[Ae]=ct[R]=ct[ye]=ct[me]=ct[Dt]=ct[oe]=ct[Ye]=ct[Ue]=ct[rt]=ct[Pe]=ct[ut]=ct[Ce]=ct[Ct]=ct[Jt]=ct[Tt]=!1;var at={};at[Ae]=at[R]=at[ye]=at[Dt]=at[me]=at[oe]=at[Ot]=at[Ht]=at[Rn]=at[Dn]=at[mn]=at[rt]=at[Pe]=at[ut]=at[Ce]=at[Ct]=at[Jt]=at[gn]=at[Wn]=at[qn]=at[xn]=at[fi]=!0,at[Ye]=at[Ue]=at[Tt]=!1;var rg={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},og={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lg={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ug=parseFloat,fg=parseInt,Pf=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr,ag=typeof self=="object"&&self&&self.Object===Object&&self,Lt=Pf||ag||Function("return this")(),_s=e&&!e.nodeType&&e,Mi=_s&&!0&&t&&!t.nodeType&&t,Tf=Mi&&Mi.exports===_s,ys=Tf&&Pf.process,_n=function(){try{var F=Mi&&Mi.require&&Mi.require("util").types;return F||ys&&ys.binding&&ys.binding("util")}catch{}}(),Of=_n&&_n.isArrayBuffer,If=_n&&_n.isDate,Nf=_n&&_n.isMap,Hf=_n&&_n.isRegExp,zf=_n&&_n.isSet,Lf=_n&&_n.isTypedArray;function on(F,ne,J){switch(J.length){case 0:return F.call(ne);case 1:return F.call(ne,J[0]);case 2:return F.call(ne,J[0],J[1]);case 3:return F.call(ne,J[0],J[1],J[2])}return F.apply(ne,J)}function cg(F,ne,J,Ee){for(var Ve=-1,nt=F==null?0:F.length;++Ve<nt;){var Mt=F[Ve];ne(Ee,Mt,J(Mt),F)}return Ee}function yn(F,ne){for(var J=-1,Ee=F==null?0:F.length;++J<Ee&&ne(F[J],J,F)!==!1;);return F}function dg(F,ne){for(var J=F==null?0:F.length;J--&&ne(F[J],J,F)!==!1;);return F}function Rf(F,ne){for(var J=-1,Ee=F==null?0:F.length;++J<Ee;)if(!ne(F[J],J,F))return!1;return!0}function di(F,ne){for(var J=-1,Ee=F==null?0:F.length,Ve=0,nt=[];++J<Ee;){var Mt=F[J];ne(Mt,J,F)&&(nt[Ve++]=Mt)}return nt}function po(F,ne){var J=F==null?0:F.length;return!!J&&Vi(F,ne,0)>-1}function ws(F,ne,J){for(var Ee=-1,Ve=F==null?0:F.length;++Ee<Ve;)if(J(ne,F[Ee]))return!0;return!1}function ht(F,ne){for(var J=-1,Ee=F==null?0:F.length,Ve=Array(Ee);++J<Ee;)Ve[J]=ne(F[J],J,F);return Ve}function hi(F,ne){for(var J=-1,Ee=ne.length,Ve=F.length;++J<Ee;)F[Ve+J]=ne[J];return F}function bs(F,ne,J,Ee){var Ve=-1,nt=F==null?0:F.length;for(Ee&&nt&&(J=F[++Ve]);++Ve<nt;)J=ne(J,F[Ve],Ve,F);return J}function hg(F,ne,J,Ee){var Ve=F==null?0:F.length;for(Ee&&Ve&&(J=F[--Ve]);Ve--;)J=ne(J,F[Ve],Ve,F);return J}function vs(F,ne){for(var J=-1,Ee=F==null?0:F.length;++J<Ee;)if(ne(F[J],J,F))return!0;return!1}var gg=ps("length");function mg(F){return F.split("")}function _g(F){return F.match(ls)||[]}function Df(F,ne,J){var Ee;return J(F,function(Ve,nt,Mt){if(ne(Ve,nt,Mt))return Ee=nt,!1}),Ee}function So(F,ne,J,Ee){for(var Ve=F.length,nt=J+(Ee?1:-1);Ee?nt--:++nt<Ve;)if(ne(F[nt],nt,F))return nt;return-1}function Vi(F,ne,J){return ne===ne?Pg(F,ne,J):So(F,Wf,J)}function yg(F,ne,J,Ee){for(var Ve=J-1,nt=F.length;++Ve<nt;)if(Ee(F[Ve],ne))return Ve;return-1}function Wf(F){return F!==F}function Bf(F,ne){var J=F==null?0:F.length;return J?ks(F,ne)/J:ae}function ps(F){return function(ne){return ne==null?n:ne[F]}}function Ss(F){return function(ne){return F==null?n:F[ne]}}function Xf(F,ne,J,Ee,Ve){return Ve(F,function(nt,Mt,ft){J=Ee?(Ee=!1,nt):ne(J,nt,Mt,ft)}),J}function wg(F,ne){var J=F.length;for(F.sort(ne);J--;)F[J]=F[J].value;return F}function ks(F,ne){for(var J,Ee=-1,Ve=F.length;++Ee<Ve;){var nt=ne(F[Ee]);nt!==n&&(J=J===n?nt:J+nt)}return J}function Cs(F,ne){for(var J=-1,Ee=Array(F);++J<F;)Ee[J]=ne(J);return Ee}function bg(F,ne){return ht(ne,function(J){return[J,F[J]]})}function Yf(F){return F&&F.slice(0,Uf(F)+1).replace(Ar,"")}function ln(F){return function(ne){return F(ne)}}function Es(F,ne){return ht(ne,function(J){return F[J]})}function Mr(F,ne){return F.has(ne)}function Ff(F,ne){for(var J=-1,Ee=F.length;++J<Ee&&Vi(ne,F[J],0)>-1;);return J}function Vf(F,ne){for(var J=F.length;J--&&Vi(ne,F[J],0)>-1;);return J}function vg(F,ne){for(var J=F.length,Ee=0;J--;)F[J]===ne&&++Ee;return Ee}var pg=Ss(rg),Sg=Ss(og);function kg(F){return"\\"+sg[F]}function Cg(F,ne){return F==null?n:F[ne]}function Ki(F){return eg.test(F)}function Eg(F){return tg.test(F)}function Ag(F){for(var ne,J=[];!(ne=F.next()).done;)J.push(ne.value);return J}function As(F){var ne=-1,J=Array(F.size);return F.forEach(function(Ee,Ve){J[++ne]=[Ve,Ee]}),J}function Kf(F,ne){return function(J){return F(ne(J))}}function gi(F,ne){for(var J=-1,Ee=F.length,Ve=0,nt=[];++J<Ee;){var Mt=F[J];(Mt===ne||Mt===h)&&(F[J]=h,nt[Ve++]=J)}return nt}function ko(F){var ne=-1,J=Array(F.size);return F.forEach(function(Ee){J[++ne]=Ee}),J}function Mg(F){var ne=-1,J=Array(F.size);return F.forEach(function(Ee){J[++ne]=[Ee,Ee]}),J}function Pg(F,ne,J){for(var Ee=J-1,Ve=F.length;++Ee<Ve;)if(F[Ee]===ne)return Ee;return-1}function Tg(F,ne,J){for(var Ee=J+1;Ee--;)if(F[Ee]===ne)return Ee;return Ee}function Ui(F){return Ki(F)?Ig(F):gg(F)}function An(F){return Ki(F)?Ng(F):mg(F)}function Uf(F){for(var ne=F.length;ne--&&ns.test(F.charAt(ne)););return ne}var Og=Ss(lg);function Ig(F){for(var ne=ms.lastIndex=0;ms.test(F);)++ne;return ne}function Ng(F){return F.match(ms)||[]}function Hg(F){return F.match($1)||[]}var zg=function F(ne){ne=ne==null?Lt:qi.defaults(Lt.Object(),ne,qi.pick(Lt,ng));var J=ne.Array,Ee=ne.Date,Ve=ne.Error,nt=ne.Function,Mt=ne.Math,ft=ne.Object,Ms=ne.RegExp,Lg=ne.String,wn=ne.TypeError,Co=J.prototype,Rg=nt.prototype,xi=ft.prototype,Eo=ne["__core-js_shared__"],Ao=Rg.toString,st=xi.hasOwnProperty,Dg=0,qf=function(){var r=/[^.]+$/.exec(Eo&&Eo.keys&&Eo.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Mo=xi.toString,Wg=Ao.call(ft),Bg=Lt._,Xg=Ms("^"+Ao.call(st).replace(Er,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Po=Tf?ne.Buffer:n,mi=ne.Symbol,To=ne.Uint8Array,xf=Po?Po.allocUnsafe:n,Oo=Kf(ft.getPrototypeOf,ft),Gf=ft.create,Zf=xi.propertyIsEnumerable,Io=Co.splice,Jf=mi?mi.isConcatSpreadable:n,Pr=mi?mi.iterator:n,Pi=mi?mi.toStringTag:n,No=function(){try{var r=Hi(ft,"defineProperty");return r({},"",{}),r}catch{}}(),Yg=ne.clearTimeout!==Lt.clearTimeout&&ne.clearTimeout,Fg=Ee&&Ee.now!==Lt.Date.now&&Ee.now,Vg=ne.setTimeout!==Lt.setTimeout&&ne.setTimeout,Ho=Mt.ceil,zo=Mt.floor,Ps=ft.getOwnPropertySymbols,Kg=Po?Po.isBuffer:n,Qf=ne.isFinite,Ug=Co.join,qg=Kf(ft.keys,ft),Pt=Mt.max,Wt=Mt.min,xg=Ee.now,Gg=ne.parseInt,jf=Mt.random,Zg=Co.reverse,Ts=Hi(ne,"DataView"),Tr=Hi(ne,"Map"),Os=Hi(ne,"Promise"),Gi=Hi(ne,"Set"),Or=Hi(ne,"WeakMap"),Ir=Hi(ft,"create"),Lo=Or&&new Or,Zi={},Jg=zi(Ts),Qg=zi(Tr),jg=zi(Os),$g=zi(Gi),e0=zi(Or),Ro=mi?mi.prototype:n,Nr=Ro?Ro.valueOf:n,$f=Ro?Ro.toString:n;function k(r){if(pt(r)&&!qe(r)&&!(r instanceof je)){if(r instanceof bn)return r;if(st.call(r,"__wrapped__"))return ec(r)}return new bn(r)}var Ji=function(){function r(){}return function(o){if(!mt(o))return{};if(Gf)return Gf(o);r.prototype=o;var c=new r;return r.prototype=n,c}}();function Do(){}function bn(r,o){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}k.templateSettings={escape:Jl,evaluate:Ql,interpolate:_o,variable:"",imports:{_:k}},k.prototype=Do.prototype,k.prototype.constructor=k,bn.prototype=Ji(Do.prototype),bn.prototype.constructor=bn;function je(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function t0(){var r=new je(this.__wrapped__);return r.__actions__=Qt(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Qt(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Qt(this.__views__),r}function n0(){if(this.__filtered__){var r=new je(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function i0(){var r=this.__wrapped__.value(),o=this.__dir__,c=qe(r),_=o<0,v=c?r.length:0,E=mm(0,v,this.__views__),z=E.start,B=E.end,K=B-z,ie=_?B:z-1,re=this.__iteratees__,fe=re.length,we=0,Te=Wt(K,this.__takeCount__);if(!c||!_&&v==K&&Te==K)return ka(r,this.__actions__);var De=[];e:for(;K--&&we<Te;){ie+=o;for(var Ge=-1,We=r[ie];++Ge<fe;){var Qe=re[Ge],$e=Qe.iteratee,fn=Qe.type,xt=$e(We);if(fn==V)We=xt;else if(!xt){if(fn==O)continue e;break e}}De[we++]=We}return De}je.prototype=Ji(Do.prototype),je.prototype.constructor=je;function Ti(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var _=r[o];this.set(_[0],_[1])}}function r0(){this.__data__=Ir?Ir(null):{},this.size=0}function o0(r){var o=this.has(r)&&delete this.__data__[r];return this.size-=o?1:0,o}function l0(r){var o=this.__data__;if(Ir){var c=o[r];return c===a?n:c}return st.call(o,r)?o[r]:n}function s0(r){var o=this.__data__;return Ir?o[r]!==n:st.call(o,r)}function u0(r,o){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Ir&&o===n?a:o,this}Ti.prototype.clear=r0,Ti.prototype.delete=o0,Ti.prototype.get=l0,Ti.prototype.has=s0,Ti.prototype.set=u0;function Gn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var _=r[o];this.set(_[0],_[1])}}function f0(){this.__data__=[],this.size=0}function a0(r){var o=this.__data__,c=Wo(o,r);if(c<0)return!1;var _=o.length-1;return c==_?o.pop():Io.call(o,c,1),--this.size,!0}function c0(r){var o=this.__data__,c=Wo(o,r);return c<0?n:o[c][1]}function d0(r){return Wo(this.__data__,r)>-1}function h0(r,o){var c=this.__data__,_=Wo(c,r);return _<0?(++this.size,c.push([r,o])):c[_][1]=o,this}Gn.prototype.clear=f0,Gn.prototype.delete=a0,Gn.prototype.get=c0,Gn.prototype.has=d0,Gn.prototype.set=h0;function Zn(r){var o=-1,c=r==null?0:r.length;for(this.clear();++o<c;){var _=r[o];this.set(_[0],_[1])}}function g0(){this.size=0,this.__data__={hash:new Ti,map:new(Tr||Gn),string:new Ti}}function m0(r){var o=Jo(this,r).delete(r);return this.size-=o?1:0,o}function _0(r){return Jo(this,r).get(r)}function y0(r){return Jo(this,r).has(r)}function w0(r,o){var c=Jo(this,r),_=c.size;return c.set(r,o),this.size+=c.size==_?0:1,this}Zn.prototype.clear=g0,Zn.prototype.delete=m0,Zn.prototype.get=_0,Zn.prototype.has=y0,Zn.prototype.set=w0;function Oi(r){var o=-1,c=r==null?0:r.length;for(this.__data__=new Zn;++o<c;)this.add(r[o])}function b0(r){return this.__data__.set(r,a),this}function v0(r){return this.__data__.has(r)}Oi.prototype.add=Oi.prototype.push=b0,Oi.prototype.has=v0;function Mn(r){var o=this.__data__=new Gn(r);this.size=o.size}function p0(){this.__data__=new Gn,this.size=0}function S0(r){var o=this.__data__,c=o.delete(r);return this.size=o.size,c}function k0(r){return this.__data__.get(r)}function C0(r){return this.__data__.has(r)}function E0(r,o){var c=this.__data__;if(c instanceof Gn){var _=c.__data__;if(!Tr||_.length<l-1)return _.push([r,o]),this.size=++c.size,this;c=this.__data__=new Zn(_)}return c.set(r,o),this.size=c.size,this}Mn.prototype.clear=p0,Mn.prototype.delete=S0,Mn.prototype.get=k0,Mn.prototype.has=C0,Mn.prototype.set=E0;function ea(r,o){var c=qe(r),_=!c&&Li(r),v=!c&&!_&&vi(r),E=!c&&!_&&!v&&er(r),z=c||_||v||E,B=z?Cs(r.length,Lg):[],K=B.length;for(var ie in r)(o||st.call(r,ie))&&!(z&&(ie=="length"||v&&(ie=="offset"||ie=="parent")||E&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||$n(ie,K)))&&B.push(ie);return B}function ta(r){var o=r.length;return o?r[Ys(0,o-1)]:n}function A0(r,o){return Qo(Qt(r),Ii(o,0,r.length))}function M0(r){return Qo(Qt(r))}function Is(r,o,c){(c!==n&&!Pn(r[o],c)||c===n&&!(o in r))&&Jn(r,o,c)}function Hr(r,o,c){var _=r[o];(!(st.call(r,o)&&Pn(_,c))||c===n&&!(o in r))&&Jn(r,o,c)}function Wo(r,o){for(var c=r.length;c--;)if(Pn(r[c][0],o))return c;return-1}function P0(r,o,c,_){return _i(r,function(v,E,z){o(_,v,c(v),z)}),_}function na(r,o){return r&&Xn(o,It(o),r)}function T0(r,o){return r&&Xn(o,$t(o),r)}function Jn(r,o,c){o=="__proto__"&&No?No(r,o,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[o]=c}function Ns(r,o){for(var c=-1,_=o.length,v=J(_),E=r==null;++c<_;)v[c]=E?n:du(r,o[c]);return v}function Ii(r,o,c){return r===r&&(c!==n&&(r=r<=c?r:c),o!==n&&(r=r>=o?r:o)),r}function vn(r,o,c,_,v,E){var z,B=o&g,K=o&m,ie=o&y;if(c&&(z=v?c(r,_,v,E):c(r)),z!==n)return z;if(!mt(r))return r;var re=qe(r);if(re){if(z=ym(r),!B)return Qt(r,z)}else{var fe=Bt(r),we=fe==Ue||fe==et;if(vi(r))return Aa(r,B);if(fe==ut||fe==Ae||we&&!v){if(z=K||we?{}:Ua(r),!B)return K?lm(r,T0(z,r)):om(r,na(z,r))}else{if(!at[fe])return v?r:{};z=wm(r,fe,B)}}E||(E=new Mn);var Te=E.get(r);if(Te)return Te;E.set(r,z),vc(r)?r.forEach(function(We){z.add(vn(We,o,c,We,r,E))}):wc(r)&&r.forEach(function(We,Qe){z.set(Qe,vn(We,o,c,Qe,r,E))});var De=ie?K?js:Qs:K?$t:It,Ge=re?n:De(r);return yn(Ge||r,function(We,Qe){Ge&&(Qe=We,We=r[Qe]),Hr(z,Qe,vn(We,o,c,Qe,r,E))}),z}function O0(r){var o=It(r);return function(c){return ia(c,r,o)}}function ia(r,o,c){var _=c.length;if(r==null)return!_;for(r=ft(r);_--;){var v=c[_],E=o[v],z=r[v];if(z===n&&!(v in r)||!E(z))return!1}return!0}function ra(r,o,c){if(typeof r!="function")throw new wn(u);return Xr(function(){r.apply(n,c)},o)}function zr(r,o,c,_){var v=-1,E=po,z=!0,B=r.length,K=[],ie=o.length;if(!B)return K;c&&(o=ht(o,ln(c))),_?(E=ws,z=!1):o.length>=l&&(E=Mr,z=!1,o=new Oi(o));e:for(;++v<B;){var re=r[v],fe=c==null?re:c(re);if(re=_||re!==0?re:0,z&&fe===fe){for(var we=ie;we--;)if(o[we]===fe)continue e;K.push(re)}else E(o,fe,_)||K.push(re)}return K}var _i=Ia(Bn),oa=Ia(zs,!0);function I0(r,o){var c=!0;return _i(r,function(_,v,E){return c=!!o(_,v,E),c}),c}function Bo(r,o,c){for(var _=-1,v=r.length;++_<v;){var E=r[_],z=o(E);if(z!=null&&(B===n?z===z&&!un(z):c(z,B)))var B=z,K=E}return K}function N0(r,o,c,_){var v=r.length;for(c=xe(c),c<0&&(c=-c>v?0:v+c),_=_===n||_>v?v:xe(_),_<0&&(_+=v),_=c>_?0:Sc(_);c<_;)r[c++]=o;return r}function la(r,o){var c=[];return _i(r,function(_,v,E){o(_,v,E)&&c.push(_)}),c}function Rt(r,o,c,_,v){var E=-1,z=r.length;for(c||(c=vm),v||(v=[]);++E<z;){var B=r[E];o>0&&c(B)?o>1?Rt(B,o-1,c,_,v):hi(v,B):_||(v[v.length]=B)}return v}var Hs=Na(),sa=Na(!0);function Bn(r,o){return r&&Hs(r,o,It)}function zs(r,o){return r&&sa(r,o,It)}function Xo(r,o){return di(o,function(c){return ei(r[c])})}function Ni(r,o){o=wi(o,r);for(var c=0,_=o.length;r!=null&&c<_;)r=r[Yn(o[c++])];return c&&c==_?r:n}function ua(r,o,c){var _=o(r);return qe(r)?_:hi(_,c(r))}function Ut(r){return r==null?r===n?de:Je:Pi&&Pi in ft(r)?gm(r):Mm(r)}function Ls(r,o){return r>o}function H0(r,o){return r!=null&&st.call(r,o)}function z0(r,o){return r!=null&&o in ft(r)}function L0(r,o,c){return r>=Wt(o,c)&&r<Pt(o,c)}function Rs(r,o,c){for(var _=c?ws:po,v=r[0].length,E=r.length,z=E,B=J(E),K=1/0,ie=[];z--;){var re=r[z];z&&o&&(re=ht(re,ln(o))),K=Wt(re.length,K),B[z]=!c&&(o||v>=120&&re.length>=120)?new Oi(z&&re):n}re=r[0];var fe=-1,we=B[0];e:for(;++fe<v&&ie.length<K;){var Te=re[fe],De=o?o(Te):Te;if(Te=c||Te!==0?Te:0,!(we?Mr(we,De):_(ie,De,c))){for(z=E;--z;){var Ge=B[z];if(!(Ge?Mr(Ge,De):_(r[z],De,c)))continue e}we&&we.push(De),ie.push(Te)}}return ie}function R0(r,o,c,_){return Bn(r,function(v,E,z){o(_,c(v),E,z)}),_}function Lr(r,o,c){o=wi(o,r),r=Za(r,o);var _=r==null?r:r[Yn(Sn(o))];return _==null?n:on(_,r,c)}function fa(r){return pt(r)&&Ut(r)==Ae}function D0(r){return pt(r)&&Ut(r)==ye}function W0(r){return pt(r)&&Ut(r)==oe}function Rr(r,o,c,_,v){return r===o?!0:r==null||o==null||!pt(r)&&!pt(o)?r!==r&&o!==o:B0(r,o,c,_,Rr,v)}function B0(r,o,c,_,v,E){var z=qe(r),B=qe(o),K=z?R:Bt(r),ie=B?R:Bt(o);K=K==Ae?ut:K,ie=ie==Ae?ut:ie;var re=K==ut,fe=ie==ut,we=K==ie;if(we&&vi(r)){if(!vi(o))return!1;z=!0,re=!1}if(we&&!re)return E||(E=new Mn),z||er(r)?Fa(r,o,c,_,v,E):dm(r,o,K,c,_,v,E);if(!(c&b)){var Te=re&&st.call(r,"__wrapped__"),De=fe&&st.call(o,"__wrapped__");if(Te||De){var Ge=Te?r.value():r,We=De?o.value():o;return E||(E=new Mn),v(Ge,We,c,_,E)}}return we?(E||(E=new Mn),hm(r,o,c,_,v,E)):!1}function X0(r){return pt(r)&&Bt(r)==rt}function Ds(r,o,c,_){var v=c.length,E=v,z=!_;if(r==null)return!E;for(r=ft(r);v--;){var B=c[v];if(z&&B[2]?B[1]!==r[B[0]]:!(B[0]in r))return!1}for(;++v<E;){B=c[v];var K=B[0],ie=r[K],re=B[1];if(z&&B[2]){if(ie===n&&!(K in r))return!1}else{var fe=new Mn;if(_)var we=_(ie,re,K,r,o,fe);if(!(we===n?Rr(re,ie,b|p,_,fe):we))return!1}}return!0}function aa(r){if(!mt(r)||Sm(r))return!1;var o=ei(r)?Xg:O1;return o.test(zi(r))}function Y0(r){return pt(r)&&Ut(r)==Ce}function F0(r){return pt(r)&&Bt(r)==Ct}function V0(r){return pt(r)&&il(r.length)&&!!ct[Ut(r)]}function ca(r){return typeof r=="function"?r:r==null?en:typeof r=="object"?qe(r)?ga(r[0],r[1]):ha(r):Hc(r)}function Ws(r){if(!Br(r))return qg(r);var o=[];for(var c in ft(r))st.call(r,c)&&c!="constructor"&&o.push(c);return o}function K0(r){if(!mt(r))return Am(r);var o=Br(r),c=[];for(var _ in r)_=="constructor"&&(o||!st.call(r,_))||c.push(_);return c}function Bs(r,o){return r<o}function da(r,o){var c=-1,_=jt(r)?J(r.length):[];return _i(r,function(v,E,z){_[++c]=o(v,E,z)}),_}function ha(r){var o=eu(r);return o.length==1&&o[0][2]?xa(o[0][0],o[0][1]):function(c){return c===r||Ds(c,r,o)}}function ga(r,o){return nu(r)&&qa(o)?xa(Yn(r),o):function(c){var _=du(c,r);return _===n&&_===o?hu(c,r):Rr(o,_,b|p)}}function Yo(r,o,c,_,v){r!==o&&Hs(o,function(E,z){if(v||(v=new Mn),mt(E))U0(r,o,z,c,Yo,_,v);else{var B=_?_(ru(r,z),E,z+"",r,o,v):n;B===n&&(B=E),Is(r,z,B)}},$t)}function U0(r,o,c,_,v,E,z){var B=ru(r,c),K=ru(o,c),ie=z.get(K);if(ie){Is(r,c,ie);return}var re=E?E(B,K,c+"",r,o,z):n,fe=re===n;if(fe){var we=qe(K),Te=!we&&vi(K),De=!we&&!Te&&er(K);re=K,we||Te||De?qe(B)?re=B:St(B)?re=Qt(B):Te?(fe=!1,re=Aa(K,!0)):De?(fe=!1,re=Ma(K,!0)):re=[]:Yr(K)||Li(K)?(re=B,Li(B)?re=kc(B):(!mt(B)||ei(B))&&(re=Ua(K))):fe=!1}fe&&(z.set(K,re),v(re,K,_,E,z),z.delete(K)),Is(r,c,re)}function ma(r,o){var c=r.length;if(c)return o+=o<0?c:0,$n(o,c)?r[o]:n}function _a(r,o,c){o.length?o=ht(o,function(E){return qe(E)?function(z){return Ni(z,E.length===1?E[0]:E)}:E}):o=[en];var _=-1;o=ht(o,ln(Re()));var v=da(r,function(E,z,B){var K=ht(o,function(ie){return ie(E)});return{criteria:K,index:++_,value:E}});return wg(v,function(E,z){return rm(E,z,c)})}function q0(r,o){return ya(r,o,function(c,_){return hu(r,_)})}function ya(r,o,c){for(var _=-1,v=o.length,E={};++_<v;){var z=o[_],B=Ni(r,z);c(B,z)&&Dr(E,wi(z,r),B)}return E}function x0(r){return function(o){return Ni(o,r)}}function Xs(r,o,c,_){var v=_?yg:Vi,E=-1,z=o.length,B=r;for(r===o&&(o=Qt(o)),c&&(B=ht(r,ln(c)));++E<z;)for(var K=0,ie=o[E],re=c?c(ie):ie;(K=v(B,re,K,_))>-1;)B!==r&&Io.call(B,K,1),Io.call(r,K,1);return r}function wa(r,o){for(var c=r?o.length:0,_=c-1;c--;){var v=o[c];if(c==_||v!==E){var E=v;$n(v)?Io.call(r,v,1):Ks(r,v)}}return r}function Ys(r,o){return r+zo(jf()*(o-r+1))}function G0(r,o,c,_){for(var v=-1,E=Pt(Ho((o-r)/(c||1)),0),z=J(E);E--;)z[_?E:++v]=r,r+=c;return z}function Fs(r,o){var c="";if(!r||o<1||o>x)return c;do o%2&&(c+=r),o=zo(o/2),o&&(r+=r);while(o);return c}function Ze(r,o){return ou(Ga(r,o,en),r+"")}function Z0(r){return ta(tr(r))}function J0(r,o){var c=tr(r);return Qo(c,Ii(o,0,c.length))}function Dr(r,o,c,_){if(!mt(r))return r;o=wi(o,r);for(var v=-1,E=o.length,z=E-1,B=r;B!=null&&++v<E;){var K=Yn(o[v]),ie=c;if(K==="__proto__"||K==="constructor"||K==="prototype")return r;if(v!=z){var re=B[K];ie=_?_(re,K,B):n,ie===n&&(ie=mt(re)?re:$n(o[v+1])?[]:{})}Hr(B,K,ie),B=B[K]}return r}var ba=Lo?function(r,o){return Lo.set(r,o),r}:en,Q0=No?function(r,o){return No(r,"toString",{configurable:!0,enumerable:!1,value:mu(o),writable:!0})}:en;function j0(r){return Qo(tr(r))}function pn(r,o,c){var _=-1,v=r.length;o<0&&(o=-o>v?0:v+o),c=c>v?v:c,c<0&&(c+=v),v=o>c?0:c-o>>>0,o>>>=0;for(var E=J(v);++_<v;)E[_]=r[_+o];return E}function $0(r,o){var c;return _i(r,function(_,v,E){return c=o(_,v,E),!c}),!!c}function Fo(r,o,c){var _=0,v=r==null?_:r.length;if(typeof o=="number"&&o===o&&v<=be){for(;_<v;){var E=_+v>>>1,z=r[E];z!==null&&!un(z)&&(c?z<=o:z<o)?_=E+1:v=E}return v}return Vs(r,o,en,c)}function Vs(r,o,c,_){var v=0,E=r==null?0:r.length;if(E===0)return 0;o=c(o);for(var z=o!==o,B=o===null,K=un(o),ie=o===n;v<E;){var re=zo((v+E)/2),fe=c(r[re]),we=fe!==n,Te=fe===null,De=fe===fe,Ge=un(fe);if(z)var We=_||De;else ie?We=De&&(_||we):B?We=De&&we&&(_||!Te):K?We=De&&we&&!Te&&(_||!Ge):Te||Ge?We=!1:We=_?fe<=o:fe<o;We?v=re+1:E=re}return Wt(E,ee)}function va(r,o){for(var c=-1,_=r.length,v=0,E=[];++c<_;){var z=r[c],B=o?o(z):z;if(!c||!Pn(B,K)){var K=B;E[v++]=z===0?0:z}}return E}function pa(r){return typeof r=="number"?r:un(r)?ae:+r}function sn(r){if(typeof r=="string")return r;if(qe(r))return ht(r,sn)+"";if(un(r))return $f?$f.call(r):"";var o=r+"";return o=="0"&&1/r==-G?"-0":o}function yi(r,o,c){var _=-1,v=po,E=r.length,z=!0,B=[],K=B;if(c)z=!1,v=ws;else if(E>=l){var ie=o?null:am(r);if(ie)return ko(ie);z=!1,v=Mr,K=new Oi}else K=o?[]:B;e:for(;++_<E;){var re=r[_],fe=o?o(re):re;if(re=c||re!==0?re:0,z&&fe===fe){for(var we=K.length;we--;)if(K[we]===fe)continue e;o&&K.push(fe),B.push(re)}else v(K,fe,c)||(K!==B&&K.push(fe),B.push(re))}return B}function Ks(r,o){return o=wi(o,r),r=Za(r,o),r==null||delete r[Yn(Sn(o))]}function Sa(r,o,c,_){return Dr(r,o,c(Ni(r,o)),_)}function Vo(r,o,c,_){for(var v=r.length,E=_?v:-1;(_?E--:++E<v)&&o(r[E],E,r););return c?pn(r,_?0:E,_?E+1:v):pn(r,_?E+1:0,_?v:E)}function ka(r,o){var c=r;return c instanceof je&&(c=c.value()),bs(o,function(_,v){return v.func.apply(v.thisArg,hi([_],v.args))},c)}function Us(r,o,c){var _=r.length;if(_<2)return _?yi(r[0]):[];for(var v=-1,E=J(_);++v<_;)for(var z=r[v],B=-1;++B<_;)B!=v&&(E[v]=zr(E[v]||z,r[B],o,c));return yi(Rt(E,1),o,c)}function Ca(r,o,c){for(var _=-1,v=r.length,E=o.length,z={};++_<v;){var B=_<E?o[_]:n;c(z,r[_],B)}return z}function qs(r){return St(r)?r:[]}function xs(r){return typeof r=="function"?r:en}function wi(r,o){return qe(r)?r:nu(r,o)?[r]:$a(ot(r))}var em=Ze;function bi(r,o,c){var _=r.length;return c=c===n?_:c,!o&&c>=_?r:pn(r,o,c)}var Ea=Yg||function(r){return Lt.clearTimeout(r)};function Aa(r,o){if(o)return r.slice();var c=r.length,_=xf?xf(c):new r.constructor(c);return r.copy(_),_}function Gs(r){var o=new r.constructor(r.byteLength);return new To(o).set(new To(r)),o}function tm(r,o){var c=o?Gs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function nm(r){var o=new r.constructor(r.source,yo.exec(r));return o.lastIndex=r.lastIndex,o}function im(r){return Nr?ft(Nr.call(r)):{}}function Ma(r,o){var c=o?Gs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function Pa(r,o){if(r!==o){var c=r!==n,_=r===null,v=r===r,E=un(r),z=o!==n,B=o===null,K=o===o,ie=un(o);if(!B&&!ie&&!E&&r>o||E&&z&&K&&!B&&!ie||_&&z&&K||!c&&K||!v)return 1;if(!_&&!E&&!ie&&r<o||ie&&c&&v&&!_&&!E||B&&c&&v||!z&&v||!K)return-1}return 0}function rm(r,o,c){for(var _=-1,v=r.criteria,E=o.criteria,z=v.length,B=c.length;++_<z;){var K=Pa(v[_],E[_]);if(K){if(_>=B)return K;var ie=c[_];return K*(ie=="desc"?-1:1)}}return r.index-o.index}function Ta(r,o,c,_){for(var v=-1,E=r.length,z=c.length,B=-1,K=o.length,ie=Pt(E-z,0),re=J(K+ie),fe=!_;++B<K;)re[B]=o[B];for(;++v<z;)(fe||v<E)&&(re[c[v]]=r[v]);for(;ie--;)re[B++]=r[v++];return re}function Oa(r,o,c,_){for(var v=-1,E=r.length,z=-1,B=c.length,K=-1,ie=o.length,re=Pt(E-B,0),fe=J(re+ie),we=!_;++v<re;)fe[v]=r[v];for(var Te=v;++K<ie;)fe[Te+K]=o[K];for(;++z<B;)(we||v<E)&&(fe[Te+c[z]]=r[v++]);return fe}function Qt(r,o){var c=-1,_=r.length;for(o||(o=J(_));++c<_;)o[c]=r[c];return o}function Xn(r,o,c,_){var v=!c;c||(c={});for(var E=-1,z=o.length;++E<z;){var B=o[E],K=_?_(c[B],r[B],B,c,r):n;K===n&&(K=r[B]),v?Jn(c,B,K):Hr(c,B,K)}return c}function om(r,o){return Xn(r,tu(r),o)}function lm(r,o){return Xn(r,Va(r),o)}function Ko(r,o){return function(c,_){var v=qe(c)?cg:P0,E=o?o():{};return v(c,r,Re(_,2),E)}}function Qi(r){return Ze(function(o,c){var _=-1,v=c.length,E=v>1?c[v-1]:n,z=v>2?c[2]:n;for(E=r.length>3&&typeof E=="function"?(v--,E):n,z&&qt(c[0],c[1],z)&&(E=v<3?n:E,v=1),o=ft(o);++_<v;){var B=c[_];B&&r(o,B,_,E)}return o})}function Ia(r,o){return function(c,_){if(c==null)return c;if(!jt(c))return r(c,_);for(var v=c.length,E=o?v:-1,z=ft(c);(o?E--:++E<v)&&_(z[E],E,z)!==!1;);return c}}function Na(r){return function(o,c,_){for(var v=-1,E=ft(o),z=_(o),B=z.length;B--;){var K=z[r?B:++v];if(c(E[K],K,E)===!1)break}return o}}function sm(r,o,c){var _=o&A,v=Wr(r);function E(){var z=this&&this!==Lt&&this instanceof E?v:r;return z.apply(_?c:this,arguments)}return E}function Ha(r){return function(o){o=ot(o);var c=Ki(o)?An(o):n,_=c?c[0]:o.charAt(0),v=c?bi(c,1).join(""):o.slice(1);return _[r]()+v}}function ji(r){return function(o){return bs(Ic(Oc(o).replace(Q1,"")),r,"")}}function Wr(r){return function(){var o=arguments;switch(o.length){case 0:return new r;case 1:return new r(o[0]);case 2:return new r(o[0],o[1]);case 3:return new r(o[0],o[1],o[2]);case 4:return new r(o[0],o[1],o[2],o[3]);case 5:return new r(o[0],o[1],o[2],o[3],o[4]);case 6:return new r(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new r(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var c=Ji(r.prototype),_=r.apply(c,o);return mt(_)?_:c}}function um(r,o,c){var _=Wr(r);function v(){for(var E=arguments.length,z=J(E),B=E,K=$i(v);B--;)z[B]=arguments[B];var ie=E<3&&z[0]!==K&&z[E-1]!==K?[]:gi(z,K);if(E-=ie.length,E<c)return Wa(r,o,Uo,v.placeholder,n,z,ie,n,n,c-E);var re=this&&this!==Lt&&this instanceof v?_:r;return on(re,this,z)}return v}function za(r){return function(o,c,_){var v=ft(o);if(!jt(o)){var E=Re(c,3);o=It(o),c=function(B){return E(v[B],B,v)}}var z=r(o,c,_);return z>-1?v[E?o[z]:z]:n}}function La(r){return jn(function(o){var c=o.length,_=c,v=bn.prototype.thru;for(r&&o.reverse();_--;){var E=o[_];if(typeof E!="function")throw new wn(u);if(v&&!z&&Zo(E)=="wrapper")var z=new bn([],!0)}for(_=z?_:c;++_<c;){E=o[_];var B=Zo(E),K=B=="wrapper"?$s(E):n;K&&iu(K[0])&&K[1]==(H|S|M|L)&&!K[4].length&&K[9]==1?z=z[Zo(K[0])].apply(z,K[3]):z=E.length==1&&iu(E)?z[B]():z.thru(E)}return function(){var ie=arguments,re=ie[0];if(z&&ie.length==1&&qe(re))return z.plant(re).value();for(var fe=0,we=c?o[fe].apply(this,ie):re;++fe<c;)we=o[fe].call(this,we);return we}})}function Uo(r,o,c,_,v,E,z,B,K,ie){var re=o&H,fe=o&A,we=o&w,Te=o&(S|T),De=o&W,Ge=we?n:Wr(r);function We(){for(var Qe=arguments.length,$e=J(Qe),fn=Qe;fn--;)$e[fn]=arguments[fn];if(Te)var xt=$i(We),an=vg($e,xt);if(_&&($e=Ta($e,_,v,Te)),E&&($e=Oa($e,E,z,Te)),Qe-=an,Te&&Qe<ie){var kt=gi($e,xt);return Wa(r,o,Uo,We.placeholder,c,$e,kt,B,K,ie-Qe)}var Tn=fe?c:this,ni=we?Tn[r]:r;return Qe=$e.length,B?$e=Pm($e,B):De&&Qe>1&&$e.reverse(),re&&K<Qe&&($e.length=K),this&&this!==Lt&&this instanceof We&&(ni=Ge||Wr(ni)),ni.apply(Tn,$e)}return We}function Ra(r,o){return function(c,_){return R0(c,r,o(_),{})}}function qo(r,o){return function(c,_){var v;if(c===n&&_===n)return o;if(c!==n&&(v=c),_!==n){if(v===n)return _;typeof c=="string"||typeof _=="string"?(c=sn(c),_=sn(_)):(c=pa(c),_=pa(_)),v=r(c,_)}return v}}function Zs(r){return jn(function(o){return o=ht(o,ln(Re())),Ze(function(c){var _=this;return r(o,function(v){return on(v,_,c)})})})}function xo(r,o){o=o===n?" ":sn(o);var c=o.length;if(c<2)return c?Fs(o,r):o;var _=Fs(o,Ho(r/Ui(o)));return Ki(o)?bi(An(_),0,r).join(""):_.slice(0,r)}function fm(r,o,c,_){var v=o&A,E=Wr(r);function z(){for(var B=-1,K=arguments.length,ie=-1,re=_.length,fe=J(re+K),we=this&&this!==Lt&&this instanceof z?E:r;++ie<re;)fe[ie]=_[ie];for(;K--;)fe[ie++]=arguments[++B];return on(we,v?c:this,fe)}return z}function Da(r){return function(o,c,_){return _&&typeof _!="number"&&qt(o,c,_)&&(c=_=n),o=ti(o),c===n?(c=o,o=0):c=ti(c),_=_===n?o<c?1:-1:ti(_),G0(o,c,_,r)}}function Go(r){return function(o,c){return typeof o=="string"&&typeof c=="string"||(o=kn(o),c=kn(c)),r(o,c)}}function Wa(r,o,c,_,v,E,z,B,K,ie){var re=o&S,fe=re?z:n,we=re?n:z,Te=re?E:n,De=re?n:E;o|=re?M:I,o&=~(re?I:M),o&N||(o&=~(A|w));var Ge=[r,o,v,Te,fe,De,we,B,K,ie],We=c.apply(n,Ge);return iu(r)&&Ja(We,Ge),We.placeholder=_,Qa(We,r,o)}function Js(r){var o=Mt[r];return function(c,_){if(c=kn(c),_=_==null?0:Wt(xe(_),292),_&&Qf(c)){var v=(ot(c)+"e").split("e"),E=o(v[0]+"e"+(+v[1]+_));return v=(ot(E)+"e").split("e"),+(v[0]+"e"+(+v[1]-_))}return o(c)}}var am=Gi&&1/ko(new Gi([,-0]))[1]==G?function(r){return new Gi(r)}:wu;function Ba(r){return function(o){var c=Bt(o);return c==rt?As(o):c==Ct?Mg(o):bg(o,r(o))}}function Qn(r,o,c,_,v,E,z,B){var K=o&w;if(!K&&typeof r!="function")throw new wn(u);var ie=_?_.length:0;if(ie||(o&=~(M|I),_=v=n),z=z===n?z:Pt(xe(z),0),B=B===n?B:xe(B),ie-=v?v.length:0,o&I){var re=_,fe=v;_=v=n}var we=K?n:$s(r),Te=[r,o,c,_,v,re,fe,E,z,B];if(we&&Em(Te,we),r=Te[0],o=Te[1],c=Te[2],_=Te[3],v=Te[4],B=Te[9]=Te[9]===n?K?0:r.length:Pt(Te[9]-ie,0),!B&&o&(S|T)&&(o&=~(S|T)),!o||o==A)var De=sm(r,o,c);else o==S||o==T?De=um(r,o,B):(o==M||o==(A|M))&&!v.length?De=fm(r,o,c,_):De=Uo.apply(n,Te);var Ge=we?ba:Ja;return Qa(Ge(De,Te),r,o)}function Xa(r,o,c,_){return r===n||Pn(r,xi[c])&&!st.call(_,c)?o:r}function Ya(r,o,c,_,v,E){return mt(r)&&mt(o)&&(E.set(o,r),Yo(r,o,n,Ya,E),E.delete(o)),r}function cm(r){return Yr(r)?n:r}function Fa(r,o,c,_,v,E){var z=c&b,B=r.length,K=o.length;if(B!=K&&!(z&&K>B))return!1;var ie=E.get(r),re=E.get(o);if(ie&&re)return ie==o&&re==r;var fe=-1,we=!0,Te=c&p?new Oi:n;for(E.set(r,o),E.set(o,r);++fe<B;){var De=r[fe],Ge=o[fe];if(_)var We=z?_(Ge,De,fe,o,r,E):_(De,Ge,fe,r,o,E);if(We!==n){if(We)continue;we=!1;break}if(Te){if(!vs(o,function(Qe,$e){if(!Mr(Te,$e)&&(De===Qe||v(De,Qe,c,_,E)))return Te.push($e)})){we=!1;break}}else if(!(De===Ge||v(De,Ge,c,_,E))){we=!1;break}}return E.delete(r),E.delete(o),we}function dm(r,o,c,_,v,E,z){switch(c){case Dt:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case ye:return!(r.byteLength!=o.byteLength||!E(new To(r),new To(o)));case me:case oe:case Pe:return Pn(+r,+o);case Ye:return r.name==o.name&&r.message==o.message;case Ce:case Jt:return r==o+"";case rt:var B=As;case Ct:var K=_&b;if(B||(B=ko),r.size!=o.size&&!K)return!1;var ie=z.get(r);if(ie)return ie==o;_|=p,z.set(r,o);var re=Fa(B(r),B(o),_,v,E,z);return z.delete(r),re;case gn:if(Nr)return Nr.call(r)==Nr.call(o)}return!1}function hm(r,o,c,_,v,E){var z=c&b,B=Qs(r),K=B.length,ie=Qs(o),re=ie.length;if(K!=re&&!z)return!1;for(var fe=K;fe--;){var we=B[fe];if(!(z?we in o:st.call(o,we)))return!1}var Te=E.get(r),De=E.get(o);if(Te&&De)return Te==o&&De==r;var Ge=!0;E.set(r,o),E.set(o,r);for(var We=z;++fe<K;){we=B[fe];var Qe=r[we],$e=o[we];if(_)var fn=z?_($e,Qe,we,o,r,E):_(Qe,$e,we,r,o,E);if(!(fn===n?Qe===$e||v(Qe,$e,c,_,E):fn)){Ge=!1;break}We||(We=we=="constructor")}if(Ge&&!We){var xt=r.constructor,an=o.constructor;xt!=an&&"constructor"in r&&"constructor"in o&&!(typeof xt=="function"&&xt instanceof xt&&typeof an=="function"&&an instanceof an)&&(Ge=!1)}return E.delete(r),E.delete(o),Ge}function jn(r){return ou(Ga(r,n,ic),r+"")}function Qs(r){return ua(r,It,tu)}function js(r){return ua(r,$t,Va)}var $s=Lo?function(r){return Lo.get(r)}:wu;function Zo(r){for(var o=r.name+"",c=Zi[o],_=st.call(Zi,o)?c.length:0;_--;){var v=c[_],E=v.func;if(E==null||E==r)return v.name}return o}function $i(r){var o=st.call(k,"placeholder")?k:r;return o.placeholder}function Re(){var r=k.iteratee||_u;return r=r===_u?ca:r,arguments.length?r(arguments[0],arguments[1]):r}function Jo(r,o){var c=r.__data__;return pm(o)?c[typeof o=="string"?"string":"hash"]:c.map}function eu(r){for(var o=It(r),c=o.length;c--;){var _=o[c],v=r[_];o[c]=[_,v,qa(v)]}return o}function Hi(r,o){var c=Cg(r,o);return aa(c)?c:n}function gm(r){var o=st.call(r,Pi),c=r[Pi];try{r[Pi]=n;var _=!0}catch{}var v=Mo.call(r);return _&&(o?r[Pi]=c:delete r[Pi]),v}var tu=Ps?function(r){return r==null?[]:(r=ft(r),di(Ps(r),function(o){return Zf.call(r,o)}))}:bu,Va=Ps?function(r){for(var o=[];r;)hi(o,tu(r)),r=Oo(r);return o}:bu,Bt=Ut;(Ts&&Bt(new Ts(new ArrayBuffer(1)))!=Dt||Tr&&Bt(new Tr)!=rt||Os&&Bt(Os.resolve())!=rn||Gi&&Bt(new Gi)!=Ct||Or&&Bt(new Or)!=Tt)&&(Bt=function(r){var o=Ut(r),c=o==ut?r.constructor:n,_=c?zi(c):"";if(_)switch(_){case Jg:return Dt;case Qg:return rt;case jg:return rn;case $g:return Ct;case e0:return Tt}return o});function mm(r,o,c){for(var _=-1,v=c.length;++_<v;){var E=c[_],z=E.size;switch(E.type){case"drop":r+=z;break;case"dropRight":o-=z;break;case"take":o=Wt(o,r+z);break;case"takeRight":r=Pt(r,o-z);break}}return{start:r,end:o}}function _m(r){var o=r.match(rs);return o?o[1].split(os):[]}function Ka(r,o,c){o=wi(o,r);for(var _=-1,v=o.length,E=!1;++_<v;){var z=Yn(o[_]);if(!(E=r!=null&&c(r,z)))break;r=r[z]}return E||++_!=v?E:(v=r==null?0:r.length,!!v&&il(v)&&$n(z,v)&&(qe(r)||Li(r)))}function ym(r){var o=r.length,c=new r.constructor(o);return o&&typeof r[0]=="string"&&st.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function Ua(r){return typeof r.constructor=="function"&&!Br(r)?Ji(Oo(r)):{}}function wm(r,o,c){var _=r.constructor;switch(o){case ye:return Gs(r);case me:case oe:return new _(+r);case Dt:return tm(r,c);case Ot:case Ht:case Rn:case Dn:case mn:case Wn:case qn:case xn:case fi:return Ma(r,c);case rt:return new _;case Pe:case Jt:return new _(r);case Ce:return nm(r);case Ct:return new _;case gn:return im(r)}}function bm(r,o){var c=o.length;if(!c)return r;var _=c-1;return o[_]=(c>1?"& ":"")+o[_],o=o.join(c>2?", ":" "),r.replace(is,`{
/* [wrapped with `+o+`] */
`)}function vm(r){return qe(r)||Li(r)||!!(Jf&&r&&r[Jf])}function $n(r,o){var c=typeof r;return o=o??x,!!o&&(c=="number"||c!="symbol"&&N1.test(r))&&r>-1&&r%1==0&&r<o}function qt(r,o,c){if(!mt(c))return!1;var _=typeof o;return(_=="number"?jt(c)&&$n(o,c.length):_=="string"&&o in c)?Pn(c[o],r):!1}function nu(r,o){if(qe(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||un(r)?!0:$l.test(r)||!jl.test(r)||o!=null&&r in ft(o)}function pm(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function iu(r){var o=Zo(r),c=k[o];if(typeof c!="function"||!(o in je.prototype))return!1;if(r===c)return!0;var _=$s(c);return!!_&&r===_[0]}function Sm(r){return!!qf&&qf in r}var km=Eo?ei:vu;function Br(r){var o=r&&r.constructor,c=typeof o=="function"&&o.prototype||xi;return r===c}function qa(r){return r===r&&!mt(r)}function xa(r,o){return function(c){return c==null?!1:c[r]===o&&(o!==n||r in ft(c))}}function Cm(r){var o=tl(r,function(_){return c.size===d&&c.clear(),_}),c=o.cache;return o}function Em(r,o){var c=r[1],_=o[1],v=c|_,E=v<(A|w|H),z=_==H&&c==S||_==H&&c==L&&r[7].length<=o[8]||_==(H|L)&&o[7].length<=o[8]&&c==S;if(!(E||z))return r;_&A&&(r[2]=o[2],v|=c&A?0:N);var B=o[3];if(B){var K=r[3];r[3]=K?Ta(K,B,o[4]):B,r[4]=K?gi(r[3],h):o[4]}return B=o[5],B&&(K=r[5],r[5]=K?Oa(K,B,o[6]):B,r[6]=K?gi(r[5],h):o[6]),B=o[7],B&&(r[7]=B),_&H&&(r[8]=r[8]==null?o[8]:Wt(r[8],o[8])),r[9]==null&&(r[9]=o[9]),r[0]=o[0],r[1]=v,r}function Am(r){var o=[];if(r!=null)for(var c in ft(r))o.push(c);return o}function Mm(r){return Mo.call(r)}function Ga(r,o,c){return o=Pt(o===n?r.length-1:o,0),function(){for(var _=arguments,v=-1,E=Pt(_.length-o,0),z=J(E);++v<E;)z[v]=_[o+v];v=-1;for(var B=J(o+1);++v<o;)B[v]=_[v];return B[o]=c(z),on(r,this,B)}}function Za(r,o){return o.length<2?r:Ni(r,pn(o,0,-1))}function Pm(r,o){for(var c=r.length,_=Wt(o.length,c),v=Qt(r);_--;){var E=o[_];r[_]=$n(E,c)?v[E]:n}return r}function ru(r,o){if(!(o==="constructor"&&typeof r[o]=="function")&&o!="__proto__")return r[o]}var Ja=ja(ba),Xr=Vg||function(r,o){return Lt.setTimeout(r,o)},ou=ja(Q0);function Qa(r,o,c){var _=o+"";return ou(r,bm(_,Tm(_m(_),c)))}function ja(r){var o=0,c=0;return function(){var _=xg(),v=D-(_-c);if(c=_,v>0){if(++o>=X)return arguments[0]}else o=0;return r.apply(n,arguments)}}function Qo(r,o){var c=-1,_=r.length,v=_-1;for(o=o===n?_:o;++c<o;){var E=Ys(c,v),z=r[E];r[E]=r[c],r[c]=z}return r.length=o,r}var $a=Cm(function(r){var o=[];return r.charCodeAt(0)===46&&o.push(""),r.replace(es,function(c,_,v,E){o.push(v?E.replace(us,"$1"):_||c)}),o});function Yn(r){if(typeof r=="string"||un(r))return r;var o=r+"";return o=="0"&&1/r==-G?"-0":o}function zi(r){if(r!=null){try{return Ao.call(r)}catch{}try{return r+""}catch{}}return""}function Tm(r,o){return yn(Me,function(c){var _="_."+c[0];o&c[1]&&!po(r,_)&&r.push(_)}),r.sort()}function ec(r){if(r instanceof je)return r.clone();var o=new bn(r.__wrapped__,r.__chain__);return o.__actions__=Qt(r.__actions__),o.__index__=r.__index__,o.__values__=r.__values__,o}function Om(r,o,c){(c?qt(r,o,c):o===n)?o=1:o=Pt(xe(o),0);var _=r==null?0:r.length;if(!_||o<1)return[];for(var v=0,E=0,z=J(Ho(_/o));v<_;)z[E++]=pn(r,v,v+=o);return z}function Im(r){for(var o=-1,c=r==null?0:r.length,_=0,v=[];++o<c;){var E=r[o];E&&(v[_++]=E)}return v}function Nm(){var r=arguments.length;if(!r)return[];for(var o=J(r-1),c=arguments[0],_=r;_--;)o[_-1]=arguments[_];return hi(qe(c)?Qt(c):[c],Rt(o,1))}var Hm=Ze(function(r,o){return St(r)?zr(r,Rt(o,1,St,!0)):[]}),zm=Ze(function(r,o){var c=Sn(o);return St(c)&&(c=n),St(r)?zr(r,Rt(o,1,St,!0),Re(c,2)):[]}),Lm=Ze(function(r,o){var c=Sn(o);return St(c)&&(c=n),St(r)?zr(r,Rt(o,1,St,!0),n,c):[]});function Rm(r,o,c){var _=r==null?0:r.length;return _?(o=c||o===n?1:xe(o),pn(r,o<0?0:o,_)):[]}function Dm(r,o,c){var _=r==null?0:r.length;return _?(o=c||o===n?1:xe(o),o=_-o,pn(r,0,o<0?0:o)):[]}function Wm(r,o){return r&&r.length?Vo(r,Re(o,3),!0,!0):[]}function Bm(r,o){return r&&r.length?Vo(r,Re(o,3),!0):[]}function Xm(r,o,c,_){var v=r==null?0:r.length;return v?(c&&typeof c!="number"&&qt(r,o,c)&&(c=0,_=v),N0(r,o,c,_)):[]}function tc(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var v=c==null?0:xe(c);return v<0&&(v=Pt(_+v,0)),So(r,Re(o,3),v)}function nc(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var v=_-1;return c!==n&&(v=xe(c),v=c<0?Pt(_+v,0):Wt(v,_-1)),So(r,Re(o,3),v,!0)}function ic(r){var o=r==null?0:r.length;return o?Rt(r,1):[]}function Ym(r){var o=r==null?0:r.length;return o?Rt(r,G):[]}function Fm(r,o){var c=r==null?0:r.length;return c?(o=o===n?1:xe(o),Rt(r,o)):[]}function Vm(r){for(var o=-1,c=r==null?0:r.length,_={};++o<c;){var v=r[o];_[v[0]]=v[1]}return _}function rc(r){return r&&r.length?r[0]:n}function Km(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var v=c==null?0:xe(c);return v<0&&(v=Pt(_+v,0)),Vi(r,o,v)}function Um(r){var o=r==null?0:r.length;return o?pn(r,0,-1):[]}var qm=Ze(function(r){var o=ht(r,qs);return o.length&&o[0]===r[0]?Rs(o):[]}),xm=Ze(function(r){var o=Sn(r),c=ht(r,qs);return o===Sn(c)?o=n:c.pop(),c.length&&c[0]===r[0]?Rs(c,Re(o,2)):[]}),Gm=Ze(function(r){var o=Sn(r),c=ht(r,qs);return o=typeof o=="function"?o:n,o&&c.pop(),c.length&&c[0]===r[0]?Rs(c,n,o):[]});function Zm(r,o){return r==null?"":Ug.call(r,o)}function Sn(r){var o=r==null?0:r.length;return o?r[o-1]:n}function Jm(r,o,c){var _=r==null?0:r.length;if(!_)return-1;var v=_;return c!==n&&(v=xe(c),v=v<0?Pt(_+v,0):Wt(v,_-1)),o===o?Tg(r,o,v):So(r,Wf,v,!0)}function Qm(r,o){return r&&r.length?ma(r,xe(o)):n}var jm=Ze(oc);function oc(r,o){return r&&r.length&&o&&o.length?Xs(r,o):r}function $m(r,o,c){return r&&r.length&&o&&o.length?Xs(r,o,Re(c,2)):r}function e_(r,o,c){return r&&r.length&&o&&o.length?Xs(r,o,n,c):r}var t_=jn(function(r,o){var c=r==null?0:r.length,_=Ns(r,o);return wa(r,ht(o,function(v){return $n(v,c)?+v:v}).sort(Pa)),_});function n_(r,o){var c=[];if(!(r&&r.length))return c;var _=-1,v=[],E=r.length;for(o=Re(o,3);++_<E;){var z=r[_];o(z,_,r)&&(c.push(z),v.push(_))}return wa(r,v),c}function lu(r){return r==null?r:Zg.call(r)}function i_(r,o,c){var _=r==null?0:r.length;return _?(c&&typeof c!="number"&&qt(r,o,c)?(o=0,c=_):(o=o==null?0:xe(o),c=c===n?_:xe(c)),pn(r,o,c)):[]}function r_(r,o){return Fo(r,o)}function o_(r,o,c){return Vs(r,o,Re(c,2))}function l_(r,o){var c=r==null?0:r.length;if(c){var _=Fo(r,o);if(_<c&&Pn(r[_],o))return _}return-1}function s_(r,o){return Fo(r,o,!0)}function u_(r,o,c){return Vs(r,o,Re(c,2),!0)}function f_(r,o){var c=r==null?0:r.length;if(c){var _=Fo(r,o,!0)-1;if(Pn(r[_],o))return _}return-1}function a_(r){return r&&r.length?va(r):[]}function c_(r,o){return r&&r.length?va(r,Re(o,2)):[]}function d_(r){var o=r==null?0:r.length;return o?pn(r,1,o):[]}function h_(r,o,c){return r&&r.length?(o=c||o===n?1:xe(o),pn(r,0,o<0?0:o)):[]}function g_(r,o,c){var _=r==null?0:r.length;return _?(o=c||o===n?1:xe(o),o=_-o,pn(r,o<0?0:o,_)):[]}function m_(r,o){return r&&r.length?Vo(r,Re(o,3),!1,!0):[]}function __(r,o){return r&&r.length?Vo(r,Re(o,3)):[]}var y_=Ze(function(r){return yi(Rt(r,1,St,!0))}),w_=Ze(function(r){var o=Sn(r);return St(o)&&(o=n),yi(Rt(r,1,St,!0),Re(o,2))}),b_=Ze(function(r){var o=Sn(r);return o=typeof o=="function"?o:n,yi(Rt(r,1,St,!0),n,o)});function v_(r){return r&&r.length?yi(r):[]}function p_(r,o){return r&&r.length?yi(r,Re(o,2)):[]}function S_(r,o){return o=typeof o=="function"?o:n,r&&r.length?yi(r,n,o):[]}function su(r){if(!(r&&r.length))return[];var o=0;return r=di(r,function(c){if(St(c))return o=Pt(c.length,o),!0}),Cs(o,function(c){return ht(r,ps(c))})}function lc(r,o){if(!(r&&r.length))return[];var c=su(r);return o==null?c:ht(c,function(_){return on(o,n,_)})}var k_=Ze(function(r,o){return St(r)?zr(r,o):[]}),C_=Ze(function(r){return Us(di(r,St))}),E_=Ze(function(r){var o=Sn(r);return St(o)&&(o=n),Us(di(r,St),Re(o,2))}),A_=Ze(function(r){var o=Sn(r);return o=typeof o=="function"?o:n,Us(di(r,St),n,o)}),M_=Ze(su);function P_(r,o){return Ca(r||[],o||[],Hr)}function T_(r,o){return Ca(r||[],o||[],Dr)}var O_=Ze(function(r){var o=r.length,c=o>1?r[o-1]:n;return c=typeof c=="function"?(r.pop(),c):n,lc(r,c)});function sc(r){var o=k(r);return o.__chain__=!0,o}function I_(r,o){return o(r),r}function jo(r,o){return o(r)}var N_=jn(function(r){var o=r.length,c=o?r[0]:0,_=this.__wrapped__,v=function(E){return Ns(E,r)};return o>1||this.__actions__.length||!(_ instanceof je)||!$n(c)?this.thru(v):(_=_.slice(c,+c+(o?1:0)),_.__actions__.push({func:jo,args:[v],thisArg:n}),new bn(_,this.__chain__).thru(function(E){return o&&!E.length&&E.push(n),E}))});function H_(){return sc(this)}function z_(){return new bn(this.value(),this.__chain__)}function L_(){this.__values__===n&&(this.__values__=pc(this.value()));var r=this.__index__>=this.__values__.length,o=r?n:this.__values__[this.__index__++];return{done:r,value:o}}function R_(){return this}function D_(r){for(var o,c=this;c instanceof Do;){var _=ec(c);_.__index__=0,_.__values__=n,o?v.__wrapped__=_:o=_;var v=_;c=c.__wrapped__}return v.__wrapped__=r,o}function W_(){var r=this.__wrapped__;if(r instanceof je){var o=r;return this.__actions__.length&&(o=new je(this)),o=o.reverse(),o.__actions__.push({func:jo,args:[lu],thisArg:n}),new bn(o,this.__chain__)}return this.thru(lu)}function B_(){return ka(this.__wrapped__,this.__actions__)}var X_=Ko(function(r,o,c){st.call(r,c)?++r[c]:Jn(r,c,1)});function Y_(r,o,c){var _=qe(r)?Rf:I0;return c&&qt(r,o,c)&&(o=n),_(r,Re(o,3))}function F_(r,o){var c=qe(r)?di:la;return c(r,Re(o,3))}var V_=za(tc),K_=za(nc);function U_(r,o){return Rt($o(r,o),1)}function q_(r,o){return Rt($o(r,o),G)}function x_(r,o,c){return c=c===n?1:xe(c),Rt($o(r,o),c)}function uc(r,o){var c=qe(r)?yn:_i;return c(r,Re(o,3))}function fc(r,o){var c=qe(r)?dg:oa;return c(r,Re(o,3))}var G_=Ko(function(r,o,c){st.call(r,c)?r[c].push(o):Jn(r,c,[o])});function Z_(r,o,c,_){r=jt(r)?r:tr(r),c=c&&!_?xe(c):0;var v=r.length;return c<0&&(c=Pt(v+c,0)),rl(r)?c<=v&&r.indexOf(o,c)>-1:!!v&&Vi(r,o,c)>-1}var J_=Ze(function(r,o,c){var _=-1,v=typeof o=="function",E=jt(r)?J(r.length):[];return _i(r,function(z){E[++_]=v?on(o,z,c):Lr(z,o,c)}),E}),Q_=Ko(function(r,o,c){Jn(r,c,o)});function $o(r,o){var c=qe(r)?ht:da;return c(r,Re(o,3))}function j_(r,o,c,_){return r==null?[]:(qe(o)||(o=o==null?[]:[o]),c=_?n:c,qe(c)||(c=c==null?[]:[c]),_a(r,o,c))}var $_=Ko(function(r,o,c){r[c?0:1].push(o)},function(){return[[],[]]});function e2(r,o,c){var _=qe(r)?bs:Xf,v=arguments.length<3;return _(r,Re(o,4),c,v,_i)}function t2(r,o,c){var _=qe(r)?hg:Xf,v=arguments.length<3;return _(r,Re(o,4),c,v,oa)}function n2(r,o){var c=qe(r)?di:la;return c(r,nl(Re(o,3)))}function i2(r){var o=qe(r)?ta:Z0;return o(r)}function r2(r,o,c){(c?qt(r,o,c):o===n)?o=1:o=xe(o);var _=qe(r)?A0:J0;return _(r,o)}function o2(r){var o=qe(r)?M0:j0;return o(r)}function l2(r){if(r==null)return 0;if(jt(r))return rl(r)?Ui(r):r.length;var o=Bt(r);return o==rt||o==Ct?r.size:Ws(r).length}function s2(r,o,c){var _=qe(r)?vs:$0;return c&&qt(r,o,c)&&(o=n),_(r,Re(o,3))}var u2=Ze(function(r,o){if(r==null)return[];var c=o.length;return c>1&&qt(r,o[0],o[1])?o=[]:c>2&&qt(o[0],o[1],o[2])&&(o=[o[0]]),_a(r,Rt(o,1),[])}),el=Fg||function(){return Lt.Date.now()};function f2(r,o){if(typeof o!="function")throw new wn(u);return r=xe(r),function(){if(--r<1)return o.apply(this,arguments)}}function ac(r,o,c){return o=c?n:o,o=r&&o==null?r.length:o,Qn(r,H,n,n,n,n,o)}function cc(r,o){var c;if(typeof o!="function")throw new wn(u);return r=xe(r),function(){return--r>0&&(c=o.apply(this,arguments)),r<=1&&(o=n),c}}var uu=Ze(function(r,o,c){var _=A;if(c.length){var v=gi(c,$i(uu));_|=M}return Qn(r,_,o,c,v)}),dc=Ze(function(r,o,c){var _=A|w;if(c.length){var v=gi(c,$i(dc));_|=M}return Qn(o,_,r,c,v)});function hc(r,o,c){o=c?n:o;var _=Qn(r,S,n,n,n,n,n,o);return _.placeholder=hc.placeholder,_}function gc(r,o,c){o=c?n:o;var _=Qn(r,T,n,n,n,n,n,o);return _.placeholder=gc.placeholder,_}function mc(r,o,c){var _,v,E,z,B,K,ie=0,re=!1,fe=!1,we=!0;if(typeof r!="function")throw new wn(u);o=kn(o)||0,mt(c)&&(re=!!c.leading,fe="maxWait"in c,E=fe?Pt(kn(c.maxWait)||0,o):E,we="trailing"in c?!!c.trailing:we);function Te(kt){var Tn=_,ni=v;return _=v=n,ie=kt,z=r.apply(ni,Tn),z}function De(kt){return ie=kt,B=Xr(Qe,o),re?Te(kt):z}function Ge(kt){var Tn=kt-K,ni=kt-ie,zc=o-Tn;return fe?Wt(zc,E-ni):zc}function We(kt){var Tn=kt-K,ni=kt-ie;return K===n||Tn>=o||Tn<0||fe&&ni>=E}function Qe(){var kt=el();if(We(kt))return $e(kt);B=Xr(Qe,Ge(kt))}function $e(kt){return B=n,we&&_?Te(kt):(_=v=n,z)}function fn(){B!==n&&Ea(B),ie=0,_=K=v=B=n}function xt(){return B===n?z:$e(el())}function an(){var kt=el(),Tn=We(kt);if(_=arguments,v=this,K=kt,Tn){if(B===n)return De(K);if(fe)return Ea(B),B=Xr(Qe,o),Te(K)}return B===n&&(B=Xr(Qe,o)),z}return an.cancel=fn,an.flush=xt,an}var a2=Ze(function(r,o){return ra(r,1,o)}),c2=Ze(function(r,o,c){return ra(r,kn(o)||0,c)});function d2(r){return Qn(r,W)}function tl(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new wn(u);var c=function(){var _=arguments,v=o?o.apply(this,_):_[0],E=c.cache;if(E.has(v))return E.get(v);var z=r.apply(this,_);return c.cache=E.set(v,z)||E,z};return c.cache=new(tl.Cache||Zn),c}tl.Cache=Zn;function nl(r){if(typeof r!="function")throw new wn(u);return function(){var o=arguments;switch(o.length){case 0:return!r.call(this);case 1:return!r.call(this,o[0]);case 2:return!r.call(this,o[0],o[1]);case 3:return!r.call(this,o[0],o[1],o[2])}return!r.apply(this,o)}}function h2(r){return cc(2,r)}var g2=em(function(r,o){o=o.length==1&&qe(o[0])?ht(o[0],ln(Re())):ht(Rt(o,1),ln(Re()));var c=o.length;return Ze(function(_){for(var v=-1,E=Wt(_.length,c);++v<E;)_[v]=o[v].call(this,_[v]);return on(r,this,_)})}),fu=Ze(function(r,o){var c=gi(o,$i(fu));return Qn(r,M,n,o,c)}),_c=Ze(function(r,o){var c=gi(o,$i(_c));return Qn(r,I,n,o,c)}),m2=jn(function(r,o){return Qn(r,L,n,n,n,o)});function _2(r,o){if(typeof r!="function")throw new wn(u);return o=o===n?o:xe(o),Ze(r,o)}function y2(r,o){if(typeof r!="function")throw new wn(u);return o=o==null?0:Pt(xe(o),0),Ze(function(c){var _=c[o],v=bi(c,0,o);return _&&hi(v,_),on(r,this,v)})}function w2(r,o,c){var _=!0,v=!0;if(typeof r!="function")throw new wn(u);return mt(c)&&(_="leading"in c?!!c.leading:_,v="trailing"in c?!!c.trailing:v),mc(r,o,{leading:_,maxWait:o,trailing:v})}function b2(r){return ac(r,1)}function v2(r,o){return fu(xs(o),r)}function p2(){if(!arguments.length)return[];var r=arguments[0];return qe(r)?r:[r]}function S2(r){return vn(r,y)}function k2(r,o){return o=typeof o=="function"?o:n,vn(r,y,o)}function C2(r){return vn(r,g|y)}function E2(r,o){return o=typeof o=="function"?o:n,vn(r,g|y,o)}function A2(r,o){return o==null||ia(r,o,It(o))}function Pn(r,o){return r===o||r!==r&&o!==o}var M2=Go(Ls),P2=Go(function(r,o){return r>=o}),Li=fa(function(){return arguments}())?fa:function(r){return pt(r)&&st.call(r,"callee")&&!Zf.call(r,"callee")},qe=J.isArray,T2=Of?ln(Of):D0;function jt(r){return r!=null&&il(r.length)&&!ei(r)}function St(r){return pt(r)&&jt(r)}function O2(r){return r===!0||r===!1||pt(r)&&Ut(r)==me}var vi=Kg||vu,I2=If?ln(If):W0;function N2(r){return pt(r)&&r.nodeType===1&&!Yr(r)}function H2(r){if(r==null)return!0;if(jt(r)&&(qe(r)||typeof r=="string"||typeof r.splice=="function"||vi(r)||er(r)||Li(r)))return!r.length;var o=Bt(r);if(o==rt||o==Ct)return!r.size;if(Br(r))return!Ws(r).length;for(var c in r)if(st.call(r,c))return!1;return!0}function z2(r,o){return Rr(r,o)}function L2(r,o,c){c=typeof c=="function"?c:n;var _=c?c(r,o):n;return _===n?Rr(r,o,n,c):!!_}function au(r){if(!pt(r))return!1;var o=Ut(r);return o==Ye||o==le||typeof r.message=="string"&&typeof r.name=="string"&&!Yr(r)}function R2(r){return typeof r=="number"&&Qf(r)}function ei(r){if(!mt(r))return!1;var o=Ut(r);return o==Ue||o==et||o==ge||o==hn}function yc(r){return typeof r=="number"&&r==xe(r)}function il(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=x}function mt(r){var o=typeof r;return r!=null&&(o=="object"||o=="function")}function pt(r){return r!=null&&typeof r=="object"}var wc=Nf?ln(Nf):X0;function D2(r,o){return r===o||Ds(r,o,eu(o))}function W2(r,o,c){return c=typeof c=="function"?c:n,Ds(r,o,eu(o),c)}function B2(r){return bc(r)&&r!=+r}function X2(r){if(km(r))throw new Ve(s);return aa(r)}function Y2(r){return r===null}function F2(r){return r==null}function bc(r){return typeof r=="number"||pt(r)&&Ut(r)==Pe}function Yr(r){if(!pt(r)||Ut(r)!=ut)return!1;var o=Oo(r);if(o===null)return!0;var c=st.call(o,"constructor")&&o.constructor;return typeof c=="function"&&c instanceof c&&Ao.call(c)==Wg}var cu=Hf?ln(Hf):Y0;function V2(r){return yc(r)&&r>=-x&&r<=x}var vc=zf?ln(zf):F0;function rl(r){return typeof r=="string"||!qe(r)&&pt(r)&&Ut(r)==Jt}function un(r){return typeof r=="symbol"||pt(r)&&Ut(r)==gn}var er=Lf?ln(Lf):V0;function K2(r){return r===n}function U2(r){return pt(r)&&Bt(r)==Tt}function q2(r){return pt(r)&&Ut(r)==Nt}var x2=Go(Bs),G2=Go(function(r,o){return r<=o});function pc(r){if(!r)return[];if(jt(r))return rl(r)?An(r):Qt(r);if(Pr&&r[Pr])return Ag(r[Pr]());var o=Bt(r),c=o==rt?As:o==Ct?ko:tr;return c(r)}function ti(r){if(!r)return r===0?r:0;if(r=kn(r),r===G||r===-G){var o=r<0?-1:1;return o*Q}return r===r?r:0}function xe(r){var o=ti(r),c=o%1;return o===o?c?o-c:o:0}function Sc(r){return r?Ii(xe(r),0,ce):0}function kn(r){if(typeof r=="number")return r;if(un(r))return ae;if(mt(r)){var o=typeof r.valueOf=="function"?r.valueOf():r;r=mt(o)?o+"":o}if(typeof r!="string")return r===0?r:+r;r=Yf(r);var c=U.test(r);return c||I1.test(r)?fg(r.slice(2),c?2:8):as.test(r)?ae:+r}function kc(r){return Xn(r,$t(r))}function Z2(r){return r?Ii(xe(r),-x,x):r===0?r:0}function ot(r){return r==null?"":sn(r)}var J2=Qi(function(r,o){if(Br(o)||jt(o)){Xn(o,It(o),r);return}for(var c in o)st.call(o,c)&&Hr(r,c,o[c])}),Cc=Qi(function(r,o){Xn(o,$t(o),r)}),ol=Qi(function(r,o,c,_){Xn(o,$t(o),r,_)}),Q2=Qi(function(r,o,c,_){Xn(o,It(o),r,_)}),j2=jn(Ns);function $2(r,o){var c=Ji(r);return o==null?c:na(c,o)}var ey=Ze(function(r,o){r=ft(r);var c=-1,_=o.length,v=_>2?o[2]:n;for(v&&qt(o[0],o[1],v)&&(_=1);++c<_;)for(var E=o[c],z=$t(E),B=-1,K=z.length;++B<K;){var ie=z[B],re=r[ie];(re===n||Pn(re,xi[ie])&&!st.call(r,ie))&&(r[ie]=E[ie])}return r}),ty=Ze(function(r){return r.push(n,Ya),on(Ec,n,r)});function ny(r,o){return Df(r,Re(o,3),Bn)}function iy(r,o){return Df(r,Re(o,3),zs)}function ry(r,o){return r==null?r:Hs(r,Re(o,3),$t)}function oy(r,o){return r==null?r:sa(r,Re(o,3),$t)}function ly(r,o){return r&&Bn(r,Re(o,3))}function sy(r,o){return r&&zs(r,Re(o,3))}function uy(r){return r==null?[]:Xo(r,It(r))}function fy(r){return r==null?[]:Xo(r,$t(r))}function du(r,o,c){var _=r==null?n:Ni(r,o);return _===n?c:_}function ay(r,o){return r!=null&&Ka(r,o,H0)}function hu(r,o){return r!=null&&Ka(r,o,z0)}var cy=Ra(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Mo.call(o)),r[o]=c},mu(en)),dy=Ra(function(r,o,c){o!=null&&typeof o.toString!="function"&&(o=Mo.call(o)),st.call(r,o)?r[o].push(c):r[o]=[c]},Re),hy=Ze(Lr);function It(r){return jt(r)?ea(r):Ws(r)}function $t(r){return jt(r)?ea(r,!0):K0(r)}function gy(r,o){var c={};return o=Re(o,3),Bn(r,function(_,v,E){Jn(c,o(_,v,E),_)}),c}function my(r,o){var c={};return o=Re(o,3),Bn(r,function(_,v,E){Jn(c,v,o(_,v,E))}),c}var _y=Qi(function(r,o,c){Yo(r,o,c)}),Ec=Qi(function(r,o,c,_){Yo(r,o,c,_)}),yy=jn(function(r,o){var c={};if(r==null)return c;var _=!1;o=ht(o,function(E){return E=wi(E,r),_||(_=E.length>1),E}),Xn(r,js(r),c),_&&(c=vn(c,g|m|y,cm));for(var v=o.length;v--;)Ks(c,o[v]);return c});function wy(r,o){return Ac(r,nl(Re(o)))}var by=jn(function(r,o){return r==null?{}:q0(r,o)});function Ac(r,o){if(r==null)return{};var c=ht(js(r),function(_){return[_]});return o=Re(o),ya(r,c,function(_,v){return o(_,v[0])})}function vy(r,o,c){o=wi(o,r);var _=-1,v=o.length;for(v||(v=1,r=n);++_<v;){var E=r==null?n:r[Yn(o[_])];E===n&&(_=v,E=c),r=ei(E)?E.call(r):E}return r}function py(r,o,c){return r==null?r:Dr(r,o,c)}function Sy(r,o,c,_){return _=typeof _=="function"?_:n,r==null?r:Dr(r,o,c,_)}var Mc=Ba(It),Pc=Ba($t);function ky(r,o,c){var _=qe(r),v=_||vi(r)||er(r);if(o=Re(o,4),c==null){var E=r&&r.constructor;v?c=_?new E:[]:mt(r)?c=ei(E)?Ji(Oo(r)):{}:c={}}return(v?yn:Bn)(r,function(z,B,K){return o(c,z,B,K)}),c}function Cy(r,o){return r==null?!0:Ks(r,o)}function Ey(r,o,c){return r==null?r:Sa(r,o,xs(c))}function Ay(r,o,c,_){return _=typeof _=="function"?_:n,r==null?r:Sa(r,o,xs(c),_)}function tr(r){return r==null?[]:Es(r,It(r))}function My(r){return r==null?[]:Es(r,$t(r))}function Py(r,o,c){return c===n&&(c=o,o=n),c!==n&&(c=kn(c),c=c===c?c:0),o!==n&&(o=kn(o),o=o===o?o:0),Ii(kn(r),o,c)}function Ty(r,o,c){return o=ti(o),c===n?(c=o,o=0):c=ti(c),r=kn(r),L0(r,o,c)}function Oy(r,o,c){if(c&&typeof c!="boolean"&&qt(r,o,c)&&(o=c=n),c===n&&(typeof o=="boolean"?(c=o,o=n):typeof r=="boolean"&&(c=r,r=n)),r===n&&o===n?(r=0,o=1):(r=ti(r),o===n?(o=r,r=0):o=ti(o)),r>o){var _=r;r=o,o=_}if(c||r%1||o%1){var v=jf();return Wt(r+v*(o-r+ug("1e-"+((v+"").length-1))),o)}return Ys(r,o)}var Iy=ji(function(r,o,c){return o=o.toLowerCase(),r+(c?Tc(o):o)});function Tc(r){return gu(ot(r).toLowerCase())}function Oc(r){return r=ot(r),r&&r.replace(H1,pg).replace(j1,"")}function Ny(r,o,c){r=ot(r),o=sn(o);var _=r.length;c=c===n?_:Ii(xe(c),0,_);var v=c;return c-=o.length,c>=0&&r.slice(c,v)==o}function Hy(r){return r=ot(r),r&&Zl.test(r)?r.replace(Yi,Sg):r}function zy(r){return r=ot(r),r&&ts.test(r)?r.replace(Er,"\\$&"):r}var Ly=ji(function(r,o,c){return r+(c?"-":"")+o.toLowerCase()}),Ry=ji(function(r,o,c){return r+(c?" ":"")+o.toLowerCase()}),Dy=Ha("toLowerCase");function Wy(r,o,c){r=ot(r),o=xe(o);var _=o?Ui(r):0;if(!o||_>=o)return r;var v=(o-_)/2;return xo(zo(v),c)+r+xo(Ho(v),c)}function By(r,o,c){r=ot(r),o=xe(o);var _=o?Ui(r):0;return o&&_<o?r+xo(o-_,c):r}function Xy(r,o,c){r=ot(r),o=xe(o);var _=o?Ui(r):0;return o&&_<o?xo(o-_,c)+r:r}function Yy(r,o,c){return c||o==null?o=0:o&&(o=+o),Gg(ot(r).replace(Ar,""),o||0)}function Fy(r,o,c){return(c?qt(r,o,c):o===n)?o=1:o=xe(o),Fs(ot(r),o)}function Vy(){var r=arguments,o=ot(r[0]);return r.length<3?o:o.replace(r[1],r[2])}var Ky=ji(function(r,o,c){return r+(c?"_":"")+o.toLowerCase()});function Uy(r,o,c){return c&&typeof c!="number"&&qt(r,o,c)&&(o=c=n),c=c===n?ce:c>>>0,c?(r=ot(r),r&&(typeof o=="string"||o!=null&&!cu(o))&&(o=sn(o),!o&&Ki(r))?bi(An(r),0,c):r.split(o,c)):[]}var qy=ji(function(r,o,c){return r+(c?" ":"")+gu(o)});function xy(r,o,c){return r=ot(r),c=c==null?0:Ii(xe(c),0,r.length),o=sn(o),r.slice(c,c+o.length)==o}function Gy(r,o,c){var _=k.templateSettings;c&&qt(r,o,c)&&(o=n),r=ot(r),o=ol({},o,_,Xa);var v=ol({},o.imports,_.imports,Xa),E=It(v),z=Es(v,E),B,K,ie=0,re=o.interpolate||wo,fe="__p += '",we=Ms((o.escape||wo).source+"|"+re.source+"|"+(re===_o?fs:wo).source+"|"+(o.evaluate||wo).source+"|$","g"),Te="//# sourceURL="+(st.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ig+"]")+`
`;r.replace(we,function(We,Qe,$e,fn,xt,an){return $e||($e=fn),fe+=r.slice(ie,an).replace(z1,kg),Qe&&(B=!0,fe+=`' +
__e(`+Qe+`) +
'`),xt&&(K=!0,fe+=`';
`+xt+`;
__p += '`),$e&&(fe+=`' +
((__t = (`+$e+`)) == null ? '' : __t) +
'`),ie=an+We.length,We}),fe+=`';
`;var De=st.call(o,"variable")&&o.variable;if(!De)fe=`with (obj) {
`+fe+`
}
`;else if(ss.test(De))throw new Ve(f);fe=(K?fe.replace(ai,""):fe).replace(ci,"$1").replace(zt,"$1;"),fe="function("+(De||"obj")+`) {
`+(De?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(B?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fe+`return __p
}`;var Ge=Nc(function(){return nt(E,Te+"return "+fe).apply(n,z)});if(Ge.source=fe,au(Ge))throw Ge;return Ge}function Zy(r){return ot(r).toLowerCase()}function Jy(r){return ot(r).toUpperCase()}function Qy(r,o,c){if(r=ot(r),r&&(c||o===n))return Yf(r);if(!r||!(o=sn(o)))return r;var _=An(r),v=An(o),E=Ff(_,v),z=Vf(_,v)+1;return bi(_,E,z).join("")}function jy(r,o,c){if(r=ot(r),r&&(c||o===n))return r.slice(0,Uf(r)+1);if(!r||!(o=sn(o)))return r;var _=An(r),v=Vf(_,An(o))+1;return bi(_,0,v).join("")}function $y(r,o,c){if(r=ot(r),r&&(c||o===n))return r.replace(Ar,"");if(!r||!(o=sn(o)))return r;var _=An(r),v=Ff(_,An(o));return bi(_,v).join("")}function ew(r,o){var c=q,_=P;if(mt(o)){var v="separator"in o?o.separator:v;c="length"in o?xe(o.length):c,_="omission"in o?sn(o.omission):_}r=ot(r);var E=r.length;if(Ki(r)){var z=An(r);E=z.length}if(c>=E)return r;var B=c-Ui(_);if(B<1)return _;var K=z?bi(z,0,B).join(""):r.slice(0,B);if(v===n)return K+_;if(z&&(B+=K.length-B),cu(v)){if(r.slice(B).search(v)){var ie,re=K;for(v.global||(v=Ms(v.source,ot(yo.exec(v))+"g")),v.lastIndex=0;ie=v.exec(re);)var fe=ie.index;K=K.slice(0,fe===n?B:fe)}}else if(r.indexOf(sn(v),B)!=B){var we=K.lastIndexOf(v);we>-1&&(K=K.slice(0,we))}return K+_}function tw(r){return r=ot(r),r&&Gl.test(r)?r.replace(Cr,Og):r}var nw=ji(function(r,o,c){return r+(c?" ":"")+o.toUpperCase()}),gu=Ha("toUpperCase");function Ic(r,o,c){return r=ot(r),o=c?n:o,o===n?Eg(r)?Hg(r):_g(r):r.match(o)||[]}var Nc=Ze(function(r,o){try{return on(r,n,o)}catch(c){return au(c)?c:new Ve(c)}}),iw=jn(function(r,o){return yn(o,function(c){c=Yn(c),Jn(r,c,uu(r[c],r))}),r});function rw(r){var o=r==null?0:r.length,c=Re();return r=o?ht(r,function(_){if(typeof _[1]!="function")throw new wn(u);return[c(_[0]),_[1]]}):[],Ze(function(_){for(var v=-1;++v<o;){var E=r[v];if(on(E[0],this,_))return on(E[1],this,_)}})}function ow(r){return O0(vn(r,g))}function mu(r){return function(){return r}}function lw(r,o){return r==null||r!==r?o:r}var sw=La(),uw=La(!0);function en(r){return r}function _u(r){return ca(typeof r=="function"?r:vn(r,g))}function fw(r){return ha(vn(r,g))}function aw(r,o){return ga(r,vn(o,g))}var cw=Ze(function(r,o){return function(c){return Lr(c,r,o)}}),dw=Ze(function(r,o){return function(c){return Lr(r,c,o)}});function yu(r,o,c){var _=It(o),v=Xo(o,_);c==null&&!(mt(o)&&(v.length||!_.length))&&(c=o,o=r,r=this,v=Xo(o,It(o)));var E=!(mt(c)&&"chain"in c)||!!c.chain,z=ei(r);return yn(v,function(B){var K=o[B];r[B]=K,z&&(r.prototype[B]=function(){var ie=this.__chain__;if(E||ie){var re=r(this.__wrapped__),fe=re.__actions__=Qt(this.__actions__);return fe.push({func:K,args:arguments,thisArg:r}),re.__chain__=ie,re}return K.apply(r,hi([this.value()],arguments))})}),r}function hw(){return Lt._===this&&(Lt._=Bg),this}function wu(){}function gw(r){return r=xe(r),Ze(function(o){return ma(o,r)})}var mw=Zs(ht),_w=Zs(Rf),yw=Zs(vs);function Hc(r){return nu(r)?ps(Yn(r)):x0(r)}function ww(r){return function(o){return r==null?n:Ni(r,o)}}var bw=Da(),vw=Da(!0);function bu(){return[]}function vu(){return!1}function pw(){return{}}function Sw(){return""}function kw(){return!0}function Cw(r,o){if(r=xe(r),r<1||r>x)return[];var c=ce,_=Wt(r,ce);o=Re(o),r-=ce;for(var v=Cs(_,o);++c<r;)o(c);return v}function Ew(r){return qe(r)?ht(r,Yn):un(r)?[r]:Qt($a(ot(r)))}function Aw(r){var o=++Dg;return ot(r)+o}var Mw=qo(function(r,o){return r+o},0),Pw=Js("ceil"),Tw=qo(function(r,o){return r/o},1),Ow=Js("floor");function Iw(r){return r&&r.length?Bo(r,en,Ls):n}function Nw(r,o){return r&&r.length?Bo(r,Re(o,2),Ls):n}function Hw(r){return Bf(r,en)}function zw(r,o){return Bf(r,Re(o,2))}function Lw(r){return r&&r.length?Bo(r,en,Bs):n}function Rw(r,o){return r&&r.length?Bo(r,Re(o,2),Bs):n}var Dw=qo(function(r,o){return r*o},1),Ww=Js("round"),Bw=qo(function(r,o){return r-o},0);function Xw(r){return r&&r.length?ks(r,en):0}function Yw(r,o){return r&&r.length?ks(r,Re(o,2)):0}return k.after=f2,k.ary=ac,k.assign=J2,k.assignIn=Cc,k.assignInWith=ol,k.assignWith=Q2,k.at=j2,k.before=cc,k.bind=uu,k.bindAll=iw,k.bindKey=dc,k.castArray=p2,k.chain=sc,k.chunk=Om,k.compact=Im,k.concat=Nm,k.cond=rw,k.conforms=ow,k.constant=mu,k.countBy=X_,k.create=$2,k.curry=hc,k.curryRight=gc,k.debounce=mc,k.defaults=ey,k.defaultsDeep=ty,k.defer=a2,k.delay=c2,k.difference=Hm,k.differenceBy=zm,k.differenceWith=Lm,k.drop=Rm,k.dropRight=Dm,k.dropRightWhile=Wm,k.dropWhile=Bm,k.fill=Xm,k.filter=F_,k.flatMap=U_,k.flatMapDeep=q_,k.flatMapDepth=x_,k.flatten=ic,k.flattenDeep=Ym,k.flattenDepth=Fm,k.flip=d2,k.flow=sw,k.flowRight=uw,k.fromPairs=Vm,k.functions=uy,k.functionsIn=fy,k.groupBy=G_,k.initial=Um,k.intersection=qm,k.intersectionBy=xm,k.intersectionWith=Gm,k.invert=cy,k.invertBy=dy,k.invokeMap=J_,k.iteratee=_u,k.keyBy=Q_,k.keys=It,k.keysIn=$t,k.map=$o,k.mapKeys=gy,k.mapValues=my,k.matches=fw,k.matchesProperty=aw,k.memoize=tl,k.merge=_y,k.mergeWith=Ec,k.method=cw,k.methodOf=dw,k.mixin=yu,k.negate=nl,k.nthArg=gw,k.omit=yy,k.omitBy=wy,k.once=h2,k.orderBy=j_,k.over=mw,k.overArgs=g2,k.overEvery=_w,k.overSome=yw,k.partial=fu,k.partialRight=_c,k.partition=$_,k.pick=by,k.pickBy=Ac,k.property=Hc,k.propertyOf=ww,k.pull=jm,k.pullAll=oc,k.pullAllBy=$m,k.pullAllWith=e_,k.pullAt=t_,k.range=bw,k.rangeRight=vw,k.rearg=m2,k.reject=n2,k.remove=n_,k.rest=_2,k.reverse=lu,k.sampleSize=r2,k.set=py,k.setWith=Sy,k.shuffle=o2,k.slice=i_,k.sortBy=u2,k.sortedUniq=a_,k.sortedUniqBy=c_,k.split=Uy,k.spread=y2,k.tail=d_,k.take=h_,k.takeRight=g_,k.takeRightWhile=m_,k.takeWhile=__,k.tap=I_,k.throttle=w2,k.thru=jo,k.toArray=pc,k.toPairs=Mc,k.toPairsIn=Pc,k.toPath=Ew,k.toPlainObject=kc,k.transform=ky,k.unary=b2,k.union=y_,k.unionBy=w_,k.unionWith=b_,k.uniq=v_,k.uniqBy=p_,k.uniqWith=S_,k.unset=Cy,k.unzip=su,k.unzipWith=lc,k.update=Ey,k.updateWith=Ay,k.values=tr,k.valuesIn=My,k.without=k_,k.words=Ic,k.wrap=v2,k.xor=C_,k.xorBy=E_,k.xorWith=A_,k.zip=M_,k.zipObject=P_,k.zipObjectDeep=T_,k.zipWith=O_,k.entries=Mc,k.entriesIn=Pc,k.extend=Cc,k.extendWith=ol,yu(k,k),k.add=Mw,k.attempt=Nc,k.camelCase=Iy,k.capitalize=Tc,k.ceil=Pw,k.clamp=Py,k.clone=S2,k.cloneDeep=C2,k.cloneDeepWith=E2,k.cloneWith=k2,k.conformsTo=A2,k.deburr=Oc,k.defaultTo=lw,k.divide=Tw,k.endsWith=Ny,k.eq=Pn,k.escape=Hy,k.escapeRegExp=zy,k.every=Y_,k.find=V_,k.findIndex=tc,k.findKey=ny,k.findLast=K_,k.findLastIndex=nc,k.findLastKey=iy,k.floor=Ow,k.forEach=uc,k.forEachRight=fc,k.forIn=ry,k.forInRight=oy,k.forOwn=ly,k.forOwnRight=sy,k.get=du,k.gt=M2,k.gte=P2,k.has=ay,k.hasIn=hu,k.head=rc,k.identity=en,k.includes=Z_,k.indexOf=Km,k.inRange=Ty,k.invoke=hy,k.isArguments=Li,k.isArray=qe,k.isArrayBuffer=T2,k.isArrayLike=jt,k.isArrayLikeObject=St,k.isBoolean=O2,k.isBuffer=vi,k.isDate=I2,k.isElement=N2,k.isEmpty=H2,k.isEqual=z2,k.isEqualWith=L2,k.isError=au,k.isFinite=R2,k.isFunction=ei,k.isInteger=yc,k.isLength=il,k.isMap=wc,k.isMatch=D2,k.isMatchWith=W2,k.isNaN=B2,k.isNative=X2,k.isNil=F2,k.isNull=Y2,k.isNumber=bc,k.isObject=mt,k.isObjectLike=pt,k.isPlainObject=Yr,k.isRegExp=cu,k.isSafeInteger=V2,k.isSet=vc,k.isString=rl,k.isSymbol=un,k.isTypedArray=er,k.isUndefined=K2,k.isWeakMap=U2,k.isWeakSet=q2,k.join=Zm,k.kebabCase=Ly,k.last=Sn,k.lastIndexOf=Jm,k.lowerCase=Ry,k.lowerFirst=Dy,k.lt=x2,k.lte=G2,k.max=Iw,k.maxBy=Nw,k.mean=Hw,k.meanBy=zw,k.min=Lw,k.minBy=Rw,k.stubArray=bu,k.stubFalse=vu,k.stubObject=pw,k.stubString=Sw,k.stubTrue=kw,k.multiply=Dw,k.nth=Qm,k.noConflict=hw,k.noop=wu,k.now=el,k.pad=Wy,k.padEnd=By,k.padStart=Xy,k.parseInt=Yy,k.random=Oy,k.reduce=e2,k.reduceRight=t2,k.repeat=Fy,k.replace=Vy,k.result=vy,k.round=Ww,k.runInContext=F,k.sample=i2,k.size=l2,k.snakeCase=Ky,k.some=s2,k.sortedIndex=r_,k.sortedIndexBy=o_,k.sortedIndexOf=l_,k.sortedLastIndex=s_,k.sortedLastIndexBy=u_,k.sortedLastIndexOf=f_,k.startCase=qy,k.startsWith=xy,k.subtract=Bw,k.sum=Xw,k.sumBy=Yw,k.template=Gy,k.times=Cw,k.toFinite=ti,k.toInteger=xe,k.toLength=Sc,k.toLower=Zy,k.toNumber=kn,k.toSafeInteger=Z2,k.toString=ot,k.toUpper=Jy,k.trim=Qy,k.trimEnd=jy,k.trimStart=$y,k.truncate=ew,k.unescape=tw,k.uniqueId=Aw,k.upperCase=nw,k.upperFirst=gu,k.each=uc,k.eachRight=fc,k.first=rc,yu(k,function(){var r={};return Bn(k,function(o,c){st.call(k.prototype,c)||(r[c]=o)}),r}(),{chain:!1}),k.VERSION=i,yn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){k[r].placeholder=k}),yn(["drop","take"],function(r,o){je.prototype[r]=function(c){c=c===n?1:Pt(xe(c),0);var _=this.__filtered__&&!o?new je(this):this.clone();return _.__filtered__?_.__takeCount__=Wt(c,_.__takeCount__):_.__views__.push({size:Wt(c,ce),type:r+(_.__dir__<0?"Right":"")}),_},je.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),yn(["filter","map","takeWhile"],function(r,o){var c=o+1,_=c==O||c==Y;je.prototype[r]=function(v){var E=this.clone();return E.__iteratees__.push({iteratee:Re(v,3),type:c}),E.__filtered__=E.__filtered__||_,E}}),yn(["head","last"],function(r,o){var c="take"+(o?"Right":"");je.prototype[r]=function(){return this[c](1).value()[0]}}),yn(["initial","tail"],function(r,o){var c="drop"+(o?"":"Right");je.prototype[r]=function(){return this.__filtered__?new je(this):this[c](1)}}),je.prototype.compact=function(){return this.filter(en)},je.prototype.find=function(r){return this.filter(r).head()},je.prototype.findLast=function(r){return this.reverse().find(r)},je.prototype.invokeMap=Ze(function(r,o){return typeof r=="function"?new je(this):this.map(function(c){return Lr(c,r,o)})}),je.prototype.reject=function(r){return this.filter(nl(Re(r)))},je.prototype.slice=function(r,o){r=xe(r);var c=this;return c.__filtered__&&(r>0||o<0)?new je(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),o!==n&&(o=xe(o),c=o<0?c.dropRight(-o):c.take(o-r)),c)},je.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},je.prototype.toArray=function(){return this.take(ce)},Bn(je.prototype,function(r,o){var c=/^(?:filter|find|map|reject)|While$/.test(o),_=/^(?:head|last)$/.test(o),v=k[_?"take"+(o=="last"?"Right":""):o],E=_||/^find/.test(o);v&&(k.prototype[o]=function(){var z=this.__wrapped__,B=_?[1]:arguments,K=z instanceof je,ie=B[0],re=K||qe(z),fe=function(Qe){var $e=v.apply(k,hi([Qe],B));return _&&we?$e[0]:$e};re&&c&&typeof ie=="function"&&ie.length!=1&&(K=re=!1);var we=this.__chain__,Te=!!this.__actions__.length,De=E&&!we,Ge=K&&!Te;if(!E&&re){z=Ge?z:new je(this);var We=r.apply(z,B);return We.__actions__.push({func:jo,args:[fe],thisArg:n}),new bn(We,we)}return De&&Ge?r.apply(this,B):(We=this.thru(fe),De?_?We.value()[0]:We.value():We)})}),yn(["pop","push","shift","sort","splice","unshift"],function(r){var o=Co[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",_=/^(?:pop|shift)$/.test(r);k.prototype[r]=function(){var v=arguments;if(_&&!this.__chain__){var E=this.value();return o.apply(qe(E)?E:[],v)}return this[c](function(z){return o.apply(qe(z)?z:[],v)})}}),Bn(je.prototype,function(r,o){var c=k[o];if(c){var _=c.name+"";st.call(Zi,_)||(Zi[_]=[]),Zi[_].push({name:o,func:c})}}),Zi[Uo(n,w).name]=[{name:"wrapper",func:n}],je.prototype.clone=t0,je.prototype.reverse=n0,je.prototype.value=i0,k.prototype.at=N_,k.prototype.chain=H_,k.prototype.commit=z_,k.prototype.next=L_,k.prototype.plant=D_,k.prototype.reverse=W_,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=B_,k.prototype.first=k.prototype.head,Pr&&(k.prototype[Pr]=R_),k},qi=zg();Mi?((Mi.exports=qi)._=qi,_s._=qi):Lt._=qi}).call(Kr)})(Rl,Rl.exports);var _S=Rl.exports;const fh=Y7(_S);function yS(t,e,n){const i=t.slice();return i[18]=e[n][0],i[19]=e[n][1],i}function wS(t,e,n){const i=t.slice();return i[18]=e[n][0],i[19]=e[n][1],i}function bS(t,e){let n,i,l;return i=new T1({props:{id:e[18],type:yr.ArrowClosed}}),{key:t,first:null,c(){n=bt(),Se(i.$$.fragment),this.first=n},m(s,u){j(s,n,u),ve(i,s,u),l=!0},p:Oe,i(s){l||($(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function vS(t,e){let n,i,l;return i=new T1({props:{id:e[18]+"line",type:yr.ArrowClosed}}),{key:t,first:null,c(){n=bt(),Se(i.$$.fragment),this.first=n},m(s,u){j(s,n,u),ve(i,s,u),l=!0},p:Oe,i(s){l||($(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function pS(t){let e;return{c(){e=tt("⛶")},m(n,i){j(n,e,i)},d(n){n&&Z(e)}}}function SS(t){let e;return{c(){e=tt("🌙")},m(n,i){j(n,e,i)},d(n){n&&Z(e)}}}function kS(t){let e,n,i,l;return e=new pr({props:{$$slots:{default:[pS]},$$scope:{ctx:t}}}),e.$on("click",t[11]),i=new pr({props:{$$slots:{default:[SS]},$$scope:{ctx:t}}}),i.$on("click",t[12]),{c(){Se(e.$$.fragment),n=ke(),Se(i.$$.fragment)},m(s,u){ve(e,s,u),j(s,n,u),ve(i,s,u),l=!0},p(s,u){const f={};u&16777216&&(f.$$scope={dirty:u,ctx:s}),e.$set(f);const a={};u&16777216&&(a.$$scope={dirty:u,ctx:s}),i.$set(a)},i(s){l||($(e.$$.fragment,s),$(i.$$.fragment,s),l=!0)},o(s){te(e.$$.fragment,s),te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(e,s),pe(i,s)}}}function CS(t){let e,n,i;return{c(){e=_e("a"),e.textContent="GitHub",n=_e("br"),i=tt("© 2024 Craig Anderson"),C(e,"href","https://github.com/theonlytechnohead/patchcanvas")},m(l,s){j(l,e,s),j(l,n,s),j(l,i,s)},p:Oe,d(l){l&&(Z(e),Z(n),Z(i))}}}function ES(t){let e=[],n=new Map,i,l=[],s=new Map,u,f,a,d,h,g,m,y,b,p,A,w=At(Ll);const N=M=>M[19][1];for(let M=0;M<w.length;M+=1){let I=wS(t,w,M),H=N(I);n.set(H,e[M]=bS(H,I))}let S=At(Ll);const T=M=>M[19][1];for(let M=0;M<S.length;M+=1){let I=yS(t,S,M),H=T(I);s.set(H,l[M]=vS(H,I))}return f=new e7({props:{variant:li.Dots}}),d=new a7({props:{position:"top-right",pannable:!1,zoomable:!1,width:visualViewport!=null&&visualViewport.width?(visualViewport==null?void 0:visualViewport.width)/10:void 0,height:visualViewport!=null&&visualViewport.height?(visualViewport==null?void 0:visualViewport.height)/10:void 0}}),g=new B8({props:{position:"bottom-right",showFitView:!1,showLock:!1,$$slots:{default:[kS]},$$scope:{ctx:t}}}),y=new vr({props:{position:"bottom-left",$$slots:{default:[CS]},$$scope:{ctx:t}}}),p=new j7({}),{c(){for(let M=0;M<e.length;M+=1)e[M].c();i=ke();for(let M=0;M<l.length;M+=1)l[M].c();u=ke(),Se(f.$$.fragment),a=ke(),Se(d.$$.fragment),h=ke(),Se(g.$$.fragment),m=ke(),Se(y.$$.fragment),b=ke(),Se(p.$$.fragment)},m(M,I){for(let H=0;H<e.length;H+=1)e[H]&&e[H].m(M,I);j(M,i,I);for(let H=0;H<l.length;H+=1)l[H]&&l[H].m(M,I);j(M,u,I),ve(f,M,I),j(M,a,I),ve(d,M,I),j(M,h,I),ve(g,M,I),j(M,m,I),ve(y,M,I),j(M,b,I),ve(p,M,I),A=!0},p(M,I){const H={};I&16777217&&(H.$$scope={dirty:I,ctx:M}),g.$set(H);const L={};I&16777216&&(L.$$scope={dirty:I,ctx:M}),y.$set(L)},i(M){if(!A){for(let I=0;I<w.length;I+=1)$(e[I]);for(let I=0;I<S.length;I+=1)$(l[I]);$(f.$$.fragment,M),$(d.$$.fragment,M),$(g.$$.fragment,M),$(y.$$.fragment,M),$(p.$$.fragment,M),A=!0}},o(M){for(let I=0;I<e.length;I+=1)te(e[I]);for(let I=0;I<l.length;I+=1)te(l[I]);te(f.$$.fragment,M),te(d.$$.fragment,M),te(g.$$.fragment,M),te(y.$$.fragment,M),te(p.$$.fragment,M),A=!1},d(M){M&&(Z(i),Z(u),Z(a),Z(h),Z(m),Z(b));for(let I=0;I<e.length;I+=1)e[I].d(M);for(let I=0;I<l.length;I+=1)l[I].d(M);pe(f,M),pe(d,M),pe(g,M),pe(y,M),pe(p,M)}}}function AS(t){let e,n;return e=new hS({props:{slot:"connectionLine"}}),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p:Oe,i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function MS(t){let e,n;return e=new c8({props:{nodes:t[3],nodeTypes:t[1],edges:t[4],edgeTypes:t[2],defaultEdgeOptions:t[5],isValidConnection:PS,snapGrid:[25,25],colorMode:t[0].theme,fitView:!0,fitViewOptions:t[6],minZoom:.75,maxZoom:10,onlyRenderVisibleElements:!0,attributionPosition:"top-right",deleteKey:"Delete",$$slots:{connectionLine:[AS],default:[ES]},$$scope:{ctx:t}}}),e.$on("dragover",t[7]),e.$on("drop",t[8]),e.$on("nodeclick",t[13]),e.$on("edgeclick",t[14]),{c(){Se(e.$$.fragment)},m(i,l){ve(e,i,l),n=!0},p(i,[l]){const s={};l&1&&(s.colorMode=i[0].theme),l&16777217&&(s.$$scope={dirty:l,ctx:i}),e.$set(s)},i(i){n||($(e.$$.fragment,i),n=!0)},o(i){te(e.$$.fragment,i),n=!1},d(i){pe(e,i)}}}function PS(t){return t.sourceHandle===t.targetHandle}function TS(t){var e;document.fullscreenElement||(e=document.querySelector('[media="screen"]'))==null||e.setAttribute("media","print")}function OS(t,e,n){var M;let i,l,s,u;he(t,zn,I=>n(15,s=I)),he(t,Hu,I=>n(0,u=I)),s.version!=Sl?(console.log("Version mismatch: "+s.version+" != "+Sl),s.nodes.length===In.length&&s.edges.length===Gu.length&&s.nodes.every((I,H,L)=>fh.isMatch(I,In[H]))&&s.edges.every((I,H,L)=>fh.isMatch(I,Gu[H]))?(console.log("Still default, updating without confirmation"),setTimeout(()=>{M1()},0)):(console.log("Edited, prompt for confirmation"),confirm(`Your canvas is out of date
Do you want to update to the latest version?
(v${s.version} -> v${Sl})`))):console.log("Using latest save version: "+s.version),document.documentElement.setAttribute("data-theme",u.theme),(M=document.querySelector('meta[name="color-scheme"]'))==null||M.setAttribute("content",u.theme);const f={default:uS},a={connection:tS},d=Ie(JSON.parse(JSON.stringify(se(zn).nodes)));he(t,d,I=>n(9,i=I));const h=Ie(JSON.parse(JSON.stringify(se(zn).edges)));he(t,h,I=>n(10,l=I));const g={animated:!1,type:"connection",class:""},m={padding:1,duration:1e3},{screenToFlowPosition:y}=g7(),b=I=>{if(I.preventDefault(),I.dataTransfer){const H=document.elementFromPoint(I.clientX,I.clientY);let L="";I.dataTransfer.types[0]==="application/patchcanvasnode"?L=".svelte-flow__pane, .svelte-flow__edge, .svelte-flow__node.group":I.dataTransfer.types[0].includes("patchcanvasprotocol/")?L=".drop-target":I.dataTransfer.types[0]==="application/patchcanvaseraser"&&(L=".svelte-flow__handle"),H!=null&&H.matches(L)?I.dataTransfer.dropEffect="move":I.dataTransfer.dropEffect="none"}},p=I=>{if(I.preventDefault(),!I.dataTransfer)return null;if(I.dataTransfer.types[0]==="application/patchcanvasnode"){const H=JSON.parse(I.dataTransfer.getData("application/patchcanvasnode"));A(H,I.clientX,I.clientY)}};function A(I,H,L){const W=y({x:H,y:L}),q={id:crypto.randomUUID().toString(),type:"default",position:W,connectable:!I.group,data:{label:"Unnamed "+(I.group?"group":"node"),group:I.group??!1,inputs:I.inputs??[],outputs:I.outputs??[]},class:I.group?"group":void 0,dragHandle:".drag-dots",origin:[.5,0]};i.push(q),i.sort((P,X)=>P.data.group?X.data.group?0:-1:X.data.group?1:0),d.set(i)}const w=function(){var I;(I=document.querySelector('[media="print"]'))==null||I.setAttribute("media","screen"),document.addEventListener("fullscreenchange",TS),document.documentElement.requestFullscreen()},N=()=>{var I;u.theme==="dark"?Cn(Hu,u.theme="light",u):Cn(Hu,u.theme="dark",u),document.documentElement.setAttribute("data-theme",u.theme),(I=document.querySelector('meta[name="color-scheme"]'))==null||I.setAttribute("content",u.theme)},S=I=>console.log("on node click",I.detail.node),T=I=>console.log("on edge click: ",I.detail.edge);return t.$$.update=()=>{t.$$.dirty&1536&&(Cn(zn,s.nodes=i,s),Cn(zn,s.edges=l,s))},[u,f,a,d,h,g,m,b,p,i,l,w,N,S,T]}class IS extends ze{constructor(e){super(),He(this,e,OS,MS,Le,{})}}function ah(t,e,n){const i=t.slice();return i[1]=e[n],i}function ch(t,e){let n,i,l;return i=new IS({}),{key:t,first:null,c(){n=bt(),Se(i.$$.fragment),this.first=n},m(s,u){j(s,n,u),ve(i,s,u),l=!0},p(s,u){},i(s){l||($(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(n),pe(i,s)}}}function NS(t){let e=[],n=new Map,i,l,s=At(t[0].uniqueFlow);const u=f=>f[1];for(let f=0;f<s.length;f+=1){let a=ah(t,s,f),d=u(a);n.set(d,e[f]=ch(d))}return{c(){for(let f=0;f<e.length;f+=1)e[f].c();i=bt()},m(f,a){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(f,a);j(f,i,a),l=!0},p(f,a){a&1&&(s=At(f[0].uniqueFlow),yt(),e=Ei(e,a,u,0,f,s,n,i.parentNode,Bi,ch,i,ah),wt())},i(f){if(!l){for(let a=0;a<s.length;a+=1)$(e[a]);l=!0}},o(f){for(let a=0;a<e.length;a+=1)te(e[a]);l=!1},d(f){f&&Z(i);for(let a=0;a<e.length;a+=1)e[a].d(f)}}}function HS(t){let e,n,i,l;return i=new g8({props:{$$slots:{default:[NS]},$$scope:{ctx:t}}}),{c(){e=_e("main"),n=_e("div"),Se(i.$$.fragment),Be(n,"height","100%")},m(s,u){j(s,e,u),ue(e,n),ve(i,n,null),l=!0},p(s,[u]){const f={};u&17&&(f.$$scope={dirty:u,ctx:s}),i.$set(f)},i(s){l||($(i.$$.fragment,s),l=!0)},o(s){te(i.$$.fragment,s),l=!1},d(s){s&&Z(e),pe(i)}}}function zS(t,e,n){let i;return he(t,zn,l=>n(0,i=l)),[i]}class LS extends ze{constructor(e){super(),He(this,e,zS,HS,Le,{})}}new LS({target:document.body});
